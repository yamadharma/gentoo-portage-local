diff -Nur hal/build-tree/hal-0.5.8.1/hald/linux/addons/addon-cpufreq.c hal.new/build-tree/hal-0.5.8.1/hald/linux/addons/addon-cpufreq.c
--- hal-0.5.8.1/hald/linux/addons/addon-cpufreq.c	2006-09-19 22:23:25.000000000 +0200
+++ hal-0.5.8.1/hald/linux/addons/addon-cpufreq.c	2007-02-20 09:27:27.000000000 +0100
@@ -186,6 +186,9 @@
 
 	l = read_line_str_split(filename, delim);
 
+        if (!l)
+                return FALSE;
+
 	for (i = 0; l[i] != NULL; i++) {
 		int value = atoi(l[i]);
 		*list = g_slist_append(*list, GINT_TO_POINTER(value));
