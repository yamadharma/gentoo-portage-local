diff -Naur work_orig/o/jdk/make/sun/splashscreen/FILES_c.gmk work/o/jdk/make/sun/splashscreen/FILES_c.gmk
--- work_orig/o/jdk/make/sun/splashscreen/FILES_c.gmk	2008-01-12 19:59:44.000000000 -0500
+++ work/o/jdk/make/sun/splashscreen/FILES_c.gmk	2008-01-12 20:02:52.000000000 -0500
@@ -48,8 +48,10 @@
 	pngwutil.c \
 	dgif_lib.c \
 	gif_err.c \
-	gifalloc.c \
-	jcomapi.c \
+	gifalloc.c 
+
+ifneq ($(EXTERNAL_JPEG), true)
+FILES_c += jcomapi.c \
 	jdapimin.c \
 	jdapistd.c \
 	jdcoefct.c \
@@ -93,6 +95,7 @@
 	jfdctflt.c \
 	jfdctfst.c \
 	jfdctint.c
+endif
 
 ifneq ($(EXTERNAL_ZLIB),true)
 FILES_c += compress.c \
diff -Naur work_orig/o/jdk/make/sun/splashscreen/Makefile work/o/jdk/make/sun/splashscreen/Makefile
--- work_orig/o/jdk/make/sun/splashscreen/Makefile	2008-01-12 19:59:44.000000000 -0500
+++ work/o/jdk/make/sun/splashscreen/Makefile	2008-01-12 20:03:49.000000000 -0500
@@ -83,7 +83,12 @@
 vpath %.c   $(PLATFORM_SRC)/native/$(PKGDIR)/splashscreen
 
 CPPFLAGS += -I$(PLATFORM_SRC)/native/$(PKGDIR)/splashscreen -I$(SHARE_SRC)/native/$(PKGDIR)/splashscreen
-CPPFLAGS += -I$(SHARE_SRC)/native/$(PKGDIR)/image/jpeg
+
+ifeq ($(EXTERNAL_JPEG), true)
+  OTHER_LDLIBS += -ljpeg
+else
+  CPPFLAGS += -I$(SHARE_SRC)/native/$(PKGDIR)/image/jpeg
+endif
 
 ifeq ($(EXTERNAL_ZLIB), true)
   OTHER_LDLIBS += -lz
diff -Naur work_orig/o/jdk/src/share/native/sun/awt/splashscreen/splashscreen_jpeg.c work/o/jdk/src/share/native/sun/awt/splashscreen/splashscreen_jpeg.c
--- work_orig/o/jdk/src/share/native/sun/awt/splashscreen/splashscreen_jpeg.c	2008-01-12 19:59:26.000000000 -0500
+++ work/o/jdk/src/share/native/sun/awt/splashscreen/splashscreen_jpeg.c	2008-01-12 20:04:32.000000000 -0500
@@ -25,7 +25,6 @@
 
 #include "splashscreen_impl.h"
 
-#include "jinclude.h"
 #include "jpeglib.h"
 #include "jerror.h"
 
@@ -107,11 +106,11 @@
     if (cinfo->src == NULL) {   /* first time for this JPEG object? */
         cinfo->src = (struct jpeg_source_mgr *)
             (*cinfo->mem->alloc_small) ((j_common_ptr) cinfo,
-            JPOOL_PERMANENT, SIZEOF(stream_source_mgr));
+            JPOOL_PERMANENT, sizeof(stream_source_mgr));
         src = (stream_src_ptr) cinfo->src;
         src->buffer = (JOCTET *)
             (*cinfo->mem->alloc_small) ((j_common_ptr) cinfo,
-            JPOOL_PERMANENT, INPUT_BUF_SIZE * SIZEOF(JOCTET));
+            JPOOL_PERMANENT, INPUT_BUF_SIZE * sizeof(JOCTET));
     }
 
     src = (stream_src_ptr) cinfo->src;
