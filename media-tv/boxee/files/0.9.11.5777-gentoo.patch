diff -uNr configure.in configure.in
--- configure.in	2008-10-31 02:29:00.000000000 +1100
+++ configure.in	2009-04-10 09:19:50.867390415 +1000
@@ -340,6 +340,7 @@
                 [tools/XBMCTex/Makefile]
                 [xbmc/cores/dvdplayer/Codecs/Makefile]
                 [xbmc/lib/cximage-6.0/Makefile]
+                [xbmc/lib/cximage-6.0/Makefile.include]
                 [xbmc/cores/paplayer/MACDll/Makefile]
                 [xbmc/cores/paplayer/MIDCodec/Makefile]
 		[xbmc/cores/paplayer/AACCodec/Makefile]
diff -uNr xbmc/lib/cximage-6.0/Makefile.include.in xbmc/lib/cximage-6.0/Makefile.include.in
--- xbmc/lib/cximage-6.0/Makefile.include.in	1970-01-01 10:00:00.000000000 +1000
+++ xbmc/lib/cximage-6.0/Makefile.include.in	2009-04-10 09:28:20.956262359 +1000
@@ -0,0 +1,13 @@
+ARCH=@ARCH@
+CFLAGS+=-O2
+
+ifeq ($(ARCH), x86_64-linux)
+    CFLAGS+=-fPIC
+    CXXFLAGS+=$(CFLAGS)
+endif
+
+ifeq ($(ARCH), osx)
+   CFLAGS+= -fPIC -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-version-min=10.4 -I/opt/local/include -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64 -DXBMC -DNO_LCMS -DNO_JPEG
+   CXXFLAGS+= $(CFLAGS)
+endif
+
diff -uNr xbmc/lib/libPython/Python/Modules/readline.c xbmc/lib/libPython/Python/Modules/readline.c
--- xbmc/lib/libPython/Python/Modules/readline.c	2008-07-09 18:03:25.000000000 +1000
+++ xbmc/lib/libPython/Python/Modules/readline.c	2009-04-10 14:44:39.007262083 +1000
@@ -36,6 +36,8 @@
 #ifdef HAVE_RL_COMPLETION_MATCHES
 #define completion_matches(x, y) \
 	rl_completion_matches((x), ((rl_compentry_func_t *)(y)))
+#else
+extern char **completion_matches(char *, rl_compentry_func_t *);
 #endif
 
 
@@ -634,7 +636,7 @@
 /* C function to call the Python completer. */
 
 static char *
-on_completion(char *text, int state)
+on_completion(const char *text, int state)
 {
 	char *result = NULL;
 	if (completer != NULL) {
