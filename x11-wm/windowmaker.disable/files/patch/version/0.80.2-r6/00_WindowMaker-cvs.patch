diff -Naur WindowMaker-0.80.2/autogen.sh wm-xft2/autogen.sh
--- WindowMaker-0.80.2/autogen.sh	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/autogen.sh	2003-10-22 14:08:34.000000000 +0400
@@ -0,0 +1,58 @@
+#!/bin/sh
+# Run this to generate all the initial makefiles, etc.
+
+DIE=0
+
+echo "Generating configuration files for WindowMaker, please wait...."
+
+(autoconf --version) < /dev/null > /dev/null 2>&1 || {
+	echo
+        echo "You must have autoconf installed to compile WindowMaker."
+        echo "Download the appropriate package for your distribution,"
+        echo "or get the source tarball at ftp://ftp.gnu.org/pub/gnu/"
+        DIE=1
+}
+
+(libtool --version) < /dev/null > /dev/null 2>&1 || {
+        echo
+        echo "You must have libtool installed to compile WindowMaker."
+        echo "Download the appropriate package for your distribution,"
+        echo "or get the source tarball at ftp://ftp.gnu.org/pub/gnu/"
+        DIE=1
+}
+
+(automake --version) < /dev/null > /dev/null 2>&1 || {
+        echo
+        echo "You must have automake installed to compile WindowMaker."
+        echo "Download the appropriate package for your distribution,"
+        echo "or get the source tarball at ftp://ftp.gnu.org/pub/gnu/"
+        DIE=1
+}
+
+if test "$DIE" -eq 1; then
+        exit 1
+fi
+
+echo "  libtoolize --copy --force --automake"
+libtoolize --copy --force --automake
+echo "  aclocal -I . $ACLOCAL_FLAGS"
+aclocal -I . $ACLOCAL_FLAGS
+echo "  autoheader"
+autoheader
+echo "  automake --add-missing --gnu --include-deps"
+automake --add-missing --gnu --include-deps
+echo "  autoconf"
+autoconf
+
+if [ -x config.status -a -z "$*" ]; then
+  ./config.status --recheck
+else
+  if test -z "$*"; then
+    echo "I am going to run ./configure with no arguments - if you wish "
+    echo "to pass any to it, please specify them on the $0 command line."
+    echo "If you do not wish to run ./configure, press Ctrl-C now."
+    trap 'echo "configure aborted" ; exit 0' 1 2 15
+    sleep 1
+  fi
+  ./configure "$@"
+fi
diff -Naur WindowMaker-0.80.2/ChangeLog wm-xft2/ChangeLog
--- WindowMaker-0.80.2/ChangeLog	2002-11-08 18:36:33.000000000 +0300
+++ wm-xft2/ChangeLog	2003-10-22 14:29:40.000000000 +0400
@@ -1,8 +1,123 @@
+Changes since version 0.80.2:
+.............................
+
+- Some updates to WINGs WMConnection. See WINGs/ChangeLog for details.
+- Fixed empty window list menu, if the window list menu was launched through
+  the root menu (sent by "Marc-Christian Petersen" <m.c.p@wolk-project.de>)
+- Fixed dock's menu mapping position when dock is on the right side.
+- Map clip's menu so that it never gets out of screen on the left or the right.
+- Patch to add binary mode on opening files (needed for Windows with Cygwin)
+  (sent by luke <luke@posh.optushome.com.au>)
+- Updated French translations (Antoine Hulin <antoine@origan.fdn.org>)
+- Removed Hermes lib dependency in wrlib
+- Put back asm/MMX code in wrlib
+- Updated Russian locale files ("Andrew W. Nosenko" <awn@bcs.zp.ua>)
+- API change in WINGs for WMDraw*String(). Details in WINGs/Changelog
+- Removed obsoleted acconfig.h and implemented its functionality using
+  AC_DEFINE and AC_DEFINE_UNQUOTED as autoconf 2.5x recommends.
+  This will definitely enforce the need to use autoconf 2.5x
+- Added Xft support to WINGs, for rendering antialiased fonts with 
+  transparency. Details in WINGs/ChangeLog.
+- Fixed problem with long, preset workspace names (Wanderlei Antonio Cavassin 
+  <cavassin@conectiva.com.br>)
+- Added kinput2 bug workaround to stock WMWindowAttributes (Seiichi SATO 
+  <sato@cvs-net.co.jp>)
+- Added Belarusian translation (Ihar Viarheichyk <iverg@mail.ru>)
+- Fixed wrlib not to load braindead images with 0 sized width or height
+- Removed double no-position-display when cycling position display types
+  with Shift key while moving windows.
+- Changed the default position display while moving a window to 'Center'.
+- Better outline when drawing balloons.
+- Fixed wrlib to not accept too large images (fixes buffer overflow)
+- Patched FAQ (David Coe <davidc@debian.org>)
+- Fixed bug with resizebars appearing out of nothing when reloading configs
+- Fixed sloppy focus bug (Pawel S. Veselov <Pawel.Veselov@Sun.COM>)
+- Applied Xinerama patch (after fixes) from (Peter Zijlstra
+  <a.p.zijlstra@chello.nl>)
+- Added switch to enable/disable antialiased fonts in WPrefs's Expert Settings
+  panel. (Temporary until the Font Settings panel in WPrefs is finished).
+- Added a check that only %d is used in a font specification in WMGLOBAL and at
+  most once for each font in a fontset (eliminates a possible security exploit)
+- Added fontpanel callback
+- Fixed focus handling for windows that set WM_HINTS.take_focus = False.
+- Fixed a problem in the stacking code which could lead to segmentation faults
+  (Jeff Teunissen <deek@d2dc.net>)
+- Fixed a crashing bug in the menu code with modal panels involved.
+- Fixed incorrect focusing of application's windows after an unhide (sometimes
+  the incorrect window got focus instead of the apps's last focused window)
+- Unshade application's shaded windows when Dbl-MiddleClick-ing its appicon.
+  (this is to be consistent with deminiaturizing application's miniwindows
+  which also happens in this case, since shading is a form of miniaturization)
+- Fixed bug with tpixmap from previous xinerama patch (reported by g0sh)
+- Fixed edge resistance and move/resize frame drawing for borderless windows
+- Fixed wrong display position for the move/resize widgets after xinerama
+  patch (Peter Zijlstra <a.p.zijlstra@chello.nl>)
+- Fixed bug with cursor locked in drag mode after Alt-dragging a window
+- Added Catalan translation (Ernest Adrogué <eadrogue@gmx.net>)
+- Fixed a bug with deminiaturizing windows when the application is hidden and
+  the miniaturized window is selected from the window list menu
+- Fixed a bug with not showing shaded window frames when the application is
+  hidden and another window belonging to the app is selected in the window
+  list menu
+- Autoarrange icons after unhiding an application that has miniaturized
+  windows, else they may cover other icons which are now in the positions
+  they have occupied before hiding
+- Fixed Clip's workspace menu mapping to be consistent with the others
+- Fixed bug in wmsetbg that caused scale and maxscale to both do maxscale
+  (Alexey Voinov <voins@voins.program.ru>)
+- Fixed bug with scrolling menus introduced by the xinerama patch.
+- Fixed bug that could cause SIGSEGV by accessing beyond the end of text in
+  a WINGs textfield widget.
+- Fixed small memory leak in WINGs' font panel code.
+- Fixed memory leak in WINGs' file panel code.
+- Updated Bulgarian translations (Anton Zinoviev <zinoviev@debian.org>)
+- Fixed a bug in WINGs' hashtable which free'd the wrong memory in the
+  WMResetHashTable() function (possible source of SIGSEGVs)
+- Fixed 2 syntax errors in plmenu.zh_TW.Big5 (Mike FABIAN <mfabian@suse.de>)
+- Some .po file fixes (Mike FABIAN <mfabian@suse.de>)
+- Fixed the problem with the root menu code changing the locale setting as
+  a side effect of loading a localized menu
+- Fixed e memory leak in the code that reads a localized root menu
+- Added support for generating pkgconfig files for WINGS, wmlib and wrlib.
+  ("Marcelo E. Magallon" <mmagallo@debian.org>)
+- Support for multiline balloons (Vitaly Ovtchinnikov <ov@rbcmail.ru>)
+- Improved wsetfont (Mike FABIAN <mfabian@suse.de>)
+- Updated single-click contrib patch (steve lion <steve.lion@verizon.net>
+  and vlaad)
+- Updated French translations (Antoine Hulin <antoine@origan.fdn.org>)
+- Xinerama support for Solaris
+- Added global menu support (see NEWS)
+- Fixed sloppy focus bug
+- Made maximize behave differently with keyboard/mouse for xinerama
+  (Peter Zijlstra <a.p.zijlstra@chello.nl>)
+- A few leftover xinerama fixes (Peter Zijlstra <a.p.zijlstra@chello.nl>)
+- Extended the 'strut' to multiple heads 
+  (Peter Zijlstra <a.p.zijlstra@chello.nl>)
+- Icon placement now takes into account the new xinerama extended 'strut'
+  (Peter Zijlstra <a.p.zijlstra@chello.nl>)
+- Icon arrangement that takes the new extended xinerama 'strut' into account
+  (Peter Zijlstra <a.p.zijlstra@chello.nl>)
+- Fixed the 'KDE omnipresent' bug.
+- Fixed bug with focusing a deminiaturized window with sloppy focus mode
+- Fixed aspect of window list menu (window name was too close to workspace
+  indicator)
+- Fixed menu panel in WPrefs.app. Explanatory text did not fit into the label
+- Implemented a better logic to preserve the window's old geometry when
+  maximizing to support succesive maximizations in different directions
+  without the need to do an intermediary un-maximize step (eliminates flicker)
+- Made keyboard/mouse maximization behavior consinstent relative to each other
+- Enhanced wmsetbg's man page with description for -b | --back-color
+  (Marcelo E. Magallon <marcelo.magallon@bigfoot.com>)
+- Do not use the disabled clip color for the clip's workspace navigation arrows
+  when the clip is collapsed (it made them look like disabled)
+- Fixed the 'focus flicker' problem, seen with GTK2 applications.
+
 
 Changes since version 0.80.1:
 .............................
 
-- Fixed buffer overflow in libwraster
+- Fixed a buffer overflow when allocating an RImage struct.
+
 
 Changes since version 0.80.0:
 .............................
diff -Naur WindowMaker-0.80.2/configure.ac wm-xft2/configure.ac
--- WindowMaker-0.80.2/configure.ac	2002-03-26 13:47:11.000000000 +0300
+++ wm-xft2/configure.ac	2003-10-22 14:29:40.000000000 +0400
@@ -15,7 +15,7 @@
 
 
 
-AM_INIT_AUTOMAKE(WindowMaker, 0.80.1)
+AM_INIT_AUTOMAKE(WindowMaker, 0.81.0)
 
 AC_PROG_LIBTOOL
 
@@ -85,11 +85,11 @@
 dnl Specify paths to look for libraries and headers
 dnl ===============================================
 AC_ARG_WITH(libs-from,
-[  --with-libs-from	  pass compiler flags to look for libraries],
+[  --with-libs-from        pass compiler flags to look for libraries],
 	[lib_search_path="$withval $lib_search_path"])
 
 AC_ARG_WITH(incs-from,
-[  --with-incs-from	  pass compiler flags to look for header files],
+[  --with-incs-from        pass compiler flags to look for header files],
 	[inc_search_path="$withval $inc_search_path"])
 
 
@@ -100,7 +100,7 @@
 dnl AC_FUNC_MEMCMP  
 AC_FUNC_VPRINTF
 AC_FUNC_ALLOCA
-AC_CHECK_FUNCS(gethostname select poll strerror strcasecmp strncasecmp setpgid atexit mallinfo mkstemp snprintf vsnprintf asprintf vasprintf)
+AC_CHECK_FUNCS(gethostname select poll strerror strcasecmp strncasecmp setsid atexit mallinfo mkstemp snprintf vsnprintf asprintf vasprintf)
 
 
 dnl ripped from samba
@@ -127,7 +127,7 @@
 ],
 _cv_HAVE_C99_VSNPRINTF=yes,_cv_HAVE_C99_VSNPRINTF=no,_cv_HAVE_C99_VSNPRINTF=cross)])
 if test x"$_cv_HAVE_C99_VSNPRINTF" = x"yes"; then
-    AC_DEFINE(HAVE_C99_VSNPRINTF)
+    AC_DEFINE(HAVE_C99_VSNPRINTF, 1, [define if you have vsnprintf with C99 semantics (set by configure)])
 fi
 
 dnl Loading of dynamic libraries at runtime
@@ -169,7 +169,7 @@
 	fi
     fi
 fi
-AC_DEFINE_UNQUOTED(CPP_PATH, "$CPP_PATH")
+AC_DEFINE_UNQUOTED(CPP_PATH, "$CPP_PATH", [define to the path to cpp])
 
 
 
@@ -189,10 +189,57 @@
 #AC_TYPE_PID_T
 AC_TYPE_SIGNAL
 
-    
+
+
+dnl Compiler/architecture specific optimizations
+dnl ============================================
+
+
+dnl GCC/as with MMX support
+dnl -----------------------
+
+# until we fix it, leave it disabled
+asm_support=no
+mmx_support=no
+if test "$ac_cv_prog_gcc" = yes; then
+    x86=0
+    changequote(,)dnl
+    case "$host_cpu" in
+       i[3456]86) x86=1
+       ;;
+    esac
+    changequote([,])dnl
+
+    if test "$host_os" != "linux" -a "$host_os" != "linux-gnu" ; then
+       x86=0
+    fi
+
+    if test $x86 = 1; then
+       AC_DEFINE(ASM_X86, 1, [define if processor is x86 (normally detected by configure)])
+       asm_support=yes
+
+       AC_CACHE_CHECK(whether gcc supports MMX(tm) inline asm,
+                      ac_cv_c_inline_mmx,
+                      [AC_TRY_LINK(,[asm ("movq %mm0, %mm1");],
+                      ac_cv_c_inline_mmx=yes,
+                      ac_cv_c_inline_mmx=no)])
+
+       if test "x$ac_cv_c_inline_mmx" = xyes; then
+          AC_DEFINE(ASM_X86_MMX, 1, [define if processor is x86 with MMX(tm) support (normally autodetected by configure)])
+          mmx_support=yes
+       fi
+    fi
+fi
+
+
+dnl pkg-config
+dnl ----------
+dnl AC_ARG_VAR(PKGCONFIG, [pkg-config command])
+AC_CHECK_PROG(PKGCONFIG, pkg-config, pkg-config) 
+
 
 dnl gettext
-dnl =======
+dnl -------
 
 
 dnl AM_GNU_GETTEXT
@@ -216,7 +263,7 @@
 
 if test "$LINGUAS" != ""; then
     if test "$XGETTEXT" != "" -a "$HAVEGETTEXT" != ""; then
-        AC_DEFINE(I18N)
+        AC_DEFINE(I18N, 1, [Internationalization (I18N) support (set by configure)])
         PO=""
 #       if test "$LINGUAS" = ""; then
 #   	    ling=` (cd src/po; /bin/ls *.po) `
@@ -244,9 +291,9 @@
 
 dnl List of supported locales
 dnl -------------------------
-supported_locales="bg cs da de el es et fi fr gl hr hu it ja ko ms nl no pl pt ro ru sk sv tr zh_CN zh_TW.Big5"
-supported_wprefs_locales="bg cs de es et fi fr hr hu it ja ko pt ru sk zh_CN zh_TW.Big5"
-supported_wings_locales="cs de sk"
+supported_locales="be bg ca cs da de el es et fi fr gl hr hu it ja ko ms nl no pl pt ro ru sk sv tr zh_CN zh_TW.Big5"
+supported_wprefs_locales="bg ca cs de es et fi fr hr hu it ja ko pt ru sk zh_CN zh_TW.Big5"
+supported_wings_locales="bg ca cs de fr sk"
 
 for lang in $LINGUAS; do
 	ok=0
@@ -327,25 +374,25 @@
 
 
 AC_ARG_ENABLE(gnome,
-  [  --enable-gnome	  enable stuff needed for GNOME ],
+  [  --enable-gnome          enable stuff needed for GNOME ],
   [if test x$enableval = xyes; then
-    AC_DEFINE(GNOME_STUFF)
+    AC_DEFINE(GNOME_STUFF, 1, [define if you want GNOME stuff support])
     gnome_on=yes
   fi])
 
 
 AC_ARG_ENABLE(kde,
-  [  --enable-kde		  enable support for KDE window manager (kwm) hints ],
+  [  --enable-kde            enable support for KDE window manager (kwm) hints ],
   [if test x$enableval = xyes; then
-    AC_DEFINE(KWM_HINTS)
+    AC_DEFINE(KWM_HINTS, 1, [define if you want KDE hint support])
     kde_on=yes
   fi])
 
 
 AC_ARG_ENABLE(openlook,
-  [  --enable-openlook	  enable support for OPEN LOOK(tm) (olwm) hints ],
+  [  --enable-openlook       enable support for OPEN LOOK(tm) (olwm) hints ],
   [if test x$enableval = xyes; then
-    AC_DEFINE(OLWM_HINTS)
+    AC_DEFINE(OLWM_HINTS, 1, [define if you want OPEN LOOK(tm) hint support])
     openlook_on=yes
   fi])
 
@@ -354,10 +401,10 @@
 dnl Disable some stuff that are duplicated in kde
 dnl ---------------------------------------------
 AC_ARG_ENABLE(lite,
-  [  --enable-lite		  disable some stuff (dont use it) ],
+  [  --enable-lite           disable some stuff (dont use it) ],
   [if test x$enableval = xyes; then
         LITE=yes
-	AC_DEFINE(LITE)
+	AC_DEFINE(LITE, 1, [define if you want the 'lite' version])
         AC_SUBST(LITE)
   fi])
 
@@ -375,7 +422,7 @@
 AC_CHECK_FUNC(gethostbyname,,
 	AC_CHECK_LIB(nsl, gethostbyname, NETLIBS="$NETLIBS -lnsl"))
 
-AC_CHECK_FUNC(inet_aton, AC_DEFINE(HAVE_INET_ATON),
+AC_CHECK_FUNC(inet_aton, AC_DEFINE(HAVE_INET_ATON, 1, [define if you have then inet_aton function (set by configure)]),
      for lib in resolv socket inet bsd; do
 	AC_CHECK_LIB($lib, inet_aton, [AC_DEFINE(HAVE_INET_ATON)
 	             NETLIBS="$NETLIBS -l$lib"; break],, $NETLIBS)
@@ -418,28 +465,34 @@
 dnl ===========================================
 use_locale=yes
 AC_ARG_ENABLE(locale, 
-[  --disable-locale	  disable use of X locale support],
+[  --disable-locale        disable use of X locale support],
 		use_locale=no)
 
 if test "$use_locale" = yes; then
-  AC_CHECK_LIB(X11, _Xsetlocale, AC_DEFINE(X_LOCALE),, $XLFLAGS $XLIBS)
+	AC_CHECK_LIB(X11, _Xsetlocale,
+		AC_DEFINE(X_LOCALE, 1, [define if you want support for X window's X_LOCALE (set by configure)]),,
+		$XLFLAGS $XLIBS)
 fi
 
 
 dnl Check whether XInternAtoms() exist
 dnl ==================================
-AC_CHECK_LIB(X11, XInternAtoms, AC_DEFINE(HAVE_XINTERNATOMS),,$XLFLAGS $XLIBS)
+AC_CHECK_LIB(X11, XInternAtoms, 
+             AC_DEFINE(HAVE_XINTERNATOMS, 1, [define if your X server has XInternAtoms() (set by configure)]),,
+             $XLFLAGS $XLIBS)
 
 dnl Check whether XConvertCase() exist
 dnl ==================================
-AC_CHECK_LIB(X11, XConvertCase, AC_DEFINE(HAVE_XCONVERTCASE),,$XLFLAGS $XLIBS)
+AC_CHECK_LIB(X11, XConvertCase, 
+             AC_DEFINE(HAVE_XCONVERTCASE, 1, [define if your X server has XConvertCase() (set by configure)]),,
+             $XLFLAGS $XLIBS)
 
 
 dnl XKB keyboard language status
 dnl ============================
 AC_ARG_ENABLE(modelock,
-[  --enable-modelock	  XKB keyboard language status support],
-		AC_DEFINE(XKB_MODELOCK))
+[  --enable-modelock       XKB keyboard language status support],
+		AC_DEFINE(XKB_MODELOCK, 1, [whether XKB language MODELOCK should be enabled]))
 
 
 
@@ -447,7 +500,7 @@
 dnl =============
 shape=yes
 AC_ARG_ENABLE(shape, 
-[  --disable-shape	  disable shaped window extension support],
+[  --disable-shape         disable shaped window extension support],
 		shape=$enableval, shape=yes)
 
 added_xext=no
@@ -455,20 +508,74 @@
 if test "$shape" = yes; then
 	AC_CHECK_LIB(Xext, XShapeSelectInput, [XLIBS="-lXext $XLIBS"
 		added_xext=yes
-                AC_DEFINE(SHAPE)], shape=no, $XLFLAGS $XLIBS)
+		AC_DEFINE(SHAPE, 1, [define if you want support for shaped windows (set by configure)])], 
+		shape=no, $XLFLAGS $XLIBS)
 fi
 
 
+dnl Xft antialiased font support
+dnl ============================
+xft=yes
+XFTLIBS=""
+AC_ARG_ENABLE(xft, 
+[  --disable-xft           disable Xft antialiased font support],
+		xft=$enableval, xft=yes)
+
+if test "$xft" = yes; then
+	if test "x$PKGCONFIG" != x -a "`$PKGCONFIG xft; echo $?`" = 0; then
+		XFTCONFIG="$PKGCONFIG xft"
+		pkgconfig_xft=yes
+	else
+		AC_CHECK_PROG(XFTCONFIG, xft-config, xft-config)
+	fi
+	if test "x$XFTCONFIG" != x; then
+		XFTLIBS=`$XFTCONFIG --libs`
+		XFTFLAGS=`$XFTCONFIG --cflags`
+		AC_MSG_CHECKING([for the Xft2 library])
+		AC_MSG_RESULT([found])
+		AC_DEFINE(XFT2, 1, [define if you have Xft version 2 (set by configure)])
+	else
+		AC_CHECK_LIB(Xft, XftDrawCreate, [XFTLIBS="-lXft" XFTFLAGS=""],
+			xft=no, $XLFLAGS $XLIBS)
+	fi
+	if test "$xft" = yes; then
+		AC_SUBST(XFTFLAGS)
+		AC_SUBST(XFTLIBS)
+		AC_DEFINE(XFT, 1, [define if you want support for antialiased fonts (set by configure)])
+	fi
+fi
+
 dnl XINERAMA support
 dnl ================
 xinerama=no
-#AC_ARG_ENABLE(xinerama, 
-#[  --disable-xinerama	  disable XInerama extension support],
-#		xinerama=$enableval, xinerama=yes)
+AC_ARG_ENABLE(xinerama,
+[  --enable-xinerama       enable Xinerama extension support],
+		xinerama=$enableval, xinerama=no)
 
 if test "$xinerama" = yes; then
-	AC_CHECK_LIB(Xinerama, XineramaQueryScreens, [XLIBS="-lXinerama $XLIBS"
-                AC_DEFINE(XINERAMA)], xinerama=no, $XLFLAGS $XLIBS)
+	AC_CHECK_LIB(Xinerama, XineramaQueryScreens, 
+                [XLIBS="-lXinerama $XLIBS"
+                xfxine=yes],
+		xfxine=no, $XLFLAGS $XLIBS)
+
+	AC_CHECK_LIB(Xext, XineramaGetInfo,
+                [sunxine=yes
+                ], sunxine=no, $XLFLAGS $XLIBS)
+
+	if test "$xfxine" = yes; then
+		xine=1
+	fi
+
+	if test "$sunxine" = yes; then
+	    xine=1
+	    AC_DEFINE(SOLARIS_XINERAMA, 1, 
+		[define if you want support for the XINERAMA extension and are in Solaris (set by configure)])
+	fi
+
+	if test "$xine" = 1; then
+	    AC_DEFINE(XINERAMA, 1, 
+		[define if you want support for the XINERAMA extension (set by configure)])
+	fi
 fi
 
 
@@ -491,7 +598,7 @@
 		if test "$added_xext" = no; then
 			XLIBS="-lXext $XLIBS"
 		fi
-                AC_DEFINE(XSHM)
+                AC_DEFINE(XSHM, 1, [define if X's shared memory extension is available (set by configure)])
 	fi
 fi
 
@@ -518,7 +625,7 @@
 dnl ===========
 xpm=yes
 AC_ARG_ENABLE(xpm, 
-[  --disable-xpm	  	  disable use of XPM pixmaps through libXpm],
+[  --disable-xpm           disable use of XPM pixmaps through libXpm],
 	xpm=$enableval, xpm=yes)
 
 if test "$xpm" = yes; then
@@ -529,7 +636,7 @@
 	if test "x$ac_cv_header_X11_xpm_h" = xyes; then
 		GFXLIBS="$GFXLIBS -lXpm"
 		supported_gfx="XPM"
-		AC_DEFINE(USE_XPM)
+		AC_DEFINE(USE_XPM, 1, [define if XPM libraries are available (set by configure)])
 	else
 		supported_gfx="builtin-XPM"
 	fi
@@ -550,33 +657,11 @@
 
 
 
-dnl Hermes Support
-dnl ==============
-
-AC_ARG_ENABLE(hermes,
-  [  --disable-hermes	  disable Hermes support for wrlib ],
-     hermes=$enableval, hermes=yes)
-
-if test x$hermes = xyes; then
-   WM_CHECK_LIB(Hermes, Hermes_ConverterRequest, [])
-   
-   if test x$ac_cv_lib_Hermes_Hermes_ConverterRequest = xyes; then
-      WM_CHECK_HEADER(Hermes/Hermes.h)
-      if test x$ac_cv_header_Hermes_Hermes_h = xyes; then
-      	 GFXLIBS="$GFXLIBS -lHermes"
-	 AC_DEFINE(HAVE_HERMES)
-         hermes_support=yes
-      fi
-   fi
-fi
-
-
-
 dnl PNG Support
 dnl ===========
 png=yes
 AC_ARG_ENABLE(png, 
-[  --disable-png	  	  disable PNG support through libpng],
+[  --disable-png           disable PNG support through libpng],
 	png=$enableval, png=yes, png=no)
 
 
@@ -588,7 +673,7 @@
 	if test "x$ac_cv_header_png_h" = xyes; then
 	    GFXLIBS="$GFXLIBS -lpng -lz" 
 	    supported_gfx="$supported_gfx PNG"
-            AC_DEFINE(USE_PNG)
+            AC_DEFINE(USE_PNG, 1, [define if PNG libraries are available (set by configure)])
 	fi
     fi
 fi
@@ -599,7 +684,7 @@
 jpeg=yes
 ljpeg=""
 AC_ARG_ENABLE(jpeg,
-[  --disable-jpeg	  disable JPEG support through libjpeg],
+[  --disable-jpeg          disable JPEG support through libjpeg],
 	jpeg=$enableval, jpeg=yes, jpeg=no)
 
 if test "$jpeg" = yes; then
@@ -613,7 +698,7 @@
 	if test "x$ac_cv_header_jpeglib_h" = xyes; then
 	    GFXLIBS="$GFXLIBS -ljpeg"
 	    supported_gfx="$supported_gfx JPEG"
-            AC_DEFINE(USE_JPEG)
+            AC_DEFINE(USE_JPEG, 1, [define if JPEG libraries are available (set by configure)])
 	fi
     fi
 fi
@@ -647,7 +732,7 @@
 	if test "x$ac_cv_header_gif_lib_h" = xyes; then
 	    GFXLIBS="$GFXLIBS $my_libname"
 	    supported_gfx="$supported_gfx GIF"
-            AC_DEFINE(USE_GIF)
+            AC_DEFINE(USE_GIF, 1, [define if GIF libraries are available (set by configure)])
 	fi
     fi
 fi
@@ -657,7 +742,7 @@
 dnl TIFF Support
 dnl ============
 AC_ARG_ENABLE(tiff, 
-[  --disable-tiff	  disable use of TIFF images through libtiff],
+[  --disable-tiff          disable use of TIFF images through libtiff],
 	tif=$enableval, tif=yes, tif=no)
 
 #
@@ -701,7 +786,7 @@
 	    GFXLIBS="$my_libname $GFXLIBS"
 	    ICONEXT="tiff"
             supported_gfx="$supported_gfx TIFF"
-            AC_DEFINE(USE_TIFF)	    
+            AC_DEFINE(USE_TIFF, 1, [define if TIFF libraries are available (set by configure)])	    
 	fi
     fi
 fi
@@ -739,13 +824,13 @@
 	pixmapdir=`eval echo ${datadir}/pixmaps`
 fi
 
-AC_DEFINE_UNQUOTED(PIXMAPDIR, "$pixmapdir")
+AC_DEFINE_UNQUOTED(PIXMAPDIR, "$pixmapdir", [define an extra path for pixmaps (set by configure)])
 
 pkgdatadir=`eval echo $datadir`
-AC_DEFINE_UNQUOTED(PKGDATADIR, "$pkgdatadir/WindowMaker")
+AC_DEFINE_UNQUOTED(PKGDATADIR, "$pkgdatadir/WindowMaker", [where shared data is stored (defined by configure)])
 
 _sysconfdir=`eval echo $sysconfdir`
-AC_DEFINE_UNQUOTED(SYSCONFDIR, "$_sysconfdir")
+AC_DEFINE_UNQUOTED(SYSCONFDIR, "$_sysconfdir", [where the configuration is stored (defined by configure)])
 
 
 dnl Support for GNUSTEP_LOCAL_ROOT, for WPrefs.app
@@ -778,7 +863,7 @@
 [  --enable-usermenu       user defined menus for applications
 ],
 if test "$enableval" = yes; then
-	AC_DEFINE(USER_MENU)
+	AC_DEFINE(USER_MENU, 1, [define if you want user defined menus for applications])
 fi
 )
 
@@ -873,12 +958,20 @@
 
 EOF
 
+cat <<EOF > wrlib/wrlib.pc
+Name: wrlib
+Description: Image manipulation and conversion library
+Version: $VERSION
+Libs: $lib_search_path -lwraster $GFXLIBS $XLIBS -lm
+Cflags: $inc_search_path
+EOF
+
 cat <<EOF >get-wings-flags
 #!/bin/sh
 
 WCFLAGS="$inc_search_path"
 WLFLAGS="$lib_search_path"
-WLIBS="-lWINGs -lwraster $GFXLIBS $XLIBS -lm $NETLIBS $INTLIBS"
+WLIBS="-lWINGs -lwraster $GFXLIBS $XFTLIBS $XLIBS -lm $NETLIBS $INTLIBS"
 
 usage="Usage: get-wings-flags #lp#--cflags#rp# #lp#--ldflags#rp# #lp#--libs#rp#"
 
@@ -909,6 +1002,15 @@
 
 EOF
 
+cat <<EOF > WINGs/WINGs.pc
+Name: WINGs
+Description: Small widget set with the NeXTStep(TM) look and feel
+Version: $VERSION
+Requires: wrlib
+Libs: $lib_search_path -lWINGs $XFTLIBS $XLIBS -lm $NETLIBS $INTLIBS
+Cflags: $inc_search_path
+EOF
+
 cat <<EOF >get-wutil-flags
 #!/bin/sh
 
@@ -945,6 +1047,15 @@
 
 EOF
 
+cat <<EOF > wmlib/wmlib.pc
+Name: wmlib
+Description: FIXME: What do I write here?
+Version: $VERSION
+Requires: wrlib
+Libs: $lib_search_path -lWUtil $NETLIBS $INTLIBS
+Cflags: $inc_search_path
+EOF
+
 sed 's/#lp#/[/g' get-wraster-flags | sed 's/#rp#/]/g' > wrlib/get-wraster-flags
 sed 's/#lp#/[/g' get-wings-flags | sed 's/#rp#/]/g' > WINGs/get-wings-flags
 sed 's/#lp#/[/g' get-wutil-flags | sed 's/#rp#/]/g' > WINGs/get-wutil-flags
@@ -963,25 +1074,33 @@
 if test "x$MOFILES" = "x"; then
 	mof=none
 else
-	mof=$MOFILES
+	mof=`echo $MOFILES`
+fi
+
+if test "x$MOFILES" = "x"; then
+	languages=none
+else
+	languages=`echo $MOFILES | sed 's/.mo//g'`
 fi
 
 
 echo
 echo "Window Maker was configured as follows:"
 echo
-echo "Installation path prefix: $prefix"
-echo "Installation path prefix for binaries: $_bindir"
-echo "Installation path for WPrefs.app: $wprefsdir" | sed -e 's|\$(prefix)|'"$prefix|"
-echo "Graphic format libraries: $supported_gfx"
-if test x$hermes_support = xyes; then
-    echo "Hermes support for wrlib enabled"
-fi
-dnl echo "Sound support: yes"
-echo "Translated message files to install: $mof"
+echo "Installation path prefix            : $prefix"
+echo "Installation path for binaries      : $_bindir"
+echo "Installation path for WPrefs.app    : $wprefsdir" | sed -e 's|\$(prefix)|'"$prefix|"
+echo "Supported graphic format libraries  : $supported_gfx"
+echo "Antialiased font support for WINGs  : $xft"
+echo "Xinerama extension support          : $xinerama"
+echo "Use assembly routines for wrlib     : $asm_support"
+echo "Use inline MMX(tm) x86 assembly     : $mmx_support"
+echo "Translated message files to install : $mof"
+dnl echo "Supported languages beside English  : $languages"
 if test "x$MOFILES" != "x"; then
-	echo "Installation path of translated messages: $NLSDIR" | sed -e 's|\$(prefix)|'"$prefix|"
+	echo "Installation path for translations  : $NLSDIR" | sed -e 's|\$(prefix)|'"$prefix|"
 fi
+echo
 
 dnl WM_PRINT_REDCRAP_BUG_STATUS
 
diff -Naur WindowMaker-0.80.2/contrib/README wm-xft2/contrib/README
--- WindowMaker-0.80.2/contrib/README	2001-08-23 05:47:38.000000000 +0400
+++ wm-xft2/contrib/README	2003-10-22 14:08:36.000000000 +0400
@@ -7,7 +7,7 @@
 
 allows single click in dock
 
-for version: 0.65.0
+for version: 0.80.2+
 
 author:
 Sebastien Bauer <seb_bauer@bigfoot.com>
@@ -16,6 +16,11 @@
 updated for Window Maker 0.65.0 by:
 Daniel Richard G. <skunk@graphics.lcs.mit.edu>
 
+updated for Window Maker 0.80.2 by:
+Martial Daumas <martial@nasgaia.org>
+
+update for 0.80.2+ by:
+steve lion <steve.lion@verizon.net> and vlaad
 
 
 *** workspace_flip.patch
diff -Naur WindowMaker-0.80.2/contrib/single_click.diff wm-xft2/contrib/single_click.diff
--- WindowMaker-0.80.2/contrib/single_click.diff	2001-09-01 18:51:02.000000000 +0400
+++ wm-xft2/contrib/single_click.diff	2003-10-22 14:08:36.000000000 +0400
@@ -1,6 +1,6 @@
-diff -ur WindowMaker-0.65.1/WPrefs.app/Expert.c WindowMaker-0.65.1-patched/WPrefs.app/Expert.c
---- WindowMaker-0.65.1/WPrefs.app/Expert.c	Mon Jun  4 13:47:32 2001
-+++ WindowMaker-0.65.1-patched/WPrefs.app/Expert.c	Sat Aug 18 03:53:25 2001
+diff -urN wm-a/WPrefs.app/Expert.c wm-c/WPrefs.app/Expert.c
+--- wm-a/WPrefs.app/Expert.c	2003-01-16 18:30:47.000000000 -0500
++++ wm-c/WPrefs.app/Expert.c	2003-05-19 12:50:17.000000000 -0400
 @@ -33,7 +33,7 @@
      
      WMWidget *parent;
@@ -10,43 +10,62 @@
  
  } _Panel;
  
-@@ -54,6 +54,7 @@
+@@ -54,8 +54,9 @@
      WMSetButtonSelected(panel->swi[4], GetBoolForKey("WindozeCycling"));
      WMSetButtonSelected(panel->swi[5], GetBoolForKey("DontConfirmKill"));
      WMSetButtonSelected(panel->swi[6], GetBoolForKey("DisableBlinking"));
-+    WMSetButtonSelected(panel->swi[7], GetBoolForKey("SingleClickLaunch"));
++    WMSetButtonSelected(panel->swi[7], GetBoolForKey("SingleClickLaunch"));   
+     if (WMHasAntialiasingSupport(WMWidgetScreen(panel->box)))
+-        WMSetButtonSelected(panel->swi[7], GetBoolForKey("AntialiasedText"));
++        WMSetButtonSelected(panel->swi[8], GetBoolForKey("AntialiasedText"));
  }
  
  
-@@ -66,7 +67,7 @@
+@@ -68,10 +69,10 @@
      panel->box = WMCreateBox(panel->parent);
      WMSetViewExpandsToParent(WMWidgetView(panel->box), 2, 2, 2, 2);
  
--    for (i=0; i<7; i++) {
-+    for (i=0; i<8; i++) {
+-    for (i=0; i<8; i++) {
++    for (i=0; i<9; i++) {
  	panel->swi[i] = WMCreateSwitchButton(panel->box);
  	WMResizeWidget(panel->swi[i], FRAME_WIDTH-40, 25);
- 	WMMoveWidget(panel->swi[i], 20, 20+i*25);
-@@ -79,6 +80,7 @@
+-	WMMoveWidget(panel->swi[i], 20, 20+i*25);
++	WMMoveWidget(panel->swi[i], 20, 5+i*25);
+     }
+     
+     WMSetButtonText(panel->swi[0], _("Disable miniwindows (icons for miniaturized windows). For use with KDE/GNOME."));
+@@ -81,11 +82,11 @@
      WMSetButtonText(panel->swi[4], _("Use Windoze style cycling."));
      WMSetButtonText(panel->swi[5], _("Disable confirmation panel for the Kill command."));
      WMSetButtonText(panel->swi[6], _("Disable selection animation for selected icons."));
+-    WMSetButtonText(panel->swi[7], _("Smooth font edges (needs restart)."));
+-
 +    WMSetButtonText(panel->swi[7], _("Launch applications and restore windows with a single click"));
- 
++    WMSetButtonText(panel->swi[8], _("Smooth font edges (needs restart)."));
+     if (!WMHasAntialiasingSupport(WMWidgetScreen(panel->box)))
+-        WMSetButtonEnabled(panel->swi[7], False);
+-
++        WMSetButtonEnabled(panel->swi[8], False);
++    
      WMRealizeWidget(panel->box);
      WMMapSubwidgets(panel->box);
-@@ -101,6 +103,7 @@
+     
+@@ -107,8 +108,9 @@
      SetBoolForKey(WMGetButtonSelected(panel->swi[4]), "WindozeCycling");
      SetBoolForKey(WMGetButtonSelected(panel->swi[5]), "DontConfirmKill");
      SetBoolForKey(WMGetButtonSelected(panel->swi[6]), "DisableBlinking");
 +    SetBoolForKey(WMGetButtonSelected(panel->swi[7]), "SingleClickLaunch");
+     if (WMHasAntialiasingSupport(WMWidgetScreen(panel->box)))
+-        SetBoolForKey(WMGetButtonSelected(panel->swi[7]), "AntialiasedText");
++        SetBoolForKey(WMGetButtonSelected(panel->swi[8]), "AntialiasedText");
  }
  
  
-diff -ur WindowMaker-0.65.1/src/WindowMaker.h WindowMaker-0.65.1-patched/src/WindowMaker.h
---- WindowMaker-0.65.1/src/WindowMaker.h	Wed Jun  6 15:07:42 2001
-+++ WindowMaker-0.65.1-patched/src/WindowMaker.h	Sat Aug 18 03:47:36 2001
-@@ -463,6 +463,9 @@
+Binary files wm-a/contrib/.single_click.diff.swp and wm-c/contrib/.single_click.diff.swp differ
+diff -urN wm-a/src/WindowMaker.h wm-c/src/WindowMaker.h
+--- wm-a/src/WindowMaker.h	2003-01-16 18:30:48.000000000 -0500
++++ wm-c/src/WindowMaker.h	2003-05-19 12:27:57.000000000 -0400
+@@ -464,6 +464,9 @@
      /* shading animation */
      signed char shade_speed;
  
@@ -56,10 +75,10 @@
      int edge_resistance;
      char attract;
  
-diff -ur WindowMaker-0.65.1/src/appicon.c WindowMaker-0.65.1-patched/src/appicon.c
---- WindowMaker-0.65.1/src/appicon.c	Mon Jul 23 14:32:46 2001
-+++ WindowMaker-0.65.1-patched/src/appicon.c	Sat Aug 18 03:47:36 2001
-@@ -704,6 +704,7 @@
+diff -urN wm-a/src/appicon.c wm-c/src/appicon.c
+--- wm-a/src/appicon.c	2003-01-16 18:30:48.000000000 -0500
++++ wm-c/src/appicon.c	2003-05-19 12:27:01.000000000 -0400
+@@ -585,6 +585,7 @@
      int shad_x = 0, shad_y = 0, docking=0, dockable, collapsed = 0;
      int ix, iy;
      int clickButton = event->xbutton.button;
@@ -67,7 +86,7 @@
      Pixmap ghost = None;
      Window wins[2];
      Bool movingSingle = False;
-@@ -794,6 +795,7 @@
+@@ -665,6 +666,7 @@
  	    break;
  
  	 case MotionNotify:
@@ -75,41 +94,43 @@
  	    if (!grabbed) {
  		if (abs(dx-ev.xmotion.x)>=MOVE_THRESHOLD
  		    || abs(dy-ev.xmotion.y)>=MOVE_THRESHOLD) {
-@@ -939,6 +941,8 @@
+@@ -801,7 +803,9 @@
  
  	    if (wPreferences.auto_arrange_icons)
  		wArrangeIcons(scr, True);
+-
++            
 +	    if (!hasMoved && wPreferences.single_click)
-+		iconDblClick(desc, event);
- 
++                iconDblClick(desc, event);
  	    done = 1;
  	    break;
-diff -ur WindowMaker-0.65.1/src/defaults.c WindowMaker-0.65.1-patched/src/defaults.c
---- WindowMaker-0.65.1/src/defaults.c	Mon Jul 23 14:31:36 2001
-+++ WindowMaker-0.65.1-patched/src/defaults.c	Sat Aug 18 03:47:36 2001
-@@ -557,6 +557,9 @@
+ 	}
+diff -urN wm-a/src/defaults.c wm-c/src/defaults.c
+--- wm-a/src/defaults.c	2003-01-16 18:30:48.000000000 -0500
++++ wm-c/src/defaults.c	2003-05-19 12:27:17.000000000 -0400
+@@ -547,6 +547,9 @@
      {"DisableBlinking",	"NO",		NULL,
- 	   &wPreferences.dont_blink,	getBool,	NULL
+     &wPreferences.dont_blink,	getBool,	NULL
      },
-+    {"SingleClickLaunch", "NO",		NULL,
-+	   &wPreferences.single_click,	getBool,	NULL
-+    },
-       /* style options */
++    {"SingleClickLaunch", "NO",                NULL,
++          &wPreferences.single_click,  getBool,        NULL
++    },   
+     /* style options */
      {"MenuStyle", 	"normal",  		seMenuStyles,
- 	&wPreferences.menu_style, getEnum, 	setMenuStyle
-diff -ur WindowMaker-0.65.1/src/dock.c WindowMaker-0.65.1-patched/src/dock.c
---- WindowMaker-0.65.1/src/dock.c	Mon Jul 23 14:37:25 2001
-+++ WindowMaker-0.65.1-patched/src/dock.c	Sat Aug 18 03:47:36 2001
-@@ -3690,7 +3690,7 @@
+     &wPreferences.menu_style, getEnum, 	setMenuStyle
+diff -urN wm-a/src/dock.c wm-c/src/dock.c
+--- wm-a/src/dock.c	2003-02-28 07:42:17.000000000 -0500
++++ wm-c/src/dock.c	2003-05-19 12:27:33.000000000 -0400
+@@ -3782,7 +3782,7 @@
  
  
  
 -static void
-+static Bool
++static Bool 
  handleIconMove(WDock *dock, WAppIcon *aicon, XEvent *event)
  {
      WScreen *scr = dock->screen_ptr;
-@@ -3706,6 +3706,7 @@
+@@ -3798,6 +3798,7 @@
      int tmp;
      Pixmap ghost = None;
      Bool docked;
@@ -117,7 +138,7 @@
      int superfluous = wPreferences.superfluous; /* we catch it to avoid problems */
      int omnipresent = aicon->omnipresent; /* this must be cached!!! */
  
-@@ -3760,6 +3761,7 @@
+@@ -3852,6 +3853,7 @@
  	    break;
  
  	 case MotionNotify:
@@ -125,7 +146,7 @@
  	    if (!grabbed) {
  		if (abs(ofs_x-ev.xmotion.x)>=MOVE_THRESHOLD
  		    || abs(ofs_y-ev.xmotion.y)>=MOVE_THRESHOLD) {
-@@ -3909,7 +3911,7 @@
+@@ -4001,7 +4003,7 @@
  #ifdef DEBUG
  	    puts("End icon move");
  #endif
@@ -134,32 +155,34 @@
  	}
      }
  }
-@@ -4048,8 +4050,11 @@
+@@ -4140,8 +4142,11 @@
                  handleClipChangeWorkspace(scr, event);
              else
                  handleDockMove(dock, aicon, event);
 -        } else
 -	    handleIconMove(dock, aicon, event);
-+	} else {
++        } else {
 +	    Bool hasMoved = handleIconMove(dock, aicon, event);
-+	    if (!hasMoved && wPreferences.single_click)
-+	        iconDblClick(desc, event);
-+	}
++            if (!hasMoved && wPreferences.single_click)
++                iconDblClick(desc, event);
++        }
  
      } else if (event->xbutton.button==Button2 && dock->type==WM_CLIP &&
                 aicon==scr->clip_icon) {
-diff -ur WindowMaker-0.65.1/src/icon.c WindowMaker-0.65.1-patched/src/icon.c
---- WindowMaker-0.65.1/src/icon.c	Mon Jul 23 14:20:27 2001
-+++ WindowMaker-0.65.1-patched/src/icon.c	Sat Aug 18 03:47:36 2001
-@@ -877,6 +877,7 @@
+diff -urN wm-a/src/icon.c wm-c/src/icon.c
+--- wm-a/src/icon.c	2003-01-16 18:30:49.000000000 -0500
++++ wm-c/src/icon.c	2003-05-19 12:27:44.000000000 -0400
+@@ -878,7 +878,8 @@
      int dx=event->xbutton.x, dy=event->xbutton.y;
      int grabbed=0;
      int clickButton=event->xbutton.button;
+-
 +    Bool hasMoved = False;
- 
++    
      if (WCHECK_STATE(WSTATE_MODAL))
  	return;
-@@ -928,6 +929,7 @@
+ 
+@@ -929,6 +930,7 @@
  	    break;
  
  	 case MotionNotify:
@@ -167,13 +190,12 @@
  	    if (!grabbed) {
  		if (abs(dx-ev.xmotion.x)>=MOVE_THRESHOLD
  		    || abs(dy-ev.xmotion.y)>=MOVE_THRESHOLD) {
-@@ -965,6 +967,9 @@
+@@ -966,6 +968,8 @@
  
  	    if (wPreferences.auto_arrange_icons)
  		wArrangeIcons(wwin->screen_ptr, True);
-+	    if (!hasMoved && wPreferences.single_click)
-+		miniwindowDblClick(desc, event);
-+
++            if (!hasMoved && wPreferences.single_click)
++                miniwindowDblClick(desc, event);	    
  	    return;
  	    
  	}
diff -Naur WindowMaker-0.80.2/COPYING.OPL wm-xft2/COPYING.OPL
--- WindowMaker-0.80.2/COPYING.OPL	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/COPYING.OPL	2003-10-22 14:08:34.000000000 +0400
@@ -0,0 +1,91 @@
+
+     OpenContent License (OPL)
+     Version 1.0, July 14, 1998.
+
+     This document outlines the principles underlying the OpenContent
+     (OC) movement and may be redistributed provided it remains
+     unaltered. For legal purposes, this document is the license under
+     which OpenContent is made available for use.
+
+     The original version of this document may be found at
+     http://www.opencontent.org/opl.shtml
+
+     LICENSE
+
+     Terms and Conditions for Copying, Distributing, and Modifying
+
+     Items other than copying, distributing, and modifying the Content
+     with which this license was distributed (such as using, etc.) are
+     outside the scope of this license.
+
+     1. You may copy and distribute exact replicas of the OpenContent
+     (OC) as you receive it, in any medium, provided that you
+     conspicuously and appropriately publish on each copy an appropriate
+     copyright notice and disclaimer of warranty; keep intact all the
+     notices that refer to this License and to the absence of any
+     warranty; and give any other recipients of the OC a copy of this
+     License along with the OC. You may at your option charge a fee for
+     the media and/or handling involved in creating a unique copy of the
+     OC for use offline, you may at your option offer instructional
+     support for the OC in exchange for a fee, or you may at your option
+     offer warranty in exchange for a fee. You may not charge a fee for
+     the OC itself. You may not charge a fee for the sole service of
+     providing access to and/or use of the OC via a network (e.g. the
+     Internet), whether it be via the world wide web, FTP, or any other
+     method.
+
+     2. You may modify your copy or copies of the OpenContent or any
+     portion of it, thus forming works based on the Content, and
+     distribute such modifications or work under the terms of Section 1
+     above, provided that you also meet all of these conditions:
+
+     a) You must cause the modified content to carry prominent notices
+     stating that you changed it, the exact nature and content of the
+     changes, and the date of any change.
+
+     b) You must cause any work that you distribute or publish, that in
+     whole or in part contains or is derived from the OC or any part
+     thereof, to be licensed as a whole at no charge to all third
+     parties under the terms of this License, unless otherwise permitted
+     under applicable Fair Use law.
+
+     These requirements apply to the modified work as a whole. If
+     identifiable sections of that work are not derived from the OC, and
+     can be reasonably considered independent and separate works in
+     themselves, then this License, and its terms, do not apply to those
+     sections when you distribute them as separate works. But when you
+     distribute the same sections as part of a whole which is a work
+     based on the OC, the distribution of the whole must be on the terms
+     of this License, whose permissions for other licensees extend to
+     the entire whole, and thus to each and every part regardless of who
+     wrote it. Exceptions are made to this requirement to release
+     modified works free of charge under this license only in compliance
+     with Fair Use law where applicable.
+
+     3. You are not required to accept this License, since you have not
+     signed it. However, nothing else grants you permission to copy,
+     distribute or modify the OC. These actions are prohibited by law if
+     you do not accept this License. Therefore, by distributing or
+     translating the OC, or by deriving works herefrom, you indicate
+     your acceptance of this License to do so, and all its terms and
+     conditions for copying, distributing or translating the OC.
+
+     NO WARRANTY
+
+     4. BECAUSE THE OPENCONTENT (OC) IS LICENSED FREE OF CHARGE, THERE
+     IS NO WARRANTY FOR THE OC, TO THE EXTENT PERMITTED BY APPLICABLE
+     LAW. EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS
+     AND/OR OTHER PARTIES PROVIDE THE OC "AS IS" WITHOUT WARRANTY OF ANY
+     KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO,
+     THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
+     PARTICULAR PURPOSE. THE ENTIRE RISK OF USE OF THE OC IS WITH YOU.
+     SHOULD THE OC PROVE FAULTY, INACCURATE, OR OTHERWISE UNACCEPTABLE
+     YOU ASSUME THE COST OF ALL NECESSARY REPAIR OR CORRECTION.
+
+     5. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN
+     WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY
+     MIRROR AND/OR REDISTRIBUTE THE OC AS PERMITTED ABOVE, BE LIABLE TO
+     YOU FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR
+     CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE
+     THE OC, EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
+     POSSIBILITY OF SUCH DAMAGES.
diff -Naur WindowMaker-0.80.2/doc/cs/geticonset.1x wm-xft2/doc/cs/geticonset.1x
--- WindowMaker-0.80.2/doc/cs/geticonset.1x	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/doc/cs/geticonset.1x	2003-10-22 14:08:36.000000000 +0400
@@ -0,0 +1,36 @@
+.\" Hey, Emacs!  This is an -*- nroff -*- source file.
+.TH geticonset 1x "Leden 1999"
+.SH JMÉNO
+geticonset \- extrahuje aktuální sadu ikon Window Makera
+.SH SYNTAXE
+.B geticonset
+.I [volby] [soubor]
+.SH POPIS
+.B geticonset
+naèíta doménu WMWindowAttributes a zapí¹e sadu nalezených ikon
+buï na standardtní výstup nebo do
+.I souboru.
+.SH VOLBY
+.TP
+.B \-\-help
+vypí¹e nápovìdu
+.TP
+.B \-\-version
+vypí¹e èíslo verze
+.SH PROMÌNNÉ PROSTØEDÍ
+.IP GNUSTEP_USER_ROOT
+specifikuje cestu k adresáøi Defaults. Øetìzec "Defaults/" je pøidán k této
+promìnné, èím¾ se urèí umístìní databází. Jakmile promìnná není nastavená,
+tak její implicitní hodnota je "~/GNUstep"
+.SH SOUBORY
+.IP GNUSTEP_USER_ROOT/Defaults/WMWindowAttributes
+Toto je soubor, který se zapí¹e.
+.SH PODÍVEJTE SE TAKÉ
+.BR seticons (1x),
+.BR wmaker (1x)
+.SH AUTOR
+Autorem Window Makera je Alfredo K. Kojima <kojima@windowmaker.org>.
+.PP
+Tuto manuálovou stránku napsal Marcelo Magallon <mmagallo@debian.org>.
+.PP
+Do èe¹tiny pøelo¾il Jiøí Hnídek <jiri.hnidek@vslib.cz>.
diff -Naur WindowMaker-0.80.2/doc/cs/getstyle.1x wm-xft2/doc/cs/getstyle.1x
--- WindowMaker-0.80.2/doc/cs/getstyle.1x	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/doc/cs/getstyle.1x	2003-10-22 14:08:36.000000000 +0400
@@ -0,0 +1,54 @@
+.\" Hey, Emacs!  This is an -*- nroff -*- source file.
+.TH getstyle 1x "Leden 1999"
+.SH JMÉNO
+getstyle \- vytvoøí balík s aktuálním stylem Window Makera.
+.SH SYNTAXE
+.B getstyle
+[[-t|--theme-options] [-p|--pack] [soubor se stylem]]
+.SH POPIS
+.B getstyle
+mù¾e buï vypsat konfiguraèní informace aktuálního stylu Window Makera do
+souboru/standardního výstupu nebo vytvoøit samostatný balík s tématem. Balík
+s tématem je adresáø, který obsahuje v¹echno potøebné pro distributovatelné
+téma, informace o stylech a obrázcích.
+
+Dejte pozor na to, ¾e informace o stylu ulo¾ené v globální konfiguraci
+systému se nenaèítají.
+
+Standardnì se ulo¾í nasledné vlastnosti: \fIIconBack\fP,
+\fIIconBack\fP, \fITitleJustify\fP, \fIWindowTitleFont\fP,
+\fIMenuTitleFont, MenuTextFont\fP, \fIIconTitleFont\fP,
+\fIDisplayFont\fP, \fIHighlightColor\fP, \fIHighlightTextColor\fP,
+\fIIconTitleColor\fP, \fICClipTitleColor\fP, \fIIconBackColor\fP,
+\fIFTitleColor\fP, \fIPTitleColor\fP, \fIUTitleColor\fP,
+\fIFTitleBack\fP, \fIPTitleBack, UTitleBack\fP, \fIMenuTitleColor\fP,
+\fIMenuTextColor\fP, \fIMenuDisabledColor\fP, \fIMenuTitleBack\fP and
+\fIMenuTextBack\fP. Jakmile je dána volba \fB-t\fP nebo \fB--theme-options\fP,
+vlastnost \fIWorkspaceBack\fP se ulo¾í také.
+
+.SH VOLBY
+.TP
+.B \-t
+ulo¾í i informace související s tématem, co¾ je textura pozadí hlavního okna.
+Tato volba je v¾dy nastavená, jakmile je pou¾itá volba \-p.
+.TP
+.B \-p
+vytvoøí balík s tématem v adresáøi nazvaným podla jména tématu s pøíponou .themed.
+
+.SH PROMÌNNÉ PROSTØEDÍ
+.IP GNUSTEP_USER_ROOT
+specifikuje cestu k adresáøi Defaults. Øetìzec "Defaults/" je pøidán k této
+promìnné, èím¾ se urèí umístìní databází. Jakmile promìnná není nastavená,
+tak její implicitní hodnota je "~/GNUstep"
+.SH SOUBORY
+.IP GNUSTEP_USER_ROOT/Defaults/WindowMaker
+Toto je soubor, který se zapí¹e.
+.SH PODÍVEJTE SE TAKÉ
+.BR setstyle (1x),
+.BR wmaker (1x)
+.SH AUTOR
+Autorem Window Makera je Alfredo K. Kojima <kojima@windowmaker.org>.
+.PP
+Tuto manuálovou stránku napsal Marcelo Magallon <mmagallo@debian.org>.
+.PP
+Do èe¹tiny pølo¾il Jiøí Hnídek <jiri.hnidek@vslib.cz>.
diff -Naur WindowMaker-0.80.2/doc/cs/Makefile.am wm-xft2/doc/cs/Makefile.am
--- WindowMaker-0.80.2/doc/cs/Makefile.am	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/doc/cs/Makefile.am	2003-10-22 14:08:36.000000000 +0400
@@ -0,0 +1,18 @@
+## Process this file with automake to produce Makefile.in
+
+mandir=@mandir@/cs
+
+man_MANS = \
+	geticonset.1x \
+	setstyle.1x \
+	wxpaste.1x \
+	getstyle.1x \
+	wdwrite.1x \
+	wmsetbg.1x \
+	wsetfont.1x \
+	seticons.1x \
+	wmaker.1x \
+	wxcopy.1x
+
+EXTRA_DIST = $(man_MANS)
+
diff -Naur WindowMaker-0.80.2/doc/cs/seticons.1x wm-xft2/doc/cs/seticons.1x
--- WindowMaker-0.80.2/doc/cs/seticons.1x	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/doc/cs/seticons.1x	2003-10-22 14:08:36.000000000 +0400
@@ -0,0 +1,38 @@
+.\" Hey, Emacs!  This is an -*- nroff -*- source file.
+.TH seticons 1x "Bøezen 1998"
+.SH JMÉNO
+seticons \- nastaví ikony pro Window Maker
+.SH SYNTAXe
+.B seticons
+.I soubor
+.SH POPIS
+.B seticons
+naèíta
+.I soubor
+a zapí¹e jeho obsah do domény WMWindowAttributes, èím¾ se nastaví ikony,
+které pou¾ívá Window Maker pro dané tøídy (napøíklad XTerm, "xterm.XTerm",
+"pine.XTerm", atd.)
+.SH VOLBY
+.TP
+.B \-\-help
+vypí¹e nápovìdu
+.TP
+.B \-\-version
+vypí¹e èíslo verze
+.SH PROMÌNNÉ PROSTØEDÍ
+.IP GNUSTEP_USER_ROOT
+specifikuje cestu k adresáøi Defaults. Øetìzec "Defaults/" je pøidán k této
+promìnné, èím¾ se urèí umístìní databází. Jakmile promìnná není nastavená,
+tak její implicitní hodnota je "~/GNUstep"
+.SH SOUBORY
+.IP GNUSTEP_USER_ROOT/Defaults/WMWindowAttributes
+Toto je soubor, který se zapí¹e.
+.SH PODÍVEJTE SE TAKÉ
+.BR geticonset (1x),
+.BR wmaker (1x)
+.SH AUTOR
+Autorem Window Makera je Alfredo K. Kojima <kojima@windowmaker.org>.
+.PP
+Tuto manuálovou stránku napsal Marcelo Magallon <mmagallo@debian.org>.
+.PP
+Do èe¹tiny pøelo¾il Jiøí Hnídek <jiri.hnidek@vslib.cz>.
diff -Naur WindowMaker-0.80.2/doc/cs/setstyle.1x wm-xft2/doc/cs/setstyle.1x
--- WindowMaker-0.80.2/doc/cs/setstyle.1x	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/doc/cs/setstyle.1x	2003-10-22 14:08:36.000000000 +0400
@@ -0,0 +1,47 @@
+.\" Hey, Emacs!  This is an -*- nroff -*- source file.
+.TH setstyle 1x "Leden 1999"
+.SH JMÉNO
+setstyle \- zmìní nastavení Window Makera související se stylem nebo
+zavede téma
+.SH SYNTAXE
+.B setstyle
+.I "[--no-fonts] [--help] [--version]"
+.I soubor se stylem
+.SH DESCRIPTION
+.B setstyle
+naèítá
+.I soubor se stylem
+a zapí¹e jeho obsah do domény Window Makera, èím¾ nastaví aktuální styl
+Window Makera. Jakmile je poskytnutá cesta, adresáø bude pova¾ovaný za balík
+s tématem a podla toho bude i zavedený. Jakmile je daný argument
+\fB\-\-no\-fonts\fP, nastavení související s fonty (\fIIconTitleFont\fP,
+\fIClipTitleFont\fP, \fIDisplayFont\fP, \fIMenuTextFont\fP,
+\fIMenuTitleFont\fP, \fIWindowTitleFont\fP) v souboru se stylem budou
+ignorované.
+.SH VOLBY
+.TP
+.B \-\-no\-fonts
+ignorovat nastavení fontù v souboru se stylem.
+.TP
+.B \-\-help
+vypí¹e nápovìdu
+.TP
+.B \-\-version
+vypí¹e èíslo verze
+.SH PROMìNNÉ PROSTØEDÍ
+.IP GNUSTEP_USER_ROOT
+specifikuje cestu k adresáøi Defaults. Øetìzec "Defaults/" je pøidán k této
+promìnné, èím¾ se urèí umístìní databází. Jakmile promìnná není nastavená,
+tak její implicitní hodnota je "~/GNUstep"
+.SH SOUBORY
+.IP GNUSTEP_USER_ROOT/Defaults/WindowMaker
+Toto je soubor, který se zapí¹e.
+.SH PODÍVEJTE SE TAKÉ
+.BR getstyle (1x),
+.BR wmaker (1x)
+.SH AUTOR
+Autorem Window Makera je Alfredo K. Kojima <kojima@windowmaker.org>.
+.PP
+Tuto manuálovou stránku napsal Marcelo Magallon <mmagallo@debian.org>.
+.PP
+Do èe¹tiny pøelo¾il Jiøí Hnídek <jiri.hnidek@vslib.cz>.
diff -Naur WindowMaker-0.80.2/doc/cs/seznam.txt wm-xft2/doc/cs/seznam.txt
--- WindowMaker-0.80.2/doc/cs/seznam.txt	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/doc/cs/seznam.txt	2003-10-22 14:08:36.000000000 +0400
@@ -0,0 +1,10 @@
+x geticonset.1x
+x getstyle.1x
+x seticons.1x
+x setstyle.1x
+x wdwrite.1x
+x wmaker.1x
+x wmsetbg.1x
+x wsetfont.1x
+x wxcopy.1x
+x wxpaste.1x
diff -Naur WindowMaker-0.80.2/doc/cs/wdwrite.1x wm-xft2/doc/cs/wdwrite.1x
--- WindowMaker-0.80.2/doc/cs/wdwrite.1x	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/doc/cs/wdwrite.1x	2003-10-22 14:08:37.000000000 +0400
@@ -0,0 +1,39 @@
+.\" Hey, Emacs!  This is an -*- nroff -*- source file.
+.TH wdwrite 1x "Leden 1999"
+.SH JMÉNO
+wdwrite \- zapí¹e klíèe a hodnoty do databáze standardních nastavení
+.SH SYNTAXE
+.B wdwrite
+.I doména
+.I volba
+.I hodnota
+.SH POPIS
+.B wdwrite
+zapí¹e
+.I volbu
+a
+.I hodnotu
+do dané
+.I domény.
+.SH VOLBY
+.TP
+.B \-\-help
+vypí¹e nápovìdu
+.TP
+.B \-\-version
+vypí¹e èíslo verze
+.SH PROMÌNNÉ PROSTØEDÍ
+.IP GNUSTEP_USER_ROOT
+specifikuje cestu k adresáøi Defaults. Øetìzec "Defaults/" je pøidán k této
+promìnné, èím¾ se urèí umístìní databází. Jakmile promìnná není nastavená,
+tak její implicitní hodnota je "~/GNUstep"
+.SH SOUBORY
+Domény se nacházejí v GNUSTEP_USER_ROOT/Defaults/
+.SH PODÍVEJTE SE TAKÉ
+.BR wmaker (1x)
+.SH AUTOR
+Autorem Window Makera je Alfredo K. Kojima <kojima@windowmaker.org>.
+.PP
+Tuto manuálovou stránku napsal Marcelo Magallon <mmagallo@debian.org>.
+.PP
+Do èe¹tiny pøelo¾il Jiøí Hnídek <jiri.hnidek@vslib.cz>
diff -Naur WindowMaker-0.80.2/doc/cs/wmaker.1x wm-xft2/doc/cs/wmaker.1x
--- WindowMaker-0.80.2/doc/cs/wmaker.1x	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/doc/cs/wmaker.1x	2003-10-22 14:08:37.000000000 +0400
@@ -0,0 +1,148 @@
+.\" Hey, Emacs!  This is an -*- nroff -*- source file.
+.TH Window\ Maker 1x "Srpen 1998"
+.SH JMÉNO
+wmaker \- okenní mana¾er pro X11 se vzhledem NEXTSTEPu
+.SH SYNTAXE
+.B wmaker
+.I "[-volby]"
+.SH "POPIS"
+Window Maker je okenní mana¾er pro X11 se vzhledem NEXTSTEPu. Sna¾í se
+napodobit vzhled NeXTu jak jen to je mo¾né, ale v pøípadì potøeby tento
+trend nedodr¾uje.
+.SH "VOLBY"
+.TP
+.B \-\-no\-cpp
+zakázat preprocessing konfiguraèních souborù
+.TP
+.B \-\-no\-dock
+neotvírat Dok aplikací
+.TP
+.B \-\-no\-clip
+neotvírat Sponku pracovních ploch
+.TP
+.B \-display host:display.screen
+pou¾ít danou obrazovku.
+Na strojích s více obrazovkami bude Window Maker automaticky spravovat
+v¹echny obrazovky. Pokud chcete, aby Window Maker spravoval jen specifickou
+obrazovku, musíte zadat èíslo obrazovky pomocí argumentu pøíkazové øádky
+.B \-display.
+Napøíklad, pokud chcete, aby Window Maker spravoval jen obrazovku 1, spus»te ho
+takto:
+.B wmaker -display :0.1
+.TP
+.B \-\-version
+vypí¹e verzi a ukonèí se
+.TP
+.B \-\-visual\-id
+urèí èísla obrazového re¾imu. Spus»te
+.BR xdpyinfo (1x)
+pro seznam obrazových re¾imù dostupných na va¹em displeji.
+.TP
+.B \-\-help
+vypí¹e krátký pomocný text
+.PP
+.SH SOUBORY
+.TP
+.B ~/GNUstep/Defaults/WindowMaker
+v¹eobecné nastavení Window Makera.
+.TP
+.B ~/GNUstep/Defaults/WMState
+informace o Doku a Sponce. Neditujte za bìhu Window Makera. Bude
+pøepsaný.
+.TP
+.B ~/GNUstep/Defaults/WMRootMenu
+Obsahuje jméno souboru, z kterého se má naèíst hlavní menu nebo
+menu samotné ve formátu proplist.
+.TP
+.B ~/GNUstep/Defaults/WMWindowAttributes
+Atributy pro rùzné tøídy a instance aplikací. Pou¾ijte editor nastavení
+(stisknìte pravé tlaèítko my¹i na horní li¹tì aplikace, zvolte Atributy)
+namísto pøímého editování tohoto souboru. Je jen málo nastavení, která
+nejsou dostupná z editora nastavení.
+.TP
+.B /usr/share/WindowMaker/Defaults/
+V¹echny vý¹e uvedené soubory se NAèÍTAJÍ odtud. Pokud se je nepodaøí
+najít, kromì WMState, který se odtud ZKOPÍRUJE. Nezále¾í na tom, odkud
+jsou naèítané. Pokud je potøeba zapsat zmìnu konfigurace zpìt do tìchto
+souborù, zapí¹ou se do u¾ivatelských souborù.
+.TP
+.B ~/GNUstep/Library/WindowMaker/autostart
+Tento skript se automaticky vykoná pri startu Window Makera.
+.TP
+.B ~/GNUstep/Library/WindowMaker/exitscript
+Tento skript se automaticky vykoná bezprostøednì pøed ukonèením Window Makera.
+.B Poznámka:
+Kdy¾ potøebujete spustit z tohoto skriptu nìco, co vy¾aduje spu¹tìný X server,
+tak nepou¾ívejte na ukonèení Window Makera pøíkaz
+.I SHUTDOWN
+z hlavního menu. Jinak se mù¾e stát, ¾e X server se ukonèí døív ne¾ se vykoná
+tento skript.
+.TP
+.B ~/GNUstep/Library/WindowMaker/
+Soubor menu, jeho¾ název je uveden v souboru WMRootMenu, se hledá zde...
+.TP
+.B /etc/X11/WindowMaker/
+a zde, v tomto poøadí, pokud název není absolutní cesta.
+.TP
+.B ~/GNUstep/Library/WindowMaker/Pixmaps/
+Zde hledá Window Maker obrázky
+.TP
+.B ~/GNUstep/Library/WindowMaker/Backgrounds/
+Zde hledá Window Maker pozadí
+.TP
+.B ~/GNUstep/Library/WindowMaker/Styles/
+Zde hledá Window Maker soubory se styly (ne úplnì... vypadá to tak, ale
+i tak musíte zadat úplnou cestu. Je to jen vyhrazené místo, aby byly
+vìci pìknì uspoøádané)
+.TP
+.B ~/GNUstep/Library/WindowMaker/Themes/
+Zde hledá Window Maker soubory s tématy (viz. vý¹e)
+.TP
+.B /usr/share/WindowMaker/Pixmaps/
+Obrázky spoloèné pro celý systém se nacházejí zde...
+.TP
+.B /usr/share/WindowMaker/Pixmaps/
+a zde.
+.TP
+.B /usr/share/WindowMaker/Styles/
+Styly spoloèné pro celý systém se nacházejí zde
+.TP
+.B /usr/share/WindowMaker/Themes/
+A teï to zkuste sami... ;-)
+.SH PROMÌNNÉ PROSØEDÍ	
+.IP GNUSTEP_USER_ROOT
+specifikuje cestu k adresáøi Defaults. "Defaults/" je pøidán k této
+promìnné, èím¾ se urèí umístìní databází. Pokud promìnná není nastavená,
+ta její implicitní hodnota je "~/GNUstep"
+.IP GNUSTEP_LOCAL_ROOT
+specifikuje umístìní systémového \fBlokálního\fP GNUstep adresáøe (to
+je u¾iteèné v pøípadì, ¾e umístìní adresáøe spoleèného pro celý systém je
+ve skuteènosti spoleèné pro celou sí»). Kdy¾ je tato promìnná prázdna, pou¾ije
+se GNUSTEP_SYSTEM_ROOT.
+.IP GNUSTEP_SYSTEM_ROOT
+specifikuje umístìní systémového GNUstep adresáøe. Pokud je tato promìnná
+prázdna, tak její implicitní hodnota je /etc/GNUstep
+.SH PODÍVEJTE SE TAKÉ
+The Window Maker User Guide
+(U¾ivatelská pøíruèka Window Makera)
+.PP
+The Window Maker FAQ
+(Èasto kladené dotazy)
+.PP
+.BR X (1x),
+.BR wdwrite (1x),
+.BR wxcopy (1x),
+.BR geticonset (1x),
+.BR seticons (1x),
+.BR wmaker (1x),
+.BR wxpaste (1x),
+.BR getstyle (1x),
+.BR setstyle (1x),
+.BR wmsetbg (1x)
+.SH AUTOR
+Autoøi Window Makera jsou Alfredo K. Kojima <kojima@windowmaker.org>,
+Dan Pascu <dan@windowmaker.org> a mnoho dal¹ích lidí z celého svìta.
+.PP
+Tuto manuálovou stránku napsal Marcelo E. Magallon, <mmagallo@debian.org>.
+.PP
+Do èe¹tiny pøelo¾il Jiøí Hnídek <jiri.hnidek@vslib.cz>
diff -Naur WindowMaker-0.80.2/doc/cs/wmsetbg.1x wm-xft2/doc/cs/wmsetbg.1x
--- WindowMaker-0.80.2/doc/cs/wmsetbg.1x	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/doc/cs/wmsetbg.1x	2003-10-22 14:08:37.000000000 +0400
@@ -0,0 +1,67 @@
+.\" Hey, Emacs!  This is an -*- nroff -*- source file.
+.TH wmsetbg 1x "Leden 1999"
+.SH JMÉNO
+wmsetbg \- nastaví pozadí hlavního okna v X11
+.SH SYNTAXE
+.B wmsetbg
+[-display] [--version] [--help] [{-b|--back-color} \fIbarva\fP]
+[{-t|--tile}|{-e|--center}|{-s|--scale}|{-a|--maxscale} \fIobrázek\fP]
+[{-d|--dither}|{-m|--match}] [-u|--update-wmaker]
+[{-D|--update-domain} \fIdoména\fP] [{-c|--colors} \fIcpc\fP]
+[{-p|--parse} \fItextura\fP] [{-w|--workspace} \fIpracovní plocha\fP]
+.SH POPIS
+.B wmsetbg
+naèítá daný
+.I obrázek
+(XPM, PNG, jpeg, Tiff, raw PPM) a vlo¾í ho do hlavního okna. Obrázek je mo¾né
+zvìt¹it, nebo ho opakovat aby vyplnil hlavní okno. Window Maker pou¾íva
+tento pøíkaz internì na nastavení pozadí pøi startu.
+.SH VOLBY
+.TP
+.B -a|--maxscale
+zvìt¹í daný \fIobrázek\fP pøi dodr¾ení pomìru stran
+.TP
+.B -e|--center
+vlo¾í \fIobrázek\fP do støedu okna
+.TP
+.B -t|--tile
+vytvoøí z \fIobrázku\fP dla¾dice
+.TP
+.B -s|--scale
+roztáhne daný \fIobrázek\fP (standartnì)
+.TP
+.B -d|--dither
+rezervuje barvy
+.TP
+.B -m|--match
+shodné barvy
+.TP
+.B -u|--update-wmaker
+zapí¹e zmìnu do databáze nastavení Window Makera
+.TP
+.B -D|--update-domain
+zapí¹e zmìnu do databáze \fIdomény\fP
+.TP
+.B -c|--colors
+pou¾íje urèitý poèet barev na kanál
+.TP
+.B -p|--parse
+parsuje danou \fItexturu\fP jako \fIproplist stylu textur\fP
+.TP
+.B -w|--workspace
+nastaví pozadí jen na dané \fIpracovní plo¹e\fP
+.TP
+.B \-\-help
+vypí¹e nápovìdu
+.TP
+.B \-\-version
+vypí¹e èíslo verze
+.SH PODÍVEJTE SE TAKÉ
+.BR wmaker (1x)
+.SH AUTOR
+Autorem Window Makera je Alfredo K. Kojima <kojima@windowmaker.org>.
+wmsetbg napsal Dan Pascu <dan@windowmaker.org>
+.PP
+Tuto manuálovou stránku napsal Marcelo Magallon <mmagallo@debian.org>.
+.PP
+Do èe¹tiny pøelo¾il Jiøí Hnídek <jiri.hnidek@vslib.cz>.
diff -Naur WindowMaker-0.80.2/doc/cs/wsetfont.1x wm-xft2/doc/cs/wsetfont.1x
--- WindowMaker-0.80.2/doc/cs/wsetfont.1x	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/doc/cs/wsetfont.1x	2003-10-22 14:08:37.000000000 +0400
@@ -0,0 +1,33 @@
+.\" Hey, Emacs!  This is an -*- nroff -*- source file.
+.TH wsetfont 1x "Leden 1999" "Window Maker utilities"
+.SH JMÉNO
+wsetfont \- nástroj pro nastavení fontù/jazyka Window Makera
+.SH SYNTAXE
+\fBwsetfont\fP \fIsada\-fontù\fP
+.SH POPIS
+\fBwsetfont\fP nastaví fonty, které pou¾ívá WINGs a Window Maker
+na sady fontù odpovedající rùzným znakovým sadám. Rozpoznáva
+nasledující znakové sady: \fIlatin1\fP, \fIlatin2\fP, \fIgreek\fP,
+\fIjapanese\fP, \fIkorean\fP, \fIkorean2\fP, \fIrussian\fP,
+\fIturkish\fP.
+.PP
+Zapí¹e nastavení do databáze WMGLOBAL a WindowMaker.
+.SH SOUBORY
+.TP
+.B GNUstep/Defaults/WMGLOBAL
+Spoleèné nastavení pro knihovnu WINGs a Window Maker
+.TP
+.B GNUstep/Defaults/WindowMaker
+Nastavení specifické pro Window Maker
+.PP
+Prosím, pøeètìte si \fBwmaker\fP(1x), kde najdete umístìní tìchto
+souborù.
+.SH PODÍVEJTE SE TAKÉ
+.BR wmaker (1x)
+.SH AUTOR
+Autorem Window Makera je Alfredo K. Kojima <kojima@windowmaker.org>.
+Autorem wsetfont je MANOME Tomonori <manome@itlb.te.noda.sut.ac.jp>
+.PP
+Tuto manuálovou stránku napsal Marcelo Magallon <mmagallo@debian.org>.
+.PP
+Do èe¹tiny pøelo¾il Jiøí Hnídek <jiri.hnidek@vslib.cz>.
diff -Naur WindowMaker-0.80.2/doc/cs/wxcopy.1x wm-xft2/doc/cs/wxcopy.1x
--- WindowMaker-0.80.2/doc/cs/wxcopy.1x	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/doc/cs/wxcopy.1x	2003-10-22 14:08:37.000000000 +0400
@@ -0,0 +1,45 @@
+.\" Hey, Emacs!  This is an -*- nroff -*- source file.
+.TH wxcopy 1x "Záøí 1998"
+.SH JMÉNO
+wxcopy \- kopíruje standartní vstup do vyrovnávací pamìti
+.SH SYNOPSIS
+.B wxcopy
+[volby]
+[soubor]
+.SH POPIS
+.B wxcopy
+kopíruje standartní vstup nebo
+.I soubor
+do vyrovnávací pamìti. Jakmile není dáná nìjaká vyrovnávací pamì», tak se
+data kopírují do vyrovnávací pamìti 0 a ostaní vyrovnávací pamìti rotují,
+jestli¾e ov¹em existují. Pokud je dáná vyrovnávací pamì», tak se data
+kopírují do ní a nevykoná se ¾ádné rotování.
+.SH VOLBY
+.TP
+.B \-cutbuffer èíslo
+Specifikuje èíslo vyrovnávací pamìti, do které se budou kopírovat data.
+.TP
+.B \-display displej
+Data se budou kopírovat do vyrovnávací pamìti daného displeje/obrazovky.
+.TP
+.B \-nolimit
+Vypne normální limit velikosti dat 64kb, èím¾ se umo¾ní zvìt¹ování vyrovnávací
+pamìti podla potøeby.
+.TP
+.B \-clearselection
+Vyprázdní vlastníka PRIMARY selekce. V praxi to znamená, ¾e kdy¾ se pokusíte
+vlo¾it data prostøedním tlaèítkem (napøíklad), tak vlo¾í se data z vyrovnávací 
+pamìti 0, namísto pøípadného spu¹tìní selelekce my¹i.
+.PP
+.SH PODÍVEJTE SE TAKÉ
+.BR wxpaste (1x),
+.BR wmaker (1x)
+.SH AUTOR
+Autorem Window Makera je Alfredo K. Kojima <kojima@windowmaker.org>.
+.PP
+Tuto manuálovou stránku napsal Marcelo Magallon <mmagallo@debian.org>.
+.PP
+Do èe¹tiny pøelo¾il Jiøí Hnídek <jiri.hnidek@vslib.cz>.
+.PP
+Kompatibilitu s binárními daty a \-nolimit implementoval Luke Kendall
+<luke@research.canon.com.au>.
diff -Naur WindowMaker-0.80.2/doc/cs/wxpaste.1x wm-xft2/doc/cs/wxpaste.1x
--- WindowMaker-0.80.2/doc/cs/wxpaste.1x	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/doc/cs/wxpaste.1x	2003-10-22 14:08:37.000000000 +0400
@@ -0,0 +1,40 @@
+.\" Hey, Emacs!  This is an -*- nroff -*- source file.
+.TH wxpaste 1x "Bøezen 1998"
+.SH JMÉNO
+wxpaste \- zapí¹e vyrovnávací pamì» na standardní výstup
+.SH SYNTAXE
+.B wxpaste
+[volby]
+.SH POPIS
+.B wxpaste
+vypí¹e obsah dané vyrovnávací pamìti na standardní výstup. Jakmile není
+zadána ¾ádná vyrovnávací pamì», tak se pou¾ije vyrovnávací pamì» 0.
+.PP
+.SH VOLBY
+.TP
+.B \-cutbuffer èíslo
+Data budou vlo¾ena z dané vyrovnávací pamìti namísto standardní 0.
+.TP
+.B \-display displej
+Data se budou kopírovat z vyrovnávací pamìti daného displeje/obrazovky.
+.TP
+.B \-selection [selekcia]
+Data budou kopírované z dané selekce. Jakmile se výbìr ze selekce nepodaøí,
+tak se pou¾ije vyrovnávací pamì». Implicitní hodnota pro selekci je PRIMARY.
+.PP
+.SH CHYBY
+\-selection musí být poslední volba. Syntaxe mù¾e být upravená, ale
+brání tomu ¹patná kompatibilita.
+
+Typy selekcí INCR a MULTIPLE nejsou podporované. Ve skuteènosti je
+podporovaný jen jednoduchý text, co¾ by mìlo staèit pro vìt¹inu u¾ivatelù
+takovéto jednoduché utilitky.
+.SH PODÍVEJTE SE TAKÉ
+.BR wxcopy (1x),
+.BR wmaker (1x)
+.SH AUTOR
+Autorem Window Makera je Alfredo K. Kojima <kojima@windowmaker.org>.
+.PP
+Tuto manuálovou stránku napsal Marcelo Magallon <mmagallo@debian.org>.
+.PP
+Do èe¹tiny pøelo¾il Jiøí Hnídek <jiri.hnidek@vslib.cz>.
diff -Naur WindowMaker-0.80.2/doc/wmsetbg.1x wm-xft2/doc/wmsetbg.1x
--- WindowMaker-0.80.2/doc/wmsetbg.1x	1999-02-17 14:06:46.000000000 +0300
+++ wm-xft2/doc/wmsetbg.1x	2003-10-22 14:08:36.000000000 +0400
@@ -22,6 +22,14 @@
 .B -a|--maxscale
 scales the specified \fIimage\fP preserving its aspect ratio
 .TP
+.B -b|--back-color
+the specified \fIcolor\fP is used as the background color for the
+\fItexture\fP.  Window Maker temporarely sets the background to this
+color while loading and processing the texture.  You can specify colors
+using their X11 names or as an RGB tiplet (either as "rgb:RR/GG/BB" or
+"#RRGGBB") (reference to appropiate manpage should be here).  In the
+later case \fIcolor\fB is a quoted string.
+.TP
 .B -e|--center
 centers the specified \fIimage\fP
 .TP
diff -Naur WindowMaker-0.80.2/FAQ wm-xft2/FAQ
--- WindowMaker-0.80.2/FAQ	2001-10-04 02:53:18.000000000 +0400
+++ wm-xft2/FAQ	2003-10-22 14:08:34.000000000 +0400
@@ -1074,16 +1074,29 @@
 4.16 How can I set dock/clip to use single click to launch
      applications, instead of double click?
 ----------------------------------
-You cannot do this. This is because single click is used to select app-icons,
-or to raise/lower the app-icon or the dock/clip.
-If this is impelmented then you will be unable to select or raise/lower
-dock/clip or app-icons, without also launching the application it represents.
-
-So don't ask for this to be implemented, because it will not be. Double
-click is used for a reason, is not just some weird idea we got in a morning
-when we wake up too early.
-
+This question was officially answered as follows:
 
+    You cannot do this. This is because single click is used to select
+    app-icons, or to raise/lower the app-icon or the dock/clip.  If
+    this is impelmented then you will be unable to select or
+    raise/lower dock/clip or app-icons, without also launching the
+    application it represents.
+
+    So don't ask for this to be implemented, because it will not
+    be. Double click is used for a reason, is not just some weird idea
+    we got in a morning when we wake up too early.
+
+Regardless of that, there is now an option in WPrefs, under "Expert
+User Preferences," which allows you to set "Launch applications and
+restore windows with a single click."  (See the files contrib/README
+and contrib/single_click.diff in the source package for details.)
+
+If you set that option, a left button single click will launch or
+restore, rather than select, the app-icon.  You can use other methods
+(or temporarily turn the option off again) to select app-icons or
+raise/lower the dock/clip.  You can toggle the selected state of any
+app-icon via its right button menu, and there are auto-raise and
+keep-on-top options for the dock and clip.
 
 
 4.18 How do I restore the configuration app to the dock?
diff -Naur WindowMaker-0.80.2/Install wm-xft2/Install
--- WindowMaker-0.80.2/Install	2001-05-13 03:21:40.000000000 +0400
+++ wm-xft2/Install	2003-10-22 14:08:34.000000000 +0400
@@ -67,10 +67,6 @@
 echo "answered in the documentation."
 echo
 perai
-echo
-echo "Did you install libPropList? If not, please install it now."
-echo
-perai
 echo "Did you read the INSTALL file?"
 echo -n "<y/n> "
 read rtfm
diff -Naur WindowMaker-0.80.2/INSTALL wm-xft2/INSTALL
--- WindowMaker-0.80.2/INSTALL	2002-02-21 14:28:33.000000000 +0300
+++ wm-xft2/INSTALL	2003-10-22 14:08:34.000000000 +0400
@@ -74,7 +74,7 @@
 	These tools are NOT needed, but IF you have one or
 	more of them installed, make sure you have ALL of the following 
 	with exactly these versions:
-		autoconf 2.52
+		autoconf 2.54
 		automake 1.4
 		libtool 1.4.2
 	If you have a different version, disable them by temporarily
@@ -115,11 +115,6 @@
 	For GIF image support
 	ftp://prtr-13.ucsc.edu/pub/libungif/
 
-- libHermes 1.3.2 or newer
-	For faster pixel conversion in the wraster library
-        (its used only in some conversions - for TrueColor visuals)
-	http://www.clanlib.org/hermes/
-
 - GNU xgettext
 	If you want to use translated messages, you will need GNU gettext.
 	Other versions of gettext are not compatible and will not work.
diff -Naur WindowMaker-0.80.2/INSTALL.cs wm-xft2/INSTALL.cs
--- WindowMaker-0.80.2/INSTALL.cs	2002-02-18 16:50:30.000000000 +0300
+++ wm-xft2/INSTALL.cs	2003-10-22 14:08:34.000000000 +0400
@@ -64,9 +64,9 @@
         Tyto nástroje NEJSOU POTØEBA, ale kdy¾ máte jeden nebo dva nebo
         v¹echny tøi nainstalované, tak se UJISTÌTE, ¾e máte pøesnì
         následující VERZE:
-                autoconf 2.13
+                autoconf 2.54
                 automake 1.4
-                libtool 1.3
+                libtool 1.4.2
         Máte-li odli¹nou verzi, tak ji doèasnì pøejmenujte, nebo ji rovnou
         odinstalujte z va¹eho systému. Pokud nebudete programovat, tak ji
         stejnì nebudete potøebovat, tak¾e ji mù¾ete bezpeènì odinstalovat.
@@ -106,11 +106,6 @@
         Pro podporu GIF obrázkù
         Dostupné na ftp://prtr-13.ucsc.edu/pub/libungif/
 
-- libHermes 1.3.2 nebo novìj¹í
-        Pro rychlej¹í konverzi obrázkù (pou¾ívá knihovna wraster)
-        Pou¾ívá se pouze v nìkterých konverzích - pro TrueColor zobrazení
-        http://www.clanlib.org/hermes/
-
 -GNU xgettxt
         Kdy¾ chcete pou¾ívat èe¹tinu nebo jiné jazyky kromì angliètiny,
         tak potøebujete GNU xgettext.
diff -Naur WindowMaker-0.80.2/INSTALL.es wm-xft2/INSTALL.es
--- WindowMaker-0.80.2/INSTALL.es	2002-02-21 14:28:34.000000000 +0300
+++ wm-xft2/INSTALL.es	2003-10-22 14:08:34.000000000 +0400
@@ -78,9 +78,9 @@
 	instaladas, asegúrese de tener TODO lo siguiente con estas versiones
 	 exactas:
 	 	
-		autoconf 2.13
+		autoconf 2.54
 		automake 1.4
-		libtool 1.3
+		libtool 1.4.2
 	
 	Si tiene una versión distinta, desactívelas temporalemte renombrándolas
 	a otras cosa o desinstalándolas desde su sistema. Si no desarrolla
@@ -122,11 +122,6 @@
 	Para soporte de imagen GIF.
 	ftp://prtr-13.ucsc.edu/pub/libungif/
 
-- libHermes 1.3.2 o más actual
-	Para conversión a pixel más rápida en la biblioteca wraster.
-	(se usa solo en algunas conversiones - para visuales Color Verdadero)
-	http://www.clanlib.org/hermes/
-
 - GNU xgettext
 	Si quiere usar mensajes traducidos, necesitará GNU gettext.
 	Otras versiones de gettext no son compatibles y no funcionarán.
diff -Naur WindowMaker-0.80.2/INSTALL.fr wm-xft2/INSTALL.fr
--- WindowMaker-0.80.2/INSTALL.fr	2001-10-08 23:19:33.000000000 +0400
+++ wm-xft2/INSTALL.fr	2003-10-22 14:08:34.000000000 +0400
@@ -77,9 +77,9 @@
 	Ces outils ne sont pas indispensables, mais si au moins l'un d'eux
 	est installé sur votre système, assurez-vous que TOUS le sont, et
 	que les versions de ces outils sont exactement :
-		autoconf 2.13
+		autoconf 2.54
 		automake 1.4
-		libtool 1.3
+		libtool 1.4.2
 	Si les versions installées sur votre système différent, désactivez-les
 	provisoirement, par exemple en les renommant, ou en les désinstallant
 	de votre système. Si vous ne développez ni de compilez de logiciels,
@@ -120,12 +120,6 @@
 	Pour pouvoir utiliser les images au format GIF.
 	ftp://prtr-13.ucsc.edu/pub/libungif/
 
-- libHermes 1.3.2 ou plus récent
-	Pour une conversion de pixels plus rapide dans la librairie wraster.
-	  (utilisé uniquement pour des conversions spécifiques dont les modes
-	  vidéo TrueColor)
-	http://www.clanlib.org/hermes/
-
 - GNU xgettext
 	Si vous voulez disposer des traductions en d'autres langues, GNU gettext
 	est nécessaire. Les autres versions de gettext sont incompatibles et ne
diff -Naur WindowMaker-0.80.2/INSTALL.pt wm-xft2/INSTALL.pt
--- WindowMaker-0.80.2/INSTALL.pt	1999-09-16 06:26:05.000000000 +0400
+++ wm-xft2/INSTALL.pt	2003-10-22 14:08:34.000000000 +0400
@@ -68,9 +68,9 @@
 - autoconf, automake and libtool
 	Estes pacotes não são necessários, mas se você tiver um ou mais deles instalados,
 	verifique se todos eles são das seguintes versões:
-		autoconf 2.13
+		autoconf 2.54
 		automake 1.4
-		libtool 1.3
+		libtool 1.4.2
 	Se você possui uma versão diferente, desative-os mudando os nomes dos arquivos
 	para outra coisa ou removendo-os do seu sistema. Se você não desenvolve
 	software você não precisa deles, logo, você pode desinstalá-los com segurança.
diff -Naur WindowMaker-0.80.2/INSTALL.sk wm-xft2/INSTALL.sk
--- WindowMaker-0.80.2/INSTALL.sk	2001-07-31 00:53:35.000000000 +0400
+++ wm-xft2/INSTALL.sk	2003-10-22 14:08:34.000000000 +0400
@@ -71,9 +71,9 @@
 - autoconf, automake a libtool
 	Tieto nástroje NIE sú potrebné, ale ak máte niektoré z nich nain¹talo-
 	vané, uistite sa, ¾e V©ETKY sú presne nasledovné verzie:
-		autoconf 2.13
+		autoconf 2.54
 		automake 1.4
-		libtool 1.3
+		libtool 1.4.2
 	Ak máte odli¹né verzie, odin¹talujte ich alebo ich doèasne premenujte.
 	Ak neprogramujete, nebudete ich potrebova» a teda ich mô¾ete
 	odin¹talova».
diff -Naur WindowMaker-0.80.2/Makefile.am wm-xft2/Makefile.am
--- WindowMaker-0.80.2/Makefile.am	2002-02-21 14:28:34.000000000 +0300
+++ wm-xft2/Makefile.am	2003-10-22 14:29:40.000000000 +0400
@@ -3,12 +3,11 @@
 SUBDIRS = wrlib WINGs src util po WindowMaker wmlib test WPrefs.app doc\
 	contrib
 
-EXTRA_DIST = TODO BUGS BUGFORM FAQ FAQ.I18N MIRRORS COPYING.WTFPL \
-	Install acconfig.h INSTALL.pt README.pt\
-	FAQ.I18N.cs INSTALL.cs\
-	mkpatch README.KDE README.GNOME WindowMaker.lsm.in\
-	README.definable-cursor \
-	FAQ.I18N.sk INSTALL.sk INSTALL.es INSTALL.fr
+EXTRA_DIST = TODO BUGS BUGFORM FAQ FAQ.I18N FAQ.I18N.cs FAQ.I18N.sk \
+	Install INSTALL.cs INSTALL.fr INSTALL.es INSTALL.pt INSTALL.sk \
+	README.antialiasing README.definable-cursor README.pt \
+	README.KDE README.GNOME Sample.XftConfig \
+	MIRRORS COPYING.WTFPL mkpatch WindowMaker.lsm.in
 #	libwmfun-0.0.3.tar.gz
 
 WindowMaker.lsm: WindowMaker.lsm.in
diff -Naur WindowMaker-0.80.2/NEWS wm-xft2/NEWS
--- WindowMaker-0.80.2/NEWS	2002-11-08 18:39:26.000000000 +0300
+++ wm-xft2/NEWS	2003-10-22 14:29:40.000000000 +0400
@@ -2,10 +2,56 @@
 NEWS for veteran Window Maker users
 -----------------------------------
 
+--- 0.81.0
 
---- 0.80.1
+Antialiased font support
+------------------------
+
+With the addition of support for antialiased fonts in the WINGs library, now
+Window Maker can also support antialiased fonts. However enabling them may
+prove not to be a trivial task to do. This is because enabling antialiased
+fonts doesn't depend solely on Window Maker and its configuration files. It
+also depends on the X server, the X server extension modules and their
+specific configuration files.
+
+For a description of all the steps required to get antialiased fonts on
+screen please check the README.antialiasing file which describes all the
+things you need to do on a step by step basis. In addition it has extra
+useful hints and idea to make your antialiased fonts look nice in different
+contexts.
+
+After you have done all the steps described there, you can enable antialiased
+fonts either by adding AntialiasedText = Yes; in ~/GNUstep/Defaults/WindowMaker
+or by launching WPrefs and checking the "Smooth font edges" in the Expert User
+Preferences panel.
+
+As a general note you should always use a True Type font for your fonts if
+antialiasing is enabled, or alias a normal font to a True Type in the Xft
+configuration (read the details in README.antialiasing). Else you may get
+unepleasant results in the look of your screen :P
+
+
+Global Submenus
+---------------
+
+Global menus allow for system wide menus that are added to every users
+application menus. They are located in /usr/etc/WindowMaker/,
+/usr/local/etc/WindowMaker or whatever is your sysconf directory
+for WindowMaker. There are 2 files:
+
+GlobalMenu.pre, which is added to the beginning of the menu and
+GlobalMenu.post, which is added to the end of the menu.
+
+These are to be proplist format menus, for example:
+
+(("Foobar", EXEC, foobar),
+ ("Blabla", EXEC, blabla))
+
+or, in case you want a submenu:
 
-This release is just a bugfix over the previous version.
+(("Submenu", 
+	("Foobar", EXEC, foobar),
+	("Blabla", EXEC, blabla)))
 
 
 --- 0.80.0
diff -Naur WindowMaker-0.80.2/plugins/libwmfun/bilinear.c wm-xft2/plugins/libwmfun/bilinear.c
--- WindowMaker-0.80.2/plugins/libwmfun/bilinear.c	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/plugins/libwmfun/bilinear.c	2003-10-22 14:08:37.000000000 +0400
@@ -0,0 +1,85 @@
+/*
+ *  libwmfun - WindowMaker texture function library
+ *  Copyright (C) 1999 Tobias Gloth
+ * 
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the GNU General Public License as published by
+ *  the Free Software Foundation; either version 2 of the License, or
+ *  (at your option) any later version.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License
+ *  along with this program; if not, write to the Free Software
+ *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, 
+ *  USA.
+ */
+
+/*
+ * $Id: bilinear.c,v 1.1 2000/12/03 18:58:41 id Exp $
+ *
+ * $Log: bilinear.c,v $
+ * Revision 1.1  2000/12/03 18:58:41  id
+ * initiate plugins branch
+ *
+ * Revision 1.1.1.1  1999/02/21 17:16:47  gloth
+ * initial revision
+ *
+ */
+
+#include "generic.h"
+
+RImage *bilinear (int argc, char **argv, int width, int height,
+	int relief) {
+
+	int color[4][3];
+	RImage *image;
+	unsigned char *cptr;
+	int i, j, k;
+
+	argc--; argv++;
+
+	if (!start_image ("bilinear", argc, 4, 5, width, height, &image)) {
+		return (RImage *)0;
+	}
+
+	for (i=0; i<4; i++) {
+		if (!parse_color (argv[i], color[i])) {
+			error ("can't parse color: \"%s\"\n", argv[i]);
+			return 0;
+		}
+	}
+
+	cptr = image->data;
+    for (i=0; i<height; i++) {
+		int b = 0xff * i / height;
+		int t = 0xff - b;
+
+       	for (j=0; j<width; j++) {
+			int r = 0xff * j / width;
+			int l = 0xff - r;
+			int f[4];
+
+			f[0] = (l*t) >> 8;
+			f[1] = (r*t) >> 8;
+			f[2] = (l*b) >> 8;
+			f[3] = (r*b) >> 8;
+
+			for (k=0; k<3; k++) {
+				*cptr++ =
+					( f[0] * color[0][k] +
+					  f[1] * color[1][k] +
+					  f[2] * color[2][k] +
+					  f[3] * color[3][k] ) >> 8;
+			}
+
+			if (RRGBAFormat==image->format)
+				cptr++;
+		}
+	}
+	return image;
+}
+
diff -Naur WindowMaker-0.80.2/plugins/libwmfun/fade.c wm-xft2/plugins/libwmfun/fade.c
--- WindowMaker-0.80.2/plugins/libwmfun/fade.c	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/plugins/libwmfun/fade.c	2003-10-22 14:08:37.000000000 +0400
@@ -0,0 +1,128 @@
+/*
+ *  libwmfun - WindowMaker texture function library
+ *  Copyright (C) 1999 Tobias Gloth
+ * 
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the GNU General Public License as published by
+ *  the Free Software Foundation; either version 2 of the License, or
+ *  (at your option) any later version.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License
+ *  along with this program; if not, write to the Free Software
+ *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, 
+ *  USA.
+ */
+
+#include "getopt.h"
+#include <math.h>
+#include <stdlib.h>
+#include <time.h>
+
+#include "generic.h"
+
+RImage *fade (int argc, char **argv, int width, int height, int relief) {
+
+	int from[3] = { 0x00, 0x00, 0x00 };
+	int to[3] = { 0xff, 0xff, 0xff };
+	int *this, *last;
+	RImage *image;
+	unsigned char *cptr;
+	int i, j;
+	double factor, delta;
+
+	int c, done, option_index = 0;
+
+	optind = 1;
+	for (done=0; !done; ) {
+		static struct option long_options[] = {
+			{"from", 1, 0, 'f'},
+			{"to", 1, 0, 't'},
+			{0, 0, 0, 0}
+		};
+
+		c = getopt_long (argc, argv, "f:t:",
+			long_options, &option_index);
+		if (c == -1) {
+			break;
+		}
+
+		switch (c) {
+		case 'f':
+			if (!parse_color (optarg, from)) {
+				error ("invalid color: %s\n", optarg);
+				return 0;
+			}
+			break;
+		case 't':
+			if (!parse_color (optarg, to)) {
+				error ("invalid color: %s\n", optarg);
+				return 0;
+			}
+			break;
+		default:
+			done = 1;
+			break;
+		}
+	}
+
+	argc -= optind;
+	argv += optind;
+
+	if (!start_image ("fade", argc, 0, 1, width, height, &image)) {
+		return (RImage *)0;
+	}
+
+	this = (int *) malloc (width * sizeof (int));
+	last = (int *) malloc (width * sizeof (int));
+	if (!this || !last) {
+		RReleaseImage (image);
+		free (this);
+		free (last);
+		return (RImage *)0;
+	}
+
+	for (i=0; i<width; i++) {
+		this[i] = 255;
+	}
+
+	factor = pow (0.2, 1.0 / height);
+	delta = (factor < 0.5) ? 2.0 * factor : 2.0 * (1.0 - factor);
+
+	srand (time (0));
+
+	cptr = image->data;
+	for (j=0; j<height; j++) {
+		memcpy (last, this, width * sizeof (int));
+		for (i=0; i<width; i++) {
+			int output[3];
+			int k = i + random_int (3) - 1;
+			double f = factor + random_double (delta) - delta/2.0;
+
+			if (k < 0) {
+				k = 0;
+			}
+			if (k >= width) {
+				k = width - 1;
+			}
+
+			this[i] = (int) (f * last[k]);
+			interpolate_color (output, from, to, this[i]);
+			*cptr++ = output[0];
+			*cptr++ = output[1];
+			*cptr++ = output[2];
+			if (RRGBAFormat==image->format)
+				cptr++;
+		}
+	}
+
+	free (this);
+	free (last);
+
+	return image;
+}
+
diff -Naur WindowMaker-0.80.2/plugins/libwmfun/generic.c wm-xft2/plugins/libwmfun/generic.c
--- WindowMaker-0.80.2/plugins/libwmfun/generic.c	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/plugins/libwmfun/generic.c	2003-10-22 14:08:37.000000000 +0400
@@ -0,0 +1,116 @@
+/*
+ *  libwmfun - WindowMaker texture function library
+ *  Copyright (C) 1999 Tobias Gloth
+ * 
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the GNU General Public License as published by
+ *  the Free Software Foundation; either version 2 of the License, or
+ *  (at your option) any later version.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License
+ *  along with this program; if not, write to the Free Software
+ *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, 
+ *  USA.
+ */
+
+/*
+ * $Id: generic.c,v 1.1 2000/12/03 18:58:41 id Exp $
+ *
+ * $Log: generic.c,v $
+ * Revision 1.1  2000/12/03 18:58:41  id
+ * initiate plugins branch
+ *
+ * Revision 1.1.1.1  1999/02/21 17:16:47  gloth
+ * initial revision
+ *
+ */
+
+#include <stdarg.h>
+#include <stdio.h>
+#include <stdlib.h>
+
+#include "generic.h"
+
+static Display *dpy = 0;
+static Colormap cmap;
+
+void initWindowMaker (Display *d, Colormap c) {
+	if (!d) {
+		return;
+	}
+	dpy = d;
+	cmap = c;
+}
+
+void error (const char *format, ...) {
+	va_list args;
+	va_start (args, format);
+	vfprintf (stderr, format, args);
+	va_end (args);
+}
+
+int parse_color (const char *string, int *result) {
+	XColor color;
+
+	if (!XParseColor (dpy, cmap, string, &color)) {
+		return 0;
+	}
+	result[0] = color.red >> 8;
+	result[1] = color.green >> 8;
+	result[2] = color.blue >> 8;
+
+	return 1;
+}
+
+int parse_xcolor (const char *string, XColor *xcolor) {
+	if (!XParseColor (dpy, cmap, string, xcolor)) {
+        return 0;
+	}
+    if (!XAllocColor (dpy, cmap, xcolor)) {
+        return 0;
+    }
+
+	return 1;
+}
+
+void interpolate_color (int *t, const int *s0, const int *s1, int mix) {
+	t[0] = (mix * s0[0] + (255 - mix) * s1[0]) >> 8;
+	t[1] = (mix * s0[1] + (255 - mix) * s1[1]) >> 8;
+	t[2] = (mix * s0[2] + (255 - mix) * s1[2]) >> 8;
+}
+
+int random_int (int range) {
+	return rand() / (RAND_MAX / range + 1);
+}
+
+double random_double (double range) {
+	return ((double)rand()) / (((double)RAND_MAX) / range);
+}
+
+int start_image (const char *name,
+	int argc, int argc_min, int argc_max,
+	int width, int height, RImage **image) {
+
+	if (!dpy) {
+		error ("%s: library not initialized\n", name);
+		return 0;
+	}
+
+	if ((argc < argc_min) || (argc >= argc_max)) {
+		error ("%s: invalid number of parameters: \n", name, argc);
+		return 0;
+	}
+
+	*image = RCreateImage (width, height, 0);
+	if (!*image) {
+		error ("%s: can't create image\n", name);
+		return 0;
+	}
+	return 1;
+}
+
diff -Naur WindowMaker-0.80.2/plugins/libwmfun/generic.h wm-xft2/plugins/libwmfun/generic.h
--- WindowMaker-0.80.2/plugins/libwmfun/generic.h	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/plugins/libwmfun/generic.h	2003-10-22 14:08:37.000000000 +0400
@@ -0,0 +1,66 @@
+/*
+ *  libwmfun - WindowMaker texture function library
+ *  Copyright (C) 1999 Tobias Gloth
+ * 
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the GNU General Public License as published by
+ *  the Free Software Foundation; either version 2 of the License, or
+ *  (at your option) any later version.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License
+ *  along with this program; if not, write to the Free Software
+ *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, 
+ *  USA.
+ */
+
+/*
+ * $Id: generic.h,v 1.4 2001/01/07 02:59:11 id Exp $
+ *
+ * $Log: generic.h,v $
+ * Revision 1.4  2001/01/07 02:59:11  id
+ * remove stuffs
+ *
+ * Revision 1.3  2000/12/11 03:10:26  id
+ * changes related to plugin system & drawstring
+ *
+ * Revision 1.2  2000/12/03 22:18:20  id
+ * initiate
+ *
+ * Revision 1.1  2000/12/03 18:58:41  id
+ * initiate plugins branch
+ *
+ * Revision 1.1.1.1  1999/02/21 17:16:47  gloth
+ * initial revision
+ *
+ */
+
+#ifndef _GENERIC_H
+#define _GENERIC_H
+
+#include <X11/Xlib.h>
+
+#include <wraster.h>
+
+typedef struct _WPluginData {
+        int size;
+            void **array;
+} WPluginData;
+
+extern void initWindowMaker (Display *d, Colormap c);
+extern int start_image (const char *name, int argc, int argc_min, int argc_max,
+	int width, int height, RImage **image);
+extern void error (const char *format, ...);
+
+extern int parse_color (const char *string, int *result);
+extern void interpolate_color (int *t, const int *s0, const int *s1, int mix);
+
+extern int random_int (int range);
+extern double random_double (double range);
+
+
+#endif
diff -Naur WindowMaker-0.80.2/plugins/libwmfun/getopt1.c wm-xft2/plugins/libwmfun/getopt1.c
--- WindowMaker-0.80.2/plugins/libwmfun/getopt1.c	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/plugins/libwmfun/getopt1.c	2003-10-22 14:08:37.000000000 +0400
@@ -0,0 +1,173 @@
+/* getopt_long and getopt_long_only entry points for GNU getopt.
+   Copyright (C) 1987, 88, 89, 90, 91, 92, 1993
+	Free Software Foundation, Inc.
+
+   This program is free software; you can redistribute it and/or modify it
+   under the terms of the GNU General Public License as published by the
+   Free Software Foundation; either version 2, or (at your option) any
+   later version.
+
+   This program is distributed in the hope that it will be useful,
+   but WITHOUT ANY WARRANTY; without even the implied warranty of
+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+   GNU General Public License for more details.  */
+
+
+#include "getopt.h"
+
+#ifndef __STDC__
+/* This is a separate conditional since some stdc systems
+   reject `defined (const)'.  */
+#ifndef const
+#define const
+#endif
+#endif
+
+#include <stdio.h>
+
+/* Comment out all this code if we are using the GNU C Library, and are not
+   actually compiling the library itself.  This code is part of the GNU C
+   Library, but also included in many other GNU distributions.  Compiling
+   and linking in this code is a waste when using the GNU C library
+   (especially if it is a shared library).  Rather than having every GNU
+   program understand `configure --with-gnu-libc' and omit the object files,
+   it is simpler to just do this in the source for each such file.  */
+
+#if defined (_LIBC) || !defined (__GNU_LIBRARY__)
+
+
+/* This needs to come after some library #include
+   to get __GNU_LIBRARY__ defined.  */
+#ifdef __GNU_LIBRARY__
+#include <stdlib.h>
+#else
+char *getenv ();
+#endif
+
+#ifndef	NULL
+#define NULL 0
+#endif
+
+int
+getopt_long (argc, argv, options, long_options, opt_index)
+     int argc;
+     char *const *argv;
+     const char *options;
+     const struct option *long_options;
+     int *opt_index;
+{
+  return _getopt_internal (argc, argv, options, long_options, opt_index, 0);
+}
+
+/* Like getopt_long, but '-' as well as '--' can indicate a long option.
+   If an option that starts with '-' (not '--') doesn't match a long option,
+   but does match a short option, it is parsed as a short option
+   instead.  */
+
+int
+getopt_long_only (argc, argv, options, long_options, opt_index)
+     int argc;
+     char *const *argv;
+     const char *options;
+     const struct option *long_options;
+     int *opt_index;
+{
+  return _getopt_internal (argc, argv, options, long_options, opt_index, 1);
+}
+
+
+#endif	/* _LIBC or not __GNU_LIBRARY__.  */
+
+#ifdef TEST
+
+#include <stdio.h>
+
+int
+main (argc, argv)
+     int argc;
+     char **argv;
+{
+  int c;
+  int digit_optind = 0;
+
+  while (1)
+    {
+      int this_option_optind = optind ? optind : 1;
+      int option_index = 0;
+      static struct option long_options[] =
+      {
+	{"add", 1, 0, 0},
+	{"append", 0, 0, 0},
+	{"delete", 1, 0, 0},
+	{"verbose", 0, 0, 0},
+	{"create", 0, 0, 0},
+	{"file", 1, 0, 0},
+	{0, 0, 0, 0}
+      };
+
+      c = getopt_long (argc, argv, "abc:d:0123456789",
+		       long_options, &option_index);
+      if (c == EOF)
+	break;
+
+      switch (c)
+	{
+	case 0:
+	  printf ("option %s", long_options[option_index].name);
+	  if (optarg)
+	    printf (" with arg %s", optarg);
+	  printf ("\n");
+	  break;
+
+	case '0':
+	case '1':
+	case '2':
+	case '3':
+	case '4':
+	case '5':
+	case '6':
+	case '7':
+	case '8':
+	case '9':
+	  if (digit_optind != 0 && digit_optind != this_option_optind)
+	    printf ("digits occur in two different argv-elements.\n");
+	  digit_optind = this_option_optind;
+	  printf ("option %c\n", c);
+	  break;
+
+	case 'a':
+	  printf ("option a\n");
+	  break;
+
+	case 'b':
+	  printf ("option b\n");
+	  break;
+
+	case 'c':
+	  printf ("option c with value `%s'\n", optarg);
+	  break;
+
+	case 'd':
+	  printf ("option d with value `%s'\n", optarg);
+	  break;
+
+	case '?':
+	  break;
+
+	default:
+	  printf ("?? getopt returned character code 0%o ??\n", c);
+	}
+    }
+
+  if (optind < argc)
+    {
+      printf ("non-option ARGV-elements: ");
+      while (optind < argc)
+	printf ("%s ", argv[optind++]);
+      printf ("\n");
+    }
+
+  exit (0);
+}
+
+#endif /* TEST */
diff -Naur WindowMaker-0.80.2/plugins/libwmfun/getopt.c wm-xft2/plugins/libwmfun/getopt.c
--- WindowMaker-0.80.2/plugins/libwmfun/getopt.c	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/plugins/libwmfun/getopt.c	2003-10-22 14:08:37.000000000 +0400
@@ -0,0 +1,744 @@
+/* Getopt for GNU.
+   NOTE: getopt is now part of the C library, so if you don't know what
+   "Keep this file name-space clean" means, talk to roland@gnu.ai.mit.edu
+   before changing it!
+
+   Copyright (C) 1987, 88, 89, 90, 91, 92, 93, 94
+   	Free Software Foundation, Inc.
+
+   This program is free software; you can redistribute it and/or modify it
+   under the terms of the GNU General Public License as published by the
+   Free Software Foundation; either version 2, or (at your option) any
+   later version.
+
+   This program is distributed in the hope that it will be useful,
+   but WITHOUT ANY WARRANTY; without even the implied warranty of
+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+   GNU General Public License for more details.  */
+
+/* This tells Alpha OSF/1 not to define a getopt prototype in <stdio.h>.
+   Ditto for AIX 3.2 and <stdlib.h>.  */
+#ifndef _NO_PROTO
+#define _NO_PROTO
+#endif
+
+#ifndef __STDC__
+/* This is a separate conditional since some stdc systems
+   reject `defined (const)'.  */
+#ifndef const
+#define const
+#endif
+#endif
+
+#include <stdio.h>
+
+#ifdef HAVE_STRING_H
+#include <string.h>
+#endif
+
+/* Comment out all this code if we are using the GNU C Library, and are not
+   actually compiling the library itself.  This code is part of the GNU C
+   Library, but also included in many other GNU distributions.  Compiling
+   and linking in this code is a waste when using the GNU C library
+   (especially if it is a shared library).  Rather than having every GNU
+   program understand `configure --with-gnu-libc' and omit the object files,
+   it is simpler to just do this in the source for each such file.  */
+
+#if defined (_LIBC) || !defined (__GNU_LIBRARY__)
+
+
+/* This needs to come after some library #include
+   to get __GNU_LIBRARY__ defined.  */
+#ifdef	__GNU_LIBRARY__
+/* Don't include stdlib.h for non-GNU C libraries because some of them
+   contain conflicting prototypes for getopt.  */
+#include <stdlib.h>
+#endif	/* GNU C library.  */
+
+/* This version of `getopt' appears to the caller like standard Unix `getopt'
+   but it behaves differently for the user, since it allows the user
+   to intersperse the options with the other arguments.
+
+   As `getopt' works, it permutes the elements of ARGV so that,
+   when it is done, all the options precede everything else.  Thus
+   all application programs are extended to handle flexible argument order.
+
+   Setting the environment variable POSIXLY_CORRECT disables permutation.
+   Then the behavior is completely standard.
+
+   GNU application programs can use a third alternative mode in which
+   they can distinguish the relative order of options and other arguments.  */
+
+#include "getopt.h"
+
+/* For communication from `getopt' to the caller.
+   When `getopt' finds an option that takes an argument,
+   the argument value is returned here.
+   Also, when `ordering' is RETURN_IN_ORDER,
+   each non-option ARGV-element is returned here.  */
+
+char *optarg = NULL;
+
+/* Index in ARGV of the next element to be scanned.
+   This is used for communication to and from the caller
+   and for communication between successive calls to `getopt'.
+
+   On entry to `getopt', zero means this is the first call; initialize.
+
+   When `getopt' returns EOF, this is the index of the first of the
+   non-option elements that the caller should itself scan.
+
+   Otherwise, `optind' communicates from one call to the next
+   how much of ARGV has been scanned so far.  */
+
+/* XXX 1003.2 says this must be 1 before any call.  */
+int optind = 0;
+
+/* The next char to be scanned in the option-element
+   in which the last option character we returned was found.
+   This allows us to pick up the scan where we left off.
+
+   If this is zero, or a null string, it means resume the scan
+   by advancing to the next ARGV-element.  */
+
+static char *nextchar;
+
+/* Callers store zero here to inhibit the error message
+   for unrecognized options.  */
+
+int opterr = 1;
+
+/* Set to an option character which was unrecognized.
+   This must be initialized on some systems to avoid linking in the
+   system's own getopt implementation.  */
+
+int optopt = '?';
+
+/* Describe how to deal with options that follow non-option ARGV-elements.
+
+   If the caller did not specify anything,
+   the default is REQUIRE_ORDER if the environment variable
+   POSIXLY_CORRECT is defined, PERMUTE otherwise.
+
+   REQUIRE_ORDER means don't recognize them as options;
+   stop option processing when the first non-option is seen.
+   This is what Unix does.
+   This mode of operation is selected by either setting the environment
+   variable POSIXLY_CORRECT, or using `+' as the first character
+   of the list of option characters.
+
+   PERMUTE is the default.  We permute the contents of ARGV as we scan,
+   so that eventually all the non-options are at the end.  This allows options
+   to be given in any order, even with programs that were not written to
+   expect this.
+
+   RETURN_IN_ORDER is an option available to programs that were written
+   to expect options and other ARGV-elements in any order and that care about
+   the ordering of the two.  We describe each non-option ARGV-element
+   as if it were the argument of an option with character code 1.
+   Using `-' as the first character of the list of option characters
+   selects this mode of operation.
+
+   The special argument `--' forces an end of option-scanning regardless
+   of the value of `ordering'.  In the case of RETURN_IN_ORDER, only
+   `--' can cause `getopt' to return EOF with `optind' != ARGC.  */
+
+static enum
+{
+  REQUIRE_ORDER, PERMUTE, RETURN_IN_ORDER
+} ordering;
+
+/* Value of POSIXLY_CORRECT environment variable.  */
+static char *posixly_correct;
+
+#ifdef	__GNU_LIBRARY__
+/* We want to avoid inclusion of string.h with non-GNU libraries
+   because there are many ways it can cause trouble.
+   On some systems, it contains special magic macros that don't work
+   in GCC.  */
+#include <string.h>
+#define	my_index	strchr
+#else
+
+/* Avoid depending on library functions or files
+   whose names are inconsistent.  */
+
+char *getenv ();
+
+static char *
+my_index (str, chr)
+     const char *str;
+     int chr;
+{
+  while (*str)
+    {
+      if (*str == chr)
+	return (char *) str;
+      str++;
+    }
+  return 0;
+}
+
+/* If using GCC, we can safely declare strlen this way.
+   If not using GCC, it is ok not to declare it.  */
+#ifdef __GNUC__
+/* Note that Motorola Delta 68k R3V7 comes with GCC but not stddef.h.
+   That was relevant to code that was here before.  */
+#ifndef __STDC__
+/* gcc with -traditional declares the built-in strlen to return int,
+   and has done so at least since version 2.4.5. -- rms.  */
+extern int strlen (const char *);
+#endif /* not __STDC__ */
+#endif /* __GNUC__ */
+
+#endif /* not __GNU_LIBRARY__ */
+
+/* Handle permutation of arguments.  */
+
+/* Describe the part of ARGV that contains non-options that have
+   been skipped.  `first_nonopt' is the index in ARGV of the first of them;
+   `last_nonopt' is the index after the last of them.  */
+
+static int first_nonopt;
+static int last_nonopt;
+
+/* Exchange two adjacent subsequences of ARGV.
+   One subsequence is elements [first_nonopt,last_nonopt)
+   which contains all the non-options that have been skipped so far.
+   The other is elements [last_nonopt,optind), which contains all
+   the options processed since those non-options were skipped.
+
+   `first_nonopt' and `last_nonopt' are relocated so that they describe
+   the new indices of the non-options in ARGV after they are moved.  */
+
+static void
+exchange (argv)
+     char **argv;
+{
+  int bottom = first_nonopt;
+  int middle = last_nonopt;
+  int top = optind;
+  char *tem;
+
+  /* Exchange the shorter segment with the far end of the longer segment.
+     That puts the shorter segment into the right place.
+     It leaves the longer segment in the right place overall,
+     but it consists of two parts that need to be swapped next.  */
+
+  while (top > middle && middle > bottom)
+    {
+      if (top - middle > middle - bottom)
+	{
+	  /* Bottom segment is the short one.  */
+	  int len = middle - bottom;
+	  register int i;
+
+	  /* Swap it with the top part of the top segment.  */
+	  for (i = 0; i < len; i++)
+	    {
+	      tem = argv[bottom + i];
+	      argv[bottom + i] = argv[top - (middle - bottom) + i];
+	      argv[top - (middle - bottom) + i] = tem;
+	    }
+	  /* Exclude the moved bottom segment from further swapping.  */
+	  top -= len;
+	}
+      else
+	{
+	  /* Top segment is the short one.  */
+	  int len = top - middle;
+	  register int i;
+
+	  /* Swap it with the bottom part of the bottom segment.  */
+	  for (i = 0; i < len; i++)
+	    {
+	      tem = argv[bottom + i];
+	      argv[bottom + i] = argv[middle + i];
+	      argv[middle + i] = tem;
+	    }
+	  /* Exclude the moved top segment from further swapping.  */
+	  bottom += len;
+	}
+    }
+
+  /* Update records for the slots the non-options now occupy.  */
+
+  first_nonopt += (optind - last_nonopt);
+  last_nonopt = optind;
+}
+
+/* Initialize the internal data when the first call is made.  */
+
+static const char *
+_getopt_initialize (optstring)
+     const char *optstring;
+{
+  /* Start processing options with ARGV-element 1 (since ARGV-element 0
+     is the program name); the sequence of previously skipped
+     non-option ARGV-elements is empty.  */
+
+  first_nonopt = last_nonopt = optind = 1;
+
+  nextchar = NULL;
+
+  posixly_correct = getenv ("POSIXLY_CORRECT");
+
+  /* Determine how to handle the ordering of options and nonoptions.  */
+
+  if (optstring[0] == '-')
+    {
+      ordering = RETURN_IN_ORDER;
+      ++optstring;
+    }
+  else if (optstring[0] == '+')
+    {
+      ordering = REQUIRE_ORDER;
+      ++optstring;
+    }
+  else if (posixly_correct != NULL)
+    ordering = REQUIRE_ORDER;
+  else
+    ordering = PERMUTE;
+
+  return optstring;
+}
+
+/* Scan elements of ARGV (whose length is ARGC) for option characters
+   given in OPTSTRING.
+
+   If an element of ARGV starts with '-', and is not exactly "-" or "--",
+   then it is an option element.  The characters of this element
+   (aside from the initial '-') are option characters.  If `getopt'
+   is called repeatedly, it returns successively each of the option characters
+   from each of the option elements.
+
+   If `getopt' finds another option character, it returns that character,
+   updating `optind' and `nextchar' so that the next call to `getopt' can
+   resume the scan with the following option character or ARGV-element.
+
+   If there are no more option characters, `getopt' returns `EOF'.
+   Then `optind' is the index in ARGV of the first ARGV-element
+   that is not an option.  (The ARGV-elements have been permuted
+   so that those that are not options now come last.)
+
+   OPTSTRING is a string containing the legitimate option characters.
+   If an option character is seen that is not listed in OPTSTRING,
+   return '?' after printing an error message.  If you set `opterr' to
+   zero, the error message is suppressed but we still return '?'.
+
+   If a char in OPTSTRING is followed by a colon, that means it wants an arg,
+   so the following text in the same ARGV-element, or the text of the following
+   ARGV-element, is returned in `optarg'.  Two colons mean an option that
+   wants an optional arg; if there is text in the current ARGV-element,
+   it is returned in `optarg', otherwise `optarg' is set to zero.
+
+   If OPTSTRING starts with `-' or `+', it requests different methods of
+   handling the non-option ARGV-elements.
+   See the comments about RETURN_IN_ORDER and REQUIRE_ORDER, above.
+
+   Long-named options begin with `--' instead of `-'.
+   Their names may be abbreviated as long as the abbreviation is unique
+   or is an exact match for some defined option.  If they have an
+   argument, it follows the option name in the same ARGV-element, separated
+   from the option name by a `=', or else the in next ARGV-element.
+   When `getopt' finds a long-named option, it returns 0 if that option's
+   `flag' field is nonzero, the value of the option's `val' field
+   if the `flag' field is zero.
+
+   The elements of ARGV aren't really const, because we permute them.
+   But we pretend they're const in the prototype to be compatible
+   with other systems.
+
+   LONGOPTS is a vector of `struct option' terminated by an
+   element containing a name which is zero.
+
+   LONGIND returns the index in LONGOPT of the long-named option found.
+   It is only valid when a long-named option has been found by the most
+   recent call.
+
+   If LONG_ONLY is nonzero, '-' as well as '--' can introduce
+   long-named options.  */
+
+int
+_getopt_internal (argc, argv, optstring, longopts, longind, long_only)
+     int argc;
+     char *const *argv;
+     const char *optstring;
+     const struct option *longopts;
+     int *longind;
+     int long_only;
+{
+  optarg = NULL;
+
+  if (optind == 0)
+    optstring = _getopt_initialize (optstring);
+
+  if (nextchar == NULL || *nextchar == '\0')
+    {
+      /* Advance to the next ARGV-element.  */
+
+      if (ordering == PERMUTE)
+	{
+	  /* If we have just processed some options following some non-options,
+	     exchange them so that the options come first.  */
+
+	  if (first_nonopt != last_nonopt && last_nonopt != optind)
+	    exchange ((char **) argv);
+	  else if (last_nonopt != optind)
+	    first_nonopt = optind;
+
+	  /* Skip any additional non-options
+	     and extend the range of non-options previously skipped.  */
+
+	  while (optind < argc
+		 && (argv[optind][0] != '-' || argv[optind][1] == '\0'))
+	    optind++;
+	  last_nonopt = optind;
+	}
+
+      /* The special ARGV-element `--' means premature end of options.
+	 Skip it like a null option,
+	 then exchange with previous non-options as if it were an option,
+	 then skip everything else like a non-option.  */
+
+      if (optind != argc && !strcmp (argv[optind], "--"))
+	{
+	  optind++;
+
+	  if (first_nonopt != last_nonopt && last_nonopt != optind)
+	    exchange ((char **) argv);
+	  else if (first_nonopt == last_nonopt)
+	    first_nonopt = optind;
+	  last_nonopt = argc;
+
+	  optind = argc;
+	}
+
+      /* If we have done all the ARGV-elements, stop the scan
+	 and back over any non-options that we skipped and permuted.  */
+
+      if (optind == argc)
+	{
+	  /* Set the next-arg-index to point at the non-options
+	     that we previously skipped, so the caller will digest them.  */
+	  if (first_nonopt != last_nonopt)
+	    optind = first_nonopt;
+	  return EOF;
+	}
+
+      /* If we have come to a non-option and did not permute it,
+	 either stop the scan or describe it to the caller and pass it by.  */
+
+      if ((argv[optind][0] != '-' || argv[optind][1] == '\0'))
+	{
+	  if (ordering == REQUIRE_ORDER)
+	    return EOF;
+	  optarg = argv[optind++];
+	  return 1;
+	}
+
+      /* We have found another option-ARGV-element.
+	 Skip the initial punctuation.  */
+
+      nextchar = (argv[optind] + 1
+		  + (longopts != NULL && argv[optind][1] == '-'));
+    }
+
+  /* Decode the current option-ARGV-element.  */
+
+  /* Check whether the ARGV-element is a long option.
+
+     If long_only and the ARGV-element has the form "-f", where f is
+     a valid short option, don't consider it an abbreviated form of
+     a long option that starts with f.  Otherwise there would be no
+     way to give the -f short option.
+
+     On the other hand, if there's a long option "fubar" and
+     the ARGV-element is "-fu", do consider that an abbreviation of
+     the long option, just like "--fu", and not "-f" with arg "u".
+
+     This distinction seems to be the most useful approach.  */
+
+  if (longopts != NULL
+      && (argv[optind][1] == '-'
+	  || (long_only && (argv[optind][2] || !my_index (optstring, argv[optind][1])))))
+    {
+      char *nameend;
+      const struct option *p;
+      const struct option *pfound = NULL;
+      int exact = 0;
+      int ambig = 0;
+      int indfound;
+      int option_index;
+
+      for (nameend = nextchar; *nameend && *nameend != '='; nameend++)
+	/* Do nothing.  */ ;
+
+      /* Test all long options for either exact match
+	 or abbreviated matches.  */
+      for (p = longopts, option_index = 0; p->name; p++, option_index++)
+	if (!strncmp (p->name, nextchar, nameend - nextchar))
+	  {
+	    if (nameend - nextchar == (int) strlen (p->name))
+	      {
+		/* Exact match found.  */
+		pfound = p;
+		indfound = option_index;
+		exact = 1;
+		break;
+	      }
+	    else if (pfound == NULL)
+	      {
+		/* First nonexact match found.  */
+		pfound = p;
+		indfound = option_index;
+	      }
+	    else
+	      /* Second or later nonexact match found.  */
+	      ambig = 1;
+	  }
+
+      if (ambig && !exact)
+	{
+	  if (opterr)
+	    fprintf (stderr, "%s: option `%s' is ambiguous\n",
+		     argv[0], argv[optind]);
+	  nextchar += strlen (nextchar);
+	  optind++;
+	  return '?';
+	}
+
+      if (pfound != NULL)
+	{
+	  option_index = indfound;
+	  optind++;
+	  if (*nameend)
+	    {
+	      /* Don't test has_arg with >, because some C compilers don't
+		 allow it to be used on enums.  */
+	      if (pfound->has_arg)
+		optarg = nameend + 1;
+	      else
+		{
+		  if (opterr)
+		    {
+		      if (argv[optind - 1][1] == '-')
+			/* --option */
+			fprintf (stderr,
+				 "%s: option `--%s' doesn't allow an argument\n",
+				 argv[0], pfound->name);
+		      else
+			/* +option or -option */
+			fprintf (stderr,
+			     "%s: option `%c%s' doesn't allow an argument\n",
+			     argv[0], argv[optind - 1][0], pfound->name);
+		    }
+		  nextchar += strlen (nextchar);
+		  return '?';
+		}
+	    }
+	  else if (pfound->has_arg == 1)
+	    {
+	      if (optind < argc)
+		optarg = argv[optind++];
+	      else
+		{
+		  if (opterr)
+		    fprintf (stderr, "%s: option `%s' requires an argument\n",
+			     argv[0], argv[optind - 1]);
+		  nextchar += strlen (nextchar);
+		  return optstring[0] == ':' ? ':' : '?';
+		}
+	    }
+	  nextchar += strlen (nextchar);
+	  if (longind != NULL)
+	    *longind = option_index;
+	  if (pfound->flag)
+	    {
+	      *(pfound->flag) = pfound->val;
+	      return 0;
+	    }
+	  return pfound->val;
+	}
+
+      /* Can't find it as a long option.  If this is not getopt_long_only,
+	 or the option starts with '--' or is not a valid short
+	 option, then it's an error.
+	 Otherwise interpret it as a short option.  */
+      if (!long_only || argv[optind][1] == '-'
+	  || my_index (optstring, *nextchar) == NULL)
+	{
+	  if (opterr)
+	    {
+	      if (argv[optind][1] == '-')
+		/* --option */
+		fprintf (stderr, "%s: unrecognized option `--%s'\n",
+			 argv[0], nextchar);
+	      else
+		/* +option or -option */
+		fprintf (stderr, "%s: unrecognized option `%c%s'\n",
+			 argv[0], argv[optind][0], nextchar);
+	    }
+	  nextchar = (char *) "";
+	  optind++;
+	  return '?';
+	}
+    }
+
+  /* Look at and handle the next short option-character.  */
+
+  {
+    char c = *nextchar++;
+    char *temp = my_index (optstring, c);
+
+    /* Increment `optind' when we start to process its last character.  */
+    if (*nextchar == '\0')
+      ++optind;
+
+    if (temp == NULL || c == ':')
+      {
+	if (opterr)
+	  {
+	    if (posixly_correct)
+	      /* 1003.2 specifies the format of this message.  */
+	      fprintf (stderr, "%s: illegal option -- %c\n", argv[0], c);
+	    else
+	      fprintf (stderr, "%s: invalid option -- %c\n", argv[0], c);
+	  }
+	optopt = c;
+	return '?';
+      }
+    if (temp[1] == ':')
+      {
+	if (temp[2] == ':')
+	  {
+	    /* This is an option that accepts an argument optionally.  */
+	    if (*nextchar != '\0')
+	      {
+		optarg = nextchar;
+		optind++;
+	      }
+	    else
+	      optarg = NULL;
+	    nextchar = NULL;
+	  }
+	else
+	  {
+	    /* This is an option that requires an argument.  */
+	    if (*nextchar != '\0')
+	      {
+		optarg = nextchar;
+		/* If we end this ARGV-element by taking the rest as an arg,
+		   we must advance to the next element now.  */
+		optind++;
+	      }
+	    else if (optind == argc)
+	      {
+		if (opterr)
+		  {
+		    /* 1003.2 specifies the format of this message.  */
+		    fprintf (stderr, "%s: option requires an argument -- %c\n",
+			     argv[0], c);
+		  }
+		optopt = c;
+		if (optstring[0] == ':')
+		  c = ':';
+		else
+		  c = '?';
+	      }
+	    else
+	      /* We already incremented `optind' once;
+		 increment it again when taking next ARGV-elt as argument.  */
+	      optarg = argv[optind++];
+	    nextchar = NULL;
+	  }
+      }
+    return c;
+  }
+}
+
+int
+getopt (argc, argv, optstring)
+     int argc;
+     char *const *argv;
+     const char *optstring;
+{
+  return _getopt_internal (argc, argv, optstring,
+			   (const struct option *) 0,
+			   (int *) 0,
+			   0);
+}
+
+#endif	/* _LIBC or not __GNU_LIBRARY__.  */
+
+#ifdef TEST
+
+/* Compile with -DTEST to make an executable for use in testing
+   the above definition of `getopt'.  */
+
+int
+main (argc, argv)
+     int argc;
+     char **argv;
+{
+  int c;
+  int digit_optind = 0;
+
+  while (1)
+    {
+      int this_option_optind = optind ? optind : 1;
+
+      c = getopt (argc, argv, "abc:d:0123456789");
+      if (c == EOF)
+	break;
+
+      switch (c)
+	{
+	case '0':
+	case '1':
+	case '2':
+	case '3':
+	case '4':
+	case '5':
+	case '6':
+	case '7':
+	case '8':
+	case '9':
+	  if (digit_optind != 0 && digit_optind != this_option_optind)
+	    printf ("digits occur in two different argv-elements.\n");
+	  digit_optind = this_option_optind;
+	  printf ("option %c\n", c);
+	  break;
+
+	case 'a':
+	  printf ("option a\n");
+	  break;
+
+	case 'b':
+	  printf ("option b\n");
+	  break;
+
+	case 'c':
+	  printf ("option c with value `%s'\n", optarg);
+	  break;
+
+	case '?':
+	  break;
+
+	default:
+	  printf ("?? getopt returned character code 0%o ??\n", c);
+	}
+    }
+
+  if (optind < argc)
+    {
+      printf ("non-option ARGV-elements: ");
+      while (optind < argc)
+	printf ("%s ", argv[optind++]);
+      printf ("\n");
+    }
+
+  exit (0);
+}
+
+#endif /* TEST */
diff -Naur WindowMaker-0.80.2/plugins/libwmfun/getopt.h wm-xft2/plugins/libwmfun/getopt.h
--- WindowMaker-0.80.2/plugins/libwmfun/getopt.h	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/plugins/libwmfun/getopt.h	2003-10-22 14:08:37.000000000 +0400
@@ -0,0 +1,125 @@
+/* Declarations for getopt.
+   Copyright (C) 1989, 1990, 1991, 1992, 1993 Free Software Foundation, Inc.
+
+   This program is free software; you can redistribute it and/or modify it
+   under the terms of the GNU General Public License as published by the
+   Free Software Foundation; either version 2, or (at your option) any
+   later version.
+
+   This program is distributed in the hope that it will be useful,
+   but WITHOUT ANY WARRANTY; without even the implied warranty of
+   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+   GNU General Public License for more details.  */
+
+#ifndef _GETOPT_H
+#define _GETOPT_H 1
+
+#ifdef	__cplusplus
+extern "C" {
+#endif
+
+/* For communication from `getopt' to the caller.
+   When `getopt' finds an option that takes an argument,
+   the argument value is returned here.
+   Also, when `ordering' is RETURN_IN_ORDER,
+   each non-option ARGV-element is returned here.  */
+
+extern char *optarg;
+
+/* Index in ARGV of the next element to be scanned.
+   This is used for communication to and from the caller
+   and for communication between successive calls to `getopt'.
+
+   On entry to `getopt', zero means this is the first call; initialize.
+
+   When `getopt' returns EOF, this is the index of the first of the
+   non-option elements that the caller should itself scan.
+
+   Otherwise, `optind' communicates from one call to the next
+   how much of ARGV has been scanned so far.  */
+
+extern int optind;
+
+/* Callers store zero here to inhibit the error message `getopt' prints
+   for unrecognized options.  */
+
+extern int opterr;
+
+/* Set to an option character which was unrecognized.  */
+
+extern int optopt;
+
+/* Describe the long-named options requested by the application.
+   The LONG_OPTIONS argument to getopt_long or getopt_long_only is a vector
+   of `struct option' terminated by an element containing a name which is
+   zero.
+
+   The field `has_arg' is:
+   no_argument		(or 0) if the option does not take an argument,
+   required_argument	(or 1) if the option requires an argument,
+   optional_argument 	(or 2) if the option takes an optional argument.
+
+   If the field `flag' is not NULL, it points to a variable that is set
+   to the value given in the field `val' when the option is found, but
+   left unchanged if the option is not found.
+
+   To have a long-named option do something other than set an `int' to
+   a compiled-in constant, such as set a value from `optarg', set the
+   option's `flag' field to zero and its `val' field to a nonzero
+   value (the equivalent single-letter option character, if there is
+   one).  For long options that have a zero `flag' field, `getopt'
+   returns the contents of the `val' field.  */
+
+struct option
+{
+#if	__STDC__
+  const char *name;
+#else
+  char *name;
+#endif
+  /* has_arg can't be an enum because some compilers complain about
+     type mismatches in all the code that assumes it is an int.  */
+  int has_arg;
+  int *flag;
+  int val;
+};
+
+/* Names for the values of the `has_arg' field of `struct option'.  */
+
+#define	no_argument		0
+#define required_argument	1
+#define optional_argument	2
+
+#if __STDC__
+#if defined(__GNU_LIBRARY__)
+/* Many other libraries have conflicting prototypes for getopt, with
+   differences in the consts, in stdlib.h.  To avoid compilation
+   errors, only prototype getopt for the GNU C library.  */
+extern int getopt (int argc, char *const *argv, const char *shortopts);
+#else /* not __GNU_LIBRARY__ */
+extern int getopt ();
+#endif /* not __GNU_LIBRARY__ */
+extern int getopt_long (int argc, char *const *argv, const char *shortopts,
+		        const struct option *longopts, int *longind);
+extern int getopt_long_only (int argc, char *const *argv,
+			     const char *shortopts,
+		             const struct option *longopts, int *longind);
+
+/* Internal only.  Users should not call this directly.  */
+extern int _getopt_internal (int argc, char *const *argv,
+			     const char *shortopts,
+		             const struct option *longopts, int *longind,
+			     int long_only);
+#else /* not __STDC__ */
+extern int getopt ();
+extern int getopt_long ();
+extern int getopt_long_only ();
+
+extern int _getopt_internal ();
+#endif /* not __STDC__ */
+
+#ifdef	__cplusplus
+}
+#endif
+
+#endif /* _GETOPT_H */
diff -Naur WindowMaker-0.80.2/plugins/libwmfun/Makefile wm-xft2/plugins/libwmfun/Makefile
--- WindowMaker-0.80.2/plugins/libwmfun/Makefile	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/plugins/libwmfun/Makefile	2003-10-22 14:08:37.000000000 +0400
@@ -0,0 +1,340 @@
+# Generated automatically from Makefile.in by configure.
+# Makefile.in generated automatically by automake 1.4 from Makefile.am
+
+# Copyright (C) 1994, 1995-8, 1999 Free Software Foundation, Inc.
+# This Makefile.in is free software; the Free Software Foundation
+# gives unlimited permission to copy and/or distribute it,
+# with or without modifications, as long as this notice is preserved.
+
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
+# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
+# PARTICULAR PURPOSE.
+
+
+SHELL = /bin/sh
+
+srcdir = .
+top_srcdir = ..
+prefix = /usr/local
+exec_prefix = ${prefix}
+
+bindir = ${exec_prefix}/bin
+sbindir = ${exec_prefix}/sbin
+libexecdir = ${exec_prefix}/libexec
+datadir = ${prefix}/share
+sysconfdir = ${prefix}/etc
+sharedstatedir = ${prefix}/com
+localstatedir = ${prefix}/var
+libdir = ${exec_prefix}/lib
+infodir = ${prefix}/info
+mandir = ${prefix}/man
+includedir = ${prefix}/include
+oldincludedir = /usr/include
+
+DESTDIR =
+
+pkgdatadir = $(datadir)/libwmfun
+pkglibdir = $(libdir)/libwmfun
+pkgincludedir = $(includedir)/libwmfun
+
+top_builddir = ..
+
+ACLOCAL = aclocal
+AUTOCONF = autoconf
+AUTOMAKE = automake
+AUTOHEADER = autoheader
+
+INSTALL = /usr/bin/ginstall -c
+INSTALL_PROGRAM = ${INSTALL} $(AM_INSTALL_PROGRAM_FLAGS)
+INSTALL_DATA = ${INSTALL} -m 644
+INSTALL_SCRIPT = ${INSTALL_PROGRAM}
+transform = s,x,x,
+
+NORMAL_INSTALL = :
+PRE_INSTALL = :
+POST_INSTALL = :
+NORMAL_UNINSTALL = :
+PRE_UNINSTALL = :
+POST_UNINSTALL = :
+host_alias = i686-pc-linux
+host_triplet = i686-pc-linux-gnu
+AS = @AS@
+CC = gcc
+DLLTOOL = @DLLTOOL@
+LIBTOOL = $(SHELL) $(top_builddir)/libtool
+LN_S = ln -s
+MAKEINFO = makeinfo
+OBJDUMP = @OBJDUMP@
+PACKAGE = libwmfun
+RANLIB = ranlib
+VERSION = 0.0.4
+
+lib_LTLIBRARIES = libwmfun.la
+
+libwmfun_la_LDFLAGS = -version-info 1:0:1
+
+libwmfun_la_SOURCES = bilinear.c 		fade.c 		generic.c 		generic.h 		getopt.c 		getopt.h 		getopt1.c 		wave.c
+
+mkinstalldirs = $(SHELL) $(top_srcdir)/mkinstalldirs
+CONFIG_HEADER = config.h
+CONFIG_CLEAN_FILES = 
+LTLIBRARIES =  $(lib_LTLIBRARIES)
+
+
+DEFS = -DHAVE_CONFIG_H -I. -I$(srcdir) -I.
+CPPFLAGS = 
+LDFLAGS = 
+LIBS = 
+libwmfun_la_LIBADD = 
+libwmfun_la_OBJECTS =  bilinear.lo fade.lo generic.lo getopt.lo \
+getopt1.lo wave.lo
+CFLAGS = -g -O2
+COMPILE = $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+LTCOMPILE = $(LIBTOOL) --mode=compile $(CC) $(DEFS) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
+CCLD = $(CC)
+LINK = $(LIBTOOL) --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(LDFLAGS) -o $@
+DIST_COMMON =  ./stamp-h.in Makefile.am Makefile.in config.h.in
+
+
+DISTFILES = $(DIST_COMMON) $(SOURCES) $(HEADERS) $(TEXINFOS) $(EXTRA_DIST)
+
+TAR = tar
+GZIP_ENV = --best
+SOURCES = $(libwmfun_la_SOURCES)
+OBJECTS = $(libwmfun_la_OBJECTS)
+
+all: all-redirect
+.SUFFIXES:
+.SUFFIXES: .S .c .lo .o .s
+$(srcdir)/Makefile.in: Makefile.am $(top_srcdir)/configure.in $(ACLOCAL_M4) 
+	cd $(top_srcdir) && $(AUTOMAKE) --gnu --include-deps libwmfun/Makefile
+
+Makefile: $(srcdir)/Makefile.in  $(top_builddir)/config.status
+	cd $(top_builddir) \
+	  && CONFIG_FILES=$(subdir)/$@ CONFIG_HEADERS= $(SHELL) ./config.status
+
+
+config.h: stamp-h
+	@if test ! -f $@; then \
+		rm -f stamp-h; \
+		$(MAKE) stamp-h; \
+	else :; fi
+stamp-h: $(srcdir)/config.h.in $(top_builddir)/config.status
+	cd $(top_builddir) \
+	  && CONFIG_FILES= CONFIG_HEADERS=libwmfun/config.h \
+	     $(SHELL) ./config.status
+	@echo timestamp > stamp-h 2> /dev/null
+$(srcdir)/config.h.in: $(srcdir)/stamp-h.in
+	@if test ! -f $@; then \
+		rm -f $(srcdir)/stamp-h.in; \
+		$(MAKE) $(srcdir)/stamp-h.in; \
+	else :; fi
+$(srcdir)/stamp-h.in: $(top_srcdir)/configure.in $(ACLOCAL_M4) 
+	cd $(top_srcdir) && $(AUTOHEADER)
+	@echo timestamp > $(srcdir)/stamp-h.in 2> /dev/null
+
+mostlyclean-hdr:
+
+clean-hdr:
+
+distclean-hdr:
+	-rm -f config.h
+
+maintainer-clean-hdr:
+
+mostlyclean-libLTLIBRARIES:
+
+clean-libLTLIBRARIES:
+	-test -z "$(lib_LTLIBRARIES)" || rm -f $(lib_LTLIBRARIES)
+
+distclean-libLTLIBRARIES:
+
+maintainer-clean-libLTLIBRARIES:
+
+install-libLTLIBRARIES: $(lib_LTLIBRARIES)
+	@$(NORMAL_INSTALL)
+	$(mkinstalldirs) $(DESTDIR)$(libdir)
+	@list='$(lib_LTLIBRARIES)'; for p in $$list; do \
+	  if test -f $$p; then \
+	    echo "$(LIBTOOL)  --mode=install $(INSTALL) $$p $(DESTDIR)$(libdir)/$$p"; \
+	    $(LIBTOOL)  --mode=install $(INSTALL) $$p $(DESTDIR)$(libdir)/$$p; \
+	  else :; fi; \
+	done
+
+uninstall-libLTLIBRARIES:
+	@$(NORMAL_UNINSTALL)
+	list='$(lib_LTLIBRARIES)'; for p in $$list; do \
+	  $(LIBTOOL)  --mode=uninstall rm -f $(DESTDIR)$(libdir)/$$p; \
+	done
+
+.c.o:
+	$(COMPILE) -c $<
+
+.s.o:
+	$(COMPILE) -c $<
+
+.S.o:
+	$(COMPILE) -c $<
+
+mostlyclean-compile:
+	-rm -f *.o core *.core
+
+clean-compile:
+
+distclean-compile:
+	-rm -f *.tab.c
+
+maintainer-clean-compile:
+
+.c.lo:
+	$(LIBTOOL) --mode=compile $(COMPILE) -c $<
+
+.s.lo:
+	$(LIBTOOL) --mode=compile $(COMPILE) -c $<
+
+.S.lo:
+	$(LIBTOOL) --mode=compile $(COMPILE) -c $<
+
+mostlyclean-libtool:
+	-rm -f *.lo
+
+clean-libtool:
+	-rm -rf .libs _libs
+
+distclean-libtool:
+
+maintainer-clean-libtool:
+
+libwmfun.la: $(libwmfun_la_OBJECTS) $(libwmfun_la_DEPENDENCIES)
+	$(LINK) -rpath $(libdir) $(libwmfun_la_LDFLAGS) $(libwmfun_la_OBJECTS) $(libwmfun_la_LIBADD) $(LIBS)
+
+tags: TAGS
+
+ID: $(HEADERS) $(SOURCES) $(LISP)
+	list='$(SOURCES) $(HEADERS)'; \
+	unique=`for i in $$list; do echo $$i; done | \
+	  awk '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	here=`pwd` && cd $(srcdir) \
+	  && mkid -f$$here/ID $$unique $(LISP)
+
+TAGS:  $(HEADERS) $(SOURCES) config.h.in $(TAGS_DEPENDENCIES) $(LISP)
+	tags=; \
+	here=`pwd`; \
+	list='$(SOURCES) $(HEADERS)'; \
+	unique=`for i in $$list; do echo $$i; done | \
+	  awk '    { files[$$0] = 1; } \
+	       END { for (i in files) print i; }'`; \
+	test -z "$(ETAGS_ARGS)config.h.in$$unique$(LISP)$$tags" \
+	  || (cd $(srcdir) && etags $(ETAGS_ARGS) $$tags config.h.in $$unique $(LISP) -o $$here/TAGS)
+
+mostlyclean-tags:
+
+clean-tags:
+
+distclean-tags:
+	-rm -f TAGS ID
+
+maintainer-clean-tags:
+
+distdir = $(top_builddir)/$(PACKAGE)-$(VERSION)/$(subdir)
+
+subdir = libwmfun
+
+distdir: $(DISTFILES)
+	@for file in $(DISTFILES); do \
+	  d=$(srcdir); \
+	  if test -d $$d/$$file; then \
+	    cp -pr $$d/$$file $(distdir)/$$file; \
+	  else \
+	    test -f $(distdir)/$$file \
+	    || ln $$d/$$file $(distdir)/$$file 2> /dev/null \
+	    || cp -p $$d/$$file $(distdir)/$$file || :; \
+	  fi; \
+	done
+info-am:
+info: info-am
+dvi-am:
+dvi: dvi-am
+check-am: all-am
+check: check-am
+installcheck-am:
+installcheck: installcheck-am
+all-recursive-am: config.h
+	$(MAKE) $(AM_MAKEFLAGS) all-recursive
+
+install-exec-am: install-libLTLIBRARIES
+install-exec: install-exec-am
+
+install-data-am:
+install-data: install-data-am
+
+install-am: all-am
+	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am
+install: install-am
+uninstall-am: uninstall-libLTLIBRARIES
+uninstall: uninstall-am
+all-am: Makefile $(LTLIBRARIES) config.h
+all-redirect: all-am
+install-strip:
+	$(MAKE) $(AM_MAKEFLAGS) AM_INSTALL_PROGRAM_FLAGS=-s install
+installdirs:
+	$(mkinstalldirs)  $(DESTDIR)$(libdir)
+
+
+mostlyclean-generic:
+
+clean-generic:
+
+distclean-generic:
+	-rm -f Makefile $(CONFIG_CLEAN_FILES)
+	-rm -f config.cache config.log stamp-h stamp-h[0-9]*
+
+maintainer-clean-generic:
+mostlyclean-am:  mostlyclean-hdr mostlyclean-libLTLIBRARIES \
+		mostlyclean-compile mostlyclean-libtool \
+		mostlyclean-tags mostlyclean-generic
+
+mostlyclean: mostlyclean-am
+
+clean-am:  clean-hdr clean-libLTLIBRARIES clean-compile clean-libtool \
+		clean-tags clean-generic mostlyclean-am
+
+clean: clean-am
+
+distclean-am:  distclean-hdr distclean-libLTLIBRARIES distclean-compile \
+		distclean-libtool distclean-tags distclean-generic \
+		clean-am
+	-rm -f libtool
+
+distclean: distclean-am
+
+maintainer-clean-am:  maintainer-clean-hdr \
+		maintainer-clean-libLTLIBRARIES \
+		maintainer-clean-compile maintainer-clean-libtool \
+		maintainer-clean-tags maintainer-clean-generic \
+		distclean-am
+	@echo "This command is intended for maintainers to use;"
+	@echo "it deletes files that may require special tools to rebuild."
+
+maintainer-clean: maintainer-clean-am
+
+.PHONY: mostlyclean-hdr distclean-hdr clean-hdr maintainer-clean-hdr \
+mostlyclean-libLTLIBRARIES distclean-libLTLIBRARIES \
+clean-libLTLIBRARIES maintainer-clean-libLTLIBRARIES \
+uninstall-libLTLIBRARIES install-libLTLIBRARIES mostlyclean-compile \
+distclean-compile clean-compile maintainer-clean-compile \
+mostlyclean-libtool distclean-libtool clean-libtool \
+maintainer-clean-libtool tags mostlyclean-tags distclean-tags \
+clean-tags maintainer-clean-tags distdir info-am info dvi-am dvi check \
+check-am installcheck-am installcheck all-recursive-am install-exec-am \
+install-exec install-data-am install-data install-am install \
+uninstall-am uninstall all-redirect all-am all installdirs \
+mostlyclean-generic distclean-generic clean-generic \
+maintainer-clean-generic clean mostlyclean distclean maintainer-clean
+
+
+# Tell versions [3.59,3.63) of GNU make to not export all variables.
+# Otherwise a system limit (for SysV at least) may be exceeded.
+.NOEXPORT:
diff -Naur WindowMaker-0.80.2/plugins/libwmfun/wave.c wm-xft2/plugins/libwmfun/wave.c
--- WindowMaker-0.80.2/plugins/libwmfun/wave.c	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/plugins/libwmfun/wave.c	2003-10-22 14:08:37.000000000 +0400
@@ -0,0 +1,134 @@
+/*
+ *  libwmfun - WindowMaker texture function library
+ *  Copyright (C) 1999 Tobias Gloth
+ * 
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the GNU General Public License as published by
+ *  the Free Software Foundation; either version 2 of the License, or
+ *  (at your option) any later version.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License
+ *  along with this program; if not, write to the Free Software
+ *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, 
+ *  USA.
+ */
+
+/*
+ * $Id: wave.c,v 1.1 2000/12/03 18:58:41 id Exp $
+ *
+ * $Log: wave.c,v $
+ * Revision 1.1  2000/12/03 18:58:41  id
+ * initiate plugins branch
+ *
+ * Revision 1.1.1.1  1999/02/21 17:16:47  gloth
+ * initial revision
+ *
+ */
+
+#include "getopt.h"
+#include <math.h>
+#include <stdlib.h>
+#include <time.h>
+#include "generic.h"
+
+RImage *waves (int argc, char **argv, int width, int height, int relief) {
+
+	int i, j, k, done, sine [256];
+	int from[3] = { 0x00, 0x00, 0x00 };
+	int to[3] = { 0xff, 0xff, 0xff };
+	int layers, range, dx[1000], dy[1000];
+	RImage *image;
+	unsigned char *cptr;
+
+	int option_index = 0;
+	int c;
+
+	optind = 1;
+	for (done=0; !done; ) {
+		static struct option long_options[] = {
+			{"from", 1, 0, 'f'},
+			{"to", 1, 0, 't'},
+			{0, 0, 0, 0}
+		};
+
+		c = getopt_long (argc, argv, "f:t:",
+			long_options, &option_index);
+		if (c == -1) {
+			break;
+		}
+
+		switch (c) {
+		case 'f':
+			if (!parse_color (optarg, from)) {
+				error ("invalid color: %s\n", optarg);
+				return 0;
+			}
+			break;
+		case 't':
+			if (!parse_color (optarg, to)) {
+				error ("invalid color: %s\n", optarg);
+				return 0;
+			}
+			break;
+		default:
+			done = 1;
+			break;
+		}
+	}
+
+	argc -= optind;
+	argv += optind;
+
+	if (!start_image ("waves", argc, 2, 3, width, height, &image)) {
+		return (RImage *)0;
+	}
+
+	layers = atoi (argv[0]);
+	range = atoi (argv[1]);
+
+	if (layers <= 0) {
+		layers = 1;
+	}
+	if (layers > 256) {
+		layers = 256;
+	}
+
+	if (range <= 0) {
+		range = 1;
+	}
+
+	for (i=0; i<256; i++) {
+		sine[i] = (int) (127.0 * sin (2.0 * M_PI * i / 256)) + 128;
+	}
+
+	srand (time (0));
+
+	for (i=0; i<layers; i++) {
+		dx[i] = random_int (range) - range / 2;
+		dy[i] = random_int (range) - range / 2;
+	}
+
+	cptr = image->data;
+	for (i=0; i<height; i++) {
+		for (j=0; j<width; j++) {
+			int output[3], value = 0;
+			for (k=0; k<layers; k++) {
+				value += sine[(j*dx[k]+i*dy[k]) & 255];
+			}
+			interpolate_color (output, from, to, value / layers);
+			*cptr++ = output[0];
+			*cptr++ = output[1];
+			*cptr++ = output[2];
+			if ( RRGBAFormat==image->format )
+				cptr++;
+		}
+	}
+
+	return image;
+}
+
diff -Naur WindowMaker-0.80.2/po/be.po wm-xft2/po/be.po
--- WindowMaker-0.80.2/po/be.po	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/po/be.po	2003-10-22 14:08:37.000000000 +0400
@@ -0,0 +1,1943 @@
+# Messages for Window Maker
+# Copyright (C) 2002 Free Software Foundation, Inc.
+# Text below is in CP1251 encoding.
+# Ihar Viarheichyk <iverg@mail.ru>, 2002.
+#
+msgid ""
+msgstr ""
+"Project-Id-Version: PACKAGE VERSION\n"
+"POT-Creation-Date: 2002-08-11 19:48+0300\n"
+"PO-Revision-Date: 2002-10-17 19:02+0300\n"
+"Last-Translator: Ihar Viarheichyk <iverg@mail.ru>\n"
+"Language-Team: Belarusian <be@li.org>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=cp1251\n"
+"Content-Transfer-Encoding: 8bit\n"
+
+#: ../src/appicon.c:426 ../src/dialog.c:304 ../src/dock.c:3326
+#: ../src/dockedapp.c:230 ../src/main.c:273 ../src/rootmenu.c:1854
+#: ../src/winspector.c:389 ../src/winspector.c:406
+msgid "Error"
+msgstr "Ïàìûëêà"
+
+#: ../src/appicon.c:427
+msgid "Could not open specified icon file"
+msgstr "Íåìàã÷ûìà àäêðûöü ôàéë èêîíê³"
+
+#: ../src/appicon.c:428 ../src/dialog.c:201 ../src/dialog.c:304
+#: ../src/dialog.c:751 ../src/dialog.c:1850 ../src/dock.c:526
+#: ../src/dock.c:534 ../src/dock.c:558 ../src/dock.c:3327
+#: ../src/dockedapp.c:231 ../src/dockedapp.c:426 ../src/main.c:273
+#: ../src/rootmenu.c:1858 ../src/winspector.c:390 ../src/winspector.c:407
+msgid "OK"
+msgstr "OK"
+
+#: ../src/appicon.c:456 ../src/dock.c:264
+msgid ""
+" will be forcibly closed.\n"
+"Any unsaved changes will be lost.\n"
+"Please confirm."
+msgstr ""
+" áóäçå ïðûìóñîâà çàêðûòà.\n"
+"Íåçàõàâàíûÿ çìåíû áóäóöü ñòðà÷àíû.\n"
+"Ïàöâåðäçöå."
+
+#: ../src/appicon.c:464 ../src/dock.c:283 ../src/winmenu.c:125
+msgid "Kill Application"
+msgstr "Ïðûìóñîâà çàêðûöü ïðàãðàìó"
+
+#: ../src/appicon.c:465 ../src/dock.c:284 ../src/winmenu.c:127
+msgid "Yes"
+msgstr "Òàê"
+
+#: ../src/appicon.c:465 ../src/dock.c:284 ../src/winmenu.c:127
+msgid "No"
+msgstr "Íå"
+
+#: ../src/appicon.c:495 ../src/dock.c:1178 ../src/dock.c:3492
+msgid "Unhide Here"
+msgstr "Ñõàâàöü òóò"
+
+#: ../src/appicon.c:496 ../src/appicon.c:521 ../src/dock.c:1180
+#: ../src/dock.c:1182 ../src/dock.c:3504 ../src/winmenu.c:465
+msgid "Hide"
+msgstr "Ñõàâàöü"
+
+#: ../src/appicon.c:497
+msgid "Set Icon..."
+msgstr "Çàäàöü ³êîíêó..."
+
+#: ../src/appicon.c:498 ../src/dock.c:1186 ../src/rootmenu.c:248
+#: ../src/rootmenu.c:264 ../src/winmenu.c:520
+msgid "Kill"
+msgstr "Çàêðûöü ïðûìóñîâà"
+
+#: ../src/appicon.c:519 ../src/dock.c:3502
+msgid "Unhide"
+msgstr "Ïàêàçàöü"
+
+#: ../src/application.c:398
+#, c-format
+msgid "recreating missing icon '%s'"
+msgstr "ñòâàðàþ àäñóòí³÷àþ÷ó ³êîíêó '%s'"
+
+#: ../src/defaults.c:922 ../src/defaults.c:1011
+#, c-format
+msgid "Domain %s (%s) of global defaults database is corrupted!"
+msgstr "Äàìåí %s (%s) àãóëüíàé áàçû ñòàíäàðòíûõ ïàðàìåòðà¢ ïàøêîäæàíû"
+
+#: ../src/defaults.c:927
+#, c-format
+msgid "could not load domain %s from global defaults database"
+msgstr "íåìàã÷ûìà çàãðóç³öü äàìåí %s ç àãóëüíàé áàçû ñòàíäàðòíûõ ïàðàìåòðà¢"
+
+#: ../src/defaults.c:949 ../src/startup.c:884 ../src/startup.c:902
+#: ../src/startup.c:908
+#, c-format
+msgid "could not read domain \"%s\" from defaults database"
+msgstr "íåìàã÷ûìà çàãðóç³öü äàìåí %s ç áàçû ñòàíäàðòíûõ ïàðàìåòðà¢"
+
+#: ../src/defaults.c:995 ../src/defaults.c:1099 ../src/defaults.c:1140
+#: ../src/defaults.c:1196
+#, c-format
+msgid "Domain %s (%s) of defaults database is corrupted!"
+msgstr "Äàìåí %s (%s) áàçû ñòàíäàðòíûõ ïàðàìåòðà¢ ïàøêîäæàíû"
+
+#: ../src/defaults.c:1000 ../src/defaults.c:1119 ../src/defaults.c:1176
+#: ../src/defaults.c:1205 ../src/menureader.c:397
+#, c-format
+msgid "could not load domain %s from user defaults database"
+msgstr "íåìàã÷ûìà çàãðóç³öü äàìåí %s áàçû ñòàíäàðòíûõ ïàðàìåòðà¢ êàðûñòàëüí³êà"
+
+#: ../src/defaults.c:1030
+#, c-format
+msgid "could not load domain %s from global defaults database (%s)"
+msgstr "íåìàã÷ûìà çàãðóç³öü äàìåí %s ç àãóëüíàé áàçû ñòàíäàðòíûõ ïàðàìåòðà¢ (%s)"
+
+#: ../src/defaults.c:1166 ../src/screen.c:460
+#, c-format
+msgid "could not load logo image for panels: %s"
+msgstr "íåìàã÷ûìà çàãðóç³öü âûÿâó ëàãàòûïó ïàíýëåé: %s"
+
+#. --------------------------- Local -----------------------
+#: ../src/defaults.c:1414 ../src/defaults.c:1556 ../src/defaults.c:1668
+#: ../src/defaults.c:2147 ../src/defaults.c:2164 ../src/defaults.c:2209
+#: ../src/defaults.c:2256 ../src/defaults.c:2729 ../src/wdefaults.c:571
+#: ../src/wdefaults.c:607
+#, c-format
+msgid "Wrong option format for key \"%s\". Should be %s."
+msgstr "Ïàìûëêîâû ôàðìàò ïàðàìåòðó äçåëÿ êëþ÷à \"%s\". Ïàâ³íåí áûöü %s."
+
+#: ../src/defaults.c:1416 ../src/defaults.c:1497 ../src/defaults.c:1529
+#: ../src/defaults.c:1561 ../src/defaults.c:1574 ../src/defaults.c:1589
+#: ../src/defaults.c:1603 ../src/defaults.c:1673 ../src/defaults.c:1685
+#: ../src/defaults.c:2152 ../src/defaults.c:2169 ../src/defaults.c:2182
+#: ../src/defaults.c:2214 ../src/defaults.c:2230 ../src/defaults.c:2261
+#: ../src/defaults.c:2348 ../src/defaults.c:2734 ../src/defaults.c:2745
+#, c-format
+msgid "using default \"%s\" instead"
+msgstr "áóäçå óæûòà ñòàíäàðòíàå çíà÷ýííå \"%s\""
+
+#: ../src/defaults.c:1447
+#, c-format
+msgid "wrong option value for key \"%s\". Should be one of %s"
+msgstr "äðýííàå çíà÷ýííå äëÿ êëþ÷à \"%s\". Ïàâ³ííà áûöü àäíî ç %s"
+
+#: ../src/defaults.c:1492
+#, c-format
+msgid "can't convert \"%s\" to boolean for key \"%s\""
+msgstr "íåìàã÷ûìà ïðûâåñö³ \"%s\" äà òûïó boolean äëÿ êëþ÷à \"%s\""
+
+#: ../src/defaults.c:1526
+#, c-format
+msgid "can't convert \"%s\" to integer for key \"%s\""
+msgstr "íåìàã÷ûìà ïðûâåñö³ \"%s\" äà òûïó integer äëÿ êëþ÷à \"%s\""
+
+#: ../src/defaults.c:1569
+#, c-format
+msgid "Incorrect number of elements in array for key \"%s\"."
+msgstr "Íåäàïóø÷àëüíàÿ êîëüêàñöü ýëåìåíòà¢ ó ìàñ³âå äëÿ êëþ÷à \"%s\"."
+
+#: ../src/defaults.c:1584
+#, c-format
+msgid "Wrong value for key \"%s\". Should be Coordinate."
+msgstr "Äðýííàå çíà÷ýííå äëÿ êëþ÷à \"%s\". Ïàâèííà áûöü Coordinate."
+
+#: ../src/defaults.c:1599
+#, c-format
+msgid "can't convert array to integers for \"%s\"."
+msgstr "íåìàã÷ûìà ñêàíâåðòàâàöü ìàñ³¢ äà öýëûõ äëÿ \"%s\""
+
+#: ../src/defaults.c:1797 ../src/defaults.c:1829 ../src/defaults.c:1845
+#: ../src/defaults.c:1874 ../src/defaults.c:1897 ../src/defaults.c:1950
+#: ../src/defaults.c:1990 ../src/defaults.c:2028 ../src/defaults.c:2044
+#, c-format
+msgid "\"%s\" is not a valid color name"
+msgstr "\"%s\" íå äàïóø÷àëüíàå ³ìÿ äëÿ êîëåðà"
+
+#: ../src/defaults.c:1810 ../src/defaults.c:1862
+msgid "bad number of arguments in gradient specification"
+msgstr "íåàäïàâåäíû ë³ê àãðóìåíòà¢ ó ñïåöûô³êàöû³ ãðàäûåíòó"
+
+#: ../src/defaults.c:1923
+msgid "too few arguments in multicolor gradient specification"
+msgstr "çàìàëà àðãóìåíòà¢ ó ñïåöûô³êàöû³ øìàòêàëÿðîâàãà ãðàäûåíòó"
+
+#: ../src/defaults.c:2017
+msgid "bad number of arguments in textured gradient specification"
+msgstr "íåàäïàâåäíû ë³ê àðãóìåíòà¢ ó ñïåöûô³êàöû³ òýêñòóðíàãà ãðàäûåíòó"
+
+#: ../src/defaults.c:2060
+#, c-format
+msgid "bad opacity value for tgradient texture \"%s\". Should be [0..255]"
+msgstr 
+"äðýííàå çíà÷ýííå íåïðàçðûñòàñö³ äëÿ ãðàäûåòíàé òýêñòóðû \"%s\"."
+"Ïàâ³ííà áûöü [0..255]"
+
+#: ../src/defaults.c:2120
+#, c-format
+msgid "could not initialize library %s"
+msgstr "íåìàã÷ûìà ³í³öûÿë³çàâàöü á³áë³ÿòýêó %s"
+
+#: ../src/defaults.c:2123
+#, c-format
+msgid "could not find function %s::%s"
+msgstr "íåìàã÷ûìà çíàéñö³ ôóíêöûþ %s::%s"
+
+#: ../src/defaults.c:2130
+#, c-format
+msgid "invalid texture type %s"
+msgstr "äðýííû òûï òýêñòóðû %s"
+
+#: ../src/defaults.c:2177
+#, c-format
+msgid "Error in texture specification for key \"%s\""
+msgstr "Ïàìûëêà ¢ ñïåöûô³êàöû³ òýêñòóðû ç êëþ÷îì \"%s\""
+
+#: ../src/defaults.c:2226
+msgid "Wrong type for workspace background. Should be a texture type."
+msgstr "Äðýííû òûï ôîíà ïðàöàìåñöà. Ïàâ³íåí áûöü òýêñòóðàé"
+
+#: ../src/defaults.c:2274
+#, c-format
+msgid "Wrong type for background of workspace %i. Should be a texture."
+msgstr "Äðýííû òûï ôîíà ïðàöàìåñöà %i. Ïàâ³íåí áûöü òýêñòóðàé."
+
+#: ../src/defaults.c:2316
+msgid "could not load any usable font!!!"
+msgstr "íåìàã÷ûìà çàãðóç³öü àí³ÿê³ ïàäûõîäçÿ÷û øðûôò!!!"
+
+#: ../src/defaults.c:2343
+#, c-format
+msgid "could not get color for key \"%s\""
+msgstr "íåìàã÷ûìà çíàéñö³ êîëåð äçåëÿ êëþ÷à \"%s\""
+
+#: ../src/defaults.c:2401 ../src/rootmenu.c:526
+#, c-format
+msgid "%s:invalid key modifier \"%s\""
+msgstr "%s: äðýííû êëàâ³ÿòóðíû ìàäûô³êàòàð \"%s\""
+
+#: ../src/defaults.c:2413
+#, c-format
+msgid "%s:invalid kbd shortcut specification \"%s\""
+msgstr "%s: äðýííàÿ ñïåöûô³êàöûÿ ãàðà÷àé êëàâ³øû \"%s\""
+
+#: ../src/defaults.c:2420
+#, c-format
+msgid "%s:invalid key in shortcut \"%s\""
+msgstr "%s: äðýííàÿ ñïåöûô³êàöûÿ êëàâ³øû \"%s\""
+
+#: ../src/defaults.c:2445
+#, c-format
+msgid "%s: modifier key %s is not valid"
+msgstr "%s: íåäàïóø÷àëüíû êëàâ³ÿòóðíû ìàäûô³êàòàð %s"
+
+#: ../src/defaults.c:2477
+#, c-format
+msgid "could not load image in option %s: %s"
+msgstr "íåìàã÷ûìà çàãðóç³öü âûÿâó äëÿ %s: %s"
+
+#: ../src/defaults.c:2594
+#, c-format
+msgid "failed to open bitmap file \"%s\""
+msgstr "íåìàã÷ûìà àäêðûöü bitmap ôàéë \"%s\""
+
+#: ../src/defaults.c:2597
+#, c-format
+msgid "\"%s\" is not a valid bitmap file"
+msgstr "\"%s\" íå ç'ÿ¢ëÿåööà êàðýêòíûì ôàéëàì âûÿâû"
+
+#: ../src/defaults.c:2600
+#, c-format
+msgid "out of memory reading bitmap file \"%s\""
+msgstr "íå õàïàå ïàìÿö³ äëÿ ÷ûòàííÿ bitmap ôàéëó\"%s\""
+
+#: ../src/defaults.c:2639 ../src/defaults.c:2672
+msgid "bad number of arguments in cursor specification"
+msgstr "íåàäïàâåäíû ë³ê àãðóìåíòà¢ ó ñïåöûô³êàöû³ êóðñîðà"
+
+#: ../src/defaults.c:2655
+#, c-format
+msgid "unknown builtin cursor name \"%s\""
+msgstr "íåâÿäîìàå ³ìÿ ñòàíäàðòíàãà êóðñîðó \"%s\""
+
+#: ../src/defaults.c:2682 ../src/defaults.c:2694
+#, c-format
+msgid "could not find cursor bitmap file \"%s\""
+msgstr "íåìàã÷ûìà çíàéñö³ ôàéë ç âûÿâàé êóðñîðà \"%s\""
+
+#: ../src/defaults.c:2741
+#, c-format
+msgid "Error in cursor specification for key \"%s\""
+msgstr "Ïàìûëêà ¢ ñïåöûô³êàöû³ êóðñîðó äçåëÿ êëþ÷à \"%s\""
+
+#: ../src/defaults.c:2826
+msgid "could not render texture for icon background"
+msgstr "íåìàã÷ûìà çãåíåðàâàöü òýêñòóðó äëÿ ôîíó ³êîíê³"
+
+#: ../src/dialog.c:157
+msgid "Save workspace state"
+msgstr "Çàõàâàöü ñòàí ïðàöàìåñöà"
+
+#: ../src/dialog.c:201 ../src/dialog.c:758 ../src/dock.c:558
+#: ../src/dockedapp.c:431 ../src/rootmenu.c:198 ../src/rootmenu.c:248
+#: ../src/rootmenu.c:264
+msgid "Cancel"
+msgstr "Àäìåíà"
+
+#: ../src/dialog.c:299
+msgid "Could not open directory "
+msgstr "Íåìàã÷ûìà àäêðûöü êàòàëàã "
+
+#: ../src/dialog.c:354
+msgid "Could not load image file "
+msgstr "Íåìàã÷ûìà çàãðóç³öü ôàéë âûÿâû "
+
+#: ../src/dialog.c:685
+msgid "Directories"
+msgstr "Êàòàëàã³"
+
+#: ../src/dialog.c:694
+msgid "Icons"
+msgstr "²êîíê³"
+
+#: ../src/dialog.c:727
+msgid "Preview"
+msgstr "Ïðàãëÿä"
+
+#: ../src/dialog.c:740
+msgid "File Name:"
+msgstr "²ìÿ ôàéëà:"
+
+#: ../src/dialog.c:764
+msgid "Choose File"
+msgstr "Âûáàð ôàéëà"
+
+#: ../src/dialog.c:783 ../src/dialog.c:785
+msgid "Icon Chooser"
+msgstr "Âûáàð ³êîíê³"
+
+#: ../src/dialog.c:1265 ../src/dialog.c:1375
+#, c-format
+msgid "Version %s"
+msgstr "Âåðñ³ÿ %s"
+
+#: ../src/dialog.c:1372
+msgid "Window Manager for X"
+msgstr "Âàêîííû ìåíåäæàð äëÿ X"
+
+#: ../src/dialog.c:1397
+#, c-format
+msgid "Using visual 0x%x: %s %ibpp "
+msgstr "Â³äýàðýæûì 0x%x: %s %i á³òà¢ íà ï³êñåë"
+
+#: ../src/dialog.c:1405
+msgid "(32 thousand colors)\n"
+msgstr "(32 òûñÿ÷û êîëåðà¢)\n"
+
+#: ../src/dialog.c:1408
+msgid "(64 thousand colors)\n"
+msgstr "(64 òûñÿ÷û êîëåðà¢)\n"
+
+#: ../src/dialog.c:1412
+msgid "(16 million colors)\n"
+msgstr "(16 ì³ëü¸íà¢ êîëåðà¢)\n"
+
+#: ../src/dialog.c:1415
+#, c-format
+msgid "(%d colors)\n"
+msgstr "(%d êîëåðà¢)\n"
+
+#: ../src/dialog.c:1425
+#, c-format
+msgid "Total allocated memory: %i kB. Total memory in use: %i kB.\n"
+msgstr "Çàðýçåðâàâàíà ïàìÿö³: %i êÁ. Âûêàðûñòî¢âàåööà: %i êÁ.\n"
+
+#: ../src/dialog.c:1432
+msgid "Supported image formats: "
+msgstr "Ïàäòðûìë³âàåìûÿ ãðàô³÷íûÿ ôàðìàòû: "
+
+#: ../src/dialog.c:1439
+msgid ""
+"\n"
+"Additional support for: "
+msgstr ""
+"\n"
+"Äàäàòêîâà ïàäòðûìë³âàåööà: "
+
+#: ../src/dialog.c:1462
+msgid " and "
+msgstr " ³ "
+
+#: ../src/dialog.c:1472
+msgid ""
+"\n"
+"Sound disabled"
+msgstr ""
+"\n"
+"Çâóê çàáàðîíåíû"
+
+#: ../src/dialog.c:1474
+msgid ""
+"\n"
+"Sound enabled"
+msgstr ""
+"\n"
+"Çâóê äàçâîëåíû"
+
+#: ../src/dialog.c:1503
+msgid "Info"
+msgstr "²íôàðìàöûÿ"
+
+#: ../src/dialog.c:1527
+msgid "Merry Christmas!"
+msgstr "Âÿñåëûõ Êàëÿä!"
+
+#: ../src/dialog.c:1597
+msgid ""
+"    Window Maker is free software; you can redistribute it and/or\n"
+"modify it under the terms of the GNU General Public License as\n"
+"published by the Free Software Foundation; either version 2 of the\n"
+"License, or (at your option) any later version.\n"
+"\n"
+"    Window Maker is distributed in the hope that it will be useful,\n"
+"but WITHOUT ANY WARRANTY; without even the implied warranty\n"
+"of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n"
+"See the GNU General Public License for more details.\n"
+"\n"
+"    You should have received a copy of the GNU General Public\n"
+"License along with this program; if not, write to the Free Software\n"
+"Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n"
+"02111-1307, USA."
+msgstr ""
+"    Window Maker ç'ÿ¢ëÿåööà ñâàáîäíûì ïðàãðàìíûì\n"
+"çàáåñïÿ÷ýííåì ³ ðàñïà¢ñþäæâàåööà íà ¢ìîâàõ ë³öýíç³\n"
+"GPL âåðñ³³ 2 ö³ âûøýé àä Free Software Foundation.\n"
+"\n"
+"    Window Maker ðàñïà¢ñþäæâàåööà ç íàçäåÿé øòî ìîæà áûöü\n"
+"êàðûñíû, àëå áåç óñÿëÿê³õ ãàðàíòûé. Ïàäðàáÿçíóþ ³íôàðìàöûþ\n"
+"ãëÿäç³öå ¢ GNU General Public License.\n"
+"\n"
+"    Êîï³ÿ GNU GPL ðàñïà¢ñþäæâàåööà ðàçàì ç ãýòàé\n"
+"ïðàãðàìàé. Êàë³ âû àòðûìàë³ ãýòóþ ïðàãðàìó áåç êîï³³\n"
+"ë³öýíç³³, çâÿðí³ö³ñÿ ¢ Free Software Foundation, Inc.,\n"
+"59 Temple Place - Suite 330, Boston, Ma 02111-1307, USA."
+
+#: ../src/dialog.c:1621
+msgid "Legal"
+msgstr "Ë³öýíç³ÿ"
+
+#: ../src/dialog.c:1773 ../src/startup.c:394
+msgid "cannot open connection for crashing dialog panel. Aborting."
+msgstr "íåìàã÷ûìà ¢ñòàëÿâàöü çëó÷ýííå ¢ âàêíå êðûòû÷íàé ïàìûëê³. Âûõàä."
+
+#: ../src/dialog.c:1799
+msgid "Fatal error"
+msgstr "Êðûòû÷íàÿ ïàìûëêà"
+
+#: ../src/dialog.c:1810
+#, c-format
+msgid ""
+"Window Maker received signal %i\n"
+"(%s)."
+msgstr ""
+"Window Maker àòðûìà¢ ñ³ãíàë %i\n"
+"(%s)."
+
+#: ../src/dialog.c:1813
+#, c-format
+msgid "Window Maker received signal %i."
+msgstr "Window Maker àòðûìà¢ ñ³ãíàë %i."
+
+#: ../src/dialog.c:1822
+msgid ""
+" This fatal error occured probably due to a bug. Please fill the included "
+"BUGFORM and report it to bugs@windowmaker.org."
+msgstr ""
+" Ãýòû êðûòû÷íû çáîé ìàã÷ûìà âûçâàíû ïàìûëêàì³ ¢ WindowMaker."
+"Äàøë³öå çàïî¢íåíàå ïàâåäàìëåííå àá ïàìûëêå (BUGFORM) íà bugs@windowmaker.org"
+
+#: ../src/dialog.c:1831
+msgid "What do you want to do now?"
+msgstr "Øòî âû çá³ðàåöåñü çàðàç ðàá³öü?"
+
+#: ../src/dialog.c:1837
+msgid "Select action"
+msgstr "Âûáåðûöå äçåÿííå"
+
+#: ../src/dialog.c:1838
+msgid "Abort and leave a core file"
+msgstr "Çàâåðøûöü ïðàöó ïàê³íó¢øû core-ôàéë"
+
+#: ../src/dialog.c:1839
+msgid "Restart Window Maker"
+msgstr "Ïåðàçàïóñö³öü Window Maker"
+
+#: ../src/dialog.c:1840
+msgid "Start alternate window manager"
+msgstr "Çàïóñö³öü ³íøû âàêîííû ìåíåäæàð"
+
+#: ../src/dialog.c:2018
+msgid ""
+"Window Maker is part of the GNUstep project.\n"
+"The GNUstep project aims to create a free\n"
+"implementation of the OpenStep(tm) specification\n"
+"which is a object-oriented framework for\n"
+"creating advanced graphical, multi-platform\n"
+"applications. Additionally, a development and\n"
+"user desktop enviroment will be created on top\n"
+"of the framework. For more information about\n"
+"GNUstep, please visit: www.gnustep.org"
+msgstr ""
+"Window Maker ç'ÿ¢ëÿåööà ÷àñòêàé ïðàåêòó GNUstep.\n"
+"Ìýòà GNUstep - ñòâàðýííå ñâàáîäíàé ðýàë³çàöû³\n"
+"ñïåöûô³êàöûé OpenStep(tm) - àá'åêòíà-àðûåíòàâàíàãà\n"
+"àñÿðîääçÿ äëÿ ñòâàðýííÿ ãðàô³÷íûõ øìàòïëàòôîðìåííûõ\n"
+"äàñòàñàâàííÿ¢. Íà áàçå ãýòàãà àñÿðîääçÿ òàêñàìà\n"
+"ñòâàðàåööà àñÿðîääçå êàðûñòàëüí³êà. Áîëüøü ³íôàðìàöû³\n"
+"ìîæíà çíàéñö³ íà ñàéöå GNUstep: www.gnustep.org"
+
+#: ../src/dialog.c:2041
+msgid "About GNUstep"
+msgstr "Àá GNUstep"
+
+#: ../src/dock.c:213
+#, c-format
+msgid "Type the name for workspace %i:"
+msgstr "Çàäàéöå ³ìÿ ïðàöàìåñöà %i:"
+
+#: ../src/dock.c:214 ../src/dock.c:1142 ../src/dock.c:1145 ../src/dock.c:3410
+msgid "Rename Workspace"
+msgstr "Ïåðàéìåíàâàöü ïðàöàìåñöà"
+
+#: ../src/dock.c:520 ../src/dock.c:528
+msgid "Warning"
+msgstr "Óâàãà"
+
+#: ../src/dock.c:521
+msgid ""
+"Some icons cannot be made omnipresent. Please make sure that no other icon "
+"is docked in the same positions on the other workspaces and the Clip is not "
+"full in some workspace."
+msgstr ""
+"Íåêàòîðûÿ ³êîíê³ íÿ ìîãóöü áûöü áà÷íûì³ íà ¢ñ³õ ïðàöàìåñöàõ. Íàïý¢íà "
+"íåéêàÿ ³êîíêà çàäàêàâàíà ¢ òîé æà ïàç³öû³ íà ³íøûì ïðàöàìåñöû ö³ ñêðýïêà "
+"àäíàãî ïðàöàìåñöà ïåðàïî¢íåíà."
+
+#: ../src/dock.c:529
+msgid ""
+"Icon cannot be made omnipresent. Please make sure that no other icon is "
+"docked in the same position on the other workspaces and the Clip is not full "
+"in some workspace."
+msgstr ""
+"Ãýòó ³êîíêó íåëüãà çðàá³öü ïðûñóòí³÷àþ÷àé íà ¢ñ³õ ïðàöàìåñöàõ. Íàïý¢íà "
+"íåéêàÿ ³êîíêà çàäàêàâàíà ¢ òîé æà ïàç³öû³ íà ³íøûì ïðàöàìåñöû ö³ ñêðýïêà "
+"àäíàãî ïðàöàìåñöà ïåðàïî¢íåíà."
+
+#: ../src/dock.c:556
+msgid "Workspace Clip"
+msgstr "Ñêðýïêà ïðàöàìåñöà"
+
+#: ../src/dock.c:557
+msgid "All selected icons will be removed!"
+msgstr "Óñå àáðàíûÿ ³êîíê³ áóäóöü âûäàëåíû!"
+
+#: ../src/dock.c:608 ../src/dock.c:1157 ../src/dock.c:1159 ../src/dock.c:3446
+msgid "Keep Icon"
+msgstr "Òðûìàöü ³êîíêó"
+
+#: ../src/dock.c:609 ../src/dock.c:2138 ../src/dock.c:2279
+msgid "Type the command used to launch the application"
+msgstr "Êàìàíäà äçåëÿ çàïóñêó ïðàãðàìû"
+
+#: ../src/dock.c:965
+#, c-format
+msgid "could not launch application %s\n"
+msgstr "íåìàã÷ûìà çàïóñö³öü ïðàãðàìó %s\n"
+
+#: ../src/dock.c:1020
+msgid "could not create workspace submenu for Clip menu"
+msgstr "íåìàã÷ûìà ñòâàðûöü ïàäìåíþ ïðàöàìåñöà äëÿ ìåíþ ñêðýïê³"
+
+#: ../src/dock.c:1079
+msgid "could not create options submenu for Clip menu"
+msgstr "íåìàã÷ûìà ñòâàðûöü ïàäìåíþ ïàðàìåòðà¢ äëÿ ìåíþ ñêðýïê³"
+
+#: ../src/dock.c:1083 ../src/dock.c:1131
+msgid "Keep on Top"
+msgstr "Òðûìàöü çâåðõó"
+
+#: ../src/dock.c:1089
+msgid "Collapsed"
+msgstr "Çâ¸ðíóòû"
+
+#: ../src/dock.c:1095
+msgid "Autocollapse"
+msgstr "Çâàðà÷âàööà à¢òàìàòû÷íà"
+
+#: ../src/dock.c:1101
+msgid "Autoraise"
+msgstr "À¢òà¢ñïëûööå"
+
+#: ../src/dock.c:1107
+msgid "Autoattract Icons"
+msgstr "Ïðûöÿãâàöü ³êîíê³"
+
+#: ../src/dock.c:1137
+msgid "Clip Options"
+msgstr "Ïàðàìåòðû ñêðýïê³"
+
+#: ../src/dock.c:1147
+msgid "Selected"
+msgstr "Àáðàíàÿ"
+
+#: ../src/dock.c:1152 ../src/dock.c:1155 ../src/dock.c:3437
+msgid "Select All Icons"
+msgstr "Àáðàöü óñå ³êîíê³"
+
+#: ../src/dock.c:1161 ../src/dock.c:1163 ../src/dock.c:3454
+msgid "Move Icon To"
+msgstr "Ïåðàíåñö³ ³êîíêó íà"
+
+#: ../src/dock.c:1168 ../src/dock.c:1171 ../src/dock.c:3465
+msgid "Remove Icon"
+msgstr "Âûäàë³öü ³êîíêó"
+
+#: ../src/dock.c:1173
+msgid "Attract Icons"
+msgstr "Ïðûöÿãâàöü ³êîíê³"
+
+#: ../src/dock.c:1176
+msgid "Launch"
+msgstr "Çàïóñö³öü"
+
+#: ../src/dock.c:1184
+msgid "Settings..."
+msgstr "Íàñòðîéê³"
+
+#: ../src/dock.c:1549 ../src/dock.c:1656
+#, c-format
+msgid "bad value in docked icon state info %s"
+msgstr "äðýííàå çíà÷ýííå ³íôàðìàöû³ àá ñòàíå çàäàêàâàíàé ³êîíê³ %s"
+
+#: ../src/dock.c:1664
+#, c-format
+msgid "bad value in docked icon position %i,%i"
+msgstr "äðýííàå çíà÷ýííå ïàç³öû³ çàäàêàâàíàé ³êîíê³ %i,%i"
+
+#: ../src/dock.c:1684
+#, c-format
+msgid "bad value in dock state info:%s"
+msgstr "äðýííàå çíà÷ýííå ³íôàðìàöû³ àá ñòàíå äîêà %s"
+
+#: ../src/dock.c:1920
+msgid "there are too many icons stored in dock. Ignoring what doesn't fit"
+msgstr "çàøìàò ³êîíàê çàäàêàâàíà. Ë³øí³ÿ áóäóöü ³ãíàðàâàíû"
+
+#. icon->forced_dock = 1;
+#: ../src/dock.c:2137 ../src/dock.c:2278
+msgid "Dock Icon"
+msgstr "Çàäàêàâàöü ³êîíêó"
+
+#: ../src/dock.c:3324
+#, c-format
+msgid "Could not execute command \"%s\""
+msgstr "Íåìàã÷ûìà âûêàíàöü êàìàíäó \"%s\""
+
+#: ../src/dock.c:3416
+msgid "Toggle Omnipresent"
+msgstr "²íâåðòàâàöü ïðûñóòíàñöü"
+
+#: ../src/dock.c:3421 ../src/kwm.c:637 ../src/winmenu.c:418
+#: ../src/winspector.c:1375
+msgid "Omnipresent"
+msgstr "Íà ¢ñ³õ ïðàöàìåñöàõ"
+
+#: ../src/dock.c:3435
+msgid "Unselect All Icons"
+msgstr "Çíÿöü âûëó÷ýííå ç óñ³õ ³êîíàê"
+
+#: ../src/dock.c:3444
+msgid "Keep Icons"
+msgstr "Òðûìàöü ³êîíê³"
+
+#: ../src/dock.c:3452
+msgid "Move Icons To"
+msgstr "Ïåðàíåñö³ ³êîíê³ íà"
+
+#: ../src/dock.c:3463
+msgid "Remove Icons"
+msgstr "Âûäàë³öü ³êîíê³"
+
+#: ../src/dock.c:3494 ../src/kwm.c:643
+msgid "Bring Here"
+msgstr "Ïåðàíåñö³ ñþäû"
+
+#: ../src/dockedapp.c:149
+#, c-format
+msgid "could not find icon %s, used in a docked application"
+msgstr "íåìàã÷ûìà çíàéñö³ ³êîíêó %s äëÿ äàêàâàíàé ïðàãðàìû"
+
+#: ../src/dockedapp.c:229
+#, c-format
+msgid "Could not open specified icon file: %s"
+msgstr "Íåìàã÷ûìà àäêðûöü àçíà÷àíû ôàéë ³êîíê³: %s"
+
+#: ../src/dockedapp.c:231
+msgid "Ignore"
+msgstr "²ãíàðàâàöü"
+
+#: ../src/dockedapp.c:333
+msgid "Start when Window Maker is started"
+msgstr "Çàïóñêàöü ïðû ñòàðöå Window Maker"
+
+#: ../src/dockedapp.c:340
+msgid "Lock (prevent accidental removal)"
+msgstr "Çàáëàêàâàöü àä íåæàäàíàãà âûäàëåííÿ"
+
+#: ../src/dockedapp.c:344
+msgid "Application path and arguments"
+msgstr "²ìÿ ³ àðãóìåíòû ïðàãðàìû"
+
+#: ../src/dockedapp.c:357
+msgid "Command for middle-click launch"
+msgstr "Êàìàíäà äëÿ çàïóñêó ïÿ ñÿðýäíÿé êíîïöû"
+
+#: ../src/dockedapp.c:371
+#, c-format
+msgid "%s will be replaced with current selection"
+msgstr "%s çàìåí³ööà áÿãó÷ûì selection"
+
+#: ../src/dockedapp.c:376
+msgid "Command for files dropped with DND"
+msgstr "Êàìàíäà äëÿ ïåðàíåñåíûõ ôàéëà¢"
+
+#: ../src/dockedapp.c:390
+#, c-format
+msgid "%d will be replaced with the file name"
+msgstr "%d àìåíiööà ³ì¸ì ôàéëà"
+
+#: ../src/dockedapp.c:394
+msgid "DND support was not compiled in"
+msgstr "Ïàäòðûìêà DND íå áûëà àáðàíà ïà÷ä÷àñ çáîðê³"
+
+#: ../src/dockedapp.c:399
+msgid "Icon Image"
+msgstr "Âûÿâà ³êîíê³"
+
+#: ../src/dockedapp.c:413 ../src/winspector.c:1513
+msgid "Browse..."
+msgstr "Âûáàð..."
+
+#: ../src/dockedapp.c:466
+msgid "Docked Application Settings"
+msgstr "Ïàðàìåòðû äàêàâàíàé ïðàãðàìû"
+
+#: ../src/framewin.c:649 ../src/framewin.c:744 ../src/menu.c:456
+#: ../src/texture.c:594
+#, c-format
+msgid "could not render texture: %s"
+msgstr "íåìàã÷ûìà çãåíåðàâàöü òýêñòóðó: %s"
+
+#: ../src/framewin.c:672 ../src/framewin.c:683 ../src/framewin.c:699
+#: ../src/framewin.c:710 ../src/framewin.c:717 ../src/framewin.c:724
+#: ../src/icon.c:350 ../src/menu.c:485
+#, c-format
+msgid "error rendering image:%s"
+msgstr "ïàìûëêà àäëþñòðàâàííÿ âûÿâû:%s"
+
+#: ../src/framewin.c:777
+#, c-format
+msgid "error rendering image: %s"
+msgstr "ïàìûëêà àäëþñòðàâàííÿ âûÿâû: %s"
+
+#: ../src/gnome.c:216 ../src/gnome.c:343 ../src/gnome.c:401
+msgid "out of memory while updating GNOME hints"
+msgstr "íå õàï³ëà ïàìÿö³ ïàä÷àñ àáíî¢ëåííÿ ïàäêàçàê GNOME"
+
+#: ../src/icon.c:229 ../src/wdefaults.c:443
+#, c-format
+msgid "error loading image file \"%s\""
+msgstr "ïàìûëêà çàãðóçê³ ôàéëà âûÿâû \"%s\""
+
+#: ../src/icon.c:493 ../src/icon.c:502
+#, c-format
+msgid "could not create directory %s"
+msgstr "íåìàã÷ûìà ñòâàðûöü êàòàëàã %s"
+
+#: ../src/icon.c:769
+#, c-format
+msgid "could not find default icon \"%s\""
+msgstr "íåìàã÷ûìà çíàéñö³ ñòàíäàðòíóþ ³êîíêó \"%s\""
+
+#: ../src/icon.c:775
+#, c-format
+msgid "could not load default icon \"%s\":%s"
+msgstr "íåìàã÷ûìà çíàéñö³ ñòàíäàðòíóþ ³êîíêó \"%s\":%s"
+
+#.
+#. * Warning: If you make some change that affects the order of the
+#. * entries, you must update the command #defines in the top of
+#. * this file.
+#.
+#: ../src/kwm.c:633 ../src/winmenu.c:441 ../src/winmenu.c:583
+msgid "Maximize"
+msgstr "Ìàêñ³ì³çàâàöü"
+
+#: ../src/kwm.c:634 ../src/winmenu.c:578
+msgid "Unmaximize"
+msgstr "Äýìàêñ³ì³çàâàöü"
+
+#: ../src/kwm.c:635 ../src/winmenu.c:449 ../src/winmenu.c:569
+msgid "Miniaturize"
+msgstr "Ì³í³ì³çàâàöü"
+
+#: ../src/kwm.c:636 ../src/winmenu.c:564
+msgid "Deminiaturize"
+msgstr "Äýì³í³ì³çàâàöü"
+
+#: ../src/kwm.c:638
+msgid "Not Omnipresent"
+msgstr "Òîëüê³ íà ãýòûì ïðàöàìåñöû"
+
+#: ../src/kwm.c:639
+msgid "Move"
+msgstr "Ïåðàíåñö³"
+
+#: ../src/kwm.c:640
+msgid "Resize"
+msgstr "Çìÿí³öü ïàìåð"
+
+#.
+#. entry = wMenuAddCallback(menu, _("Select Shortcut"), NULL, NULL);
+#. wMenuEntrySetCascade(menu, entry, makeMakeShortcutMenu(scr));
+#.
+#: ../src/kwm.c:641 ../src/rootmenu.c:248 ../src/winmenu.c:513
+msgid "Close"
+msgstr "Çàêðûöü"
+
+#: ../src/kwm.c:642 ../src/winmenu.c:497
+msgid "Move To"
+msgstr "Ïåðàíåñö³ íà"
+
+#: ../src/kwm.c:1096
+msgid "%a(Run Command,Type the command to run:)"
+msgstr "%a(Âûêàíàöü êàìàíäó:)"
+
+#: ../src/main.c:222
+msgid "failed to restart Window Maker."
+msgstr "íåìàã÷ûìà ïåðàçàïóñö³öü Window Maker."
+
+#: ../src/main.c:225
+#, c-format
+msgid "could not exec %s"
+msgstr "íåìàã÷ûìà âûêàíàöü %s"
+
+#: ../src/main.c:271
+msgid "Could not execute command: "
+msgstr "Íåìàã÷ûìà âûêàíàöü êàìàíäó: "
+
+#: ../src/main.c:428
+#, c-format
+msgid "%s aborted.\n"
+msgstr "%s çàâåðøàíà ç-çà ïàìûëê³.\n"
+
+#: ../src/main.c:439
+#, c-format
+msgid "Usage: %s [options]\n"
+msgstr "Âûêàðûñòàííå: %s [ïàðàìåòðû]\n"
+
+#: ../src/main.c:440
+msgid "The Window Maker window manager for the X window system"
+msgstr "Window Maker - âàêîííû ìåíåäæàð äëÿ ñ³ñòýìû X window"
+
+#: ../src/main.c:442
+msgid " -display host:dpy\tdisplay to use"
+msgstr " -display host:dpy\tâûêàðûñòî¢âàöü äàäçåíû äûñïëåé"
+
+#: ../src/main.c:444
+msgid " --no-cpp \t\tdisable preprocessing of configuration files"
+msgstr " --no-cpp \t\tçàáàðîí³öü ïðýïðàöýññ³íã êàíô³ãóðàöûéíûõ ôàöëà¢"
+
+#: ../src/main.c:446
+msgid " --no-dock\t\tdo not open the application Dock"
+msgstr " --no-dock\t\tçàáàðîí³öü äîê"
+
+#: ../src/main.c:447
+msgid " --no-clip\t\tdo not open the workspace Clip"
+msgstr " --no-clip\t\tçàáàðîí³öü ñêðýïêó"
+
+#: ../src/main.c:448
+msgid " --no-autolaunch\tdo not autolaunch applications"
+msgstr " --no-autolaunch\tçàáàðîí³öü à¢òàçàïóñê ïðàãðàì"
+
+#: ../src/main.c:449
+msgid " --dont-restore\t\tdo not restore saved session"
+msgstr " --dont-restore\t\tíå óçíà¢ëÿöü çàõàâàíöþ ñåñ³þ"
+
+#: ../src/main.c:451
+msgid " --locale locale\tlocale to use"
+msgstr " --locale locale\tâûêàðûñòî¢âàöü äàäçåíóþ ëàêàëü"
+
+#: ../src/main.c:453
+msgid ""
+" --create-stdcmap\tcreate the standard colormap hint in PseudoColor visuals"
+msgstr ""
+" --create-stdcmap\tãåíåðàâàöü ñòàíäàðòíóþ êàðòó êîëåðà¢ äëÿ PseudoColor"
+
+#: ../src/main.c:454
+msgid " --visual-id visualid\tvisual id of visual to use"
+msgstr " --visual-id visualid\tâûêàðûñòðî¢âàöü äàäçåíû â³äýàðýæûì"
+
+#: ../src/main.c:455
+msgid " --static\t\tdo not update or save configurations"
+msgstr " --static\t\tíå çàõî¢âàöü ³ íå àáíà¢ëÿöü êàíô³ãóðàöûþ"
+
+#: ../src/main.c:456
+msgid " --no-polling\t\tdo not periodically check for configuration updates"
+msgstr " --no-polling\t\tçàáàðîí³öü ïåðûÿäû÷íóþ ïðàâåðêó çìåí ó êàíô³ãóðàöû³"
+
+#: ../src/main.c:458
+msgid " --synchronous\t\tturn on synchronous display mode"
+msgstr " --synchronous\t\tñ³íõðîííû ðýæûì äëÿ ãðàô³ê³"
+
+#: ../src/main.c:460
+msgid " --version\t\tprint version and exit"
+msgstr " --version\t\tïàêàçàöü âåðñ³þ äû âûéñö³"
+
+#: ../src/main.c:461
+msgid " --help\t\t\tshow this message"
+msgstr " --help\t\t\tïàêàçàöü ãýòû òýêñò"
+
+#: ../src/main.c:474
+#, c-format
+msgid ""
+"could not find user GNUstep directory (%s).\n"
+"Make sure you have installed Window Maker correctly and run wmaker.inst"
+msgstr ""
+"íåìàã÷ûìà çíàéñö³ êàðûñòàëüí³öê³ êàòàëàã GNUstep (%s).\n"
+"Ïðàâåðöå ö³ Window Maker ïðàâ³ëüíà óñòàëÿâàíû ³ çàïóñö³öå wmaker.inst"
+
+#: ../src/main.c:479
+#, c-format
+msgid "could not find user GNUstep directory (%s)."
+msgstr "íåìàã÷ûìà çíàéñö³ êàðûñòàëüí³öê³ êàòàëàã GNUstep (%s)."
+
+#: ../src/main.c:482
+msgid ""
+"There was an error while creating GNUstep directory, please make sure you "
+"have installed Window Maker correctly and run wmaker.inst"
+msgstr ""
+"Ïàìûëêà ïàä÷àñ ñòâàðýííÿ êàòàëàãà GNUstep. Ïðàâåðöå, øòî Window Maker"
+"óñòàëÿâàíû êàðýêòíà ³ çàïóñö³öå wmaker.inst"
+
+#: ../src/main.c:485
+#, c-format
+msgid "%s directory created with default configuration."
+msgstr "ñòâîðàíû êàòàëàã %s ñà ñòàíäàðòíàé êàíô³ãóðàöûÿé."
+
+#: ../src/main.c:505 ../src/main.c:510
+#, c-format
+msgid "%s:could not execute initialization script"
+msgstr "%s: íåìàã÷ûìà âûêàíàöü ³í³öûÿë³çàöûéíû ñêðûïò"
+
+#: ../src/main.c:530 ../src/main.c:535
+#, c-format
+msgid "%s:could not execute exit script"
+msgstr "íåìàã÷ûìà âûêàíàöü ñêðûïò ïà âûõàäçå"
+
+#: ../src/main.c:663 ../src/main.c:671 ../src/main.c:679 ../src/main.c:699
+#, c-format
+msgid "too few arguments for %s"
+msgstr "çàìàëà àðãóìåíòà¢ äëÿ %s"
+
+#: ../src/main.c:683
+#, c-format
+msgid "bad value for visualid: \"%s\""
+msgstr "äðýííàå çíà÷ýííå ³äýíòûô³êàòàðà â³äýàðýæûìó: \"%s\""
+
+#: ../src/main.c:707
+#, c-format
+msgid "%s: invalid argument '%s'\n"
+msgstr "%s: äðýííû àðãóìåíò '%s'\n"
+
+#: ../src/main.c:708
+#, c-format
+msgid "Try '%s --help' for more information\n"
+msgstr "%s --help ìîæà äàöü áîëüø ³íôàðìàöû³\n"
+
+#: ../src/main.c:739
+msgid "X server does not support locale"
+msgstr "X-ñåðâåð íå ïàäòðûìë³âàå ëàêàë³"
+
+#: ../src/main.c:743
+msgid "cannot set locale modifiers"
+msgstr "íåìàã÷ûìà çàäàöü ìàäûô³êàòàðû ëàêàë³"
+
+#: ../src/main.c:759
+#, c-format
+msgid "could not open display \"%s\""
+msgstr "íåìàã÷ûìà àäêðûöü äûñïëåé \"%s\""
+
+#: ../src/menu.c:1264
+msgid "could not grab keyboard"
+msgstr "íåìàã÷ûìà çàõàï³öü êëàâ³ÿòóðó"
+
+#: ../src/menu.c:2578
+#, c-format
+msgid "bad value in menus state info:%s"
+msgstr "äðýííàå çíà÷ýííå ³íôàðìàöû³ àá ñòàíå ìåíþ:%s"
+
+#: ../src/menureader.c:264 ../src/rootmenu.c:733
+#, c-format
+msgid "%s:could not stat menu"
+msgstr "%s: íåìàã÷ûìà àòðûìàöü ³íôàðìàöûþ àá ìåíþ"
+
+#: ../src/menureader.c:341 ../src/menureader.c:380
+#, c-format
+msgid "could not stat() menu file '%s'"
+msgstr "íåìàã÷ûìà âûêàíàöü stat() íà ôàéë ìåíþ '%s'"
+
+#: ../src/menureader.c:416
+#, c-format
+msgid "could not find menu file '%s' referenced in WMRootMenu"
+msgstr "íåìàã÷ûìà çíàéñö³ ôàéë ìåíþ '%s' íà ÿê³ ¸ñöü ñïàñûëêà ¢ WMRootMenu"
+
+#: ../src/menureader.c:423
+#, c-format
+msgid "could not find any usable menu files. Please check '%s'"
+msgstr "íåìàã÷ûìà çíàéñö³ í³ÿê³õ ôàéëà¢ ìåíþ. Êàë³ ëàñêà, ïðàâåðöå '%s'"
+
+#: ../src/menureader.c:438 ../src/rootmenu.c:1668
+#, c-format
+msgid ""
+"using default menu file \"%s\" as the menu referenced in WMRootMenu could "
+"not be found "
+msgstr ""
+"áóäçå ¢æûòû ñòàíäàðòíû ôàéë ìåíþ \"%s\" áî ìåíþ íà ÿêîå ñïàñûëàåööà "
+"WMRootMenu íÿ çíîéäçåíà"
+
+#: ../src/menureader.c:457
+#, c-format
+msgid ""
+"invalid content in menu file '%s'.\n"
+"It should either be a property list menu or the path to the file, enclosed "
+"in \"."
+msgstr ""
+"Äðýííû ñêëàä ôàéëà ìåíá '%s'.\n"
+"Ïàâ³ííû áûöü àáî ìåíþ ñà ñï³ñó ¢ëàñö³âàñöÿ¢, àáî øëÿõ äà ôàéëà, çàêëþ÷àíû "
+"¢ äâóêîññ³ \""
+
+#: ../src/misc.c:71
+#, c-format
+msgid "could not define value for %s for cpp"
+msgstr "íåìàã÷ûìà çàäàöü çíà÷ýííå %s äëÿ cpp"
+
+#: ../src/misc.c:101
+#, c-format
+msgid "could not get password entry for UID %i"
+msgstr "íåìàã÷ûìà àòðûìàöü ïàðîëü äëÿ UID %i"
+
+#: ../src/misc.c:126
+#, c-format
+msgid "your machine is misconfigured. HOSTNAME is set to %s"
+msgstr "âàøà ìàøûíà äðýííà ñêàíô³ãóðàâàíà. HOSTNAME óñòàíî¢ëåíà ¢ %s"
+
+#: ../src/misc.c:132
+#, c-format
+msgid "your machine is misconfigured. HOST is set to %s"
+msgstr "âàøà ìàøûíà äðýííà ñêàíô³ãóðàâàíà. HOST óñòàíî¢ëåíà ¢ %s"
+
+#: ../src/misc.c:630
+msgid "Program Arguments"
+msgstr "Àðãóìåíòû ïðàãðàìû"
+
+#: ../src/misc.c:631
+msgid "Enter command arguments:"
+msgstr "Çàäàéöå àãðóìåíòû ïðàãðàìû:"
+
+#: ../src/misc.c:724
+msgid "unable to get dropped data from DND drop"
+msgstr "íåìàã÷ûìà àòðûìàöü äàçäåíûÿ ïåðàíåñåíûÿ ç DND"
+
+#: ../src/misc.c:732
+msgid "error getting dropped data from DND drop"
+msgstr "ïàìûëêà àòðûìàííÿ äàçäåíûõ ïåðàíåñåíûõ ç DND"
+
+#: ../src/misc.c:738
+msgid "out of memory while getting data from DND drop"
+msgstr "íå õàïàå ïàìÿö³ ïàä÷àñ àòðûìàííÿ äàçäåíûõ ïåðàíåñåíûõ ç DND"
+
+#: ../src/misc.c:783 ../src/misc.c:923
+#, c-format
+msgid "out of memory during expansion of \"%s\""
+msgstr "íå õàïàå ïàìÿö³ êàá âûêàíàöü \"%s\""
+
+#: ../src/misc.c:837
+msgid "out of memory during expansion of \"%w\""
+msgstr "íå õàï³ëà ïàìÿö³ ïàä÷àñ ïàäñòàíî¢ê³ \"%w\""
+
+#: ../src/misc.c:855
+msgid "out of memory during expansion of \"%W\""
+msgstr "íå õàï³ëà ïàìÿö³ ïàä÷àñ ïàäñòàíî¢ê³ \"%W\""
+
+#: ../src/misc.c:871
+msgid "out of memory during expansion of \"%a\""
+msgstr "íå õàï³ëà ïàìÿö³ ïàä÷àñ ïàäñòàíî¢ê³ \"%a\""
+
+#: ../src/misc.c:902
+#, c-format
+msgid "out of memory during expansion of \"%d\""
+msgstr "íå õàï³ëà ïàìÿö³ ïàä÷àñ ïàäñòàíî¢ê³ \"%d\""
+
+#: ../src/misc.c:916
+msgid "selection not available"
+msgstr "âûëó÷ýííå íåäàñòóïíà"
+
+#: ../src/misc.c:972 ../src/misc.c:978
+#, c-format
+msgid "bad window name value in %s state info"
+msgstr "äðýííàå ³ìÿ âàêíà ¢ ³íôàðìàöû³ àá ñòàíå %s"
+
+#: ../src/misc.c:1235
+msgid "could not send message to background image helper"
+msgstr "íåìàã÷ûìà äàñëàöü ïàâåäàìëåííå äà ôîíàâàãà àïðàöî¢ø÷ûêà âûÿ¢"
+
+#: ../src/pixmap.c:235
+#, c-format
+msgid "could not load mask bitmap file \"%s\". Won't use mask"
+msgstr "íåìàã÷ûìà çàãðóç³öü ôàéë á³òàâàé ìàñê³ \"%s\". Ìàñêà íÿ áóäçå óæûâàööà"
+
+#: ../src/resources.c:44
+#, c-format
+msgid "could not parse color \"%s\""
+msgstr "íåìàã÷ûìà àïðàöàâàöü êîëåð \"%s\""
+
+#: ../src/resources.c:48
+#, c-format
+msgid "could not allocate color \"%s\""
+msgstr "íåìàã÷ûìà âûëó÷ûöü ìåñöà äëÿ êîëåðà \"%s\""
+
+#: ../src/rootmenu.c:196 ../src/rootmenu.c:198
+msgid "Exit"
+msgstr "Âûõàä"
+
+#: ../src/rootmenu.c:197
+msgid "Exit window manager?"
+msgstr "Âûéö³ ç âàêîííàãà ìåíåäæàðà?"
+
+#: ../src/rootmenu.c:245
+msgid "Close X session"
+msgstr "Çàêðûöü X-ñåñ³þ"
+
+#: ../src/rootmenu.c:246
+msgid ""
+"Close Window System session?\n"
+"Kill might close applications with unsaved data."
+msgstr ""
+"Çàêðûöü ñåñ³þ ¢ Window System?\n"
+"Ïðû ãýòûì áóäóöü çàêðûòû ïðàãðàìû ç íåçàõàâàíûì³ çìåíàì³."
+
+#: ../src/rootmenu.c:261
+msgid "Kill X session"
+msgstr "Ïðûìóñîâà çàêðûöü X-ñåñ³þ"
+
+#: ../src/rootmenu.c:262
+msgid ""
+"Kill Window System session?\n"
+"(all applications will be closed)"
+msgstr ""
+"Çàâåðøûöü ïðûìóñîâà ñåñ³þ Window System?\n"
+"(óñå ïðàãðàìû áóäóöü çàâåðøàíû)"
+
+#: ../src/rootmenu.c:539
+#, c-format
+msgid "%s:invalid kbd shortcut specification \"%s\" for entry %s"
+msgstr "%s: äðýííàÿ êàìá³íàöûÿ êëàâ³ø \"%s\" äëÿ ýëåìåíòà %s"
+
+#: ../src/rootmenu.c:547
+#, c-format
+msgid "%s:invalid key in shortcut \"%s\" for entry %s"
+msgstr "%s: äðýííàÿ êëàâ³øà ¢ êàìá³íàöû³ \"%s\" äëÿ ýëåìåíòà %s"
+
+#: ../src/rootmenu.c:600
+#, c-format
+msgid "%s: unmatched '\"' in menu file"
+msgstr "%s: äâóêîññå \" íÿ ìàå ïàðû ¢ ôàéëå ìåíþ"
+
+#: ../src/rootmenu.c:650
+#, c-format
+msgid "%s: missing command"
+msgstr "%s: àäñóòí³÷àå êàìàíäà"
+
+#: ../src/rootmenu.c:682
+#, c-format
+msgid "invalid OPEN_MENU specification: %s"
+msgstr "äðýííàÿ ñïåöûô³êàöûÿ OPEN_MENU: %s"
+
+#: ../src/rootmenu.c:741
+#, c-format
+msgid "%s:could not stat menu:%s"
+msgstr "%s: íåìàã÷ûìà àòðûìàöü ³íôàðìàöûþ àá ìåíþ:%s"
+
+#: ../src/rootmenu.c:759
+#, c-format
+msgid "too many parameters in OPEN_MENU: %s"
+msgstr "çàøìàò ïàðàìåòðà¢ ó OPEN_MENU: %s"
+
+#: ../src/rootmenu.c:803
+msgid ""
+"There are more than one WORKSPACE_MENU commands in the applications menu. "
+"Only one is allowed."
+msgstr ""
+"Ìåíþ ïðàãðàì ìàå íåêàëüê³ êàìàíä WORKSPACE_MENU. Äàçâàëÿåööà òîëüê³ àäíà."
+
+#: ../src/rootmenu.c:837
+msgid ""
+"There are more than one WINDOWS_MENU commands in the applications menu. Only "
+"one is allowed."
+msgstr ""
+"Ìåíþ ïðàãðàì ìàå íåêàëüê³ êàìàíä WINDOWS_MENU. Äàçâàëÿåööà òîëüê³ àäíà."
+
+#: ../src/rootmenu.c:842
+msgid "Window List"
+msgstr "Cï³ñ âàêîí"
+
+#: ../src/rootmenu.c:871 ../src/rootmenu.c:889 ../src/rootmenu.c:899
+#, c-format
+msgid "%s:missing parameter for menu command \"%s\""
+msgstr "%s:àäñóòí³÷àå ïàðàìåòð äëÿ êàìàíäû ìåíþ \"%s\""
+
+#: ../src/rootmenu.c:967
+#, c-format
+msgid "%s:unknown command \"%s\" in menu config."
+msgstr "%s:íåâÿäîìàÿ êàìàíäà \"%s\" ó êàíô³ãóðàöû³ ìåíþ."
+
+#: ../src/rootmenu.c:975
+#, c-format
+msgid "%s:can't add shortcut for entry \"%s\""
+msgstr "%s:íåìàã÷ûìà çàäàöü êàìá³íàöûþ êëàâ³ø äëÿ \"%s\""
+
+#: ../src/rootmenu.c:1112
+#, c-format
+msgid "%s:maximal line size exceeded in menu config: %s"
+msgstr "%s:ïåðàâûøàíà ìàêñ³ìàëüíàÿ äà¢æûíÿ ñòðàê³ ¢ êàíô³ãóðàöû³ ìåíþ: %s"
+
+#: ../src/rootmenu.c:1134 ../src/rootmenu.c:1227 ../src/rootmenu.c:1330
+#, c-format
+msgid "%s:missing command in menu config: %s"
+msgstr "%s:àäñóòí³÷àå êàìàíäà ¢ êàíô³ãóðàöû³ ìåíþ :%s"
+
+#: ../src/rootmenu.c:1164
+#, c-format
+msgid "%s:syntax error in menu file:END declaration missing"
+msgstr "%s: ñ³íòàêñ³÷íàÿ ïàìûëêà ¢ ôàéëå ìåíþ: àäñóòí³÷àå END"
+
+#: ../src/rootmenu.c:1193 ../src/rootmenu.c:1294
+msgid "could not make arguments for menu file preprocessor"
+msgstr "íåìàã÷ûìà ñòâàðûöü àãðóìåíòû äëÿ ïðýïðàöýñàðà ìåíþ"
+
+#: ../src/rootmenu.c:1200 ../src/rootmenu.c:1302
+#, c-format
+msgid "%s:could not open/preprocess menu file"
+msgstr "%s: íåìàã÷ûìà àäêðûöü ö³ àïðàöàâàöü ôàéë ìåíþ"
+
+#: ../src/rootmenu.c:1212 ../src/rootmenu.c:1315
+#, c-format
+msgid "%s:could not open menu file"
+msgstr "%s: íåìàã÷ûìà àäêðûöü ôàéë ìåíþ"
+
+#: ../src/rootmenu.c:1239
+#, c-format
+msgid "%s:invalid menu file. MENU command is missing"
+msgstr "%s: äðýííû ôàéë ìåíþ. Àäñóòí³÷àå êàìàíäà MENU"
+
+#: ../src/rootmenu.c:1248
+msgid "error reading preprocessed menu data"
+msgstr "ïàìûëêà ÷ûòàííÿ àïðàöàâàíûõ äàäçåíûõ ìåíþ"
+
+#: ../src/rootmenu.c:1342
+#, c-format
+msgid "%s:no title given for the root menu"
+msgstr "%s: ó ãàëî¢íàãà ìåíþ íÿìà çàãàëî¢êà"
+
+#: ../src/rootmenu.c:1433 ../src/rootmenu.c:1506 ../src/rootmenu.c:1547
+#, c-format
+msgid "out of memory while constructing directory menu %s"
+msgstr "íå õàï³ëà ïàìÿö³ êàá ïàáóäàâàöü ìåíþ êàòàëàãà¢ %s"
+
+#: ../src/rootmenu.c:1443
+#, c-format
+msgid "%s:could not stat file \"%s\" in menu directory"
+msgstr "%s:íåìàã÷ûìà àòðûìàöü ³íôàðìàöûþ àá ôàéëå \"%s\" ó êàòàëàãå ìåíþ"
+
+#: ../src/rootmenu.c:1601
+msgid "Commands"
+msgstr "Êàìàíäû"
+
+#: ../src/rootmenu.c:1604
+msgid "Restart"
+msgstr "Ïåðàçàïóñê"
+
+#: ../src/rootmenu.c:1605
+msgid "Exit..."
+msgstr "Âûõàä..."
+
+#: ../src/rootmenu.c:1650
+#, c-format
+msgid "could not find menu file \"%s\" referenced in WMRootMenu"
+msgstr "íåìàã÷ûìà çíàéñö³ ôàéë ìåíþ \"%s\" íà ÿê³ ñïàñûëàåööà WMRootMenu"
+
+#: ../src/rootmenu.c:1657
+#, c-format
+msgid "could not access menu \"%s\" referenced in WMRootMenu"
+msgstr "íÿìà äîñòóïó äà ôàéëà ìåíþ \"%s\" íà ÿê³ ñïàñûëàåööà WMRootMenu"
+
+#: ../src/rootmenu.c:1691 ../src/rootmenu.c:1767
+#, c-format
+msgid "%s:format error in root menu configuration \"%s\""
+msgstr "%s: ïàìûëêîâû ôàðìàò êàíô³ãóðàöû³ ãàëî¢íàãà ìåíþ \"%s\""
+
+#: ../src/rootmenu.c:1855
+msgid ""
+"The applications menu could not be loaded. Look at the console output for a "
+"detailed description of the errors."
+msgstr ""
+"Íåìàã÷ûìà çàãðóç³öü ìåíþ ïðàãðàì. Ãëÿäç³öå ïàäðàáÿçíàñö³ ¢ âûâàäçå íà êàíñîëü."
+
+#: ../src/screen.c:747
+#, c-format
+msgid "could not initialize graphics library context: %s"
+msgstr "íåìàã÷ûìà ³í³öûÿë³çàâàöü êàíòýêñò ãðàô³÷íàé á³áë³ÿòýê³: %s"
+
+#: ../src/screen.c:778
+msgid "could not do initialization of WINGs widget set"
+msgstr "íåìàã÷ûìà ³í³öûÿë³çàâàöü á³áë³ÿòýêó â³äæýòà¢ WINGs"
+
+#: ../src/screen.c:1144
+#, c-format
+msgid "could not save session state in %s"
+msgstr "íåìàã÷ûìà çàõàâàöü ñòàí ñåñ³³ ¢ %s"
+
+#: ../src/session.c:183 ../src/wdefaults.c:589 ../src/winspector.c:454
+#, c-format
+msgid "can't convert \"%s\" to boolean"
+msgstr "íåìàã÷ûìà ñêàíâåðòàâàöü \"%s\" äà boolean"
+
+#: ../src/session.c:1023
+msgid "out of memory while saving session state"
+msgstr "íå õàï³ëà ïàìÿö³ êàá çàõàâàöü ñòàí ñåñ³³"
+
+#: ../src/session.c:1106
+msgid "end of memory while saving session state"
+msgstr "íå õàï³ëà ïàìÿö³ êàá çàõàâàöü ñòàí ñåñ³³"
+
+#. This is not fatal but can mean the session manager exited.
+#. * If the session manager exited normally we would get a
+#. * Die message, so this probably means an abnormal exit.
+#. * If the sm was the last client of session, then we'll die
+#. * anyway, otherwise we can continue doing our stuff.
+#.
+#: ../src/session.c:1244
+msgid "connection to the session manager was lost"
+msgstr "çãóáëåíà çëó÷ýííå ç ìåíåäæàðàì ñåñ³é"
+
+#: ../src/stacking.c:79
+msgid "could not get window list!!"
+msgstr "íåìàã÷ûìà àòðûìàöü ñï³ñ âàêîí!!"
+
+#: ../src/startup.c:202
+#, c-format
+msgid "internal X error: %s\n"
+msgstr "óíóòðàíàÿ ïàìûëêà X:%s\n"
+
+#: ../src/startup.c:260
+#, c-format
+msgid "got signal %i (%s) - restarting\n"
+msgstr "àòðûìàíû ñ³ãíàë %i (%s) - ïåðàçàïóñê\n"
+
+#: ../src/startup.c:262
+#, c-format
+msgid "got signal %i - restarting\n"
+msgstr "àòðûìàíû ñ³ãíàë %i - ïåðàçàïóñê\n"
+
+#: ../src/startup.c:272
+#, c-format
+msgid "got signal %i (%s) - rereading defaults\n"
+msgstr "àòðûìàíû ñ³ãíàë %i(%s) - ïåðà÷ûòâàþ ñòàíäàðòíóþ êàíô³ãóðàöûþ\n"
+
+#: ../src/startup.c:274
+#, c-format
+msgid "got signal %i - rereading defaults\n"
+msgstr "àòðûìàíû ñ³ãíàë %i - ïåðà÷ûòâàþ ñòàíäàðòíóþ êàíô³ãóðàöûþ\n"
+
+#: ../src/startup.c:284
+#, c-format
+msgid "got signal %i (%s) - exiting...\n"
+msgstr "àòðûìàíû ñ³ãíàë %i (%s) - âûõàä...\n"
+
+#: ../src/startup.c:286
+#, c-format
+msgid "got signal %i - exiting...\n"
+msgstr "àòðûìàíû ñ³ãíàë %i - âûõàä...\n"
+
+#: ../src/startup.c:329
+#, c-format
+msgid "got signal %i (%s)\n"
+msgstr "àòðûìàíû ñ³ãíàë %i (%s)\n"
+
+#: ../src/startup.c:331
+#, c-format
+msgid "got signal %i\n"
+msgstr "àòðûìàíû ñ³ãíàë %i\n"
+
+#: ../src/startup.c:342
+msgid ""
+"crashed while trying to do some post-crash cleanup. Aborting immediatelly."
+msgstr ""
+"êðûòû÷íàÿ ïàìûëêà ïàä÷àñ àïðàöî¢ê³ êðûòû÷íàé ïàìûëê³. Òýðì³íîâû âûõàä."
+
+#. we try to restart Window Maker
+#: ../src/startup.c:406
+msgid "trying to restart Window Maker..."
+msgstr "ñïðîáà ïåðàçàïóñö³öü Window Maker..."
+
+#: ../src/startup.c:411
+msgid "trying to start alternate window manager..."
+msgstr "ñïðîáà çàïóñö³öü ³íøû âàêîííû ìåíåäæàð..."
+
+#: ../src/startup.c:417
+msgid "failed to start alternate window manager. Aborting."
+msgstr "íå ìàã÷ûìà çàïóñö³öü ³íøû âàêîííû ìåíåäæàð. Âûõàä."
+
+#: ../src/startup.c:419
+msgid ""
+"a fatal error has occured, probably due to a bug. Please fill the included "
+"BUGFORM and report it."
+msgstr ""
+" Ãýòû êðûòû÷íû çáîé ìàã÷ûìà âûçâàíû ïàìûëêàì³ ¢ WindowMaker."
+"Äàøë³öå íàì çàïî¢íåíàå ïàâåäàìëåííå àá ïàìûëêå (BUGFORM)"
+
+#: ../src/startup.c:894
+#, c-format
+msgid "icon size is configured to %i, but it's too small. Using 16, instead\n"
+msgstr "Ïàìåð ³êîíê³ àáðàíû %i, àëå ãýòà çàìàëà. Áóäçå óæûòà 16\n"
+
+#: ../src/startup.c:922
+msgid "XKB is not supported. KbdModeLock is automatically disabled."
+msgstr "XKB íå ïàäòðûìë³âàåööà. KbdModeLock à¢òàìàòû÷íà çàáàðîíåíû."
+
+#: ../src/startup.c:941
+msgid "it seems that there is already a window manager running"
+msgstr "çäàåööà íåéê³ ³íøû âàêîííû ìåíåäæàð óæî ïðàöóå"
+
+#: ../src/startup.c:947
+#, c-format
+msgid "could not manage screen %i"
+msgstr "íåìàã÷ûìà ê³ðàâàöü ýêðàíàì %i"
+
+#: ../src/startup.c:1015
+msgid "could not manage any screen"
+msgstr "íåìàã÷ûìà ê³ðàâàöü í³âîäíûì ýêðàíàì"
+
+#: ../src/switchmenu.c:137
+msgid "Windows"
+msgstr "Âîêíû"
+
+#: ../src/texture.c:329 ../src/texture.c:371
+#, c-format
+msgid "image file \"%s\" used as texture could not be found."
+msgstr "íåìàã÷ûìà çíàéñö³ ôàéë âûÿâû äëÿ òýêñòóðû \"%s\""
+
+#: ../src/texture.c:335 ../src/texture.c:377
+#, c-format
+msgid "could not load texture pixmap \"%s\":%s"
+msgstr "íåìàã÷ûìà çàãðóç³öü âûÿâó òýêñòóðû \"%s:%s\""
+
+#: ../src/texture.c:437
+#, c-format
+msgid "library \"%s\" cound not be opened."
+msgstr "íåìàã÷ûìà àäêðûöü á³áë³ÿòýêó \"%s\""
+
+#: ../src/texture.c:446
+#, c-format
+msgid "function \"%s\" not found in library \"%s\""
+msgstr "íåìàã÷ûìà çíàéñö³ ôóíêöûþ \"%s\" y á³áë³ÿòýöû \"%s\""
+
+#: ../src/texture.c:453
+msgid "function textures not supported on this system, sorry."
+msgstr "ãýòà ñ³ñòýìà íå ïàäòðûìë³âàå ïðàöýäóðíûÿ òýêñòóðû."
+
+#: ../src/texture.c:598
+msgid "could not allocatü image buffer"
+msgstr "íåìàã÷ûìà âûëó÷ûöü ïàìÿöü ïàä áóôåð âûÿâû"
+
+#: ../src/wdefaults.c:437
+#, c-format
+msgid "could not find icon file \"%s\""
+msgstr "íåìàã÷ûìà àäêðûöü ôàéë ³êîíê³ \"%s\""
+
+#: ../src/window.c:2942 ../src/window.c:3081
+msgid ""
+"the NumLock, ScrollLock or similar key seems to be turned on.\n"
+"Turn it off or some mouse actions and keyboard shortcuts will not work."
+msgstr ""
+"NumLock, ScrollLock ö³ ïàäîáíàÿ ðýæûì çàäçåéí³÷àíû.\n"
+"Âûêëþ÷ûöå ÿãî, áî íåêàòîðûÿ êëàâ³ÿòóðíûÿ êàìá³íàöû³ íÿ áóäóöü ïðàöàâàöü."
+
+#: ../src/winmenu.c:126
+msgid ""
+"This will kill the application.\n"
+"Any unsaved changes will be lost.\n"
+"Please confirm."
+msgstr ""
+"Óñå ïðàãðàìû áóäóöü ïðûìóñîâà çàâåðøàíû.\n"
+"Íåçàõàâàíûÿ çìÿíåíí³ áóäóöü ñòðà÷àíû.\n"
+"Ïàöâåðäçöå êàë³ ëàñêà."
+
+#: ../src/winmenu.c:272 ../src/winmenu.c:281
+msgid "Set Shortcut"
+msgstr "Çàäàöü êàìá³íàöûþ êëàâ³ø"
+
+#: ../src/winmenu.c:359 ../src/winmenu.c:404
+msgid "could not create submenu for window menu"
+msgstr "íåìàã÷ûìà ñòâàðûöü ïàäìåíþ äëÿ âàêîííàãà ìåíþ"
+
+#: ../src/winmenu.c:408
+msgid "Keep on top"
+msgstr "Òðûìàöü íàä óñ³ì³"
+
+#: ../src/winmenu.c:413
+msgid "Keep at bottom"
+msgstr "Òðûìàöü ïàä óñ³ì³"
+
+#: ../src/winmenu.c:457 ../src/winmenu.c:600
+msgid "Shade"
+msgstr "Çêðóö³öü"
+
+#: ../src/winmenu.c:473
+msgid "Hide Others"
+msgstr "Ñõàâàöü ³íøûÿ"
+
+#: ../src/winmenu.c:481
+msgid "Resize/Move"
+msgstr "Çìÿí³öü ïàìåð/ïåðàíåñö³"
+
+#: ../src/winmenu.c:489
+msgid "Select"
+msgstr "Àáðàöü"
+
+#: ../src/winmenu.c:502
+msgid "Attributes..."
+msgstr "Àòðûáóòû..."
+
+#: ../src/winmenu.c:504
+msgid "Options"
+msgstr "Ïàðàìåòðû"
+
+#: ../src/winmenu.c:595
+msgid "Unshade"
+msgstr "Ðàçêðóö³öü"
+
+#: ../src/winspector.c:387
+#, c-format
+msgid "Could not find icon \"%s\" specified for this window"
+msgstr "Íåìàã÷ûìà çíàéñö³ àçíà÷àíóþ äëÿ ãýòàãà âàêíà ³êîíêó \"%s\""
+
+#: ../src/winspector.c:404
+#, c-format
+msgid "Could not open specified icon \"%s\":%s"
+msgstr "Íåìàã÷ûìà àäêðûöü àçíà÷àíóþ ³êîíêó \"%s\""
+
+#: ../src/winspector.c:1121
+#, c-format
+msgid "Inspecting  %s.%s"
+msgstr "Àãëÿä %s.%s"
+
+#: ../src/winspector.c:1147
+msgid "Click in the window you wish to inspect."
+msgstr "Ç äàïàìîãàé ìûøê³ àáÿðûöå âàêíî äëÿ àãëÿäó."
+
+#: ../src/winspector.c:1186
+msgid ""
+"The configuration will apply to all\n"
+"windows that have their WM_CLASS\n"
+"property set to the above selected\n"
+"name, when saved."
+msgstr ""
+"Ïàñëÿ çàõàâàííÿ ãýòàÿ êàíô³ãóðàöûÿ\n"
+"áóäçå ¢æûâàööà äëÿ ¢ñ³õ âàêîí,\n"
+"ÿê³ÿ ìàþöü âûøýé àçíà÷àíóþ\n"
+"¢ëàñö³âàñöü WM_CLASS."
+
+#: ../src/winspector.c:1215
+msgid "Save"
+msgstr "Çàõàâàöü"
+
+#: ../src/winspector.c:1223
+msgid "Apply"
+msgstr "Óæûöü"
+
+#: ../src/winspector.c:1229
+msgid "Reload"
+msgstr "Àäêàö³öü"
+
+#: ../src/winspector.c:1238 ../src/winspector.c:1248
+msgid "Window Specification"
+msgstr "Ñïåöûô³êàöûÿ âàêíà"
+
+#: ../src/winspector.c:1239
+msgid "Window Attributes"
+msgstr "Àòðûáóòû âàêíà"
+
+#: ../src/winspector.c:1240
+msgid "Advanced Options"
+msgstr "Ïðàñóíóòûÿ ïàðàìåòðû"
+
+#: ../src/winspector.c:1241
+msgid "Icon and Initial Workspace"
+msgstr "²êîíêà ³ ïà÷àòêîâàå ïðàöàìåñöà"
+
+#: ../src/winspector.c:1242
+msgid "Application Specific"
+msgstr "Ñïåöûô³÷íûÿ íàñòðîéê³"
+
+#: ../src/winspector.c:1256
+msgid "Defaults for all windows"
+msgstr "Ñòàíäàðòíûÿ íàñòðîéê³ äëÿ ¢ñ³õ âàêîí"
+
+#: ../src/winspector.c:1310
+msgid "Select window"
+msgstr "Àáðàöü âàêíî"
+
+#: ../src/winspector.c:1324
+msgid "Attributes"
+msgstr "Àòðûáóòû"
+
+#: ../src/winspector.c:1335
+msgid "Disable titlebar"
+msgstr "Çàáàðîí³öü çàãàëîâàê"
+
+#: ../src/winspector.c:1337
+msgid ""
+"Remove the titlebar of this window.\n"
+"To access the window commands menu of a window\n"
+"without it's titlebar, press Control+Esc (or the\n"
+"equivalent shortcut, if you changed the default\n"
+"settings)."
+msgstr ""
+"Íå ïàêàçâàöü çàãàëîâàê äëÿ ãýòàãà âàêíà.\n"
+"Ìåíþ âàêíà áåç çàãàëî¢êà ìîæà áûöü âûçâàíà\n"
+"ïà Control-Esc ö³ ýêâ³âàëåíòíàé êàìá³íàöûÿé,\n"
+"êàë³ ñòàíäàðòíûÿ íàñòðîéê³ áûë³ çìåíåíû."
+
+#: ../src/winspector.c:1344
+msgid "Disable resizebar"
+msgstr "Çàáàðîí³öü ðàìêó ïàìåðó"
+
+#: ../src/winspector.c:1346
+msgid "Remove the resizebar of this window."
+msgstr "Íå ïàêàçâàöü ðàìêó çìåíû ïàìåðó äëÿ âàêíà"
+
+#: ../src/winspector.c:1349
+msgid "Disable close button"
+msgstr "Çàáàðîí³öü êíîïêó çàêðûööÿ"
+
+#: ../src/winspector.c:1351
+msgid "Remove the `close window' button of this window."
+msgstr "Íå ïàêàçâàöü êíîïêó çàêðûööÿ âàêíà"
+
+#: ../src/winspector.c:1354
+msgid "Disable miniaturize button"
+msgstr "Çàáàðîí³öü êíîïêó ì³í³ì³çàöû³"
+
+#: ../src/winspector.c:1356
+msgid "Remove the `miniaturize window' button of the window."
+msgstr "Íå ïàêàçâàöü êíîïêó ì³í³ì³çàöû³ äëÿ âàêíà"
+
+#: ../src/winspector.c:1359
+msgid "Disable border"
+msgstr "Çàáàðîí³öü ðàìêó"
+
+#: ../src/winspector.c:1361
+msgid "Remove the 1 pixel black border around the window."
+msgstr "Íå ïàêàçâàöü âóçêóþ ÷îðíóþ ðàìêó äëÿ âàêíà."
+
+#: ../src/winspector.c:1364
+msgid "Keep on top (floating)"
+msgstr "Òðûìàöü íàä óñ³ì³"
+
+#: ../src/winspector.c:1366
+msgid ""
+"Keep the window over other windows, not allowing\n"
+"them to cover it."
+msgstr ""
+"Òðûìàöü âàêíî íàä óñ³ì³ âîêíàì³, íå äàçâàëÿþ÷û\n"
+"³ì ÿãî ïåðàêðûâàöü."
+
+#: ../src/winspector.c:1370
+msgid "Keep at bottom (sunken)"
+msgstr "Òðûìàöü ïàä óñ³ì³"
+
+#: ../src/winspector.c:1372
+msgid "Keep the window under all other windows."
+msgstr "Òðûìàöü âàêíî ïàä óñ³ì³ ³íøûì³ âîêíàì³."
+
+#: ../src/winspector.c:1377
+msgid "Make window present in all workspaces."
+msgstr "Âàêíî ïðûñóòí³÷àå âà ¢ñ³õ ïðàöàìåñöàõ."
+
+#: ../src/winspector.c:1380
+msgid "Start miniaturized"
+msgstr "Çàïóñêàöü ì³í³ì³çàâàíûì"
+
+#: ../src/winspector.c:1382
+msgid ""
+"Make the window be automatically miniaturized when it's\n"
+"first shown."
+msgstr ""
+"Ì³í³ì³çàâàöü âàêíî ïðû ïåðøûì ç'ÿ¢ëåíí³ íà ýêðàíå."
+
+#: ../src/winspector.c:1386
+msgid "Start maximized"
+msgstr "Çàïóñêàöü ìàêñ³ì³çàâàíûì"
+
+#: ../src/winspector.c:1388
+msgid ""
+"Make the window be automatically maximized when it's\n"
+"first shown."
+msgstr ""
+"Ìàêñ³ì³çàâàöü âàêíî ïðû ïåðøûì ç'ÿ¢ëåíí³ íà ýêðàíå."
+
+#: ../src/winspector.c:1392
+msgid "Full screen maximization"
+msgstr "Ìàêñ³ì³çàâàöü íà ¢âåñü ýêðàí"
+
+#: ../src/winspector.c:1394
+msgid ""
+"Make the window use the whole screen space when it's\n"
+"maximized. The titlebar and resizebar will be moved\n"
+"to outside the screen."
+msgstr ""
+"Ìàêñ³ì³çàâàíàå âàêíî áóäçå çàéìàöü óâåñü ýêðàí.\n"
+"Çàãàëîâàê ³ ðàìêà çìÿíåííÿ ïàìåðó áóäóöü çà ìåæàì³ ýêðàíó."
+
+#: ../src/winspector.c:1411
+msgid "Advanced"
+msgstr "Ïðàñóíóòûÿ ïàðàìåòðû"
+
+#: ../src/winspector.c:1428
+msgid "Do not bind keyboard shortcuts"
+msgstr "Íå ïåðàõîïë³âàöü ñâàå êëàâ³øû"
+
+#: ../src/winspector.c:1430
+msgid ""
+"Do not bind keyboard shortcuts from Window Maker\n"
+"when this window is focused. This will allow the\n"
+"window to receive all key combinations regardless\n"
+"of your shortcut configuration."
+msgstr ""
+"Íå ïåðàõîïë³âàöü êëàâ³ÿòóðíûÿ êàìá³íàöû³ Window Maker\n"
+"êàë³ ãýòàå âàêíî âàëîäàå ôîêóñàì. Äàçâàëÿå âàêíó àòðûìë³âàöü\n"
+"óñå êëàâ³ÿòóðíûÿ êàìá³íàöû³, íàâàò òûÿ, øòî âûêàðûñòî¢âàþööà\n"
+"¢ Window Maker"
+
+#: ../src/winspector.c:1436
+msgid "Do not bind mouse clicks"
+msgstr "Íå ïåðàõîïë³âàöü ïàäçå³ ìûøû"
+
+#: ../src/winspector.c:1438
+msgid ""
+"Do not bind mouse actions, such as `Alt'+drag\n"
+"in the window (when alt is the modifier you haveconfigured)."
+msgstr ""
+"Íå ïåðàõîïë³âàöü ïàçäå³ àä ìûøû, òàê³ÿ ÿê\n"
+"ïåðàöÿãâàííå âàêíà ç äàïàìîãàé Alt, ó ãýòûì âàêíå."
+
+#: ../src/winspector.c:1443
+msgid "Do not show in the window list"
+msgstr "Íå ïàêàçâàöü ó ñï³ñå âàêîí"
+
+#: ../src/winspector.c:1445
+msgid "Do not list the window in the window list menu."
+msgstr "Íå ïàêàçâàöü âàêíî ¢ ìåíþ ñï³ñà âàêîí."
+
+#: ../src/winspector.c:1448
+msgid "Do not let it take focus"
+msgstr "Íå àòðûìë³âàöü ôîêóñ"
+
+#: ../src/winspector.c:1450
+msgid ""
+"Do not let the window take keyboard focus when you\n"
+"click on it."
+msgstr ""
+"Íå äàçâàëÿöü âàêíó àòðûìë³âàöü ôîêóñ."
+
+#: ../src/winspector.c:1454
+msgid "Keep inside screen"
+msgstr "Òðûìàöü ó ìåæàõ ýêðàíó"
+
+#: ../src/winspector.c:1456
+msgid ""
+"Do not allow the window to move itself completely\n"
+"outside the screen. For bug compatibility.\n"
+msgstr ""
+"Íå äàçâàëÿöü ïåðàíîñ³öü âàêíî çà ìåæû ýêðàíó.\n"
+"Òîëüê³ äçåëÿ ñóìÿñö³ìàñö³.\n"
+
+#: ../src/winspector.c:1460
+msgid "Ignore 'Hide Others'"
+msgstr "²ãíàðàâàöü 'Ñõàâàöü ³íøûÿ'"
+
+#: ../src/winspector.c:1462
+msgid ""
+"Do not hide the window when issuing the\n"
+"`HideOthers' command."
+msgstr ""
+"Íå õàâàöü âàêíî êàë³ âûçâàíà\n"
+"êàìàíäà 'Ñõàâàöü ³íøûÿ'"
+
+#: ../src/winspector.c:1466
+msgid "Ignore 'Save Session'"
+msgstr "²ãíàðàâàöü 'Çàõàâàöü ñåñ³þ'"
+
+#: ../src/winspector.c:1468
+msgid ""
+"Do not save the associated application in the\n"
+"session's state, so that it won't be restarted\n"
+"together with other applications when Window Maker\n"
+"starts."
+msgstr ""
+"Íå çàõî¢âàöü ³íôàðìàöûþ àá ïðàãðàìå ¢ ñòàíå\n"
+"ñåñ³³, òàê øòî ÿíà íå áóäçå çàïóñêàööà ðàçàì\n"
+"ç ³íøûì³ ïðàãðàìàì³ ïðû çàïóñêå Window Maker"
+
+#: ../src/winspector.c:1474
+msgid "Emulate application icon"
+msgstr "Ýìóëÿâàöü ³êîíêó ïðàãðàìû"
+
+#: ../src/winspector.c:1476
+msgid ""
+"Make this window act as an application that provides\n"
+"enough information to Window Maker for a dockable\n"
+"application icon to be created."
+msgstr ""
+"Ïðûìóñ³öü âàêíî äçåéí³÷àöü ÿê ïðàãðàìó, ÿêàÿ\n"
+"çàáÿñïå÷âàå Window Maker íåàáõîäíàé ³íôàðìàöûÿé\n"
+"äëÿ ñòâàðýííÿ ³êîíê³ ïðàãðàìû."
+
+#: ../src/winspector.c:1482
+msgid "Disable language button"
+msgstr "Çàáàðîí³öü êíîïóê ìîâû"
+
+#: ../src/winspector.c:1484
+msgid "Remove the `toggle language' button of the window."
+msgstr "Íå ïàêàçâàöü êíîïêó âûáàðà ìîâû äëÿ âàêíà"
+
+#: ../src/winspector.c:1501
+msgid "Miniwindow Image"
+msgstr "Âûÿâà ì³í³âàêíà"
+
+#: ../src/winspector.c:1528
+msgid "Icon filename:"
+msgstr "²ìÿ ôàéëà ³êîíê³:"
+
+#: ../src/winspector.c:1541
+msgid "Ignore client supplied icon"
+msgstr "²ãíàðàâàöü êë³åíòñêóþ ³êîíêó"
+
+#: ../src/winspector.c:1548
+msgid "Initial Workspace"
+msgstr "Ïà÷àòêîâàå ïðàöàìåñöà"
+
+#: ../src/winspector.c:1550
+msgid "The workspace to place the window when it'sfirst shown."
+msgstr "Ïðàöàìåñöà ¢ ÿê³ì áóäçå àäêðûâàööà âàêíî ïà çàïóñêó"
+
+#: ../src/winspector.c:1556
+msgid "Nowhere in particular"
+msgstr "Äçå çà¢ãîäíà"
+
+#: ../src/winspector.c:1574
+msgid "Application Attributes"
+msgstr "Àòðûáóòû ïðàãðàìû"
+
+#: ../src/winspector.c:1585
+msgid "Start hidden"
+msgstr "Çàïóñêàöü ñõàâàíûì"
+
+#: ../src/winspector.c:1587
+msgid "Automatically hide application when it's started."
+msgstr "À¢òàìàòû÷íà õàâàöü ïðàãðàìó ïðû çàïóñêó"
+
+#: ../src/winspector.c:1590
+msgid "No application icon"
+msgstr "Çàáàðîí³öü ³êîíêó ïðàãðàìû"
+
+#: ../src/winspector.c:1592
+msgid ""
+"Disable the application icon for the application.\n"
+"Note that you won't be able to dock it anymore,\n"
+"and any icons that are already docked will stop\n"
+"working correctly."
+msgstr ""
+"Çàáàðîí³öü ³êîíêó ïðàãðàìû. Ïðû ãýòûì ÿãî\n"
+"íåëüãà áóäçå çàäàêàâàöü, à ¢æî çàäàêàâàíûÿ ³êîíê³\n"
+"ãýòàé ïðàãðàìû áóäóöü ïðàöàâàöü íåêàðýêòíà."
+
+#: ../src/winspector.c:1598
+msgid "Shared application icon"
+msgstr "Ïàäçÿëÿåìàÿ ³êîíêà ïðàãðàìû"
+
+#: ../src/winspector.c:1600
+msgid ""
+"Use a single shared application icon for all of\n"
+"the instances of this application.\n"
+msgstr ""
+"Âûêàðûñòî¢âàöü àäç³íóþ ³êîíêó ïðàãðàìû äëÿ\n"
+"¢ñ³õ ýêçýìïëÿðà¢ ãýòàé ïðàãðàìû.\n"
+
+#: ../src/wmspec.c:277
+msgid "out of memory while updating wm hints"
+msgstr "íå õàï³ëà ïàìÿö³ ïàä÷àñ àáíî¢ëåííÿ ïàäêàçàê"
+
+#: ../src/workspace.c:107 ../src/workspace.c:108 ../src/workspace.c:893
+#, c-format
+msgid "Workspace %i"
+msgstr "Ïðàöàìåñöà %i"
+
+#: ../src/workspace.c:943
+msgid "Workspaces"
+msgstr "Ïðàöàìåñöû"
+
+#: ../src/workspace.c:945
+msgid "could not create Workspace menu"
+msgstr "íåìàã÷ûìà ñòâàðûöü ìåíþ ïðàöàìåñöà"
+
+#: ../src/workspace.c:952
+msgid "New"
+msgstr "Ñòâàðûöü"
+
+#: ../src/workspace.c:953
+msgid "Destroy Last"
+msgstr "Çí³ø÷ûöü àïîåøíÿå"
diff -Naur WindowMaker-0.80.2/po/bg.po wm-xft2/po/bg.po
--- WindowMaker-0.80.2/po/bg.po	2001-02-24 05:19:53.000000000 +0300
+++ wm-xft2/po/bg.po	2003-10-22 14:08:37.000000000 +0400
@@ -1,1924 +1,2533 @@
-# Message catalog for Window Maker.
-# Copyright (C) 2000 Free Software Foundation, Inc.
-# The text below is in CP1251 encoding.
-# Boris Jordanov <borj@sdf.lonestar.org>, 2000
-# Bojidar Ivanov <bojidar_ivanov@mailcity.com>, 2000
-# Slavei G. Karadjov <slaff@linux-bg.hypermart.net>, 2000
-# Lyubomir Sotirov <lyubomir@sotirov.org>, 2000
-# Anton Zinoviev <anton@lml.bas.bg>, 2000
-#
-msgid ""
-msgstr ""
-"Project-Id-Version: WindowMaker 0.61.1\n"
-"POT-Creation-Date: 2000-08-28 20:37+0300\n"
-"PO-Revision-Date: 2000-08-28 21:00+03:00\n"
-"Last-Translator:\n"
-"Language-Team: Bulgarian <dict@linux.home.bg>\n"
-"MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=windows-1251\n"
-"Content-Transfer-Encoding: 8bit\n"
-
-#: ../src/appicon.c:550 ../src/dialog.c:230 ../src/dock.c:3291
-#: ../src/dockedapp.c:211 ../src/main.c:254 ../src/rootmenu.c:1765
-#: ../src/winspector.c:383 ../src/winspector.c:399
-msgid "Error"
-msgstr "Ãðåøêà"
-
-#: ../src/appicon.c:551
-msgid "Could not open specified icon file"
-msgstr "Ôàéëúò ñ èêîíêàòà íå ìîæå äà áúäå çàðåäåí"
-
-#: ../src/appicon.c:552 ../src/dialog.c:122 ../src/dialog.c:230
-#: ../src/dialog.c:574 ../src/dialog.c:1591 ../src/dock.c:515
-#: ../src/dock.c:523 ../src/dock.c:547 ../src/dock.c:3292
-#: ../src/dockedapp.c:212 ../src/dockedapp.c:370 ../src/main.c:254
-#: ../src/rootmenu.c:1769 ../src/winspector.c:384 ../src/winspector.c:400
-msgid "OK"
-msgstr "OK"
-
-# Çà äà áúäå áåç ðîä çàìåíèõ "ùå áúäå çàòâîðåíà" íà "ùå ñå çàòâîðè".
-# "Çàïàçåíà" å ïî-òî÷åí ïðåâîä íà "save" - íå âñè÷êî çàïàçåíî å çàïèñàíî
-# âúâ ôàéë. (À.Ç.)  
-#: ../src/appicon.c:579 ../src/dock.c:277
-msgid ""
-" will be forcibly closed.\n"
-"Any unsaved changes will be lost.\n"
-"Please confirm."
-msgstr ""
-" ùå ñå çàòâîðè ïðèíóäèòåëíî.\n"
-"Âñÿêà èíôîðìàöèÿ, êîÿòî íå å çàïàçåíà ùå ñå çàãóáè.\n"
-"Ìîëÿ ïîòâúðäåòå."
-
-#
-#: ../src/appicon.c:585 ../src/dock.c:282 ../src/winmenu.c:125
-msgid "Kill Application"
-msgstr "Óáèé ïðèëîæåíèåòî"
-
-#: ../src/appicon.c:586 ../src/dock.c:283 ../src/winmenu.c:127
-msgid "Yes"
-msgstr "Äà"
-
-#: ../src/appicon.c:586 ../src/dock.c:283 ../src/winmenu.c:127
-msgid "No"
-msgstr "Íå"
-
-#: ../src/appicon.c:604 ../src/dock.c:1159 ../src/dock.c:3463
-msgid "Unhide Here"
-msgstr "Ïîêàæè"
-
-#: ../src/appicon.c:605 ../src/appicon.c:630 ../src/dock.c:1161
-#: ../src/dock.c:1163 ../src/dock.c:3475 ../src/winmenu.c:469
-msgid "Hide"
-msgstr "Ñêðèé"
-
-# Ìîæå áè "ïîñòàâè" âìåñòî "ïðèáàâè"? (À.Ç.)
-#: ../src/appicon.c:606
-msgid "Set Icon..."
-msgstr "Ïîñòàâè èêîíêà..."
-
-#: ../src/appicon.c:607 ../src/dock.c:1167 ../src/rootmenu.c:226
-#: ../src/rootmenu.c:240 ../src/winmenu.c:516
-msgid "Kill"
-msgstr "Óáèé"
-
-#: ../src/appicon.c:628 ../src/dock.c:3473
-msgid "Unhide"
-msgstr "Ïîêàæè"
-
-# [ start translation
-# Translated by: Boris Jordanov
-#
-# Ñïîðåä ìåí defaults database çíà÷è íå ïîäðàçáèðàùàòà ñå áàçà äàííè, à
-# áàçàòà äàííè ñ ïîäðàçáèðàíèÿ, ò.å. ñ íàñòðîéêè.  Ñúîòâåòíî è
-# ïî-íàòàòúê èçðàçè êàòî "áàçàòà îò äàííè ñ ïîäðàçáèðàùè ñå
-# ïîòðåáèòåëñêè íàñòðîéêè" ñúì çàìåíÿë íà "ïîòðåáèòåëñêàòà áàçà äàííè ñ
-# íàñòðîéêè". (À.Ç.)
-#
-# È àç òàêà ãî ðàçáèðàì, íî íÿêàê íå ìè äîéäå ïðàâèëíî çâó÷àù èçðàç :)
-# (Á.É.)
-#
-# Îòíîñíî "Dock" àç ëè÷íî ïðåäïî÷èòàì "Äîê" (Á.É.)
-#
-# Èçðàçè îò âèäà "äà áúäå ïðî÷åòåíà" òóê è ïî-íàòàòúê ñúì çàìåíèë íà "äà
-# ñå ïðî÷åòå" åäèíñòâåíî çà êðàòêîñò -- ïðè íÿêîè øðèôòîâå ïî-äúëãèÿò
-# èçêàç ïðàâè ïðîáëåìè. (À.Ç.)
-#
-# Àêî ñúîáðàæåíèÿòà çà êðàòêîñò ñà íàèñòèíà íàëîæèòåëíè - ÎÊ, íî "äà ñå
-# ïðî÷åòå" çâó÷è íå ñúâñåì åäíîñìèñëåíî: "äà ñå ïðî÷åòå" ñàìà? èëè "äà
-# áúäå ïðî÷åòåíà" - îò íÿêîãî, ïðîöåñ, ïðîãðàìà? Äàëè â ìîìíòà íå ïèøà
-# áåçñìèñëèöè ?!?! (Á.É.)
-#
-# Ïîóâëÿêîõ ñå.  Òîâà òóê ñà êîíçîëíè ñúîáùåíèÿ è ñúîáðàæåíèÿòà çà
-# êðàòêîñò íå âàæàò. (À.Ç.)  
-#: ../src/defaults.c:910 ../src/startup.c:820 ../src/startup.c:838
-#: ../src/startup.c:844
-#, c-format
-msgid "could not read domain \"%s\" from defaults database"
-msgstr ""
-"îáëàñòòà \"%s\" íå ìîæå äà áúäå ïðî÷åòåíà îò áàçàòà îò äàííè ñ íàñòðîéêè"
-
-#: ../src/defaults.c:956 ../src/defaults.c:1081 ../src/defaults.c:1120
-#: ../src/defaults.c:1150
-#, c-format
-msgid "Domain %s (%s) of defaults database is corrupted!"
-msgstr "Îáëàñòòà %s (%s) îò áàçàòà äàííè ñ íàñòðîéêè å ïîâðåäåíà!"
-
-#: ../src/defaults.c:961 ../src/defaults.c:1102 ../src/defaults.c:1133
-#: ../src/defaults.c:1159
-#, c-format
-msgid "could not load domain %s from user defaults database"
-msgstr ""
-"îáëàñòòà %s îò ïîòðåáèòåëñêàòà áàçà äàííè ñ íàñòðîéêè íå ìîæå äà áúäå "
-"çàðåäåíà."
-
-#: ../src/defaults.c:972 ../src/defaults.c:1066
-#, c-format
-msgid "Domain %s (%s) of global defaults database is corrupted!"
-msgstr "Îáëàñòòà %s (%s) îò ãëîáàëíàòà áàçà äàííè ñ íàñòðîéêè å ïîâðåäåíà!"
-
-#: ../src/defaults.c:991
-#, c-format
-msgid "could not load domain %s from global defaults database (%s)"
-msgstr "îáëàñòòà %s îò ãëîáàëíàòà áàçà äàííè %s íå ìîæå äà áúäå çàðåäåíà"
-
-#: ../src/defaults.c:1071
-#, c-format
-msgid "could not load domain %s from global defaults database"
-msgstr "îáëàñòòà %s îò ãëîáàëíàòà áàçà äàííè íå ìîæå äà áúäå çàðåäåíà"
-
-#: ../src/defaults.c:1401
-#, c-format
-msgid "wrong option value for key \"%s\". Should be one of %s"
-msgstr ""
-"íåïðàâèëíà ñòîéíîñò çà êëþ÷à \"%s\". Òðÿáâà äà áúäå åäíà îò ñëåäíèòå: %s"
-
-#: ../src/defaults.c:1446
-#, c-format
-msgid "can't convert \"%s\" to boolean for key \"%s\""
-msgstr "íå ìîæå äà ñå ïðåîáðàçóâà \"%s\" â áóëåâà ñòîéíîñò çà êëþ÷a \"%s\""
-
-#: ../src/defaults.c:1451 ../src/defaults.c:1483 ../src/defaults.c:1515
-#: ../src/defaults.c:1528 ../src/defaults.c:1543 ../src/defaults.c:1557
-#: ../src/defaults.c:1627 ../src/defaults.c:1639 ../src/defaults.c:2045
-#: ../src/defaults.c:2062 ../src/defaults.c:2075 ../src/defaults.c:2165
-#: ../src/defaults.c:2181 ../src/defaults.c:2212 ../src/defaults.c:2299
-#: ../src/defaults.c:2707 ../src/defaults.c:2720
-#, c-format
-msgid "using default \"%s\" instead"
-msgstr "âìåñòî òîâà ïî ïîäðàçáèðàíå ñå èçïîëçâà \"%s\""
-
-#: ../src/defaults.c:1480
-#, c-format
-msgid "can't convert \"%s\" to integer for key \"%s\""
-msgstr "íå ìîæå äà ñå ïðåîáðàçóâà \"%s\" â öÿëî ÷èñëî çà êëþ÷à \"%s\""
-
-#: ../src/defaults.c:1510 ../src/defaults.c:1622 ../src/defaults.c:2040
-#: ../src/defaults.c:2057 ../src/defaults.c:2160 ../src/defaults.c:2207
-#: ../src/defaults.c:2701 ../src/wdefaults.c:565 ../src/wdefaults.c:601
-#, c-format
-msgid "Wrong option format for key \"%s\". Should be %s."
-msgstr "Íåïðàâèëåí ôîðìàò íà ïàðàìåòúðà íà êëþ÷à \"%s\". Òðÿáâà äà áúäå %s."
-
-#: ../src/defaults.c:1523
-#, c-format
-msgid "Incorrect number of elements in array for key \"%s\"."
-msgstr "Íåïðàâèëåí áðîé åëåìåíòè â ìàñèâà çà êëþ÷a \"%s\"."
-
-#: ../src/defaults.c:1538
-#, c-format
-msgid "Wrong value for key \"%s\". Should be Coordinate."
-msgstr "Íåïðàâèëíà ñòîéíîñò çà êëþ÷à \"%s\". Òðÿáâà äà áúäå Coordinate."
-
-#: ../src/defaults.c:1553
-#, c-format
-msgid "can't convert array to integers for \"%s\"."
-msgstr "ìàñèâúò íå ìîæå äà ñå ïðåîáðàçóâà â öåëî÷èñëåíè ñòîéíîñòè çà \"%s\"."
-
-#: ../src/defaults.c:1749 ../src/defaults.c:1781 ../src/defaults.c:1797
-#: ../src/defaults.c:1843 ../src/defaults.c:1883 ../src/defaults.c:1921
-#: ../src/defaults.c:1937
-#, c-format
-msgid "\"%s\" is not a valid color name"
-msgstr "\"%s\" íå å âàëèäíî èìå íà öâÿò"
-
-#: ../src/defaults.c:1762
-msgid "bad number of arguments in gradient specification"
-msgstr "íåïðàâèëåí áðîé àðãóìåíòè ïðè îïðåäåëÿíå íà ãðàäèåíò"
-
-#: ../src/defaults.c:1816
-msgid "too few arguments in multicolor gradient specification"
-msgstr "íåäîñòàòú÷íî àðãóìåíòè ïðè îïðåäåëÿíå íà ìíîãîöâåòåí ãðàäèåíò"
-
-#: ../src/defaults.c:1910
-msgid "bad number of arguments in textured gradient specification"
-msgstr "íåïðàâèëåí áðîé àðãóìåíòè ïðè îïðåäåëÿíå íà ãðàäèåíò ñ òåêñòóðà"
-
-#: ../src/defaults.c:1953
-#, c-format
-msgid "bad opacity value for tgradient texture \"%s\". Should be [0..255]"
-msgstr ""
-"íåïðàâèëíà ñòîéíîñò íà ïðîçðà÷íîñò \"%s\" çà òåêñòóðàòà íà ãðàäèåíò. Òðÿáâà "
-"äà áúäå îò 0 äî 255"
-
-#: ../src/defaults.c:2013
-#, c-format
-msgid "could not initialize library %s"
-msgstr "áèáëèîòåêàòà %s íå ìîæå äà áúäå èíèöèàëèçèðàíà"
-
-#: ../src/defaults.c:2016
-#, c-format
-msgid "could not find function %s::%s"
-msgstr "ôóíêöèÿòà %s::%s íå ìîæå äà áúäå îòêðèòà"
-
-#: ../src/defaults.c:2023
-#, c-format
-msgid "invalid texture type %s"
-msgstr "íåïðàâèëåí òèï òåêñòóðà (%s)"
-
-#: ../src/defaults.c:2070
-#, c-format
-msgid "Error in texture specification for key \"%s\""
-msgstr "Ãðåøêà ïðè îïðåäåëÿíå íà òåêñòóðà çà êëþ÷à \"%s\""
-
-#: ../src/defaults.c:2177
-msgid "Wrong type for workspace background. Should be a texture type."
-msgstr "Íåïðàâèëåí òèï ôîí çà ðàáîòíî ìÿñòî. Òðÿáâà äà áúäå âèä òåêñòóðà."
-
-#: ../src/defaults.c:2225
-#, c-format
-msgid "Wrong type for background of workspace %i. Should be a texture."
-msgstr "Íåïðàâèëåí òèï ôîí çà ðàáîòíî ìÿñòî %i. Òðÿáâà äà áúäå òåêñòóðà."
-
-# Translated by: Boris Jordanov
-# [ end translation
-#: ../src/defaults.c:2267
-msgid "could not load any usable font!!!"
-msgstr "íå ìîæå äà ñå çàðåäè íèêîé èçïîëçâàåì øðèôò!!!"
-
-#: ../src/defaults.c:2294
-#, c-format
-msgid "could not get color for key \"%s\""
-msgstr "íå ìîæå äà ñå îïðåäåëè öâÿò çà êëþ÷à \"%s\""
-
-#: ../src/defaults.c:2352 ../src/rootmenu.c:492
-#, c-format
-msgid "%s:invalid key modifier \"%s\""
-msgstr "%s: íåïðàâèëåí êëàâèøåí ìîäèôèêàòîð \"%s\""
-
-#
-#: ../src/defaults.c:2364
-#, c-format
-msgid "%s:invalid kbd shortcut specification \"%s\""
-msgstr "%s: îïðåäåëåíà å íåäîïóñòèìà êëàâèøíà êîìáèíàöèÿ \"%s\""
-
-#
-#: ../src/defaults.c:2371
-#, c-format
-msgid "%s:invalid key in shortcut \"%s\""
-msgstr "%s: íåäîïóñòèì êëàâèø â êîìáèíàöèÿòà \"%s\""
-
-#: ../src/defaults.c:2396
-#, c-format
-msgid "%s: modifier key %s is not valid"
-msgstr "%s: ìîäèôèêàòîðúò %s íå å èçâåñòåí"
-
-#: ../src/defaults.c:2428
-#, c-format
-msgid "could not load image in option %s: %s"
-msgstr "íå ìîæå äà áúäå çàðåäåíî èçîáðàæåíèåòî îò ïàðàìåòúðà %s: %s"
-
-#: ../src/defaults.c:2547
-#, c-format
-msgid "failed to open bitmap file \"%s\""
-msgstr "íåóñïåøíî çàðåæäàíåòî íà ôàéëà ñ êàðòèíêà \"%s\""
-
-#: ../src/defaults.c:2550
-#, c-format
-msgid "\"%s\" is not a valid bitmap file"
-msgstr "\"%s\" íå å âàëèäíî èìå íà ôàéë ñ êàðòèíêà"
-
-#: ../src/defaults.c:2553
-#, c-format
-msgid "out of memory reading bitmap file \"%s\""
-msgstr "èç÷åðïâàíå íà ïàìåòòà ïðè ÷åòåíå íà êàðòèíêàòà \"%s\""
-
-#: ../src/defaults.c:2597 ../src/defaults.c:2639
-msgid "bad number of arguments in cursor specification"
-msgstr "íåïðàâèëåí áðîé àðãóìåíòè ïðè îïðåäåëÿíå íà êóðñîð"
-
-#: ../src/defaults.c:2617
-#, c-format
-msgid "unknown builtin cursor name \"%s\""
-msgstr "íåïîçíàòî èìå íà âãðàäåí êóðñîð \"%s\""
-
-#: ../src/defaults.c:2651 ../src/defaults.c:2665
-#, c-format
-msgid "could not find cursor bitmap file \"%s\""
-msgstr "íå ìîæå äà ñå îòêðèå êàðòèíêàòà çà êóðñîð \"%s\""
-
-#: ../src/defaults.c:2715
-#, c-format
-msgid "Error in cursor specification for key \"%s\""
-msgstr "Ãðåøêà ïðè îïðåäåëÿíå íà êóðñîð â êëþ÷à \"%s\""
-
-#: ../src/defaults.c:2805
-msgid "could not render texture for icon background"
-msgstr "òåêñòóðàòà çà ôîí íå ìîæå äà áúäå èçîáðàçåíà"
-
-#: ../src/dialog.c:122 ../src/dialog.c:581 ../src/dock.c:547
-#: ../src/dockedapp.c:376 ../src/rootmenu.c:188 ../src/rootmenu.c:226
-#: ../src/rootmenu.c:240
-msgid "Cancel"
-msgstr "Îòêàç"
-
-#
-#: ../src/dialog.c:225
-msgid "Could not open directory "
-msgstr "Íå ìîæå äà áúäå îòâîðåíà äèðåêòîðèÿòà "
-
-#: ../src/dialog.c:280
-msgid "Could not load image file "
-msgstr "Íå ìîæå äà áúäå çàðåäåí ôàéë ñ êàðòèíêà "
-
-#: ../src/dialog.c:509
-msgid "Directories"
-msgstr "Äèðåêòîðèè"
-
-#: ../src/dialog.c:518
-msgid "Icons"
-msgstr "Èêîíêè"
-
-#: ../src/dialog.c:551
-msgid "Preview"
-msgstr "Ïðåãëåä"
-
-#
-#: ../src/dialog.c:564
-msgid "File Name:"
-msgstr "Ôàéë:"
-
-#: ../src/dialog.c:587
-msgid "Choose File"
-msgstr "Èçáîð íà ôàéë"
-
-#: ../src/dialog.c:604 ../src/dialog.c:606
-msgid "Icon Chooser"
-msgstr "Èçáîð íà èêîíêà"
-
-#: ../src/dialog.c:1515 ../src/startup.c:328
-msgid "cannot open connection for crashing dialog panel. Aborting."
-msgstr ""
-"íå ìîæå äà ñå îñúùåñòâè âðúçêà ñ ïàíåëà çà àâàðèåí äèàëîã. Ïðåêðàòÿâàíå íà "
-"ðàáîòàòà."
-
-#: ../src/dialog.c:1541
-msgid "Fatal error"
-msgstr "Ôàòàëíà ãðåøêà"
-
-#: ../src/dialog.c:1552
-#, c-format
-msgid ""
-"Window Maker received signal %i\n"
-"(%s)."
-msgstr ""
-"Window Maker ïîëó÷è ñèãíàë %i\n"
-"(%s)."
-
-#: ../src/dialog.c:1555
-#, c-format
-msgid "Window Maker received signal %i."
-msgstr "Window Maker ïîëó÷è ñèãíàë %i."
-
-#: ../src/dialog.c:1564
-msgid ""
-" This fatal error occured probably due to a bug. Please fill the included "
-"BUGFORM and report it to bugs@windowmaker.org."
-msgstr ""
-"Âúçíèêíàëàòà ôàòàëíà ãðåøêà âåðîÿòíî ñå äúëæè íà ïðîãðàìåí äåôåêò. Ìîëÿ "
-"ïîïúëíåòå ôîðìóëÿðà îò ôàéëà BUGFORM è ãî èçïðàòåòå íà àäðåñ "
-"bugs@windowmaker.org."
-
-#: ../src/dialog.c:1572
-msgid "What do you want to do now?"
-msgstr "Êàêâî äà ñå ïðàâè ñåãà?"
-
-#: ../src/dialog.c:1578
-msgid "Select action"
-msgstr "Èçáîð íà äåéñòâèå"
-
-#: ../src/dialog.c:1579
-msgid "Abort and leave a core file"
-msgstr "Ïðåêúñíè èçïúëíåíèåòî è îñòàâè core-ôàéë"
-
-#: ../src/dialog.c:1580
-msgid "Restart Window Maker"
-msgstr "Ðåñòàðòèðàé Window Maker"
-
-#: ../src/dialog.c:1581
-msgid "Start alternate window manager"
-msgstr "Ñòàðòèðàé äðóã àäìèíèñòðàòîð íà ïðîçîðöèòå"
-
-# Ñìåíèõ "çàäàéòå" íà "èçáåðåòå" îò ñòèëèñòè÷íè ñúîáðàæåíèÿ (À.Ç.)
-#: ../src/dock.c:213
-#, c-format
-msgid "Type the name for workspace %i:"
-msgstr "Èçáåðåòå èìå çà ðàáîòíî ìÿñòî %i:"
-
-# Òóê Workspace íå å ïðåâåäåíî, çàùîòî ñòàâà ìíîãî äúëãî è íå ñå ïîáèðà.(À.Ç.)
-#: ../src/dock.c:214 ../src/dock.c:1123 ../src/dock.c:1126 ../src/dock.c:3381
-msgid "Rename Workspace"
-msgstr "Ïðåèìåíóâàíå"
-
-#: ../src/dock.c:509 ../src/dock.c:517
-msgid "Warning"
-msgstr "Âíèìàíèå!"
-
-#: ../src/dock.c:510
-msgid ""
-"Some icons cannot be made omnipresent. Please make sure that no other icon "
-"is docked in the same positions on the other workspaces and the Clip is not "
-"full in some workspace."
-msgstr ""
-"Íÿêîè èêîíêè íå ìîæå äà ñå íàïðàâÿò âåçäåñúùíè. Ìîëÿ, óáåäåòå ñå, ÷å íèêîÿ "
-"äðóãà èêîíêà íå å ñêà÷åíà íà ñúùîòî ìÿñòî â äðóãèòå ðàáîòíè ìåñòà è ÷å "
-"Êëàìåðúò íå å ïúëåí â íÿêîå ðàáîòíî ìÿñòî."
-
-# "âåçäåñúùíè" - "âñåïðèñúñòâàùè", "âñåïðèñúñòâåíè"? Ïðåêàëåíî äúëãè äóìè÷êè. (Á.É.)
-#: ../src/dock.c:518
-msgid ""
-"Icon cannot be made omnipresent. Please make sure that no other icon is "
-"docked in the same position on the other workspaces and the Clip is not full "
-"in some workspace."
-msgstr ""
-"Èêîíêàòà íå ìîæå äà ñå íàïðàâè âåçäåñúùíà. Ìîëÿ óáåäåòå ñå, ÷å íèêîÿ äðóãà "
-"èêîíêà íå å ñêà÷åíà íà ñúùîòî ìÿñòî â íÿêîå äðóãî ðàáîòíî ìÿñòî è ÷å "
-"Êëàìåðúò íå å ïúëåí â íÿêîå ðàáîòíî ìÿñòî."
-
-#: ../src/dock.c:545
-msgid "Workspace Clip"
-msgstr "Êëàìåð"
-
-#: ../src/dock.c:546
-msgid "All selected icons will be removed!"
-msgstr "Âñè÷êè èçáðàíè èêîíêè ùå áúäàò ìàõíàòè!"
-
-#: ../src/dock.c:597 ../src/dock.c:1138 ../src/dock.c:1140 ../src/dock.c:3417
-msgid "Keep Icon"
-msgstr "Çàïàçè èêîíêàòà"
-
-#
-#: ../src/dock.c:598 ../src/dock.c:2120 ../src/dock.c:2254
-msgid "Type the command used to launch the application"
-msgstr "Âúâåäåòå êîìàíäàòà çà ñòàðòèðàíå íà ïðèëîæåíèåòî"
-
-#
-#: ../src/dock.c:949
-#, c-format
-msgid "could not launch application %s\n"
-msgstr "íå ìîæå äà ñå ñòàðòèðà ïðèëîæåíèåòî %s\n"
-
-#: ../src/dock.c:1004
-msgid "could not create workspace submenu for Clip menu"
-msgstr "íå ìîæå äà ñå íàïðàâè ïîäìåíþ ñ ðàáîòíèòå ìåñòà â ìåíþòî íà Êëàìåðà"
-
-#: ../src/dock.c:1027 ../src/dock.c:1070 ../src/dock.c:1115 ../src/dock.c:3361
-msgid "Keep on Top"
-msgstr "Âèíàãè îòãîðå"
-
-#: ../src/dock.c:1029 ../src/dock.c:3363
-msgid "Allow Lowering"
-msgstr "Ïîçâîëÿâà ïîíèæàâàíå"
-
-#: ../src/dock.c:1066
-msgid "could not create options submenu for Clip menu"
-msgstr "íå ìîæå äà ñå íàïðàâè ïîäìåíþ çà íàñòðîéêè â ìåíþòî íà Êëàìåðà"
-
-#: ../src/dock.c:1073
-msgid "Collapsed"
-msgstr "Ñâèò"
-
-#: ../src/dock.c:1079
-msgid "AutoCollapse"
-msgstr "Ñâèâàé àâòîìàòè÷íî"
-
-#: ../src/dock.c:1085
-msgid "AutoRaiseLower"
-msgstr "Ïîòúâàé àâòîìàòè÷íî"
-
-#: ../src/dock.c:1091
-msgid "AutoAttract Icons"
-msgstr "Ïðèâëè÷àé èêîíêèòå"
-
-#: ../src/dock.c:1118
-msgid "Clip Options"
-msgstr "Îïöèè íà Êëàìåð"
-
-#: ../src/dock.c:1128
-msgid "Selected"
-msgstr "Èçáðàíà"
-
-#: ../src/dock.c:1133 ../src/dock.c:1136 ../src/dock.c:3408
-msgid "Select All Icons"
-msgstr "Èçáåðè âñè÷êè èêîíêè"
-
-#: ../src/dock.c:1142 ../src/dock.c:1144 ../src/dock.c:3425
-msgid "Move Icon To"
-msgstr "Ïðåìåñòè èêîíêàòà â"
-
-#: ../src/dock.c:1149 ../src/dock.c:1152 ../src/dock.c:3436
-msgid "Remove Icon"
-msgstr "Ìàõíè èêîíêàòà"
-
-#: ../src/dock.c:1154
-msgid "Attract Icons"
-msgstr "Ïðèâëå÷è èêîíêèòå"
-
-#: ../src/dock.c:1157
-msgid "Launch"
-msgstr "Ñòàðòèðàé"
-
-#: ../src/dock.c:1165
-msgid "Settings..."
-msgstr "Íàñòðîéêè..."
-
-#: ../src/dock.c:1524 ../src/dock.c:1627
-#, c-format
-msgid "bad value in docked icon state info %s"
-msgstr "íåïðàâèëíà ñòîéíîñò çà ñúñòîÿíèå íà ñêà÷åíà èêîíêà %s"
-
-#: ../src/dock.c:1635
-#, c-format
-msgid "bad value in docked icon position %i,%i"
-msgstr "íåïðàâèëíî ìåñòîïîëîæåíèå %i,%i íà ñêà÷åíà èêîíêà"
-
-#: ../src/dock.c:1887
-msgid "there are too many icons stored in dock. Ignoring what doesn't fit"
-msgstr "èìà òâúðäå ìíîãî èêîíêè â Äîêà è íÿêîè íå ñå ïîáèðàò â ðàáîòíîòî ìÿñòî"
-
-#. icon->forced_dock = 1;
-#: ../src/dock.c:2119 ../src/dock.c:2253
-msgid "Dock Icon"
-msgstr "Ñêà÷âàíå íà èêîíêà"
-
-#: ../src/dock.c:3284 ../src/dock.c:3288
-#, c-format
-msgid "Could not execute command \"%s\""
-msgstr "Íå ìîæå äà ñå èçïúëíè êîìàíäàòà \"%s\""
-
-#: ../src/dock.c:3387
-msgid "Toggle Omnipresent"
-msgstr "Ñìåíè âåçäåñúùíîñòòà"
-
-# Èçíåíàäà: "omnipresent" ñå èçïîëçâà êàêòî çà èêîíêà, òàêà è çà ïðîçîðåö.
-# Çàòîâà íå ìîæå íèòî "âåçäåñúùåí", íèòî "âåçäåñúùíà" è ñúì èçïîëçâàë
-# áåçëè÷íîòî "âåçäåñúùíîñò". (À.Ç.)
-#: ../src/dock.c:3392 ../src/winmenu.c:421 ../src/winspector.c:1380
-msgid "Omnipresent"
-msgstr "Âåçäåñúùíîñò"
-
-#: ../src/dock.c:3406
-msgid "Unselect All Icons"
-msgstr "Îòìåíè èçáîðà íà èêîíêèòå"
-
-#: ../src/dock.c:3415
-msgid "Keep Icons"
-msgstr "Çàïàçè èêîíêàòà"
-
-#: ../src/dock.c:3423
-msgid "Move Icons To"
-msgstr "Ïðåìåñòè èêîíêàòà â"
-
-#: ../src/dock.c:3434
-msgid "Remove Icons"
-msgstr "Ìàõíè èêîíêàòà"
-
-#: ../src/dock.c:3465
-msgid "Bring Here"
-msgstr "Äîíåñè òóê"
-
-#: ../src/dockedapp.c:131
-#, c-format
-msgid "could not find icon %s, used in a docked application"
-msgstr "èêîíêàòà %s, èçïîëçâàíàòà îò ïðèëîæåíèåòî, íå ìîæå äà áúäå îòêðèòà"
-
-#
-#: ../src/dockedapp.c:210
-#, c-format
-msgid "Could not open specified icon file: %s"
-msgstr "Èêîíêàòà \"%s\" íå ìîæå äà áúäå çàðåäåíà"
-
-#: ../src/dockedapp.c:212
-msgid "Ignore"
-msgstr "Ïðîïóñíè"
-
-#: ../src/dockedapp.c:305
-msgid "Start when WindowMaker is started"
-msgstr "Ñòàðòèðâàé àâòîìàòè÷íî â íà÷àëîòî"
-
-#: ../src/dockedapp.c:312
-msgid "Lock (prevent accidental removal)"
-msgstr "Çàêëþ÷è (îñèãóðè ñðåùó íåâîëíî ìàõàíå)"
-
-#
-#: ../src/dockedapp.c:318
-msgid "Application path and arguments"
-msgstr "Ïúò êúì ïðèëîæåíèåòî è àðãóìåíòè"
-
-#: ../src/dockedapp.c:329
-msgid "Command for files dropped with DND"
-msgstr "Êîìàíäà çà ïóñíàòè ôàéëîâå"
-
-#: ../src/dockedapp.c:341
-#, c-format
-msgid "%d will be replaced with the file name"
-msgstr "%d ùå ñå çàìåíÿ ñ èìåòî íà ôàéëà"
-
-#: ../src/dockedapp.c:345
-msgid "DND support was not compiled in"
-msgstr "DND ïîääðúæêàòà íå å êîìïèëèðàíà"
-
-#: ../src/dockedapp.c:351
-msgid "Icon Image"
-msgstr "Èêîíêà"
-
-#: ../src/dockedapp.c:363 ../src/winspector.c:1518
-msgid "Browse..."
-msgstr "Èçáåðè..."
-
-#
-#: ../src/dockedapp.c:408
-msgid "Docked Application Settings"
-msgstr "Íàñòðîéêè çà ñêà÷åíî ïðèëîæåíèå"
-
-#: ../src/framewin.c:655 ../src/framewin.c:750 ../src/menu.c:458
-#: ../src/texture.c:549
-#, c-format
-msgid "could not render texture: %s"
-msgstr "òåêñòóðàòà %s íå ìîæå äà áúäå èçîáðàçåíà"
-
-#: ../src/framewin.c:678 ../src/framewin.c:689 ../src/framewin.c:705
-#: ../src/framewin.c:716 ../src/framewin.c:723 ../src/framewin.c:730
-#: ../src/icon.c:350 ../src/menu.c:487
-#, c-format
-msgid "error rendering image:%s"
-msgstr "ãðåøêà ïðè èçîáðàçÿâàíå íà %s"
-
-#: ../src/framewin.c:783
-#, c-format
-msgid "error rendering image: %s"
-msgstr "ãðåøêà ïðè èçîáðàçÿâàíå íà %s"
-
-#: ../src/icon.c:229 ../src/wdefaults.c:435
-#, c-format
-msgid "error loading image file \"%s\""
-msgstr "ãðåøêà ïðè çàðåæäàíå íà ôàéëà ñ êàðòèíêà \"%s\""
-
-#
-#: ../src/icon.c:488 ../src/icon.c:497
-#, c-format
-msgid "could not create directory %s"
-msgstr "íå ìîæå äà ñå ñúçäàäå äèðåêòîðèÿ %s"
-
-#: ../src/icon.c:764
-#, c-format
-msgid "could not find default icon \"%s\""
-msgstr "íå ìîæå äà ñå çàðåäè ïîäðàçáèðàùàòà ñå èêîíêà \"%s\""
-
-#: ../src/icon.c:770
-#, c-format
-msgid "could not load default icon \"%s\":%s"
-msgstr "íå ìîæå äà ñå çàðåäè ïîäðàçáèðàùàòà ñå èêîíêà (\"%s\"): %s"
-
-#: ../src/main.c:204
-msgid "failed to restart Window Maker."
-msgstr "ðåñòàðòèðàíåòî íà Window Maker å íåóñïåøíî."
-
-#: ../src/main.c:207
-#, c-format
-msgid "could not exec %s"
-msgstr "íå ìîæå äà ñå èçïúëíè %s"
-
-#: ../src/main.c:252
-msgid "Could not execute command: "
-msgstr "Íå ìîæå äà ñå èçïúëíè êîìàíäàòà "
-
-#: ../src/main.c:409
-#, c-format
-msgid "%s aborted.\n"
-msgstr "%s å ïðåêúñíàòî àâàðèéíî.\n"
-
-#: ../src/main.c:420
-#, c-format
-msgid "Usage: %s [options]\n"
-msgstr "Óïîòðåáà: %s [îïöèè]\n"
-
-#: ../src/main.c:421
-msgid "The Window Maker window manager for the X window system"
-msgstr "Window Maker -- àäìèíèñòðàòîð íà ïðîçîðöèòå çà X Window"
-
-#: ../src/main.c:423
-msgid " -display host:dpy\tdisplay to use"
-msgstr " -display õîñò:äèñïëåé\täèñïëåé äà ñå èçïîëçâà"
-
-# "ïðåäïðîöåñîðíà"? - "ïðåäâàðèòåëíà" ìèñëÿ å ïî-äîáðå (Á.É.)
-#: ../src/main.c:425
-msgid " --no-cpp \t\tdisable preprocessing of configuration files"
-msgstr " --no-cpp \t\táåç ïðåäâàðèòåëíà îáðàáîòêà íà êîíôèãóðàöèîííèòå ôàéëîâå"
-
-#: ../src/main.c:427
-msgid " --no-dock\t\tdo not open the application Dock"
-msgstr " --no-dock\t\táåç Äîêà çà ïðèëîæåíèÿ"
-
-#: ../src/main.c:428
-msgid " --no-clip\t\tdo not open the workspace Clip"
-msgstr " --no-clip\t\táåç Êëàìåðúò çà ðàáîòíèòå ìåñòà"
-
-#
-#: ../src/main.c:429
-msgid " --no-autolaunch\tdo not autolaunch applications"
-msgstr " --no-autolaunch\täà íå ñå èçïúëíÿâàò ïðèëîæåíèÿòà"
-
-#: ../src/main.c:430
-msgid " --dont-restore\tdo not restore saved session"
-msgstr " --dont-restore\täà íå ñå âúçñòàíîâÿâà çàïàçåíàòà ñåñèÿ"
-
-# "ëîêàëà" - "ëîêàëèçàöèÿ" (Á.É.)
-#: ../src/main.c:432
-msgid " --locale locale\t\tlocale to use"
-msgstr " --locale ëîêàë \t\täà ñå èçïîëçâà ëîêàëúò<"
-
-#: ../src/main.c:434
-msgid " --visual-id visualid\tvisual id of visual to use"
-msgstr ""
-" --visual-id visualid\tèçïîëçâàé ïîñî÷åíèÿ öâåòîâè êëàñ íà èçîáðàæåíèåòî"
-
-#: ../src/main.c:435
-msgid " --static\t\tdo not update or save configurations"
-msgstr " --static\t\tíå îáíîâÿâàé è íå çàïàçâàé êîíôèãóðàöèèòå"
-
-#: ../src/main.c:437
-msgid " --synchronous\t\tturn on synchronous display mode"
-msgstr " --synchronous\t\tâêëþ÷è ñèíõðîíåí ðåæèì çà èçâåæäàíå"
-
-#: ../src/main.c:439
-msgid " --version\t\tprint version and exit"
-msgstr " --version\t\tîòïå÷àòâà âåðñèÿòà è èçõîä"
-
-#: ../src/main.c:440
-msgid " --help\t\t\tshow this message"
-msgstr " --help\t\t\tïîêàçâà òîâà ñúîáùåíèå"
-
-#: ../src/main.c:452
-#, c-format
-msgid ""
-"could not find user GNUstep directory (%s).\n"
-"Make sure you have installed Window Maker correctly and run wmaker.inst"
-msgstr ""
-"íå ìîæå äà ñå îòêðèå ïîòðåáèòåëñêàòà äèðåêòîðèÿ GNUstep (%s).\n"
-"Óâåðåòå ñå, ÷å Window Maker å èíñòàëèðàí ïðàâèëíî è ñòàðòèðàéòå wmaker.inst"
-
-# [ start translation
-# Translated by: Boris Jordanov
-#: ../src/main.c:473 ../src/main.c:478
-#, c-format
-msgid "%s:could not execute initialization script"
-msgstr "%s: íå ìîæå äà áúäå èçïúëíåíà èíèöèàëèçèðàùàòà ïðîöåäóðà"
-
-#: ../src/main.c:498 ../src/main.c:503
-#, c-format
-msgid "%s:could not execute exit script"
-msgstr "%s: íå ìîæå äà áúäå èçïúëíåíà ïðîöåäóðàòà çà èçõîä"
-
-# Translated by: Boris Jordanov
-# [ end translation
-#: ../src/main.c:619 ../src/main.c:626 ../src/main.c:634 ../src/main.c:650
-#, c-format
-msgid "too few arguments for %s"
-msgstr "òâúðäå ìàëêî àðãóìåíòè çà %s"
-
-#: ../src/main.c:638
-#, c-format
-msgid "bad value for visualid: \"%s\""
-msgstr "íåïðàâèëíà ñòîéíîñò íà visualid: \"%s\""
-
-#
-#: ../src/main.c:658
-#, c-format
-msgid "%s: invalid argument '%s'\n"
-msgstr "%s: íåïðàâèëåí àðãóìåíò \"%s\"\n"
-
-#: ../src/main.c:659
-#, c-format
-msgid "Try '%s --help' for more information\n"
-msgstr "Ïðîáâàéòå \"%s --help\" çà ïîâå÷å èíôîðìàöèÿ\n"
-
-# Íå ñúì óáåäåí, íî ìîæå áè òóê 'locale' çíà÷è íå ëîêàëèçàöèÿ, à êîíêðåòíèÿò èçïîëçâàí ëîêàë (íàïð bg_BG). (À.Ç.)
-#: ../src/main.c:690
-msgid "X server does not support locale"
-msgstr "X ñúðâúðúò íå ïîääúðæà ëîêàëúò"
-
-# Ïàê íå ìè å ÿñíî çà êàêâî òî÷íî ñòàâà âúïðîñ è çà äà íå âúçíèêíàò
-# íåäîðàçóìåíèÿ çàìåíèõ 'ïàðàìåòðè íà ëîêàëèçàöèÿòà' ñ ïî-áóêâàëíîòî
-# 'ìîäèôèêàòîðè íà ëîêàëà'. (À.Ç.)  
-#: ../src/main.c:694
-msgid "cannot set locale modifiers"
-msgstr "íå ìîæå äà ñå çàäàäàò ìîäèôèêàòîðè íà ëîêàëà"
-
-#: ../src/main.c:710
-#, c-format
-msgid "could not open display \"%s\""
-msgstr "íå å äîñòúïåí äèñïëåÿ \"%s\""
-
-# Translated by: Boris Jordanov
-# [ end translation
-#: ../src/misc.c:71
-#, c-format
-msgid "could not define value for %s for cpp"
-msgstr "íå ìîæå äà ñå äåôèíèðà ñòîéíîñò çà %s çà cpp"
-
-# Èìà ëè ñìèñúë UID äà ñå çàìåíè ñ "íîìåð", â ñìèñúë "... çà ïîòðåáèòåëÿ
-# ñ íîìåð(UID) "? (Á.É.)  
-#: ../src/misc.c:101
-#, c-format
-msgid "could not get password entry for UID %i"
-msgstr ""
-"îò /etc/passwd íå ìîæå äà ñå ïîëó÷è èíôîðìàöèÿ çà ïîòðåáèòåëÿ ñ íîìåð (UID) "
-"%i"
-
-#: ../src/misc.c:126
-#, c-format
-msgid "your machine is misconfigured. HOSTNAME is set to %s"
-msgstr "ñèñòåìàòà Âè å êîíôèãóðèðàíà íåïðàâèëíî. Çà HOSTNAME å ïîñî÷åíî %s"
-
-#: ../src/misc.c:132
-#, c-format
-msgid "your machine is misconfigured. HOST is set to %s"
-msgstr "ñèñòåìàòà Âè å êîíôèãóðèðàíà íåïðàâèëíî. Çà HOST å ïîñî÷åíî %s"
-
-# À ñåãà äå! Â êàêúâ êîíòåêñò ñå ïîÿâÿâà òîâà ñúîáùåíèå? (Á.É.)
-# Òðÿáâà äà ñå ïîïèòà Àëôðåäó Êîæèìà (À.Ç.)
-#: ../src/misc.c:753
-msgid "selection timed-out"
-msgstr ""
-
-#: ../src/misc.c:769
-msgid "Program Arguments"
-msgstr "Àðãóìåíòè íà ïðîãðàìàòà"
-
-#: ../src/misc.c:770
-msgid "Enter command arguments:"
-msgstr "Âúâåäåòå àðãóìåíòè çà ïðîãðàìàòà:"
-
-# [ start translation
-# Translated by: Boris Jordanov
-#
-# "ïóñíàòè" èëè "ñïóñíàòè"? äà ïðåâåäåì ëè DND?  Èëè äà áúäå
-# "... ïóñíàòè ñúñ(ñëåä, ÷ðåç) çàâëà÷âàíå (èçòåãëÿíå)" èëè íåùî îò ñîðòà
-# (Á.É.)  
-#: ../src/misc.c:863
-msgid "unable to get dropped data from DND drop"
-msgstr "íåâúçìîæíîñò äà ñå ïîëó÷àò äàííèòå ïóñíàòè ÷ðåç DND"
-
-#: ../src/misc.c:871
-msgid "error getting dropped data from DND drop"
-msgstr "ãðåøêà ïðè ïîëó÷àâàíå íà äàííèòå ñïóñíàòè ÷ðåç DND"
-
-#: ../src/misc.c:877
-msgid "out of memory while getting data from DND drop"
-msgstr "èç÷åðïâàíå íà ïàìåòòà ïðè îïèò çà ïîëó÷àâàíå íà äàííè îò DND îïåðàöèÿ"
-
-#: ../src/misc.c:922 ../src/misc.c:1062
-#, c-format
-msgid "out of memory during expansion of \"%s\""
-msgstr "èç÷åðïâàíå íà ïàìåòòà ïðè ðàçøèðÿâàíå íà \"%s\""
-
-#: ../src/misc.c:976
-msgid "out of memory during expansion of \"%w\""
-msgstr "èç÷åðïâàíå íà ïàìåòòà ïðè ðàçøèðÿâàíå íà \"%w\""
-
-#: ../src/misc.c:994
-msgid "out of memory during expansion of \"%W\""
-msgstr "èç÷åðïâàíå íà ïàìåòòà ïðè ðàçøèðÿâàíå íà \"%W\""
-
-#: ../src/misc.c:1010
-msgid "out of memory during expansion of \"%a\""
-msgstr "èç÷åðïâàíå íà ïàìåòòà ïðè ðàçøèðÿâàíå íà \"%a\""
-
-#: ../src/misc.c:1041
-#, c-format
-msgid "out of memory during expansion of \"%d\""
-msgstr "èç÷åðïâàíå íà ïàìåòòà ïðè ðàçøèðÿâàíå íà \"%d\""
-
-# Translated by: Boris Jordanov
-# [ end translation
-#: ../src/misc.c:1055
-msgid "selection not available"
-msgstr "íÿìà âúçìîæíîñò çà èçáîð"
-
-#: ../src/misc.c:1127 ../src/misc.c:1133
-#, c-format
-msgid "bad window name value in %s state info"
-msgstr "íåïðàâèëíî èìå íà ïðîçîðåö â èíôîðìàöèàòà çà ñúñòîÿíèåòî íà Äîêà -- %s"
-
-# "...ïîìîùíèêà çà èçîáðàçÿâàíå íà ôîíà" ? (Á.É.) (âìåñòî "ïîìîùíèêà çà
-# èçîáðàæåíèå íà ôîí")
-#: ../src/misc.c:1401
-msgid "could not send message to background image helper"
-msgstr "íå ìîæå äà ñå èçïðàòè ñúîáùåíèå íà ïîìîùíèêà çà èçîáðàçÿâàíå íà ôîíà"
-
-#: ../src/pixmap.c:235
-#, c-format
-msgid "could not load mask bitmap file \"%s\". Won't use mask"
-msgstr ""
-"íå ìîæå äà ñå çàðåäè ðàñòåðíà ìàñêà îò ôàéëà \"%s\". Ìàñêà íÿìà äà ñå "
-"èçïîëçâà"
-
-#: ../src/proplist.c:180
-msgid "unterminated string"
-msgstr "íåçàâúðøåí íèç"
-
-#: ../src/proplist.c:247
-msgid "unterminated array"
-msgstr "íåçàâúðøåí ìàñèâ"
-
-#: ../src/proplist.c:256
-msgid "missing , in array or unterminated array"
-msgstr "ëèïñâà çàïåòàÿ â ìàñèâ èëè íåçàâúðøåí ìàñèâ"
-
-#: ../src/proplist.c:267
-msgid "could not get array element"
-msgstr "íå ìîæå äà ñå ïîëó÷è åëåìåíò íà ìàñèâ"
-
-#: ../src/proplist.c:297
-msgid "unterminated dictionary"
-msgstr "íåçàâúðøåí ðå÷íèê"
-
-#: ../src/proplist.c:315
-msgid "missing dictionary key"
-msgstr "ëèïñâàù êëþ÷ íà ðå÷íèê"
-
-# continue from here
-#: ../src/proplist.c:317
-msgid "missing dictionary entry key or unterminated dictionary"
-msgstr "ëèïñâàù êëþ÷ íà ðå÷íèêîâ åëåìåíò èëè íåçàâúðøåí ðå÷íèê"
-
-#: ../src/proplist.c:323
-msgid "error parsing dictionary key"
-msgstr "ãðåøêà ïðè ðàçáîð íà ðå÷íèêîâ êëþ÷"
-
-#: ../src/proplist.c:332
-msgid "missing = in dictionary entry"
-msgstr "ëèïñâà çíàê \"=\" â ðå÷íèêîâ åëåìåíò"
-
-#: ../src/proplist.c:351
-msgid "missing ; in dictionary entry"
-msgstr "ëèïñâà çíàê \";\" â ðå÷íèêîâ åëåìåíò"
-
-#: ../src/proplist.c:432
-msgid ""
-"was expecting a string, dictionary, data or array. If it's a string, try "
-"enclosing it with \"."
-msgstr ""
-"î÷àêâàøå ñå íèç, ðå÷íèê, äàííè èëè ìàñèâ. Àêî òîâà å íèç ïðîáâàéòå äà ãî "
-"îãðàäèòå ñ äâîéíè êàâè÷êè (\")."
-
-#: ../src/proplist.c:434
-msgid "Comments are not allowed inside WindowMaker owned domain files."
-msgstr ""
-
-#
-#: ../src/proplist.c:453
-#, c-format
-msgid "could not open domain file %s"
-msgstr ""
-
-#: ../src/proplist.c:466
-msgid "extra data after end of file"
-msgstr "èçëèøíè äàííè ñëåä êðàÿ íà ôàéëà"
-
-#: ../src/resources.c:44
-#, c-format
-msgid "could not parse color \"%s\""
-msgstr "íå ìîæå äà ñå íàïðàâè ðàçáîð íà öâÿò: \"%s\""
-
-#: ../src/resources.c:48
-#, c-format
-msgid "could not allocate color \"%s\""
-msgstr "íå ìîæå äà ñå ðåçåðâèðà öâåòà \"%s\""
-
-#: ../src/rootmenu.c:186 ../src/rootmenu.c:188
-msgid "Exit"
-msgstr "Èçõîä"
-
-#: ../src/rootmenu.c:187
-msgid "Exit window manager?"
-msgstr "Äà ñå èçëåçå ëè îò àäìèíèñòðàòîðà íà ïðîçîðöè?"
-
-#: ../src/rootmenu.c:223
-msgid "Close X session"
-msgstr "Êðàé íà ðàáîòàòà"
-
-# Âìåñòî "äà ñå çàòâîðè ëè" ìíîãî ïî-äîáðå áè áèëî "äà ñå ïðåêðàòè ëè", íî çà
-# ñúæàëåíèå òîâà âîäè äî êîëèçèÿ ïîðàäè äâîéíàòà óïîòðåáà íà "Close" îò
-# ñëåäâàùàòà ñòàòèÿ - "close the session" è "close a window". (À.Ç.)
-# À "Äà ñå ïðèêëþ÷è ëè ñåñèÿòà ñ ãðàôè÷íàòà ñðåäà?"? 
-# Èçîáùî "ïðèêëþ÷è" âìåñòî "óáèå" òàì, êúäåòî å âúçìîæíî? (Á.É.)
-# Íå âúðâè "ïðèêëþ÷è ïðîçîðåöà". (À.Ç.)
-#: ../src/rootmenu.c:224
-msgid ""
-"Close Window System session?\n"
-"Kill might close applications with unsaved data."
-msgstr ""
-"Äà ñå çàòâîðè ëè ñåñèÿòà ñ ãðàôè÷íàòà ñðåäà?\n"
-"Íåçàïàçåíèòå äàííè îò ïðèëîæåíèÿòà ìîæå äà ñå çàãóáÿò."
-
-#.
-#. entry = wMenuAddCallback(menu, _("Select Shortcut"), NULL, NULL);
-#. wMenuEntrySetCascade(menu, entry, makeMakeShortcutMenu(scr));
-#.
-#: ../src/rootmenu.c:226 ../src/winmenu.c:509
-msgid "Close"
-msgstr "Çàòâîðè"
-
-# È òóê íå ìîæå "ïðåêðàòÿâàíå", òîçè ïúò çàðàäè áóòîíà "Kill", êîéòî ñúùî
-# ñå èçïîëçâà íà ìíîãî ìåñòà è çàòîâà òðÿáâà äà ñå ïðåâåäå êàòî "Óáèé". (À.Ç.)
-#: ../src/rootmenu.c:237
-msgid "Kill X session"
-msgstr "Óáèâàíå íà ñåñèÿòà"
-
-#: ../src/rootmenu.c:238
-msgid ""
-"Kill Window System session?\n"
-"(all applications will be closed)"
-msgstr ""
-"Äà ñå óáèå ëè ñåñèÿòà ñ ãðàôè÷íàòà ñðåäà?\n"
-"(Âñè÷êè ïðèëîæåíèÿ ùå áúäàò çàòâîðåíè.)"
-
-#: ../src/rootmenu.c:505
-#, c-format
-msgid "%s:invalid kbd shortcut specification \"%s\" for entry %s"
-msgstr "%s: îïðåäåëåíà å íåâÿðíà êëàâèøíà êîìáèíàöèÿ \"%s\" çà çàïèñ %s"
-
-#: ../src/rootmenu.c:513
-#, c-format
-msgid "%s:invalid key in shortcut \"%s\" for entry %s"
-msgstr "%s: ñãðåøåí êëàâèø â êëàâèøíàòà êîìáèíàöèÿ \"%s\" çà çàïèñ \"%s\""
-
-#: ../src/rootmenu.c:566
-#, c-format
-msgid "%s: unmatched '\"' in menu file"
-msgstr "%s: êàâè÷êà áåç íåéíà ñúîòâåòíà âúâ ôàéëà çà ìåíþ"
-
-#: ../src/rootmenu.c:616
-#, c-format
-msgid "%s: missing command"
-msgstr "%s: ëèïñâàùà êîìàíäà"
-
-#: ../src/rootmenu.c:648
-#, c-format
-msgid "invalid OPEN_MENU specification: %s"
-msgstr "íåâÿðíî îïðåäåëÿíå íà OPEN_MENU: %s"
-
-#: ../src/rootmenu.c:696
-#, c-format
-msgid "%s:could not stat menu"
-msgstr "%s: íå ìîæå äà ñå ïîëó÷è ìåíþ"
-
-#: ../src/rootmenu.c:704
-#, c-format
-msgid "%s:could not stat menu:%s"
-msgstr "%s: íå ìîæå äà ñå ïîëó÷è ìåíþ: %s"
-
-#: ../src/rootmenu.c:722
-#, c-format
-msgid "too many parameters in OPEN_MENU: %s"
-msgstr "òâúðäå ìíîãî ïàðàìåòðè â OPEN_MENU: %s"
-
-#: ../src/rootmenu.c:758
-msgid ""
-"There are more than one WORKSPACE_MENU commands in the applications menu. "
-"Only one is allowed."
-msgstr ""
-"Â ìåíþòî èìà ïîâå÷å îò åäíà êîìàíäà WORKSPACE_MENU. Äîïóñòèìà å ñàìî åäíà."
-
-#: ../src/rootmenu.c:787 ../src/rootmenu.c:805 ../src/rootmenu.c:815
-#, c-format
-msgid "%s:missing parameter for menu command \"%s\""
-msgstr "%s: ëèïñâàù ïàðàìåòúð çà êîìàíäàòà çà ìåíþ \"%s\""
-
-#: ../src/rootmenu.c:879
-#, c-format
-msgid "%s:unknown command \"%s\" in menu config."
-msgstr "%s: íåïîçíàòà êîìàíäà \"%s\" â êîíôèãóðàöèÿòà íà ìåíþòî."
-
-#: ../src/rootmenu.c:887
-#, c-format
-msgid "%s:can't add shortcut for entry \"%s\""
-msgstr "%s: íå ìîæå äà ñå äîáàâè êëàâèøíà êîìáèíàöèÿ çà êîìàíäàòà \"%s\""
-
-#: ../src/rootmenu.c:1024
-#, c-format
-msgid "%s:maximal line size exceeded in menu config: %s"
-msgstr "%s: êîíôèãóðàöèÿòà íà ìåíþ %s íàäõâúðëè ìàêñèìàëíàòà äúëæèíà íà ðåä"
-
-#: ../src/rootmenu.c:1046 ../src/rootmenu.c:1138 ../src/rootmenu.c:1239
-#, c-format
-msgid "%s:missing command in menu config: %s"
-msgstr "%s: ëèïñâàùà êîìàíäà â êîíôèãóðàöèÿòà íà ìåíþ: %s"
-
-#: ../src/rootmenu.c:1076
-#, c-format
-msgid "%s:syntax error in menu file:END declaration missing"
-msgstr "%s: ñèíòàêòè÷íà ãðåøêà ïðè îïðåäåëÿíå íà ìåíþ: ëèïñâà äåêëàðàöèÿ END"
-
-#: ../src/rootmenu.c:1105 ../src/rootmenu.c:1204
-msgid "could not make arguments for menu file preprocessor"
-msgstr "íå ìîæå äà ñå ïîëîæàò àðãóìåíòè çà ïðåäïðîöåñîðà íà ôàéëà ìåíþ"
-
-#: ../src/rootmenu.c:1111 ../src/rootmenu.c:1211
-#, c-format
-msgid "%s:could not open/preprocess menu file"
-msgstr "%s: íå ìîæå äà ñå îòâîðè/îáðàáîòè îò ïðåäïðîöåñîðà ôàéëúò ìåíþ"
-
-#: ../src/rootmenu.c:1123 ../src/rootmenu.c:1224
-#, c-format
-msgid "%s:could not open menu file"
-msgstr "%s: íå ìîæå äà ñå îòâîðè ôàéëúò ìåíþ"
-
-#: ../src/rootmenu.c:1150
-#, c-format
-msgid "%s:invalid menu file. MENU command is missing"
-msgstr "%s: ñãðåøåí ôàéë ìåíþ: ëèïñâà êîìàíäàòà MENU"
-
-#: ../src/rootmenu.c:1159
-msgid "error reading preprocessed menu data"
-msgstr "ãðåøêà ïðè ÷åòåíå íà îáðàáîòåíèòå äàííè çà ìåíþ"
-
-#: ../src/rootmenu.c:1251
-#, c-format
-msgid "%s:no title given for the root menu"
-msgstr "%s: íå å äàäåíî çàãëàâèå çà ãëàâíîòî ìåíþ"
-
-# [ start translation
-# Translated by: Boris Jordanov
-# ???????
-#: ../src/rootmenu.c:1341 ../src/rootmenu.c:1416 ../src/rootmenu.c:1459
-#, c-format
-msgid "out of memory while constructing directory menu %s"
-msgstr "èç÷åðïâàíå íà ïàìåòòà ïðè ñúçäàâàíå íà äèðåêòîðíîòî ìåíþ %s"
-
-#: ../src/rootmenu.c:1351
-#, c-format
-msgid "%s:could not stat file \"%s\" in menu directory"
-msgstr ""
-"%s:íå ìîæå äà ïîëó÷è ïàðàìåòðèòå íà ôàéëà \"%s\" â äèðåêòîðèÿòà íà ìåíþòî"
-
-# Translated by: Boris Jordanov - 10x Antoby
-# [ end translation
-#: ../src/rootmenu.c:1513
-msgid "Commands"
-msgstr "Êîìàíäè"
-
-#: ../src/rootmenu.c:1516
-msgid "Restart"
-msgstr "Ðåñòàðòèðàíå"
-
-#: ../src/rootmenu.c:1517
-msgid "Exit..."
-msgstr "Èçõîä..."
-
-# [ Start Lyubo]
-#: ../src/rootmenu.c:1562
-#, c-format
-msgid "could not find menu file \"%s\" referenced in WMRootMenu"
-msgstr "ìåíþ ôàéëúò \"%s\", ïîñî÷åí â WMRootMenu, íå ìîæå äà áúäå îòêðèò"
-
-#: ../src/rootmenu.c:1569
-#, c-format
-msgid "could not access menu \"%s\" referenced in WMRootMenu"
-msgstr ""
-"äîñòúïúò äî ìåíþ \"%s\", ïîñî÷åíî â WMRootMenu, íå ìîæå äà áúäå îñúùåñòâåí"
-
-# ## variant [mislia po-dobur, no ne bukvalen]
-# "èçïîëçâàì ìåíþ ôàéë ïî ïîäðàçáèðàíå \"%s\", òúé êàòî óêàçàíèÿò â WMRootMenu, íå ìîæå "
-# "äà áúäå îòêðèò "
-#: ../src/rootmenu.c:1580
-#, c-format
-msgid ""
-"using default menu file \"%s\" as the menu referenced in WMRootMenu could "
-"not be found "
-msgstr ""
-"ïî ïîäðàçáèðàíå ñå èçïîëçâà ìåíþ ôàéë \"%s\", òúé êàòî ìåíþòî, ïîñî÷åíî â "
-"WMRootMenu, íå ìîæå äà áúäå îòêðèòî "
-
-#: ../src/rootmenu.c:1603 ../src/rootmenu.c:1679
-#, fuzzy, c-format
-msgid "%s:format error in root menu configuration \"%s\""
-msgstr ""
-"%s:[ãðåøåí ôîðìàò|ôîðìàòèðàùà ãðåøêà] â íàñòðîéêàòà|êîíôèãóðàöèÿòà íà "
-"ãëàâíîòî ìåíþ \"%s\""
-
-# tuk triabva po smisul
-# ^Òîâà å îò Ëþáî
-# Çàìåíèõ "ìåíþòî ñ ïðèëîæåíèÿ" íà "ìåíþòî íà ïðèëîæåíèÿòà", çàùîòî íà äðóãèòå
-# ìåñòà å ïðåâåäåíî òàêà. (À.Ç.)
-#: ../src/rootmenu.c:1766
-msgid ""
-"The applications menu could not be loaded. Look at the console output for a "
-"detailed description of the errors."
-msgstr ""
-"Ìåíþòî íà ïðèëîæåíèÿòà íå ìîæå äà áúäå çàðåäåíî.  Ïîäðîáíà èíôîðìàöèÿ çà "
-"ãðåøêèòå ùå áúäå èçâåäåíà íà êîíçîëàòà"
-
-#: ../src/screen.c:460
-#, c-format
-msgid "could not load logo image for panels: %s"
-msgstr "êàðòèíêàòà ñ ëîãîòî çà ïàíåëèòå íå ìîæå äà çàðåäè: %s"
-
-#: ../src/screen.c:464
-#, c-format
-msgid "error making logo image for panel:%s"
-msgstr "ãðåøêà ïðè ïîäãîòîâêà íà ëîãîòî çà ïàíåëà: %s"
-
-# :::>>>>> - 'context'? 
-# ^Òîâà å îò Ëþáî
-# Ùîì íå å ÿñíî êàêâî å "context", ìîæå è áåç íåãî. (À.Ç.)
-#: ../src/screen.c:745
-#, c-format
-msgid "could not initialize graphics library context: %s"
-msgstr "Íåóñïåøíà èíèöèàëèçàöèÿ íà ãðàôè÷íà áèáëèîòåêà: %s"
-
-# Áåøå òàêà ïîðàäè íåóñòàíîâåí ïðåâîä íà "widget set":
-# [íàáîðà | ãðóïàòà] îò [ïðèñïîñîáëåíèÿ | ïîìîùíè ïðîãðàìè | èíñòðóìåíòè]
-# WINGs íå ìîæå äà áúäå èíèöèàëèçèðàí
-# Çíà÷è ùå ìèíåì è áåç "widget set". (À.Ç.):
-#: ../src/screen.c:776
-msgid "could not do initialization of WINGs widget set"
-msgstr "íåóñïåøíà èíèöèàëèçàöèÿ íà áèáëèîòåêàòà WING"
-
-#: ../src/screen.c:1128
-#, c-format
-msgid "could not save session state in %s"
-msgstr "ñúñòîÿíèåòî íà ñåñèÿòà íå ìîæå äà ñå çàïèøå â %s"
-
-#: ../src/session.c:183 ../src/wdefaults.c:583 ../src/winspector.c:447
-#, c-format
-msgid "can't convert \"%s\" to boolean"
-msgstr "íå ìîæå äà ñå ïðåîáðàçóâà \"%s\" â áóëåâà ñòîéíîñò"
-
-#: ../src/session.c:1023
-msgid "out of memory while saving session state"
-msgstr "íå äîñòèãíà ïàìåò ïðè çàïèñâàíå ñúñòîÿíèåòî íà ñåñèÿòà"
-
-# :::>>>> - ne razbiram smisula na 'end of memory'
-#: ../src/session.c:1114
-msgid "end of memory while saving session state"
-msgstr "èç÷åðïâàíå íà ïàìåòòà ïðè çàïèñâàíå ñúñòîÿíèåòî íà ñåàíñà"
-
-# (Á.É.)
-#. This is not fatal but can mean the session manager exited.
-#. * If the session manager exited normally we would get a
-#. * Die message, so this probably means an abnormal exit.
-#. * If the sm was the last client of session, then we'll die
-#. * anyway, otherwise we can continue doing our stuff.
-#.
-#: ../src/session.c:1248
-msgid "connection to the session manager was lost"
-msgstr "âðúçêàòà ñ àäìèíèñòðàòîðà íà ñåñèÿòà ñå çàãóáè"
-
-#: ../src/stacking.c:73
-msgid "could not get window list!!"
-msgstr "ñïèñúêúò ñ ïðîçîðöèòå íå ìîæå äà áúäå èçâëå÷åí!!"
-
-#: ../src/startup.c:197
-#, c-format
-msgid "internal X error: %s\n"
-msgstr "ãðåøêà â X ñúðâúðà: %s\n"
-
-#: ../src/startup.c:262
-#, c-format
-msgid "got signal %i (%s) - restarting\n"
-msgstr "ïîëó÷åí ñèãíàë %i (%s) - ðåñòàðòèðàíå\n"
-
-#: ../src/startup.c:264
-#, c-format
-msgid "got signal %i - restarting\n"
-msgstr "ïîëó÷åí ñèãíàë %i - ðåñòàðòèðàíå\n"
-
-#: ../src/startup.c:278
-#, c-format
-msgid "got signal %i (%s) - exiting...\n"
-msgstr "ïîëó÷åí ñèãíàë %i (%s) - èçõîä...\n"
-
-#: ../src/startup.c:280
-#, c-format
-msgid "got signal %i - exiting...\n"
-msgstr "ïîëó÷åí ñèãíàë %i - èçõîä...\n"
-
-#: ../src/startup.c:293
-#, c-format
-msgid "got signal %i (%s)\n"
-msgstr "ïîëó÷åí ñèãíàë %i (%s)\n"
-
-#: ../src/startup.c:295
-#, c-format
-msgid "got signal %i\n"
-msgstr "ïîëó÷åí ñèãíàë %i\n"
-
-#: ../src/startup.c:306
-msgid ""
-"crashed while trying to do some post-crash cleanup. Aborting immediatelly."
-msgstr "ñðèâ ïðè îïèò çà ñëåä-àâàðèéíî ïî÷èñòâàíå. Íåçàáàâíî ïðåêðàòÿâàíå."
-
-#. we try to restart Window Maker
-#: ../src/startup.c:340
-msgid "trying to restart Window Maker..."
-msgstr "îïèò çà ðåñòàðòèðàíå Window Maker..."
-
-#: ../src/startup.c:345
-msgid "trying to start alternate window manager..."
-msgstr "îïèò çà ñòàðòèðàíå íà äðóã àäìèíèñòðàòîð íà ïðîçîðöèòå..."
-
-#: ../src/startup.c:350
-msgid "failed to start alternate window manager. Aborting."
-msgstr ""
-"íåóñïåøåí îïèò çà ñòàðòèðàíå íà äðóã àäìèíèñòðàòîð íà ïðîçîðöèòå. Êðàé íà "
-"ðàáîòàòà."
-
-#: ../src/startup.c:352
-msgid ""
-"a fatal error has occured, probably due to a bug. Please fill the included "
-"BUGFORM and report it."
-msgstr ""
-"ôàòàëíà ãðåøêà, âåðîÿòíî äúëæàùà ñå íà ïðîãðàìåí äåôåêò. Ìîëÿ ïîïúëíåòå "
-"ôîðìóëÿðà îò ôàéëà BUGFORM è íè óâåäîìåòå "
-
-#: ../src/startup.c:830
-#, c-format
-msgid "icon size is configured to %i, but it's too small. Using 16, instead\n"
-msgstr ""
-"ðàçìåðúò íà èêîíêàòà å êîíôèãóðèðàí çà %i, íî òîâà å òâúðäå ìàëêî. Âìåñòî "
-"òîâà ùå èçïîëçâàìå ðàçìåð 16\n"
-
-#: ../src/startup.c:858
-msgid "XKB is not supported. KbdModeLock is automatically disabled."
-msgstr ""
-"Òúé êàòî X-ñúðâúðúò íå ïîääúðæà XKB, òî KbdModeLock å çàáðàíåí àâòîìàòè÷íî."
-
-#: ../src/startup.c:877
-msgid "it seems that there is already a window manager running"
-msgstr "èçãëåæäà âå÷å èìà ñòàðòèðàí àäìèíèñòðàòîð íà ïðîçîðöèòå"
-
-# [End Lyubo]
-#: ../src/startup.c:883
-#, c-format
-msgid "could not manage screen %i"
-msgstr "íå ìîæå äà ñå óïðàâëÿâà åêðàí %i"
-
-#: ../src/startup.c:944
-msgid "could not manage any screen"
-msgstr "íå ìîæå äà ñå óïðàâëÿâà êîéòî è äà å åêðàí"
-
-#: ../src/switchmenu.c:114
-msgid "Windows"
-msgstr "Ïðîçîðöè"
-
-#: ../src/texture.c:290 ../src/texture.c:334
-#, c-format
-msgid "image file \"%s\" used as texture could not be found."
-msgstr "êàðòèíêàòà \"%s\" èçïîëçâàíà êàòî òåêñòóðà íå ìîæå äà áúäå îòêðèòà."
-
-#: ../src/texture.c:296 ../src/texture.c:340
-#, c-format
-msgid "could not load texture pixmap \"%s\":%s"
-msgstr "íå ìîæå äà ñå çàðåäè êàðòèíêàòà ñ òåêñòóðà \"%s\": %s"
-
-#: ../src/texture.c:400
-#, c-format
-msgid "library \"%s\" cound not be opened."
-msgstr "áèáëèîòåêàòà \"%s\" íå ìîæå äà áúäå îòâîðåíà."
-
-#: ../src/texture.c:409
-#, c-format
-msgid "function \"%s\" not found in library \"%s\""
-msgstr "ôóíêöèÿòà \"%s\" íå ïðèñúñòâà â áèáëèîòåêàòà \"%s\""
-
-#: ../src/texture.c:416
-msgid "function textures not supported on this system, sorry."
-msgstr "çà ñúæàëåíèå òåêñòóðíèòå ôóíêöèè íå ñå ïîääúðæàò îò òàçè ñèñòåìà."
-
-#: ../src/wdefaults.c:429
-#, c-format
-msgid "could not find icon file \"%s\""
-msgstr "íå ìîæå äà ñå îòêðèå èêîíêàòà \"%s\""
-
-#: ../src/window.c:2715 ../src/window.c:2849
-msgid ""
-"the NumLock, ScrollLock or similar key seems to be turned on.\n"
-"Turn it off or some mouse actions and keyboard shortcuts will not work."
-msgstr ""
-"èçãëåæäà, ÷å NumLock, ScrollLock èëè ïîäîáåí ìîäèôèêàòîð å âêëþ÷åí.\n"
-"Èçêëþ÷åòå ãî; èíà÷å íÿêîè äåéñòâèÿ ñ ìèøêàòà íÿìà äà ðàáîòÿò."
-
-#: ../src/winmenu.c:126
-msgid ""
-"This will kill the application.\n"
-"Any unsaved changes will be lost.\n"
-"Please confirm."
-msgstr ""
-"Òîâà ùå óáèå ïðèëîæåíèåòî.\n"
-"Âñÿêà èíôîðìàöèÿ, êîÿòî íå å çàïàçåíà, ùå ñå çàãóáè.\n"
-"Ìîëÿ ïîòâúðäåòå."
-
-#: ../src/winmenu.c:275 ../src/winmenu.c:283
-msgid "Set Shortcut"
-msgstr "Ïîñòàâè áúðç êëàâèø"
-
-#: ../src/winmenu.c:361 ../src/winmenu.c:407
-msgid "could not create submenu for window menu"
-msgstr ""
-
-#: ../src/winmenu.c:411
-msgid "Keep on top"
-msgstr "Âèíàãè îòãîðå"
-
-#: ../src/winmenu.c:416
-msgid "Keep at bottom"
-msgstr "Äðúæ íàé-îòäîëó"
-
-#.
-#. * Warning: If you make some change that affects the order of the
-#. * entries, you must update the command #defines in the top of
-#. * this file.
-#.
-#: ../src/winmenu.c:444 ../src/winmenu.c:579
-msgid "Maximize"
-msgstr "Ìàêñèìèçèðàé"
-
-#: ../src/winmenu.c:452 ../src/winmenu.c:565
-msgid "Miniaturize"
-msgstr "Ìèíèìèçèðàé"
-
-# Hide îçíà÷àâà âñè÷êè ïðîçîðöè äà ñå ñêðèÿò.  Shade çíà÷è äà ñå îñòàâè âèäèìà
-# ñàìî çàãëàâíàòà ëåíòà íà ïðîçîðåöà. È ïîíåæå íà äðóãèòå ìåñòà "hide" å 
-# ïðåâåæäàíî êàòî "ñêðèé", òî òóê ïðîìåíèõ "Ñêðèé" íà "Çàñåí÷è". (À.Ç.)
-#: ../src/winmenu.c:461 ../src/winmenu.c:596
-msgid "Shade"
-msgstr "Çàñåí÷è"
-
-#: ../src/winmenu.c:477
-msgid "Resize/Move"
-msgstr "Oðàçìåðè/Ïðåìåñòè"
-
-#: ../src/winmenu.c:485
-msgid "Select"
-msgstr "Èçáåðè"
-
-#: ../src/winmenu.c:493
-msgid "Move To"
-msgstr "Ïðåìåñòè íà..."
-
-#: ../src/winmenu.c:498
-msgid "Attributes..."
-msgstr "Àòðèáóòè..."
-
-#: ../src/winmenu.c:500
-msgid "Options"
-msgstr "Îïöèè"
-
-#: ../src/winmenu.c:560
-msgid "Deminiaturize"
-msgstr "Óãîëåìè"
-
-#: ../src/winmenu.c:574
-msgid "Unmaximize"
-msgstr "Íàìàëè"
-
-# Ìîæå áè îáðàòíîòî íà "çàñåí÷è" å "îãðåé"? (À.Ç.)
-#: ../src/winmenu.c:591
-msgid "Unshade"
-msgstr "Îãðåé"
-
-#: ../src/winspector.c:381
-#, c-format
-msgid "Could not find icon \"%s\" specified for this window"
-msgstr "Èêîíêàòà \"%s\", îïðåäåëåíà çà ïðîçîðåö, íå ìîæå äà áúäå îòêðèòà"
-
-# Äîêîëêîòî ìîãà äà ðàçáåðà îò winspector.c, ñàìî ïúðâîòî %s ñúäúðæà èìåòî
-# íà èêîíêàòà. (À.Ç.)
-#: ../src/winspector.c:397
-#, c-format
-msgid "Could not open specified icon \"%s\":%s"
-msgstr "Èêîíêàòà \"%s\" íå ìîæå äà áúäå çàðåäåíà: %s"
-
-#: ../src/winspector.c:1221
-msgid "Save"
-msgstr "Çàïèøè"
-
-#: ../src/winspector.c:1229
-msgid "Apply"
-msgstr "Ïðèëîæè"
-
-#: ../src/winspector.c:1235
-msgid "Reload"
-msgstr "Ïðåçàðåäè"
-
-# Òóê ñå îïðåäåëÿò íå õàðàêòåðèñòèêè íà ïðîçîðåöà, à ñå îïðåäåëÿ òî÷íî êúì
-# êîè ïðîçîðöè äà ñå ïðèëàãà òàçè íàñòðîéêà.  Çàòîâà èçìåíèõ "Õàðàêòåðèñòèêè
-# íà ïðîçîðåöà" íà "Çà êîè ïðîçîðöè?" -- êàòî ÷å ëè å ïî-ÿñíî îò áóêâàëíèÿ
-# ïðåâîä "Oïðåäåëÿíå íà ïðîçîðåö". (À.Ç.)
-#: ../src/winspector.c:1244 ../src/winspector.c:1254
-msgid "Window Specification"
-msgstr "Çà êîè ïðîçîðöè"
-
-#: ../src/winspector.c:1245
-msgid "Window Attributes"
-msgstr "Àòðèáóòè íà ïðîçîðåöà"
-
-#: ../src/winspector.c:1246
-msgid "Advanced Options"
-msgstr "Îïöèè çà íàïðåäíàëè"
-
-#: ../src/winspector.c:1247
-msgid "Icon and Initial Workspace"
-msgstr "Èêîíêà è íà÷àëíî ðàáîòíî ìÿñòî"
-
-# Êàòî ÷å ëè çà ïîòðåáèòåëèòå ùå áúäå ïî-ÿñíî àêî âìåñòî áóêâàëíîòî "Ñïåöèôè÷íî
-# çà ïðèëîæåíèåòî" èçïîëçâàìå "Àòðèáóòè íà ïðèëîæåíèåòî"? (À.Ç.)
-#: ../src/winspector.c:1248
-msgid "Application Specific"
-msgstr "Àòðèáóòè íà ïðèëîæåíèåòî"
-
-# "Ïîäðàçáèðàùî ñå çà âñè÷êè ïðîçîðöè" å ìíîãî äúëãî è íå ñå ïîáèðà.
-# Çàòîâà ãî ñúêðàòèõ. (À.Ç.)
-#: ../src/winspector.c:1262
-msgid "Defaults for all windows"
-msgstr "Çà âñè÷êè ïðîçîðöè"
-
-#: ../src/winspector.c:1316
-msgid "Select Window"
-msgstr "Èçáîð íà ïðîçîðåö"
-
-#: ../src/winspector.c:1329
-msgid "Attributes"
-msgstr "Àòðèáóòè"
-
-# Tóê ñè ïîçâîëÿâàì îòêëîíåíèå: âìåñòî "Çàáðàíè" -- "Áåç", çàùîòî ïî-íàòàòúê
-# "Çàáðàíè áóòîíà çà ìèíèìèçèðàíå" å ìíîãî äúëãî è íå ñå ïîáèðà. (À.Ç.)
-#: ../src/winspector.c:1340
-msgid "Disable Titlebar"
-msgstr "Áåç çàãëàâíà èâèöà"
-
-#: ../src/winspector.c:1342
-msgid ""
-"Remove the titlebar of this window.\n"
-"To access the window commands menu of a window\n"
-"without it's titlebar, press Control+Esc (or the\n"
-"equivalent shortcut, if you changed the default\n"
-"settings)."
-msgstr ""
-"Äà ñå ìàõíå çàãëàâíàòà èâèöà íà òîçè ïðîçîðåö.\n"
-"Çà äà ñå äîñòèãíå ìåíþòî ñ ïðîçîðå÷íè êîìàíäè çà\n"
-"ïðîçîðåö áåç çàãëàâíà èâèöà, íàòèñíåòå Control+Esc\n"
-"(èëè åêâèâàëåíòíà êëàâèøíà êîìáèíàöèÿ, àêî ñòå\n"
-"ïðîìåíèëè ñòàíäàðòíàòà íàñòðîéêà)."
-
-#: ../src/winspector.c:1349
-msgid "Disable Resizebar"
-msgstr "Áåç èâèöàòà çà îðàçìåðÿâàíå"
-
-#: ../src/winspector.c:1351
-msgid "Remove the resizebar of this window."
-msgstr ""
-"Ìàõà èâèöàòà çà îðàçìåðÿâàíå\n"
-"íà òîçè ïðîçîðåö."
-
-#: ../src/winspector.c:1354
-msgid "Disable Close Button"
-msgstr "Áåç áóòîíà çà çàòâàðÿíå"
-
-#: ../src/winspector.c:1356
-msgid "Remove the `close window' button of this window."
-msgstr ""
-"Ìàõà áóòîíà çà çàòâàðÿíå\n"
-"íà òîçè ïðîçîðåö."
-
-#: ../src/winspector.c:1359
-msgid "Disable Miniaturize Button"
-msgstr "Áåç áóòîíà çà ìèíèìèçèðàíå"
-
-#: ../src/winspector.c:1361
-msgid "Remove the `miniaturize window' button of the window."
-msgstr ""
-"Ìàõà áóòîíà çà ìèíèìèçèðàíå\n"
-"íà òîçè ïðîçîðåö."
-
-# Tóê ñè ïîçâîëÿâàì îòêëîíåíèå: âìåñòî "Çàáðàíè" -- "Áåç", çàùîòî ïî-íàòàòúê
-# "Çàáðàíè áóòîíà çà ìèíèìèçèðàíå" å ìíîãî äúëãî è íå ñå ïîáèðà. (À.Ç.)
-#: ../src/winspector.c:1364
-msgid "Disable Border"
-msgstr "Áåç ðàìêà"
-
-#: ../src/winspector.c:1366
-msgid "Remove the 1 pixel black border around the window."
-msgstr ""
-"Ìàõà ÷åðíàòà ðàìêà ñúñ øèðèíà\n"
-"1 ïèêñåë îêîëî òîçè ïðîçîðåö."
-
-#: ../src/winspector.c:1369
-msgid "Keep on Top / Floating"
-msgstr "Äðúæ îòãîðå"
-
-#: ../src/winspector.c:1371
-msgid ""
-"Keep the window over other windows, not allowing\n"
-"them to cover it."
-msgstr ""
-"Äúðæè ïðîçîðåöà íàä äðóãèòå ïðîçîðöè,\n"
-"êàòî íå ïîçâîëÿâà òå äà ãî çàêðèÿò."
-
-#: ../src/winspector.c:1375
-msgid "Keep at Bottom / Sunken"
-msgstr "Äðúæ îòäîëó"
-
-#: ../src/winspector.c:1377
-msgid "Keep the window under all other windows."
-msgstr ""
-"Äúðæè ïðîçîðåöà ïîä âñè÷êè\n"
-"äðóãè ïðîçîðöè."
-
-#: ../src/winspector.c:1382
-msgid "Make window occupy all workspaces."
-msgstr ""
-"Ïðàâè ïðîçîðåöà äà ïðèñúñòâà\n"
-"íà âñè÷êè ðàáîòíè ìåñòà."
-
-#: ../src/winspector.c:1385
-msgid "Start Miniaturized"
-msgstr "Ñòàðòèðâàé ìèíèìèçèðàí"
-
-#: ../src/winspector.c:1387
-msgid ""
-"Make the window be automatically miniaturized when it's\n"
-"first shown."
-msgstr ""
-"Ìèíèàòþðèçèðà ïðîçîðåöà ïðè âñÿêî\n"
-"íåãîâî ïúðâî ïîÿâÿâàíå."
-
-#: ../src/winspector.c:1391
-msgid "Start Maximized"
-msgstr "Ñòàðòèðâàé ìàêñèìèçèðàí"
-
-#: ../src/winspector.c:1393
-msgid ""
-"Make the window be automatically maximized when it's\n"
-"first shown."
-msgstr ""
-"Ìàêñèìèçèðà ïðîçîðåöà ïðè âñÿêî\n"
-"íåãîâî ïúðâî ïîÿâÿâàíå."
-
-# Áè òðÿáâàëî äà ñå êàæå "Ïðîïóñêàé îò ñïèñúêà íà ïðîçîðöèòå", íî å ìíîãî äúëãî
-# è íå ñå ïîáèðà. (À.Ç.)
-#: ../src/winspector.c:1397
-msgid "Skip Window List"
-msgstr "Èçâúí ñïèñúêà íà ïðîçîðöèòå"
-
-#: ../src/winspector.c:1399
-msgid "Do not list the window in the window list menu."
-msgstr ""
-"Ïðîçîðåöúò íÿìà äà áúäå âêëþ÷åí\n"
-"â ìåíþòî íà ñïèñúêà ñ ïðîçîðöèòå."
-
-#: ../src/winspector.c:1414
-msgid "Advanced"
-msgstr "Çà íàïðåäíàëè"
-
-# Çà ïî-êðàòêî "äðóãèòå" âìåñòî "îñòàíàëèòå". (À.Ç.)
-#: ../src/winspector.c:1431
-msgid "Ignore HideOthers"
-msgstr "Èãíîðèðâàé \"Ñêðèé äðóãèòå\""
-
-#: ../src/winspector.c:1433
-msgid ""
-"Do not hide the window when issuing the\n"
-"`HideOthers' command."
-msgstr ""
-"Íå ñêðèâà ïðîçîðåöà ïðè ïîëó÷àâàíå íà\n"
-"êîìàíäàòà \"Ñêðèé äðóãèòå\"."
-
-#: ../src/winspector.c:1437
-msgid "Don't Bind Keyboard Shortcuts"
-msgstr "Íå ïðèõâàùàé áúðçè êëàâèøè"
-
-#: ../src/winspector.c:1439
-msgid ""
-"Do not bind keyboard shortcuts from Window Maker\n"
-"when this window is focused. This will allow the\n"
-"window to receive all key combinations regardless\n"
-"of your shortcut configuration."
-msgstr ""
-"Window Maker íÿìà äà ïðèõâàùà ñïåöèàëíèòå êëàâèøíè\n"
-"êîìáèíàöèè, êîãàòî òîçè ïðîçîðåö å íà ôîêóñ. Òîâà äàâà\n"
-"âúçìîæíîñò íà ïðîçîðåöà äà ïîëó÷àâà âñè÷êè êëàâèøíè\n"
-"êîìáèíàöèè, íåçàâèñèìî êàê ñòå ãè êîíôèãóðèðàëè."
-
-# Íÿìà ìÿñòî äà ñå ïðåâåäå è "clicks". (À.Ç.)
-#: ../src/winspector.c:1445
-msgid "Don't Bind Mouse Clicks"
-msgstr "Íå ïðèõâàùàé ìèøêàòà"
-
-#: ../src/winspector.c:1447
-msgid ""
-"Do not bind mouse actions, such as `Alt'+drag\n"
-"in the window (when alt is the modifier you haveconfigured)."
-msgstr ""
-"Äà íå ñå ïðèõâàùàò äåéñòâèÿ ñ ìèøêàòà\n"
-"(íàïð. Alt+âëà÷åíå) â ïðîçîðåöà."
-
-#: ../src/winspector.c:1452
-msgid "Keep Inside Screen"
-msgstr "Äðúæ â ðàìêèòå íà åêðàíà"
-
-#: ../src/winspector.c:1454
-msgid ""
-"Do not allow the window to move itself completely\n"
-"outside the screen. For bug compatibility.\n"
-msgstr ""
-"Íå ïîçâîëÿâà íà ïðîçîðåöà äà áúäå\n"
-"ïðåìåñòåí èçöÿëî èçâúí åêðàíà.\n"
-
-# "Íå ìó ïîçâîëÿâàé äà âçåìå ôîêóñ" å ìíîãî äúëãî. (À.Ç.)
-#: ../src/winspector.c:1458
-msgid "Don't Let It Take Focus"
-msgstr "Íå ìó äàâàé ôoêóñ"
-
-#: ../src/winspector.c:1460
-msgid ""
-"Do not let the window take keyboard focus when you\n"
-"click on it."
-msgstr ""
-"Íå ïîçâîëÿâà íà ïðîçîðåöà äà ïîëó÷è êëàâèàòóðíèÿ\n"
-"ôîêóñ, êîãàòî ùòðàêíåòå âúðõó íåãî."
-
-#: ../src/winspector.c:1464
-msgid "Don't Save Session"
-msgstr "Íå çàïèñâàé â ñåñèÿòà"
-
-#: ../src/winspector.c:1466
-msgid ""
-"Do not save the associated application in the\n"
-"session's state, so that it won't be restarted\n"
-"together with other applications when Window Maker\n"
-"starts."
-msgstr ""
-"Íå çàïàçâà ñúîòâåòíîòî ïðèëîæåíèå â ñúñòîÿíèåòî\n"
-"íà ñåñèÿòà, òàêà ÷å òî íÿìà äà áúäå ðåñòàðòèðàíî\n"
-"îò àäìèíèñòðàòîðà íà ñåñèÿòà çàåäíî ñ äðóãèòå\n"
-"ïðèëîæåíèÿ ïðè ñòàðòèðàíå íà Window Maker."
-
-# [ Start translation
-# Translated from English by (-:Stinger®:-)
-# Ïðåâåäåíî îò Àíãëèéñêè îò (-:Stinger®:-)
-# corrected 31.03.2000 21:16 local time by Slaff
-# updated ..........
-#
-# Ñúêðàòèõ "íà ïðèëîæåíèå", çàùîòî íÿìà ìÿñòî (À.Ç.)
-#: ../src/winspector.c:1472
-msgid "Emulate Application Icon"
-msgstr "Åìóëèðàé èêîíêà"
-
-#: ../src/winspector.c:1474
-msgid ""
-"Make this window act as an application that provides\n"
-"enough information to Window Maker for a dockable\n"
-"application icon to be created."
-msgstr ""
-"Ïðàâè òîçè ïðîçîðåö äà ñå äúðæè êàòî ïðèëîæåíèå, êîåòî\n"
-"äàâà äîñòàòú÷íî èíôîðìàöèÿ íà Window Maker, ÷å äà ìîæå\n"
-"äà ñå íàïðàâè èêîíêà íà ïðèëîæåíèåòî, êîÿòî ìîæå äà\n"
-"ñå ñêà÷âà íà äîêà."
-
-#: ../src/winspector.c:1479
-msgid "Full Screen Maximization"
-msgstr "Ðàçïîëîæè íà öÿë åêðàí"
-
-#: ../src/winspector.c:1481
-msgid ""
-"Make the window use the whole screen space when it's\n"
-"maximized. The titlebar and resizebar will be moved\n"
-"to outside the screen."
-msgstr ""
-"Ïðàâè ïðîçîðåöà äà èçïîëçâà öÿëîòî ìÿñòî íà åêðàíà ïðè\n"
-"ìàêñèìèçàöèÿ. Çàãëàâíàòà èâèöà è èâèöàòà çà îðàçìåðÿâàíå\n"
-"ùå áúäàò èçêàðàíè èçâúí åêðàíà."
-
-#: ../src/winspector.c:1487
-msgid "Disable Language Button"
-msgstr "Áåç áóòîí ÊÈÐ/ËÀÒ"
-
-#: ../src/winspector.c:1489
-msgid "Remove the `toggle language' button of the window."
-msgstr "Ìàõà áóòîíà ÊÈÐ/ËÀÒ îò ïðîçîðåöà."
-
-#: ../src/winspector.c:1506
-msgid "Miniwindow Image"
-msgstr "Èçãëåä íà ìèíèïðîçîð÷åòî"
-
-#: ../src/winspector.c:1525
-msgid "Update"
-msgstr "Îáíîâè"
-
-#: ../src/winspector.c:1540
-msgid "Icon File Name:"
-msgstr "Ôàéë çà èêîíêàòà:"
-
-#: ../src/winspector.c:1552
-msgid "Ignore client supplied icon"
-msgstr "Èãíîðèðàé êëèåíòñêàòà èêîíêà"
-
-#: ../src/winspector.c:1559
-msgid "Initial Workspace"
-msgstr "Íà÷àëíî ðàáîòíî ìÿñòî"
-
-#: ../src/winspector.c:1561
-msgid "The workspace to place the window when it'sfirst shown."
-msgstr ""
-"Ðàáîòíîòî ìÿñòî, êúäåòî äà ñå ïîìåñòè\n"
-"ïðîçîðåöà ïðè ïúðâîòî ìó ïîÿâÿâàíå."
-
-# íèêúäå ïî-ñïåöèàëíî
-#: ../src/winspector.c:1567
-msgid "Nowhere in particular"
-msgstr "Íèêúäå ïî-ñïåöèàëíî"
-
-#: ../src/winspector.c:1585
-msgid "Application Wide"
-msgstr "Îáùî çà ïðèëîæåíèåòî"
-
-#: ../src/winspector.c:1596
-msgid "Start Hidden"
-msgstr "Ñòàðòèðâàé ãî ñêðèòî"
-
-#: ../src/winspector.c:1598
-msgid "Automatically hide application when it's started."
-msgstr "Àâòîìàòè÷íî ñêðèâà ïðèëîæåíèåòî ïðè ñòàðòèðàíå."
-
-#: ../src/winspector.c:1601
-msgid "No Application Icon"
-msgstr "Ïðèëîæåíèåòî íÿìà èêîíêà"
-
-#: ../src/winspector.c:1603
-msgid ""
-"Disable the application icon for the application.\n"
-"Note that you won't be able to dock it anymore,\n"
-"and any icons that are already docked will stop\n"
-"working correctly."
-msgstr ""
-"Çàáðàíÿâà èêîíêàòà íà òîâà ïðèëîæåíèå.\n"
-"Çàáåëåæåòå, ÷å ïîâå÷å íÿìà äà ìîæå äà ãî ñêà÷âàòå\n"
-"íà äîêà, à âñè÷êè èêîíêè íà òîâà ïðèëîæåíèå,\n"
-"êîèòî âå÷å ñà ñêà÷åíè, ùå ïðåñòàíàò äà ðàáîòÿò\n"
-"ïðàâèëíî."
-
-#: ../src/workspace.c:110 ../src/workspace.c:111 ../src/workspace.c:806
-#, c-format
-msgid "Workspace %i"
-msgstr "Ðàáîòíî ìÿñòî %i"
-
-#: ../src/workspace.c:863
-msgid "Workspaces"
-msgstr "Ðàáîòíè ìåñòà"
-
-#: ../src/workspace.c:865
-msgid "could not create Workspace menu"
-msgstr "íå ìîæå äà ñå íàïðàâè ìåíþ íà ðàáîòíèòå ìåñòà"
-
-#: ../src/workspace.c:872
-msgid "New"
-msgstr "Íîâî"
-
-#: ../src/workspace.c:873
-msgid "Destroy Last"
-msgstr "Óíèùîæè ïîñëåäíîòî"
-
-#: ../src/xutil.c:228
-msgid "invalid data in selection"
-msgstr "íåïðàâèëíè äàííè â èçáîðà"
-
-#~ msgid "Keep Attracted Icons"
-#~ msgstr "Çàäúðæàé ïðèâëå÷åíèòå èêîíêè"
-
-# [ start translation
-# Translated by: Boris Jordanov
-#~ msgid "wrealloc() failed while trying to add menu item"
-#~ msgstr "íåóñïåõ ïðè îïèò çà äîáàâÿíå íà ïîäòî÷êà â ìåíþ"
-
-#~ msgid ""
-#~ "The configuration will apply to all\n"
-#~ "windows that have their WM_CLASS property set to the above selected\n"
-#~ "name, when saved."
-#~ msgstr ""
-#~ "Êîãàòî áúäå çàïàçåíà, òàçè íàñòðîéêà\n"
-#~ "ùå ñå îòíàñÿ äî âñè÷êè ïðîçîðöè,\n"
-#~ "÷èåòî ñâîéñòâî WM_CLASS èìà\n"
-#~ "èçáðàíàòà ïî-ãîðå ñòîéíîñò."
+# Message catalog for Window Maker.
+# Copyright (C) 2000,2001,2003 Free Software Foundation, Inc.
+# Boris Jordanov <borj@sdf.lonestar.org>, 2000
+# Bojidar Ivanov <bojidar_ivanov@mailcity.com>, 2000
+# Slavei G. Karadjov <slaff@linux-bg.hypermart.net>, 2000
+# Lyubomir Sotirov <lyubomir@sotirov.org>, 2000
+# Anton Zinoviev <anton@lml.bas.bg>, 2000, 2001, 2003
+msgid ""
+msgstr ""
+"Project-Id-Version: WindowMaker 0.64.0\n"
+"POT-Creation-Date: 2003-02-09 13:00+0200\n"
+"PO-Revision-Date: 2003-02-09 14:21+0200\n"
+"Last-Translator: Anton Zinoviev <zinoviev@debian.org>\n"
+"Language-Team: Bulgarian <dict@linux.zonebg.com>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=CP1251\n"
+"Content-Transfer-Encoding: 8bit\n"
+
+# ../src/appicon.c:550 ../src/dialog.c:230 ../src/dock.c:3291
+# ../src/dockedapp.c:211 ../src/main.c:254 ../src/rootmenu.c:1765
+# ../src/winspector.c:383 ../src/winspector.c:399
+#: ../src/appicon.c:426 ../src/dialog.c:304 ../src/dock.c:3326
+#: ../src/dockedapp.c:230 ../src/main.c:273 ../src/rootmenu.c:1854
+#: ../src/winspector.c:389 ../src/winspector.c:406
+msgid "Error"
+msgstr "Ãðåøêà"
+
+# ../src/appicon.c:551
+#: ../src/appicon.c:427
+msgid "Could not open specified icon file"
+msgstr "Ôàéëúò ñ èêîíêàòà íå ìîæå äà áúäå çàðåäåí"
+
+# ../src/appicon.c:552 ../src/dialog.c:122 ../src/dialog.c:230
+# ../src/dialog.c:574 ../src/dialog.c:1591 ../src/dock.c:515
+# ../src/dock.c:523 ../src/dock.c:547 ../src/dock.c:3292
+# ../src/dockedapp.c:212 ../src/dockedapp.c:370 ../src/main.c:254
+# ../src/rootmenu.c:1769 ../src/winspector.c:384 ../src/winspector.c:400
+#: ../src/appicon.c:428 ../src/dialog.c:201 ../src/dialog.c:304
+#: ../src/dialog.c:751 ../src/dialog.c:1850 ../src/dock.c:526
+#: ../src/dock.c:534 ../src/dock.c:558 ../src/dock.c:3327
+#: ../src/dockedapp.c:231 ../src/dockedapp.c:426 ../src/main.c:273
+#: ../src/rootmenu.c:1858 ../src/winspector.c:390 ../src/winspector.c:407
+msgid "OK"
+msgstr "Ïðèåìàì"
+
+# Çà äà áúäå áåç ðîä çàìåíèõ "ùå áúäå çàòâîðåíà" íà "ùå ñå çàòâîðè".
+# "Çàïàçåíà" å ïî-òî÷åí ïðåâîä íà "save" - íå âñè÷êî çàïàçåíî å çàïèñàíî
+# âúâ ôàéë. (À.Ç.)  
+# ../src/appicon.c:579 ../src/dock.c:277
+#: ../src/appicon.c:456 ../src/dock.c:264
+msgid ""
+" will be forcibly closed.\n"
+"Any unsaved changes will be lost.\n"
+"Please confirm."
+msgstr ""
+" ùå ñå çàòâîðè ïðèíóäèòåëíî.\n"
+"Âñÿêà èíôîðìàöèÿ, êîÿòî íå å çàïàçåíà ùå áúäå çàãóáåíà.\n"
+"Íàèñòèíà ëè æåëàåòå òîâà?"
+
+# 
+# ../src/appicon.c:585 ../src/dock.c:282 ../src/winmenu.c:125
+#: ../src/appicon.c:464 ../src/dock.c:283 ../src/winmenu.c:125
+msgid "Kill Application"
+msgstr "Óáèâàíå íà ïðèëîæåíèå"
+
+# ../src/appicon.c:586 ../src/dock.c:283 ../src/winmenu.c:127
+#: ../src/appicon.c:465 ../src/dock.c:284 ../src/winmenu.c:127
+msgid "Yes"
+msgstr "Äà"
+
+# ../src/appicon.c:586 ../src/dock.c:283 ../src/winmenu.c:127
+#: ../src/appicon.c:465 ../src/dock.c:284 ../src/winmenu.c:127
+msgid "No"
+msgstr "Íå"
+
+# ../src/appicon.c:604 ../src/dock.c:1159 ../src/dock.c:3463
+#: ../src/appicon.c:495 ../src/dock.c:1178 ../src/dock.c:3492
+msgid "Unhide Here"
+msgstr "Ïîêàæè"
+
+# ../src/appicon.c:605 ../src/appicon.c:630 ../src/dock.c:1161
+# ../src/dock.c:1163 ../src/dock.c:3475 ../src/winmenu.c:469
+#: ../src/appicon.c:496 ../src/appicon.c:521 ../src/dock.c:1180
+#: ../src/dock.c:1182 ../src/dock.c:3504 ../src/winmenu.c:465
+msgid "Hide"
+msgstr "Ñêðèé"
+
+# Ìîæå áè "ïîñòàâè" âìåñòî "ïðèáàâè"? (À.Ç.)
+# ../src/appicon.c:606
+#: ../src/appicon.c:497
+msgid "Set Icon..."
+msgstr "Ïîñòàâè èêîíêà..."
+
+# ../src/appicon.c:607 ../src/dock.c:1167 ../src/rootmenu.c:226
+# ../src/rootmenu.c:240 ../src/winmenu.c:516
+#: ../src/appicon.c:498 ../src/dock.c:1186 ../src/rootmenu.c:248
+#: ../src/rootmenu.c:264 ../src/winmenu.c:520
+msgid "Kill"
+msgstr "Óáèé"
+
+# ../src/appicon.c:628 ../src/dock.c:3473
+#: ../src/appicon.c:519 ../src/dock.c:3502
+msgid "Unhide"
+msgstr "Ïîêàæè"
+
+#: ../src/application.c:398
+#, c-format
+msgid "recreating missing icon '%s'"
+msgstr "ïîâòîðíî ñúçäàâàíå íà ëèïñâàùà èêîíêà \"%s\""
+
+# ../src/defaults.c:972 ../src/defaults.c:1066
+#: ../src/defaults.c:922 ../src/defaults.c:1011
+#, c-format
+msgid "Domain %s (%s) of global defaults database is corrupted!"
+msgstr "Îáëàñòòà %s (%s) îò ãëîáàëíàòà áàçà äàííè ñ íàñòðîéêè å ïîâðåäåíà!"
+
+# ../src/defaults.c:1071
+#: ../src/defaults.c:927
+#, c-format
+msgid "could not load domain %s from global defaults database"
+msgstr "îáëàñòòà %s îò ãëîáàëíàòà áàçà äàííè íå ìîæå äà áúäå çàðåäåíà"
+
+# [ start translation
+# Translated by: Boris Jordanov
+#
+# Ñïîðåä ìåí defaults database çíà÷è íå ïîäðàçáèðàùàòà ñå áàçà äàííè, à
+# áàçàòà äàííè ñ ïîäðàçáèðàíèÿ, ò.å. ñ íàñòðîéêè.  Ñúîòâåòíî è
+# ïî-íàòàòúê èçðàçè êàòî "áàçàòà îò äàííè ñ ïîäðàçáèðàùè ñå
+# ïîòðåáèòåëñêè íàñòðîéêè" ñúì çàìåíÿë íà "ïîòðåáèòåëñêàòà áàçà äàííè ñ
+# íàñòðîéêè". (À.Ç.)
+#
+# È àç òàêà ãî ðàçáèðàì, íî íÿêàê íå ìè äîéäå ïðàâèëíî çâó÷àù èçðàç :)
+# (Á.É.)
+#
+# Îòíîñíî "Dock" àç ëè÷íî ïðåäïî÷èòàì "Äîê" (Á.É.)
+#
+# Èçðàçè îò âèäà "äà áúäå ïðî÷åòåíà" òóê è ïî-íàòàòúê ñúì çàìåíèë íà "äà
+# ñå ïðî÷åòå" åäèíñòâåíî çà êðàòêîñò -- ïðè íÿêîè øðèôòîâå ïî-äúëãèÿò
+# èçêàç ïðàâè ïðîáëåìè. (À.Ç.)
+#
+# Àêî ñúîáðàæåíèÿòà çà êðàòêîñò ñà íàèñòèíà íàëîæèòåëíè - ÎÊ, íî "äà ñå
+# ïðî÷åòå" çâó÷è íå ñúâñåì åäíîñìèñëåíî: "äà ñå ïðî÷åòå" ñàìà? èëè "äà
+# áúäå ïðî÷åòåíà" - îò íÿêîãî, ïðîöåñ, ïðîãðàìà? Äàëè â ìîìåíòà íå ïèøà
+# áåçñìèñëèöè ?!?! (Á.É.)
+#
+# Ïîóâëÿêîõ ñå.  Òîâà òóê ñà êîíçîëíè ñúîáùåíèÿ è ñúîáðàæåíèÿòà çà
+# êðàòêîñò íå âàæàò. (À.Ç.)  
+# ../src/defaults.c:910 ../src/startup.c:820 ../src/startup.c:838
+# ../src/startup.c:844
+#: ../src/defaults.c:949 ../src/startup.c:884 ../src/startup.c:902
+#: ../src/startup.c:908
+#, c-format
+msgid "could not read domain \"%s\" from defaults database"
+msgstr "îáëàñòòà \"%s\" íå ìîæå äà áúäå ïðî÷åòåíà îò áàçàòà äàííè ñ íàñòðîéêè"
+
+# ../src/defaults.c:956 ../src/defaults.c:1081 ../src/defaults.c:1120
+# ../src/defaults.c:1150
+#: ../src/defaults.c:995 ../src/defaults.c:1099 ../src/defaults.c:1140
+#: ../src/defaults.c:1196
+#, c-format
+msgid "Domain %s (%s) of defaults database is corrupted!"
+msgstr "Îáëàñòòà %s (%s) îò áàçàòà äàííè ñ íàñòðîéêè å ïîâðåäåíà!"
+
+# ../src/defaults.c:961 ../src/defaults.c:1102 ../src/defaults.c:1133
+# ../src/defaults.c:1159
+#: ../src/defaults.c:1000 ../src/defaults.c:1119 ../src/defaults.c:1176
+#: ../src/defaults.c:1205
+#, c-format
+msgid "could not load domain %s from user defaults database"
+msgstr ""
+"îáëàñòòà %s îò ïîòðåáèòåëñêàòà áàçà äàííè ñ íàñòðîéêè íå ìîæå äà áúäå "
+"çàðåäåíà."
+
+# ../src/defaults.c:991
+#: ../src/defaults.c:1030
+#, c-format
+msgid "could not load domain %s from global defaults database (%s)"
+msgstr "îáëàñòòà %s îò ãëîáàëíàòà áàçà äàííè %s íå ìîæå äà áúäå çàðåäåíà"
+
+# ../src/screen.c:460
+#: ../src/defaults.c:1166 ../src/screen.c:460
+#, c-format
+msgid "could not load logo image for panels: %s"
+msgstr "êàðòèíêàòà %s ñúñ çíàê çà ïàíåëè íå ìîæå äà çàðåäè"
+
+# ../src/defaults.c:1510 ../src/defaults.c:1622 ../src/defaults.c:2040
+# ../src/defaults.c:2057 ../src/defaults.c:2160 ../src/defaults.c:2207
+# ../src/defaults.c:2701 ../src/wdefaults.c:565 ../src/wdefaults.c:601
+#. --------------------------- Local -----------------------
+#: ../src/defaults.c:1414 ../src/defaults.c:1556 ../src/defaults.c:1668
+#: ../src/defaults.c:2147 ../src/defaults.c:2164 ../src/defaults.c:2209
+#: ../src/defaults.c:2256 ../src/defaults.c:2729 ../src/wdefaults.c:571
+#: ../src/wdefaults.c:607
+#, c-format
+msgid "Wrong option format for key \"%s\". Should be %s."
+msgstr "Íåïðàâèëåí ôîðìàò íà ïàðàìåòúðà íà êëþ÷à \"%s\". Òðÿáâà äà áúäå %s."
+
+# ../src/defaults.c:1451 ../src/defaults.c:1483 ../src/defaults.c:1515
+# ../src/defaults.c:1528 ../src/defaults.c:1543 ../src/defaults.c:1557
+# ../src/defaults.c:1627 ../src/defaults.c:1639 ../src/defaults.c:2045
+# ../src/defaults.c:2062 ../src/defaults.c:2075 ../src/defaults.c:2165
+# ../src/defaults.c:2181 ../src/defaults.c:2212 ../src/defaults.c:2299
+# ../src/defaults.c:2707 ../src/defaults.c:2720
+#: ../src/defaults.c:1416 ../src/defaults.c:1497 ../src/defaults.c:1529
+#: ../src/defaults.c:1561 ../src/defaults.c:1574 ../src/defaults.c:1589
+#: ../src/defaults.c:1603 ../src/defaults.c:1673 ../src/defaults.c:1685
+#: ../src/defaults.c:2152 ../src/defaults.c:2169 ../src/defaults.c:2182
+#: ../src/defaults.c:2214 ../src/defaults.c:2230 ../src/defaults.c:2261
+#: ../src/defaults.c:2348 ../src/defaults.c:2734 ../src/defaults.c:2745
+#, c-format
+msgid "using default \"%s\" instead"
+msgstr "âìåñòî òîâà ïî ïîäðàçáèðàíå ñå èçïîëçâà \"%s\""
+
+# ../src/defaults.c:1401
+#: ../src/defaults.c:1447
+#, c-format
+msgid "wrong option value for key \"%s\". Should be one of %s"
+msgstr ""
+"íåïðàâèëíà ñòîéíîñò çà êëþ÷à \"%s\". Òðÿáâà äà áúäå åäíà îò ñëåäíèòå: %s"
+
+# ../src/defaults.c:1446
+#: ../src/defaults.c:1492
+#, c-format
+msgid "can't convert \"%s\" to boolean for key \"%s\""
+msgstr "íå ìîæå äà ñå ïðåîáðàçóâà \"%s\" â áóëåâà ñòîéíîñò çà êëþ÷a \"%s\""
+
+# ../src/defaults.c:1480
+#: ../src/defaults.c:1526
+#, c-format
+msgid "can't convert \"%s\" to integer for key \"%s\""
+msgstr "íå ìîæå äà ñå ïðåîáðàçóâà \"%s\" â öÿëî ÷èñëî çà êëþ÷à \"%s\""
+
+# ../src/defaults.c:1523
+#: ../src/defaults.c:1569
+#, c-format
+msgid "Incorrect number of elements in array for key \"%s\"."
+msgstr "Íåïðàâèëåí áðîé åëåìåíòè â ìàñèâà çà êëþ÷a \"%s\"."
+
+# ../src/defaults.c:1538
+#: ../src/defaults.c:1584
+#, c-format
+msgid "Wrong value for key \"%s\". Should be Coordinate."
+msgstr "Íåïðàâèëíà ñòîéíîñò çà êëþ÷à \"%s\". Òðÿáâà äà áúäå Coordinate."
+
+# ../src/defaults.c:1553
+#: ../src/defaults.c:1599
+#, c-format
+msgid "can't convert array to integers for \"%s\"."
+msgstr "ìàñèâúò íå ìîæå äà ñå ïðåîáðàçóâà â öåëî÷èñëåíè ñòîéíîñòè çà \"%s\"."
+
+# ../src/defaults.c:1749 ../src/defaults.c:1781 ../src/defaults.c:1797
+# ../src/defaults.c:1843 ../src/defaults.c:1883 ../src/defaults.c:1921
+# ../src/defaults.c:1937
+#: ../src/defaults.c:1797 ../src/defaults.c:1829 ../src/defaults.c:1845
+#: ../src/defaults.c:1874 ../src/defaults.c:1897 ../src/defaults.c:1950
+#: ../src/defaults.c:1990 ../src/defaults.c:2028 ../src/defaults.c:2044
+#, c-format
+msgid "\"%s\" is not a valid color name"
+msgstr "\"%s\" íå å âàëèäíî èìå íà öâÿò"
+
+# ../src/defaults.c:1762
+#: ../src/defaults.c:1810 ../src/defaults.c:1862
+msgid "bad number of arguments in gradient specification"
+msgstr "íåïðàâèëåí áðîé àðãóìåíòè ïðè îïðåäåëÿíå íà ãðàäèåíò"
+
+# ../src/defaults.c:1816
+#: ../src/defaults.c:1923
+msgid "too few arguments in multicolor gradient specification"
+msgstr "íåäîñòàòú÷íî àðãóìåíòè ïðè îïðåäåëÿíå íà ìíîãîöâåòåí ãðàäèåíò"
+
+# ../src/defaults.c:1910
+#: ../src/defaults.c:2017
+msgid "bad number of arguments in textured gradient specification"
+msgstr "íåïðàâèëåí áðîé àðãóìåíòè ïðè îïðåäåëÿíå íà ãðàäèåíò ñ òåêñòóðà"
+
+# ../src/defaults.c:1953
+#: ../src/defaults.c:2060
+#, c-format
+msgid "bad opacity value for tgradient texture \"%s\". Should be [0..255]"
+msgstr ""
+"íåïðàâèëíà ñòîéíîñò íà ïðîçðà÷íîñò \"%s\" çà òåêñòóðàòà íà ãðàäèåíò. Òðÿáâà "
+"äà áúäå îò 0 äî 255"
+
+# ../src/defaults.c:2013
+#: ../src/defaults.c:2120
+#, c-format
+msgid "could not initialize library %s"
+msgstr "áèáëèîòåêàòà %s íå ìîæå äà áúäå èíèöèàëèçèðàíà"
+
+# ../src/defaults.c:2016
+#: ../src/defaults.c:2123
+#, c-format
+msgid "could not find function %s::%s"
+msgstr "ôóíêöèÿòà %s::%s íå ìîæå äà áúäå îòêðèòà"
+
+# ../src/defaults.c:2023
+#: ../src/defaults.c:2130
+#, c-format
+msgid "invalid texture type %s"
+msgstr "íåïðàâèëåí òèï òåêñòóðà (%s)"
+
+# ../src/defaults.c:2070
+#: ../src/defaults.c:2177
+#, c-format
+msgid "Error in texture specification for key \"%s\""
+msgstr "Ãðåøêà ïðè îïðåäåëÿíå íà òåêñòóðà çà êëþ÷à \"%s\""
+
+# ../src/defaults.c:2177
+#: ../src/defaults.c:2226
+msgid "Wrong type for workspace background. Should be a texture type."
+msgstr "Íåïðàâèëåí òèï ôîí çà ðàáîòíî ìÿñòî. Òðÿáâà äà áúäå âèä òåêñòóðà."
+
+# ../src/defaults.c:2225
+#: ../src/defaults.c:2274
+#, c-format
+msgid "Wrong type for background of workspace %i. Should be a texture."
+msgstr "Íåïðàâèëåí òèï ôîí çà ðàáîòíî ìÿñòî %i. Òðÿáâà äà áúäå òåêñòóðà."
+
+# Translated by: Boris Jordanov
+# [ end translation
+# ../src/defaults.c:2267
+#: ../src/defaults.c:2316
+msgid "could not load any usable font!!!"
+msgstr "íå ìîæå äà ñå çàðåäè íèêîé èçïîëçâàåì øðèôò!!!"
+
+# ../src/defaults.c:2294
+#: ../src/defaults.c:2343
+#, c-format
+msgid "could not get color for key \"%s\""
+msgstr "íå ìîæå äà ñå îïðåäåëè öâÿò çà êëþ÷à \"%s\""
+
+# ../src/defaults.c:2352 ../src/rootmenu.c:492
+#: ../src/defaults.c:2401 ../src/rootmenu.c:526
+#, c-format
+msgid "%s:invalid key modifier \"%s\""
+msgstr "%s: íåïðàâèëåí êëàâèøåí ìîäèôèêàòîð \"%s\""
+
+# 
+# ../src/defaults.c:2364
+#: ../src/defaults.c:2413
+#, c-format
+msgid "%s:invalid kbd shortcut specification \"%s\""
+msgstr "%s: îïðåäåëåíà å íåäîïóñòèìà êëàâèøíà êîìáèíàöèÿ \"%s\""
+
+# 
+# ../src/defaults.c:2371
+#: ../src/defaults.c:2420
+#, c-format
+msgid "%s:invalid key in shortcut \"%s\""
+msgstr "%s: íåäîïóñòèì êëàâèø â êîìáèíàöèÿòà \"%s\""
+
+# ../src/defaults.c:2396
+#: ../src/defaults.c:2445
+#, c-format
+msgid "%s: modifier key %s is not valid"
+msgstr "%s: ìîäèôèêàòîðúò %s íå å èçâåñòåí"
+
+# ../src/defaults.c:2428
+#: ../src/defaults.c:2477
+#, c-format
+msgid "could not load image in option %s: %s"
+msgstr "íå ìîæå äà áúäå çàðåäåíî èçîáðàæåíèåòî îò ïàðàìåòúðà %s: %s"
+
+# ../src/defaults.c:2547
+#: ../src/defaults.c:2594
+#, c-format
+msgid "failed to open bitmap file \"%s\""
+msgstr "íåóñïåøíî çàðåæäàíåòî íà ôàéëà ñ êàðòèíêà \"%s\""
+
+# ../src/defaults.c:2550
+#: ../src/defaults.c:2597
+#, c-format
+msgid "\"%s\" is not a valid bitmap file"
+msgstr "\"%s\" íå å âàëèäíî èìå íà ôàéë ñ êàðòèíêà"
+
+# ../src/defaults.c:2553
+#: ../src/defaults.c:2600
+#, c-format
+msgid "out of memory reading bitmap file \"%s\""
+msgstr "èç÷åðïâàíå íà ïàìåòòà ïðè ÷åòåíå íà êàðòèíêàòà \"%s\""
+
+# ../src/defaults.c:2597 ../src/defaults.c:2639
+#: ../src/defaults.c:2639 ../src/defaults.c:2672
+msgid "bad number of arguments in cursor specification"
+msgstr "íåïðàâèëåí áðîé àðãóìåíòè ïðè îïðåäåëÿíå íà êóðñîð"
+
+# ../src/defaults.c:2617
+#: ../src/defaults.c:2655
+#, c-format
+msgid "unknown builtin cursor name \"%s\""
+msgstr "íåïîçíàòî èìå íà âãðàäåí êóðñîð \"%s\""
+
+# ../src/defaults.c:2651 ../src/defaults.c:2665
+#: ../src/defaults.c:2682 ../src/defaults.c:2694
+#, c-format
+msgid "could not find cursor bitmap file \"%s\""
+msgstr "íå ìîæå äà ñå îòêðèå êàðòèíêàòà çà êóðñîð \"%s\""
+
+# ../src/defaults.c:2715
+#: ../src/defaults.c:2741
+#, c-format
+msgid "Error in cursor specification for key \"%s\""
+msgstr "Ãðåøêà ïðè îïðåäåëÿíå íà êóðñîð â êëþ÷à \"%s\""
+
+# ../src/defaults.c:2805
+#: ../src/defaults.c:2826
+msgid "could not render texture for icon background"
+msgstr "òåêñòóðàòà çà ôîí íå ìîæå äà áúäå èçîáðàçåíà"
+
+#: ../src/dialog.c:157
+msgid "Save workspace state"
+msgstr "Äà ñå çàïàçè ñúñòîÿíèåòî"
+
+# ../src/dialog.c:122 ../src/dialog.c:581 ../src/dock.c:547
+# ../src/dockedapp.c:376 ../src/rootmenu.c:188 ../src/rootmenu.c:226
+# ../src/rootmenu.c:240
+#: ../src/dialog.c:201 ../src/dialog.c:758 ../src/dock.c:558
+#: ../src/dockedapp.c:431 ../src/rootmenu.c:198 ../src/rootmenu.c:248
+#: ../src/rootmenu.c:264
+msgid "Cancel"
+msgstr "Îòìåíÿì"
+
+# 
+# ../src/dialog.c:225
+#: ../src/dialog.c:299
+msgid "Could not open directory "
+msgstr "Íå ìîæå äà áúäå îòâîðåíà äèðåêòîðèÿòà "
+
+# ../src/dialog.c:280
+#: ../src/dialog.c:354
+msgid "Could not load image file "
+msgstr "Íå ìîæå äà áúäå çàðåäåí ôàéë ñ êàðòèíêà "
+
+# ../src/dialog.c:509
+#: ../src/dialog.c:685
+msgid "Directories"
+msgstr "Äèðåêòîðèè"
+
+# ../src/dialog.c:518
+#: ../src/dialog.c:694
+msgid "Icons"
+msgstr "Èêîíêè"
+
+# ../src/dialog.c:551
+#: ../src/dialog.c:727
+msgid "Preview"
+msgstr "Ïðåãëåä"
+
+# 
+# ../src/dialog.c:564
+#: ../src/dialog.c:740
+msgid "File Name:"
+msgstr "Ôàéë:"
+
+# ../src/dialog.c:587
+#: ../src/dialog.c:764
+msgid "Choose File"
+msgstr "Èçáîð íà ôàéë"
+
+# ../src/dialog.c:604 ../src/dialog.c:606
+#: ../src/dialog.c:783 ../src/dialog.c:785
+msgid "Icon Chooser"
+msgstr "Èçáîð íà èêîíêà"
+
+#: ../src/dialog.c:1265 ../src/dialog.c:1375
+#, c-format
+msgid "Version %s"
+msgstr "Âåðñèÿ %s"
+
+#: ../src/dialog.c:1372
+msgid "Window Manager for X"
+msgstr "Àäìèíèñòðàòîð íà ïðîçîðöè"
+
+#: ../src/dialog.c:1397
+#, c-format
+msgid "Using visual 0x%x: %s %ibpp "
+msgstr "Èçïîëçâà ñå âèäåîðåæèì 0x%x: %s %i áàéòà/ïèêñåë "
+
+#: ../src/dialog.c:1405
+msgid "(32 thousand colors)\n"
+msgstr "(32 õèëÿäè öâÿòà)\n"
+
+#: ../src/dialog.c:1408
+msgid "(64 thousand colors)\n"
+msgstr "(64 õèëÿäè öâÿòà)\n"
+
+#: ../src/dialog.c:1412
+msgid "(16 million colors)\n"
+msgstr "(16 ìèëèîíà öâÿòà)\n"
+
+#: ../src/dialog.c:1415
+#, c-format
+msgid "(%d colors)\n"
+msgstr "(%d öâÿòà)\n"
+
+#: ../src/dialog.c:1425
+#, c-format
+msgid "Total allocated memory: %i kB. Total memory in use: %i kB.\n"
+msgstr "Çàäåëåíà ïàìåò: %i KB.  Óïîòðåáÿâàíà ïàìåò: %i KB.\n"
+
+#: ../src/dialog.c:1432
+msgid "Supported image formats: "
+msgstr "Ïîääúðæàíè ãðàôè÷íè ôîðìàòè: "
+
+#: ../src/dialog.c:1439
+msgid ""
+"\n"
+"Additional support for: "
+msgstr ""
+"\n"
+"Äîïúëíèòåëíà ïîääðúæêà çà: "
+
+#: ../src/dialog.c:1462
+msgid " and "
+msgstr " è "
+
+#: ../src/dialog.c:1472
+msgid ""
+"\n"
+"Sound disabled"
+msgstr "\nÎçâó÷àâàíåòî å èçêëþ÷åíî"
+
+#: ../src/dialog.c:1474
+msgid ""
+"\n"
+"Sound enabled"
+msgstr "\nÎçâó÷àâàíåòî å âêëþ÷åíî"
+
+# ../src/dockedapp.c:212
+#: ../src/dialog.c:1503
+msgid "Info"
+msgstr "Èíôîðìàöèÿ"
+
+#: ../src/dialog.c:1527
+msgid "Merry Christmas!"
+msgstr "Âåñåëà Êîëåäà!"
+
+#: ../src/dialog.c:1597
+msgid ""
+"    Window Maker is free software; you can redistribute it and/or\n"
+"modify it under the terms of the GNU General Public License as\n"
+"published by the Free Software Foundation; either version 2 of the\n"
+"License, or (at your option) any later version.\n"
+"\n"
+"    Window Maker is distributed in the hope that it will be useful,\n"
+"but WITHOUT ANY WARRANTY; without even the implied warranty\n"
+"of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n"
+"See the GNU General Public License for more details.\n"
+"\n"
+"    You should have received a copy of the GNU General Public\n"
+"License along with this program; if not, write to the Free Software\n"
+"Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n"
+"02111-1307, USA."
+msgstr ""
+"    Óèíäîó Ìåéêúð å ñâîáîäåí ñîôòóåð; ìîæå äà ãî ðàçïðîñòðàíÿâàòå è/èëè\n"
+"èçìåíÿòå ñúãëàñíî óñëîâèÿòà íà Îñíîâíàòà îáùîäîñòúïíà ëèöåíçèÿ ÃÍÓ,\n"
+"êàêòî òÿ å ïóáëèêóâàíà îò Free Software Foundation, èëè âåðñèÿ 2 íà\n"
+"ëèöåíçèÿòà, èëè (àêî æåëàåòå) êîÿ äà å ñëåäâàùà âåðñèÿ.\n"
+"\n"
+"    Óèíäîó Ìåéêúð ñå ðàçïðîñòðàíÿâà ñ íàäåæäàòà, ÷å ùå áúäå ïîëåçåí, íî\n"
+"ÁÅÇ ÍÈÊÀÊÂÈ ÃÀÐÀÍÖÈÈ, áåç äîðè ïîäðàçáèðàùàòà ñå ãàðàíöèÿ çà\n"
+"ÏÎËÅÇÍÎÑÒ èëè ÏÐÈÃÎÄÍÎÑÒ ÇÀ ÍßÊÀÊÂÀ ÖÅË.  Âèæòå Îñíîâíàòà\n"
+"îáùîäîñòúïíà ëèöåíçèÿ ÃÍÓ çà ïîâå÷å ïîäðîáíîñòè.\n"
+"\n"
+"    Áè òðÿáâàëî à ñòå ïîëó÷èëè êîïèå íà Îñíîâíàòà îáùîäîñòúïíà\n"
+"ëèöåíçèÿ ÃÍÓ (GNU General Public License) çàåäíî ñ òàçè ïðîãðàìà; â\n"
+"ïðîòèâåí ñëó÷àé ïèøåòå äî Free Software Foundation, Inc., 59 Temple\n"
+"Place - Suite 330, Boston, MA 02111-1307, USA."
+
+#: ../src/dialog.c:1621
+msgid "Legal"
+msgstr "Ïðàâî"
+
+# ../src/dialog.c:1515 ../src/startup.c:328
+#: ../src/dialog.c:1773 ../src/startup.c:394
+msgid "cannot open connection for crashing dialog panel. Aborting."
+msgstr ""
+"íå ìîæå äà ñå îñúùåñòâè âðúçêà ñ ïàíåëà çà àâàðèåí äèàëîã. Ïðåêðàòÿâàíå íà "
+"ðàáîòàòà."
+
+# ../src/dialog.c:1541
+#: ../src/dialog.c:1799
+msgid "Fatal error"
+msgstr "Êðèòè÷íà ãðåøêà"
+
+# ../src/dialog.c:1552
+#: ../src/dialog.c:1810
+#, c-format
+msgid ""
+"Window Maker received signal %i\n"
+"(%s)."
+msgstr ""
+"Óèíäîó Ìåéêúð ïîëó÷è ñèãíàë %i\n"
+"(%s)."
+
+# ../src/dialog.c:1555
+#: ../src/dialog.c:1813
+#, c-format
+msgid "Window Maker received signal %i."
+msgstr "Óèíäîó Ìåéêúð ïîëó÷è ñèãíàë %i."
+
+# ../src/dialog.c:1564
+#: ../src/dialog.c:1822
+msgid ""
+" This fatal error occured probably due to a bug. Please fill the included "
+"BUGFORM and report it to bugs@windowmaker.org."
+msgstr "Âúçíèêíàëàòà êðèòè÷íà ãðåøêà âåðîÿòíî ñå äúëæè íà ïðîãðàìåí äåôåêò. Ìîëÿ ïîïúëíåòå ôîðìóëÿðà îò ôàéëà BUGFORM è ãî èçïðàòåòå íà àäðåñ bugs@windowmaker.org."
+
+# ../src/dialog.c:1572
+#: ../src/dialog.c:1831
+msgid "What do you want to do now?"
+msgstr "Êàêâî äà ñå ïðàâè ñåãà?"
+
+# ../src/dialog.c:1578
+#: ../src/dialog.c:1837
+msgid "Select action"
+msgstr "Èçáîð íà äåéñòâèå"
+
+# ../src/dialog.c:1579
+#: ../src/dialog.c:1838
+msgid "Abort and leave a core file"
+msgstr "Ïðåêúñíè è îñòàâè core-ôàéë"
+
+# ../src/dialog.c:1580
+#: ../src/dialog.c:1839
+msgid "Restart Window Maker"
+msgstr "Ðåñòàðòèðàé Óèíäîó Ìåéêúð"
+
+# ../src/dialog.c:1581
+#: ../src/dialog.c:1840
+msgid "Start alternate window manager"
+msgstr "Ñòàðòèðàé äðóã àäìèíèñòðàòîð íà ïðîçîðöèòå"
+
+#: ../src/dialog.c:2018
+msgid ""
+"Window Maker is part of the GNUstep project.\n"
+"The GNUstep project aims to create a free\n"
+"implementation of the OpenStep(tm) specification\n"
+"which is a object-oriented framework for\n"
+"creating advanced graphical, multi-platform\n"
+"applications. Additionally, a development and\n"
+"user desktop enviroment will be created on top\n"
+"of the framework. For more information about\n"
+"GNUstep, please visit: www.gnustep.org"
+msgstr ""
+"Óèíäîó Ìåéêúð å ÷àñò îò ïðîåêòà ÃÍÓñòåï.\n"
+"Ïðîåêòúò ÃÍÓñòåï èìà çà öåë äà ñúçäàäå ñâîáîäíà\n"
+"ðåàëèçàöèÿ íà ñòàíäàðòà OpenStep, ïðåäñòàâëÿâàù\n"
+"îáåêòíîîðèåíòèðàíà ñðåäà çà ñúçäàâàíå íà ðàçíî-\n"
+"îáðàçíè ãðàôè÷íè è ìóëòèïëàòôîðìåíè ïðèëîæåíèÿ.\n"
+"Íà òàçè îñíîâà ùå áúäå ñúçäàäåíà è èíòåãðèðàíà\n"
+"ïîòðåáèòåëñêà ñðåäà.  Çà ïîâå÷å èíôîðìàöèÿ\n"
+"îòíîñíî ÃÍÓñòåï, ìîëÿ ïîñåòåòå www.gnustep.org"
+
+#: ../src/dialog.c:2041
+msgid "About GNUstep"
+msgstr "Îòíîñíî ÃÍÓñòåï"
+
+# Ñìåíèõ "çàäàéòå" íà "èçáåðåòå" îò ñòèëèñòè÷íè ñúîáðàæåíèÿ (À.Ç.)
+# ../src/dock.c:213
+#: ../src/dock.c:213
+#, c-format
+msgid "Type the name for workspace %i:"
+msgstr "Èçáåðåòå èìå çà ðàáîòíî ìÿñòî %i:"
+
+# Òóê Workspace íå å ïðåâåäåíî, çàùîòî ñòàâà ìíîãî äúëãî è íå ñå ïîáèðà.(À.Ç.)
+# ../src/dock.c:214 ../src/dock.c:1123 ../src/dock.c:1126 ../src/dock.c:3381
+#: ../src/dock.c:214 ../src/dock.c:1142 ../src/dock.c:1145 ../src/dock.c:3410
+msgid "Rename Workspace"
+msgstr "Ïðåèìåíóâàíå"
+
+# ../src/dock.c:509 ../src/dock.c:517
+#: ../src/dock.c:520 ../src/dock.c:528
+msgid "Warning"
+msgstr "Âíèìàíèå!"
+
+# ../src/dock.c:510
+#: ../src/dock.c:521
+msgid ""
+"Some icons cannot be made omnipresent. Please make sure that no other icon "
+"is docked in the same positions on the other workspaces and the Clip is not "
+"full in some workspace."
+msgstr ""
+"Íÿêîè èêîíêè íå ìîæå äà ñå íàïðàâÿò âåçäåñúùíè. Ìîëÿ, óáåäåòå ñå, ÷å íèêîÿ "
+"äðóãà èêîíêà íå å ñêà÷åíà íà ñúùîòî ìÿñòî â äðóãèòå ðàáîòíè ìåñòà è ÷å "
+"Êëàìåðúò íå å ïúëåí â íÿêîå ðàáîòíî ìÿñòî."
+
+# "âåçäåñúùíè" - "âñåïðèñúñòâàùè", "âñåïðèñúñòâåíè"? Ïðåêàëåíî äúëãè äóìè÷êè. (Á.É.)
+# ../src/dock.c:518
+#: ../src/dock.c:529
+msgid ""
+"Icon cannot be made omnipresent. Please make sure that no other icon is "
+"docked in the same position on the other workspaces and the Clip is not full "
+"in some workspace."
+msgstr "Èêîíêàòà íå ìîæå äà ñå íàïðàâè âåçäåñúùíà. Ìîëÿ óáåäåòå ñå, ÷å íèêîÿ äðóãà èêîíêà íå å ñêà÷åíà íà ñúùîòî ìÿñòî â íÿêîå äðóãî ðàáîòíî ìÿñòî è ÷å Êëàìåðúò íå å ïðåïúëíåí â íÿêîå ðàáîòíî ìÿñòî."
+
+# ../src/dock.c:545
+#: ../src/dock.c:556
+msgid "Workspace Clip"
+msgstr "Êëàìåð"
+
+# ../src/dock.c:546
+#: ../src/dock.c:557
+msgid "All selected icons will be removed!"
+msgstr "Âñè÷êè ìàðêèðàíè èêîíêè ùå áúäàò îòñòðàíåíè!"
+
+# ../src/dock.c:597 ../src/dock.c:1138 ../src/dock.c:1140 ../src/dock.c:3417
+#: ../src/dock.c:608 ../src/dock.c:1157 ../src/dock.c:1159 ../src/dock.c:3446
+msgid "Keep Icon"
+msgstr "Çàïàçè èêîíêàòà"
+
+# 
+# ../src/dock.c:598 ../src/dock.c:2120 ../src/dock.c:2254
+#: ../src/dock.c:609 ../src/dock.c:2138 ../src/dock.c:2279
+msgid "Type the command used to launch the application"
+msgstr "Âúâåäåòå êîìàíäàòà çà ñòàðòèðàíå íà ïðèëîæåíèåòî"
+
+# 
+# ../src/dock.c:949
+#: ../src/dock.c:965
+#, c-format
+msgid "could not launch application %s\n"
+msgstr "íå ìîæå äà ñå ñòàðòèðà ïðèëîæåíèåòî %s\n"
+
+# ../src/dock.c:1004
+#: ../src/dock.c:1020
+msgid "could not create workspace submenu for Clip menu"
+msgstr "íå ìîæå äà ñå íàïðàâè ïîäìåíþ ñ ðàáîòíèòå ìåñòà â ìåíþòî íà Êëàìåð"
+
+# ../src/dock.c:1066
+#: ../src/dock.c:1079
+msgid "could not create options submenu for Clip menu"
+msgstr "íå ìîæå äà ñå íàïðàâè ïîäìåíþ çà íàñòðîéêè â ìåíþòî íà Êëàìåð"
+
+# ../src/dock.c:1027 ../src/dock.c:1070 ../src/dock.c:1115 ../src/dock.c:3361
+#: ../src/dock.c:1083 ../src/dock.c:1131
+msgid "Keep on Top"
+msgstr "Âèíàãè îòãîðå"
+
+# ../src/dock.c:1073
+#: ../src/dock.c:1089
+msgid "Collapsed"
+msgstr "Ñâèò"
+
+# ../src/dock.c:1079
+#: ../src/dock.c:1095
+msgid "Autocollapse"
+msgstr "Äà ñå ñâèâà àâòîìàòè÷íî"
+
+# ../src/dock.c:1085
+#: ../src/dock.c:1101
+msgid "Autoraise"
+msgstr "Äà èçïëóâà àâòîìàòè÷íî"
+
+# ../src/dock.c:1091
+#: ../src/dock.c:1107
+msgid "Autoattract Icons"
+msgstr "Äà ïðèâëè÷à èêîíêèòå"
+
+# ../src/dock.c:1118
+#: ../src/dock.c:1137
+msgid "Clip Options"
+msgstr "Ïðåäïî÷èòàíèÿ çà Êëàìåð"
+
+# ../src/dock.c:1128
+#: ../src/dock.c:1147
+msgid "Selected"
+msgstr "Ìàðêèðàé ÿ"
+
+# ../src/dock.c:1133 ../src/dock.c:1136 ../src/dock.c:3408
+#: ../src/dock.c:1152 ../src/dock.c:1155 ../src/dock.c:3437
+msgid "Select All Icons"
+msgstr "Ìàðêèðàé âñè÷êè èêîíêè"
+
+# ../src/dock.c:1142 ../src/dock.c:1144 ../src/dock.c:3425
+#: ../src/dock.c:1161 ../src/dock.c:1163 ../src/dock.c:3454
+msgid "Move Icon To"
+msgstr "Ïðåìåñòè èêîíêàòà â"
+
+# ../src/dock.c:1149 ../src/dock.c:1152 ../src/dock.c:3436
+#: ../src/dock.c:1168 ../src/dock.c:1171 ../src/dock.c:3465
+msgid "Remove Icon"
+msgstr "Ìàõíè èêîíêàòà"
+
+# ../src/dock.c:1154
+#: ../src/dock.c:1173
+msgid "Attract Icons"
+msgstr "Ïðèâëå÷è èêîíêèòå"
+
+# ../src/dock.c:1157
+#: ../src/dock.c:1176
+msgid "Launch"
+msgstr "Ñòàðòèðàé"
+
+# ../src/dock.c:1165
+#: ../src/dock.c:1184
+msgid "Settings..."
+msgstr "Íàñòðîéêè..."
+
+# ../src/dock.c:1524 ../src/dock.c:1627
+#: ../src/dock.c:1549 ../src/dock.c:1656
+#, c-format
+msgid "bad value in docked icon state info %s"
+msgstr "íåïðàâèëíà ñòîéíîñò çà ñúñòîÿíèå íà ñêà÷åíà èêîíêà %s"
+
+# ../src/dock.c:1635
+#: ../src/dock.c:1664
+#, c-format
+msgid "bad value in docked icon position %i,%i"
+msgstr "íåïðàâèëíî ìåñòîïîëîæåíèå %i,%i íà ñêà÷åíà èêîíêà"
+
+# ../src/dock.c:1524 ../src/dock.c:1627
+#: ../src/dock.c:1684
+#, c-format
+msgid "bad value in dock state info:%s"
+msgstr "íåïðàâèëíà ñòîéíîñò çà ñúñòîÿíèå íà Äîêà: %s"
+
+# ../src/dock.c:1887
+#: ../src/dock.c:1920
+msgid "there are too many icons stored in dock. Ignoring what doesn't fit"
+msgstr "èìà òâúðäå ìíîãî èêîíêè â Äîêà è íÿêîè íå ñå ïîáèðàò â ðàáîòíîòî ìÿñòî"
+
+# ../src/dock.c:2119 ../src/dock.c:2253
+#. icon->forced_dock = 1;
+#: ../src/dock.c:2137 ../src/dock.c:2278
+msgid "Dock Icon"
+msgstr "Ñêà÷âàíå íà èêîíêà"
+
+# ../src/dock.c:3284 ../src/dock.c:3288
+#: ../src/dock.c:3324
+#, c-format
+msgid "Could not execute command \"%s\""
+msgstr "Íå ìîæå äà ñå èçïúëíè êîìàíäàòà \"%s\""
+
+# ../src/dock.c:3387
+#: ../src/dock.c:3416
+msgid "Toggle Omnipresent"
+msgstr "Ñìåíè âåçäåñúùíîñòòà"
+
+# Èçíåíàäà: "omnipresent" ñå èçïîëçâà êàêòî çà èêîíêà, òàêà è çà ïðîçîðåö.
+# Çàòîâà íå ìîæå íèòî "âåçäåñúùåí", íèòî "âåçäåñúùíà" è ñúì èçïîëçâàë
+# áåçëè÷íîòî "âåçäåñúùíîñò". (À.Ç.)
+# ../src/dock.c:3392 ../src/winmenu.c:421 ../src/winspector.c:1380
+#: ../src/dock.c:3421 ../src/kwm.c:637 ../src/winmenu.c:418
+#: ../src/winspector.c:1375
+msgid "Omnipresent"
+msgstr "Âåçäåñúùíîñò"
+
+# ../src/dock.c:3406
+#: ../src/dock.c:3435
+msgid "Unselect All Icons"
+msgstr "Ðàçìàðêèðàé èêîíêèòå"
+
+# ../src/dock.c:3415
+#: ../src/dock.c:3444
+msgid "Keep Icons"
+msgstr "Çàïàçè èêîíêèòå"
+
+# ../src/dock.c:3423
+#: ../src/dock.c:3452
+msgid "Move Icons To"
+msgstr "Ïðåìåñòè èêîíêèòå â"
+
+# ../src/dock.c:3434
+#: ../src/dock.c:3463
+msgid "Remove Icons"
+msgstr "Îòñòðàíè èêîíêèòå"
+
+# ../src/dock.c:3465
+#: ../src/dock.c:3494 ../src/kwm.c:643
+msgid "Bring Here"
+msgstr "Äîíåñè òóê"
+
+# ../src/dockedapp.c:131
+#: ../src/dockedapp.c:149
+#, c-format
+msgid "could not find icon %s, used in a docked application"
+msgstr "èêîíêàòà %s, èçïîëçâàíà îò ïðèëîæåíèåòî, íå ìîæå äà áúäå îòêðèòà"
+
+# 
+# ../src/dockedapp.c:210
+#: ../src/dockedapp.c:229
+#, c-format
+msgid "Could not open specified icon file: %s"
+msgstr "Èêîíêàòà \"%s\" íå ìîæå äà áúäå çàðåäåíà"
+
+# ../src/dockedapp.c:212
+#: ../src/dockedapp.c:231
+msgid "Ignore"
+msgstr "Ïðîïóñíè"
+
+# ../src/dockedapp.c:305
+#: ../src/dockedapp.c:333
+msgid "Start when Window Maker is started"
+msgstr "Äà ñå ñòàðòèðà àâòîìàòè÷íî â íà÷àëîòî"
+
+# ../src/dockedapp.c:312
+#: ../src/dockedapp.c:340
+msgid "Lock (prevent accidental removal)"
+msgstr "Äà ñå ïðåäïàçâà îò íåâîëíî ìàõàíå"
+
+# 
+# ../src/dockedapp.c:318
+#: ../src/dockedapp.c:344
+msgid "Application path and arguments"
+msgstr "Ïúò êúì ïðèëîæåíèåòî è àðãóìåíòè"
+
+#: ../src/dockedapp.c:357
+msgid "Command for middle-click launch"
+msgstr "Êîìàíäà çà ïóñêàíå ñúñ ñðåäåí áóòîí"
+
+# ../src/dockedapp.c:341
+#: ../src/dockedapp.c:371
+#, c-format
+msgid "%s will be replaced with current selection"
+msgstr "%s ùå áúäå çàìåíåíî ñ òåêóùèÿ èçáîð"
+
+# ../src/dockedapp.c:329
+#: ../src/dockedapp.c:376
+msgid "Command for files dropped with DND"
+msgstr "Êîìàíäà çà ïóñíàòè ôàéëîâå"
+
+# ../src/dockedapp.c:341
+#: ../src/dockedapp.c:390
+#, c-format
+msgid "%d will be replaced with the file name"
+msgstr "%d ùå ñå çàìåíÿ ñ èìåòî íà ôàéëà"
+
+# ../src/dockedapp.c:345
+#: ../src/dockedapp.c:394
+msgid "DND support was not compiled in"
+msgstr "ïîääðúæêàòà çà DND íå å êîìïèëèðàíà"
+
+# ../src/dockedapp.c:351
+#: ../src/dockedapp.c:399
+msgid "Icon Image"
+msgstr "Èêîíêà"
+
+# ../src/dockedapp.c:363 ../src/winspector.c:1518
+#: ../src/dockedapp.c:413 ../src/winspector.c:1513
+msgid "Browse..."
+msgstr "Èçáåðè..."
+
+# 
+# ../src/dockedapp.c:408
+#: ../src/dockedapp.c:466
+msgid "Docked Application Settings"
+msgstr "Íàñòðîéêè çà ñêà÷åíî ïðèëîæåíèå"
+
+# ../src/framewin.c:655 ../src/framewin.c:750 ../src/menu.c:458
+# ../src/texture.c:549
+#: ../src/framewin.c:649 ../src/framewin.c:744 ../src/menu.c:456
+#: ../src/texture.c:594
+#, c-format
+msgid "could not render texture: %s"
+msgstr "òåêñòóðàòà %s íå ìîæå äà áúäå èçîáðàçåíà"
+
+# ../src/framewin.c:678 ../src/framewin.c:689 ../src/framewin.c:705
+# ../src/framewin.c:716 ../src/framewin.c:723 ../src/framewin.c:730
+# ../src/icon.c:350 ../src/menu.c:487
+#: ../src/framewin.c:672 ../src/framewin.c:683 ../src/framewin.c:699
+#: ../src/framewin.c:710 ../src/framewin.c:717 ../src/framewin.c:724
+#: ../src/icon.c:350 ../src/menu.c:485
+#, c-format
+msgid "error rendering image:%s"
+msgstr "ãðåøêà ïðè èçîáðàçÿâàíå íà %s"
+
+# ../src/framewin.c:783
+#: ../src/framewin.c:777
+#, c-format
+msgid "error rendering image: %s"
+msgstr "ãðåøêà ïðè èçîáðàçÿâàíå íà %s"
+
+# ../src/session.c:1023
+#: ../src/gnome.c:216 ../src/gnome.c:343 ../src/gnome.c:401
+msgid "out of memory while updating GNOME hints"
+msgstr "èç÷åðïàíà ïàìåò ïðè àêòóàëèçèðàíå íà GNOME hints"
+
+# ../src/icon.c:229 ../src/wdefaults.c:435
+#: ../src/icon.c:229 ../src/wdefaults.c:443
+#, c-format
+msgid "error loading image file \"%s\""
+msgstr "ãðåøêà ïðè çàðåæäàíå íà ôàéëà ñ êàðòèíêà \"%s\""
+
+# 
+# ../src/icon.c:488 ../src/icon.c:497
+#: ../src/icon.c:493 ../src/icon.c:502
+#, c-format
+msgid "could not create directory %s"
+msgstr "íå ìîæå äà ñå ñúçäàäå äèðåêòîðèÿ %s"
+
+# ../src/icon.c:764
+#: ../src/icon.c:769
+#, c-format
+msgid "could not find default icon \"%s\""
+msgstr "íå ìîæå äà ñå çàðåäè ïîäðàçáèðàùàòà ñå èêîíêà \"%s\""
+
+# ../src/icon.c:770
+#: ../src/icon.c:775
+#, c-format
+msgid "could not load default icon \"%s\":%s"
+msgstr "íå ìîæå äà ñå çàðåäè ïîäðàçáèðàùàòà ñå èêîíêà (\"%s\"): %s"
+
+# ../src/winmenu.c:444 ../src/winmenu.c:579
+#.
+#. * Warning: If you make some change that affects the order of the
+#. * entries, you must update the command #defines in the top of
+#. * this file.
+#.
+#: ../src/kwm.c:633 ../src/winmenu.c:441 ../src/winmenu.c:583
+msgid "Maximize"
+msgstr "Ìàêñèìèçèðàé"
+
+# ../src/winmenu.c:574
+#: ../src/kwm.c:634 ../src/winmenu.c:578
+msgid "Unmaximize"
+msgstr "Íàìàëè"
+
+# ../src/winmenu.c:452 ../src/winmenu.c:565
+#: ../src/kwm.c:635 ../src/winmenu.c:449 ../src/winmenu.c:569
+msgid "Miniaturize"
+msgstr "Ìèíèìèçèðàé"
+
+# ../src/winmenu.c:560
+#: ../src/kwm.c:636 ../src/winmenu.c:564
+msgid "Deminiaturize"
+msgstr "Óãîëåìè"
+
+# Èçíåíàäà: "omnipresent" ñå èçïîëçâà êàêòî çà èêîíêà, òàêà è çà ïðîçîðåö.
+# Çàòîâà íå ìîæå íèòî "âåçäåñúùåí", íèòî "âåçäåñúùíà" è ñúì èçïîëçâàë
+# áåçëè÷íîòî "âåçäåñúùíîñò". (À.Ç.)
+# ../src/dock.c:3392 ../src/winmenu.c:421 ../src/winspector.c:1380
+#: ../src/kwm.c:638
+msgid "Not Omnipresent"
+msgstr "Íå âåçäåñúùåí"
+
+# ../src/winmenu.c:493
+#: ../src/kwm.c:639
+msgid "Move"
+msgstr "Ïðåìåñòâàíå"
+
+# ../src/winmenu.c:477
+#: ../src/kwm.c:640
+msgid "Resize"
+msgstr "Ïðåîðàçìåðÿâàíå"
+
+# ../src/rootmenu.c:226 ../src/winmenu.c:509
+#.
+#. entry = wMenuAddCallback(menu, _("Select Shortcut"), NULL, NULL);
+#. wMenuEntrySetCascade(menu, entry, makeMakeShortcutMenu(scr));
+#.
+#: ../src/kwm.c:641 ../src/rootmenu.c:248 ../src/winmenu.c:513
+msgid "Close"
+msgstr "Çàòâîðè"
+
+# ../src/winmenu.c:493
+#: ../src/kwm.c:642 ../src/winmenu.c:497
+msgid "Move To"
+msgstr "Ïðåìåñòè íà..."
+
+#: ../src/kwm.c:1096
+msgid "%a(Run Command,Type the command to run:)"
+msgstr "%a(Èçïúëíè êîìàíäà,Âúâåäåòå êîìàíäàòà, êîÿòî äà ñå èçïúëíè:)"
+
+# ../src/main.c:204
+#: ../src/main.c:222
+msgid "failed to restart Window Maker."
+msgstr "ðåñòàðòèðàíåòî íà Óèíäîó Ìåéêúð áå íåóñïåøíî."
+
+# ../src/main.c:207
+#: ../src/main.c:225
+#, c-format
+msgid "could not exec %s"
+msgstr "íå ìîæå äà ñå èçïúëíè %s"
+
+# ../src/main.c:252
+#: ../src/main.c:271
+msgid "Could not execute command: "
+msgstr "Íå ìîæå äà ñå èçïúëíè êîìàíäàòà "
+
+# ../src/main.c:409
+#: ../src/main.c:428
+#, c-format
+msgid "%s aborted.\n"
+msgstr "%s å ïðåêúñíàòî àâàðèéíî.\n"
+
+# ../src/main.c:420
+#: ../src/main.c:439
+#, c-format
+msgid "Usage: %s [options]\n"
+msgstr "Óïîòðåáà: %s [îïöèè]\n"
+
+# ../src/main.c:421
+#: ../src/main.c:440
+msgid "The Window Maker window manager for the X window system"
+msgstr "Óèíäîó Ìåéêúð -- àäìèíèñòðàòîð íà ïðîçîðöèòå çà X Window"
+
+# ../src/main.c:423
+#: ../src/main.c:442
+msgid " -display host:dpy\tdisplay to use"
+msgstr " -display õîñò:äèñïëåé\täèñïëåé äà ñå èçïîëçâà"
+
+# "ïðåäïðîöåñîðíà"? - "ïðåäâàðèòåëíà" ìèñëÿ å ïî-äîáðå (Á.É.)
+# ../src/main.c:425
+#: ../src/main.c:444
+msgid " --no-cpp \t\tdisable preprocessing of configuration files"
+msgstr " --no-cpp \t\táåç ïðåäâàðèòåëíà îáðàáîòêà íà êîíôèãóðàöèîííèòå ôàéëîâå"
+
+# ../src/main.c:427
+#: ../src/main.c:446
+msgid " --no-dock\t\tdo not open the application Dock"
+msgstr " --no-dock\t\táåç Äîêà çà ïðèëîæåíèÿ"
+
+# ../src/main.c:428
+#: ../src/main.c:447
+msgid " --no-clip\t\tdo not open the workspace Clip"
+msgstr " --no-clip\t\táåç Êëàìåðà çà ðàáîòíèòå ìåñòà"
+
+# 
+# ../src/main.c:429
+#: ../src/main.c:448
+msgid " --no-autolaunch\tdo not autolaunch applications"
+msgstr " --no-autolaunch\täà íå ñå èçïúëíÿâàò ïðèëîæåíèÿòà"
+
+#: ../src/main.c:449
+msgid " --dont-restore\t\tdo not restore saved session"
+msgstr " --dont-restore\täà íå ñå âúçñòàíîâÿâà çàïàçåíàòà ñåñèÿ"
+
+# "ëîêàëà" - "ëîêàëèçàöèÿ" (Á.É.)
+#: ../src/main.c:451
+msgid " --locale locale\tlocale to use"
+msgstr " --locale ëîêàë \t\täà ñå èçïîëçâà ëîêàëúò<"
+
+#: ../src/main.c:453
+msgid ""
+" --create-stdcmap\tcreate the standard colormap hint in PseudoColor visuals"
+msgstr " --create-stdcmap\täà ñå ñúçäàäå ñòàíäàðòåí colormap hint ïðè PseudoColor"
+
+# ../src/main.c:434
+#: ../src/main.c:454
+msgid " --visual-id visualid\tvisual id of visual to use"
+msgstr ""
+" --visual-id visualid\tèçïîëçâàé ïîñî÷åíèÿ öâåòîâè êëàñ íà èçîáðàæåíèåòî"
+
+# ../src/main.c:435
+#: ../src/main.c:455
+msgid " --static\t\tdo not update or save configurations"
+msgstr " --static\t\tíå îáíîâÿâàé è íå çàïàçâàé êîíôèãóðàöèèòå"
+
+#: ../src/main.c:456
+msgid " --no-polling\t\tdo not periodically check for configuration updates"
+msgstr ""
+" --no-polling\täà íå ñå ïðîâåðÿâà ïåðìàíåíòíî çà ïðîìåíè â êîíôèãóðàöèÿòà."
+
+# ../src/main.c:437
+#: ../src/main.c:458
+msgid " --synchronous\t\tturn on synchronous display mode"
+msgstr " --synchronous\t\tâêëþ÷è ñèíõðîíåí ðåæèì çà èçâåæäàíå"
+
+# ../src/main.c:439
+#: ../src/main.c:460
+msgid " --version\t\tprint version and exit"
+msgstr " --version\t\tîòïå÷àòâà âåðñèÿòà è èçõîä"
+
+# ../src/main.c:440
+#: ../src/main.c:461
+msgid " --help\t\t\tshow this message"
+msgstr " --help\t\t\tïîêàçâà òîâà ñúîáùåíèå"
+
+# ../src/main.c:452
+#: ../src/main.c:474
+#, c-format
+msgid ""
+"could not find user GNUstep directory (%s).\n"
+"Make sure you have installed Window Maker correctly and run wmaker.inst"
+msgstr ""
+"íå ìîæå äà ñå îòêðèå ïîòðåáèòåëñêàòà äèðåêòîðèÿ GNUstep (%s).\n"
+"Óâåðåòå ñå, ÷å Óèíäîó Ìåéêúð å èíñòàëèðàí ïðàâèëíî è ñòàðòèðàéòå wmaker.inst"
+
+# 
+# ../src/icon.c:488 ../src/icon.c:497
+#: ../src/main.c:479
+#, c-format
+msgid "could not find user GNUstep directory (%s)."
+msgstr "íå ìîæå äà ñå ñúçäàäå ïîòðåáèòåëñêàòà äèðåêòîðèÿ GNUstep (%s)"
+
+# ../src/main.c:452
+#: ../src/main.c:482
+msgid ""
+"There was an error while creating GNUstep directory, please make sure you "
+"have installed Window Maker correctly and run wmaker.inst"
+msgstr ""
+"Ïîëó÷è ñå ãðåøêà ïðè ñúçäàâàíå íà ïîòðåáèòåëñêàòà äèðåêòîðèÿ GNUstep (%s).\n"
+"Óâåðåòå ñå, ÷å Óèíäîó Ìåéêúð å èíñòàëèðàí ïðàâèëíî è ñòàðòèðàéòå wmaker.inst"
+
+#: ../src/main.c:485
+#, c-format
+msgid "%s directory created with default configuration."
+msgstr "ñúçäàäåíà äèðåêòîðèÿ %s ñúñ ñòàíäàðòíèòå íàñòðîéêè."
+
+# [ start translation
+# Translated by: Boris Jordanov
+# ../src/main.c:473 ../src/main.c:478
+#: ../src/main.c:505 ../src/main.c:510
+#, c-format
+msgid "%s:could not execute initialization script"
+msgstr "%s: íå ìîæå äà áúäå èçïúëíåíà èíèöèàëèçèðàùàòà ïðîöåäóðà"
+
+# ../src/main.c:498 ../src/main.c:503
+#: ../src/main.c:528 ../src/main.c:533
+#, c-format
+msgid "%s:could not execute exit script"
+msgstr "%s: íå ìîæå äà áúäå èçïúëíåíà ïðîöåäóðàòà çà èçõîä"
+
+# Translated by: Boris Jordanov
+# [ end translation
+# ../src/main.c:619 ../src/main.c:626 ../src/main.c:634 ../src/main.c:650
+#: ../src/main.c:661 ../src/main.c:669 ../src/main.c:677 ../src/main.c:697
+#, c-format
+msgid "too few arguments for %s"
+msgstr "òâúðäå ìàëêî àðãóìåíòè çà %s"
+
+# ../src/main.c:638
+#: ../src/main.c:681
+#, c-format
+msgid "bad value for visualid: \"%s\""
+msgstr "íåïðàâèëíà ñòîéíîñò íà visualid: \"%s\""
+
+# 
+# ../src/main.c:658
+#: ../src/main.c:705
+#, c-format
+msgid "%s: invalid argument '%s'\n"
+msgstr "%s: íåïðàâèëåí àðãóìåíò \"%s\"\n"
+
+# ../src/main.c:659
+#: ../src/main.c:706
+#, c-format
+msgid "Try '%s --help' for more information\n"
+msgstr "Ïðîáâàéòå \"%s --help\" çà ïîâå÷å èíôîðìàöèÿ\n"
+
+# Íå ñúì óáåäåí, íî ìîæå áè òóê 'locale' çíà÷è íå ëîêàëèçàöèÿ, à êîíêðåòíèÿò èçïîëçâàí ëîêàë (íàïð bg_BG). (À.Ç.)
+# ../src/main.c:690
+#: ../src/main.c:737
+msgid "X server does not support locale"
+msgstr "Ëîêàëúò íå ñå ïîääúðæà îò X ñúðâúðà"
+
+# Ïàê íå ìè å ÿñíî çà êàêâî òî÷íî ñòàâà âúïðîñ è çà äà íå âúçíèêíàò
+# íåäîðàçóìåíèÿ çàìåíèõ 'ïàðàìåòðè íà ëîêàëèçàöèÿòà' ñ ïî-áóêâàëíîòî
+# 'ìîäèôèêàòîðè íà ëîêàëà'. (À.Ç.)  
+# ../src/main.c:694
+#: ../src/main.c:741
+msgid "cannot set locale modifiers"
+msgstr "íå ìîæå äà ñå çàäàäàò ìîäèôèêàòîðè íà ëîêàëà"
+
+# ../src/main.c:710
+#: ../src/main.c:757
+#, c-format
+msgid "could not open display \"%s\""
+msgstr "íå å äîñòúïåí äèñïëåÿ \"%s\""
+
+# 
+#: ../src/menu.c:1264
+msgid "could not grab keyboard"
+msgstr "íå ìîæå äà ñå ìîíîïîëèçèðà êëàâèàòóðàòà"
+
+# ../src/dock.c:1524 ../src/dock.c:1627
+#: ../src/menu.c:2578
+#, c-format
+msgid "bad value in menus state info:%s"
+msgstr "íåïðàâèëíà ñòîéíîñò çà ñúñòîÿíèå ìåíþ %s"
+
+# Translated by: Boris Jordanov
+# [ end translation
+#: ../src/misc.c:71
+#, c-format
+msgid "could not define value for %s for cpp"
+msgstr "íå ìîæå äà ñå äåôèíèðà ñòîéíîñò çà %s çà cpp"
+
+# Èìà ëè ñìèñúë UID äà ñå çàìåíè ñ "íîìåð", â ñìèñúë "... çà ïîòðåáèòåëÿ
+# ñ íîìåð(UID) "? (Á.É.)  
+# ../src/misc.c:101
+#: ../src/misc.c:101
+#, c-format
+msgid "could not get password entry for UID %i"
+msgstr "îò /etc/passwd íå ìîæå äà ñå ïîëó÷è èíôîðìàöèÿ çà ïîòðåáèòåëÿ ñ íîìåð (UID) %i"
+
+# ../src/misc.c:126
+#: ../src/misc.c:158
+#, c-format
+msgid "your machine is misconfigured. HOSTNAME is set to %s"
+msgstr "ñèñòåìàòà Âè å êîíôèãóðèðàíà íåïðàâèëíî. Êàòî HOSTNAME å ïîñî÷åíî %s"
+
+# ../src/misc.c:132
+#: ../src/misc.c:164
+#, c-format
+msgid "your machine is misconfigured. HOST is set to %s"
+msgstr "ñèñòåìàòà Âè å êîíôèãóðèðàíà íåïðàâèëíî. Êàòî HOST å ïîñî÷åíî %s"
+
+# ../src/misc.c:769
+#: ../src/misc.c:656
+msgid "Program Arguments"
+msgstr "Àðãóìåíòè íà ïðîãðàìàòà"
+
+# ../src/misc.c:770
+#: ../src/misc.c:657
+msgid "Enter command arguments:"
+msgstr "Âúâåäåòå àðãóìåíòè çà ïðîãðàìàòà:"
+
+# [ start translation
+# Translated by: Boris Jordanov
+# 
+# "ïóñíàòè" èëè "ñïóñíàòè"? äà ïðåâåäåì ëè DND?  Èëè äà áúäå
+# "... ïóñíàòè ñúñ(ñëåä, ÷ðåç) çàâëà÷âàíå (èçòåãëÿíå)" èëè íåùî îò ñîðòà
+# (Á.É.)  
+# ../src/misc.c:863
+#: ../src/misc.c:750
+msgid "unable to get dropped data from DND drop"
+msgstr "íåâúçìîæíîñò äà ñå ïîëó÷àò äàííèòå ïóñíàòè ÷ðåç DND"
+
+# ../src/misc.c:871
+#: ../src/misc.c:758
+msgid "error getting dropped data from DND drop"
+msgstr "ãðåøêà ïðè ïîëó÷àâàíå íà äàííèòå ñïóñíàòè ÷ðåç DND"
+
+# ../src/misc.c:877
+#: ../src/misc.c:764
+msgid "out of memory while getting data from DND drop"
+msgstr "èç÷åðïâàíå íà ïàìåòòà ïðè îïèò çà ïîëó÷àâàíå íà äàííè îò DND îïåðàöèÿ"
+
+# ../src/misc.c:922 ../src/misc.c:1062
+#: ../src/misc.c:809 ../src/misc.c:949
+#, c-format
+msgid "out of memory during expansion of \"%s\""
+msgstr "èç÷åðïâàíå íà ïàìåòòà ïðè ðàçøèðÿâàíå íà \"%s\""
+
+# ../src/misc.c:976
+#: ../src/misc.c:863
+msgid "out of memory during expansion of \"%w\""
+msgstr "èç÷åðïâàíå íà ïàìåòòà ïðè ðàçøèðÿâàíå íà \"%w\""
+
+# ../src/misc.c:994
+#: ../src/misc.c:881
+msgid "out of memory during expansion of \"%W\""
+msgstr "èç÷åðïâàíå íà ïàìåòòà ïðè ðàçøèðÿâàíå íà \"%W\""
+
+# ../src/misc.c:1010
+#: ../src/misc.c:897
+msgid "out of memory during expansion of \"%a\""
+msgstr "èç÷åðïâàíå íà ïàìåòòà ïðè ðàçøèðÿâàíå íà \"%a\""
+
+# ../src/misc.c:1041
+#: ../src/misc.c:928
+#, c-format
+msgid "out of memory during expansion of \"%d\""
+msgstr "èç÷åðïâàíå íà ïàìåòòà ïðè ðàçøèðÿâàíå íà \"%d\""
+
+# Translated by: Boris Jordanov
+# [ end translation
+# ../src/misc.c:1055
+#: ../src/misc.c:942
+msgid "selection not available"
+msgstr "íèùî íå å èçáðàíî (ìàðêèðàíî)"
+
+# ../src/misc.c:1127 ../src/misc.c:1133
+#: ../src/misc.c:998 ../src/misc.c:1004
+#, c-format
+msgid "bad window name value in %s state info"
+msgstr "íåïðàâèëíî èìå íà ïðîçîðåö â èíôîðìàöèàòà çà ñúñòîÿíèåòî íà Äîêà -- %s"
+
+# "...ïîìîùíèêà çà èçîáðàçÿâàíå íà ôîíà" ? (Á.É.) (âìåñòî "ïîìîùíèêà çà
+# èçîáðàæåíèå íà ôîí")
+# ../src/misc.c:1401
+#: ../src/misc.c:1261
+msgid "could not send message to background image helper"
+msgstr "íå ìîæå äà ñå èçïðàòè ñúîáùåíèå íà ïîìîùíèêà çà èçîáðàçÿâàíå íà ôîíà"
+
+# ../src/pixmap.c:235
+#: ../src/pixmap.c:235
+#, c-format
+msgid "could not load mask bitmap file \"%s\". Won't use mask"
+msgstr ""
+"íå ìîæå äà ñå çàðåäè ðàñòåðíà ìàñêà îò ôàéëà \"%s\". Ìàñêà íÿìà äà ñå "
+"èçïîëçâà"
+
+# ../src/resources.c:44
+#: ../src/resources.c:44
+#, c-format
+msgid "could not parse color \"%s\""
+msgstr "íå ìîæå äà ñå íàïðàâè ðàçáîð íà öâÿò: \"%s\""
+
+# ../src/resources.c:48
+#: ../src/resources.c:48
+#, c-format
+msgid "could not allocate color \"%s\""
+msgstr "íå ìîæå äà ñå çàäåëè öâÿò \"%s\""
+
+# ../src/rootmenu.c:186 ../src/rootmenu.c:188
+#: ../src/rootmenu.c:196 ../src/rootmenu.c:198
+msgid "Exit"
+msgstr "Èçõîä"
+
+# ../src/rootmenu.c:187
+#: ../src/rootmenu.c:197
+msgid "Exit window manager?"
+msgstr "Äà ñå èçëåçå ëè îò àäìèíèñòðàòîðà íà ïðîçîðöè?"
+
+# ../src/rootmenu.c:223
+#: ../src/rootmenu.c:245
+msgid "Close X session"
+msgstr "Êðàé íà ðàáîòàòà"
+
+# Âìåñòî "äà ñå çàòâîðè ëè" ìíîãî ïî-äîáðå áè áèëî "äà ñå ïðåêðàòè ëè", íî çà
+# ñúæàëåíèå òîâà âîäè äî êîëèçèÿ ïîðàäè äâîéíàòà óïîòðåáà íà "Close" îò
+# ñëåäâàùàòà ñòàòèÿ - "close the session" è "close a window". (À.Ç.)
+# À "Äà ñå ïðèêëþ÷è ëè ñåñèÿòà ñ ãðàôè÷íàòà ñðåäà?"? 
+# Èçîáùî "ïðèêëþ÷è" âìåñòî "óáèå" òàì, êúäåòî å âúçìîæíî? (Á.É.)
+# Íå âúðâè "ïðèêëþ÷è ïðîçîðåöà". (À.Ç.)
+# ../src/rootmenu.c:224
+#: ../src/rootmenu.c:246
+msgid ""
+"Close Window System session?\n"
+"Kill might close applications with unsaved data."
+msgstr ""
+"Äà ñå çàòâîðè ëè ñåñèÿòà ñ ãðàôè÷íàòà ñðåäà?\n"
+"Íåçàïàçåíèòå äàííè îò ïðèëîæåíèÿòà ìîæå äà ñå çàãóáÿò."
+
+# È òóê íå ìîæå "ïðåêðàòÿâàíå", òîçè ïúò çàðàäè áóòîíà "Kill", êîéòî ñúùî
+# ñå èçïîëçâà íà ìíîãî ìåñòà è çàòîâà òðÿáâà äà ñå ïðåâåäå êàòî "Óáèé". (À.Ç.)
+# ../src/rootmenu.c:237
+#: ../src/rootmenu.c:261
+msgid "Kill X session"
+msgstr "Óáèâàíå íà ñåñèÿòà"
+
+# ../src/rootmenu.c:238
+#: ../src/rootmenu.c:262
+msgid ""
+"Kill Window System session?\n"
+"(all applications will be closed)"
+msgstr ""
+"Äà ñå óáèå ëè ñåñèÿòà ñ ãðàôè÷íàòà ñðåäà?\n"
+"(Âñè÷êè ïðèëîæåíèÿ ùå áúäàò çàòâîðåíè.)"
+
+# ../src/rootmenu.c:505
+#: ../src/rootmenu.c:539
+#, c-format
+msgid "%s:invalid kbd shortcut specification \"%s\" for entry %s"
+msgstr "%s: îïðåäåëåíà å íåâÿðíà êëàâèøíà êîìáèíàöèÿ \"%s\" çà çàïèñ %s"
+
+# ../src/rootmenu.c:513
+#: ../src/rootmenu.c:547
+#, c-format
+msgid "%s:invalid key in shortcut \"%s\" for entry %s"
+msgstr "%s: ñãðåøåí êëàâèø â êëàâèøíàòà êîìáèíàöèÿ \"%s\" çà çàïèñ \"%s\""
+
+# ../src/rootmenu.c:566
+#: ../src/rootmenu.c:600
+#, c-format
+msgid "%s: unmatched '\"' in menu file"
+msgstr "%s: êàâè÷êà áåç íåéíà ñúîòâåòíà âúâ ôàéëà çà ìåíþ"
+
+# ../src/rootmenu.c:616
+#: ../src/rootmenu.c:650
+#, c-format
+msgid "%s: missing command"
+msgstr "%s: ëèïñâàùà êîìàíäà"
+
+# ../src/rootmenu.c:648
+#: ../src/rootmenu.c:682
+#, c-format
+msgid "invalid OPEN_MENU specification: %s"
+msgstr "íåâÿðíî îïðåäåëÿíå íà OPEN_MENU: %s"
+
+# ../src/rootmenu.c:696
+#: ../src/rootmenu.c:733
+#, c-format
+msgid "%s:could not stat menu"
+msgstr "%s: íå ìîæå äà ñå ïîëó÷è ìåíþ"
+
+# ../src/rootmenu.c:704
+#: ../src/rootmenu.c:741
+#, c-format
+msgid "%s:could not stat menu:%s"
+msgstr "%s: íå ìîæå äà ñå ïîëó÷è ìåíþ: %s"
+
+# ../src/rootmenu.c:722
+#: ../src/rootmenu.c:759
+#, c-format
+msgid "too many parameters in OPEN_MENU: %s"
+msgstr "òâúðäå ìíîãî ïàðàìåòðè â OPEN_MENU: %s"
+
+# ../src/rootmenu.c:758
+#: ../src/rootmenu.c:803
+msgid ""
+"There are more than one WORKSPACE_MENU commands in the applications menu. "
+"Only one is allowed."
+msgstr ""
+"Â ìåíþòî èìà ïîâå÷å îò åäíà êîìàíäà WORKSPACE_MENU. Äîïóñòèìà å ñàìî åäíà."
+
+# ../src/rootmenu.c:758
+#: ../src/rootmenu.c:837
+msgid ""
+"There are more than one WINDOWS_MENU commands in the applications menu. Only "
+"one is allowed."
+msgstr "Â ìåíþòî íà ïðèëîæåíèÿòà èìà ïîâå÷å îò åäíà êîìàíäà WORKSPACE_MENU. Äîïóñòèìà å ñàìî åäíà."
+
+#: ../src/rootmenu.c:842
+msgid "Window List"
+msgstr "Ñïèñúê íà ïðîçîðöèòå"
+
+# ../src/rootmenu.c:787 ../src/rootmenu.c:805 ../src/rootmenu.c:815
+#: ../src/rootmenu.c:871 ../src/rootmenu.c:889 ../src/rootmenu.c:899
+#, c-format
+msgid "%s:missing parameter for menu command \"%s\""
+msgstr "%s: ëèïñâàù ïàðàìåòúð çà êîìàíäàòà çà ìåíþ \"%s\""
+
+# ../src/rootmenu.c:879
+#: ../src/rootmenu.c:967
+#, c-format
+msgid "%s:unknown command \"%s\" in menu config."
+msgstr "%s: íåïîçíàòà êîìàíäà \"%s\" â êîíôèãóðàöèÿòà íà ìåíþòî."
+
+# ../src/rootmenu.c:887
+#: ../src/rootmenu.c:975
+#, c-format
+msgid "%s:can't add shortcut for entry \"%s\""
+msgstr "%s: íå ìîæå äà ñå äîáàâè êëàâèøíà êîìáèíàöèÿ çà êîìàíäàòà \"%s\""
+
+# ../src/rootmenu.c:1024
+#: ../src/rootmenu.c:1112
+#, c-format
+msgid "%s:maximal line size exceeded in menu config: %s"
+msgstr "%s: êîíôèãóðàöèÿòà íà ìåíþ %s íàäõâúðëè ìàêñèìàëíàòà äúëæèíà íà ðåä"
+
+# ../src/rootmenu.c:1046 ../src/rootmenu.c:1138 ../src/rootmenu.c:1239
+#: ../src/rootmenu.c:1134 ../src/rootmenu.c:1227 ../src/rootmenu.c:1330
+#, c-format
+msgid "%s:missing command in menu config: %s"
+msgstr "%s: ëèïñâàùà êîìàíäà â êîíôèãóðàöèÿòà íà ìåíþ: %s"
+
+# ../src/rootmenu.c:1076
+#: ../src/rootmenu.c:1164
+#, c-format
+msgid "%s:syntax error in menu file:END declaration missing"
+msgstr "%s: ñèíòàêòè÷íà ãðåøêà ïðè îïðåäåëÿíå íà ìåíþ: ëèïñâà äåêëàðàöèÿ END"
+
+# ../src/rootmenu.c:1105 ../src/rootmenu.c:1204
+#: ../src/rootmenu.c:1193 ../src/rootmenu.c:1294
+msgid "could not make arguments for menu file preprocessor"
+msgstr "íå ìîæå äà ñå ïîëîæàò àðãóìåíòè çà ïðåäïðîöåñîðà íà ôàéëà ìåíþ"
+
+# ../src/rootmenu.c:1111 ../src/rootmenu.c:1211
+#: ../src/rootmenu.c:1200 ../src/rootmenu.c:1302
+#, c-format
+msgid "%s:could not open/preprocess menu file"
+msgstr "%s: íå ìîæå äà ñå îòâîðè/îáðàáîòè îò ïðåäïðîöåñîðà ôàéëúò ìåíþ"
+
+# ../src/rootmenu.c:1123 ../src/rootmenu.c:1224
+#: ../src/rootmenu.c:1212 ../src/rootmenu.c:1315
+#, c-format
+msgid "%s:could not open menu file"
+msgstr "%s: íå ìîæå äà ñå îòâîðè ôàéëúò ìåíþ"
+
+# ../src/rootmenu.c:1150
+#: ../src/rootmenu.c:1239
+#, c-format
+msgid "%s:invalid menu file. MENU command is missing"
+msgstr "%s: ñãðåøåí ôàéë ìåíþ: ëèïñâà êîìàíäàòà MENU"
+
+# ../src/rootmenu.c:1159
+#: ../src/rootmenu.c:1248
+msgid "error reading preprocessed menu data"
+msgstr "ãðåøêà ïðè ÷åòåíå íà îáðàáîòåíèòå äàííè çà ìåíþ"
+
+# ../src/rootmenu.c:1251
+#: ../src/rootmenu.c:1342
+#, c-format
+msgid "%s:no title given for the root menu"
+msgstr "%s: íå å äàäåíî çàãëàâèå çà ãëàâíîòî ìåíþ"
+
+# [ start translation
+# Translated by: Boris Jordanov
+# ???????
+# ../src/rootmenu.c:1341 ../src/rootmenu.c:1416 ../src/rootmenu.c:1459
+#: ../src/rootmenu.c:1433 ../src/rootmenu.c:1506 ../src/rootmenu.c:1547
+#, c-format
+msgid "out of memory while constructing directory menu %s"
+msgstr "èç÷åðïâàíå íà ïàìåòòà ïðè ñúçäàâàíå íà äèðåêòîðíîòî ìåíþ %s"
+
+# ../src/rootmenu.c:1351
+#: ../src/rootmenu.c:1443
+#, c-format
+msgid "%s:could not stat file \"%s\" in menu directory"
+msgstr ""
+"%s:íå ìîæå äà ïîëó÷è ïàðàìåòðèòå íà ôàéëà \"%s\" â äèðåêòîðèÿòà íà ìåíþòî"
+
+# Translated by: Boris Jordanov - 10x Antoby
+# [ end translation
+# ../src/rootmenu.c:1513
+#: ../src/rootmenu.c:1601
+msgid "Commands"
+msgstr "Êîìàíäè"
+
+# ../src/rootmenu.c:1516
+#: ../src/rootmenu.c:1604
+msgid "Restart"
+msgstr "Ðåñòàðòèðàíå"
+
+# ../src/rootmenu.c:1517
+#: ../src/rootmenu.c:1605
+msgid "Exit..."
+msgstr "Èçõîä..."
+
+# [ Start Lyubo]
+# ../src/rootmenu.c:1562
+#: ../src/rootmenu.c:1650
+#, c-format
+msgid "could not find menu file \"%s\" referenced in WMRootMenu"
+msgstr "ìåíþ ôàéëúò \"%s\", ïîñî÷åí â WMRootMenu, íå ìîæå äà áúäå îòêðèò"
+
+# ../src/rootmenu.c:1569
+#: ../src/rootmenu.c:1657
+#, c-format
+msgid "could not access menu \"%s\" referenced in WMRootMenu"
+msgstr ""
+"äîñòúïúò äî ìåíþ \"%s\", ïîñî÷åíî â WMRootMenu, íå ìîæå äà áúäå îñúùåñòâåí"
+
+# ## variant [mislia po-dobur, no ne bukvalen]
+# "èçïîëçâàì ìåíþ ôàéë ïî ïîäðàçáèðàíå \"%s\", òúé êàòî óêàçàíèÿò â WMRootMenu, íå ìîæå "
+# "äà áúäå îòêðèò "
+# ../src/rootmenu.c:1580
+#: ../src/rootmenu.c:1668
+#, c-format
+msgid ""
+"using default menu file \"%s\" as the menu referenced in WMRootMenu could "
+"not be found "
+msgstr ""
+"ïî ïîäðàçáèðàíå ñå èçïîëçâà ìåíþ ôàéë \"%s\", òúé êàòî ìåíþòî, ïîñî÷åíî â "
+"WMRootMenu, íå ìîæå äà áúäå îòêðèòî "
+
+#: ../src/rootmenu.c:1691 ../src/rootmenu.c:1767
+#, c-format
+msgid "%s:format error in root menu configuration \"%s\""
+msgstr "%s:ñèíòàêòè÷íà ãðåøêà â êîíôèãóðàöèÿòà íà ãëàâíîòî ìåíþ \"%s\""
+
+# tuk triabva po smisul
+# ^Òîâà å îò Ëþáî
+# Çàìåíèõ "ìåíþòî ñ ïðèëîæåíèÿ" íà "ìåíþòî íà ïðèëîæåíèÿòà", çàùîòî íà äðóãèòå
+# ìåñòà å ïðåâåäåíî òàêà. (À.Ç.)
+#: ../src/rootmenu.c:1855
+msgid ""
+"The applications menu could not be loaded. Look at the console output for a "
+"detailed description of the errors."
+msgstr ""
+"Ìåíþòî íà ïðèëîæåíèÿòà íå ìîæå äà áúäå çàðåäåíî.  Ïîäðîáíà èíôîðìàöèÿ çà "
+"ãðåøêèòå ùå áúäå èçâåäåíà íà êîíçîëàòà"
+
+# :::>>>>> - 'context'? 
+# ^Òîâà å îò Ëþáî
+# Ùîì íå å ÿñíî êàêâî å "context", ìîæå è áåç íåãî. (À.Ç.)
+# ../src/screen.c:745
+#: ../src/screen.c:747
+#, c-format
+msgid "could not initialize graphics library context: %s"
+msgstr "Íåóñïåøíà èíèöèàëèçàöèÿ íà êîíòåêñòà íà ãðàôè÷íàòà áèáëèîòåêà: %s"
+
+# Áåøå òàêà ïîðàäè íåóñòàíîâåí ïðåâîä íà "widget set":
+# [íàáîðà | ãðóïàòà] îò [ïðèñïîñîáëåíèÿ | ïîìîùíè ïðîãðàìè | èíñòðóìåíòè]
+# WINGs íå ìîæå äà áúäå èíèöèàëèçèðàí
+# Çíà÷è ùå ìèíåì è áåç "widget set". (À.Ç.):
+# ../src/screen.c:776
+#: ../src/screen.c:778
+msgid "could not do initialization of WINGs widget set"
+msgstr "íåóñïåøíà èíèöèàëèçàöèÿ íà áèáëèîòåêàòà WINGs"
+
+# ../src/screen.c:1128
+#: ../src/screen.c:1144
+#, c-format
+msgid "could not save session state in %s"
+msgstr "ñúñòîÿíèåòî íà ñåñèÿòà íå ìîæå äà ñå çàïèøå â %s"
+
+# ../src/session.c:183 ../src/wdefaults.c:583 ../src/winspector.c:447
+#: ../src/session.c:183 ../src/wdefaults.c:589 ../src/winspector.c:454
+#, c-format
+msgid "can't convert \"%s\" to boolean"
+msgstr "íå ìîæå äà ñå ïðåîáðàçóâà \"%s\" â áóëåâà ñòîéíîñò"
+
+# ../src/session.c:1023
+#: ../src/session.c:1023
+msgid "out of memory while saving session state"
+msgstr "íå äîñòèãíà ïàìåò ïðè çàïèñâàíå ñúñòîÿíèåòî íà ñåñèÿòà"
+
+# :::>>>> - ne razbiram smisula na 'end of memory'
+# ../src/session.c:1114
+#: ../src/session.c:1106
+msgid "end of memory while saving session state"
+msgstr "èç÷åðïâàíå íà ïàìåòòà ïðè çàïèñâàíå ñúñòîÿíèåòî íà ñåàíñà"
+
+# (Á.É.)
+# ../src/session.c:1248
+#. This is not fatal but can mean the session manager exited.
+#. * If the session manager exited normally we would get a
+#. * Die message, so this probably means an abnormal exit.
+#. * If the sm was the last client of session, then we'll die
+#. * anyway, otherwise we can continue doing our stuff.
+#.
+#: ../src/session.c:1244
+msgid "connection to the session manager was lost"
+msgstr "âðúçêàòà ñ àäìèíèñòðàòîðà íà ñåñèÿòà ñå çàãóáè"
+
+# ../src/stacking.c:73
+#: ../src/stacking.c:79
+msgid "could not get window list!!"
+msgstr "ñïèñúêúò ñ ïðîçîðöèòå íå ìîæå äà áúäå èçâëå÷åí!!"
+
+# ../src/startup.c:197
+#: ../src/startup.c:202
+#, c-format
+msgid "internal X error: %s\n"
+msgstr "ãðåøêà â X ñúðâúðà: %s\n"
+
+# ../src/startup.c:262
+#: ../src/startup.c:260
+#, c-format
+msgid "got signal %i (%s) - restarting\n"
+msgstr "ïîëó÷åí ñèãíàë %i (%s) - ðåñòàðòèðàíå\n"
+
+# ../src/startup.c:264
+#: ../src/startup.c:262
+#, c-format
+msgid "got signal %i - restarting\n"
+msgstr "ïîëó÷åí ñèãíàë %i - ðåñòàðòèðàíå\n"
+
+# ../src/startup.c:262
+#: ../src/startup.c:272
+#, c-format
+msgid "got signal %i (%s) - rereading defaults\n"
+msgstr "ïîëó÷åí ñèãíàë %i (%s) - ñòîéíîñòèòå ïî ïîäðàçáèðàíå ñå ïðåïðî÷èòàò\n"
+
+#: ../src/startup.c:274
+#, c-format
+msgid "got signal %i - rereading defaults\n"
+msgstr "ïîëó÷åí ñèãíàë %i - ñòîéíîñòèòå ïî ïîäðàçáèðàíå ñå ïðåïðî÷èòàò.\n"
+
+# ../src/startup.c:278
+#: ../src/startup.c:284
+#, c-format
+msgid "got signal %i (%s) - exiting...\n"
+msgstr "ïîëó÷åí ñèãíàë %i (%s) - èçõîä...\n"
+
+# ../src/startup.c:280
+#: ../src/startup.c:286
+#, c-format
+msgid "got signal %i - exiting...\n"
+msgstr "ïîëó÷åí ñèãíàë %i - èçõîä...\n"
+
+# ../src/startup.c:293
+#: ../src/startup.c:329
+#, c-format
+msgid "got signal %i (%s)\n"
+msgstr "ïîëó÷åí ñèãíàë %i (%s)\n"
+
+# ../src/startup.c:295
+#: ../src/startup.c:331
+#, c-format
+msgid "got signal %i\n"
+msgstr "ïîëó÷åí ñèãíàë %i\n"
+
+# ../src/startup.c:306
+#: ../src/startup.c:342
+msgid ""
+"crashed while trying to do some post-crash cleanup. Aborting immediatelly."
+msgstr "ñðèâ ïðè îïèò çà ñëåä-àâàðèéíî ïî÷èñòâàíå. Íåçàáàâíî ïðåêðàòÿâàíå."
+
+# ../src/startup.c:340
+#. we try to restart Window Maker
+#: ../src/startup.c:406
+msgid "trying to restart Window Maker..."
+msgstr "îïèò çà ðåñòàðòèðàíå Óèíäîó Ìåéêúð..."
+
+# ../src/startup.c:345
+#: ../src/startup.c:411
+msgid "trying to start alternate window manager..."
+msgstr "îïèò çà ñòàðòèðàíå íà äðóã àäìèíèñòðàòîð íà ïðîçîðöèòå..."
+
+# ../src/startup.c:350
+#: ../src/startup.c:417
+msgid "failed to start alternate window manager. Aborting."
+msgstr ""
+"íåóñïåøåí îïèò çà ñòàðòèðàíå íà äðóã àäìèíèñòðàòîð íà ïðîçîðöèòå. Êðàé íà "
+"ðàáîòàòà."
+
+# ../src/startup.c:352
+#: ../src/startup.c:419
+msgid ""
+"a fatal error has occured, probably due to a bug. Please fill the included "
+"BUGFORM and report it."
+msgstr "âúçíèêíà êðèòè÷íà ãðåøêà, âåðîÿòíî äúëæàùà ñå íà ïðîãðàìåí äåôåêò. Ìîëÿ ïîïúëíåòå ôîðìóëÿðà îò ôàéëà BUGFORM è íè óâåäîìåòå "
+
+# ../src/startup.c:830
+#: ../src/startup.c:894
+#, c-format
+msgid "icon size is configured to %i, but it's too small. Using 16, instead\n"
+msgstr ""
+"ðàçìåðúò íà èêîíêàòà å êîíôèãóðèðàí çà %i, íî òîâà å òâúðäå ìàëêî. Âìåñòî "
+"òîâà ùå èçïîëçâàìå ðàçìåð 16\n"
+
+# ../src/startup.c:858
+#: ../src/startup.c:922
+msgid "XKB is not supported. KbdModeLock is automatically disabled."
+msgstr ""
+"Òúé êàòî X-ñúðâúðúò íå ïîääúðæà XKB, òî KbdModeLock å çàáðàíåí àâòîìàòè÷íî."
+
+# ../src/startup.c:877
+#: ../src/startup.c:941
+msgid "it seems that there is already a window manager running"
+msgstr "èçãëåæäà âå÷å èìà ñòàðòèðàí àäìèíèñòðàòîð íà ïðîçîðöèòå"
+
+# [End Lyubo]
+# ../src/startup.c:883
+#: ../src/startup.c:947
+#, c-format
+msgid "could not manage screen %i"
+msgstr "íå ìîæå äà ñå óïðàâëÿâà åêðàí %i"
+
+# ../src/startup.c:944
+#: ../src/startup.c:1015
+msgid "could not manage any screen"
+msgstr "íå ìîæå äà ñå óïðàâëÿâà êîéòî è äà å åêðàí"
+
+# ../src/switchmenu.c:114
+#: ../src/switchmenu.c:137
+msgid "Windows"
+msgstr "Ïðîçîðöè"
+
+# ../src/texture.c:290 ../src/texture.c:334
+#: ../src/texture.c:329 ../src/texture.c:371
+#, c-format
+msgid "image file \"%s\" used as texture could not be found."
+msgstr "êàðòèíêàòà \"%s\" èçïîëçâàíà êàòî òåêñòóðà íå ìîæå äà áúäå îòêðèòà."
+
+# ../src/texture.c:296 ../src/texture.c:340
+#: ../src/texture.c:335 ../src/texture.c:377
+#, c-format
+msgid "could not load texture pixmap \"%s\":%s"
+msgstr "íå ìîæå äà ñå çàðåäè êàðòèíêàòà ñ òåêñòóðà \"%s\": %s"
+
+# ../src/texture.c:400
+#: ../src/texture.c:437
+#, c-format
+msgid "library \"%s\" cound not be opened."
+msgstr "áèáëèîòåêàòà \"%s\" íå ìîæå äà áúäå îòâîðåíà."
+
+# ../src/texture.c:409
+#: ../src/texture.c:446
+#, c-format
+msgid "function \"%s\" not found in library \"%s\""
+msgstr "ôóíêöèÿòà \"%s\" íå ïðèñúñòâà â áèáëèîòåêàòà \"%s\""
+
+# ../src/texture.c:416
+#: ../src/texture.c:453
+msgid "function textures not supported on this system, sorry."
+msgstr "çà ñúæàëåíèå òåêñòóðíèòå ôóíêöèè íå ñå ïîääúðæàò îò òàçè ñèñòåìà."
+
+# ../src/dialog.c:280
+#: ../src/texture.c:598
+msgid "could not allocate image buffer"
+msgstr "Íå ìîæå äà ñå çàïàçè áóôåð çà ôàéë ñ êàðòèíêà "
+
+# ../src/wdefaults.c:429
+#: ../src/wdefaults.c:437
+#, c-format
+msgid "could not find icon file \"%s\""
+msgstr "íå ìîæå äà ñå îòêðèå èêîíêàòà \"%s\""
+
+# ../src/window.c:2715 ../src/window.c:2849
+#: ../src/window.c:2942 ../src/window.c:3081
+msgid ""
+"the NumLock, ScrollLock or similar key seems to be turned on.\n"
+"Turn it off or some mouse actions and keyboard shortcuts will not work."
+msgstr ""
+"èçãëåæäà, ÷å NumLock, ScrollLock èëè ïîäîáåí ìîäèôèêàòîð å âêëþ÷åí.\n"
+"Èçêëþ÷åòå ãî; èíà÷å íÿêîè äåéñòâèÿ ñ ìèøêàòà íÿìà äà ðàáîòÿò."
+
+# ../src/winmenu.c:126
+#: ../src/winmenu.c:126
+msgid ""
+"This will kill the application.\n"
+"Any unsaved changes will be lost.\n"
+"Please confirm."
+msgstr ""
+"Òîâà ùå óáèå ïðèëîæåíèåòî.\n"
+"Âñÿêà èíôîðìàöèÿ, êîÿòî íå å çàïàçåíà, ùå ñå çàãóáè.\n"
+"Íàèñòèíà ëè æåëàåòå òîâà?"
+
+# ../src/winmenu.c:275 ../src/winmenu.c:283
+#: ../src/winmenu.c:272 ../src/winmenu.c:281
+msgid "Set Shortcut"
+msgstr "Ïîñòàâè áúðç êëàâèø"
+
+# ../src/winmenu.c:361 ../src/winmenu.c:407
+#: ../src/winmenu.c:359 ../src/winmenu.c:404
+msgid "could not create submenu for window menu"
+msgstr "íå ìîæå äà ñå ñúçäàäå ïîäìåíþ çà ìåíþòî íà ïðîçîðöèòå"
+
+# ../src/winmenu.c:411
+#: ../src/winmenu.c:408
+msgid "Keep on top"
+msgstr "Âèíàãè íàé-îòãîðå"
+
+# ../src/winmenu.c:416
+#: ../src/winmenu.c:413
+msgid "Keep at bottom"
+msgstr "Âèíàãè íàé-îòäîëó"
+
+# Hide îçíà÷àâà âñè÷êè ïðîçîðöè äà ñå ñêðèÿò.  Shade çíà÷è äà ñå îñòàâè âèäèìà
+# ñàìî çàãëàâíàòà ëåíòà íà ïðîçîðåöà. È ïîíåæå íà äðóãèòå ìåñòà "hide" å 
+# ïðåâåæäàíî êàòî "ñêðèé", òî òóê ïðîìåíèõ "Ñêðèé" íà "Çàñåí÷è". (À.Ç.)
+# ../src/winmenu.c:461 ../src/winmenu.c:596
+#: ../src/winmenu.c:457 ../src/winmenu.c:600
+msgid "Shade"
+msgstr "Ñâèé"
+
+# Çà ïî-êðàòêî "äðóãèòå" âìåñòî "îñòàíàëèòå". (À.Ç.)
+# ../src/winspector.c:1431
+#: ../src/winmenu.c:473
+msgid "Hide Others"
+msgstr "Ñêðèé äðóãèòå"
+
+# ../src/winmenu.c:477
+#: ../src/winmenu.c:481
+msgid "Resize/Move"
+msgstr "Oðàçìåðè/Ïðåìåñòè"
+
+# ../src/winmenu.c:485
+#: ../src/winmenu.c:489
+msgid "Select"
+msgstr "Èçáåðè"
+
+# ../src/winmenu.c:498
+#: ../src/winmenu.c:502
+msgid "Attributes..."
+msgstr "Ñâîéñòâà..."
+
+# ../src/winmenu.c:500
+#: ../src/winmenu.c:504
+msgid "Options"
+msgstr "Ïðåäïî÷èòàíèÿ"
+
+# Ìîæå áè îáðàòíîòî íà "çàñåí÷è" å "îãðåé"? (À.Ç.)
+# ../src/winmenu.c:591
+#: ../src/winmenu.c:595
+msgid "Unshade"
+msgstr "Ðàçâèé"
+
+# ../src/winspector.c:381
+#: ../src/winspector.c:387
+#, c-format
+msgid "Could not find icon \"%s\" specified for this window"
+msgstr "Èêîíêàòà \"%s\", îïðåäåëåíà çà ïðîçîðåö, íå ìîæå äà áúäå îòêðèòà"
+
+# Äîêîëêîòî ìîãà äà ðàçáåðà îò winspector.c, ñàìî ïúðâîòî %s ñúäúðæà èìåòî
+# íà èêîíêàòà. (À.Ç.)
+# ../src/winspector.c:397
+#: ../src/winspector.c:404
+#, c-format
+msgid "Could not open specified icon \"%s\":%s"
+msgstr "Èêîíêàòà \"%s\" íå ìîæå äà áúäå çàðåäåíà: %s"
+
+#: ../src/winspector.c:1121
+#, c-format
+msgid "Inspecting  %s.%s"
+msgstr "Èíñïåêòèðà ñå %s.%s"
+
+#: ../src/winspector.c:1147
+msgid "Click in the window you wish to inspect."
+msgstr "Ùðàêíåòå âúðõó ïðîçîðåöà, êîéòî æåëàåòå äà èíñïåêòèðàòå."
+
+#: ../src/winspector.c:1186
+msgid ""
+"The configuration will apply to all\n"
+"windows that have their WM_CLASS\n"
+"property set to the above selected\n"
+"name, when saved."
+msgstr ""
+"Êîãàòî áúäå çàïàçåíà, òàçè íàñòðîéêà\n"
+"ùå ñå îòíàñÿ äî âñè÷êè ïðîçîðöè,\n"
+"÷èåòî ñâîéñòâî WM_CLASS èìà\n"
+"ïîñî÷åíàòà ïî-ãîðå ñòîéíîñò."
+
+# ../src/winspector.c:1221
+#: ../src/winspector.c:1215
+msgid "Save"
+msgstr "Çàïèøè"
+
+# ../src/winspector.c:1229
+#: ../src/winspector.c:1223
+msgid "Apply"
+msgstr "Ïðèëîæè"
+
+# ../src/winspector.c:1235
+#: ../src/winspector.c:1229
+msgid "Reload"
+msgstr "Ïðåçàðåäè"
+
+# Òóê ñå îïðåäåëÿò íå õàðàêòåðèñòèêè íà ïðîçîðåöà, à ñå îïðåäåëÿ òî÷íî êúì
+# êîè ïðîçîðöè äà ñå ïðèëàãà òàçè íàñòðîéêà.  Çàòîâà èçìåíèõ "Õàðàêòåðèñòèêè
+# íà ïðîçîðåöà" íà "Çà êîè ïðîçîðöè?" -- êàòî ÷å ëè å ïî-ÿñíî îò áóêâàëíèÿ
+# ïðåâîä "Oïðåäåëÿíå íà ïðîçîðåö". (À.Ç.)
+# ../src/winspector.c:1244 ../src/winspector.c:1254
+#: ../src/winspector.c:1238 ../src/winspector.c:1248
+msgid "Window Specification"
+msgstr "Çà êîè ïðîçîðöè"
+
+# ../src/winspector.c:1245
+#: ../src/winspector.c:1239
+msgid "Window Attributes"
+msgstr "Ñâîéñòâà íà ïðîçîðåöà"
+
+# ../src/winspector.c:1246
+#: ../src/winspector.c:1240
+msgid "Advanced Options"
+msgstr "Âàðèàíòè çà íàïðåäíàëè ïîòðåáèòåëè"
+
+# ../src/winspector.c:1247
+#: ../src/winspector.c:1241
+msgid "Icon and Initial Workspace"
+msgstr "Èêîíêà è íà÷àëíî ðàáîòíî ìÿñòî"
+
+# Êàòî ÷å ëè çà ïîòðåáèòåëèòå ùå áúäå ïî-ÿñíî àêî âìåñòî áóêâàëíîòî "Ñïåöèôè÷íî
+# çà ïðèëîæåíèåòî" èçïîëçâàìå "Àòðèáóòè íà ïðèëîæåíèåòî"? (À.Ç.)
+# ../src/winspector.c:1248
+#: ../src/winspector.c:1242
+msgid "Application Specific"
+msgstr "Ñâîéñòâà íà ïðèëîæåíèåòî"
+
+# "Ïîäðàçáèðàùî ñå çà âñè÷êè ïðîçîðöè" å ìíîãî äúëãî è íå ñå ïîáèðà.
+# Çàòîâà ãî ñúêðàòèõ. (À.Ç.)
+# ../src/winspector.c:1262
+#: ../src/winspector.c:1256
+msgid "Defaults for all windows"
+msgstr "Çà âñè÷êè ïðîçîðöè"
+
+# ../src/winspector.c:1316
+#: ../src/winspector.c:1310
+msgid "Select window"
+msgstr "Èçáîð íà ïðîçîðåö"
+
+# ../src/winspector.c:1329
+#: ../src/winspector.c:1324
+msgid "Attributes"
+msgstr "Ñâîéñòâà"
+
+# Tóê ñè ïîçâîëÿâàì îòêëîíåíèå: âìåñòî "Çàáðàíè" -- "Áåç", çàùîòî ïî-íàòàòúê
+# "Çàáðàíè áóòîíà çà ìèíèìèçèðàíå" å ìíîãî äúëãî è íå ñå ïîáèðà. (À.Ç.)
+# ../src/winspector.c:1340
+#: ../src/winspector.c:1335
+msgid "Disable titlebar"
+msgstr "Áåç çàãëàâíà èâèöà"
+
+# ../src/winspector.c:1342
+#: ../src/winspector.c:1337
+msgid ""
+"Remove the titlebar of this window.\n"
+"To access the window commands menu of a window\n"
+"without it's titlebar, press Control+Esc (or the\n"
+"equivalent shortcut, if you changed the default\n"
+"settings)."
+msgstr ""
+"Äà ñå ìàõíå çàãëàâíàòà èâèöà íà òîçè ïðîçîðåö.\n"
+"Çà äà ñå äîñòèãíå ìåíþòî ñ ïðîçîðå÷íè êîìàíäè çà\n"
+"ïðîçîðåö áåç çàãëàâíà èâèöà, íàòèñíåòå Control+Esc\n"
+"(èëè åêâèâàëåíòíà êëàâèøíà êîìáèíàöèÿ, àêî ñòå\n"
+"ïðîìåíèëè ñòàíäàðòíàòà íàñòðîéêà)."
+
+# ../src/winspector.c:1349
+#: ../src/winspector.c:1344
+msgid "Disable resizebar"
+msgstr "Áåç èâèöàòà çà îðàçìåðÿâàíå"
+
+# ../src/winspector.c:1351
+#: ../src/winspector.c:1346
+msgid "Remove the resizebar of this window."
+msgstr ""
+"Ìàõà èâèöàòà çà îðàçìåðÿâàíå\n"
+"íà òîçè ïðîçîðåö."
+
+# ../src/winspector.c:1354
+#: ../src/winspector.c:1349
+msgid "Disable close button"
+msgstr "Áåç áóòîíà çà çàòâàðÿíå"
+
+# ../src/winspector.c:1356
+#: ../src/winspector.c:1351
+msgid "Remove the `close window' button of this window."
+msgstr ""
+"Ìàõà áóòîíà çà çàòâàðÿíå\n"
+"îò òîçè ïðîçîðåö."
+
+# ../src/winspector.c:1359
+#: ../src/winspector.c:1354
+msgid "Disable miniaturize button"
+msgstr "Áåç áóòîíà çà ìèíèìèçèðàíå"
+
+# ../src/winspector.c:1361
+#: ../src/winspector.c:1356
+msgid "Remove the `miniaturize window' button of the window."
+msgstr ""
+"Ìàõà áóòîíà çà ìèíèìèçèðàíå\n"
+"îò òîçè ïðîçîðåö."
+
+# Tóê ñè ïîçâîëÿâàì îòêëîíåíèå: âìåñòî "Çàáðàíè" -- "Áåç", çàùîòî ïî-íàòàòúê
+# "Çàáðàíè áóòîíà çà ìèíèìèçèðàíå" å ìíîãî äúëãî è íå ñå ïîáèðà. (À.Ç.)
+# ../src/winspector.c:1364
+#: ../src/winspector.c:1359
+msgid "Disable border"
+msgstr "Áåç ðàìêà"
+
+# ../src/winspector.c:1366
+#: ../src/winspector.c:1361
+msgid "Remove the 1 pixel black border around the window."
+msgstr ""
+"Ìàõà ÷åðíàòà ðàìêà ñúñ øèðèíà\n"
+"1 ïèêñåë îêîëî òîçè ïðîçîðåö."
+
+# ../src/winspector.c:1369
+#: ../src/winspector.c:1364
+msgid "Keep on top (floating)"
+msgstr "Âèíàãè îòãîðå (ïëàâàù)"
+
+# ../src/winspector.c:1371
+#: ../src/winspector.c:1366
+msgid ""
+"Keep the window over other windows, not allowing\n"
+"them to cover it."
+msgstr ""
+"Äúðæè ïðîçîðåöà íàä îñòàíàëèòå ïðîçîðöè,\n"
+"êàòî íå ïîçâîëÿâà òå äà ãî çàêðèÿò."
+
+# ../src/winspector.c:1375
+#: ../src/winspector.c:1370
+msgid "Keep at bottom (sunken)"
+msgstr "Âèíàãè îòäîëó (ïîòîïåí)"
+
+# ../src/winspector.c:1377
+#: ../src/winspector.c:1372
+msgid "Keep the window under all other windows."
+msgstr ""
+"Äúðæè ïðîçîðåöà ïîä âñè÷êè\n"
+"îñòàíàëè ïðîçîðöè."
+
+# ../src/winspector.c:1382
+#: ../src/winspector.c:1377
+msgid "Make window present in all workspaces."
+msgstr ""
+"Ïðàâè ïðîçîðåöà äà ïðèñúñòâà\n"
+"íà âñè÷êè ðàáîòíè ìåñòà."
+
+# ../src/winspector.c:1385
+#: ../src/winspector.c:1380
+msgid "Start miniaturized"
+msgstr "Äà ñå ñòàðòèðà ìèíèìèçèðàí"
+
+# ../src/winspector.c:1387
+#: ../src/winspector.c:1382
+msgid ""
+"Make the window be automatically miniaturized when it's\n"
+"first shown."
+msgstr ""
+"Ìèíèìèçèðà ïðîçîðåöà ïðè âñÿêî\n"
+"íåãîâî ïúðâî ïîÿâÿâàíå."
+
+# ../src/winspector.c:1391
+#: ../src/winspector.c:1386
+msgid "Start maximized"
+msgstr "Äà ñå ñòàðòèðà ìàêñèìèçèðàí"
+
+# ../src/winspector.c:1393
+#: ../src/winspector.c:1388
+msgid ""
+"Make the window be automatically maximized when it's\n"
+"first shown."
+msgstr ""
+"Ìàêñèìèçèðà ïðîçîðåöà ïðè âñÿêî\n"
+"íåãîâî ïúðâî ïîÿâÿâàíå."
+
+# ../src/winspector.c:1479
+#: ../src/winspector.c:1392
+msgid "Full screen maximization"
+msgstr "Ìàêñèìèçèðàíå íà öÿë åêðàí"
+
+# ../src/winspector.c:1481
+#: ../src/winspector.c:1394
+msgid ""
+"Make the window use the whole screen space when it's\n"
+"maximized. The titlebar and resizebar will be moved\n"
+"to outside the screen."
+msgstr ""
+"Ïðàâè ïðîçîðåöà äà èçïîëçâà öÿëîòî ìÿñòî íà åêðàíà ïðè\n"
+"ìàêñèìèçàöèÿ. Çàãëàâíàòà èâèöà è èâèöàòà çà îðàçìåðÿâàíå\n"
+"ùå áúäàò èçêàðàíè èçâúí åêðàíà."
+
+# ../src/winspector.c:1414
+#: ../src/winspector.c:1411
+msgid "Advanced"
+msgstr "Çà íàïðåäíàëè"
+
+# ../src/winspector.c:1437
+#: ../src/winspector.c:1428
+msgid "Do not bind keyboard shortcuts"
+msgstr "Äà íå ñå ïðèõâàùàò áúðçè êëàâèøè"
+
+# ../src/winspector.c:1439
+#: ../src/winspector.c:1430
+msgid ""
+"Do not bind keyboard shortcuts from Window Maker\n"
+"when this window is focused. This will allow the\n"
+"window to receive all key combinations regardless\n"
+"of your shortcut configuration."
+msgstr ""
+"Óèíäîó Ìåéêúð íÿìà äà ïðèõâàùà ñïåöèàëíèòå êëàâèøíè\n"
+"êîìáèíàöèè, êîãàòî òîçè ïðîçîðåö å íà ôîêóñ. Òîâà äàâà\n"
+"âúçìîæíîñò íà ïðîçîðåöà äà ïîëó÷àâà âñè÷êè êëàâèøíè\n"
+"êîìáèíàöèè, íåçàâèñèìî êàê ñòå ãè êîíôèãóðèðàëè."
+
+# Íÿìà ìÿñòî äà ñå ïðåâåäå è "clicks". (À.Ç.)
+# ../src/winspector.c:1445
+#: ../src/winspector.c:1436
+msgid "Do not bind mouse clicks"
+msgstr "Äà íå ñå ïðèõâàùà ìèøêàòà"
+
+# ../src/winspector.c:1447
+#: ../src/winspector.c:1438
+msgid ""
+"Do not bind mouse actions, such as `Alt'+drag\n"
+"in the window (when alt is the modifier you haveconfigured)."
+msgstr ""
+"Äà íå ñå ïðèõâàùàò äåéñòâèÿ ñ ìèøêàòà\n"
+"(íàïð. Alt+âëà÷åíå) â ïðîçîðåöà."
+
+# ../src/winspector.c:1399
+#: ../src/winspector.c:1443
+msgid "Do not show in the window list"
+msgstr "Èçâúí ñïèñúêà íà ïðîçîðöèòå"
+
+# ../src/winspector.c:1399
+#: ../src/winspector.c:1445
+msgid "Do not list the window in the window list menu."
+msgstr ""
+"Ïðîçîðåöúò íÿìà äà áúäå âêëþ÷åí\n"
+"â ìåíþòî íà ñïèñúêà ñ ïðîçîðöèòå."
+
+# "Íå ìó ïîçâîëÿâàé äà âçåìå ôîêóñ" å ìíîãî äúëãî. (À.Ç.)
+# ../src/winspector.c:1458
+#: ../src/winspector.c:1448
+msgid "Do not let it take focus"
+msgstr "Äà íå ïîëó÷àâà ôîêóñ"
+
+# ../src/winspector.c:1460
+#: ../src/winspector.c:1450
+msgid ""
+"Do not let the window take keyboard focus when you\n"
+"click on it."
+msgstr ""
+"Íå ïîçâîëÿâà íà ïðîçîðåöà äà ïîëó÷è êëàâèàòóðíèÿ\n"
+"ôîêóñ, êîãàòî ùòðàêíåòå âúðõó íåãî."
+
+# ../src/winspector.c:1452
+#: ../src/winspector.c:1454
+msgid "Keep inside screen"
+msgstr "Âèíàãè â ðàìêèòå íà åêðàíà"
+
+# ../src/winspector.c:1454
+#: ../src/winspector.c:1456
+msgid ""
+"Do not allow the window to move itself completely\n"
+"outside the screen. For bug compatibility.\n"
+msgstr ""
+"Íå ïîçâîëÿâà íà ïðîçîðåöà äà áúäå\n"
+"ïðåìåñòåí èçöÿëî èçâúí åêðàíà.\n"
+
+# Çà ïî-êðàòêî "äðóãèòå" âìåñòî "îñòàíàëèòå". (À.Ç.)
+# ../src/winspector.c:1431
+#: ../src/winspector.c:1460
+msgid "Ignore 'Hide Others'"
+msgstr "Äà ñå èãíîðèðà \"Ñêðèé äðóãèòå\""
+
+# ../src/winspector.c:1433
+#: ../src/winspector.c:1462
+msgid ""
+"Do not hide the window when issuing the\n"
+"`HideOthers' command."
+msgstr ""
+"Íå ñêðèâà ïðîçîðåöà ïðè ïîëó÷àâàíå íà\n"
+"êîìàíäàòà \"Ñêðèé äðóãèòå\"."
+
+# ../src/winspector.c:1464
+#: ../src/winspector.c:1466
+msgid "Ignore 'Save Session'"
+msgstr "Äà íå ñå çàïèñâà â ñåñèÿòà"
+
+# ../src/winspector.c:1466
+#: ../src/winspector.c:1468
+msgid ""
+"Do not save the associated application in the\n"
+"session's state, so that it won't be restarted\n"
+"together with other applications when Window Maker\n"
+"starts."
+msgstr ""
+"Íå çàïàçâà ñúîòâåòíîòî ïðèëîæåíèå â ñúñòîÿíèåòî\n"
+"íà ñåñèÿòà, òàêà ÷å òî íÿìà äà áúäå ðåñòàðòèðàíî\n"
+"îò àäìèíèñòðàòîðà íà ñåñèÿòà çàåäíî ñ äðóãèòå\n"
+"ïðèëîæåíèÿ ïðè ñòàðòèðàíå íà Óèíäîó Ìåéêúð."
+
+# [ Start translation
+# Translated from English by (-:Stinger®:-)
+# Ïðåâåäåíî îò Àíãëèéñêè îò (-:Stinger®:-)
+# corrected 31.03.2000 21:16 local time by Slaff
+# updated ..........
+# 
+# Ñúêðàòèõ "íà ïðèëîæåíèå", çàùîòî íÿìà ìÿñòî (À.Ç.)
+# ../src/winspector.c:1472
+#: ../src/winspector.c:1474
+msgid "Emulate application icon"
+msgstr "Äà ñå åìóëèðà èêîíêà íà ïðèëîæåíèåòî"
+
+# ../src/winspector.c:1474
+#: ../src/winspector.c:1476
+msgid ""
+"Make this window act as an application that provides\n"
+"enough information to Window Maker for a dockable\n"
+"application icon to be created."
+msgstr ""
+"Ïðàâè òîçè ïðîçîðåö äà ñå äúðæè êàòî ïðèëîæåíèå, êîåòî\n"
+"äàâà äîñòàòú÷íî èíôîðìàöèÿ íà Óèíäîó Ìåéêúð, ÷å äà ìîæå\n"
+"äà ñå íàïðàâè èêîíêà íà ïðèëîæåíèåòî, êîÿòî ìîæå äà\n"
+"ñå ñêà÷âà íà äîêà."
+
+# ../src/winspector.c:1487
+#: ../src/winspector.c:1482
+msgid "Disable language button"
+msgstr "Áåç áóòîí ÊÈÐ/ËÀÒ"
+
+# ../src/winspector.c:1489
+#: ../src/winspector.c:1484
+msgid "Remove the `toggle language' button of the window."
+msgstr "Ìàõà áóòîíà ÊÈÐ/ËÀÒ îò ïðîçîðåöà."
+
+# ../src/winspector.c:1506
+#: ../src/winspector.c:1501
+msgid "Miniwindow Image"
+msgstr "Èçãëåä íà ìèíèïðîçîð÷åòî"
+
+# ../src/winspector.c:1540
+#: ../src/winspector.c:1528
+msgid "Icon filename:"
+msgstr "Ôàéë çà èêîíêàòà:"
+
+# ../src/winspector.c:1552
+#: ../src/winspector.c:1541
+msgid "Ignore client supplied icon"
+msgstr "Äà ñå èãíîðèðà êëèåíòñêàòà èêîíêà"
+
+# ../src/winspector.c:1559
+#: ../src/winspector.c:1548
+msgid "Initial Workspace"
+msgstr "Íà÷àëíî ðàáîòíî ìÿñòî"
+
+# ../src/winspector.c:1561
+#: ../src/winspector.c:1550
+msgid "The workspace to place the window when it'sfirst shown."
+msgstr ""
+"Ðàáîòíîòî ìÿñòî, êúäåòî äà ñå ïîìåñòè\n"
+"ïðîçîðåöà ïðè ïúðâîòî ìó ïîÿâÿâàíå."
+
+# íèêúäå ïî-ñïåöèàëíî
+# ../src/winspector.c:1567
+#: ../src/winspector.c:1556
+msgid "Nowhere in particular"
+msgstr "Íèêúäå ïî-ñïåöèàëíî"
+
+# ../src/winspector.c:1585
+#: ../src/winspector.c:1574
+msgid "Application Attributes"
+msgstr "Ñâîéñòâà íà ïðèëîæåíèåòî"
+
+# ../src/winspector.c:1596
+#: ../src/winspector.c:1585
+msgid "Start hidden"
+msgstr "Äà ñå ñòàðòèðà ñêðèòî"
+
+# ../src/winspector.c:1598
+#: ../src/winspector.c:1587
+msgid "Automatically hide application when it's started."
+msgstr "Àâòîìàòè÷íî ñêðèâà ïðèëîæåíèåòî ïðè ñòàðòèðàíå."
+
+# ../src/winspector.c:1601
+#: ../src/winspector.c:1590
+msgid "No application icon"
+msgstr "Áåç èêîíêà íà ïðèëîæåíèåòî"
+
+# ../src/winspector.c:1603
+#: ../src/winspector.c:1592
+msgid ""
+"Disable the application icon for the application.\n"
+"Note that you won't be able to dock it anymore,\n"
+"and any icons that are already docked will stop\n"
+"working correctly."
+msgstr ""
+"Çàáðàíÿâà èêîíêàòà íà òîâà ïðèëîæåíèå.\n"
+"Çàáåëåæåòå, ÷å ïîâå÷å íÿìà äà ìîæå äà ãî ñêà÷âàòå\n"
+"íà äîêà, à âñè÷êè èêîíêè íà òîâà ïðèëîæåíèå,\n"
+"êîèòî âå÷å ñà ñêà÷åíè, ùå ïðåñòàíàò äà ðàáîòÿò\n"
+"ïðàâèëíî."
+
+# ../src/winspector.c:1601
+#: ../src/winspector.c:1598
+msgid "Shared application icon"
+msgstr "Ñïîäåëåíà èêîíêà íà ïðèëîæåíèåòî"
+
+#: ../src/winspector.c:1600
+msgid ""
+"Use a single shared application icon for all of\n"
+"the instances of this application.\n"
+msgstr ""
+"Ñúáèðà âñè÷êè èêîíêè íà ðàçëè÷íè \n"
+"åêçåìëÿðè íà òîâà ïðèëîæåíèå â åäíà.\n"
+
+# ../src/workspace.c:110 ../src/workspace.c:111 ../src/workspace.c:806
+#: ../src/workspace.c:107 ../src/workspace.c:108 ../src/workspace.c:894
+#, c-format
+msgid "Workspace %i"
+msgstr "Ðàáîòíî ìÿñòî %i"
+
+# ../src/workspace.c:863
+#: ../src/workspace.c:944
+msgid "Workspaces"
+msgstr "Ðàáîòíè ìåñòà"
+
+# ../src/workspace.c:865
+#: ../src/workspace.c:946
+msgid "could not create Workspace menu"
+msgstr "íå ìîæå äà ñå íàïðàâè ìåíþ íà ðàáîòíèòå ìåñòà"
+
+# ../src/workspace.c:872
+#: ../src/workspace.c:953
+msgid "New"
+msgstr "Íîâî"
+
+# ../src/workspace.c:873
+#: ../src/workspace.c:954
+msgid "Destroy Last"
+msgstr "Óíèùîæè ïîñëåäíîòî"
+
+#~ msgid "Sound"
+#~ msgstr "Çâóê"
+
+# ../src/dock.c:1029 ../src/dock.c:3363
+#~ msgid "Allow Lowering"
+#~ msgstr "Ïîçâîëÿâà ïîíèæàâàíå"
+
+# ../src/proplist.c:180
+#~ msgid "unterminated string"
+#~ msgstr "íåçàâúðøåí íèç"
+
+# ../src/proplist.c:247
+#~ msgid "unterminated array"
+#~ msgstr "íåçàâúðøåí ìàñèâ"
+
+# ../src/proplist.c:256
+#~ msgid "missing , in array or unterminated array"
+#~ msgstr "ëèïñâà çàïåòàÿ â ìàñèâ èëè íåçàâúðøåí ìàñèâ"
+
+# ../src/proplist.c:267
+#~ msgid "could not get array element"
+#~ msgstr "íå ìîæå äà ñå ïîëó÷è åëåìåíò íà ìàñèâ"
+
+# ../src/proplist.c:297
+#~ msgid "unterminated dictionary"
+#~ msgstr "íåçàâúðøåí ðå÷íèê"
+
+# ../src/proplist.c:315
+#~ msgid "missing dictionary key"
+#~ msgstr "ëèïñâàù êëþ÷ íà ðå÷íèê"
+
+# continue from here
+# ../src/proplist.c:317
+#~ msgid "missing dictionary entry key or unterminated dictionary"
+#~ msgstr "ëèïñâàù êëþ÷ íà ðå÷íèêîâ åëåìåíò èëè íåçàâúðøåí ðå÷íèê"
+
+# ../src/proplist.c:323
+#~ msgid "error parsing dictionary key"
+#~ msgstr "ãðåøêà ïðè ðàçáîð íà ðå÷íèêîâ êëþ÷"
+
+# ../src/proplist.c:332
+#~ msgid "missing = in dictionary entry"
+#~ msgstr "ëèïñâà çíàê \"=\" â ðå÷íèêîâ åëåìåíò"
+
+# ../src/proplist.c:351
+#~ msgid "missing ; in dictionary entry"
+#~ msgstr "ëèïñâà çíàê \";\" â ðå÷íèêîâ åëåìåíò"
+
+# ../src/proplist.c:432
+#~ msgid ""
+#~ "was expecting a string, dictionary, data or array. If it's a string, try "
+#~ "enclosing it with \"."
+#~ msgstr ""
+#~ "î÷àêâàøå ñå íèç, ðå÷íèê, äàííè èëè ìàñèâ. Àêî òîâà å íèç ïðîáâàéòå äà ãî "
+#~ "îãðàäèòå ñ äâîéíè êàâè÷êè (\")."
+
+# ../src/proplist.c:466
+#~ msgid "extra data after end of file"
+#~ msgstr "èçëèøíè äàííè ñëåä êðàÿ íà ôàéëà"
+
+# ../src/screen.c:464
+#~ msgid "error making logo image for panel:%s"
+#~ msgstr "ãðåøêà ïðè ïîäãîòîâêà íà ëîãîòî çà ïàíåëà: %s"
+
+# ../src/winspector.c:1525
+#~ msgid "Update"
+#~ msgstr "Îáíîâè"
+
+# ../src/xutil.c:228
+#~ msgid "invalid data in selection"
+#~ msgstr "íåïðàâèëíè äàííè â èçáîðà"
+
+#~ msgid "Keep Attracted Icons"
+#~ msgstr "Çàäúðæàé ïðèâëå÷åíèòå èêîíêè"
+
+# [ start translation
+# Translated by: Boris Jordanov
+#~ msgid "wrealloc() failed while trying to add menu item"
+#~ msgstr "íåóñïåõ ïðè îïèò çà äîáàâÿíå íà ïîäòî÷êà â ìåíþ"
diff -Naur WindowMaker-0.80.2/po/ca.po wm-xft2/po/ca.po
--- WindowMaker-0.80.2/po/ca.po	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/po/ca.po	2003-10-22 14:29:48.000000000 +0400
@@ -0,0 +1,1973 @@
+# Catalan messages for Window Maker.
+# Copyright (C) 2003 Free Software Foundation, Inc.
+# This file is distributed under the same license as GNU Window Maker.
+# Ernest Adrogué <eadrogue@gmx.net>, 2003.
+#
+# Version history:
+# 	WM-ver	author			email			date
+# 	0.80.2	Ernest Adrogué		eadrogue@gmx.net	23 Feb 2003
+#
+msgid ""
+msgstr ""
+"Project-Id-Version: windowmaker 0.80.2\n"
+"POT-Creation-Date: 2003-02-23 14:36+0100\n"
+"PO-Revision-Date: 2003-02-23 16:53+0100\n"
+"Last-Translator: Ernest Adrogué <eadrogue@gmx.net>\n"
+"Language-Team: Catalan <ca@dodds.net>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=iso-8859-1\n"
+"Content-Transfer-Encoding: 8bit\n"
+
+#: ../src/appicon.c:426 ../src/dialog.c:304 ../src/dock.c:3326
+#: ../src/dockedapp.c:230 ../src/main.c:273 ../src/rootmenu.c:1854
+#: ../src/winspector.c:389 ../src/winspector.c:406
+msgid "Error"
+msgstr "Error"
+
+#: ../src/appicon.c:427
+msgid "Could not open specified icon file"
+msgstr "No s'ha pogut obrir el fitxer d'icona especificat"
+
+#: ../src/appicon.c:428 ../src/dialog.c:201 ../src/dialog.c:304
+#: ../src/dialog.c:751 ../src/dialog.c:1850 ../src/dock.c:526
+#: ../src/dock.c:534 ../src/dock.c:558 ../src/dock.c:3327
+#: ../src/dockedapp.c:231 ../src/dockedapp.c:426 ../src/main.c:273
+#: ../src/rootmenu.c:1858 ../src/winspector.c:390 ../src/winspector.c:407
+msgid "OK"
+msgstr "D'acord"
+
+#: ../src/appicon.c:456 ../src/dock.c:264
+msgid ""
+" will be forcibly closed.\n"
+"Any unsaved changes will be lost.\n"
+"Please confirm."
+msgstr ""
+" es finalitzarà forçosament.\n"
+"Els canvis que no hagueu salvat es perdràn.\n"
+"Voleu continuar?"
+
+#: ../src/appicon.c:464 ../src/dock.c:283 ../src/winmenu.c:125
+msgid "Kill Application"
+msgstr "Finalitzar aplicació"
+
+#: ../src/appicon.c:465 ../src/dock.c:284 ../src/winmenu.c:127
+msgid "Yes"
+msgstr "Sí"
+
+#: ../src/appicon.c:465 ../src/dock.c:284 ../src/winmenu.c:127
+msgid "No"
+msgstr "No"
+
+#: ../src/appicon.c:495 ../src/dock.c:1178 ../src/dock.c:3492
+msgid "Unhide Here"
+msgstr "Mostra aquí"
+
+#: ../src/appicon.c:496 ../src/appicon.c:521 ../src/dock.c:1180
+#: ../src/dock.c:1182 ../src/dock.c:3504 ../src/winmenu.c:465
+msgid "Hide"
+msgstr "Amaga"
+
+#: ../src/appicon.c:497
+msgid "Set Icon..."
+msgstr "Assigna icona..."
+
+#: ../src/appicon.c:498 ../src/dock.c:1186 ../src/rootmenu.c:248
+#: ../src/rootmenu.c:264 ../src/winmenu.c:520
+msgid "Kill"
+msgstr "Finalitza"
+
+#: ../src/appicon.c:519 ../src/dock.c:3502
+msgid "Unhide"
+msgstr "Mostra"
+
+#: ../src/application.c:398
+#, c-format
+msgid "recreating missing icon '%s'"
+msgstr "s'està reconstruint l'icona desapareguda '%s'"
+
+#: ../src/defaults.c:922 ../src/defaults.c:1011
+#, c-format
+msgid "Domain %s (%s) of global defaults database is corrupted!"
+msgstr ""
+"El domini %s (%s) de la base de dades de preferències globals està malmès!"
+
+#: ../src/defaults.c:927
+#, c-format
+msgid "could not load domain %s from global defaults database"
+msgstr ""
+"no s'ha pogut carregar el domini %s de la base de dades de preferències "
+"globals"
+
+#: ../src/defaults.c:949 ../src/startup.c:884 ../src/startup.c:902
+#: ../src/startup.c:908
+#, c-format
+msgid "could not read domain \"%s\" from defaults database"
+msgstr ""
+"no s'ha pogut llegir el domini \"%s\" de la base de dades de preferències"
+
+#: ../src/defaults.c:995 ../src/defaults.c:1099 ../src/defaults.c:1140
+#: ../src/defaults.c:1196
+#, c-format
+msgid "Domain %s (%s) of defaults database is corrupted!"
+msgstr "El domini %s (%s) de la base de dades de preferències està malmès!"
+
+#: ../src/defaults.c:1000 ../src/defaults.c:1119 ../src/defaults.c:1176
+#: ../src/defaults.c:1205
+#, c-format
+msgid "could not load domain %s from user defaults database"
+msgstr ""
+"no s'ha pogut carregar el domini %s de la base de dades de preferències de "
+"l'usuari"
+
+#: ../src/defaults.c:1030
+#, c-format
+msgid "could not load domain %s from global defaults database (%s)"
+msgstr ""
+"no s'ha pogut carregar el domini %s de la base de dades de preferències "
+"global (%s)"
+
+#: ../src/defaults.c:1166 ../src/screen.c:460
+#, c-format
+msgid "could not load logo image for panels: %s"
+msgstr "no s'ha pogut carregar l'imatge del logo pels panells: %s"
+
+#. --------------------------- Local -----------------------
+#: ../src/defaults.c:1414 ../src/defaults.c:1556 ../src/defaults.c:1668
+#: ../src/defaults.c:2147 ../src/defaults.c:2164 ../src/defaults.c:2209
+#: ../src/defaults.c:2256 ../src/defaults.c:2729 ../src/wdefaults.c:571
+#: ../src/wdefaults.c:607
+#, c-format
+msgid "Wrong option format for key \"%s\". Should be %s."
+msgstr "El format de la clau \"%s\" no és correcte. Hauria de ser %s."
+
+#: ../src/defaults.c:1416 ../src/defaults.c:1497 ../src/defaults.c:1529
+#: ../src/defaults.c:1561 ../src/defaults.c:1574 ../src/defaults.c:1589
+#: ../src/defaults.c:1603 ../src/defaults.c:1673 ../src/defaults.c:1685
+#: ../src/defaults.c:2152 ../src/defaults.c:2169 ../src/defaults.c:2182
+#: ../src/defaults.c:2214 ../src/defaults.c:2230 ../src/defaults.c:2261
+#: ../src/defaults.c:2348 ../src/defaults.c:2734 ../src/defaults.c:2745
+#, c-format
+msgid "using default \"%s\" instead"
+msgstr "s'usa el valor per omissió \"%s\""
+
+#: ../src/defaults.c:1447
+#, c-format
+msgid "wrong option value for key \"%s\". Should be one of %s"
+msgstr ""
+"el valor de la clau \"%s\" no és correcte. Els valors possibles són: %s"
+
+#: ../src/defaults.c:1492
+#, c-format
+msgid "can't convert \"%s\" to boolean for key \"%s\""
+msgstr ""
+"el valor \"%s\" de la clau \"%s\" no es pot convertir a variable booleana"
+
+#: ../src/defaults.c:1526
+#, c-format
+msgid "can't convert \"%s\" to integer for key \"%s\""
+msgstr "el valor \"%s\" de la clau \"%s\" no es pot convertir a nombre enter"
+
+#: ../src/defaults.c:1569
+#, c-format
+msgid "Incorrect number of elements in array for key \"%s\"."
+msgstr "El nombre d'elements de la matriu en la clau \"%s\" no és correcte."
+
+#: ../src/defaults.c:1584
+#, c-format
+msgid "Wrong value for key \"%s\". Should be Coordinate."
+msgstr ""
+"El valor de la clau \"%s\" no és correcte. Hauria de ser \"Coordinate\"."
+
+#: ../src/defaults.c:1599
+#, c-format
+msgid "can't convert array to integers for \"%s\"."
+msgstr "no es pot convertir una matriu a nombres enters en \"%s\"."
+
+#: ../src/defaults.c:1797 ../src/defaults.c:1829 ../src/defaults.c:1845
+#: ../src/defaults.c:1874 ../src/defaults.c:1897 ../src/defaults.c:1950
+#: ../src/defaults.c:1990 ../src/defaults.c:2028 ../src/defaults.c:2044
+#, c-format
+msgid "\"%s\" is not a valid color name"
+msgstr "\"%s\" no és un nom de color vàlid"
+
+#: ../src/defaults.c:1810 ../src/defaults.c:1862
+msgid "bad number of arguments in gradient specification"
+msgstr "el nombre d'arguments en l'especificació de gradient no és correcte"
+
+#: ../src/defaults.c:1923
+msgid "too few arguments in multicolor gradient specification"
+msgstr "falten arguments en l'especificació del gradient cromàtic"
+
+#: ../src/defaults.c:2017
+msgid "bad number of arguments in textured gradient specification"
+msgstr ""
+"el nombre d'arguments en l'especificació del gradient de textura no és "
+"correcte"
+
+#: ../src/defaults.c:2060
+#, c-format
+msgid "bad opacity value for tgradient texture \"%s\". Should be [0..255]"
+msgstr ""
+"el valor d'opacitat de la textura tgradient \"%s\" no és correcte. Ha de ser "
+"un nombre entre 0 i 255."
+
+#: ../src/defaults.c:2120
+#, c-format
+msgid "could not initialize library %s"
+msgstr "no s'ha pogut inicialitzar la biblioteca %s"
+
+#: ../src/defaults.c:2123
+#, c-format
+msgid "could not find function %s::%s"
+msgstr "no s'ha trobat la rutina %s::%s"
+
+#: ../src/defaults.c:2130
+#, c-format
+msgid "invalid texture type %s"
+msgstr "el tipus de textura \"%s\" no és vàlid"
+
+#: ../src/defaults.c:2177
+#, c-format
+msgid "Error in texture specification for key \"%s\""
+msgstr "Error d'especificació de textura a la clau \"%s\""
+
+#: ../src/defaults.c:2226
+msgid "Wrong type for workspace background. Should be a texture type."
+msgstr ""
+"El tipus de fons especificat per l'escriptori no és vàlid. Hauria de ser un "
+"tipus de textura."
+
+#: ../src/defaults.c:2274
+#, c-format
+msgid "Wrong type for background of workspace %i. Should be a texture."
+msgstr ""
+"El tipus de fons especificat per l'escriptori %i no és vàlid. Hauria de ser "
+"un tipus de textura."
+
+#: ../src/defaults.c:2316
+msgid "could not load any usable font!!!"
+msgstr "no s'ha pogut carregar cap tipus de lletra usable !!!"
+
+#: ../src/defaults.c:2343
+#, c-format
+msgid "could not get color for key \"%s\""
+msgstr "no s'ha pogut obtenir el color de la clau \"%s\""
+
+#: ../src/defaults.c:2401 ../src/rootmenu.c:526
+#, c-format
+msgid "%s:invalid key modifier \"%s\""
+msgstr "%s:el modificador de tecla \"%s\" no és vàlid"
+
+#: ../src/defaults.c:2413
+#, c-format
+msgid "%s:invalid kbd shortcut specification \"%s\""
+msgstr "%s:l'especificació kbd de vincle de tecla \"%s\" no és vàlida"
+
+#: ../src/defaults.c:2420
+#, c-format
+msgid "%s:invalid key in shortcut \"%s\""
+msgstr "%s:tecla no vàlida en el vincle \"%s\""
+
+#: ../src/defaults.c:2445
+#, c-format
+msgid "%s: modifier key %s is not valid"
+msgstr "%s: el modificador de tecla %s no és vàlid"
+
+#: ../src/defaults.c:2477
+#, c-format
+msgid "could not load image in option %s: %s"
+msgstr "no s'ha pogut carregar l'imatge de l'opció %s: %s"
+
+#: ../src/defaults.c:2594
+#, c-format
+msgid "failed to open bitmap file \"%s\""
+msgstr "no s'ha pogut obrir fitxer de mapa de bits \"%s\""
+
+#: ../src/defaults.c:2597
+#, c-format
+msgid "\"%s\" is not a valid bitmap file"
+msgstr "\"%s\" no és un fitxer de mapa de bits vàlid"
+
+#: ../src/defaults.c:2600
+#, c-format
+msgid "out of memory reading bitmap file \"%s\""
+msgstr "memòria esgotada quan es llegia el fitxer de mapa de bits \"%s\""
+
+#: ../src/defaults.c:2639 ../src/defaults.c:2672
+msgid "bad number of arguments in cursor specification"
+msgstr "el nombre d'arguments en l'especificació del cursor és incorrecte"
+
+#: ../src/defaults.c:2655
+#, c-format
+msgid "unknown builtin cursor name \"%s\""
+msgstr "el nom de cursor intern \"%s\" és desconegut"
+
+#: ../src/defaults.c:2682 ../src/defaults.c:2694
+#, c-format
+msgid "could not find cursor bitmap file \"%s\""
+msgstr "no s'ha trobat el fitxer de mapa de bits de cursor \"%s\""
+
+#: ../src/defaults.c:2741
+#, c-format
+msgid "Error in cursor specification for key \"%s\""
+msgstr "Error d'especificació de cursor a la clau \"%s\""
+
+#: ../src/defaults.c:2826
+msgid "could not render texture for icon background"
+msgstr "no s'ha pogut dibuixar la textura de fons de l'icona"
+
+#: ../src/dialog.c:157
+msgid "Save workspace state"
+msgstr "Desa l'estat de l'escriptori"
+
+#: ../src/dialog.c:201 ../src/dialog.c:758 ../src/dock.c:558
+#: ../src/dockedapp.c:431 ../src/rootmenu.c:198 ../src/rootmenu.c:248
+#: ../src/rootmenu.c:264
+msgid "Cancel"
+msgstr "Cancel·la"
+
+#: ../src/dialog.c:299
+msgid "Could not open directory "
+msgstr "No s'ha pogut obrir el directori"
+
+#: ../src/dialog.c:354
+msgid "Could not load image file "
+msgstr "No s'ha pogut carregar el fitxer d'imatge"
+
+#: ../src/dialog.c:685
+msgid "Directories"
+msgstr "Directoris"
+
+#: ../src/dialog.c:694
+msgid "Icons"
+msgstr "Icones"
+
+#: ../src/dialog.c:727
+msgid "Preview"
+msgstr "Veure"
+
+#: ../src/dialog.c:740
+msgid "File Name:"
+msgstr "Nom del fitxer:"
+
+#: ../src/dialog.c:764
+msgid "Choose File"
+msgstr "Trieu un fitxer"
+
+#: ../src/dialog.c:783 ../src/dialog.c:785
+msgid "Icon Chooser"
+msgstr "Selecció d'icona"
+
+#: ../src/dialog.c:1265 ../src/dialog.c:1375
+#, c-format
+msgid "Version %s"
+msgstr "Versió %s"
+
+#: ../src/dialog.c:1372
+msgid "Window Manager for X"
+msgstr "Gestor de finestres per a X"
+
+#: ../src/dialog.c:1397
+#, c-format
+msgid "Using visual 0x%x: %s %ibpp "
+msgstr "Usant el visual 0x%x: %s %ibpp "
+
+#: ../src/dialog.c:1405
+msgid "(32 thousand colors)\n"
+msgstr "(trenta-dos mil colors)\n"
+
+#: ../src/dialog.c:1408
+msgid "(64 thousand colors)\n"
+msgstr "(seixanta-quatre mil colors)\n"
+
+#: ../src/dialog.c:1412
+msgid "(16 million colors)\n"
+msgstr "(16 milions de colors)\n"
+
+#: ../src/dialog.c:1415
+#, c-format
+msgid "(%d colors)\n"
+msgstr "(%d colors)\n"
+
+#: ../src/dialog.c:1425
+#, c-format
+msgid "Total allocated memory: %i kB. Total memory in use: %i kB.\n"
+msgstr "Memòria assignada total: %i kB. Memòria en ús: %i kB.\n"
+
+#: ../src/dialog.c:1432
+msgid "Supported image formats: "
+msgstr "Formats d'imatge suportats: "
+
+#: ../src/dialog.c:1439
+msgid ""
+"\n"
+"Additional support for: "
+msgstr ""
+"\n"
+"Suport adicional per: "
+
+#: ../src/dialog.c:1462
+msgid " and "
+msgstr " i "
+
+#: ../src/dialog.c:1472
+msgid ""
+"\n"
+"Sound disabled"
+msgstr ""
+"\n"
+"So inhabilitat"
+
+#: ../src/dialog.c:1474
+msgid ""
+"\n"
+"Sound enabled"
+msgstr ""
+"\n"
+"So habilitat"
+
+#: ../src/dialog.c:1503
+msgid "Info"
+msgstr "Informació"
+
+#: ../src/dialog.c:1527
+msgid "Merry Christmas!"
+msgstr "Bon Nadal!"
+
+#: ../src/dialog.c:1597
+msgid ""
+"    Window Maker is free software; you can redistribute it and/or\n"
+"modify it under the terms of the GNU General Public License as\n"
+"published by the Free Software Foundation; either version 2 of the\n"
+"License, or (at your option) any later version.\n"
+"\n"
+"    Window Maker is distributed in the hope that it will be useful,\n"
+"but WITHOUT ANY WARRANTY; without even the implied warranty\n"
+"of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n"
+"See the GNU General Public License for more details.\n"
+"\n"
+"    You should have received a copy of the GNU General Public\n"
+"License along with this program; if not, write to the Free Software\n"
+"Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n"
+"02111-1307, USA."
+msgstr ""
+"    Window Maker és programari lliure; el podeu redistribuïr i/o modificar "
+"sota els termes de la GNU General Public License tal com ha estat publicada "
+"per la Free Software Foundation; ja sigui la versió 2 d'aquesta llicència o "
+"qualsevol altra versió posterior, a la vostra elecció.\n"
+"\n"
+"    Window Maker es distribueix amb l'esperança que sigui útil, però SENSE "
+"CAP MENA DE GARANTIA; ni tan sols amb la garantía implícita de "
+"COMERCIABILITAT o ADEQUACIÓ PER A UN PROPÒSIT DETERMINAT. Vegeu la llicència "
+"GNU General Public License per a més detalls.\n"
+"\n"
+"    Haurieu d'haver rebut una còpia de llicència GNU General Public License "
+"juntament amb aquest programa; en cas contrari demaneu-la a la Free Software "
+"Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA. "
+
+#: ../src/dialog.c:1621
+msgid "Legal"
+msgstr "Assumptes legals"
+
+#: ../src/dialog.c:1773 ../src/startup.c:394
+msgid "cannot open connection for crashing dialog panel. Aborting."
+msgstr ""
+"no s'ha pogut obrir una connexió per un quadre de diàleg d'errors crítics. "
+"S'avorta."
+
+#: ../src/dialog.c:1799
+msgid "Fatal error"
+msgstr "Error fatal"
+
+#: ../src/dialog.c:1810
+#, c-format
+msgid ""
+"Window Maker received signal %i\n"
+"(%s)."
+msgstr ""
+"Window Maker ha rebut un senyal %i\n"
+"(%s)."
+
+#: ../src/dialog.c:1813
+#, c-format
+msgid "Window Maker received signal %i."
+msgstr "Window Maker ha rebut un senyal %i."
+
+#: ../src/dialog.c:1822
+msgid ""
+" This fatal error occured probably due to a bug. Please fill the included "
+"BUGFORM and report it to bugs@windowmaker.org."
+msgstr ""
+" Aquest error fatal probablement ha estat causat per un \"bug\". Si us plau, "
+"ompliu el formulari d'error inclòs i envieu-lo a l'adreça bugs@windowmaker."
+"org."
+
+#: ../src/dialog.c:1831
+msgid "What do you want to do now?"
+msgstr "Què voleu fer ara?"
+
+#: ../src/dialog.c:1837
+msgid "Select action"
+msgstr "Escolliu una acció"
+
+#: ../src/dialog.c:1838
+msgid "Abort and leave a core file"
+msgstr "Avorta i deixa un fitxer d'imatge del nucli"
+
+#: ../src/dialog.c:1839
+msgid "Restart Window Maker"
+msgstr "Reinicia Window Maker"
+
+#: ../src/dialog.c:1840
+msgid "Start alternate window manager"
+msgstr "Inicia un altre gestor de finestres"
+
+#: ../src/dialog.c:2018
+msgid ""
+"Window Maker is part of the GNUstep project.\n"
+"The GNUstep project aims to create a free\n"
+"implementation of the OpenStep(tm) specification\n"
+"which is a object-oriented framework for\n"
+"creating advanced graphical, multi-platform\n"
+"applications. Additionally, a development and\n"
+"user desktop enviroment will be created on top\n"
+"of the framework. For more information about\n"
+"GNUstep, please visit: www.gnustep.org"
+msgstr ""
+"Window Maker és part del projecte GNUstep.\n"
+"El projecte GNUstep aspira a crear una\n"
+"implementació lliure de l'especificació\n"
+"OpenStep(tm), un marc de treball orientat\n"
+"a objectes per crear aplicacions gràfiques\n"
+"avançades i multiplataforma. Adicionalment\n"
+"es crearà un entorn d'usuari i un entorn de\n"
+"desenvolupament. Per a més informació sobre\n"
+"GNUstep, si us plau, visiteu: www.gnustep.org"
+
+#: ../src/dialog.c:2041
+msgid "About GNUstep"
+msgstr "Quant a GNUstep"
+
+#: ../src/dock.c:213
+#, c-format
+msgid "Type the name for workspace %i:"
+msgstr "Entreu un nom per a l'escriptori %i:"
+
+#: ../src/dock.c:214 ../src/dock.c:1142 ../src/dock.c:1145 ../src/dock.c:3410
+msgid "Rename Workspace"
+msgstr "Reanomenar escriptori"
+
+#: ../src/dock.c:520 ../src/dock.c:528
+msgid "Warning"
+msgstr "Atenció"
+
+#: ../src/dock.c:521
+msgid ""
+"Some icons cannot be made omnipresent. Please make sure that no other icon "
+"is docked in the same positions on the other workspaces and the Clip is not "
+"full in some workspace."
+msgstr ""
+"Algunes icones no es poden fer omnipresents. Si us plau, assegureu-vos que "
+"cap altra icona no estigui ancorada en la mateixa posició a altres "
+"escriptoris i que el Clip no estigui plè."
+
+#: ../src/dock.c:529
+msgid ""
+"Icon cannot be made omnipresent. Please make sure that no other icon is "
+"docked in the same position on the other workspaces and the Clip is not full "
+"in some workspace."
+msgstr ""
+"L'icona no és pot fer omnipresent. Si us plau, assegureu-vos que cap altra "
+"icona no estigui ancorada en la mateixa posició a altres escriptoris i que "
+"el Clip no estigui plè."
+
+#: ../src/dock.c:556
+msgid "Workspace Clip"
+msgstr "Clip de l'escriptori"
+
+#: ../src/dock.c:557
+msgid "All selected icons will be removed!"
+msgstr "Totes les icones seleccionades s'elimaràn!"
+
+#: ../src/dock.c:608 ../src/dock.c:1157 ../src/dock.c:1159 ../src/dock.c:3446
+msgid "Keep Icon"
+msgstr "Mantenir icona"
+
+#: ../src/dock.c:609 ../src/dock.c:2138 ../src/dock.c:2279
+msgid "Type the command used to launch the application"
+msgstr "Entreu l'instrucció per executar l'aplicació"
+
+#: ../src/dock.c:965
+#, c-format
+msgid "could not launch application %s\n"
+msgstr "no s'ha pogut executar l'aplicació %s\n"
+
+#: ../src/dock.c:1020
+msgid "could not create workspace submenu for Clip menu"
+msgstr "no s'ha pogut crear el submenú d'escriptori en el menú del Clip"
+
+#: ../src/dock.c:1079
+msgid "could not create options submenu for Clip menu"
+msgstr "no s'ha pogut crear el submenú d'opcions en el menú del Clip"
+
+#: ../src/dock.c:1083 ../src/dock.c:1131
+msgid "Keep on Top"
+msgstr "Mantenir a dalt"
+
+#: ../src/dock.c:1089
+msgid "Collapsed"
+msgstr "Col·lapsat"
+
+#: ../src/dock.c:1095
+msgid "Autocollapse"
+msgstr "Autocol·lapsa"
+
+#: ../src/dock.c:1101
+msgid "Autoraise"
+msgstr "Autoeleva"
+
+#: ../src/dock.c:1107
+msgid "Autoattract Icons"
+msgstr "Autoatreu icones"
+
+#: ../src/dock.c:1137
+msgid "Clip Options"
+msgstr "Opcions del Clip"
+
+#: ../src/dock.c:1147
+msgid "Selected"
+msgstr "Selecciona"
+
+# totes les icones?
+#: ../src/dock.c:1152 ../src/dock.c:1155 ../src/dock.c:3437
+msgid "Select All Icons"
+msgstr "Selecciona totes"
+
+#: ../src/dock.c:1161 ../src/dock.c:1163 ../src/dock.c:3454
+msgid "Move Icon To"
+msgstr "Mou icona a"
+
+#: ../src/dock.c:1168 ../src/dock.c:1171 ../src/dock.c:3465
+msgid "Remove Icon"
+msgstr "Elimina icona"
+
+#: ../src/dock.c:1173
+msgid "Attract Icons"
+msgstr "Atreu icones"
+
+#: ../src/dock.c:1176
+msgid "Launch"
+msgstr "Executa"
+
+#: ../src/dock.c:1184
+msgid "Settings..."
+msgstr "Configuració..."
+
+#: ../src/dock.c:1549 ../src/dock.c:1656
+#, c-format
+msgid "bad value in docked icon state info %s"
+msgstr "valor no vàlid en l'informació d'estat de l'icona ancorada %s"
+
+#: ../src/dock.c:1664
+#, c-format
+msgid "bad value in docked icon position %i,%i"
+msgstr "valor no vàlid de l'icona ancorada a la posició %i,%i"
+
+#: ../src/dock.c:1684
+#, c-format
+msgid "bad value in dock state info:%s"
+msgstr "valor no vàlid en l'informació d'estat del moll:%s"
+
+#: ../src/dock.c:1920
+msgid "there are too many icons stored in dock. Ignoring what doesn't fit"
+msgstr "hi ha massa icones ancorades al moll. S'ignoren les que no hi caben"
+
+#. icon->forced_dock = 1;
+#: ../src/dock.c:2137 ../src/dock.c:2278
+msgid "Dock Icon"
+msgstr "Ancora icona"
+
+#: ../src/dock.c:3324
+#, c-format
+msgid "Could not execute command \"%s\""
+msgstr "No s'ha pogut executar \"%s\""
+
+#: ../src/dock.c:3416
+msgid "Toggle Omnipresent"
+msgstr "Omnipresència"
+
+#: ../src/dock.c:3421 ../src/kwm.c:637 ../src/winmenu.c:418
+#: ../src/winspector.c:1375
+msgid "Omnipresent"
+msgstr "Omnipresent"
+
+# totes les icones?
+#: ../src/dock.c:3435
+msgid "Unselect All Icons"
+msgstr "Deselecciona totes"
+
+#: ../src/dock.c:3444
+msgid "Keep Icons"
+msgstr "Manté icones"
+
+#: ../src/dock.c:3452
+msgid "Move Icons To"
+msgstr "Mou icones a"
+
+#: ../src/dock.c:3463
+msgid "Remove Icons"
+msgstr "Elimina icones"
+
+#: ../src/dock.c:3494 ../src/kwm.c:643
+msgid "Bring Here"
+msgstr "Porta aquí"
+
+#: ../src/dockedapp.c:149
+#, c-format
+msgid "could not find icon %s, used in a docked application"
+msgstr "no s'ha trobat l'icona %s, usada per una aplicació ancorada"
+
+#: ../src/dockedapp.c:229
+#, c-format
+msgid "Could not open specified icon file: %s"
+msgstr "No s'ha pogut obrir el fitxer d'icona especificat: %s"
+
+#: ../src/dockedapp.c:231
+msgid "Ignore"
+msgstr "Ignora"
+
+#: ../src/dockedapp.c:333
+msgid "Start when Window Maker is started"
+msgstr "Executa quan s'inicia Window Maker"
+
+#: ../src/dockedapp.c:340
+msgid "Lock (prevent accidental removal)"
+msgstr "Bloqueja (evita l'eliminació accidental)"
+
+#: ../src/dockedapp.c:344
+msgid "Application path and arguments"
+msgstr "Camí i arguments de l'aplicació"
+
+#: ../src/dockedapp.c:357
+msgid "Command for middle-click launch"
+msgstr "Ordre pels clics amb el botó del mig"
+
+#: ../src/dockedapp.c:371
+#, c-format
+msgid "%s will be replaced with current selection"
+msgstr "%s serà substituït pel text seleccionat"
+
+#: ../src/dockedapp.c:376
+msgid "Command for files dropped with DND"
+msgstr "Ordre pels fitxers deixats anar amb DND"
+
+#: ../src/dockedapp.c:390
+#, c-format
+msgid "%d will be replaced with the file name"
+msgstr "%d serà substituït pel nom del fitxer"
+
+#: ../src/dockedapp.c:394
+msgid "DND support was not compiled in"
+msgstr "No s'ha compilat suport per DND"
+
+#: ../src/dockedapp.c:399
+msgid "Icon Image"
+msgstr "Imatge d'icona"
+
+#: ../src/dockedapp.c:413 ../src/winspector.c:1513
+msgid "Browse..."
+msgstr "Fulleja..."
+
+#: ../src/dockedapp.c:466
+msgid "Docked Application Settings"
+msgstr "Configuració de l'aplicació ancorada"
+
+#: ../src/framewin.c:649 ../src/framewin.c:744 ../src/menu.c:456
+#: ../src/texture.c:594
+#, c-format
+msgid "could not render texture: %s"
+msgstr "no s'ha pogut representar la textura: %s"
+
+#: ../src/framewin.c:672 ../src/framewin.c:683 ../src/framewin.c:699
+#: ../src/framewin.c:710 ../src/framewin.c:717 ../src/framewin.c:724
+#: ../src/icon.c:350 ../src/menu.c:485
+#, c-format
+msgid "error rendering image:%s"
+msgstr "error representant la imatge: %s"
+
+#: ../src/framewin.c:777
+#, c-format
+msgid "error rendering image: %s"
+msgstr "error representant la imatge: %s"
+
+#: ../src/gnome.c:216 ../src/gnome.c:343 ../src/gnome.c:401
+msgid "out of memory while updating GNOME hints"
+msgstr "memòria esgotada quan s'actualitzaven les pistes de GNOME"
+
+#: ../src/icon.c:229 ../src/wdefaults.c:443
+#, c-format
+msgid "error loading image file \"%s\""
+msgstr "error en carregar el fitxer d'imatge \"%s\""
+
+#: ../src/icon.c:493 ../src/icon.c:502
+#, c-format
+msgid "could not create directory %s"
+msgstr "no s'ha pogut crear el directori %s"
+
+#: ../src/icon.c:769
+#, c-format
+msgid "could not find default icon \"%s\""
+msgstr "no s'ha trobat l'icona per omissió \"%s\""
+
+#: ../src/icon.c:775
+#, c-format
+msgid "could not load default icon \"%s\":%s"
+msgstr "no s'ha pogut carregar l'icona per omissió \"%s\":%s"
+
+#.
+#. * Warning: If you make some change that affects the order of the
+#. * entries, you must update the command #defines in the top of
+#. * this file.
+#.
+#: ../src/kwm.c:633 ../src/winmenu.c:441 ../src/winmenu.c:583
+msgid "Maximize"
+msgstr "Maximitza"
+
+#: ../src/kwm.c:634 ../src/winmenu.c:578
+msgid "Unmaximize"
+msgstr "Desmaximitza"
+
+#: ../src/kwm.c:635 ../src/winmenu.c:449 ../src/winmenu.c:569
+msgid "Miniaturize"
+msgstr "Miniaturitza"
+
+#: ../src/kwm.c:636 ../src/winmenu.c:564
+msgid "Deminiaturize"
+msgstr "Desminiaturitza"
+
+#: ../src/kwm.c:638
+msgid "Not Omnipresent"
+msgstr "No omnipresent"
+
+#: ../src/kwm.c:639
+msgid "Move"
+msgstr "Mou"
+
+#: ../src/kwm.c:640
+msgid "Resize"
+msgstr "Redimensiona"
+
+#.
+#. entry = wMenuAddCallback(menu, _("Select Shortcut"), NULL, NULL);
+#. wMenuEntrySetCascade(menu, entry, makeMakeShortcutMenu(scr));
+#.
+#: ../src/kwm.c:641 ../src/rootmenu.c:248 ../src/winmenu.c:513
+msgid "Close"
+msgstr "Tanca"
+
+#: ../src/kwm.c:642 ../src/winmenu.c:497
+msgid "Move To"
+msgstr "Mou a"
+
+#: ../src/kwm.c:1096
+msgid "%a(Run Command,Type the command to run:)"
+msgstr "%a(Executar,Entreu l'instrucció a executar:)"
+
+#: ../src/main.c:222
+msgid "failed to restart Window Maker."
+msgstr "no s'ha pogut reiniciar Window Maker."
+
+#: ../src/main.c:225
+#, c-format
+msgid "could not exec %s"
+msgstr "no s'ha pogut executar %s"
+
+#: ../src/main.c:271
+msgid "Could not execute command: "
+msgstr "No s'ha pogut executar l'ordre: "
+
+#: ../src/main.c:428
+#, c-format
+msgid "%s aborted.\n"
+msgstr "%s avortat.\n"
+
+#: ../src/main.c:439
+#, c-format
+msgid "Usage: %s [options]\n"
+msgstr "Sintaxi: %s [opcions}\n"
+
+#: ../src/main.c:440
+msgid "The Window Maker window manager for the X window system"
+msgstr "El gestor de finestres Window Maker pel sistema de finestres X"
+
+#: ../src/main.c:442
+msgid " -display host:dpy\tdisplay to use"
+msgstr " -display host:dpy      quina pantalla utilitzar"
+
+#: ../src/main.c:444
+msgid " --no-cpp \t\tdisable preprocessing of configuration files"
+msgstr ""
+" --no-cpp               omet el preprocessament dels fitxers de configuració"
+
+#: ../src/main.c:446
+msgid " --no-dock\t\tdo not open the application Dock"
+msgstr "  --no-dock             no obre el Moll d'aplicacions"
+
+#: ../src/main.c:447
+msgid " --no-clip\t\tdo not open the workspace Clip"
+msgstr " --no-clip              no obre el Clip d'escriptori"
+
+#: ../src/main.c:448
+msgid " --no-autolaunch\tdo not autolaunch applications"
+msgstr " --no-autolaunch        no executa aplicacions automàticament"
+
+#: ../src/main.c:449
+msgid " --dont-restore\t\tdo not restore saved session"
+msgstr " --dont-restore         no restaura la sessió desada"
+
+#: ../src/main.c:451
+msgid " --locale locale\tlocale to use"
+msgstr " --locale local         quin local utilitzar"
+
+#: ../src/main.c:453
+msgid ""
+" --create-stdcmap\tcreate the standard colormap hint in PseudoColor visuals"
+msgstr ""
+" --create-stdcmap       crea un mapa de colors estàndard pels visuals "
+"PseudoColor"
+
+#: ../src/main.c:454
+msgid " --visual-id visualid\tvisual id of visual to use"
+msgstr "  --visual-id visualid  identificació del visual a utilitzar"
+
+#: ../src/main.c:455
+msgid " --static\t\tdo not update or save configurations"
+msgstr "  --static              no actualitza ni desa la configuració"
+
+#: ../src/main.c:456
+msgid " --no-polling\t\tdo not periodically check for configuration updates"
+msgstr ""
+" --no-polling           no comprova periòdicament si ha canviat la "
+"configuració"
+
+#: ../src/main.c:458
+msgid " --synchronous\t\tturn on synchronous display mode"
+msgstr " --synchronous          habilita el mode de pantalla sincronitzat"
+
+#: ../src/main.c:460
+msgid " --version\t\tprint version and exit"
+msgstr " --version              mostra la versió i surt"
+
+#: ../src/main.c:461
+msgid " --help\t\t\tshow this message"
+msgstr " --help         mostra aquesta ajuda"
+
+#: ../src/main.c:474
+#, c-format
+msgid ""
+"could not find user GNUstep directory (%s).\n"
+"Make sure you have installed Window Maker correctly and run wmaker.inst"
+msgstr ""
+"no s'ha trobat el directori d'usuari GNUstep (%s).\n"
+"Assegureu-vos que heu instal·lat Window Maker correctament i executeu wmaker."
+"inst"
+
+#: ../src/main.c:479
+#, c-format
+msgid "could not find user GNUstep directory (%s)."
+msgstr "no s'ha trobat el directori d'usuari GNUstep (%s)."
+
+#: ../src/main.c:482
+msgid ""
+"There was an error while creating GNUstep directory, please make sure you "
+"have installed Window Maker correctly and run wmaker.inst"
+msgstr ""
+"S'ha produït un error quan es creava el directori GNUstep, si us plau "
+"assegureu-vos que heu instal·lat Window Maker correctament i executeu wmaker."
+"inst"
+
+#: ../src/main.c:485
+#, c-format
+msgid "%s directory created with default configuration."
+msgstr "s'ha creat el directori %s amb la configuració per omissió."
+
+#: ../src/main.c:505 ../src/main.c:510
+#, c-format
+msgid "%s:could not execute initialization script"
+msgstr "%s:no s'ha pogut executar l'script s'inicialització"
+
+#: ../src/main.c:530 ../src/main.c:535
+#, c-format
+msgid "%s:could not execute exit script"
+msgstr "%s:no s'ha pogut executar l'script de sortida"
+
+#: ../src/main.c:663 ../src/main.c:671 ../src/main.c:679 ../src/main.c:699
+#, c-format
+msgid "too few arguments for %s"
+msgstr "falten arguments per a %s"
+
+#: ../src/main.c:683
+#, c-format
+msgid "bad value for visualid: \"%s\""
+msgstr "valor de visualid incorrecte: \"%s\""
+
+#: ../src/main.c:707
+#, c-format
+msgid "%s: invalid argument '%s'\n"
+msgstr "%s: l'argument '%s' no és vàlid\n"
+
+#: ../src/main.c:708
+#, c-format
+msgid "Try '%s --help' for more information\n"
+msgstr "Proveu '%s --help' per a més informació\n"
+
+#: ../src/main.c:739
+msgid "X server does not support locale"
+msgstr "el servidor X no suporta el local"
+
+#: ../src/main.c:743
+msgid "cannot set locale modifiers"
+msgstr "no s'han pogut establir els modificadors de locals"
+
+#: ../src/main.c:759
+#, c-format
+msgid "could not open display \"%s\""
+msgstr "no s'ha pogut obrir la pantalla \"%s\""
+
+#: ../src/menu.c:1264
+msgid "could not grab keyboard"
+msgstr "no s'ha detectat cap teclat"
+
+#: ../src/menu.c:2578
+#, c-format
+msgid "bad value in menus state info:%s"
+msgstr "valor incorrecte en l'informació d'estat dels menus:%s"
+
+#: ../src/misc.c:71
+#, c-format
+msgid "could not define value for %s for cpp"
+msgstr "no s'ha pogut establir el valor de %s per cpp"
+
+#: ../src/misc.c:101
+#, c-format
+msgid "could not get password entry for UID %i"
+msgstr "no s'ha trobat l'entrada de contrasenya per l'usuari amb UID %i"
+
+#: ../src/misc.c:126
+#, c-format
+msgid "your machine is misconfigured. HOSTNAME is set to %s"
+msgstr "el sistema està mal configurat. HOSTNAME establert en %s"
+
+#: ../src/misc.c:132
+#, c-format
+msgid "your machine is misconfigured. HOST is set to %s"
+msgstr "el sistema està mal configurat. HOST establert en %s"
+
+#: ../src/misc.c:630
+msgid "Program Arguments"
+msgstr "Arguments del programa"
+
+#: ../src/misc.c:631
+msgid "Enter command arguments:"
+msgstr "Entreu els arguments del programa:"
+
+#: ../src/misc.c:724
+msgid "unable to get dropped data from DND drop"
+msgstr "no s'han pogut obtenir les dades deixades anar amb DND"
+
+#: ../src/misc.c:732
+msgid "error getting dropped data from DND drop"
+msgstr "error quan s'obtenien les dades deixades anar amb DND"
+
+#: ../src/misc.c:738
+msgid "out of memory while getting data from DND drop"
+msgstr "memòria exhaurida quan s'obtenien dades deixades anar amb DND"
+
+#: ../src/misc.c:783 ../src/misc.c:923
+#, c-format
+msgid "out of memory during expansion of \"%s\""
+msgstr "memòria exhaurida durant l'expansió de \"%s\""
+
+#: ../src/misc.c:837
+msgid "out of memory during expansion of \"%w\""
+msgstr "memòria exhaurida durant l'expansió de \"%w\""
+
+#: ../src/misc.c:855
+msgid "out of memory during expansion of \"%W\""
+msgstr "memòria exhaurida durant l'expansió de \"%W\""
+
+#: ../src/misc.c:871
+msgid "out of memory during expansion of \"%a\""
+msgstr "memòria exhaurida durant l'expansió de \"%a\""
+
+#: ../src/misc.c:902
+#, c-format
+msgid "out of memory during expansion of \"%d\""
+msgstr "memòria exhaurida durant l'expansió de \"%d\""
+
+#: ../src/misc.c:916
+msgid "selection not available"
+msgstr "selecció no disponible"
+
+#: ../src/misc.c:972 ../src/misc.c:978
+#, c-format
+msgid "bad window name value in %s state info"
+msgstr "valor de nom de finestra incorrecte en l'informació d'estat de %s"
+
+#: ../src/misc.c:1235
+msgid "could not send message to background image helper"
+msgstr "no s'ha pogut enviar un missatge al programa auxiliar d'imatge de fons"
+
+#: ../src/pixmap.c:235
+#, c-format
+msgid "could not load mask bitmap file \"%s\". Won't use mask"
+msgstr ""
+"no s'ha pogut carregar el fitxer de màscara \"%s\". No s'usarà cap màscara"
+
+#: ../src/resources.c:44
+#, c-format
+msgid "could not parse color \"%s\""
+msgstr "no s'ha pogut analitzar el nom de color \"%s\""
+
+#: ../src/resources.c:48
+#, c-format
+msgid "could not allocate color \"%s\""
+msgstr "no s'ha pogut assignar memòria pel color \"%s\""
+
+#: ../src/rootmenu.c:196 ../src/rootmenu.c:198
+msgid "Exit"
+msgstr "Sortir"
+
+#: ../src/rootmenu.c:197
+msgid "Exit window manager?"
+msgstr "Sortir del gestor de finestres?"
+
+#: ../src/rootmenu.c:245
+msgid "Close X session"
+msgstr "Tancar la sessió X"
+
+#: ../src/rootmenu.c:246
+msgid ""
+"Close Window System session?\n"
+"Kill might close applications with unsaved data."
+msgstr ""
+"Tancar la sessió del sistema de finestres?\n"
+"Això podria tancar aplicacions obertes amb dades no desades."
+
+#: ../src/rootmenu.c:261
+msgid "Kill X session"
+msgstr "Finalitzar la sessió X"
+
+#: ../src/rootmenu.c:262
+msgid ""
+"Kill Window System session?\n"
+"(all applications will be closed)"
+msgstr ""
+"Finalitzar la sessió del sistema de finestres?\n"
+"(es tancaràn totes les aplicacions)"
+
+#: ../src/rootmenu.c:539
+#, c-format
+msgid "%s:invalid kbd shortcut specification \"%s\" for entry %s"
+msgstr ""
+"%s:l'espcificació kbd de vincle de tecla \"%s\" no és vàlida a l'entrada %s"
+
+#: ../src/rootmenu.c:547
+#, c-format
+msgid "%s:invalid key in shortcut \"%s\" for entry %s"
+msgstr "%s:tecla no vàlida en el vincle \"%s\" a l'entrada %s"
+
+#: ../src/rootmenu.c:600
+#, c-format
+msgid "%s: unmatched '\"' in menu file"
+msgstr "%s: cometes '\"' desaparellades en el fitxer de menú"
+
+#: ../src/rootmenu.c:650
+#, c-format
+msgid "%s: missing command"
+msgstr "%s: ordre inexistent"
+
+#: ../src/rootmenu.c:682
+#, c-format
+msgid "invalid OPEN_MENU specification: %s"
+msgstr "l'especificació OPEN_MENU no és vàlida: %s"
+
+#: ../src/rootmenu.c:733
+#, c-format
+msgid "%s:could not stat menu"
+msgstr "%s:no s'ha pogut determinar l'estat del menú"
+
+#: ../src/rootmenu.c:741
+#, c-format
+msgid "%s:could not stat menu:%s"
+msgstr "%s:no s'ha pogut determinar l'estat del menú:%s"
+
+#: ../src/rootmenu.c:759
+#, c-format
+msgid "too many parameters in OPEN_MENU: %s"
+msgstr "sobren paràmetres en OPEN_MENU: %s"
+
+#: ../src/rootmenu.c:803
+msgid ""
+"There are more than one WORKSPACE_MENU commands in the applications menu. "
+"Only one is allowed."
+msgstr ""
+"Hi ha més d'una instrucció WORKSPACE_MENU en el menú d'aplicacions. Només "
+"se'n permet una."
+
+#: ../src/rootmenu.c:837
+msgid ""
+"There are more than one WINDOWS_MENU commands in the applications menu. Only "
+"one is allowed."
+msgstr ""
+"Hi ha més d'una instrucció WINDOWS_MENU en el menú d'aplicacions. Només se'n "
+"permet una."
+
+#: ../src/rootmenu.c:842
+msgid "Window List"
+msgstr "Llista de finestres"
+
+#: ../src/rootmenu.c:871 ../src/rootmenu.c:889 ../src/rootmenu.c:899
+#, c-format
+msgid "%s:missing parameter for menu command \"%s\""
+msgstr "%s:falta un paràmetre en la instrucció de menú \"%s\""
+
+#: ../src/rootmenu.c:967
+#, c-format
+msgid "%s:unknown command \"%s\" in menu config."
+msgstr "%s:instrucció desconeguda \"%s\" en la configuració del menú."
+
+#: ../src/rootmenu.c:975
+#, c-format
+msgid "%s:can't add shortcut for entry \"%s\""
+msgstr "%s:no s'ha pogut afegir el vincle de l'entrada \"%s\""
+
+#: ../src/rootmenu.c:1112
+#, c-format
+msgid "%s:maximal line size exceeded in menu config: %s"
+msgstr ""
+"%s:s'ha excedit la longitud màxima de línia en la configuració del menú: %s"
+
+#: ../src/rootmenu.c:1134 ../src/rootmenu.c:1227 ../src/rootmenu.c:1330
+#, c-format
+msgid "%s:missing command in menu config: %s"
+msgstr "%s:falta instrucció en el menú de configuració: %s"
+
+#: ../src/rootmenu.c:1164
+#, c-format
+msgid "%s:syntax error in menu file:END declaration missing"
+msgstr "%s:error de sintaxi en el fitxer de menú: falta la declaració \"END\""
+
+#: ../src/rootmenu.c:1193 ../src/rootmenu.c:1294
+msgid "could not make arguments for menu file preprocessor"
+msgstr ""
+"no s'han pogut crear els arguments pel preprocessador del fitxer de menú"
+
+#: ../src/rootmenu.c:1200 ../src/rootmenu.c:1302
+#, c-format
+msgid "%s:could not open/preprocess menu file"
+msgstr "%s:no s'ha pogut obrir/preprocessar el fitxer de menú"
+
+#: ../src/rootmenu.c:1212 ../src/rootmenu.c:1315
+#, c-format
+msgid "%s:could not open menu file"
+msgstr "%s:no s'ha pogut obrir el fitxer de menú"
+
+#: ../src/rootmenu.c:1239
+#, c-format
+msgid "%s:invalid menu file. MENU command is missing"
+msgstr "%s:el fitxer de menú no és vàlid. Falta la instrucció \"MENU\""
+
+#: ../src/rootmenu.c:1248
+msgid "error reading preprocessed menu data"
+msgstr "error quan es llegien les dades del menú preprocessades"
+
+#: ../src/rootmenu.c:1342
+#, c-format
+msgid "%s:no title given for the root menu"
+msgstr "%s:no hi ha cap títol especificat pel menú arrel"
+
+#: ../src/rootmenu.c:1433 ../src/rootmenu.c:1506 ../src/rootmenu.c:1547
+#, c-format
+msgid "out of memory while constructing directory menu %s"
+msgstr "memòria exhaurida quan es construia el menú de directori %s"
+
+#: ../src/rootmenu.c:1443
+#, c-format
+msgid "%s:could not stat file \"%s\" in menu directory"
+msgstr ""
+"%s:no s'ha pogut obtenir l'estat del fitxer \"%s\" pel menú de directori"
+
+#: ../src/rootmenu.c:1601
+msgid "Commands"
+msgstr "Ordres"
+
+#: ../src/rootmenu.c:1604
+msgid "Restart"
+msgstr "Reinicia"
+
+#: ../src/rootmenu.c:1605
+msgid "Exit..."
+msgstr "Surt..."
+
+#: ../src/rootmenu.c:1650
+#, c-format
+msgid "could not find menu file \"%s\" referenced in WMRootMenu"
+msgstr "no s'ha trobat el fitxer de menú \"%s\" esmentat en WMRootMenu"
+
+#: ../src/rootmenu.c:1657
+#, c-format
+msgid "could not access menu \"%s\" referenced in WMRootMenu"
+msgstr "no s'ha pogut accedir al menú \"%s\" esmentat en WMRootMenu"
+
+#: ../src/rootmenu.c:1668
+#, c-format
+msgid ""
+"using default menu file \"%s\" as the menu referenced in WMRootMenu could "
+"not be found "
+msgstr ""
+"com que el menú esmentat en WMRootMenu no s'ha trobat, s'usa el fitxer de "
+"menú per omissió \"%s\""
+
+#: ../src/rootmenu.c:1691 ../src/rootmenu.c:1767
+#, c-format
+msgid "%s:format error in root menu configuration \"%s\""
+msgstr "%s:error de format en la configuració del menú arrel \"%s\""
+
+#: ../src/rootmenu.c:1855
+msgid ""
+"The applications menu could not be loaded. Look at the console output for a "
+"detailed description of the errors."
+msgstr ""
+"No s'ha pogut carregar el menú d'aplicacions. Feu un cop d'ull als missatges "
+"de la consola per a una descripció detallada dels errors."
+
+#: ../src/screen.c:747
+#, c-format
+msgid "could not initialize graphics library context: %s"
+msgstr "no s'ha pogut inicialitzar el context de la biblioteca gràfica: %s"
+
+#: ../src/screen.c:778
+msgid "could not do initialization of WINGs widget set"
+msgstr "no s'ha pogut inicialitzar el conjunt d'elements WINGs"
+
+#: ../src/screen.c:1144
+#, c-format
+msgid "could not save session state in %s"
+msgstr "no s'ha pogut desar l'estat de la sessió en %s"
+
+#: ../src/session.c:183 ../src/wdefaults.c:589 ../src/winspector.c:454
+#, c-format
+msgid "can't convert \"%s\" to boolean"
+msgstr "no s'ha pogut convertir \"%s\" a un valor booleà"
+
+#: ../src/session.c:1023
+msgid "out of memory while saving session state"
+msgstr "memòria exhaurida mentres es desava l'estat de la sessió"
+
+#: ../src/session.c:1106
+msgid "end of memory while saving session state"
+msgstr "memòria exhaurida mentres es desava l'estat de la sessió"
+
+#. This is not fatal but can mean the session manager exited.
+#. * If the session manager exited normally we would get a
+#. * Die message, so this probably means an abnormal exit.
+#. * If the sm was the last client of session, then we'll die
+#. * anyway, otherwise we can continue doing our stuff.
+#.
+#: ../src/session.c:1244
+msgid "connection to the session manager was lost"
+msgstr "s'ha perdut la connexió amb el gestor de sessions"
+
+#: ../src/stacking.c:79
+msgid "could not get window list!!"
+msgstr "no s'ha pogut obtenir la llista de finestres !!"
+
+#: ../src/startup.c:202
+#, c-format
+msgid "internal X error: %s\n"
+msgstr "error intern de X: %s\n"
+
+#: ../src/startup.c:260
+#, c-format
+msgid "got signal %i (%s) - restarting\n"
+msgstr "rebut un senyal %i (%s) - reiniciant\n"
+
+#: ../src/startup.c:262
+#, c-format
+msgid "got signal %i - restarting\n"
+msgstr "rebut un senyal %i - reiniciant\n"
+
+#: ../src/startup.c:272
+#, c-format
+msgid "got signal %i (%s) - rereading defaults\n"
+msgstr "rebut un senyal %i (%s) - es tornen a llegir els valors per omissió\n"
+
+#: ../src/startup.c:274
+#, c-format
+msgid "got signal %i - rereading defaults\n"
+msgstr "rebut un senyal %i - es tornen a llegir els valors per omissió\n"
+
+#: ../src/startup.c:284
+#, c-format
+msgid "got signal %i (%s) - exiting...\n"
+msgstr "rebut un senyal %i (%s) - sortint...\n"
+
+#: ../src/startup.c:286
+#, c-format
+msgid "got signal %i - exiting...\n"
+msgstr "s'ha rebut un senyal %i - sortint...\n"
+
+#: ../src/startup.c:329
+#, c-format
+msgid "got signal %i (%s)\n"
+msgstr "s'ha rebut un senyal %i (%s)\n"
+
+#: ../src/startup.c:331
+#, c-format
+msgid "got signal %i\n"
+msgstr "s'ha rebut un senyal %i\n"
+
+#: ../src/startup.c:342
+msgid ""
+"crashed while trying to do some post-crash cleanup. Aborting immediatelly."
+msgstr ""
+"error fatal mentre s'intentava arreglar una situació post-crítica. S'avorta "
+"immediatament."
+
+#. we try to restart Window Maker
+#: ../src/startup.c:406
+msgid "trying to restart Window Maker..."
+msgstr "s'està intentant reiniciar Window Maker..."
+
+#: ../src/startup.c:411
+msgid "trying to start alternate window manager..."
+msgstr "s'està intentant iniciar un gestor de finestres alternatiu..."
+
+#: ../src/startup.c:417
+msgid "failed to start alternate window manager. Aborting."
+msgstr "no s'ha pogut iniciar un gestor de finestres alternatiu. S'avorta."
+
+#: ../src/startup.c:419
+msgid ""
+"a fatal error has occured, probably due to a bug. Please fill the included "
+"BUGFORM and report it."
+msgstr ""
+"s'ha produït un error fatal, probablement a causa d'un \"bug\". Si us plau, "
+"ompliu el formulari d'error inclòs i envieu-lo."
+
+#: ../src/startup.c:894
+#, c-format
+msgid "icon size is configured to %i, but it's too small. Using 16, instead\n"
+msgstr ""
+"la mida de les icones està establerta en %i, però és massa petita. S'usarà "
+"el valor 16 en lloc seu\n"
+
+#: ../src/startup.c:922
+msgid "XKB is not supported. KbdModeLock is automatically disabled."
+msgstr "XKB no està suportat. KbdModeLock s'ha inhabilitat automàticament."
+
+#: ../src/startup.c:941
+msgid "it seems that there is already a window manager running"
+msgstr "sembla que ja hi ha un gestor de finestres funcionant"
+
+#: ../src/startup.c:947
+#, c-format
+msgid "could not manage screen %i"
+msgstr "no s'ha pogut controlar la pantalla %i"
+
+#: ../src/startup.c:1015
+msgid "could not manage any screen"
+msgstr "no s'ha pogut controlar cap pantalla"
+
+#: ../src/switchmenu.c:137
+msgid "Windows"
+msgstr "Finestres"
+
+#: ../src/texture.c:329 ../src/texture.c:371
+#, c-format
+msgid "image file \"%s\" used as texture could not be found."
+msgstr "el fitxer d'imatge \"%s\" usat com a textura no s'ha trobat."
+
+#: ../src/texture.c:335 ../src/texture.c:377
+#, c-format
+msgid "could not load texture pixmap \"%s\":%s"
+msgstr "no s'ha pogut carregar el fitxer de mapa de bits \"%s\":%s"
+
+#: ../src/texture.c:437
+#, c-format
+msgid "library \"%s\" cound not be opened."
+msgstr "no s'ha pogut obrir la biblioteca \"%s\"."
+
+#: ../src/texture.c:446
+#, c-format
+msgid "function \"%s\" not found in library \"%s\""
+msgstr "no s'ha trobat la rutina \"%s\" a la biblioteca \"%s\""
+
+#: ../src/texture.c:453
+msgid "function textures not supported on this system, sorry."
+msgstr "aquest sistema no suporta funcions de textura."
+
+#: ../src/texture.c:598
+msgid "could not allocate image buffer"
+msgstr "no s'ha pogut assignar memòria pel buffer d'imatge"
+
+#: ../src/wdefaults.c:437
+#, c-format
+msgid "could not find icon file \"%s\""
+msgstr "no s'ha trobat el fitxer d'icona \"%s\""
+
+#: ../src/window.c:2942 ../src/window.c:3081
+msgid ""
+"the NumLock, ScrollLock or similar key seems to be turned on.\n"
+"Turn it off or some mouse actions and keyboard shortcuts will not work."
+msgstr ""
+"sembla que la tecla NumLock, ScrollLock o una similar està activada.\n"
+"Desactiveu-la o algunes accions del ratolí o vincles de tecla no funcionaràn."
+
+#: ../src/winmenu.c:126
+msgid ""
+"This will kill the application.\n"
+"Any unsaved changes will be lost.\n"
+"Please confirm."
+msgstr ""
+"Això finalitzarà l'aplicació.\n"
+"Els canvis no desats es perdràn.\n"
+"Voleu continuar?"
+
+#: ../src/winmenu.c:272 ../src/winmenu.c:281
+msgid "Set Shortcut"
+msgstr "Establir vincle"
+
+#: ../src/winmenu.c:359 ../src/winmenu.c:404
+msgid "could not create submenu for window menu"
+msgstr "no s'ha pogut crear un submenú en el menú de finestres"
+
+#: ../src/winmenu.c:408
+msgid "Keep on top"
+msgstr "Manté a dalt"
+
+#: ../src/winmenu.c:413
+msgid "Keep at bottom"
+msgstr "Manté a baix"
+
+#: ../src/winmenu.c:457 ../src/winmenu.c:600
+msgid "Shade"
+msgstr "Ombreja"
+
+#: ../src/winmenu.c:473
+msgid "Hide Others"
+msgstr "Amaga altres"
+
+#: ../src/winmenu.c:481
+msgid "Resize/Move"
+msgstr "Mou/Redimensiona"
+
+#: ../src/winmenu.c:489
+msgid "Select"
+msgstr "Selecciona"
+
+#: ../src/winmenu.c:502
+msgid "Attributes..."
+msgstr "Atributs..."
+
+#: ../src/winmenu.c:504
+msgid "Options"
+msgstr "Opcions"
+
+#: ../src/winmenu.c:595
+msgid "Unshade"
+msgstr "Desombreja"
+
+#: ../src/winspector.c:387
+#, c-format
+msgid "Could not find icon \"%s\" specified for this window"
+msgstr "No s'ha trobat l'icona \"%s\" especificat per aquesta finestra"
+
+#: ../src/winspector.c:404
+#, c-format
+msgid "Could not open specified icon \"%s\":%s"
+msgstr "No s'ha pogut obrir l'icona especificada \"%s\":%s"
+
+#: ../src/winspector.c:1121
+#, c-format
+msgid "Inspecting  %s.%s"
+msgstr "Propietats de %s.%s"
+
+#: ../src/winspector.c:1147
+msgid "Click in the window you wish to inspect."
+msgstr "Feu clic a la finestra que volgueu inspeccionar."
+
+#: ../src/winspector.c:1186
+msgid ""
+"The configuration will apply to all\n"
+"windows that have their WM_CLASS\n"
+"property set to the above selected\n"
+"name, when saved."
+msgstr ""
+"La configuració afectarà a totes les\n"
+"finestres que tinguin la propietat\n"
+"WM_CLASS igual que la seleccionada."
+
+#: ../src/winspector.c:1215
+msgid "Save"
+msgstr "Desa"
+
+#: ../src/winspector.c:1223
+msgid "Apply"
+msgstr "Aplica"
+
+#: ../src/winspector.c:1229
+msgid "Reload"
+msgstr "Recarrega"
+
+#: ../src/winspector.c:1238 ../src/winspector.c:1248
+msgid "Window Specification"
+msgstr "Especificacions de la finestra"
+
+#: ../src/winspector.c:1239
+msgid "Window Attributes"
+msgstr "Atributs de la finestra"
+
+#: ../src/winspector.c:1240
+msgid "Advanced Options"
+msgstr "Opcions avançades"
+
+#: ../src/winspector.c:1241
+msgid "Icon and Initial Workspace"
+msgstr "Icona i escriptori inicial"
+
+#: ../src/winspector.c:1242
+msgid "Application Specific"
+msgstr "Específic de l'aplicació"
+
+#: ../src/winspector.c:1256
+msgid "Defaults for all windows"
+msgstr "Per omissió a totes les finestres"
+
+#: ../src/winspector.c:1310
+msgid "Select window"
+msgstr "Selecciona una finestra"
+
+#: ../src/winspector.c:1324
+msgid "Attributes"
+msgstr "Atributs"
+
+#: ../src/winspector.c:1335
+msgid "Disable titlebar"
+msgstr "Elimina la barra de títol"
+
+#: ../src/winspector.c:1337
+msgid ""
+"Remove the titlebar of this window.\n"
+"To access the window commands menu of a window\n"
+"without it's titlebar, press Control+Esc (or the\n"
+"equivalent shortcut, if you changed the default\n"
+"settings)."
+msgstr ""
+"Elimina la barra de títol d'aquesta finestra. Per\n"
+"accedir al menú de finestra un cop hagi desaparegut\n"
+"la barra de títol, premeu Control-Esc (o bé el vincle\n"
+"equivalent si heu canviat la configuració per omissió)."
+
+#: ../src/winspector.c:1344
+msgid "Disable resizebar"
+msgstr "Elimina la barra inferior"
+
+#: ../src/winspector.c:1346
+msgid "Remove the resizebar of this window."
+msgstr ""
+"Elimina la barra de redimensionament\n"
+"d'aquesta finestra."
+
+#: ../src/winspector.c:1349
+msgid "Disable close button"
+msgstr "Elimina el botó de tancar"
+
+#: ../src/winspector.c:1351
+msgid "Remove the `close window' button of this window."
+msgstr ""
+"Elimina el botó per tancar la\n"
+"finestra d'aquesta finestra."
+
+#: ../src/winspector.c:1354
+msgid "Disable miniaturize button"
+msgstr "Elimina el botó de miniatura"
+
+#: ../src/winspector.c:1356
+msgid "Remove the `miniaturize window' button of the window."
+msgstr ""
+"Elimina el botó per miniaturitzar\n"
+"la finestra d'aquesta finestra."
+
+#: ../src/winspector.c:1359
+msgid "Disable border"
+msgstr "Elimina el marc"
+
+#: ../src/winspector.c:1361
+msgid "Remove the 1 pixel black border around the window."
+msgstr ""
+"Elimina el marc negre d'un píxel de\n"
+"gruix del voltant d'aquesta finestra."
+
+#: ../src/winspector.c:1364
+msgid "Keep on top (floating)"
+msgstr "Manté a dalt de tot (flotant)"
+
+#: ../src/winspector.c:1366
+msgid ""
+"Keep the window over other windows, not allowing\n"
+"them to cover it."
+msgstr ""
+"Manté aquesta finestra per sobre les\n"
+"altres, impedint que la cobreixin."
+
+#: ../src/winspector.c:1370
+msgid "Keep at bottom (sunken)"
+msgstr "Manté a baix (enfonsada)"
+
+#: ../src/winspector.c:1372
+msgid "Keep the window under all other windows."
+msgstr "Manté la finestra per sota totes les altres."
+
+#: ../src/winspector.c:1377
+msgid "Make window present in all workspaces."
+msgstr "Fa la finestra present a tots els escriptoris."
+
+#: ../src/winspector.c:1380
+msgid "Start miniaturized"
+msgstr "Comença miniaturitzada"
+
+#: ../src/winspector.c:1382
+msgid ""
+"Make the window be automatically miniaturized when it's\n"
+"first shown."
+msgstr ""
+"Fa que la finestra es miniaturitzi automàticament\n"
+"tan bon punt aparegui per primer cop."
+
+#: ../src/winspector.c:1386
+msgid "Start maximized"
+msgstr "Comença maximitzada"
+
+#: ../src/winspector.c:1388
+msgid ""
+"Make the window be automatically maximized when it's\n"
+"first shown."
+msgstr ""
+"Fa que la finestra es maximitzi automàticament\n"
+"tan bon punt aparegui per primer cop."
+
+#: ../src/winspector.c:1392
+msgid "Full screen maximization"
+msgstr "Maximització a pantalla completa"
+
+#: ../src/winspector.c:1394
+msgid ""
+"Make the window use the whole screen space when it's\n"
+"maximized. The titlebar and resizebar will be moved\n"
+"to outside the screen."
+msgstr ""
+"Fa que la finestra ocupi tot l'espai de la pantalla\n"
+"quan es maximitza. La barra de títol i la de\n"
+"redimensionament es desplaçaran fora la pantalla."
+
+#: ../src/winspector.c:1411
+msgid "Advanced"
+msgstr "Avançat"
+
+#: ../src/winspector.c:1428
+msgid "Do not bind keyboard shortcuts"
+msgstr "Inhabilita els vincles de tecla"
+
+#: ../src/winspector.c:1430
+msgid ""
+"Do not bind keyboard shortcuts from Window Maker\n"
+"when this window is focused. This will allow the\n"
+"window to receive all key combinations regardless\n"
+"of your shortcut configuration."
+msgstr ""
+"Inhabilita els vincles de tecla de Window Maker quan\n"
+"aquesta finestra està enfocada. D'aquesta manera la\n"
+"finestrà rebrà totes les tecles independentment de la\n"
+"configuració de Window Maker."
+
+#: ../src/winspector.c:1436
+msgid "Do not bind mouse clicks"
+msgstr "Inhabilita els vincles del ratolí."
+
+#: ../src/winspector.c:1438
+msgid ""
+"Do not bind mouse actions, such as `Alt'+drag\n"
+"in the window (when alt is the modifier you haveconfigured)."
+msgstr ""
+"Inhabilita els vincles i accions de ratolí de\n"
+"Window Maker, com ara Alt+arrossegar, en aquesta\n"
+"finestra (si Alt és el modificador que heu configurat)."
+
+#: ../src/winspector.c:1443
+msgid "Do not show in the window list"
+msgstr "No mostra a la llistra de finestres"
+
+#: ../src/winspector.c:1445
+msgid "Do not list the window in the window list menu."
+msgstr "No mostra aquesta finestra a la llista de finestres."
+
+#: ../src/winspector.c:1448
+msgid "Do not let it take focus"
+msgstr "No enfoca mai"
+
+#: ../src/winspector.c:1450
+msgid ""
+"Do not let the window take keyboard focus when you\n"
+"click on it."
+msgstr ""
+"No enfoca la finestra encara\n"
+"que cliqueu sobre ella. "
+
+#: ../src/winspector.c:1454
+msgid "Keep inside screen"
+msgstr "Manté dins la pantalla"
+
+#: ../src/winspector.c:1456
+msgid ""
+"Do not allow the window to move itself completely\n"
+"outside the screen. For bug compatibility.\n"
+msgstr ""
+"No permet moure la finestra completament fora la\n"
+"pantalla. Per compatibiltat amb algun \"bug\".\n"
+
+#: ../src/winspector.c:1460
+msgid "Ignore 'Hide Others'"
+msgstr "Ignora \"Amagar altres\""
+
+#: ../src/winspector.c:1462
+msgid ""
+"Do not hide the window when issuing the\n"
+"`HideOthers' command."
+msgstr ""
+"No amaga aquesta finestra quan s'executa\n"
+"l'instrucció \"Amagar altres\"."
+
+#: ../src/winspector.c:1466
+msgid "Ignore 'Save Session'"
+msgstr "Ignora \"Desar la sessió\""
+
+#: ../src/winspector.c:1468
+msgid ""
+"Do not save the associated application in the\n"
+"session's state, so that it won't be restarted\n"
+"together with other applications when Window Maker\n"
+"starts."
+msgstr ""
+"No inclou aquesta aplicació quan és desa l'estat\n"
+"de la sessió i per tant no es reinicia junt amb\n"
+"les altres aplicacions quan s'inici Window Maker\n"
+"per pròxima vegada."
+
+#: ../src/winspector.c:1474
+msgid "Emulate application icon"
+msgstr "Emula l'icona d'aplicació"
+
+#: ../src/winspector.c:1476
+msgid ""
+"Make this window act as an application that provides\n"
+"enough information to Window Maker for a dockable\n"
+"application icon to be created."
+msgstr ""
+"Actua com si aquesta aplicació proporcionés l'informació\n"
+"necessària per què Window Maker pugui crear una icona\n"
+"d'aplicació que es pugui ancorar. "
+
+#: ../src/winspector.c:1482
+msgid "Disable language button"
+msgstr "Elimina el botó de llenguatge"
+
+#: ../src/winspector.c:1484
+msgid "Remove the `toggle language' button of the window."
+msgstr "Elimina el botó \"canviar idioma\" de la finestra."
+
+#: ../src/winspector.c:1501
+msgid "Miniwindow Image"
+msgstr "Imatge de la finestra en miniatura"
+
+#: ../src/winspector.c:1528
+msgid "Icon filename:"
+msgstr "Fitxer de l'icona:"
+
+#: ../src/winspector.c:1541
+msgid "Ignore client supplied icon"
+msgstr "Ignora la facilitada pel client"
+
+#: ../src/winspector.c:1548
+msgid "Initial Workspace"
+msgstr "Escriptori inicial"
+
+#: ../src/winspector.c:1550
+msgid "The workspace to place the window when it'sfirst shown."
+msgstr "Escriptori on posar la finestra quan apareix per primer cop."
+
+#: ../src/winspector.c:1556
+msgid "Nowhere in particular"
+msgstr "Cap en particular"
+
+#: ../src/winspector.c:1574
+msgid "Application Attributes"
+msgstr "Atributs de l'aplicació"
+
+#: ../src/winspector.c:1585
+msgid "Start hidden"
+msgstr "Inicia amagada"
+
+#: ../src/winspector.c:1587
+msgid "Automatically hide application when it's started."
+msgstr "Amaga l'aplicació automàticament quan s'inicia."
+
+#: ../src/winspector.c:1590
+msgid "No application icon"
+msgstr "Cap icona d'aplicació"
+
+#: ../src/winspector.c:1592
+msgid ""
+"Disable the application icon for the application.\n"
+"Note that you won't be able to dock it anymore,\n"
+"and any icons that are already docked will stop\n"
+"working correctly."
+msgstr ""
+"Inhabilita l'icona d'aplicació per a l'aplicació.\n"
+"Tingueu en compte que sense icona d'aplicació no la\n"
+"podreu ancorar més, i que les icones que estiguin\n"
+"ancorades actualment deixaran de funcionar correctament."
+
+#: ../src/winspector.c:1598
+msgid "Shared application icon"
+msgstr "Icona d'aplicació compartida"
+
+#: ../src/winspector.c:1600
+msgid ""
+"Use a single shared application icon for all of\n"
+"the instances of this application.\n"
+msgstr ""
+"Usa una única icona d'aplicació per a totes les\n"
+"instàncies d'aquesta aplicació.\n"
+
+#: ../src/workspace.c:107 ../src/workspace.c:108 ../src/workspace.c:893
+#, c-format
+msgid "Workspace %i"
+msgstr "Escriptori %i"
+
+#: ../src/workspace.c:943
+msgid "Workspaces"
+msgstr "Escriptoris"
+
+#: ../src/workspace.c:945
+msgid "could not create Workspace menu"
+msgstr "no s'ha pogut crear el menú d'escriptori"
+
+#: ../src/workspace.c:952
+msgid "New"
+msgstr "Nou"
+
+#: ../src/workspace.c:953
+msgid "Destroy Last"
+msgstr "Destruïr l'últim"
diff -Naur WindowMaker-0.80.2/po/de.po wm-xft2/po/de.po
--- WindowMaker-0.80.2/po/de.po	2002-02-21 14:28:46.000000000 +0300
+++ wm-xft2/po/de.po	2003-10-22 14:08:37.000000000 +0400
@@ -1,11 +1,18 @@
+# Copyright (C) YEAR Free Software Foundation, Inc.
+# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
+#
 msgid ""
 msgstr ""
+"Project-Id-Version: WindowMaker 0.81.0\n"
 "POT-Creation-Date: 2002-01-12 14:13+0100\n"
 "MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=iso-8859-1\n"
-"Content-Transfer-Encoding: 8-bit\n"
+"Content-Type: text/plain; charset=ISO-8859-1\n"
+"Content-Transfer-Encoding: 8bit\n"
 "Date: 2002-01-12 17:01:27+0100\n"
 "From: Guido Scholz <guido.scholz@bayernline.de>\n"
+"Last-Translator: Guido Scholz <guido.scholz@bayernline.de>\n"
+"PO-Revision-Date: 2003-01-25 15:50CET\n"
+"Language-Team: Deutsch <de@li.org>\n"
 
 #: ../src/appicon.c:426 ../src/dialog.c:282 ../src/dock.c:3325
 #: ../src/dockedapp.c:230 ../src/main.c:273 ../src/rootmenu.c:1853
@@ -15,7 +22,7 @@
 
 #: ../src/appicon.c:427
 msgid "Could not open specified icon file"
-msgstr "konnte die angegebene Icondatei nicht öffnen"
+msgstr "Konnte die angegebene Symboldatei nicht öffnen"
 
 #: ../src/appicon.c:428 ../src/dialog.c:179 ../src/dialog.c:282
 #: ../src/dialog.c:729 ../src/dialog.c:1818 ../src/dock.c:526
@@ -49,16 +56,16 @@
 
 #: ../src/appicon.c:495 ../src/dock.c:1177 ../src/dock.c:3491
 msgid "Unhide Here"
-msgstr "Hier wiederherst."
+msgstr "Hier einblenden"
 
 #: ../src/appicon.c:496 ../src/appicon.c:521 ../src/dock.c:1179
 #: ../src/dock.c:1181 ../src/dock.c:3503 ../src/winmenu.c:465
 msgid "Hide"
-msgstr "Verbergen"
+msgstr "Ausblenden"
 
 #: ../src/appicon.c:497
 msgid "Set Icon..."
-msgstr "Icon..."
+msgstr "Symbol..."
 
 #: ../src/appicon.c:498 ../src/dock.c:1185 ../src/rootmenu.c:248
 #: ../src/rootmenu.c:264 ../src/winmenu.c:520
@@ -67,45 +74,45 @@
 
 #: ../src/appicon.c:519 ../src/dock.c:3501
 msgid "Unhide"
-msgstr "Wiederherstellen"
+msgstr "Einblenden"
 
 #: ../src/application.c:398
 #, c-format
 msgid "recreating missing icon '%s'"
-msgstr "fehlendes Icon '%s' erzeugen"
+msgstr "fehlendes Symbol '%s' erzeugen"
 
 #: ../src/defaults.c:922 ../src/defaults.c:1011
 #, c-format
 msgid "Domain %s (%s) of global defaults database is corrupted!"
-msgstr "Die Damain %s (%s) der globalen Defaultdatenbank ist fehlerhaft!"
+msgstr "Die Domäne %s (%s) der globalen Datenbank für Voreinstellungen ist fehlerhaft!"
 
 #: ../src/defaults.c:927
 #, c-format
 msgid "could not load domain %s from global defaults database"
-msgstr "konnte Domain %s nicht aus der globalen Defaultdatenbank lesen"
+msgstr "konnte Domäne %s nicht aus der globalen Datenbank für Voreinstellungen lesen"
 
 #: ../src/defaults.c:949 ../src/startup.c:884 ../src/startup.c:902
 #: ../src/startup.c:908
 #, c-format
 msgid "could not read domain \"%s\" from defaults database"
-msgstr "konnte domain \"%s\" nicht aus Defaultdatenbank lesen"
+msgstr "konnte Domäne \"%s\" nicht aus Datenbank für Voreinstellungen lesen"
 
 #: ../src/defaults.c:995 ../src/defaults.c:1099 ../src/defaults.c:1140
 #: ../src/defaults.c:1196
 #, c-format
 msgid "Domain %s (%s) of defaults database is corrupted!"
-msgstr "Die Domain %s (%s) der Defaultdatenbank ist fehlerhaft!"
+msgstr "Die Domäne %s (%s) der Datenbank für Voreinstellungen ist fehlerhaft!"
 
 #: ../src/defaults.c:1000 ../src/defaults.c:1119 ../src/defaults.c:1176
 #: ../src/defaults.c:1205 ../src/menureader.c:397
 #, c-format
 msgid "could not load domain %s from user defaults database"
-msgstr "konnte Domain %s nicht aus der Defaultdatenbank lesen"
+msgstr "konnte Domäne %s nicht aus der Datenbank für Benutzereinstellungen lesen"
 
 #: ../src/defaults.c:1030
 #, c-format
 msgid "could not load domain %s from global defaults database (%s)"
-msgstr "konnte Domain %s nicht aus der globalen Defaultdatenbank (%s) lesen"
+msgstr "konnte Domäne %s nicht aus der globalen Datenbank für Voreinstellungen (%s) lesen"
 
 #: ../src/defaults.c:1166 ../src/screen.c:458
 #, c-format
@@ -115,7 +122,7 @@
 #: ../src/defaults.c:1447
 #, c-format
 msgid "wrong option value for key \"%s\". Should be one of %s"
-msgstr "falscher Wert für Schlüssel \"%s\". Sollte eine aus %s sein."
+msgstr "falscher Wert für Schlüssel \"%s\". Sollte einer von %s sein."
 
 #: ../src/defaults.c:1492
 #, c-format
@@ -130,12 +137,12 @@
 #: ../src/defaults.c:2734 ../src/defaults.c:2745
 #, c-format
 msgid "using default \"%s\" instead"
-msgstr "benutze stattdessen Defaultwert \"%s\""
+msgstr "benutze stattdessen Voreinstellung \"%s\""
 
 #: ../src/defaults.c:1526
 #, c-format
 msgid "can't convert \"%s\" to integer for key \"%s\""
-msgstr "kann \"%s\" für Schlüssel \"%s\" nicht nach \"integer\" konvertieren"
+msgstr "kann \"%s\" für Schlüssel \"%s\" nicht in eine Ganzzahl umwandeln"
 
 #: ../src/defaults.c:1556 ../src/defaults.c:1668 ../src/defaults.c:2147
 #: ../src/defaults.c:2164 ../src/defaults.c:2209 ../src/defaults.c:2256
@@ -152,19 +159,19 @@
 #: ../src/defaults.c:1584
 #, c-format
 msgid "Wrong value for key \"%s\". Should be Coordinate."
-msgstr "Falscher Wert für Schlüssel \"%s\". Sollte eine Koordinate sein."
+msgstr "Falscher Wert für Schlüssel \"%s\". Sollte \"Coordinate\" sein."
 
 #: ../src/defaults.c:1599
 #, c-format
 msgid "can't convert array to integers for \"%s\"."
-msgstr "kann Array nicht in Ganzzahl umwandeln für \"%s\"."
+msgstr "kann Array nicht in Ganzzahlen umwandeln für \"%s\"."
 
 #: ../src/defaults.c:1797 ../src/defaults.c:1829 ../src/defaults.c:1845
 #: ../src/defaults.c:1874 ../src/defaults.c:1897 ../src/defaults.c:1950
 #: ../src/defaults.c:1990 ../src/defaults.c:2028 ../src/defaults.c:2044
 #, c-format
 msgid "\"%s\" is not a valid color name"
-msgstr "\"%s\" ist keine gültige Farbe"
+msgstr "\"%s\" ist kein gültiger Farbname"
 
 #: ../src/defaults.c:1810 ../src/defaults.c:1862
 msgid "bad number of arguments in gradient specification"
@@ -181,7 +188,7 @@
 #: ../src/defaults.c:2060
 #, c-format
 msgid "bad opacity value for tgradient texture \"%s\". Should be [0..255]"
-msgstr "Falscher Transparenzwert für Textur \"%s\". Sollte [0..255] sein."
+msgstr "Falscher Transparenzwert für Gradiententextur \"%s\". Sollte [0..255] sein."
 
 #: ../src/defaults.c:2120
 #, c-format
@@ -205,19 +212,16 @@
 
 #: ../src/defaults.c:2226
 msgid "Wrong type for workspace background. Should be a texture type."
-msgstr ""
-"Falscher Typ für Arbeitsflächen-Hintergrund. Sollte ein Texturtyp sein."
+msgstr "Falscher Typ für Arbeitsflächen-Hintergrund. Sollte ein Texturtyp sein."
 
 #: ../src/defaults.c:2274
 #, c-format
 msgid "Wrong type for background of workspace %i. Should be a texture."
-msgstr ""
-"Falscher Typ für Hintergrund von Arbeitsfläche %i. Sollte ein texsturtyp "
-"sein."
+msgstr "Falscher Typ für Arbeitsflächenhintergrund %i. Sollte ein Texturtyp sein."
 
 #: ../src/defaults.c:2316
 msgid "could not load any usable font!!!"
-msgstr "konnte keinen benutzbaren Zeichensatz finden!"
+msgstr "konnte keinen benutzbaren Zeichensatz laden!"
 
 #: ../src/defaults.c:2343
 #, c-format
@@ -227,7 +231,7 @@
 #: ../src/defaults.c:2401 ../src/rootmenu.c:526
 #, c-format
 msgid "%s:invalid key modifier \"%s\""
-msgstr "%s: ungültiger Tasten-Modifier"
+msgstr "%s: ungültige Umschalttaste \"%s\""
 
 #: ../src/defaults.c:2413
 #, c-format
@@ -242,7 +246,7 @@
 #: ../src/defaults.c:2445
 #, c-format
 msgid "%s: modifier key %s is not valid"
-msgstr "%s: Modifier-Taste %s ist ungültig"
+msgstr "%s: Umschalttaste %s ist ungültig"
 
 #: ../src/defaults.c:2477
 #, c-format
@@ -286,7 +290,7 @@
 
 #: ../src/defaults.c:2826
 msgid "could not render texture for icon background"
-msgstr "konnte Textur für Icon-Hintergrund nicht anzeigen"
+msgstr "konnte Textur für Symbol-Hintergrund nicht wiedergeben"
 
 #: ../src/dialog.c:135
 #
@@ -313,7 +317,7 @@
 
 #: ../src/dialog.c:672
 msgid "Icons"
-msgstr "Icons"
+msgstr "Symbole"
 
 #: ../src/dialog.c:705
 msgid "Preview"
@@ -329,7 +333,7 @@
 
 #: ../src/dialog.c:760 ../src/dialog.c:762
 msgid "Icon Chooser"
-msgstr "Icons-Auswahl"
+msgstr "Symbol-Auswahl"
 
 #: ../src/dialog.c:1241 ../src/dialog.c:1351
 #, c-format
@@ -401,7 +405,6 @@
 "Klang aktiviert"
 
 #: ../src/dialog.c:1476
-
 msgid "Info"
 msgstr "Info"
 
@@ -429,11 +432,11 @@
 
 #: ../src/dialog.c:1590
 msgid "Legal"
-msgstr "Rechtliches"
+msgstr "Rechte"
 
 #: ../src/dialog.c:1741 ../src/startup.c:395
 msgid "cannot open connection for crashing dialog panel. Aborting."
-msgstr "kann Verbindung zum Absturz-Dialog nicht aufnehmen."
+msgstr "kann Verbindung zum Absturz-Dialog nicht aufnehmen. Breche ab."
 
 #: ../src/dialog.c:1767
 msgid "Fatal error"
@@ -459,7 +462,7 @@
 "BUGFORM and report it to bugs@windowmaker.org."
 msgstr ""
 "Dieser fatale Fehler ist wahrscheinlich auf einen Programmierfehler "
-"zurückzuführen. Bitte füllen Sie das beigefügte Fehlerformular aus und "
+"zurückzuführen. Bitte füllen Sie das beigefügte Fehlerformular (BUGFORM) aus und "
 "senden Sie es an bugs@windowmaker.org."
 
 #: ../src/dialog.c:1799
@@ -480,7 +483,7 @@
 
 #: ../src/dialog.c:1808
 msgid "Start alternate window manager"
-msgstr "Anderen Window Manager auswählen"
+msgstr "Anderen Window Manager starten"
 
 #: ../src/dialog.c:1986
 msgid ""
@@ -518,9 +521,9 @@
 "is docked in the same positions on the other workspaces and the Clip is not "
 "full in some workspace."
 msgstr ""
-"Einige Icons können nicht \"omnipräsent\" gemacht werden. Stellen Sie "
-"sicher, dass kein Icon auf der gleichen Position auf einer anderen "
-"Arbeitsfläche dedockt ist und dass der Clip nicht schon gefüllt ist."
+"Einige Symbole können nicht \"omnipräsent\" gemacht werden. Bitte stellen Sie "
+"sicher, dass kein Symbol auf der gleichen Position auf den anderen "
+"Arbeitsflächen verankert ist und dass der Clip nicht auf einer Arbeitsfläche schon gefüllt ist."
 
 #: ../src/dock.c:529
 msgid ""
@@ -528,9 +531,9 @@
 "docked in the same position on the other workspaces and the Clip is not full "
 "in some workspace."
 msgstr ""
-"Das Icon kann nicht \"omnipräsent\" gemacht werden. Stellen Sie sicher, dass "
-"kein Icon auf der gleichen Position auf einer anderen Arbeitsfläche dedockt "
-"ist und daß der Clip nicht schon gefüllt ist."
+"Das Symbol kann nicht \"omnipräsent\" gemacht werden. Bitte stellen Sie sicher, dass "
+"kein Symbol auf der gleichen Position auf den anderen Arbeitsflächen verankert "
+"ist und dass der Clip auf einer Arbeitsfläche nicht schon gefüllt ist."
 
 #: ../src/dock.c:556
 msgid "Workspace Clip"
@@ -538,11 +541,11 @@
 
 #: ../src/dock.c:557
 msgid "All selected icons will be removed!"
-msgstr "Alle selektierten Icons werden entfernt!"
+msgstr "Alle ausgewählten Symbole werden entfernt!"
 
 #: ../src/dock.c:608 ../src/dock.c:1156 ../src/dock.c:1158 ../src/dock.c:3445
 msgid "Keep Icon"
-msgstr "Icon behalten"
+msgstr "Symbol behalten"
 
 #: ../src/dock.c:609 ../src/dock.c:2137 ../src/dock.c:2278
 msgid "Type the command used to launch the application"
@@ -551,15 +554,15 @@
 #: ../src/dock.c:965
 #, c-format
 msgid "could not launch application %s\n"
-msgstr "Konnte Anwendúng %s nicht starten\n"
+msgstr "Konnte Anwendung %s nicht starten\n"
 
 #: ../src/dock.c:1020
 msgid "could not create workspace submenu for Clip menu"
-msgstr "konnte kein Untermenü für Clip erzeugen"
+msgstr "konnte kein Arbeitsflächenuntermenü für Clip-Menü erzeugen"
 
 #: ../src/dock.c:1078
 msgid "could not create options submenu for Clip menu"
-msgstr "konnte kein Optionsmenü für Clip erzeugen"
+msgstr "konnte kein Optionsmenü für Clip-Menü erzeugen"
 
 #: ../src/dock.c:1082 ../src/dock.c:1130
 msgid "Keep on Top"
@@ -570,19 +573,16 @@
 msgstr "Zusammengefaltet"
 
 #: ../src/dock.c:1094
-
 msgid "Autocollapse"
 msgstr "Auto-Faltung"
 
 #: ../src/dock.c:1100
-
 msgid "Autoraise"
 msgstr "Auto vorne/hinten"
 
 #: ../src/dock.c:1106
-
 msgid "Autoattract Icons"
-msgstr "Icons autom. anziehen"
+msgstr "Symbole autom. anziehen"
 
 #: ../src/dock.c:1136
 msgid "Clip Options"
@@ -594,7 +594,7 @@
 
 #: ../src/dock.c:1151 ../src/dock.c:1154 ../src/dock.c:3436
 msgid "Select All Icons"
-msgstr "Alle Icons auswählen"
+msgstr "Alle Symbole auswählen"
 
 #: ../src/dock.c:1160 ../src/dock.c:1162 ../src/dock.c:3453
 msgid "Move Icon To"
@@ -602,11 +602,11 @@
 
 #: ../src/dock.c:1167 ../src/dock.c:1170 ../src/dock.c:3464
 msgid "Remove Icon"
-msgstr "Icon entfernen"
+msgstr "Symbol entfernen"
 
 #: ../src/dock.c:1172
 msgid "Attract Icons"
-msgstr "Icons anziehen"
+msgstr "Symbole anziehen"
 
 #: ../src/dock.c:1175
 msgid "Launch"
@@ -619,21 +619,21 @@
 #: ../src/dock.c:1548 ../src/dock.c:1655
 #, c-format
 msgid "bad value in docked icon state info %s"
-msgstr "ungültiger Wert für Statusinfo %s des gedockten Icons"
+msgstr "ungültiger Wert für Statusinfo %s des verankerten Symbols"
 
 #: ../src/dock.c:1663
 #, c-format
 msgid "bad value in docked icon position %i,%i"
-msgstr "ungültiger Wert für Position %i, %i des gedockten Icons"
+msgstr "ungültiger Wert für Position %i, %i des verankerten Symbols"
 
 #: ../src/dock.c:1919
 msgid "there are too many icons stored in dock. Ignoring what doesn't fit"
-msgstr "zu viele icons im Dock. Was nicht paßt, wird ignoriert"
+msgstr "Es sind zu viele Symbole im Dock. Was nicht paßt, wird ignoriert"
 
 #. icon->forced_dock = 1;
 #: ../src/dock.c:2136 ../src/dock.c:2277
 msgid "Dock Icon"
-msgstr "Dock-Icon"
+msgstr "Dock-Symbol"
 
 #: ../src/dock.c:3323
 #, c-format
@@ -651,19 +651,19 @@
 
 #: ../src/dock.c:3434
 msgid "Unselect All Icons"
-msgstr "Alle Icons deselektieren"
+msgstr "Alle Symbole deselektieren"
 
 #: ../src/dock.c:3443
 msgid "Keep Icons"
-msgstr "Icons behalten"
+msgstr "Symbole behalten"
 
 #: ../src/dock.c:3451
 msgid "Move Icons To"
-msgstr "Icons nach..."
+msgstr "Symbole nach..."
 
 #: ../src/dock.c:3462
 msgid "Remove Icons"
-msgstr "Icons entfernen"
+msgstr "Symbole entfernen"
 
 #: ../src/dock.c:3493 ../src/kwm.c:643
 msgid "Bring Here"
@@ -672,19 +672,18 @@
 #: ../src/dockedapp.c:149
 #, c-format
 msgid "could not find icon %s, used in a docked application"
-msgstr "konnte Icon %s (benutzt in gedockter Anwendung) nicht finden"
+msgstr "konnte Symbol %s nicht finden, benutzt in verankerter Anwendung"
 
 #: ../src/dockedapp.c:229
 #, c-format
 msgid "Could not open specified icon file: %s"
-msgstr "Konnte angegebene Icon-Datei %s nicht finden"
+msgstr "Konnte angegebene Symbol-Datei %s nicht finden"
 
 #: ../src/dockedapp.c:231
 msgid "Ignore"
 msgstr "Ignorieren"
 
 #: ../src/dockedapp.c:333
-
 msgid "Start when Window Maker is started"
 msgstr "Starten, wenn Window Maker gestartet wird"
 
@@ -694,11 +693,11 @@
 
 #: ../src/dockedapp.c:344
 msgid "Application path and arguments"
-msgstr "Anwendungspfad und Argumente"
+msgstr " Anwendungspfad und Argumente "
 
 #: ../src/dockedapp.c:357
 msgid "Command for middle-click launch"
-msgstr "Kommando für mittleren Mausklick"
+msgstr " Kommando für mittleren Mausklick "
 
 #: ../src/dockedapp.c:371
 #, c-format
@@ -707,7 +706,7 @@
 
 #: ../src/dockedapp.c:376
 msgid "Command for files dropped with DND"
-msgstr "Kommando für per DND übergebene Dateien"
+msgstr " Kommando für per DND übergebene Dateien "
 
 #: ../src/dockedapp.c:390
 #, c-format
@@ -720,7 +719,7 @@
 
 #: ../src/dockedapp.c:399
 msgid "Icon Image"
-msgstr "Icon-Bild"
+msgstr " Symbol-Bild "
 
 #: ../src/dockedapp.c:413 ../src/winspector.c:1513
 msgid "Browse..."
@@ -728,13 +727,13 @@
 
 #: ../src/dockedapp.c:466
 msgid "Docked Application Settings"
-msgstr "Einstellungen für gedockte Anwendungen"
+msgstr "Einstellungen für verankerte Anwendungen"
 
 #: ../src/framewin.c:649 ../src/framewin.c:744 ../src/menu.c:456
 #: ../src/texture.c:594
 #, c-format
 msgid "could not render texture: %s"
-msgstr "konnte Textur %s nicht erzeugen"
+msgstr "konnte Textur %s nicht wiedergeben"
 
 #: ../src/framewin.c:672 ../src/framewin.c:683 ../src/framewin.c:699
 #: ../src/framewin.c:710 ../src/framewin.c:717 ../src/framewin.c:724
@@ -749,7 +748,6 @@
 msgstr "Fehler beim Anzeigen des Bildes: %s"
 
 #: ../src/gnome.c:216 ../src/gnome.c:343 ../src/gnome.c:401
-
 msgid "out of memory while updating GNOME hints"
 msgstr "zu wenig Speicher beim Erneuern der GNOME-Hints"
 
@@ -766,12 +764,12 @@
 #: ../src/icon.c:767
 #, c-format
 msgid "could not find default icon \"%s\""
-msgstr "konnte Standardicon \"%s\" nicht finden"
+msgstr "konnte Standardsymbol \"%s\" nicht finden"
 
 #: ../src/icon.c:773
 #, c-format
 msgid "could not load default icon \"%s\":%s"
-msgstr "konnte Standardicon \"%s\" nicht laden: %s"
+msgstr "konnte Standardsymbol \"%s\" nicht laden: %s"
 
 #.
 #. * Warning: If you make some change that affects the order of the
@@ -795,17 +793,14 @@
 msgstr "Wiederherstellen"
 
 #: ../src/kwm.c:638
-
 msgid "Not Omnipresent"
 msgstr "Nicht Omnipräsent"
 
 #: ../src/kwm.c:639
-
 msgid "Move"
 msgstr "Verschieben"
 
 #: ../src/kwm.c:640
-
 msgid "Resize"
 msgstr "Größe ändern"
 
@@ -823,7 +818,7 @@
 
 #: ../src/kwm.c:1096
 msgid "%a(Run Command,Type the command to run:)"
-msgstr "%a(Kommando starten, zu startendes Kommand eingeben:)"
+msgstr "%a(Kommando starten, auszuführendes Kommando eingeben:)"
 
 #: ../src/main.c:222
 msgid "failed to restart Window Maker."
@@ -835,7 +830,6 @@
 msgstr "konnte %s nicht ausführen"
 
 #: ../src/main.c:271
-
 msgid "Could not execute command: "
 msgstr "Konnte Kommando nicht ausführen: "
 
@@ -870,7 +864,6 @@
 msgstr "--no-clip\t\tArbeitsflächen-Clip nicht öffnen"
 
 #: ../src/main.c:448
-
 msgid " --no-autolaunch\tdo not autolaunch applications"
 msgstr " --no-autolaunch\tKein automatischer Start von Anwendungen"
 
@@ -880,13 +873,11 @@
 
 #: ../src/main.c:451
 msgid " --locale locale\tlocale to use"
-msgstr " --locale locale\tLocalisierung benutzen"
+msgstr " --locale locale\tzubenutzende Localisierung"
 
 #: ../src/main.c:453
-msgid ""
-" --create-stdcmap\tcreate the standard colormap hint in PseudoColor visuals"
-msgstr ""
-" --create-stdcmap\tStandard Farbpalette in PseudoColor Darstellung benutzen"
+msgid " --create-stdcmap\tcreate the standard colormap hint in PseudoColor visuals"
+msgstr " --create-stdcmap\tStandard Farbpalette in PseudoColor Darstellung benutzen"
 
 #: ../src/main.c:454
 msgid " --visual-id visualid\tvisual id of visual to use"
@@ -894,17 +885,15 @@
 
 #: ../src/main.c:455
 msgid " --static\t\tdo not update or save configurations"
-msgstr "--static\t\tkeine Konfigurationsdateien verändern oder anlegen"
+msgstr "--static\t\tkeine Konfigurationsdateien verändern oder speichern"
 
 #: ../src/main.c:456
-
 msgid " --no-polling\t\tdo not periodically check for configuration updates"
-msgstr ""
-" --no-polling\t\tÄnderungen an Konfigurationsdateien nicht periodisch kontrollieren"
+msgstr " --no-polling\t\tÄnderungen an Konfigurationsdateien nicht periodisch kontrollieren"
 
 #: ../src/main.c:458
 msgid " --synchronous\t\tturn on synchronous display mode"
-msgstr "--synchronous\t\tasynchrone Darstellung abschalten"
+msgstr "--synchronous\t\tsynchronen Display-Modus aktivieren"
 
 #: ../src/main.c:460
 msgid " --version\t\tprint version and exit"
@@ -920,7 +909,7 @@
 "could not find user GNUstep directory (%s).\n"
 "Make sure you have installed Window Maker correctly and run wmaker.inst"
 msgstr ""
-"konnte GNUstep Verzeichnis nicht finden (%s).\n"
+"konnte GNUstep Verzeichnis des Benutzers nicht finden (%s).\n"
 "Stellen Sie sicher, dass sie Window Maker korrekt installiert und "
 "wmaker.inst aufgerufen haben"
 
@@ -930,19 +919,18 @@
 msgstr "konnte GNUstep-Verzeichnis des Benutzers nicht finden (%s)."
 
 #: ../src/main.c:482
-
 msgid ""
 "There was an error while creating GNUstep directory, please make sure you "
 "have installed Window Maker correctly and run wmaker.inst"
 msgstr ""
-"Es gab einen Fehler beim erzeugen des GNUstep Verzeichnisses. Bitte "
-"stellen Sie sicher, das sie Window Maker korrekt installiert und "
+"Es gab einen Fehler beim Erzeugen des GNUstep Verzeichnisses. Bitte "
+"stellen Sie sicher, dass sie Window Maker korrekt installiert und "
 "wmaker.inst aufgerufen haben"
 
 #: ../src/main.c:485
 #, c-format
 msgid "%s directory created with default configuration."
-msgstr "%S Verzeichnis mit voreingestellter Konfiguration angelegt."
+msgstr "%s Verzeichnis mit voreingestellter Konfiguration angelegt."
 
 #: ../src/main.c:505 ../src/main.c:510
 #, c-format
@@ -988,7 +976,6 @@
 msgstr "konnte Display \"%s\" nicht öffnen"
 
 #: ../src/menu.c:1255
-
 msgid "could not grab keyboard"
 msgstr "konnte Tastatur nicht abfragen"
 
@@ -1000,7 +987,7 @@
 #: ../src/menureader.c:341 ../src/menureader.c:380
 #, c-format
 msgid "could not stat() menu file '%s'"
-msgstr "konnte Dateistatus der Menüdatei '%s' nicht abfragen"
+msgstr "konnte Dateistatus der Menüdatei '%s' nicht ermitteln"
 
 #: ../src/menureader.c:416
 #, c-format
@@ -1010,7 +997,8 @@
 #: ../src/menureader.c:423
 #, c-format
 msgid "could not find any usable menu files. Please check '%s'"
-msgstr "konnte keine brauchbaren Menüdateien finden. Bitte '%s' "
+msgstr ""
+"konnte keine brauchbaren Menüdateien finden. Bitte '%s' "
 "kontrollieren"
 
 #: ../src/menureader.c:438 ../src/rootmenu.c:1667
@@ -1046,12 +1034,12 @@
 #: ../src/misc.c:126
 #, c-format
 msgid "your machine is misconfigured. HOSTNAME is set to %s"
-msgstr "Ihre Maschine ist falsch konfiguriert. HOSTNAME steht auf %s"
+msgstr "Ihre Maschine ist falsch konfiguriert. HOSTNAME ist auf %s gesetzt"
 
 #: ../src/misc.c:132
 #, c-format
 msgid "your machine is misconfigured. HOST is set to %s"
-msgstr "Ihre Maschine ist falsch konfiguriert. HOST steht auf %s"
+msgstr "Ihre Maschine ist falsch konfiguriert. HOST ist auf %s gesetzt"
 
 #: ../src/misc.c:630
 msgid "Program Arguments"
@@ -1076,24 +1064,24 @@
 #: ../src/misc.c:783 ../src/misc.c:923
 #, c-format
 msgid "out of memory during expansion of \"%s\""
-msgstr "nicht genug Speicher für Analyse von \"%s\""
+msgstr "nicht genug Speicher beim Expandieren von \"%s\""
 
 #: ../src/misc.c:837
 msgid "out of memory during expansion of \"%w\""
-msgstr "nicht genug Speicher für Analyse von \"%w\""
+msgstr "nicht genug Speicher beim Expandieren von \"%w\""
 
 #: ../src/misc.c:855
 msgid "out of memory during expansion of \"%W\""
-msgstr "nicht genug Speicher für Analyse von \"%W\""
+msgstr "nicht genug Speicher beim Expandieren von \"%W\""
 
 #: ../src/misc.c:871
 msgid "out of memory during expansion of \"%a\""
-msgstr "nicht genug Speicher für Analyse von \"%a\""
+msgstr "nicht genug Speicher beim Expandieren von \"%a\""
 
 #: ../src/misc.c:902
 #, c-format
 msgid "out of memory during expansion of \"%d\""
-msgstr "nicht genug Speicher für Analyse von \"%d\""
+msgstr "nicht genug Speicher beim Expandieren von \"%d\""
 
 #: ../src/misc.c:916
 msgid "selection not available"
@@ -1102,7 +1090,7 @@
 #: ../src/misc.c:972 ../src/misc.c:978
 #, c-format
 msgid "bad window name value in %s state info"
-msgstr "ungültiger Fentername in Statusinfo von %s"
+msgstr "ungültiger Fenstername in Statusinfo von %s"
 
 #: ../src/misc.c:1235
 msgid "could not send message to background image helper"
@@ -1111,8 +1099,7 @@
 #: ../src/pixmap.c:235
 #, c-format
 msgid "could not load mask bitmap file \"%s\". Won't use mask"
-msgstr ""
-"konnte Maskenbitmap-Datei \"%s\" nicht laden. Maskierung wird nicht benutzt"
+msgstr "konnte Maskenbitmap-Datei \"%s\" nicht laden. Maskierung wird nicht benutzt"
 
 #: ../src/resources.c:44
 #, c-format
@@ -1126,7 +1113,7 @@
 
 #: ../src/rootmenu.c:196 ../src/rootmenu.c:198
 msgid "Exit"
-msgstr "Ende"
+msgstr "Beenden"
 
 #: ../src/rootmenu.c:197
 msgid "Exit window manager?"
@@ -1169,7 +1156,7 @@
 #: ../src/rootmenu.c:600
 #, c-format
 msgid "%s: unmatched '\"' in menu file"
-msgstr "%s: kein passendes \" im Menü-File gefunden"
+msgstr "%s: kein passendes \" in Menüdatei gefunden"
 
 #: ../src/rootmenu.c:650
 #, c-format
@@ -1200,7 +1187,6 @@
 "Nur eines ist erlaubt."
 
 #: ../src/rootmenu.c:837
-
 msgid ""
 "There are more than one WINDOWS_MENU commands in the applications menu. Only "
 "one is allowed."
@@ -1209,7 +1195,6 @@
 "eines ist erlaubt."
 
 #: ../src/rootmenu.c:842
-
 msgid "Window List"
 msgstr "Fensterliste"
 
@@ -1245,7 +1230,7 @@
 
 #: ../src/rootmenu.c:1193 ../src/rootmenu.c:1293
 msgid "could not make arguments for menu file preprocessor"
-msgstr "konnte keine Argumente für Datei-Präprozessor erzeugen"
+msgstr "konnte keine Argumente für Menüdatei-Präprozessor erzeugen"
 
 #: ../src/rootmenu.c:1200 ../src/rootmenu.c:1301
 #, c-format
@@ -1283,7 +1268,7 @@
 
 #: ../src/rootmenu.c:1600
 msgid "Commands"
-msgstr "Befehle"
+msgstr "Kommandos"
 
 #: ../src/rootmenu.c:1603
 msgid "Restart"
@@ -1296,7 +1281,7 @@
 #: ../src/rootmenu.c:1649
 #, c-format
 msgid "could not find menu file \"%s\" referenced in WMRootMenu"
-msgstr "konnte Menüdatei \"%s\" für WMRootMenu nicht finden"
+msgstr "konnte Menüdatei \"%s\" aus WMRootMenu nicht finden"
 
 #: ../src/rootmenu.c:1656
 #, c-format
@@ -1390,7 +1375,7 @@
 #: ../src/startup.c:286
 #, c-format
 msgid "got signal %i - exiting...\n"
-msgstr "Signal %i erhalten - breche ab\n"
+msgstr "Signal %i erhalten - breche ab...\n"
 
 #: ../src/startup.c:329
 #, c-format
@@ -1403,8 +1388,7 @@
 msgstr "Signal %i erhalten\n"
 
 #: ../src/startup.c:342
-msgid ""
-"crashed while trying to do some post-crash cleanup. Aborting immediatelly."
+msgid "crashed while trying to do some post-crash cleanup. Aborting immediatelly."
 msgstr "Absturz beim Aufräumen nach einem Absturz. Breche sofort ab."
 
 #. we try to restart Window Maker
@@ -1425,13 +1409,13 @@
 "a fatal error has occured, probably due to a bug. Please fill the included "
 "BUGFORM and report it."
 msgstr ""
-"ein fataler Fehler ist aufgetreten, vermutlich ein Bug. Bitte "
-"beiliegendes Fehlerformular ausfüllen und zurücksenden."
+"ein fataler Fehler ist aufgetreten, vermutlich durch einen Bug. Bitte "
+"beiliegendes Fehlerformular (BUGFORM) ausfüllen und zurücksenden."
 
 #: ../src/startup.c:894
 #, c-format
 msgid "icon size is configured to %i, but it's too small. Using 16, instead\n"
-msgstr "Icongröße ist als %i konfiguriert worden - zu klein, nehme 16\n"
+msgstr "Symbolgröße ist auf %i eingestellt, das ist zu klein, nehme 16 stattdessen\n"
 
 #: ../src/startup.c:922
 msgid "XKB is not supported. KbdModeLock is automatically disabled."
@@ -1462,7 +1446,7 @@
 #: ../src/texture.c:335 ../src/texture.c:377
 #, c-format
 msgid "could not load texture pixmap \"%s\":%s"
-msgstr "konnte Pixmap \"%s\" für Textur nicht laden"
+msgstr "konnte Textur-Pixmap \"%s\":%s nicht laden"
 
 #: ../src/texture.c:437
 #, c-format
@@ -1472,21 +1456,20 @@
 #: ../src/texture.c:446
 #, c-format
 msgid "function \"%s\" not found in library \"%s\""
-msgstr "Funktion \"%s\" nicht in Bibliothek gefunden"
+msgstr "Funktion \"%s\" nicht in Bibliothek \"%s\" gefunden"
 
 #: ../src/texture.c:453
 msgid "function textures not supported on this system, sorry."
 msgstr "Texturen werden von diesem System nicht unterstützt."
 
 #: ../src/texture.c:598
-
 msgid "could not allocate image buffer"
 msgstr "Konnte Puffer für Bilddatei nicht erzeugen"
 
 #: ../src/wdefaults.c:437
 #, c-format
 msgid "could not find icon file \"%s\""
-msgstr "konnte Icondatei \"%s\" nicht finden"
+msgstr "konnte Symboldatei \"%s\" nicht finden"
 
 #: ../src/window.c:2934 ../src/window.c:3073
 msgid ""
@@ -1504,7 +1487,7 @@
 "Please confirm."
 msgstr ""
 "Dies wird die Anwendung beenden.\n"
-"Nicht gespeicherte Änderungen sind verloren.\n"
+"Nicht gespeicherte Änderungen gehen dabei verloren.\n"
 "Bitte bestätigen."
 
 #: ../src/winmenu.c:272 ../src/winmenu.c:281
@@ -1528,9 +1511,8 @@
 msgstr "Aufrollen"
 
 #: ../src/winmenu.c:473
-
 msgid "Hide Others"
-msgstr "Andere verbergen"
+msgstr "Andere ausblenden"
 
 #: ../src/winmenu.c:481
 msgid "Resize/Move"
@@ -1555,12 +1537,12 @@
 #: ../src/winspector.c:387
 #, c-format
 msgid "Could not find icon \"%s\" specified for this window"
-msgstr "Konnte Icon \"%s\" für dieses Fenster nicht finden"
+msgstr "Konnte Symbol \"%s\" für dieses Fenster nicht finden"
 
 #: ../src/winspector.c:404
 #, c-format
 msgid "Could not open specified icon \"%s\":%s"
-msgstr "Konnte angegebenes Icon \"%s\" nicht öffnen: %s"
+msgstr "Konnte angegebenes Symbol \"%s\" nicht öffnen: %s"
 
 #: ../src/winspector.c:1121
 #, c-format
@@ -1569,19 +1551,19 @@
 
 #: ../src/winspector.c:1147
 msgid "Click in the window you wish to inspect."
-msgstr "In das Fenster klicken, das untersucht werden soll."
+msgstr "In das zu untersuchende Fenster klicken."
 
 #: ../src/winspector.c:1186
-
 msgid ""
 "The configuration will apply to all\n"
 "windows that have their WM_CLASS\n"
 "property set to the above selected\n"
 "name, when saved."
 msgstr ""
-"Die Konfiguration bezieht sich auf alle\n"
-"Fenster, deren WM_CLASS den oben\n"
-"angegebenen Namen hat."
+"Die Konfiguration wird beim Speichern\n"
+"auf alle Fenster angewendet, deren\n"
+"WM_CLASS den oben angegebenen\n"
+"Namen hat."
 
 #: ../src/winspector.c:1215
 msgid "Save"
@@ -1593,7 +1575,7 @@
 
 #: ../src/winspector.c:1229
 msgid "Reload"
-msgstr "Neu Laden"
+msgstr "Neu laden"
 
 #: ../src/winspector.c:1238 ../src/winspector.c:1248
 msgid "Window Specification"
@@ -1609,7 +1591,7 @@
 
 #: ../src/winspector.c:1241
 msgid "Icon and Initial Workspace"
-msgstr "Icon und Start-Arbeitsfläche"
+msgstr "Symbol und Start-Arbeitsfläche"
 
 #: ../src/winspector.c:1242
 msgid "Application Specific"
@@ -1620,7 +1602,6 @@
 msgstr "Voreinstellung für alle Fenster"
 
 #: ../src/winspector.c:1310
-
 msgid "Select window"
 msgstr "Fenster auswählen"
 
@@ -1629,12 +1610,10 @@
 msgstr "Eigenschaften"
 
 #: ../src/winspector.c:1335
-
 msgid "Disable titlebar"
 msgstr "Titelzeile deaktivieren"
 
 #: ../src/winspector.c:1337
-
 msgid ""
 "Remove the titlebar of this window.\n"
 "To access the window commands menu of a window\n"
@@ -1648,7 +1627,6 @@
 "Kürzel, wenn Sie die Voreinstellung geändert haben)."
 
 #: ../src/winspector.c:1344
-
 msgid "Disable resizebar"
 msgstr "Größenänderung deaktivieren"
 
@@ -1657,7 +1635,6 @@
 msgstr "Größenänderungs-Leiste dieses Fensters entfernen"
 
 #: ../src/winspector.c:1349
-
 msgid "Disable close button"
 msgstr "Schließen nicht zulassen"
 
@@ -1666,7 +1643,6 @@
 msgstr "Entferne den 'Fenster schließen'-Knopf von diesem Fenster."
 
 #: ../src/winspector.c:1354
-
 msgid "Disable miniaturize button"
 msgstr "Minimieren nicht zulassen"
 
@@ -1675,45 +1651,38 @@
 msgstr "Entferne den 'Fenster minimieren'-Knopf von diesem Fenster."
 
 #: ../src/winspector.c:1359
-
 msgid "Disable border"
-msgstr "Fensterrand deaktivieren"
+msgstr "Kein Fensterrand"
 
 #: ../src/winspector.c:1361
-
 msgid "Remove the 1 pixel black border around the window."
-msgstr "Entferne die 1 Pixel breite, schwarzen Fensterumrandung."
+msgstr "Entferne die 1 Pixel breite, schwarze Fensterumrandung."
 
 #: ../src/winspector.c:1364
-
 msgid "Keep on top (floating)"
-msgstr "Immer oben"
+msgstr "Immer oben (gleitend)"
 
 #: ../src/winspector.c:1366
-
 msgid ""
 "Keep the window over other windows, not allowing\n"
 "them to cover it."
 msgstr ""
-"Halte dieses Fenster über allen anderen. Erlaube keinem\n"
-"anderen Fenster, dieses zu überdecken."
+"Dieses Fenster bleibt über allen anderen. Kein\n"
+"anderes Fenster darf es überdecken."
 
 #: ../src/winspector.c:1370
-
 msgid "Keep at bottom (sunken)"
 msgstr "Immer unten"
 
 #: ../src/winspector.c:1372
 msgid "Keep the window under all other windows."
-msgstr "Lasse dieses Fenster unter allen anderen."
+msgstr "Fenster unter allen anderen belassen."
 
 #: ../src/winspector.c:1377
-
 msgid "Make window present in all workspaces."
 msgstr "Fenster erscheint auf allen Arbeitsflächen."
 
 #: ../src/winspector.c:1380
-
 msgid "Start miniaturized"
 msgstr "Minimiert starten"
 
@@ -1722,11 +1691,10 @@
 "Make the window be automatically miniaturized when it's\n"
 "first shown."
 msgstr ""
-"Minimiere dieses Fenster automatisch, wenn es zum ersten Mal\n"
-"angezeigt wird."
+"Fenster automatisch minimieren, wenn es zum\n"
+"ersten Mal angezeigt wird."
 
 #: ../src/winspector.c:1386
-
 msgid "Start maximized"
 msgstr "Maximiert starten"
 
@@ -1735,11 +1703,10 @@
 "Make the window be automatically maximized when it's\n"
 "first shown."
 msgstr ""
-"Maximiere dieses Fenster automatisch, wenn es zum ersten Mal\n"
-"angezeigt wird."
+"Fenster automatisch maximieren, wenn es zum\n"
+"ersten Mal angezeigt wird."
 
 #: ../src/winspector.c:1392
-
 msgid "Full screen maximization"
 msgstr "Vollbild-Maximierung"
 
@@ -1750,15 +1717,14 @@
 "to outside the screen."
 msgstr ""
 "Das Fenster nimmt den gesamten Bildschirm ein, wenn\n"
-"maximiert ist. Titel- und Größenänderungszeile\n"
+"es maximiert ist. Titel- und Größenänderungszeile\n"
 "bleiben außerhalb des Bildschirms."
 
 #: ../src/winspector.c:1411
 msgid "Advanced"
-msgstr "Weiterführendes"
+msgstr " Weiterführendes "
 
 #: ../src/winspector.c:1428
-
 msgid "Do not bind keyboard shortcuts"
 msgstr "Keine Tastaturkürzel einbinden"
 
@@ -1769,13 +1735,12 @@
 "window to receive all key combinations regardless\n"
 "of your shortcut configuration."
 msgstr ""
-"Deaktiviert die Window Maker Tastaturkürzel wenn\n"
-"dieses Fenster aktiv ist. Dies ermöglicht der An-\n"
-"wendung, alle Tastaturkürzel unabhängig von Ihren\n"
-"Einstellungen zu verarbeiten."
+"Window Maker Tastaturkürzel deaktivieren, wenn\n"
+"dieses Fenster den Fokus hat. Dies ermöglicht der\n"
+"Anwendung, alle Tastaturkürzel unabhängig von\n"
+"Ihren persönlichen Einstellungen zu verarbeiten."
 
 #: ../src/winspector.c:1436
-
 msgid "Do not bind mouse clicks"
 msgstr "Keine Mausklicks einbinden"
 
@@ -1788,16 +1753,14 @@
 "(wenn 'Alt' als Modifier eingestellt ist) für dieses Fenster ab."
 
 #: ../src/winspector.c:1443
-
 msgid "Do not show in the window list"
 msgstr "Nicht in der Fensterliste anzeigen"
 
 #: ../src/winspector.c:1445
 msgid "Do not list the window in the window list menu."
-msgstr "Dieses Fenster nicht ins Fensterlistenmenü aufgenommen."
+msgstr "Dieses Fenster nicht ins Fensterlistenmenü aufnehmen."
 
 #: ../src/winspector.c:1448
-
 msgid "Do not let it take focus"
 msgstr "Keinen Fokus übernehmen"
 
@@ -1806,11 +1769,10 @@
 "Do not let the window take keyboard focus when you\n"
 "click on it."
 msgstr ""
-"Verhindere, daß dieses Fenster den Fokus erhält,\n"
-"wenn man darauf klickt."
+"Verhindern, dass dieses Fenster beim Anklicken\n"
+"den Fokus erhält."
 
 #: ../src/winspector.c:1454
-
 msgid "Keep inside screen"
 msgstr "Innerhalb des Bildschirms halten"
 
@@ -1819,13 +1781,12 @@
 "Do not allow the window to move itself completely\n"
 "outside the screen. For bug compatibility.\n"
 msgstr ""
-"Verhindere, dass das Fenster komplett aus dem Bildschirm\n"
+"Verhindern, dass das Fenster komplett aus dem Bildschirm\n"
 "herausgeschoben wird. Aus Kompatibilitätsgründen.\n"
 
 #: ../src/winspector.c:1460
-
 msgid "Ignore 'Hide Others'"
-msgstr "\"Andere verbergen\" ignorieren"
+msgstr "\"Andere ausblenden\" ignorieren"
 
 #: ../src/winspector.c:1462
 msgid ""
@@ -1833,12 +1794,11 @@
 "`HideOthers' command."
 msgstr ""
 "Dieses Fenster wird beim Befehl\n"
-"\"Andere verbergen\" ignoriert."
+"\"Andere ausblenden\" ignoriert."
 
 #: ../src/winspector.c:1466
-
 msgid "Ignore 'Save Session'"
-msgstr "Sitzung nicht sichern"
+msgstr "\"Sitzung sichern\" ignorieren"
 
 #: ../src/winspector.c:1468
 msgid ""
@@ -1847,14 +1807,13 @@
 "together with other applications when Window Maker\n"
 "starts."
 msgstr ""
-"Speichere diese Anwendung nicht im Sitzungsstatus,\n"
+"Sitzungsstatus der Anwendung nicht speichern,\n"
 "so dass sie nicht zusammen mit anderen Anwendungen\n"
-"gestartet wird wenn Window Maker startet."
+"gestartet wird, wenn Window Maker startet."
 
 #: ../src/winspector.c:1474
-
 msgid "Emulate application icon"
-msgstr "Emuliere Anwendungs-Icon"
+msgstr "Emuliere Anwendungs-Symbol"
 
 #: ../src/winspector.c:1476
 msgid ""
@@ -1863,11 +1822,10 @@
 "application icon to be created."
 msgstr ""
 "Lasse dieses Fenster wie eine Anwendung erscheinen, die genügend\n"
-"Informationen für Window Maker bietet um eine andockbare\n"
-"Anwendung zu erstellen."
+"Informationen für Window Maker bietet, um ein verankerbares\n"
+"Anwendungssymbol zu erzeugen."
 
 #: ../src/winspector.c:1482
-
 msgid "Disable language button"
 msgstr "Sprachauswahl abschalten"
 
@@ -1877,20 +1835,19 @@
 
 #: ../src/winspector.c:1501
 msgid "Miniwindow Image"
-msgstr "Miniwindow-Bild"
+msgstr " Minifenster-Bild "
 
 #: ../src/winspector.c:1528
-
 msgid "Icon filename:"
-msgstr "Name der Icondatei:"
+msgstr "Name der Symboldatei:"
 
 #: ../src/winspector.c:1541
 msgid "Ignore client supplied icon"
-msgstr "Ignoriere Icon des Programms"
+msgstr "Ignoriere Symbol der Anwendung"
 
 #: ../src/winspector.c:1548
 msgid "Initial Workspace"
-msgstr "Erste Arbeitsfläche"
+msgstr " Erste Arbeitsfläche "
 
 #: ../src/winspector.c:1550
 msgid "The workspace to place the window when it'sfirst shown."
@@ -1901,23 +1858,20 @@
 msgstr "Aktuelle Arbeitsfläche"
 
 #: ../src/winspector.c:1574
-
 msgid "Application Attributes"
 msgstr "Anwendungsspezifisch"
 
 #: ../src/winspector.c:1585
-
 msgid "Start hidden"
-msgstr "Verborgen starten"
+msgstr "Ausgeblendet starten"
 
 #: ../src/winspector.c:1587
 msgid "Automatically hide application when it's started."
-msgstr "Verberge die Anwendung automatisch, wenn sie gestartet wird."
+msgstr "Anwendung beim Starten automatisch ausblenden."
 
 #: ../src/winspector.c:1590
-
 msgid "No application icon"
-msgstr "Kein Anwendungs-Icon"
+msgstr "Kein Anwendungs-Symbol"
 
 #: ../src/winspector.c:1592
 msgid ""
@@ -1926,28 +1880,26 @@
 "and any icons that are already docked will stop\n"
 "working correctly."
 msgstr ""
-"Deaktiviere das Anwendungs-Icon für diese Anwendung.\n"
+"Anwendungs-Symbol für diese Anwendung deaktivieren.\n"
 "Beachten Sie, dass Sie die Anwendung dann nicht mehr\n"
-"andocken können und dass Icons, die schon angedockt\n"
-"sind, nicht mehr korrekt funktionieren werden."
+"verankern können und dass Symbole, die schon verankert\n"
+"sind, nicht mehr korrekt funktionieren."
 
 #: ../src/winspector.c:1598
-
 msgid "Shared application icon"
-msgstr "Gemeinsames Icon"
+msgstr "Gemeinsames Symbol"
 
 #: ../src/winspector.c:1600
 msgid ""
 "Use a single shared application icon for all of\n"
 "the instances of this application.\n"
 msgstr ""
-"Benutze ein gemeinsames Icon für alle Instanzen\n"
+"Benutze ein gemeinsames Symbol für alle Instanzen\n"
 "dieser Anwendung.\n"
 
 #: ../src/wmspec.c:277
-
 msgid "out of memory while updating wm hints"
-msgstr "zu wenig Speicher beim Update von \"wm hints\""
+msgstr "zu wenig Speicher beim Aktualisieren von \"wm hints\""
 
 #: ../src/workspace.c:107 ../src/workspace.c:108 ../src/workspace.c:893
 #, c-format
diff -Naur WindowMaker-0.80.2/po/el.po wm-xft2/po/el.po
--- WindowMaker-0.80.2/po/el.po	2001-05-13 03:29:29.000000000 +0400
+++ wm-xft2/po/el.po	2003-10-22 14:08:37.000000000 +0400
@@ -11,8 +11,8 @@
 "Last-Translator: Nikolaos Papagrigoriou <papanikos@freemail.gr>\n"
 "Language-Team: Greek\n"
 "MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=el\n"
-"Content-Transfer-Encoding: iso8859-7\n"
+"Content-Type: text/plain; charset=iso-8859-7\n"
+"Content-Transfer-Encoding: 8-bit\n"
 "**************************\n"
 "Words from the maintainer in Greek:\n"
 "Ç ìåôÜöñáóç åßíáé áêüìç óå áñ÷éêü óôÜäéï. Ôá ìõíÞìáôá ðïõ åìöáíßæïíôáé óôçí\n"
diff -Naur WindowMaker-0.80.2/po/fr.po wm-xft2/po/fr.po
--- WindowMaker-0.80.2/po/fr.po	2002-02-21 14:28:48.000000000 +0300
+++ wm-xft2/po/fr.po	2003-10-22 14:08:37.000000000 +0400
@@ -8,7 +8,7 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: 0.80.0\n"
-"POT-Creation-Date: 2002-02-12 06:58+0100\n"
+"POT-Creation-Date: 2003-05-02 15:39+0200\n"
 "PO-Revision-Date: 2002-01-21 07:08+0100\n"
 "Last-Translator: Antoine Hulin <antoine.hulin@origan.fdn.org>\n"
 "Language-Team: French <fr@li.org>\n"
@@ -16,25 +16,25 @@
 "Content-Type: text/plain; charset=iso-8859-1\n"
 "Content-Transfer-Encoding: 8-bit\n"
 
-#: ../src/appicon.c:426 ../src/dialog.c:282 ../src/dock.c:3325
-#: ../src/dockedapp.c:230 ../src/main.c:273 ../src/rootmenu.c:1853
+#: ../src/appicon.c:415 ../src/dialog.c:295 ../src/dock.c:3357
+#: ../src/dockedapp.c:231 ../src/main.c:273 ../src/rootmenu.c:1859
 #: ../src/winspector.c:389 ../src/winspector.c:406
 msgid "Error"
 msgstr "Erreur"
 
-#: ../src/appicon.c:427
+#: ../src/appicon.c:416
 msgid "Could not open specified icon file"
-msgstr "L'ouverture de l'icône spécifiée a échoué."
+msgstr "Impossible d'ouvrir l'icône spécifiée."
 
-#: ../src/appicon.c:428 ../src/dialog.c:179 ../src/dialog.c:282
-#: ../src/dialog.c:729 ../src/dialog.c:1818 ../src/dock.c:526
-#: ../src/dock.c:534 ../src/dock.c:558 ../src/dock.c:3326
-#: ../src/dockedapp.c:231 ../src/dockedapp.c:426 ../src/main.c:273
-#: ../src/rootmenu.c:1857 ../src/winspector.c:390 ../src/winspector.c:407
+#: ../src/appicon.c:417 ../src/dialog.c:192 ../src/dialog.c:295
+#: ../src/dialog.c:724 ../src/dialog.c:1776 ../src/dock.c:532
+#: ../src/dock.c:540 ../src/dock.c:564 ../src/dock.c:3358
+#: ../src/dockedapp.c:232 ../src/dockedapp.c:427 ../src/main.c:273
+#: ../src/rootmenu.c:1863 ../src/winspector.c:390 ../src/winspector.c:407
 msgid "OK"
 msgstr "Accepter"
 
-#: ../src/appicon.c:456 ../src/dock.c:264
+#: ../src/appicon.c:445 ../src/dock.c:262
 msgid ""
 " will be forcibly closed.\n"
 "Any unsaved changes will be lost.\n"
@@ -42,357 +42,359 @@
 msgstr ""
 " va être arrêté.\n"
 "Les changements non sauvegardés seront perdus.\n"
-"Confirmez-vous ?"
+"Confirmez-vous ?"
 
-#: ../src/appicon.c:464 ../src/dock.c:283 ../src/winmenu.c:125
+#: ../src/appicon.c:453 ../src/dock.c:281 ../src/winmenu.c:125
 msgid "Kill Application"
 msgstr "Arrêter l'application"
 
-#: ../src/appicon.c:465 ../src/dock.c:284 ../src/winmenu.c:127
+#: ../src/appicon.c:454 ../src/dock.c:282 ../src/winmenu.c:127
 msgid "Yes"
 msgstr "Oui"
 
-#: ../src/appicon.c:465 ../src/dock.c:284 ../src/winmenu.c:127
+#: ../src/appicon.c:454 ../src/dock.c:282 ../src/winmenu.c:127
 msgid "No"
 msgstr "Non"
 
-#: ../src/appicon.c:495 ../src/dock.c:1177 ../src/dock.c:3491
+#: ../src/appicon.c:484 ../src/dock.c:1184 ../src/dock.c:3523
 msgid "Unhide Here"
 msgstr "Montrer ici"
 
-#: ../src/appicon.c:496 ../src/appicon.c:521 ../src/dock.c:1179
-#: ../src/dock.c:1181 ../src/dock.c:3503 ../src/winmenu.c:465
+#: ../src/appicon.c:485 ../src/appicon.c:510 ../src/dock.c:1186
+#: ../src/dock.c:1188 ../src/dock.c:3535 ../src/winmenu.c:467
 msgid "Hide"
 msgstr "Masquer"
 
-#: ../src/appicon.c:497
+#: ../src/appicon.c:486
 msgid "Set Icon..."
 msgstr "Associer une icône..."
 
-#: ../src/appicon.c:498 ../src/dock.c:1185 ../src/rootmenu.c:248
-#: ../src/rootmenu.c:264 ../src/winmenu.c:520
+#: ../src/appicon.c:487 ../src/dock.c:1192 ../src/rootmenu.c:248
+#: ../src/rootmenu.c:264 ../src/winmenu.c:522
 msgid "Kill"
 msgstr "Terminer"
 
-#: ../src/appicon.c:519 ../src/dock.c:3501
+#: ../src/appicon.c:508 ../src/dock.c:3533
 msgid "Unhide"
 msgstr "Montrer"
 
 #: ../src/application.c:398
 #, c-format
 msgid "recreating missing icon '%s'"
-msgstr "Création de l'icône manquante « %s »."
+msgstr "Création de l'icône manquante « %s »."
 
-#: ../src/defaults.c:922 ../src/defaults.c:1011
+#: ../src/defaults.c:924 ../src/defaults.c:1013
 #, c-format
 msgid "Domain %s (%s) of global defaults database is corrupted!"
 msgstr "Le domaine %s (%s) de la configuration générale est corrompu !"
 
-#: ../src/defaults.c:927
+#: ../src/defaults.c:929
 #, c-format
 msgid "could not load domain %s from global defaults database"
 msgstr "Le domaine %s est illisible dans la configuration générale."
 
-#: ../src/defaults.c:949 ../src/startup.c:884 ../src/startup.c:902
+#: ../src/defaults.c:951 ../src/startup.c:884 ../src/startup.c:902
 #: ../src/startup.c:908
 #, c-format
 msgid "could not read domain \"%s\" from defaults database"
-msgstr "Le domaine « %s » est introuvable dans la configuration par défaut."
+msgstr "Le domaine « %s » est introuvable dans la configuration par défaut."
 
-#: ../src/defaults.c:995 ../src/defaults.c:1099 ../src/defaults.c:1140
-#: ../src/defaults.c:1196
+#: ../src/defaults.c:997 ../src/defaults.c:1101 ../src/defaults.c:1142
+#: ../src/defaults.c:1198
 #, c-format
 msgid "Domain %s (%s) of defaults database is corrupted!"
 msgstr "Le domaine %s (%s) de la configuration par défaut est corrompu !"
 
-#: ../src/defaults.c:1000 ../src/defaults.c:1119 ../src/defaults.c:1176
-#: ../src/defaults.c:1205 ../src/menureader.c:397
+#: ../src/defaults.c:1002 ../src/defaults.c:1121 ../src/defaults.c:1178
+#: ../src/defaults.c:1207 ../src/menureader.c:397
 #, c-format
 msgid "could not load domain %s from user defaults database"
 msgstr ""
 "Le domaine %s est introuvable dans la configuration par défaut de "
 "l'utilisateur."
 
-#: ../src/defaults.c:1030
+#: ../src/defaults.c:1032
 #, c-format
 msgid "could not load domain %s from global defaults database (%s)"
 msgstr "Le domaine %s est introuvable dans la configuration générale (%s)."
 
-#: ../src/defaults.c:1166 ../src/screen.c:458
+#: ../src/defaults.c:1168 ../src/screen.c:425
 #, c-format
 msgid "could not load logo image for panels: %s"
-msgstr "Le chargement des logos pour les fenêtres de messages a échoué : %s"
+msgstr "Le chargement des logos pour les fenêtres de messages a échoué : %s"
 
-#: ../src/defaults.c:1447
+#. --------------------------- Local -----------------------
+#: ../src/defaults.c:1416 ../src/defaults.c:1558 ../src/defaults.c:1670
+#: ../src/defaults.c:2149 ../src/defaults.c:2166 ../src/defaults.c:2211
+#: ../src/defaults.c:2258 ../src/defaults.c:2731 ../src/wdefaults.c:571
+#: ../src/wdefaults.c:607
 #, c-format
-msgid "wrong option value for key \"%s\". Should be one of %s"
-msgstr "Valeur incorrecte pour la clé « %s ». Les valeurs autorisées sont %s."
+msgid "Wrong option format for key \"%s\". Should be %s."
+msgstr "Format incorrect pour la clé « %s ». Le format devrait être %s."
 
-#: ../src/defaults.c:1492
+#: ../src/defaults.c:1418 ../src/defaults.c:1499 ../src/defaults.c:1531
+#: ../src/defaults.c:1563 ../src/defaults.c:1576 ../src/defaults.c:1591
+#: ../src/defaults.c:1605 ../src/defaults.c:1675 ../src/defaults.c:1687
+#: ../src/defaults.c:2154 ../src/defaults.c:2171 ../src/defaults.c:2184
+#: ../src/defaults.c:2216 ../src/defaults.c:2232 ../src/defaults.c:2263
+#: ../src/defaults.c:2350 ../src/defaults.c:2736 ../src/defaults.c:2747
 #, c-format
-msgid "can't convert \"%s\" to boolean for key \"%s\""
-msgstr "Impossible de convertir « %s » en booléen (pour la clé « %s »)."
+msgid "using default \"%s\" instead"
+msgstr "La valeur utilisée en remplacement est « %s »."
 
-#: ../src/defaults.c:1497 ../src/defaults.c:1529 ../src/defaults.c:1561
-#: ../src/defaults.c:1574 ../src/defaults.c:1589 ../src/defaults.c:1603
-#: ../src/defaults.c:1673 ../src/defaults.c:1685 ../src/defaults.c:2152
-#: ../src/defaults.c:2169 ../src/defaults.c:2182 ../src/defaults.c:2214
-#: ../src/defaults.c:2230 ../src/defaults.c:2261 ../src/defaults.c:2348
-#: ../src/defaults.c:2734 ../src/defaults.c:2745
+#: ../src/defaults.c:1449
 #, c-format
-msgid "using default \"%s\" instead"
-msgstr "La valeur utilisée en remplacement est « %s »."
+msgid "wrong option value for key \"%s\". Should be one of %s"
+msgstr "Valeur incorrecte pour la clé « %s ». Les valeurs autorisées sont %s."
 
-#: ../src/defaults.c:1526
+#: ../src/defaults.c:1494
 #, c-format
-msgid "can't convert \"%s\" to integer for key \"%s\""
-msgstr "Impossible de convertir « %s » en valeur entière (pour la clé « %s »)."
+msgid "can't convert \"%s\" to boolean for key \"%s\""
+msgstr "Impossible de convertir « %s » en booléen (pour la clé « %s »)."
 
-#: ../src/defaults.c:1556 ../src/defaults.c:1668 ../src/defaults.c:2147
-#: ../src/defaults.c:2164 ../src/defaults.c:2209 ../src/defaults.c:2256
-#: ../src/defaults.c:2729 ../src/wdefaults.c:571 ../src/wdefaults.c:607
+#: ../src/defaults.c:1528
 #, c-format
-msgid "Wrong option format for key \"%s\". Should be %s."
-msgstr "Format incorrect pour la clé « %s ». Le format devrait être %s."
+msgid "can't convert \"%s\" to integer for key \"%s\""
+msgstr "Impossible de convertir « %s » en valeur entière (pour la clé « %s »)."
 
-#: ../src/defaults.c:1569
+#: ../src/defaults.c:1571
 #, c-format
 msgid "Incorrect number of elements in array for key \"%s\"."
-msgstr "Nombre d'éléments incorrect pour la clé « %s »."
+msgstr "Nombre d'éléments incorrect pour la clé « %s »."
 
-#: ../src/defaults.c:1584
+#: ../src/defaults.c:1586
 #, c-format
 msgid "Wrong value for key \"%s\". Should be Coordinate."
-msgstr "Mauvaise valeur pour la clé « %s ». Il devrait y avoir une coordonnée."
+msgstr "Mauvaise valeur pour la clé « %s ». Il devrait y avoir une coordonnée."
 
-#: ../src/defaults.c:1599
+#: ../src/defaults.c:1601
 #, c-format
 msgid "can't convert array to integers for \"%s\"."
 msgstr ""
-"Impossible de convertir le tableau de la clé « %s » en valeurs entières."
+"Impossible de convertir le tableau de la clé « %s » en valeurs entières."
 
-#: ../src/defaults.c:1797 ../src/defaults.c:1829 ../src/defaults.c:1845
-#: ../src/defaults.c:1874 ../src/defaults.c:1897 ../src/defaults.c:1950
-#: ../src/defaults.c:1990 ../src/defaults.c:2028 ../src/defaults.c:2044
+#: ../src/defaults.c:1799 ../src/defaults.c:1831 ../src/defaults.c:1847
+#: ../src/defaults.c:1876 ../src/defaults.c:1899 ../src/defaults.c:1952
+#: ../src/defaults.c:1992 ../src/defaults.c:2030 ../src/defaults.c:2046
 #, c-format
 msgid "\"%s\" is not a valid color name"
-msgstr "« %s » n'est pas un nom de couleur valide."
+msgstr "« %s » n'est pas un nom de couleur valide."
 
-#: ../src/defaults.c:1810 ../src/defaults.c:1862
+#: ../src/defaults.c:1812 ../src/defaults.c:1864
 msgid "bad number of arguments in gradient specification"
 msgstr "Mauvais nombre d'arguments dans la description du dégradé."
 
-#: ../src/defaults.c:1923
+#: ../src/defaults.c:1925
 msgid "too few arguments in multicolor gradient specification"
 msgstr "Trop peu d'arguments dans la description du dégradé multicolore."
 
-#: ../src/defaults.c:2017
+#: ../src/defaults.c:2019
 msgid "bad number of arguments in textured gradient specification"
 msgstr "Mauvais nombre d'arguments dans la description du dégradé texturé."
 
-#: ../src/defaults.c:2060
+#: ../src/defaults.c:2062
 #, c-format
 msgid "bad opacity value for tgradient texture \"%s\". Should be [0..255]"
-msgstr "L'opacité du dégradé texturé doit être entre 0 et 255 et non « %s »."
+msgstr "L'opacité du dégradé texturé doit être entre 0 et 255 et non « %s »."
 
-#: ../src/defaults.c:2120
+#: ../src/defaults.c:2122
 #, c-format
 msgid "could not initialize library %s"
 msgstr "L'initialisation de la bibliothèque %s a échoué."
 
-#: ../src/defaults.c:2123
+#: ../src/defaults.c:2125
 #, c-format
 msgid "could not find function %s::%s"
 msgstr "La fonction %s::%s est introuvable."
 
-#: ../src/defaults.c:2130
+#: ../src/defaults.c:2132
 #, c-format
 msgid "invalid texture type %s"
-msgstr "Type de texture invalide : %s."
+msgstr "Type de texture invalide : %s."
 
-#: ../src/defaults.c:2177
+#: ../src/defaults.c:2179
 #, c-format
 msgid "Error in texture specification for key \"%s\""
-msgstr "Erreur dans la description de la texture pour la clé « %s »."
+msgstr "Erreur dans la description de la texture pour la clé « %s »."
 
-#: ../src/defaults.c:2226
+#: ../src/defaults.c:2228
 msgid "Wrong type for workspace background. Should be a texture type."
 msgstr "Mauvais type de fond d'écran. Il devrait s'agir d'une texture."
 
-#: ../src/defaults.c:2274
+#: ../src/defaults.c:2276
 #, c-format
 msgid "Wrong type for background of workspace %i. Should be a texture."
 msgstr ""
 "Mauvais type de fond d'écran pour le bureau %i. Il devrait s'agir d'une "
 "texture."
 
-#: ../src/defaults.c:2316
+#: ../src/defaults.c:2318
 msgid "could not load any usable font!!!"
 msgstr "Impossible de charger une police utilisable !"
 
-#: ../src/defaults.c:2343
+#: ../src/defaults.c:2345
 #, c-format
 msgid "could not get color for key \"%s\""
-msgstr "La lecture de la couleur pour la clé « %s » a échoué."
+msgstr "La lecture de la couleur pour la clé « %s » a échoué."
 
-#: ../src/defaults.c:2401 ../src/rootmenu.c:526
+#: ../src/defaults.c:2403 ../src/rootmenu.c:531
 #, c-format
 msgid "%s:invalid key modifier \"%s\""
-msgstr "%s : « %s » n'est pas un modificateur de touche valide."
+msgstr "%s : « %s » n'est pas un modificateur de touche valide."
 
-#: ../src/defaults.c:2413
+#: ../src/defaults.c:2415
 #, c-format
 msgid "%s:invalid kbd shortcut specification \"%s\""
-msgstr "%s : « %s » n'est pas un raccourci clavier valide."
+msgstr "%s : « %s » n'est pas un raccourci clavier valide."
 
-#: ../src/defaults.c:2420
+#: ../src/defaults.c:2422
 #, c-format
 msgid "%s:invalid key in shortcut \"%s\""
-msgstr "%s : touche invalide dans le raccourci « %s »."
+msgstr "%s : touche invalide dans le raccourci « %s »."
 
-#: ../src/defaults.c:2445
+#: ../src/defaults.c:2447
 #, c-format
 msgid "%s: modifier key %s is not valid"
-msgstr "%s : modificateur de touche « %s » invalide."
+msgstr "%s : modificateur de touche « %s » invalide."
 
-#: ../src/defaults.c:2477
+#: ../src/defaults.c:2479
 #, c-format
 msgid "could not load image in option %s: %s"
-msgstr "Le chargement de l'image pour la clé %s a échoué : %s"
+msgstr "Le chargement de l'image pour la clé %s a échoué : %s"
 
-#: ../src/defaults.c:2594
+#: ../src/defaults.c:2596
 #, c-format
 msgid "failed to open bitmap file \"%s\""
-msgstr "Impossible d'ouvrir le fichier image « %s »."
+msgstr "Impossible d'ouvrir le fichier image « %s »."
 
-#: ../src/defaults.c:2597
+#: ../src/defaults.c:2599
 #, c-format
 msgid "\"%s\" is not a valid bitmap file"
-msgstr "« %s » n'est pas une image valide."
+msgstr "« %s » n'est pas une image valide."
 
-#: ../src/defaults.c:2600
+#: ../src/defaults.c:2602
 #, c-format
 msgid "out of memory reading bitmap file \"%s\""
-msgstr "Plus assez de mémoire pendant la lecture de l'image « %s »."
+msgstr "Plus assez de mémoire pendant la lecture de l'image « %s »."
 
-#: ../src/defaults.c:2639 ../src/defaults.c:2672
+#: ../src/defaults.c:2641 ../src/defaults.c:2674
 msgid "bad number of arguments in cursor specification"
 msgstr "Nombre d'arguments incorrect dans la définition du curseur."
 
-#: ../src/defaults.c:2655
+#: ../src/defaults.c:2657
 #, c-format
 msgid "unknown builtin cursor name \"%s\""
-msgstr "Nom de curseur prédéfini inconnu « %s »."
+msgstr "Nom de curseur prédéfini inconnu « %s »."
 
-#: ../src/defaults.c:2682 ../src/defaults.c:2694
+#: ../src/defaults.c:2684 ../src/defaults.c:2696
 #, c-format
 msgid "could not find cursor bitmap file \"%s\""
-msgstr "Le fichier image « %s » du curseur est introuvable."
+msgstr "Le fichier image « %s » du curseur est introuvable."
 
-#: ../src/defaults.c:2741
+#: ../src/defaults.c:2743
 #, c-format
 msgid "Error in cursor specification for key \"%s\""
-msgstr "Erreur dans la description de texture pour la clé « %s »"
+msgstr "Erreur dans la description de texture pour la clé « %s »"
 
-#: ../src/defaults.c:2826
+#: ../src/defaults.c:2828
 msgid "could not render texture for icon background"
 msgstr "L'affichage de la texture de fond d'icône a échoué."
 
-#: ../src/dialog.c:135
+#: ../src/dialog.c:147
 msgid "Save workspace state"
 msgstr "Enregistrer l'état des bureaux"
 
-#: ../src/dialog.c:179 ../src/dialog.c:736 ../src/dock.c:558
-#: ../src/dockedapp.c:431 ../src/rootmenu.c:198 ../src/rootmenu.c:248
+#: ../src/dialog.c:192 ../src/dialog.c:731 ../src/dock.c:564
+#: ../src/dockedapp.c:432 ../src/rootmenu.c:198 ../src/rootmenu.c:248
 #: ../src/rootmenu.c:264
 msgid "Cancel"
 msgstr "Annuler"
 
-#: ../src/dialog.c:277
+#: ../src/dialog.c:290
 msgid "Could not open directory "
-msgstr "Impossible d'ouvrir le répertoire "
+msgstr "Impossible d'accéder au répertoire "
 
-#: ../src/dialog.c:332
+#: ../src/dialog.c:345
 msgid "Could not load image file "
 msgstr "Impossible de lire l'image."
 
-#: ../src/dialog.c:663
+#: ../src/dialog.c:658
 msgid "Directories"
 msgstr "Répertoires"
 
-#: ../src/dialog.c:672
+#: ../src/dialog.c:667
 msgid "Icons"
 msgstr "Icônes"
 
-#: ../src/dialog.c:705
+#: ../src/dialog.c:700
 msgid "Preview"
 msgstr "Aperçu"
 
-#: ../src/dialog.c:718
+#: ../src/dialog.c:713
 msgid "File Name:"
-msgstr "Fichier :"
+msgstr "Fichier :"
 
-#: ../src/dialog.c:742
+#: ../src/dialog.c:737
 msgid "Choose File"
 msgstr "Choisissez un fichier"
 
-#: ../src/dialog.c:760 ../src/dialog.c:762
+#: ../src/dialog.c:756 ../src/dialog.c:758
 msgid "Icon Chooser"
 msgstr "Sélecteur d'icônes"
 
-#: ../src/dialog.c:1241 ../src/dialog.c:1351
+#: ../src/dialog.c:1192 ../src/dialog.c:1301
 #, c-format
 msgid "Version %s"
 msgstr "Version %s"
 
-#: ../src/dialog.c:1348
+#: ../src/dialog.c:1299
 msgid "Window Manager for X"
 msgstr "Gestionnaire de fenêtres"
 
-#: ../src/dialog.c:1373
+#: ../src/dialog.c:1323
 #, c-format
 msgid "Using visual 0x%x: %s %ibpp "
-msgstr "Mode graphique 0x%x : %s %i bpp "
+msgstr "Mode graphique 0x%x : %s %i bpp "
 
-#: ../src/dialog.c:1381
+#: ../src/dialog.c:1331
 msgid "(32 thousand colors)\n"
 msgstr "(32 000 couleurs).\n"
 
-#: ../src/dialog.c:1384
+#: ../src/dialog.c:1334
 msgid "(64 thousand colors)\n"
 msgstr "(64 000 couleurs).\n"
 
-#: ../src/dialog.c:1388
+#: ../src/dialog.c:1338
 msgid "(16 million colors)\n"
 msgstr "(16 millions de couleurs).\n"
 
-#: ../src/dialog.c:1391
+#: ../src/dialog.c:1341
 #, c-format
 msgid "(%d colors)\n"
 msgstr "(%d couleurs)\n"
 
-#: ../src/dialog.c:1401
+#: ../src/dialog.c:1351
 #, c-format
 msgid "Total allocated memory: %i kB. Total memory in use: %i kB.\n"
-msgstr "Mémoire allouée : %i ko. Mémoire utilisée : %i ko.\n"
+msgstr "Mémoire allouée : %i ko. Mémoire utilisée : %i ko.\n"
 
-#: ../src/dialog.c:1408
+#: ../src/dialog.c:1358
 msgid "Supported image formats: "
-msgstr "Formats d'images acceptés : "
+msgstr "Formats d'images acceptés : "
 
-#: ../src/dialog.c:1415
+#: ../src/dialog.c:1365
 msgid ""
 "\n"
 "Additional support for: "
 msgstr ""
 "\n"
-"Support complémentaire : "
+"Support complémentaire : "
 
-#: ../src/dialog.c:1438
+#: ../src/dialog.c:1388
 msgid " and "
 msgstr " et "
 
-#: ../src/dialog.c:1448
+#: ../src/dialog.c:1398
 msgid ""
 "\n"
 "Sound disabled"
@@ -400,7 +402,7 @@
 "\n"
 "Son désactivé"
 
-#: ../src/dialog.c:1450
+#: ../src/dialog.c:1400
 msgid ""
 "\n"
 "Sound enabled"
@@ -408,15 +410,15 @@
 "\n"
 "Son activé"
 
-#: ../src/dialog.c:1476
+#: ../src/dialog.c:1429
 msgid "Info"
 msgstr "Information"
 
-#: ../src/dialog.c:1499
+#: ../src/dialog.c:1453
 msgid "Merry Christmas!"
 msgstr "Joyeux Noël !"
 
-#: ../src/dialog.c:1569
+#: ../src/dialog.c:1523
 msgid ""
 "    Window Maker is free software; you can redistribute it and/or\n"
 "modify it under the terms of the GNU General Public License as\n"
@@ -446,23 +448,23 @@
 "\n"
 "    Vous devriez avoir reçu une copie de la Licence Publique\n"
 "Générale avec ce programme ; dans le cas contraire, écrivez à la\n"
-"Free Software Foundation, Inc., 59 Temple Place - Suite 330,i\n"
+"Free Software Foundation, Inc., 59 Temple Place - Suite 330,\n"
 "Boston, MA 02111-1307, USA."
 
-#: ../src/dialog.c:1590
+#: ../src/dialog.c:1547
 msgid "Legal"
 msgstr "Informations légales"
 
-#: ../src/dialog.c:1741 ../src/startup.c:394
+#: ../src/dialog.c:1699 ../src/startup.c:394
 msgid "cannot open connection for crashing dialog panel. Aborting."
 msgstr ""
-"Ouverture d'une connexion pour le panneau d'incident impossible. Abandon."
+"Impossible d'ouvrir la boîte de dialogue dédiée aux incidents. Abandon."
 
-#: ../src/dialog.c:1767
+#: ../src/dialog.c:1725
 msgid "Fatal error"
 msgstr "Erreur fatale"
 
-#: ../src/dialog.c:1778
+#: ../src/dialog.c:1736
 #, c-format
 msgid ""
 "Window Maker received signal %i\n"
@@ -471,12 +473,12 @@
 "Window Maker a reçu le signal %i\n"
 "(%s)."
 
-#: ../src/dialog.c:1781
+#: ../src/dialog.c:1739
 #, c-format
 msgid "Window Maker received signal %i."
 msgstr "Window Maker a reçu le signal %i."
 
-#: ../src/dialog.c:1790
+#: ../src/dialog.c:1748
 msgid ""
 " This fatal error occured probably due to a bug. Please fill the included "
 "BUGFORM and report it to bugs@windowmaker.org."
@@ -484,27 +486,27 @@
 " Cette erreur est probablement due à un bogue. Remplissez le formulaire "
 "BUGFORM et envoyez-le à bugs@windowmaker.org."
 
-#: ../src/dialog.c:1799
+#: ../src/dialog.c:1757
 msgid "What do you want to do now?"
-msgstr "Que voulez-vous faire maintenant ?"
+msgstr "Que voulez-vous faire maintenant ?"
 
-#: ../src/dialog.c:1805
+#: ../src/dialog.c:1763
 msgid "Select action"
 msgstr "Choisissez une action"
 
-#: ../src/dialog.c:1806
+#: ../src/dialog.c:1764
 msgid "Abort and leave a core file"
-msgstr "Abandonner et créer une image mémoire (core file)."
+msgstr "Abandonner et créer une image mémoire (fichier « core »)."
 
-#: ../src/dialog.c:1807
+#: ../src/dialog.c:1765
 msgid "Restart Window Maker"
 msgstr "Redémarrer Window Maker"
 
-#: ../src/dialog.c:1808
+#: ../src/dialog.c:1766
 msgid "Start alternate window manager"
 msgstr "Démarrer un autre gestionnaire de fenêtres"
 
-#: ../src/dialog.c:1986
+#: ../src/dialog.c:1944
 msgid ""
 "Window Maker is part of the GNUstep project.\n"
 "The GNUstep project aims to create a free\n"
@@ -524,26 +526,26 @@
 "évoluées et multi-plates-formes). De plus,\n"
 "un environnement pour l'utilisateur et le\n"
 "développeur sera créé à partir de cette boîte\n"
-"à outils. Visitez la page : www.gnustep.org"
+"à outils. Visitez la page : www.gnustep.org"
 
-#: ../src/dialog.c:2006
+#: ../src/dialog.c:1967
 msgid "About GNUstep"
 msgstr "À propos de GNUstep"
 
-#: ../src/dock.c:213
+#: ../src/dock.c:211
 #, c-format
 msgid "Type the name for workspace %i:"
-msgstr "Entrez un nom pour le bureau %i : "
+msgstr "Entrez un nom pour le bureau %i : "
 
-#: ../src/dock.c:214 ../src/dock.c:1141 ../src/dock.c:1144 ../src/dock.c:3409
+#: ../src/dock.c:212 ../src/dock.c:1148 ../src/dock.c:1151 ../src/dock.c:3441
 msgid "Rename Workspace"
 msgstr "Renommer le bureau"
 
-#: ../src/dock.c:520 ../src/dock.c:528
+#: ../src/dock.c:526 ../src/dock.c:534
 msgid "Warning"
 msgstr "Attention"
 
-#: ../src/dock.c:521
+#: ../src/dock.c:527
 msgid ""
 "Some icons cannot be made omnipresent. Please make sure that no other icon "
 "is docked in the same positions on the other workspaces and the Clip is not "
@@ -553,7 +555,7 @@
 "qu'aucune autre icône n'est présente à la même place sur un autre bureau et "
 "que le Trombone n'est plein sur aucun bureau."
 
-#: ../src/dock.c:529
+#: ../src/dock.c:535
 msgid ""
 "Icon cannot be made omnipresent. Please make sure that no other icon is "
 "docked in the same position on the other workspaces and the Clip is not full "
@@ -563,217 +565,224 @@
 "icône n'est présente à la même place sur un autre bureau et que le Trombone "
 "n'est plein sur aucun bureau."
 
-#: ../src/dock.c:556
+#: ../src/dock.c:562
 msgid "Workspace Clip"
 msgstr "Trombone"
 
-#: ../src/dock.c:557
+#: ../src/dock.c:563
 msgid "All selected icons will be removed!"
 msgstr "Toutes les icônes sélectionnées seront supprimées !"
 
-#: ../src/dock.c:608 ../src/dock.c:1156 ../src/dock.c:1158 ../src/dock.c:3445
+#: ../src/dock.c:614 ../src/dock.c:1163 ../src/dock.c:1165 ../src/dock.c:3477
 msgid "Keep Icon"
 msgstr "Figer l'icône"
 
-#: ../src/dock.c:609 ../src/dock.c:2137 ../src/dock.c:2278
+#: ../src/dock.c:615 ../src/dock.c:2154 ../src/dock.c:2295
 msgid "Type the command used to launch the application"
 msgstr "Entrez la commande utilisée pour lancer l'application"
 
-#: ../src/dock.c:965
+#: ../src/dock.c:971
 #, c-format
 msgid "could not launch application %s\n"
 msgstr "Le lancement de l'application %s a échoué.\n"
 
-#: ../src/dock.c:1020
+#: ../src/dock.c:1026
 msgid "could not create workspace submenu for Clip menu"
 msgstr "La création du sous-menu Bureau pour le menu du Trombone a échoué."
 
-#: ../src/dock.c:1078
+#: ../src/dock.c:1085
 msgid "could not create options submenu for Clip menu"
 msgstr "La création d'un sous-menu Options pour le menu du Trombone a échoué."
 
-#: ../src/dock.c:1082 ../src/dock.c:1130
+#: ../src/dock.c:1089 ../src/dock.c:1137
 msgid "Keep on Top"
 msgstr "Toujours devant"
 
-#: ../src/dock.c:1088
+#: ../src/dock.c:1095
 msgid "Collapsed"
 msgstr "Fermé"
 
-#: ../src/dock.c:1094
+#: ../src/dock.c:1101
 msgid "Autocollapse"
 msgstr "Fermeture automatique"
 
-#: ../src/dock.c:1100
+#: ../src/dock.c:1107
 msgid "Autoraise"
 msgstr "Passer devant"
 
-#: ../src/dock.c:1106
+#: ../src/dock.c:1113
 msgid "Autoattract Icons"
 msgstr "Trombone magnétique"
 
-#: ../src/dock.c:1136
+#: ../src/dock.c:1143
 msgid "Clip Options"
 msgstr "Options du Trombone"
 
-#: ../src/dock.c:1146
+#: ../src/dock.c:1153
 msgid "Selected"
 msgstr "Sélectionnée(s)"
 
-#: ../src/dock.c:1151 ../src/dock.c:1154 ../src/dock.c:3436
+#: ../src/dock.c:1158 ../src/dock.c:1161 ../src/dock.c:3468
 msgid "Select All Icons"
 msgstr "Sélectionner les icônes"
 
-#: ../src/dock.c:1160 ../src/dock.c:1162 ../src/dock.c:3453
+#: ../src/dock.c:1167 ../src/dock.c:1169 ../src/dock.c:3485
 msgid "Move Icon To"
 msgstr "Déplacer l'icône vers"
 
-#: ../src/dock.c:1167 ../src/dock.c:1170 ../src/dock.c:3464
+#: ../src/dock.c:1174 ../src/dock.c:1177 ../src/dock.c:3496
 msgid "Remove Icon"
 msgstr "Supprimer l'icône"
 
-#: ../src/dock.c:1172
+#: ../src/dock.c:1179
 msgid "Attract Icons"
 msgstr "Attirer les icônes"
 
-#: ../src/dock.c:1175
+#: ../src/dock.c:1182
 msgid "Launch"
 msgstr "Lancer"
 
-#: ../src/dock.c:1183
+#: ../src/dock.c:1190
 msgid "Settings..."
 msgstr "Paramètres..."
 
-#: ../src/dock.c:1548 ../src/dock.c:1655
+#: ../src/dock.c:1555 ../src/dock.c:1662
 #, c-format
 msgid "bad value in docked icon state info %s"
 msgstr "Mauvaise valeur dans l'information %s sur l'état de l'icône dockée."
 
-#: ../src/dock.c:1663
+#: ../src/dock.c:1670
 #, c-format
 msgid "bad value in docked icon position %i,%i"
 msgstr "Mauvaise valeur pour la position %i,%i de l'icône dockée."
 
-#: ../src/dock.c:1919
+# Cette chaîne sera concaténée avec la suivante (Il y a trop d'icône...), il faut
+# donc un espace après le point.
+#: ../src/dock.c:1690
+#, c-format
+msgid "bad value in dock state info:%s"
+msgstr "Mauvaise valeur dans l'information %s sur l'état du Dock. "
+
+#: ../src/dock.c:1936
 msgid "there are too many icons stored in dock. Ignoring what doesn't fit"
 msgstr "Il y a trop d'icônes dans le Dock. Le surplus sera ignoré."
 
 #. icon->forced_dock = 1;
-#: ../src/dock.c:2136 ../src/dock.c:2277
+#: ../src/dock.c:2153 ../src/dock.c:2294
 msgid "Dock Icon"
 msgstr "Docker l'icône"
 
-#: ../src/dock.c:3323
+#: ../src/dock.c:3355
 #, c-format
 msgid "Could not execute command \"%s\""
-msgstr "L'exécution de la commande « %s » a échoué."
+msgstr "L'exécution de la commande « %s » a échoué."
 
-#: ../src/dock.c:3415
+#: ../src/dock.c:3447
 msgid "Toggle Omnipresent"
 msgstr "Changer l'omniprésence"
 
-#: ../src/dock.c:3420 ../src/kwm.c:637 ../src/winmenu.c:418
-#: ../src/winspector.c:1377
+#: ../src/dock.c:3452 ../src/kwm.c:637 ../src/winmenu.c:420
+#: ../src/winspector.c:1375
 msgid "Omnipresent"
 msgstr "Omniprésente"
 
-#: ../src/dock.c:3434
+#: ../src/dock.c:3466
 msgid "Unselect All Icons"
 msgstr "Désélectionner les icônes"
 
-#: ../src/dock.c:3443
+#: ../src/dock.c:3475
 msgid "Keep Icons"
 msgstr "Figer les icônes"
 
-#: ../src/dock.c:3451
+#: ../src/dock.c:3483
 msgid "Move Icons To"
 msgstr "Déplacer les icônes vers"
 
-#: ../src/dock.c:3462
+#: ../src/dock.c:3494
 msgid "Remove Icons"
 msgstr "Supprimer les icônes"
 
-#: ../src/dock.c:3493 ../src/kwm.c:643
+#: ../src/dock.c:3525 ../src/kwm.c:643
 msgid "Bring Here"
 msgstr "Attirer sur ce bureau"
 
-#: ../src/dockedapp.c:149
+#: ../src/dockedapp.c:150
 #, c-format
 msgid "could not find icon %s, used in a docked application"
 msgstr "L'icône %s, utilisée dans une application dockée, est introuvable."
 
-#: ../src/dockedapp.c:229
+#: ../src/dockedapp.c:230
 #, c-format
 msgid "Could not open specified icon file: %s"
-msgstr "L'ouverture de l'icône « %s » a échoué."
+msgstr "Impossible d'ouvrir l'icône « %s »."
 
-#: ../src/dockedapp.c:231
+#: ../src/dockedapp.c:232
 msgid "Ignore"
 msgstr "Ignorer"
 
-#: ../src/dockedapp.c:333
+#: ../src/dockedapp.c:334
 msgid "Start when Window Maker is started"
 msgstr "Lancer au démarrage de Window Maker"
 
-#: ../src/dockedapp.c:340
+#: ../src/dockedapp.c:341
 msgid "Lock (prevent accidental removal)"
 msgstr "Verrouiller (l'icône ne peut être enlevée)"
 
-#: ../src/dockedapp.c:344
+#: ../src/dockedapp.c:345
 msgid "Application path and arguments"
 msgstr "Chemin et arguments de l'application"
 
-#: ../src/dockedapp.c:357
+#: ../src/dockedapp.c:358
 msgid "Command for middle-click launch"
 msgstr "Commande du bouton central"
 
-#: ../src/dockedapp.c:371
+#: ../src/dockedapp.c:372
 #, c-format
 msgid "%s will be replaced with current selection"
 msgstr "%s sera remplacé par la sélection"
 
-#: ../src/dockedapp.c:376
+#: ../src/dockedapp.c:377
 msgid "Command for files dropped with DND"
 msgstr "Fichiers lâchés par glisser-déposer"
 
-#: ../src/dockedapp.c:390
+#: ../src/dockedapp.c:391
 #, c-format
 msgid "%d will be replaced with the file name"
 msgstr "%d sera remplacé par le nom du fichier"
 
-#: ../src/dockedapp.c:394
+#: ../src/dockedapp.c:395
 msgid "DND support was not compiled in"
 msgstr "Compilé sans le support glisser-déposer"
 
-#: ../src/dockedapp.c:399
+#: ../src/dockedapp.c:400
 msgid "Icon Image"
 msgstr "Icône"
 
-#: ../src/dockedapp.c:413 ../src/winspector.c:1515
+#: ../src/dockedapp.c:414 ../src/winspector.c:1513
 msgid "Browse..."
 msgstr "Parcourir..."
 
-#: ../src/dockedapp.c:466
+#: ../src/dockedapp.c:475
 msgid "Docked Application Settings"
 msgstr "Paramètres de l'application dockée"
 
-#: ../src/framewin.c:649 ../src/framewin.c:744 ../src/menu.c:456
+#: ../src/framewin.c:647 ../src/framewin.c:742 ../src/menu.c:456
 #: ../src/texture.c:594
 #, c-format
 msgid "could not render texture: %s"
 msgstr "L'affichage de la texture %s a échoué."
 
-#: ../src/framewin.c:672 ../src/framewin.c:683 ../src/framewin.c:699
-#: ../src/framewin.c:710 ../src/framewin.c:717 ../src/framewin.c:724
+#: ../src/framewin.c:670 ../src/framewin.c:681 ../src/framewin.c:697
+#: ../src/framewin.c:708 ../src/framewin.c:715 ../src/framewin.c:722
 #: ../src/icon.c:350 ../src/menu.c:485
 #, c-format
 msgid "error rendering image:%s"
-msgstr "Erreur lors de l'affichage de l'image « %s »."
+msgstr "Erreur lors de l'affichage de l'image « %s »."
 
-#: ../src/framewin.c:777
+#: ../src/framewin.c:775
 #, c-format
 msgid "error rendering image: %s"
-msgstr "Erreur lors de l'affichage de l'image « %s »."
+msgstr "Erreur lors de l'affichage de l'image « %s »."
 
 #: ../src/gnome.c:216 ../src/gnome.c:343 ../src/gnome.c:401
 msgid "out of memory while updating GNOME hints"
@@ -783,41 +792,41 @@
 #: ../src/icon.c:229 ../src/wdefaults.c:443
 #, c-format
 msgid "error loading image file \"%s\""
-msgstr "Erreur au chargement de l'image « %s »."
+msgstr "Erreur au chargement de l'image « %s »."
 
-#: ../src/icon.c:491 ../src/icon.c:500
+#: ../src/icon.c:493 ../src/icon.c:502
 #, c-format
 msgid "could not create directory %s"
 msgstr "La création du répertoire %s a échoué."
 
-#: ../src/icon.c:767
+#: ../src/icon.c:769
 #, c-format
 msgid "could not find default icon \"%s\""
-msgstr "L'icône par défaut « %s » est introuvable."
+msgstr "L'icône par défaut « %s » est introuvable."
 
-#: ../src/icon.c:773
+#: ../src/icon.c:775
 #, c-format
 msgid "could not load default icon \"%s\":%s"
-msgstr "Le chargement de l'icône par défaut « %s » a échoué : %s"
+msgstr "Le chargement de l'icône par défaut « %s » a échoué : %s"
 
 #.
 #. * Warning: If you make some change that affects the order of the
 #. * entries, you must update the command #defines in the top of
 #. * this file.
 #.
-#: ../src/kwm.c:633 ../src/winmenu.c:441 ../src/winmenu.c:583
+#: ../src/kwm.c:633 ../src/winmenu.c:443 ../src/winmenu.c:585
 msgid "Maximize"
 msgstr "Taille maximale"
 
-#: ../src/kwm.c:634 ../src/winmenu.c:578
+#: ../src/kwm.c:634 ../src/winmenu.c:580
 msgid "Unmaximize"
 msgstr "Taille normale"
 
-#: ../src/kwm.c:635 ../src/winmenu.c:449 ../src/winmenu.c:569
+#: ../src/kwm.c:635 ../src/winmenu.c:451 ../src/winmenu.c:571
 msgid "Miniaturize"
 msgstr "Miniaturiser"
 
-#: ../src/kwm.c:636 ../src/winmenu.c:564
+#: ../src/kwm.c:636 ../src/winmenu.c:566
 msgid "Deminiaturize"
 msgstr "Restaurer"
 
@@ -837,17 +846,17 @@
 #. entry = wMenuAddCallback(menu, _("Select Shortcut"), NULL, NULL);
 #. wMenuEntrySetCascade(menu, entry, makeMakeShortcutMenu(scr));
 #.
-#: ../src/kwm.c:641 ../src/rootmenu.c:248 ../src/winmenu.c:513
+#: ../src/kwm.c:641 ../src/rootmenu.c:248 ../src/winmenu.c:515
 msgid "Close"
 msgstr "Fermer"
 
-#: ../src/kwm.c:642 ../src/winmenu.c:497
+#: ../src/kwm.c:642 ../src/winmenu.c:499
 msgid "Move To"
 msgstr "Déplacer vers"
 
 #: ../src/kwm.c:1096
 msgid "%a(Run Command,Type the command to run:)"
-msgstr "%a (Démarrer,Saisir la commande :)"
+msgstr "%a(Démarrer,Saisir la commande :)"
 
 #: ../src/main.c:222
 msgid "failed to restart Window Maker."
@@ -860,7 +869,7 @@
 
 #: ../src/main.c:271
 msgid "Could not execute command: "
-msgstr "Échec à l'exécution de la commande : "
+msgstr "Échec à l'exécution de la commande : "
 
 #: ../src/main.c:428
 #, c-format
@@ -870,7 +879,7 @@
 #: ../src/main.c:439
 #, c-format
 msgid "Usage: %s [options]\n"
-msgstr "Usage : %s [options]\n"
+msgstr "Usage : %s [options]\n"
 
 #: ../src/main.c:440
 msgid "The Window Maker window manager for the X window system"
@@ -941,8 +950,8 @@
 "Make sure you have installed Window Maker correctly and run wmaker.inst"
 msgstr ""
 "Le répertoire GNUstep (%s) de l'utilisateur est introuvable.\n"
-"Assurez-vous d'avoir correctement installé Window Maker et exécuté "
-"wmaker.inst."
+"Assurez-vous d'avoir correctement installé Window Maker et exécuté wmaker."
+"inst."
 
 #: ../src/main.c:479
 #, c-format
@@ -965,78 +974,83 @@
 #: ../src/main.c:505 ../src/main.c:510
 #, c-format
 msgid "%s:could not execute initialization script"
-msgstr "%s : échec du script d'initialisation."
+msgstr "%s : échec du script d'initialisation."
 
-#: ../src/main.c:530 ../src/main.c:535
+#: ../src/main.c:528 ../src/main.c:533
 #, c-format
 msgid "%s:could not execute exit script"
-msgstr "%s : échec du script de sortie."
+msgstr "%s : échec du script de sortie."
 
-#: ../src/main.c:663 ../src/main.c:671 ../src/main.c:679 ../src/main.c:699
+#: ../src/main.c:661 ../src/main.c:669 ../src/main.c:677 ../src/main.c:697
 #, c-format
 msgid "too few arguments for %s"
 msgstr "Trop peu d'arguments pour %s."
 
-#: ../src/main.c:683
+#: ../src/main.c:681
 #, c-format
 msgid "bad value for visualid: \"%s\""
-msgstr "Mauvaise valeur pour visualid : « %s »"
+msgstr "Mauvaise valeur pour visualid : « %s »"
 
-#: ../src/main.c:707
+#: ../src/main.c:705
 #, c-format
 msgid "%s: invalid argument '%s'\n"
-msgstr "%s : argument « %s » invalide\n"
+msgstr "%s : argument « %s » invalide\n"
 
-#: ../src/main.c:708
+#: ../src/main.c:706
 #, c-format
 msgid "Try '%s --help' for more information\n"
-msgstr "Essayez « %s --help » pour plus d'informations\n"
+msgstr "Essayez « %s --help » pour plus d'informations\n"
 
-#: ../src/main.c:739
+#: ../src/main.c:737
 msgid "X server does not support locale"
 msgstr "Pas de gestion des langues dans le serveur X."
 
-#: ../src/main.c:743
+#: ../src/main.c:741
 msgid "cannot set locale modifiers"
 msgstr "Impossible de configurer X pour le support du français."
 
-#: ../src/main.c:759
+#: ../src/main.c:757
 #, c-format
 msgid "could not open display \"%s\""
 msgstr "L'ouverture de l'affichage (display) %s a échoué."
 
-#: ../src/menu.c:1255
+#: ../src/menu.c:1266
 msgid "could not grab keyboard"
 msgstr "La réservation du clavier a échoué"
 
-#: ../src/menureader.c:264 ../src/rootmenu.c:733
+#: ../src/menu.c:2607
+#, c-format
+msgid "bad value in menus state info:%s"
+msgstr "Mauvaise valeur dans l'information %s sur l'état du menu."
+
+#: ../src/menureader.c:264 ../src/rootmenu.c:738
 #, c-format
 msgid "%s:could not stat menu"
-msgstr "%s : échec de stat() pour le menu."
+msgstr "%s : échec de stat() pour le menu."
 
 #: ../src/menureader.c:341 ../src/menureader.c:380
 #, c-format
 msgid "could not stat() menu file '%s'"
-msgstr "Échec de stat() pour le menu : %s"
+msgstr "Échec de stat() pour le menu : %s"
 
 #: ../src/menureader.c:416
 #, c-format
 msgid "could not find menu file '%s' referenced in WMRootMenu"
-msgstr "Le fichier de menu « %s » référencé dans WMRootMenu est introuvable."
+msgstr "Le fichier de menu « %s » référencé dans WMRootMenu est introuvable."
 
 #: ../src/menureader.c:423
 #, c-format
 msgid "could not find any usable menu files. Please check '%s'"
-msgstr "Aucun fichier de menu utilisable. Vérifiez « %s »."
+msgstr "Aucun fichier de menu utilisable. Vérifiez « %s »."
 
-#: ../src/menureader.c:438 ../src/rootmenu.c:1667
+#: ../src/menureader.c:438 ../src/rootmenu.c:1673
 #, c-format
 msgid ""
 "using default menu file \"%s\" as the menu referenced in WMRootMenu could "
 "not be found "
 msgstr ""
 "Le menu référencé dans WMRootMenu n'a pu être trouvé, il sera remplacé par "
-"le menu par défaut « %s »."
+"le menu par défaut « %s »."
 
 #: ../src/menureader.c:457
 #, c-format
@@ -1045,7 +1059,7 @@
 "It should either be a property list menu or the path to the file, enclosed "
 "in \"."
 msgstr ""
-"Le contenu du fichier de menu « %s » est incorrect.\n"
+"Le contenu du fichier de menu « %s » est incorrect.\n"
 "Il devrait contenir une liste de propriétés (property list) ou le chemin du "
 "fichier encadré par \"."
 
@@ -1059,85 +1073,85 @@
 msgid "could not get password entry for UID %i"
 msgstr "Le mot de passe de l'UID %i est introuvable."
 
-#: ../src/misc.c:126
+#: ../src/misc.c:158
 #, c-format
 msgid "your machine is misconfigured. HOSTNAME is set to %s"
 msgstr "Votre machine est mal configurée. HOSTNAME a pour valeur %s."
 
-#: ../src/misc.c:132
+#: ../src/misc.c:164
 #, c-format
 msgid "your machine is misconfigured. HOST is set to %s"
 msgstr "Votre machine est mal configurée. HOST a pour valeur %s."
 
-#: ../src/misc.c:630
+#: ../src/misc.c:656
 msgid "Program Arguments"
 msgstr "Arguments du programme"
 
-#: ../src/misc.c:631
+#: ../src/misc.c:657
 msgid "Enter command arguments:"
-msgstr "Entrez les arguments de la commande :"
+msgstr "Entrez les arguments de la commande :"
 
-#: ../src/misc.c:724
+#: ../src/misc.c:750
 msgid "unable to get dropped data from DND drop"
 msgstr "Impossible de lire le glisser-déposer."
 
-#: ../src/misc.c:732
+#: ../src/misc.c:758
 msgid "error getting dropped data from DND drop"
 msgstr "Erreur de lecture du glisser-déposer."
 
-#: ../src/misc.c:738
+#: ../src/misc.c:764
 msgid "out of memory while getting data from DND drop"
 msgstr "Plus assez de mémoire pendant la lecture du glisser-déposer."
 
-#: ../src/misc.c:783 ../src/misc.c:923
+#: ../src/misc.c:809 ../src/misc.c:949
 #, c-format
 msgid "out of memory during expansion of \"%s\""
-msgstr "Plus assez de mémoire pendant l'interprétation de « %s »."
+msgstr "Plus assez de mémoire pendant l'interprétation de « %s »."
 
-#: ../src/misc.c:837
+#: ../src/misc.c:863
 msgid "out of memory during expansion of \"%w\""
-msgstr "Plus assez de mémoire pendant l'interprétation de « %w »."
+msgstr "Plus assez de mémoire pendant l'interprétation de « %w »."
 
-#: ../src/misc.c:855
+#: ../src/misc.c:881
 msgid "out of memory during expansion of \"%W\""
-msgstr "Plus assez de mémoire pendant l'interprétation de « %W »."
+msgstr "Plus assez de mémoire pendant l'interprétation de « %W »."
 
-#: ../src/misc.c:871
+#: ../src/misc.c:897
 msgid "out of memory during expansion of \"%a\""
-msgstr "Plus assez de mémoire pendant l'interprétation de « %a »."
+msgstr "Plus assez de mémoire pendant l'interprétation de « %a »."
 
-#: ../src/misc.c:902
+#: ../src/misc.c:928
 #, c-format
 msgid "out of memory during expansion of \"%d\""
-msgstr "Plus assez de mémoire pendant l'interprétation de « %d »."
+msgstr "Plus assez de mémoire pendant l'interprétation de « %d »."
 
-#: ../src/misc.c:916
+#: ../src/misc.c:942
 msgid "selection not available"
 msgstr "Sélection indisponible."
 
-#: ../src/misc.c:972 ../src/misc.c:978
+#: ../src/misc.c:986 ../src/misc.c:992
 #, c-format
 msgid "bad window name value in %s state info"
 msgstr "Nom de fenêtre incorrect dans les informations sur %s."
 
-#: ../src/misc.c:1235
+#: ../src/misc.c:1249
 msgid "could not send message to background image helper"
 msgstr "L'envoi de message au gestionnaire de fond d'écran a échoué."
 
 #: ../src/pixmap.c:235
 #, c-format
 msgid "could not load mask bitmap file \"%s\". Won't use mask"
-msgstr "Le chargement du masque « %s » a échoué. Aucun masque ne sera utilisé."
+msgstr "Le chargement du masque « %s » a échoué. Aucun masque ne sera utilisé."
 
 #: ../src/resources.c:44
 #, c-format
 msgid "could not parse color \"%s\""
-msgstr "L'analyse de la couleur « %s » a échoué."
+msgstr "L'analyse de la couleur « %s » a échoué."
 
 #: ../src/resources.c:48
 #, c-format
 msgid "could not allocate color \"%s\""
-msgstr "L'allocation de la couleur « %s » a échoué."
+msgstr "L'allocation de la couleur « %s » a échoué."
 
 #: ../src/rootmenu.c:196 ../src/rootmenu.c:198
 msgid "Exit"
@@ -1145,7 +1159,7 @@
 
 #: ../src/rootmenu.c:197
 msgid "Exit window manager?"
-msgstr "Quitter Window Maker ?"
+msgstr "Quitter Window Maker ?"
 
 #: ../src/rootmenu.c:245
 msgid "Close X session"
@@ -1156,7 +1170,7 @@
 "Close Window System session?\n"
 "Kill might close applications with unsaved data."
 msgstr ""
-"Fermer la session X-Window ?\n"
+"Fermer la session X-Window ?\n"
 "(Ceci fermera les applications sans enregistrer vos dernières modifications.)"
 
 #: ../src/rootmenu.c:261
@@ -1168,46 +1182,46 @@
 "Kill Window System session?\n"
 "(all applications will be closed)"
 msgstr ""
-"Terminer la session X ?\n"
+"Terminer la session X ?\n"
 "(Toutes les applications seront fermées.)"
 
-#: ../src/rootmenu.c:539
+#: ../src/rootmenu.c:544
 #, c-format
 msgid "%s:invalid kbd shortcut specification \"%s\" for entry %s"
 msgstr ""
-"%s : description de raccourci clavier « %s » invalide pour l'entrée %s."
+"%s : description de raccourci clavier « %s » invalide pour l'entrée %s."
 
-#: ../src/rootmenu.c:547
+#: ../src/rootmenu.c:552
 #, c-format
 msgid "%s:invalid key in shortcut \"%s\" for entry %s"
-msgstr "%s : touche invalide dans le raccourci « %s » pour l'entrée %s."
+msgstr "%s : touche invalide dans le raccourci « %s » pour l'entrée %s."
 
-#: ../src/rootmenu.c:600
+#: ../src/rootmenu.c:605
 #, c-format
 msgid "%s: unmatched '\"' in menu file"
-msgstr "%s : « \" » manquant dans le fichier de menu."
+msgstr "%s : « \" » manquant dans le fichier de menu."
 
-#: ../src/rootmenu.c:650
+#: ../src/rootmenu.c:655
 #, c-format
 msgid "%s: missing command"
-msgstr "%s : commande manquante."
+msgstr "%s : commande manquante."
 
-#: ../src/rootmenu.c:682
+#: ../src/rootmenu.c:687
 #, c-format
 msgid "invalid OPEN_MENU specification: %s"
-msgstr "Description de OPEN_MENU invalide : %s"
+msgstr "Description de OPEN_MENU invalide : %s"
 
-#: ../src/rootmenu.c:741
+#: ../src/rootmenu.c:746
 #, c-format
 msgid "%s:could not stat menu:%s"
-msgstr "%s : échec de stat() pour le menu : %s"
+msgstr "%s : échec de stat() pour le menu : %s"
 
-#: ../src/rootmenu.c:759
+#: ../src/rootmenu.c:764
 #, c-format
 msgid "too many parameters in OPEN_MENU: %s"
-msgstr "Trop de paramètres pour OPEN_MENU : %s"
+msgstr "Trop de paramètres pour OPEN_MENU : %s"
 
-#: ../src/rootmenu.c:803
+#: ../src/rootmenu.c:808
 msgid ""
 "There are more than one WORKSPACE_MENU commands in the applications menu. "
 "Only one is allowed."
@@ -1215,7 +1229,7 @@
 "Il y a plus d'une déclaration WORKSPACE_MENU dans le menu Applications. Une "
 "seule est autorisée."
 
-#: ../src/rootmenu.c:837
+#: ../src/rootmenu.c:842
 msgid ""
 "There are more than one WINDOWS_MENU commands in the applications menu. Only "
 "one is allowed."
@@ -1223,110 +1237,110 @@
 "Il y a plus d'une déclaration WINDOW_MENU dans le menu Applications. Une "
 "seule est autorisée."
 
-#: ../src/rootmenu.c:842
+#: ../src/rootmenu.c:847
 msgid "Window List"
 msgstr "Liste des fenêtres"
 
-#: ../src/rootmenu.c:871 ../src/rootmenu.c:889 ../src/rootmenu.c:899
+#: ../src/rootmenu.c:876 ../src/rootmenu.c:894 ../src/rootmenu.c:904
 #, c-format
 msgid "%s:missing parameter for menu command \"%s\""
-msgstr "%s : paramètre manquant pour la commande de menu « %s »."
+msgstr "%s : paramètre manquant pour la commande de menu « %s »."
 
-#: ../src/rootmenu.c:967
+#: ../src/rootmenu.c:972
 #, c-format
 msgid "%s:unknown command \"%s\" in menu config."
-msgstr "%s : commande « %s » inconnue dans le fichier du menu."
+msgstr "%s : commande « %s » inconnue dans le fichier du menu."
 
-#: ../src/rootmenu.c:975
+#: ../src/rootmenu.c:980
 #, c-format
 msgid "%s:can't add shortcut for entry \"%s\""
-msgstr "%s : impossible d'ajouter le raccourci pour l'entrée « %s »."
+msgstr "%s : impossible d'ajouter le raccourci pour l'entrée « %s »."
 
-#: ../src/rootmenu.c:1112
+#: ../src/rootmenu.c:1117
 #, c-format
 msgid "%s:maximal line size exceeded in menu config: %s"
-msgstr "%s : ligne trop longue dans la description du menu %s."
+msgstr "%s : ligne trop longue dans la description du menu %s."
 
-#: ../src/rootmenu.c:1134 ../src/rootmenu.c:1227 ../src/rootmenu.c:1329
+#: ../src/rootmenu.c:1139 ../src/rootmenu.c:1232 ../src/rootmenu.c:1335
 #, c-format
 msgid "%s:missing command in menu config: %s"
-msgstr "%s : commande manquante dans la description du menu %s."
+msgstr "%s : commande manquante dans la description du menu %s."
 
-#: ../src/rootmenu.c:1164
+#: ../src/rootmenu.c:1169
 #, c-format
 msgid "%s:syntax error in menu file:END declaration missing"
 msgstr ""
-"%s : erreur de syntaxe dans la description du menu, la déclaration END est "
+"%s : erreur de syntaxe dans la description du menu, la déclaration END est "
 "manquante."
 
-#: ../src/rootmenu.c:1193 ../src/rootmenu.c:1293
+#: ../src/rootmenu.c:1198 ../src/rootmenu.c:1299
 msgid "could not make arguments for menu file preprocessor"
 msgstr "La création des arguments pour le pré-processeur a échoué."
 
-#: ../src/rootmenu.c:1200 ../src/rootmenu.c:1301
+#: ../src/rootmenu.c:1205 ../src/rootmenu.c:1307
 #, c-format
 msgid "%s:could not open/preprocess menu file"
-msgstr "%s : échec à l'ouverture ou au traitement du fichier de menu."
+msgstr "%s : échec à l'ouverture ou au traitement du fichier de menu."
 
-#: ../src/rootmenu.c:1212 ../src/rootmenu.c:1314
+#: ../src/rootmenu.c:1217 ../src/rootmenu.c:1320
 #, c-format
 msgid "%s:could not open menu file"
-msgstr "%s : l'ouverture du fichier de menu a échoué."
+msgstr "%s : l'ouverture du fichier de menu a échoué."
 
-#: ../src/rootmenu.c:1239
+#: ../src/rootmenu.c:1244
 #, c-format
 msgid "%s:invalid menu file. MENU command is missing"
-msgstr "%s : fichier de menu invalide, la déclaration MENU est manquante."
+msgstr "%s : fichier de menu invalide, la déclaration MENU est manquante."
 
-#: ../src/rootmenu.c:1248
+#: ../src/rootmenu.c:1253
 msgid "error reading preprocessed menu data"
 msgstr "Erreur lors de la lecture du menu prétraité."
 
-#: ../src/rootmenu.c:1341
+#: ../src/rootmenu.c:1347
 #, c-format
 msgid "%s:no title given for the root menu"
-msgstr "%s : le menu principal n'a pas de titre."
+msgstr "%s : le menu principal n'a pas de titre."
 
-#: ../src/rootmenu.c:1432 ../src/rootmenu.c:1505 ../src/rootmenu.c:1546
+#: ../src/rootmenu.c:1438 ../src/rootmenu.c:1511 ../src/rootmenu.c:1552
 #, c-format
 msgid "out of memory while constructing directory menu %s"
 msgstr "Plus assez de mémoire pendant la création du sous-menu %s."
 
-#: ../src/rootmenu.c:1442
+#: ../src/rootmenu.c:1448
 #, c-format
 msgid "%s:could not stat file \"%s\" in menu directory"
-msgstr "%s : échec de stat() sur le fichier « %s » dans le répertoire du menu."
+msgstr "%s : échec de stat() sur le fichier « %s » dans le répertoire du menu."
 
-#: ../src/rootmenu.c:1600
+#: ../src/rootmenu.c:1606
 msgid "Commands"
 msgstr "Commandes"
 
-#: ../src/rootmenu.c:1603
+#: ../src/rootmenu.c:1609
 msgid "Restart"
 msgstr "Redémarrer"
 
-#: ../src/rootmenu.c:1604
+#: ../src/rootmenu.c:1610
 msgid "Exit..."
 msgstr "Sortir..."
 
-#: ../src/rootmenu.c:1649
+#: ../src/rootmenu.c:1655
 #, c-format
 msgid "could not find menu file \"%s\" referenced in WMRootMenu"
-msgstr "Le fichier de menu « %s » référencé dans WMRootMenu est introuvable."
+msgstr "Le fichier de menu « %s » référencé dans WMRootMenu est introuvable."
 
-#: ../src/rootmenu.c:1656
+#: ../src/rootmenu.c:1662
 #, c-format
 msgid "could not access menu \"%s\" referenced in WMRootMenu"
-msgstr "Le fichier de menu « %s » référencé dans WMRootMenu est inaccessible."
+msgstr "Le fichier de menu « %s » référencé dans WMRootMenu est inaccessible."
 
-#: ../src/rootmenu.c:1690 ../src/rootmenu.c:1766
+#: ../src/rootmenu.c:1696 ../src/rootmenu.c:1772
 #, c-format
 msgid "%s:format error in root menu configuration \"%s\""
 msgstr ""
-"%s : erreur de syntaxe dans le fichier de configuration du menu principal « "
-"%s »."
+"%s : erreur de syntaxe dans le fichier de configuration du menu principal « %"
+"s »."
 
-#: ../src/rootmenu.c:1854
+#: ../src/rootmenu.c:1860
 msgid ""
 "The applications menu could not be loaded. Look at the console output for a "
 "detailed description of the errors."
@@ -1334,16 +1348,16 @@
 "Le menu Applications n'a pu être chargé. Regardez la console pour une "
 "description détaillée des erreurs."
 
-#: ../src/screen.c:740
+#: ../src/screen.c:708
 #, c-format
 msgid "could not initialize graphics library context: %s"
-msgstr "L'initialisation de la bibliothèque graphique a échoué : %s"
+msgstr "L'initialisation de la bibliothèque graphique a échoué : %s"
 
-#: ../src/screen.c:771
-msgid "could not do initialization of WINGs widget set"
+#: ../src/screen.c:736
+msgid "could not initialize WINGs widget set"
 msgstr "L'initialisation de la bibliothèque WINGs a échoué."
 
-#: ../src/screen.c:1137
+#: ../src/screen.c:1097
 #, c-format
 msgid "could not save session state in %s"
 msgstr "La sauvegarde de la session dans %s a échoué."
@@ -1351,7 +1365,7 @@
 #: ../src/session.c:183 ../src/wdefaults.c:589 ../src/winspector.c:454
 #, c-format
 msgid "can't convert \"%s\" to boolean"
-msgstr "Conversion de « %s » en booléen impossible."
+msgstr "Conversion de « %s » en booléen impossible."
 
 #: ../src/session.c:1023
 msgid "out of memory while saving session state"
@@ -1378,7 +1392,7 @@
 #: ../src/startup.c:202
 #, c-format
 msgid "internal X error: %s\n"
-msgstr "erreur interne X : %s\n"
+msgstr "erreur interne X : %s\n"
 
 #: ../src/startup.c:260
 #, c-format
@@ -1477,22 +1491,22 @@
 #: ../src/texture.c:329 ../src/texture.c:371
 #, c-format
 msgid "image file \"%s\" used as texture could not be found."
-msgstr "L'image « %s » utilisée comme texture est introuvable."
+msgstr "L'image « %s » utilisée comme texture est introuvable."
 
 #: ../src/texture.c:335 ../src/texture.c:377
 #, c-format
 msgid "could not load texture pixmap \"%s\":%s"
-msgstr "Le chargement de la texture « %s » a échoué : %s."
+msgstr "Le chargement de la texture « %s » a échoué : %s."
 
 #: ../src/texture.c:437
 #, c-format
 msgid "library \"%s\" cound not be opened."
-msgstr "Impossible d'ouvrir la bibliothèque « %s »."
+msgstr "Impossible d'ouvrir la bibliothèque « %s »."
 
 #: ../src/texture.c:446
 #, c-format
 msgid "function \"%s\" not found in library \"%s\""
-msgstr "La fonction « %s » est introuvable dans la bibliothèque « %s »."
+msgstr "La fonction « %s » est introuvable dans la bibliothèque « %s »."
 
 #: ../src/texture.c:453
 msgid "function textures not supported on this system, sorry."
@@ -1505,9 +1519,9 @@
 #: ../src/wdefaults.c:437
 #, c-format
 msgid "could not find icon file \"%s\""
-msgstr "L'icône « %s » est introuvable."
+msgstr "L'icône « %s » est introuvable."
 
-#: ../src/window.c:2934 ../src/window.c:3073
+#: ../src/window.c:3028 ../src/window.c:3167
 msgid ""
 "the NumLock, ScrollLock or similar key seems to be turned on.\n"
 "Turn it off or some mouse actions and keyboard shortcuts will not work."
@@ -1524,72 +1538,72 @@
 msgstr ""
 "Ceci arrêtera l'application.\n"
 "Tout changement non sauvegardé sera perdu.\n"
-"Confirmez-vous ?"
+"Confirmez-vous ?"
 
-#: ../src/winmenu.c:272 ../src/winmenu.c:281
+#: ../src/winmenu.c:274 ../src/winmenu.c:283
 msgid "Set Shortcut"
-msgstr "Attribuer un raccourci"
+msgstr "Attribuer le raccourci"
 
-#: ../src/winmenu.c:359 ../src/winmenu.c:404
+#: ../src/winmenu.c:361 ../src/winmenu.c:406
 msgid "could not create submenu for window menu"
 msgstr "La création d'un sous-menu pour le menu Fenêtres a échoué."
 
-#: ../src/winmenu.c:408
+#: ../src/winmenu.c:410
 msgid "Keep on top"
 msgstr "Toujours devant"
 
-#: ../src/winmenu.c:413
+#: ../src/winmenu.c:415
 msgid "Keep at bottom"
 msgstr "Toujours derrière"
 
-#: ../src/winmenu.c:457 ../src/winmenu.c:600
+#: ../src/winmenu.c:459 ../src/winmenu.c:602
 msgid "Shade"
 msgstr "Enrouler"
 
-#: ../src/winmenu.c:473
+#: ../src/winmenu.c:475
 msgid "Hide Others"
 msgstr "Masquer les autres"
 
-#: ../src/winmenu.c:481
+#: ../src/winmenu.c:483
 msgid "Resize/Move"
 msgstr "Déplacer/Dimensionner"
 
-#: ../src/winmenu.c:489
+#: ../src/winmenu.c:491
 msgid "Select"
 msgstr "Sélectionner"
 
-#: ../src/winmenu.c:502
+#: ../src/winmenu.c:504
 msgid "Attributes..."
 msgstr "Attributs..."
 
-#: ../src/winmenu.c:504
+#: ../src/winmenu.c:506
 msgid "Options"
 msgstr "Options"
 
-#: ../src/winmenu.c:595
+#: ../src/winmenu.c:597
 msgid "Unshade"
 msgstr "Dérouler"
 
 #: ../src/winspector.c:387
 #, c-format
 msgid "Could not find icon \"%s\" specified for this window"
-msgstr "L'icône « %s » spécifiée pour cette fenêtre est introuvable."
+msgstr "L'icône « %s » spécifiée pour cette fenêtre est introuvable."
 
 #: ../src/winspector.c:404
 #, c-format
 msgid "Could not open specified icon \"%s\":%s"
-msgstr "L'ouverture de l'icône « %s » a échoué : %s"
+msgstr "L'ouverture de l'icône « %s » a échoué : %s"
 
-#: ../src/winspector.c:1123
+#: ../src/winspector.c:1121
 #, c-format
 msgid "Inspecting  %s.%s"
 msgstr "Examen de  %s.%s"
 
-#: ../src/winspector.c:1149
+#: ../src/winspector.c:1147
 msgid "Click in the window you wish to inspect."
 msgstr "Cliquez sur la fenêtre que vous voulez examiner."
 
-#: ../src/winspector.c:1188
+#: ../src/winspector.c:1186
 msgid ""
 "The configuration will apply to all\n"
 "windows that have their WM_CLASS\n"
@@ -1601,55 +1615,55 @@
 "dont la propriété WM_CLASS coïncidera\n"
 "avec le nom sélectionné ci-dessus."
 
-#: ../src/winspector.c:1217
+#: ../src/winspector.c:1215
 msgid "Save"
 msgstr "Enregistrer"
 
-#: ../src/winspector.c:1225
+#: ../src/winspector.c:1223
 msgid "Apply"
 msgstr "Appliquer"
 
-#: ../src/winspector.c:1231
+#: ../src/winspector.c:1229
 msgid "Reload"
 msgstr "Annuler"
 
-#: ../src/winspector.c:1240 ../src/winspector.c:1250
+#: ../src/winspector.c:1238 ../src/winspector.c:1248
 msgid "Window Specification"
 msgstr "Fenêtres concernées"
 
-#: ../src/winspector.c:1241
+#: ../src/winspector.c:1239
 msgid "Window Attributes"
 msgstr "Attributs de la fenêtre"
 
-#: ../src/winspector.c:1242
+#: ../src/winspector.c:1240
 msgid "Advanced Options"
 msgstr "Options avancées"
 
-#: ../src/winspector.c:1243
+#: ../src/winspector.c:1241
 msgid "Icon and Initial Workspace"
 msgstr "Icône et bureau initial"
 
-#: ../src/winspector.c:1244
+#: ../src/winspector.c:1242
 msgid "Application Specific"
 msgstr "Attributs de l'application"
 
-#: ../src/winspector.c:1258
+#: ../src/winspector.c:1256
 msgid "Defaults for all windows"
 msgstr "Toutes les fenêtres"
 
-#: ../src/winspector.c:1312
+#: ../src/winspector.c:1310
 msgid "Select window"
 msgstr "Choisir une fenêtre"
 
-#: ../src/winspector.c:1326
+#: ../src/winspector.c:1324
 msgid "Attributes"
 msgstr "Attributs"
 
-#: ../src/winspector.c:1337
+#: ../src/winspector.c:1335
 msgid "Disable titlebar"
 msgstr "Sans barre de titre"
 
-#: ../src/winspector.c:1339
+#: ../src/winspector.c:1337
 msgid ""
 "Remove the titlebar of this window.\n"
 "To access the window commands menu of a window\n"
@@ -1663,43 +1677,43 @@
 "équivalent, si vous avez changé le raccourci par\n"
 "défaut)."
 
-#: ../src/winspector.c:1346
+#: ../src/winspector.c:1344
 msgid "Disable resizebar"
 msgstr "Sans barre de redimensionnement"
 
-#: ../src/winspector.c:1348
+#: ../src/winspector.c:1346
 msgid "Remove the resizebar of this window."
 msgstr "Supprime la barre de redimensionnement de cette fenêtre."
 
-#: ../src/winspector.c:1351
+#: ../src/winspector.c:1349
 msgid "Disable close button"
 msgstr "Sans bouton de fermeture"
 
-#: ../src/winspector.c:1353
+#: ../src/winspector.c:1351
 msgid "Remove the `close window' button of this window."
 msgstr "Supprime le bouton de fermeture de cette fenêtre."
 
-#: ../src/winspector.c:1356
+#: ../src/winspector.c:1354
 msgid "Disable miniaturize button"
 msgstr "Sans bouton de miniaturisation"
 
-#: ../src/winspector.c:1358
+#: ../src/winspector.c:1356
 msgid "Remove the `miniaturize window' button of the window."
 msgstr "Supprime le bouton de miniaturisation de cette fenêtre."
 
-#: ../src/winspector.c:1361
+#: ../src/winspector.c:1359
 msgid "Disable border"
 msgstr "Sans bordure"
 
-#: ../src/winspector.c:1363
+#: ../src/winspector.c:1361
 msgid "Remove the 1 pixel black border around the window."
 msgstr "Supprime la bordure noire d'un pixel qui entoure la fenêtre."
 
-#: ../src/winspector.c:1366
+#: ../src/winspector.c:1364
 msgid "Keep on top (floating)"
 msgstr "Toujours devant"
 
-#: ../src/winspector.c:1368
+#: ../src/winspector.c:1366
 msgid ""
 "Keep the window over other windows, not allowing\n"
 "them to cover it."
@@ -1707,25 +1721,25 @@
 "La fenêtre reste au premier plan, les autres fenêtres\n"
 "ne peuvent la recouvrir."
 
-#: ../src/winspector.c:1372
+#: ../src/winspector.c:1370
 msgid "Keep at bottom (sunken)"
 msgstr "Toujours derrière"
 
-#: ../src/winspector.c:1374
+#: ../src/winspector.c:1372
 msgid "Keep the window under all other windows."
 msgstr ""
 "La fenêtre reste à l'arrière plan, derrière\n"
 "toutes les autres."
 
-#: ../src/winspector.c:1379
+#: ../src/winspector.c:1377
 msgid "Make window present in all workspaces."
 msgstr "La fenêtre est présente sur tous les bureaux."
 
-#: ../src/winspector.c:1382
+#: ../src/winspector.c:1380
 msgid "Start miniaturized"
 msgstr "Lancer miniaturisée"
 
-#: ../src/winspector.c:1384
+#: ../src/winspector.c:1382
 msgid ""
 "Make the window be automatically miniaturized when it's\n"
 "first shown."
@@ -1733,11 +1747,11 @@
 "La fenêtre est automatiquement miniaturisée\n"
 "quand elle apparaît pour la première fois."
 
-#: ../src/winspector.c:1388
+#: ../src/winspector.c:1386
 msgid "Start maximized"
 msgstr "Lancer maximisée"
 
-#: ../src/winspector.c:1390
+#: ../src/winspector.c:1388
 msgid ""
 "Make the window be automatically maximized when it's\n"
 "first shown."
@@ -1745,11 +1759,11 @@
 "La fenêtre est automatiquement maximisée\n"
 "quand elle apparaît pour la première fois."
 
-#: ../src/winspector.c:1394
+#: ../src/winspector.c:1392
 msgid "Full screen maximization"
 msgstr "Plein écran"
 
-#: ../src/winspector.c:1396
+#: ../src/winspector.c:1394
 msgid ""
 "Make the window use the whole screen space when it's\n"
 "maximized. The titlebar and resizebar will be moved\n"
@@ -1759,15 +1773,15 @@
 "Les barres de titre et de redimensionnement seront déplacées\n"
 "en dehors de l'écran."
 
-#: ../src/winspector.c:1413
+#: ../src/winspector.c:1411
 msgid "Advanced"
 msgstr "Avancées"
 
-#: ../src/winspector.c:1430
+#: ../src/winspector.c:1428
 msgid "Do not bind keyboard shortcuts"
 msgstr "Sans raccourci clavier"
 
-#: ../src/winspector.c:1432
+#: ../src/winspector.c:1430
 msgid ""
 "Do not bind keyboard shortcuts from Window Maker\n"
 "when this window is focused. This will allow the\n"
@@ -1779,32 +1793,32 @@
 "recevra toutes les combinaisons de touches quels\n"
 "que soient vos raccourcis."
 
-#: ../src/winspector.c:1438
+#: ../src/winspector.c:1436
 msgid "Do not bind mouse clicks"
 msgstr "Sans raccourci souris"
 
-#: ../src/winspector.c:1440
+#: ../src/winspector.c:1438
 msgid ""
 "Do not bind mouse actions, such as `Alt'+drag\n"
 "in the window (when alt is the modifier you haveconfigured)."
 msgstr ""
 "Les actions de la souris telles que Alt+glisser\n"
 "ne sont pas gérées par Window Maker dans cette\n"
-"fenêtre (si « Alt » est le modificateur configuré)."
+"fenêtre (si « Alt » est le modificateur configuré)."
 
-#: ../src/winspector.c:1445
+#: ../src/winspector.c:1443
 msgid "Do not show in the window list"
 msgstr "Masquer dans le menu Fenêtres"
 
-#: ../src/winspector.c:1447
+#: ../src/winspector.c:1445
 msgid "Do not list the window in the window list menu."
 msgstr "La fenêtre n'apparaît pas dans le menu Fenêtres."
 
-#: ../src/winspector.c:1450
+#: ../src/winspector.c:1448
 msgid "Do not let it take focus"
 msgstr "Sans focus clavier"
 
-#: ../src/winspector.c:1452
+#: ../src/winspector.c:1450
 msgid ""
 "Do not let the window take keyboard focus when you\n"
 "click on it."
@@ -1812,11 +1826,11 @@
 "La fenêtre ignore les événements du clavier\n"
 "quand vous cliquez dessus."
 
-#: ../src/winspector.c:1456
+#: ../src/winspector.c:1454
 msgid "Keep inside screen"
 msgstr "Toujours à l'écran"
 
-#: ../src/winspector.c:1458
+#: ../src/winspector.c:1456
 msgid ""
 "Do not allow the window to move itself completely\n"
 "outside the screen. For bug compatibility.\n"
@@ -1824,23 +1838,23 @@
 "Ne pas autoriser la fenêtre à sortir complètement de l'écran.\n"
 "Pour compatibilité avec certaines applications.\n"
 
-#: ../src/winspector.c:1462
+#: ../src/winspector.c:1460
 msgid "Ignore 'Hide Others'"
-msgstr "Ignorer « Masquer les autres »"
+msgstr "Ignorer « Masquer les autres »"
 
-#: ../src/winspector.c:1464
+#: ../src/winspector.c:1462
 msgid ""
 "Do not hide the window when issuing the\n"
 "`HideOthers' command."
 msgstr ""
-"La fenêtre ignore l'ordre « Masquer les autres »\n"
+"La fenêtre ignore l'ordre « Masquer les autres »\n"
 "et reste visible."
 
-#: ../src/winspector.c:1468
+#: ../src/winspector.c:1466
 msgid "Ignore 'Save Session'"
-msgstr "Ignorer « Enregistrer la session »"
+msgstr "Ignorer « Enregistrer la session »"
 
-#: ../src/winspector.c:1470
+#: ../src/winspector.c:1468
 msgid ""
 "Do not save the associated application in the\n"
 "session's state, so that it won't be restarted\n"
@@ -1851,11 +1865,11 @@
 "la session. Elle ne sera pas lancée au prochain démarrage\n"
 "de Window Maker."
 
-#: ../src/winspector.c:1476
+#: ../src/winspector.c:1474
 msgid "Emulate application icon"
 msgstr "Émuler l'icône-application"
 
-#: ../src/winspector.c:1478
+#: ../src/winspector.c:1476
 msgid ""
 "Make this window act as an application that provides\n"
 "enough information to Window Maker for a dockable\n"
@@ -1865,55 +1879,55 @@
 "d'informations à Window Maker pour la création d'une\n"
 "icône-application."
 
-#: ../src/winspector.c:1484
+#: ../src/winspector.c:1482
 msgid "Disable language button"
 msgstr "Pas de bouton de langue"
 
-#: ../src/winspector.c:1486
+#: ../src/winspector.c:1484
 msgid "Remove the `toggle language' button of the window."
 msgstr "Enlever le bouton de changement de langue de la fenêtre."
 
-#: ../src/winspector.c:1503
+#: ../src/winspector.c:1501
 msgid "Miniwindow Image"
 msgstr "Image de la mini-fenêtre"
 
-#: ../src/winspector.c:1530
+#: ../src/winspector.c:1528
 msgid "Icon filename:"
-msgstr "Nom du fichier :"
+msgstr "Nom du fichier :"
 
-#: ../src/winspector.c:1543
+#: ../src/winspector.c:1541
 msgid "Ignore client supplied icon"
 msgstr "Ignorer l'icône fournie"
 
-#: ../src/winspector.c:1550
+#: ../src/winspector.c:1548
 msgid "Initial Workspace"
 msgstr "Bureau initial"
 
-#: ../src/winspector.c:1552
+#: ../src/winspector.c:1550
 msgid "The workspace to place the window when it'sfirst shown."
 msgstr "Le bureau où la fenêtre apparaîtra."
 
-#: ../src/winspector.c:1558
+#: ../src/winspector.c:1556
 msgid "Nowhere in particular"
 msgstr "N'importe où"
 
-#: ../src/winspector.c:1576
+#: ../src/winspector.c:1574
 msgid "Application Attributes"
 msgstr "Attributs de l'application"
 
-#: ../src/winspector.c:1587
+#: ../src/winspector.c:1585
 msgid "Start hidden"
 msgstr "Démarrer masquée"
 
-#: ../src/winspector.c:1589
+#: ../src/winspector.c:1587
 msgid "Automatically hide application when it's started."
 msgstr "Dès qu'elle est lancée, la fenêtre est automatiquement masquée."
 
-#: ../src/winspector.c:1592
+#: ../src/winspector.c:1590
 msgid "No application icon"
 msgstr "Pas d'icône-application"
 
-#: ../src/winspector.c:1594
+#: ../src/winspector.c:1592
 msgid ""
 "Disable the application icon for the application.\n"
 "Note that you won't be able to dock it anymore,\n"
@@ -1925,11 +1939,11 @@
 "Dock et que les icônes déjà dans le Dock ne\n"
 "fonctionneront plus correctement."
 
-#: ../src/winspector.c:1600
+#: ../src/winspector.c:1598
 msgid "Shared application icon"
 msgstr "Icône-application partagée"
 
-#: ../src/winspector.c:1602
+#: ../src/winspector.c:1600
 msgid ""
 "Use a single shared application icon for all of\n"
 "the instances of this application.\n"
@@ -1943,23 +1957,23 @@
 "Plus assez de mémoire pendant la sauvegarde des extensions (hints) Window "
 "Maker."
 
-#: ../src/workspace.c:107 ../src/workspace.c:108 ../src/workspace.c:893
+#: ../src/workspace.c:105 ../src/workspace.c:106 ../src/workspace.c:899
 #, c-format
 msgid "Workspace %i"
 msgstr "Bureau %i"
 
-#: ../src/workspace.c:943
+#: ../src/workspace.c:949
 msgid "Workspaces"
 msgstr "Bureaux"
 
-#: ../src/workspace.c:945
+#: ../src/workspace.c:951
 msgid "could not create Workspace menu"
 msgstr "La création du menu Bureaux a échoué."
 
-#: ../src/workspace.c:952
+#: ../src/workspace.c:958
 msgid "New"
 msgstr "Nouveau"
 
-#: ../src/workspace.c:953
+#: ../src/workspace.c:959
 msgid "Destroy Last"
 msgstr "Détruire le dernier"
diff -Naur WindowMaker-0.80.2/po/hr.po wm-xft2/po/hr.po
--- WindowMaker-0.80.2/po/hr.po	2001-09-04 01:42:53.000000000 +0400
+++ wm-xft2/po/hr.po	2003-10-22 14:08:37.000000000 +0400
@@ -1,12 +1,16 @@
+# SOME DESCRIPTIVE TITLE.
+# Copyright (C) YEAR Free Software Foundation, Inc.
+# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
+#
 msgid ""
 msgstr ""
-"Date: 1998-08-18 16:28:19+0200\n"
-"From: Toni Biliæ <tbilic@oliver.efos.hr>\n"
-"Language-Team: Croatian \n"
+"Project-Id-Version: 0.80.2\n"
+"PO-Revision-Date: 1998-08-18 16:28:19+0200\n"
+"Last-Translator: Toni Biliæ <tbilic@oliver.efos.hr>\n"
+"Language-Team: Croatian\n"
 "MIME-Version: 1.0\n"
-"Content-Transfer-Encoding: 8-bit\n"
-"Content-Type: text/plain; charset=iso-8859-2\n"
-
+"Content-Type: text/plain; charset=ISO-8859-2\n"
+"Content-Transfer-Encoding: 8bit\n"
 
 #: ../src/appicon.c:509 ../src/dialog.c:215 ../src/dialog.c:271 ../src/dock.c:2953 ../src/dockedapp.c:206 ../src/winspector.c:279 ../src/winspector.c:295
 msgid "Error"
diff -Naur WindowMaker-0.80.2/po/Makefile.am wm-xft2/po/Makefile.am
--- WindowMaker-0.80.2/po/Makefile.am	2002-01-08 16:44:57.000000000 +0300
+++ wm-xft2/po/Makefile.am	2003-10-22 14:08:37.000000000 +0400
@@ -5,9 +5,9 @@
 CLEANFILES = $(CATALOGS) WindowMaker.pot
 
 # keep this sorted
-EXTRA_DIST = bg.po cs.po da.po de.po el.po es.po et.po fi.po fr.po gl.po \
-	hr.po hu.po it.po ja.po ko.po ms.po nl.po no.po pl.po pt.po ro.po \
-	ru.po sk.po sv.po tr.po zh_CN.po zh_TW.Big5.po
+EXTRA_DIST = be.po bg.po ca.po cs.po da.po de.po el.po es.po et.po fi.po fr.po \
+	gl.po hr.po hu.po it.po ja.po ko.po ms.po nl.po no.po pl.po pt.po \
+	ro.po ru.po sk.po sv.po tr.po zh_CN.po zh_TW.Big5.po ca.po
 
 POTFILES  = \
 	$(top_builddir)/src/appicon.c \
@@ -46,6 +46,8 @@
 	msgfmt -o $@ $<
 
 
+all-local: $(CATALOGS)
+
 WindowMaker.pot: $(POTFILES)
 	xgettext --default-domain=WindowMaker \
 	--add-comments --keyword=_ $(POTFILES)
diff -Naur WindowMaker-0.80.2/po/no.po wm-xft2/po/no.po
--- WindowMaker-0.80.2/po/no.po	1998-09-30 02:36:34.000000000 +0400
+++ wm-xft2/po/no.po	2003-10-22 14:08:37.000000000 +0400
@@ -2,17 +2,16 @@
 # Copyright (C) YEAR Free Software Foundation, Inc.
 # FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
 #
-#, fuzzy
 msgid ""
 msgstr ""
-"Project-Id-Version: PACKAGE VERSION\n"
+"Project-Id-Version: WindowMaker 0.80.2\n"
 "POT-Creation-Date: 1998-05-23 12:54+0200\n"
 "PO-Revision-Date: 1998-05-23 H12:54+0200\n"
 "Last-Translator: Marcus Ramberg <draven@mo.himolde.no>\n"
 "Language-Team: Norwegian \n"
 "MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=CHARSET\n"
-"Content-Transfer-Encoding: ENCODING\n"
+"Content-Type: text/plain; charset=iso-8859-1\n"
+"Content-Transfer-Encoding: 8-bit\n"
 
 #: ../src/generic/error.c:46
 msgid " fatal error: "
diff -Naur WindowMaker-0.80.2/po/pl.po wm-xft2/po/pl.po
--- WindowMaker-0.80.2/po/pl.po	1999-02-17 14:06:47.000000000 +0300
+++ wm-xft2/po/pl.po	2003-10-22 14:08:37.000000000 +0400
@@ -5,17 +5,16 @@
 # Copyright (C) 1999 Free Software Foundation, Inc.
 # Piotr Dembiñski <pdemb@fanthom.math.put.poznan.pl>, 1998.
 #
-#, fuzzy
 msgid ""
 msgstr ""
-"Project-Id-Version: PACKAGE VERSION\n"
+"Project-Id-Version: WindowMaker 0.80.2\n"
 "POT-Creation-Date: 1999-01-24 14:05+0100\n"
-"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
+"PO-Revision-Date: 2003-04-15 20:21+0200\n"
 "Last-Translator: Piotr Dembiñski <pdemb@fanthom.math.put.poznan.pl>\n"
 "Language-Team: Polish <pl@li.org>\n"
 "MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=ISO8859-2\n"
-"Content-Transfer-Encoding: ISO8859-2\n"
+"Content-Type: text/plain; charset=iso-8859-2\n"
+"Content-Transfer-Encoding: 8-bit\n"
 
 #: ../src/appicon.c:509 ../src/dialog.c:216 ../src/dialog.c:272
 #: ../src/dock.c:3059 ../src/dockedapp.c:206 ../src/winspector.c:283
@@ -521,7 +520,7 @@
 #: ../src/main.c:297
 #, c-format
 msgid "%s:could not execute initialization script"
-msgstr "#s:nie mo¿na wykonaæ skryptu inicjalizacji"
+msgstr "%s:nie mo¿na wykonaæ skryptu inicjalizacji"
 
 #: ../src/main.c:314
 #, c-format
diff -Naur WindowMaker-0.80.2/po/README wm-xft2/po/README
--- WindowMaker-0.80.2/po/README	2002-03-26 13:47:11.000000000 +0300
+++ wm-xft2/po/README	2003-10-22 14:08:37.000000000 +0400
@@ -39,10 +39,12 @@
 sk.po	Slovak			Jan 'judas' Tomka <judas@linux.sk>
 				Milan Hromada <mhromada@elas.sk>
 bg.po	Bulgarian		Slavei Karadjov <slaff@exco.net>
+				Anton Zinoviev <zinoviev@debian.org>
 hu.po   Hungarian		HORVATH Szabolcs <horvaths@inf.elte.hu>
 et.po   Estonian        	Ivar Smolin <okul@trenet.ee>
 ms.po	Malay			Hasbullah Bin Pit (sebol) <sebol@ikhlas.com>
-
+be.po	Belarusian		Ihar Viarheichyk <iverg@mail.ru>
+ca.po	Catalan			Ernest Adrogué <eadrogue@gmx.net>
 
 Some translations are based on previous translations by other people.
 The history of translations can be found in the po files.
@@ -85,7 +87,7 @@
 make install.
 
 To update an already translated message file use the msgmerge command. As in:
-msgmerge WindowMaker.pot pt.po > pt.po.new
+msgmerge pt.po WindowMaker.pot > pt.po.new
 
 If you use an older version of gettext, the command is tupdate, instead
 of msgmerge.
diff -Naur WindowMaker-0.80.2/po/ru.po wm-xft2/po/ru.po
--- WindowMaker-0.80.2/po/ru.po	1999-06-01 00:34:01.000000000 +0400
+++ wm-xft2/po/ru.po	2003-10-22 14:08:37.000000000 +0400
@@ -1,302 +1,476 @@
 #
-# Initial translation
-#   August S. Sigov <freedomain@actor.ru>
+#  Initial translation
+#    August S. Sigov <freedomain@actor.ru>
 #
-# Brought up-to-date for 0.17.5
-# and maintained up to 0.53.0 by
-#   Alexey Vyskubov <alexey@piter-press.ru>
-#   Michael Sobolev <mss@transas.com>
+#  Brought up-to-date for 0.17.5
+#  and maintained up to 0.53.0 by
+#    Alexey Vyskubov <alexey@piter-press.ru>
+#    Michael Sobolev <mss@transas.com>
 #
-#  Revision date: $Date: 1999/05/31 20:34:01 $
-#, fuzzy
+#  Modified for 0.70.0 - 0.80.1 by
+#    Andrew W. Nosenko <awn@bcs.zp.ua>
 msgid ""
 msgstr ""
-"POT-Creation-Date: 1999-04-28 01:24+0400\n"
+"Project-Id-Version: WindowMaker 0.80.1\n"
+"POT-Creation-Date: 2002-09-12 09:28+0300\n"
+"PO-Revision-Date: 2002-10-04 08:56+0300\n"
+"Last-Translator: awn@bcs.zp.ua\n"
 "Language-Team: Russian\n"
+"MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=koi8-r\n"
 "Content-Transfer-Encoding: 8bit\n"
 
-#: ../src/appicon.c:541 ../src/dialog.c:223 ../src/dialog.c:279
-#: ../src/dock.c:3116 ../src/dockedapp.c:210 ../src/rootmenu.c:1743
-#: ../src/winspector.c:284 ../src/winspector.c:300
+#: ../src/appicon.c:426 ../src/dialog.c:304 ../src/dock.c:3326
+#: ../src/dockedapp.c:230 ../src/main.c:273 ../src/rootmenu.c:1854
+#: ../src/winspector.c:389 ../src/winspector.c:406
 msgid "Error"
 msgstr "ïÛÉÂËÁ"
 
-#: ../src/appicon.c:542
+#: ../src/appicon.c:427
 msgid "Could not open specified icon file"
-msgstr "îÅ×ÏÚÍÏÖÎÏ ÏÔËÒÙÔØ ÕËÁÚÁÎÎÙÊ ÆÁÊÌ ÚÎÁÞËÁ"
+msgstr "îÅ×ÏÚÍÏÖÎÏ ÏÔËÒÙÔØ ÕËÁÚÁÎÎÙÊ ÆÁÊÌ Ó ÉËÏÎËÏÊ"
 
-#: ../src/appicon.c:543 ../src/dialog.c:122 ../src/dialog.c:223
-#: ../src/dialog.c:279 ../src/dialog.c:467 ../src/dialog.c:1476
-#: ../src/dock.c:475 ../src/dock.c:3117 ../src/dockedapp.c:211
-#: ../src/dockedapp.c:357 ../src/rootmenu.c:1747 ../src/winspector.c:285
-#: ../src/winspector.c:301
+#: ../src/appicon.c:428 ../src/dialog.c:201 ../src/dialog.c:304
+#: ../src/dialog.c:751 ../src/dialog.c:1850 ../src/dock.c:526
+#: ../src/dock.c:534 ../src/dock.c:558 ../src/dock.c:3327
+#: ../src/dockedapp.c:231 ../src/dockedapp.c:426 ../src/main.c:273
+#: ../src/rootmenu.c:1858 ../src/winspector.c:390 ../src/winspector.c:407
 msgid "OK"
 msgstr "OK"
 
-#: ../src/appicon.c:570 ../src/dock.c:276
+#: ../src/appicon.c:456 ../src/dock.c:264
 msgid ""
 " will be forcibly closed.\n"
 "Any unsaved changes will be lost.\n"
 "Please confirm."
 msgstr ""
-" ÆÏÒÓÉÒÏ×ÁÎÎÏ ÚÁ×ÅÒÛÅÎÏ.\n"
+" ÂÕÄÅÔ ÆÏÒÓÉÒÏ×ÁÎÎÏ ÚÁ×ÅÒÛÅÎÏ.\n"
 "÷ÓÅ ÎÅÓÏÈÒÁÎÅÎÎÙÅ ÉÚÍÅÎÅÎÉÑ ÂÕÄÕÔ ÐÏÔÅÒÑÎÙ.\n"
 "ðÏÖÁÌÕÊÓÔÁ, ÐÏÄÔ×ÅÒÄÉÔÅ."
 
 #
-#: ../src/appicon.c:576 ../src/dock.c:281 ../src/winmenu.c:124
+#: ../src/appicon.c:464 ../src/dock.c:283 ../src/winmenu.c:125
 msgid "Kill Application"
 msgstr "á×ÁÒÉÊÎÏÅ ÚÁ×ÅÒÛÅÎÉÅ"
 
-#: ../src/appicon.c:577 ../src/dock.c:282 ../src/winmenu.c:126
+#: ../src/appicon.c:465 ../src/dock.c:284 ../src/winmenu.c:127
 msgid "Yes"
 msgstr "äÁ"
 
-#: ../src/appicon.c:577 ../src/dock.c:282 ../src/winmenu.c:126
+#: ../src/appicon.c:465 ../src/dock.c:284 ../src/winmenu.c:127
 msgid "No"
 msgstr "îÅÔ"
 
-#: ../src/appicon.c:595 ../src/dock.c:1111
+#: ../src/appicon.c:495 ../src/dock.c:1178 ../src/dock.c:3492
 msgid "Unhide Here"
 msgstr "òÁÓËÒÙÔØ ÚÄÅÓØ"
 
-#: ../src/appicon.c:596 ../src/appicon.c:621 ../src/dock.c:1113
-#: ../src/dock.c:1115 ../src/dock.c:3242 ../src/dock.c:3244
-#: ../src/winmenu.c:446
+#: ../src/appicon.c:496 ../src/appicon.c:521 ../src/dock.c:1180
+#: ../src/dock.c:1182 ../src/dock.c:3504 ../src/winmenu.c:465
 msgid "Hide"
 msgstr "óËÒÙÔØ"
 
-#: ../src/appicon.c:597
+#: ../src/appicon.c:497
 msgid "Set Icon..."
-msgstr "õÓÔÁÎÏ×ÉÔØ ÚÎÁÞÏË..."
+msgstr "õÓÔÁÎÏ×ÉÔØ ÉËÏÎËÕ..."
 
-#: ../src/appicon.c:598 ../src/dock.c:1119 ../src/rootmenu.c:227
-#: ../src/rootmenu.c:241 ../src/winmenu.c:493
+#: ../src/appicon.c:498 ../src/dock.c:1186 ../src/rootmenu.c:248
+#: ../src/rootmenu.c:264 ../src/winmenu.c:520
 msgid "Kill"
 msgstr "õÂÉÔØ"
 
-#: ../src/appicon.c:619 ../src/dock.c:3240
+#: ../src/appicon.c:519 ../src/dock.c:3502
 msgid "Unhide"
 msgstr "òÁÓËÒÙÔØ"
 
-#: ../src/defaults.c:812 ../src/startup.c:772 ../src/startup.c:790
-#: ../src/startup.c:796
+#: ../src/application.c:398
+#, c-format
+msgid "recreating missing icon '%s'"
+msgstr ""
+
+#: ../src/defaults.c:922 ../src/defaults.c:1011
+#, c-format
+msgid "Domain %s (%s) of global defaults database is corrupted!"
+msgstr "äÏÍÅÎ %s (%s) × ÇÌÏÂÁÌØÎÏÍ ÆÁÊÌÅ ÕÓÔÁÎÏ×ÏË ÐÏ×ÒÅÖÄÅÎ!"
+
+#: ../src/defaults.c:927
+#, c-format
+msgid "could not load domain %s from global defaults database"
+msgstr "ÎÅ ÕÄÁÌÏÓØ ÚÁÇÒÕÚÉÔØ ÄÏÍÅÎ %s ÉÚ ÇÌÏÂÁÌØÎÏÇÏ ÆÁÊÌÁ ÕÓÔÁÎÏ×ÏË"
+
+#: ../src/defaults.c:949 ../src/startup.c:884 ../src/startup.c:902
+#: ../src/startup.c:908
 #, c-format
 msgid "could not read domain \"%s\" from defaults database"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÐÒÏÞÉÔÁÔØ ÚÎÁÞÅÎÉÅ ÐÏ ÕÍÏÌÞÁÎÉÀ ÄÏÍÅÎÁ \"%s\""
 
-#: ../src/defaults.c:858 ../src/defaults.c:983 ../src/defaults.c:1022
-#: ../src/defaults.c:1052
+#: ../src/defaults.c:995 ../src/defaults.c:1099 ../src/defaults.c:1140
+#: ../src/defaults.c:1196
 #, c-format
 msgid "Domain %s (%s) of defaults database is corrupted!"
 msgstr "äÏÍÅÎ %s (%s) × ÆÁÊÌÅ ÕÓÔÁÎÏ×ÏË ÐÏ×ÒÅÖÄÅÎ!"
 
-#: ../src/defaults.c:863 ../src/defaults.c:1004 ../src/defaults.c:1035
-#: ../src/defaults.c:1061
+#: ../src/defaults.c:1000 ../src/defaults.c:1119 ../src/defaults.c:1176
+#: ../src/defaults.c:1205
 #, c-format
 msgid "could not load domain %s from user defaults database"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÚÁÇÒÕÚÉÔØ ÄÏÍÅÎ \"%s\" ÉÚ ÐÏÌØÚÏ×ÁÔÅÌØÓËÏÇÏ ÆÁÊÌÁ ÕÓÔÁÎÏ×ÏË"
 
-#: ../src/defaults.c:874 ../src/defaults.c:968
+#: ../src/defaults.c:1030
 #, c-format
-msgid "Domain %s (%s) of global defaults database is corrupted!"
-msgstr "äÏÍÅÎ %s (%s) × ÇÌÏÂÁÌØÎÏÍ ÆÁÊÌÅ ÕÓÔÁÎÏ×ÏË ÐÏ×ÒÅÖÄÅÎ!"
+msgid "could not load domain %s from global defaults database (%s)"
+msgstr "ÎÅ ÕÄÁÌÏÓØ ÚÁÇÒÕÚÉÔØ ÄÏÍÅÎ %s ÉÚ ÇÌÏÂÁÌØÎÏÇÏ ÆÁÊÌÁ ÕÓÔÁÎÏ×ÏË (%s)"
 
-#: ../src/defaults.c:893 ../src/defaults.c:973
+#: ../src/defaults.c:1166 ../src/screen.c:460
 #, c-format
-msgid "could not load domain %s from global defaults database"
-msgstr "ÎÅ ÕÄÁÌÏÓØ ÚÁÇÒÕÚÉÔØ ÄÏÍÅÎ %s ÉÚ ÇÌÏÂÁÌØÎÏÇÏ ÆÁÊÌÁ ÕÓÔÁÎÏ×ÏË"
+msgid "could not load logo image for panels: %s"
+msgstr "ÎÅ ÕÄÁÌÏÓØ ÚÁÇÒÕÚÉÔØ ËÁÒÔÉÎËÕ-ÌÏÇÏ ÄÌÑ ÐÁÎÅÌÅÊ: %s"
+
+#. --------------------------- Local -----------------------
+#: ../src/defaults.c:1414 ../src/defaults.c:1556 ../src/defaults.c:1668
+#: ../src/defaults.c:2147 ../src/defaults.c:2164 ../src/defaults.c:2209
+#: ../src/defaults.c:2256 ../src/defaults.c:2729 ../src/wdefaults.c:571
+#: ../src/wdefaults.c:607
+#, c-format
+msgid "Wrong option format for key \"%s\". Should be %s."
+msgstr "îÅ×ÅÒÎÙÊ ÆÏÒÍÁÔ ÐÁÒÁÍÅÔÒÁ ÄÌÑ ËÌÀÞÁ \"%s\". äÏÌÖÅÎ ÂÙÔØ %s."
+
+#: ../src/defaults.c:1416 ../src/defaults.c:1497 ../src/defaults.c:1529
+#: ../src/defaults.c:1561 ../src/defaults.c:1574 ../src/defaults.c:1589
+#: ../src/defaults.c:1603 ../src/defaults.c:1673 ../src/defaults.c:1685
+#: ../src/defaults.c:2152 ../src/defaults.c:2169 ../src/defaults.c:2182
+#: ../src/defaults.c:2214 ../src/defaults.c:2230 ../src/defaults.c:2261
+#: ../src/defaults.c:2348 ../src/defaults.c:2734 ../src/defaults.c:2745
+#, c-format
+msgid "using default \"%s\" instead"
+msgstr "ÉÓÐÏÌØÚÕÅÍ ÚÎÁÞÅÎÉÅ ÐÏ ÕÍÏÌÞÁÎÉÀ (%s)"
 
-#: ../src/defaults.c:1281
+#: ../src/defaults.c:1447
 #, c-format
 msgid "wrong option value for key \"%s\". Should be one of %s"
 msgstr "ÎÅ×ÅÒÎÏÅ ÚÎÁÞÅÎÉÅ ÄÌÑ ËÌÀÞÁ \"%s\". äÏÌÖÎÏ ÂÙÔØ ÏÄÎÏ ÉÚ %s."
 
-#: ../src/defaults.c:1328
+#: ../src/defaults.c:1492
 #, c-format
 msgid "can't convert \"%s\" to boolean for key \"%s\""
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÐÒÅÏÂÒÁÚÏ×ÁÔØ \"%s\" × ÌÏÇÉÞÅÓËÏÅ ÚÎÁÞÅÎÉÅ ÄÌÑ ËÌÀÞÁ \"%s\""
 
-#: ../src/defaults.c:1333 ../src/defaults.c:1367 ../src/defaults.c:1399
-#: ../src/defaults.c:1412 ../src/defaults.c:1427 ../src/defaults.c:1441
-#: ../src/defaults.c:1513 ../src/defaults.c:1525 ../src/defaults.c:1931
-#: ../src/defaults.c:1948 ../src/defaults.c:1961 ../src/defaults.c:1994
-#: ../src/defaults.c:2010 ../src/defaults.c:2041 ../src/defaults.c:2128
-#, c-format
-msgid "using default \"%s\" instead"
-msgstr "ÉÓÐÏÌØÚÕÅÍ ÚÎÁÞÅÎÉÅ ÐÏ ÕÍÏÌÞÁÎÉÀ (%s)"
-
-#: ../src/defaults.c:1364
+#: ../src/defaults.c:1526
 #, c-format
 msgid "can't convert \"%s\" to integer for key \"%s\""
 msgstr "îÅ×ÏÚÍÏÖÎÏ ÐÒÅÏÂÒÁÚÏ×ÁÔØ \"%s\" × ÃÅÌÏÅ ÚÎÁÞÅÎÉÅ ÄÌÑ ËÌÀÞÁ \"%s\""
 
-#: ../src/defaults.c:1394 ../src/defaults.c:1508 ../src/defaults.c:1926
-#: ../src/defaults.c:1943 ../src/defaults.c:1989 ../src/defaults.c:2036
-#: ../src/wdefaults.c:546 ../src/wdefaults.c:582
-#, c-format
-msgid "Wrong option format for key \"%s\". Should be %s."
-msgstr "îÅ×ÅÒÎÙÊ ÆÏÒÍÁÔ ÐÁÒÁÍÅÔÒÁ ÄÌÑ ËÌÀÞÁ \"%s\". äÏÌÖÅÎ ÂÙÔØ %s."
-
-#: ../src/defaults.c:1407
+#: ../src/defaults.c:1569
 #, c-format
 msgid "Incorrect number of elements in array for key \"%s\"."
 msgstr "îÅ×ÅÒÎÏÅ ËÏÌÉÞÅÓÔ×Ï ÜÌÅÍÅÎÔÏ× × ÍÁÓÓÉ×Å ÄÌÑ ËÌÀÞÁ \"%s\"."
 
-#: ../src/defaults.c:1422
+#: ../src/defaults.c:1584
 #, c-format
 msgid "Wrong value for key \"%s\". Should be Coordinate."
 msgstr "îÅ×ÅÒÎÏÅ ÚÎÁÞÅÎÉÅ ÐÁÒÁÍÅÔÒÁ ÄÌÑ ËÌÀÞÁ \"%s\". äÏÌÖÎÏ ÂÙÔØ Coordinate."
 
-#: ../src/defaults.c:1437
+#: ../src/defaults.c:1599
 #, c-format
 msgid "can't convert array to integers for \"%s\"."
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÐÒÅÏÂÒÁÚÏ×ÁÔØ ÍÁÓÓÉ× × ÎÁÂÏÒ ÃÅÌÙÈ ÚÎÁÞÅÎÉÑ ÄÌÑ \"%s\"."
 
-#: ../src/defaults.c:1635 ../src/defaults.c:1667 ../src/defaults.c:1683
-#: ../src/defaults.c:1729 ../src/defaults.c:1769 ../src/defaults.c:1807
-#: ../src/defaults.c:1823
+#: ../src/defaults.c:1797 ../src/defaults.c:1829 ../src/defaults.c:1845
+#: ../src/defaults.c:1874 ../src/defaults.c:1897 ../src/defaults.c:1950
+#: ../src/defaults.c:1990 ../src/defaults.c:2028 ../src/defaults.c:2044
 #, c-format
 msgid "\"%s\" is not a valid color name"
 msgstr "\"%s\" ÎÅ Ñ×ÌÑÅÔÓÑ ÉÚ×ÅÓÔÎÙÍ ÎÁÚ×ÁÎÉÅÍ Ã×ÅÔÁ"
 
-#: ../src/defaults.c:1648
+#: ../src/defaults.c:1810 ../src/defaults.c:1862
 msgid "bad number of arguments in gradient specification"
 msgstr "ÎÅ×ÅÒÎÏÅ ËÏÌÉÞÅÓÔ×Ï ÁÒÇÕÍÅÎÔÏ× × ÏÐÒÅÄÅÌÅÎÉÉ ÇÒÁÄÉÅÎÔÁ"
 
-#: ../src/defaults.c:1702
+#: ../src/defaults.c:1923
 msgid "too few arguments in multicolor gradient specification"
 msgstr "ÓÌÉÛËÏÍ ÍÁÌÏ ÁÒÇÕÍÅÎÔÏ× × ÏÐÒÅÄÅÌÅÎÉÉ ÍÎÏÇÏÃ×ÅÔÎÏÇÏ ÇÒÁÄÉÅÎÔÁ"
 
-#: ../src/defaults.c:1796
+#: ../src/defaults.c:2017
 msgid "bad number of arguments in textured gradient specification"
 msgstr "ÎÅ×ÅÒÎÏÅ ËÏÌÉÞÅÓÔ×Ï ÁÒÇÕÍÅÎÔÏ× × ÏÐÒÅÄÅÌÅÎÉÉ ÇÒÁÄÉÅÎÔÁ Ó ÔÅËÓÔÕÒÏÊ"
 
-#: ../src/defaults.c:1839
+#: ../src/defaults.c:2060
 #, c-format
 msgid "bad opacity value for tgradient texture \"%s\". Should be [0..255]"
 msgstr ""
 "ÎÅ×ÅÒÎÏÅ ÚÎÁÞÅÎÉÅ ÐÒÏÚÒÁÞÎÏÓÔÉ ÄÌÑ t-ÇÒÁÄÉÅÎÔÁ Ó ÔÅËÓÔÕÒÏÊ \"%s\"; ÄÏÌÖÎÏ "
 "ÂÙÔØ [0..255]"
 
-#: ../src/defaults.c:1899
+#: ../src/defaults.c:2120
 #, c-format
 msgid "could not initialize library %s"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÐÒÏÉÎÉÃÉÁÌÉÚÉÒÏ×ÁÔØ ÂÉÂÌÉÏÔÅËÕ %s"
 
-#: ../src/defaults.c:1902
+#: ../src/defaults.c:2123
 #, c-format
 msgid "could not find function %s::%s"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÎÁÊÔÉ ÆÕÎËÃÉÀ %s::%s"
 
-#: ../src/defaults.c:1909
+#: ../src/defaults.c:2130
 #, c-format
 msgid "invalid texture type %s"
 msgstr "ÎÅ×ÅÒÎÙÊ ÔÉÐ ÔÅËÓÔÕÒÙ (%s)"
 
-#: ../src/defaults.c:1956
+#: ../src/defaults.c:2177
 #, c-format
 msgid "Error in texture specification for key \"%s\""
 msgstr "ïÛÉÂËÁ × ÏÐÒÅÄÅÌÅÎÉÉ ÔÅËÓÔÕÒÙ ÄÌÑ ËÌÀÞÁ \"%s\""
 
-#: ../src/defaults.c:2006
+#: ../src/defaults.c:2226
 msgid "Wrong type for workspace background. Should be a texture type."
 msgstr ""
-"îÅ×ÅÒÎÙÊ ÔÉÐ ÄÌÑ ÆÏÎÁ òÁÂÏÞÅÇÏ ÍÅÓÔÁ; ÏÖÉÄÁÌÏÓØ ÚÎÁÞÅÎÉÅ ÔÉÐÁ \"ÔÅËÓÔÕÒÁ\"."
+"îÅ×ÅÒÎÙÊ ÔÉÐ ÄÌÑ ÆÏÎÁ òÁÂÏÞÅÇÏ ðÒÏÓÔÒÁÎÓÔ×Á; ÏÖÉÄÁÌÏÓØ ÚÎÁÞÅÎÉÅ ÔÉÐÁ "
+"\"ÔÅËÓÔÕÒÁ\"."
 
-#: ../src/defaults.c:2054
+#: ../src/defaults.c:2274
 #, c-format
 msgid "Wrong type for background of workspace %i. Should be a texture."
 msgstr ""
-"îÅ×ÅÒÎÙÊ ÔÉÐ ÄÌÑ ÆÏÎÁ òÁÂÏÞÅÇÏ ÍÅÓÔÁ #%i; ÏÖÉÄÁÌÏÓØ ÚÎÁÞÅÎÉÅ ÔÉÐÁ "
+"îÅ×ÅÒÎÙÊ ÔÉÐ ÄÌÑ ÆÏÎÁ òÁÂÏÞÅÇÏ ðÒÏÓÔÒÁÎÓÔ×Á #%i; ÏÖÉÄÁÌÏÓØ ÚÎÁÞÅÎÉÅ ÔÉÐÁ "
 "\"ÔÅËÓÔÕÒÁ\"."
 
-#: ../src/defaults.c:2095
+#: ../src/defaults.c:2316
 msgid "could not load any usable font!!!"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÚÁÇÒÕÚÉÔØ ÐÏÄÈÏÄÑÝÉÊ ÛÒÉÆÔ!!!"
 
-#: ../src/defaults.c:2123
+#: ../src/defaults.c:2343
 #, c-format
 msgid "could not get color for key \"%s\""
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÏÐÒÅÄÅÌÉÔØ Ã×ÅÔ ÄÌÑ ËÌÀÞÁ \"%s\""
 
-#: ../src/defaults.c:2183 ../src/rootmenu.c:493
+#: ../src/defaults.c:2401 ../src/rootmenu.c:526
 #, c-format
 msgid "%s:invalid key modifier \"%s\""
 msgstr "%s:ÎÅ×ÅÒÎÙÊ ÍÏÄÉÆÉËÁÔÏÒ ËÌÁ×ÉÛÉ \"%s\""
 
 #
-#: ../src/defaults.c:2195
+#: ../src/defaults.c:2413
 #, c-format
 msgid "%s:invalid kbd shortcut specification \"%s\""
 msgstr "%s:ÎÅÄÏÐÕÓÔÉÍÏÅ ÕËÁÚÁÎÉÅ ÓÏÞÅÔÁÎÉÑ ËÌÁ×ÉÛ \"%s\""
 
 #
-#: ../src/defaults.c:2202
+#: ../src/defaults.c:2420
 #, c-format
 msgid "%s:invalid key in shortcut \"%s\""
 msgstr "%s:ÎÅ×ÅÒÎÁÑ ËÌÁ×ÉÛÁ × ÓÏÞÅÔÁÎÉÉ \"%s\""
 
-#: ../src/defaults.c:2228
+#: ../src/defaults.c:2445
 #, c-format
 msgid "%s: modifier key %s is not valid"
 msgstr "%s: ÍÏÄÉÆÉËÁÔÏÒ %s ÎÅÉÚ×ÅÓÔÅÎ"
 
-#: ../src/defaults.c:2262
+#: ../src/defaults.c:2477
 #, c-format
 msgid "could not load image in option %s: %s"
-msgstr "ÎÅ ÕÄÁÌÏÓØ ÚÁÇÒÕÚÉÔØ ÚÎÁÞÏË ÄÌÑ ÐÁÒÁÍÅÔÒÁ %s: %s"
+msgstr "ÎÅ ÕÄÁÌÏÓØ ÚÁÇÒÕÚÉÔØ ÉÚÏÂÒÁÖÅÎÉÅ ÄÌÑ ÐÁÒÁÍÅÔÒÁ %s: %s"
+
+#
+#: ../src/defaults.c:2594
+#, c-format
+msgid "failed to open bitmap file \"%s\""
+msgstr "ÎÅ ÕÄÁÌÏÓØ ÏÔËÒÙÔØ bitmap-ÆÁÊÌ \"%s\""
+
+#: ../src/defaults.c:2597
+#, c-format
+msgid "\"%s\" is not a valid bitmap file"
+msgstr "\"%s\" ÎÅ Ñ×ÌÑÅÔÓÑ ÐÒÁ×ÉÌØÎÙÍ bitmap-ÆÁÊÌÏÍ"
+
+#: ../src/defaults.c:2600
+#, c-format
+msgid "out of memory reading bitmap file \"%s\""
+msgstr "ÉÓÞÅÒÐÁÎÁ ÐÁÍÑÔØ ×Ï ×ÒÅÍÑ ÞÔÅÎÉÑ bitmap-ÆÁÊÌÁ \"%s\""
 
-#: ../src/defaults.c:2344
+#: ../src/defaults.c:2639 ../src/defaults.c:2672
+msgid "bad number of arguments in cursor specification"
+msgstr "ÎÅ×ÅÒÎÏÅ ËÏÌÉÞÅÓÔ×Ï ÁÒÇÕÍÅÎÔÏ× × ÏÐÒÅÄÅÌÅÎÉÉ ËÕÒÓÏÒÁ"
+
+#: ../src/defaults.c:2655
+#, c-format
+msgid "unknown builtin cursor name \"%s\""
+msgstr "ÎÅÉÚ×ÅÓÔÎÏÅ ×ÓÔÒÏÅÎÎÏÅ ÉÍÑ ËÕÒÓÏÒÁ \"%s\""
+
+#: ../src/defaults.c:2682 ../src/defaults.c:2694
+#, c-format
+msgid "could not find cursor bitmap file \"%s\""
+msgstr "ÎÅ ÕÄÁÌÏÓØ ÎÁÊÔÉ bitmap-ÆÁÊÌ Ó ÉÚÏÂÒÁÖÅÎÉÅÍ ËÕÒÓÏÒÁ \"%s\""
+
+#: ../src/defaults.c:2741
+#, c-format
+msgid "Error in cursor specification for key \"%s\""
+msgstr "ïÛÉÂËÁ × ÏÐÒÅÄÅÌÅÎÉÉ ËÕÒÓÏÒÁ ÄÌÑ ËÌÀÞÁ \"%s\""
+
+#: ../src/defaults.c:2826
 msgid "could not render texture for icon background"
-msgstr "ÎÅ ÕÄÁÌÏÓØ ÐÏÄÇÏÔÏ×ÉÔØ ÔÅËÓÔÕÒÕ ÄÌÑ ÆÏÎÁ ÚÎÁÞËÁ"
+msgstr "ÎÅ ÕÄÁÌÏÓØ ÐÏÄÇÏÔÏ×ÉÔØ ÔÅËÓÔÕÒÕ ÄÌÑ ÆÏÎÁ ÉËÏÎËÉ"
 
-#: ../src/dialog.c:122 ../src/dialog.c:474 ../src/dock.c:475
-#: ../src/dockedapp.c:363 ../src/rootmenu.c:189 ../src/rootmenu.c:227
-#: ../src/rootmenu.c:241
+#
+#: ../src/dialog.c:157
+msgid "Save workspace state"
+msgstr ""
+"óÏÈÒÁÎÉÔØ ÓÏÓÔÏÑÎÉÅ\n"
+"ÒÁÂÏÞÅÇÏ ÐÒÏÓÔÒÁÎÓÔ×Á"
+
+#: ../src/dialog.c:201 ../src/dialog.c:758 ../src/dock.c:558
+#: ../src/dockedapp.c:431 ../src/rootmenu.c:198 ../src/rootmenu.c:248
+#: ../src/rootmenu.c:264
 msgid "Cancel"
 msgstr "ïÔËÁÚ"
 
 #
-#: ../src/dialog.c:218
+#: ../src/dialog.c:299
 msgid "Could not open directory "
 msgstr "îÅ×ÏÚÍÏÖÎÏ ÏÔËÒÙÔØ ËÁÔÁÌÏÇ "
 
-#: ../src/dialog.c:274
+#: ../src/dialog.c:354
 msgid "Could not load image file "
-msgstr "îÅ×ÏÚÍÏÖÎÏ ÚÁÇÒÕÚÉÔØ ÆÁÊÌ Ó ËÁÒÔÉÎËÏÊ "
+msgstr "îÅ×ÏÚÍÏÖÎÏ ÚÁÇÒÕÚÉÔØ ÆÁÊÌ ÉÚÏÂÒÁÖÅÎÉÑ "
 
-#: ../src/dialog.c:411
+#: ../src/dialog.c:685
 msgid "Directories"
 msgstr "ëÁÔÁÌÏÇÉ"
 
-#: ../src/dialog.c:420
+#: ../src/dialog.c:694
 msgid "Icons"
-msgstr "úÎÁÞËÉ"
+msgstr "éËÏÎËÉ"
+
+#: ../src/dialog.c:727
+msgid "Preview"
+msgstr "ðÒÅÄÐÒÏÓÍÏÔÒ"
 
 #
-#: ../src/dialog.c:457
+#: ../src/dialog.c:740
 msgid "File Name:"
 msgstr "éÍÑ ÆÁÊÌÁ:"
 
-#: ../src/dialog.c:480
+#: ../src/dialog.c:764
 msgid "Choose File"
 msgstr "÷ÙÂÅÒÉÔÅ ÆÁÊÌ"
 
-#: ../src/dialog.c:497 ../src/dialog.c:499
+#: ../src/dialog.c:783 ../src/dialog.c:785
 msgid "Icon Chooser"
-msgstr "÷ÙÂÏÒ ÚÎÁÞËÁ"
+msgstr "÷ÙÂÏÒ ÉËÏÎËÉ"
+
+# intentionally left untranslated
+#: ../src/dialog.c:1265 ../src/dialog.c:1375
+#, c-format
+msgid "Version %s"
+msgstr ""
+
+# intentionally left untranslated
+#: ../src/dialog.c:1372
+msgid "Window Manager for X"
+msgstr ""
+
+# intentionally left untranslated
+#: ../src/dialog.c:1397
+#, c-format
+msgid "Using visual 0x%x: %s %ibpp "
+msgstr ""
+
+# intentionally left untranslated
+#: ../src/dialog.c:1405
+msgid "(32 thousand colors)\n"
+msgstr ""
+
+# intentionally left untranslated
+#: ../src/dialog.c:1408
+msgid "(64 thousand colors)\n"
+msgstr ""
+
+# intentionally left untranslated
+#: ../src/dialog.c:1412
+msgid "(16 million colors)\n"
+msgstr ""
+
+# intentionally left untranslated
+#: ../src/dialog.c:1415
+#, c-format
+msgid "(%d colors)\n"
+msgstr ""
+
+# intentionally left untranslated
+#: ../src/dialog.c:1425
+#, c-format
+msgid "Total allocated memory: %i kB. Total memory in use: %i kB.\n"
+msgstr ""
+
+# intentionally left untranslated
+#: ../src/dialog.c:1432
+msgid "Supported image formats: "
+msgstr ""
+
+# intentionally left untranslated
+#: ../src/dialog.c:1439
+msgid ""
+"\n"
+"Additional support for: "
+msgstr ""
+
+# intentionally left untranslated
+#: ../src/dialog.c:1462
+msgid " and "
+msgstr ""
+
+# intentionally left untranslated
+#: ../src/dialog.c:1472
+msgid ""
+"\n"
+"Sound disabled"
+msgstr ""
 
-#: ../src/dialog.c:1400 ../src/startup.c:325
+# intentionally left untranslated
+#: ../src/dialog.c:1474
+msgid ""
+"\n"
+"Sound enabled"
+msgstr ""
+
+#: ../src/dialog.c:1503
+msgid "Info"
+msgstr ""
+
+#: ../src/dialog.c:1527
+msgid "Merry Christmas!"
+msgstr ""
+
+#: ../src/dialog.c:1597
+msgid ""
+"    Window Maker is free software; you can redistribute it and/or\n"
+"modify it under the terms of the GNU General Public License as\n"
+"published by the Free Software Foundation; either version 2 of the\n"
+"License, or (at your option) any later version.\n"
+"\n"
+"    Window Maker is distributed in the hope that it will be useful,\n"
+"but WITHOUT ANY WARRANTY; without even the implied warranty\n"
+"of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n"
+"See the GNU General Public License for more details.\n"
+"\n"
+"    You should have received a copy of the GNU General Public\n"
+"License along with this program; if not, write to the Free Software\n"
+"Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA\n"
+"02111-1307, USA."
+msgstr ""
+
+#: ../src/dialog.c:1621
+msgid "Legal"
+msgstr ""
+
+#: ../src/dialog.c:1773 ../src/startup.c:394
 msgid "cannot open connection for crashing dialog panel. Aborting."
-msgstr "ÎÅ ÕÄÁÌÏÓØ ÏÔËÒÙÔØ ÓÏÅÄÉÎÅÎÉÅ Ë ÐÁÎÅÌÉ Á×ÁÒÉÊÎÏÇÏ ÄÉÁÌÏÇÁ. úÁ×ÅÒÛÅÎÉÅ ÒÁÂÏÔÙ."
+msgstr ""
+"ÎÅ ÕÄÁÌÏÓØ ÏÔËÒÙÔØ ÓÏÅÄÉÎÅÎÉÅ Ë ÐÁÎÅÌÉ Á×ÁÒÉÊÎÏÇÏ ÄÉÁÌÏÇÁ. úÁ×ÅÒÛÅÎÉÅ ÒÁÂÏÔÙ."
 
-#: ../src/dialog.c:1426
+#: ../src/dialog.c:1799
 msgid "Fatal error"
 msgstr "ëÒÉÔÉÞÅÓËÁÑ ÏÛÉÂËÁ"
 
-#: ../src/dialog.c:1437
+#: ../src/dialog.c:1810
 #, c-format
 msgid ""
 "Window Maker received signal %i\n"
@@ -305,373 +479,564 @@
 "Window Maker: ÐÏÌÕÞÅÎ ÓÉÇÎÁÌ %i\n"
 "(%s)."
 
-#: ../src/dialog.c:1440
+#: ../src/dialog.c:1813
 #, c-format
 msgid "Window Maker received signal %i."
 msgstr "Window Maker: ÐÏÌÕÞÅÎ ÓÉÇÎÁÌ %i."
 
-#: ../src/dialog.c:1449
+#: ../src/dialog.c:1822
 msgid ""
 " This fatal error occured probably due to a bug. Please fill the included "
 "BUGFORM and report it to bugs@windowmaker.org."
 msgstr ""
 " üÔÁ ËÒÉÔÉÞÅÓËÁÑ ÏÛÉÂËÁ, ×ÏÚÍÏÖÎÏ, Ñ×ÌÑÅÔÓÑ ÒÅÚÕÌØÔÁÔÏÍ ÏÛÉÂËÉ × ÐÒÏÇÒÁÍÍÅ. "
-"ðÏÖÁÌÕÊÓÔÁ, ÚÁÐÏÌÎÉÔÅ ÆÏÒÍÕ × ÆÁÊÌÅ BUGFORM É ÏÔÐÒÁ×ØÔÅ ÐÏ ÁÄÒÅÓÕ bugs@windowmaker.org."
+"ðÏÖÁÌÕÊÓÔÁ, ÚÁÐÏÌÎÉÔÅ ÆÏÒÍÕ × ÆÁÊÌÅ BUGFORM É ÏÔÐÒÁ×ØÔÅ ÐÏ ÁÄÒÅÓÕ "
+"bugs@windowmaker.org."
 
-#: ../src/dialog.c:1457
+#: ../src/dialog.c:1831
 msgid "What do you want to do now?"
 msgstr "þÔÏ ÄÅÌÁÔØ ÔÅÐÅÒØ?"
 
-#: ../src/dialog.c:1463
+#: ../src/dialog.c:1837
 msgid "Select action"
 msgstr "õËÁÖÉÔÅ ÄÅÊÓÔ×ÉÅ"
 
-#: ../src/dialog.c:1464
+#: ../src/dialog.c:1838
 msgid "Abort and leave a core file"
 msgstr "úÁ×ÅÒÛÉÔØ ÒÁÂÏÔÕ, ÏÓÔÁ×É× ÆÁÊÌ core"
 
-#: ../src/dialog.c:1465
+#: ../src/dialog.c:1839
 msgid "Restart Window Maker"
 msgstr "ðÅÒÅÚÁÐÕÓÔÉÔØ Window Maker"
 
-#: ../src/dialog.c:1466
+#: ../src/dialog.c:1840
 msgid "Start alternate window manager"
 msgstr "úÁÐÕÓË ÁÌØÔÅÒÎÁÔÉ×ÎÏÇÏ ÄÉÓÐÅÔÞÅÒÁ ÏËÏÎ"
 
-#: ../src/dock.c:210
+#: ../src/dialog.c:2018
+msgid ""
+"Window Maker is part of the GNUstep project.\n"
+"The GNUstep project aims to create a free\n"
+"implementation of the OpenStep(tm) specification\n"
+"which is a object-oriented framework for\n"
+"creating advanced graphical, multi-platform\n"
+"applications. Additionally, a development and\n"
+"user desktop enviroment will be created on top\n"
+"of the framework. For more information about\n"
+"GNUstep, please visit: www.gnustep.org"
+msgstr ""
+
+#: ../src/dialog.c:2041
+msgid "About GNUstep"
+msgstr ""
+
+#: ../src/dock.c:213
 #, c-format
 msgid "Type the name for workspace %i:"
-msgstr "÷×ÅÄÉÔÅ ÉÍÑ ÄÌÑ %i-ÇÏ ÒÁÂÏÞÅÇÏ ÍÅÓÔÁ:"
+msgstr "÷×ÅÄÉÔÅ ÉÍÑ ÄÌÑ %i-ÇÏ ÒÁÂÏÞÅÇÏ ÐÒÏÓÔÒÁÎÓÔ×Á:"
 
 #
-#: ../src/dock.c:211 ../src/dock.c:1090
+#: ../src/dock.c:214 ../src/dock.c:1142 ../src/dock.c:1145 ../src/dock.c:3410
 msgid "Rename Workspace"
-msgstr "ðÅÒÅÉÍÅÎÏ×ÁÔØ òÁÂÏÞÅÅ ÍÅÓÔÏ"
+msgstr "ðÅÒÅÉÍÅÎÏ×ÁÔØ ÐÒÏÓÔÒÁÎÓÔ×Ï"
+
+#: ../src/dock.c:520 ../src/dock.c:528
+msgid "Warning"
+msgstr "ðÒÅÄÕÐÒÅÖÄÅÎÉÅ"
 
-#: ../src/dock.c:473
+#: ../src/dock.c:521
+msgid ""
+"Some icons cannot be made omnipresent. Please make sure that no other icon "
+"is docked in the same positions on the other workspaces and the Clip is not "
+"full in some workspace."
+msgstr ""
+"îÅËÏÔÏÒÙÅ ÉËÏÎËÉ ÎÅ ÍÏÇÕÔ ÂÙÔØ ÓÄÅÌÁÎÙ \"ÐÒÉÓÕÔÓÔ×ÕÀÝÉÍÉ ×ÅÚÄÅ\".  "
+"õÂÅÄÉÔÅÓØ, ÞÔÏ ÎÅÔ ÉËÏÎÏË, ÎÁ ÔÏÍ ÖÅ ÍÅÓÔÅ ÎÏ ÎÁ ÄÒÕÇÉÈ ÐÒÏÓÔÒÁÎÓÔ×ÁÈ, É ÞÔÏ "
+"ÎÉ ÎÁ ÏÄÎÏÍ ÉÚ ÐÒÏÓÔÒÁÎÓÔ× óËÒÅÐËÁ ÎÅ ÚÁÐÏÌÎÅÎÁ ÄÏ ËÒÁÅ×."
+
+#: ../src/dock.c:529
+msgid ""
+"Icon cannot be made omnipresent. Please make sure that no other icon is "
+"docked in the same position on the other workspaces and the Clip is not full "
+"in some workspace."
+msgstr ""
+"éËÏÎËÁ ÎÅ ÍÏÖÅÔ ÂÙÔØ ÓÄÅÌÁÎÁ \"ÐÒÉÓÕÔÓÔ×ÕÀÝÅÊ ×ÅÚÄÅ\".  õÂÅÄÉÔÅÓØ, ÞÔÏ ÎÅÔ "
+"ÄÒÕÇÉÈ ÉËÏÎÏË, ÎÁ ÔÏÍ ÖÅ ÍÅÓÔÅ ÎÏ ÎÁ ÄÒÕÇÉÈ ÐÒÏÓÔÒÁÎÓÔ×ÁÈ, É ÞÔÏ ÎÉ ÎÁ ÏÄÎÏÍ "
+"ÉÚ ÐÒÏÓÔÒÁÎÓÔ× óËÒÅÐËÁ ÎÅ ÚÁÐÏÌÎÅÎÁ ÄÏ ËÒÁÅ×."
+
+#: ../src/dock.c:556
 msgid "Workspace Clip"
-msgstr "ðÉÒÓ òÁÂÏÞÅÇÏ ÍÅÓÔÁ"
+msgstr "óËÒÅÐËÁ ÒÁÂÏÞÅÇÏ ÐÒÏÓÔÒÁÎÓÔ×Á"
 
-#: ../src/dock.c:474
+#: ../src/dock.c:557
 msgid "All selected icons will be removed!"
-msgstr "÷ÓÅ ×ÙÄÅÌÅÎÎÙÅ ÚÎÁÞËÉ ÂÕÄÕÔ ÕÄÁÌÅÎÙ!"
+msgstr "÷ÓÅ ×ÙÄÅÌÅÎÎÙÅ ÉËÏÎËÉ ÂÕÄÕÔ ÕÄÁÌÅÎÙ!"
 
-#: ../src/dock.c:521
+#: ../src/dock.c:608 ../src/dock.c:1157 ../src/dock.c:1159 ../src/dock.c:3446
 msgid "Keep Icon"
-msgstr "õÄÅÒÖÉ×ÁÔØ ÚÎÁÞÏË"
+msgstr "õÄÅÒÖÉ×ÁÔØ ÉËÏÎËÕ"
 
 #
-#: ../src/dock.c:522 ../src/dock.c:2024 ../src/dock.c:2153
+#: ../src/dock.c:609 ../src/dock.c:2138 ../src/dock.c:2279
 msgid "Type the command used to launch the application"
 msgstr "÷×ÅÄÉÔÅ ËÏÍÁÎÄÕ, ÉÓÐÏÌØÚÕÅÍÕÀ ÄÌÑ ÚÁÐÕÓËÁ ÐÒÉÌÏÖÅÎÉÑ"
 
 #
-#: ../src/dock.c:903
+#: ../src/dock.c:965
 #, c-format
 msgid "could not launch application %s\n"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÚÁÐÕÓÔÉÔØ ÐÒÉÌÏÖÅÎÉÅ %s\n"
 
-#: ../src/dock.c:958
+#: ../src/dock.c:1020
 msgid "could not create workspace submenu for Clip menu"
-msgstr "ÎÅ ÕÄÁÌÏÓØ ÓÏÚÄÁÔØ ÐÏÄÍÅÎÀ ÒÁÂÏÞÉÈ ÍÅÓÔ ÄÌÑ ÍÅÎÀ ðÉÒÓÁ"
+msgstr "ÎÅ ÕÄÁÌÏÓØ ÓÏÚÄÁÔØ ÐÏÄÍÅÎÀ ÒÁÂÏÞÉÈ ÐÒÏÓÔÒÁÎÓÔ× ÄÌÑ ÍÅÎÀ óËÒÅÐËÉ"
 
-#: ../src/dock.c:1021
+#: ../src/dock.c:1079
 msgid "could not create options submenu for Clip menu"
-msgstr "ÎÅ ÕÄÁÌÏÓØ ÓÏÚÄÁÔØ ÐÏÄÍÅÎÀ ÐÁÒÁÍÅÔÒÏ× ÄÌÑ ÍÅÎÀ ðÉÒÓÁ"
+msgstr "ÎÅ ÕÄÁÌÏÓØ ÓÏÚÄÁÔØ ÐÏÄÍÅÎÀ ÐÁÒÁÍÅÔÒÏ× ÄÌÑ ÍÅÎÀ óËÒÅÐËÉ"
 
-#: ../src/dock.c:1025 ../src/dock.c:1079 ../src/winmenu.c:388
-msgid "Keep on top"
+#: ../src/dock.c:1083 ../src/dock.c:1131
+msgid "Keep on Top"
 msgstr "÷ÓÅÇÄÁ ÎÁ×ÅÒÈÕ"
 
-#: ../src/dock.c:1031
+#: ../src/dock.c:1089
 msgid "Collapsed"
 msgstr "ó×ÅÒÎÕÔÏ"
 
-#: ../src/dock.c:1037
-msgid "AutoCollapse"
-msgstr "á×ÔÏÓ×ÏÒÁÞÉ×ÁÔØ"
-
-#: ../src/dock.c:1043
-msgid "AutoRaiseLower"
-msgstr "á×ÔÏÏÐÕÓËÁÔØ"
-
-#: ../src/dock.c:1049
-msgid "AutoAttract Icons"
-msgstr "á×ÔÏÐÒÉÔÑÇÉ×ÁÔØ ÚÎÁÞËÉ"
-
-#: ../src/dock.c:1055
-msgid "Keep Attracted Icons"
-msgstr "õÄÅÒÖÉ×ÁÔØ ÐÒÉÔÑÎÕÔÙÅ ÚÎÁÞËÉ"
+#: ../src/dock.c:1095
+msgid "Autocollapse"
+msgstr "á×ÔÏÍÁÔÉÞÅÓËÉ Ó×ÏÒÁÞÉ×ÁÔØ"
+
+#: ../src/dock.c:1101
+msgid "Autoraise"
+msgstr "á×ÔÏÍÁÔÉÞÅÓËÉ ÐÏÄÎÉÍÁÔØ"
+
+#: ../src/dock.c:1107
+msgid "Autoattract Icons"
+msgstr "á×ÔÏÍÁÔÉÞÅÓËÉ ÐÒÉÔÑÇÉ×ÁÔØ ÉËÏÎËÉ"
 
-#: ../src/dock.c:1085
+#: ../src/dock.c:1137
 msgid "Clip Options"
-msgstr "ðÁÒÁÍÅÔÒÙ ðÉÒÓÁ"
+msgstr "ðÁÒÁÍÅÔÒÙ ÓËÒÅÐËÉ"
 
-#: ../src/dock.c:1092
-msgid "(Un)Select Icon"
-msgstr "÷ÙÄÅÌÅÎÉÅ/óÂÒÏÓ ×ÙÄÅÌÅÎÉÑ ÚÎÁÞËÁ"
+#: ../src/dock.c:1147
+msgid "Selected"
+msgstr "÷ÙÄÅÌÅÎÏ"
 
-#: ../src/dock.c:1094
-msgid "(Un)Select All Icons"
-msgstr "÷ÙÄÅÌÅÎÉÅ/óÂÒÏÓ ×ÙÄÅÌÅÎÉÑ ×ÓÅÈ ÚÎÁÞËÏ×"
+#: ../src/dock.c:1152 ../src/dock.c:1155 ../src/dock.c:3437
+msgid "Select All Icons"
+msgstr "÷ÙÄÅÌÉÔØ ×ÓÅ ÉËÏÎËÉ"
 
-#: ../src/dock.c:1097
-msgid "Keep Icon(s)"
-msgstr "õÄÅÒÖÉ×ÁÔØ ÚÎÁÞËÉ"
+#: ../src/dock.c:1161 ../src/dock.c:1163 ../src/dock.c:3454
+msgid "Move Icon To"
+msgstr "ðÅÒÅÍÅÓÔÉÔØ ÉËÏÎËÕ..."
 
-#: ../src/dock.c:1099
-msgid "Move Icon(s) To"
-msgstr "ðÅÒÅÍÅÓÔÉÔØ ÚÎÁÞËÉ..."
+#: ../src/dock.c:1168 ../src/dock.c:1171 ../src/dock.c:3465
+msgid "Remove Icon"
+msgstr "õÄÁÌÉÔØ ÉËÏÎËÕ"
 
-#: ../src/dock.c:1104
-msgid "Remove Icon(s)"
-msgstr "õÄÁÌÉÔØ ÚÎÁÞËÉ"
-
-#: ../src/dock.c:1106
+#: ../src/dock.c:1173
 msgid "Attract Icons"
-msgstr "ðÒÉÔÑÇÉ×ÁÔØ ÚÎÁÞËÉ"
+msgstr "ðÒÉÔÑÇÉ×ÁÔØ ÉËÏÎËÉ"
 
-#: ../src/dock.c:1109
+#: ../src/dock.c:1176
 msgid "Launch"
-msgstr "úÁÐÕÓË"
+msgstr "úÁÐÕÓÔÉÔØ"
 
-#: ../src/dock.c:1117
+#: ../src/dock.c:1184
 msgid "Settings..."
 msgstr "õÓÔÁÎÏ×ËÉ..."
 
-#: ../src/dock.c:1502 ../src/dock.c:1516 ../src/dock.c:1530 ../src/dock.c:1540
+#: ../src/dock.c:1549 ../src/dock.c:1656
 #, c-format
 msgid "bad value in docked icon state info %s"
-msgstr "ïÛÉÂÏÞÎÁÑ ÉÎÆÏÒÍÁÃÉÑ Ï ÓÏÓÔÏÑÎÉÉ ÐÒÉÛ×ÁÒÔÏ×ÁÎÎÏÇÏ ÚÎÁÞËÁ -- %s"
+msgstr ""
+"ÎÅÄÏÐÕÓÔÉÍÏÅ ÚÎÁÞÅÎÉÅ × ÉÎÆÏÒÍÁÃÉÉ Ï ÓÏÓÔÏÑÎÉÉ ÐÒÉÛ×ÁÒÔÏ×ÁÎÎÏÊ ÉËÏÎËÉ: %s"
 
-#: ../src/dock.c:1548
+#: ../src/dock.c:1664
 #, c-format
 msgid "bad value in docked icon position %i,%i"
-msgstr "ÎÅÄÏÐÕÓÔÉÍÏÅ ÚÎÁÞÅÎÉÅ × ÐÏÚÉÃÉÉ ÐÒÉÞÁÌÁ %i,%i"
+msgstr "ÎÅÄÏÐÕÓÔÉÍÏÅ ÚÎÁÞÅÎÉÅ × ÐÏÚÉÃÉÉ ÐÒÉÛ×ÁÒÔÏ×ÁÎÎÏÊ ÉËÏÎËÉ %i,%i"
 
-#: ../src/dock.c:1791
+#: ../src/dock.c:1684
+#, c-format
+msgid "bad value in dock state info:%s"
+msgstr "ÎÅÄÏÐÕÓÔÉÍÏÅ ÚÎÁÞÅÎÉÅ × ÉÎÆÏÒÍÁÃÉÉ Ï ÓÏÓÔÏÑÎÉÉ äÏËÁ: %s"
+
+#: ../src/dock.c:1920
 msgid "there are too many icons stored in dock. Ignoring what doesn't fit"
-msgstr "ÓÌÉÛËÏÍ ÍÎÏÇÏ ÚÎÁÞËÏ× ÐÒÉÛ×ÁÒÔÏ×ÁÎÏ. þÁÓÔØ ÚÎÁÞËÏ× ÎÅ ÂÕÄÅÔ ×Ù×ÅÄÅÎÁ."
+msgstr "ÓÌÉÛËÏÍ ÍÎÏÇÏ ÉËÏÎÏË ÐÒÉÛ×ÁÒÔÏ×ÁÎÏ. þÁÓÔØ ÉËÏÎÏË ÎÅ ÂÕÄÅÔ ×Ù×ÅÄÅÎÁ."
 
 #. icon->forced_dock = 1;
-#: ../src/dock.c:2023 ../src/dock.c:2152
+#: ../src/dock.c:2137 ../src/dock.c:2278
 msgid "Dock Icon"
-msgstr "úÎÁÞÏË ðÒÉÞÁÌÁ"
+msgstr "éËÏÎËÁ äÏËÁ"
 
-#: ../src/dock.c:3109 ../src/dock.c:3113
+#: ../src/dock.c:3324
 #, c-format
 msgid "Could not execute command \"%s\""
 msgstr "îÅ×ÏÚÍÏÖÎÏ ×ÙÐÏÌÎÉÔØ ËÏÍÁÎÄÕ \"%s\""
 
-#: ../src/dockedapp.c:130
+#: ../src/dock.c:3416
+msgid "Toggle Omnipresent"
+msgstr "ðÅÒÅËÌÀÞÉÔØ \"ðÒÉÓÕÔÓÔ×ÕÅÔ ×ÅÚÄÅ\""
+
+#: ../src/dock.c:3421 ../src/kwm.c:637 ../src/winmenu.c:418
+#: ../src/winspector.c:1375
+msgid "Omnipresent"
+msgstr "ðÒÉÓÕÔÓÔ×ÕÅÔ ×ÅÚÄÅ"
+
+#: ../src/dock.c:3435
+msgid "Unselect All Icons"
+msgstr "óÂÒÏÓ ×ÙÄÅÌÅÎÉÑ ÄÌÑ ×ÓÅÈ ÉËÏÎÏË"
+
+#: ../src/dock.c:3444
+msgid "Keep Icons"
+msgstr "õÄÅÒÖÉ×ÁÔØ ÉËÏÎËÉ"
+
+#: ../src/dock.c:3452
+msgid "Move Icons To"
+msgstr "ðÅÒÅÍÅÓÔÉÔØ ÉËÏÎËÉ..."
+
+#: ../src/dock.c:3463
+msgid "Remove Icons"
+msgstr "õÄÁÌÉÔØ ÉËÏÎËÉ"
+
+#: ../src/dock.c:3494 ../src/kwm.c:643
+msgid "Bring Here"
+msgstr "ðÅÒÅÂÒÏÓÉÔØ ÓÀÄÁ"
+
+#: ../src/dockedapp.c:149
 #, c-format
 msgid "could not find icon %s, used in a docked application"
 msgstr ""
-"ÎÅ ÕÄÁÌÏÓØ ÎÁÊÔÉ ÆÁÊÌ ÚÎÁÞËÁ (%s), ÉÓÐÏÌØÚÕÅÍÙÊ × ÐÒÉÛ×ÁÒÔÏ×ÁÎÏÍ ÐÒÉÌÏÖÅÎÉÉ"
+"ÎÅ ÕÄÁÌÏÓØ ÎÁÊÔÉ ÉËÏÎËÕ \"%s\", ÉÓÐÏÌØÚÕÅÍÕÀ × ÐÒÉÛ×ÁÒÔÏ×ÁÎÎÏÍ ÐÒÉÌÏÖÅÎÉÉ"
 
 #
-#: ../src/dockedapp.c:209
+#: ../src/dockedapp.c:229
 #, c-format
 msgid "Could not open specified icon file: %s"
-msgstr "îÅ ÕÄÁÌÏÓØ ÏÔËÒÙÔØ ÕËÁÚÁÎÎÙÊ ÆÁÊÌ ÚÎÁÞËÁ: %s"
+msgstr "îÅ ÕÄÁÌÏÓØ ÏÔËÒÙÔØ ÕËÁÚÁÎÎÙÊ ÆÁÊÌ ÉËÏÎËÉ: %s"
 
-#: ../src/dockedapp.c:211
+#: ../src/dockedapp.c:231
 msgid "Ignore"
 msgstr "ðÒÏÐÕÓÔÉÔØ"
 
-#: ../src/dockedapp.c:298
-msgid "Start when WindowMaker is started"
-msgstr "úÁÐÕÓÔÉÔØ ÐÒÉ ÓÔÁÒÔÅ WindowMaker-Á"
+#: ../src/dockedapp.c:333
+msgid "Start when Window Maker is started"
+msgstr "úÁÐÕÓÔÉÔØ ÐÒÉ ÓÔÁÒÔÅ WindowMaker'Á"
+
+#: ../src/dockedapp.c:340
+msgid "Lock (prevent accidental removal)"
+msgstr "úÁÂÌÏËÉÒÏ×ÁÔØ (ÏÔ ÓÌÕÞÁÊÎÏÇÏ ÕÄÁÌÅÎÉÑ)"
 
 #
-#: ../src/dockedapp.c:305
+#: ../src/dockedapp.c:344
 msgid "Application path and arguments"
 msgstr "ðÕÔØ Ë ÐÒÉÌÏÖÅÎÉÀ É ÁÒÇÕÍÅÎÔÙ"
 
-#: ../src/dockedapp.c:316
+#: ../src/dockedapp.c:357
+msgid "Command for middle-click launch"
+msgstr "ëÏÍÁÎÄÁ ÄÌÑ ÝÅÌÞËÁ ÓÒÅÄÎÅÊ ËÎÏÐËÏÊ ÍÙÛÉ"
+
+#: ../src/dockedapp.c:371
+#, c-format
+msgid "%s will be replaced with current selection"
+msgstr "%s ÂÕÄÅÔ ÚÁÍÅÎÅÎÏ ÔÅËÕÝÅÍ ×ÙÄÅÌÅÎÉÅÍ"
+
+#: ../src/dockedapp.c:376
 msgid "Command for files dropped with DND"
 msgstr "ëÏÍÁÎÄÁ ÄÌÑ ÐÅÒÅÔÁÝÅÎÎÙÈ ÆÁÊÌÏ×"
 
-#: ../src/dockedapp.c:328
+#: ../src/dockedapp.c:390
 #, c-format
 msgid "%d will be replaced with the file name"
 msgstr "%d ÂÕÄÅÔ ÚÁÍÅÎÅÎÏ ÎÁ ÉÍÑ ÆÁÊÌÁ"
 
-#: ../src/dockedapp.c:332
+# awn: orig: ðÏÄÄÅÒÖËÁ ÄÌÑ ÐÅÒÅÔÁÓËÉ×ÁÎÉÑ ÄÁÎÎÙÈ ÎÅ ÂÙÌÁ ×ËÌÀÞÅÎÁ ÐÒÉ ËÏÍÐÉÌÑÃÉÉ<
+#: ../src/dockedapp.c:394
 msgid "DND support was not compiled in"
-msgstr "ðÏÄÄÅÒÖËÁ ÄÌÑ ÐÅÒÅÔÁÓËÉ×ÁÎÉÑ ÄÁÎÎÙÈ ÎÅ ÂÙÌÁ ×ËÌÀÞÅÎÁ ÐÒÉ ËÏÍÐÉÌÑÃÉÉ"
+msgstr ""
+"ðÏÄÄÅÒÖËÁ \"ÐÅÒÅÔÁÝÉÌ-É-ÂÒÏÓÉÌ\" (drag-and-drop) ÎÅ ÂÙÌÁ ×ËÌÀÞÅÎÁ ÐÒÉ "
+"ËÏÍÐÉÌÑÃÉÉ"
 
-#: ../src/dockedapp.c:338
+#: ../src/dockedapp.c:399
 msgid "Icon Image"
-msgstr "éÚÏÂÒÁÖÅÎÉÅ ÚÎÁÞËÁ"
+msgstr "éÚÏÂÒÁÖÅÎÉÅ ÉËÏÎËÉ"
 
-#: ../src/dockedapp.c:350 ../src/winspector.c:1245
+#: ../src/dockedapp.c:413 ../src/winspector.c:1513
 msgid "Browse..."
 msgstr "÷ÙÂÒÁÔØ..."
 
 #
-#: ../src/dockedapp.c:395
+#: ../src/dockedapp.c:466
 msgid "Docked Application Settings"
 msgstr "ðÁÒÁÍÅÔÒÙ ÐÒÉÛ×ÁÒÔÏ×ÁÎÎÏÇÏ ÐÒÉÌÏÖÅÎÉÑ"
 
-#: ../src/framewin.c:489 ../src/framewin.c:565 ../src/menu.c:461
-#: ../src/texture.c:549
+#: ../src/framewin.c:649 ../src/framewin.c:744 ../src/menu.c:456
+#: ../src/texture.c:594
 #, c-format
 msgid "could not render texture: %s"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÐÏÄÇÏÔÏ×ÉÔØ ÔÅËÓÔÕÒÕ: %s"
 
-#: ../src/framewin.c:505 ../src/framewin.c:520 ../src/framewin.c:531
-#: ../src/framewin.c:538 ../src/framewin.c:545 ../src/icon.c:350
-#: ../src/menu.c:490
+#: ../src/framewin.c:672 ../src/framewin.c:683 ../src/framewin.c:699
+#: ../src/framewin.c:710 ../src/framewin.c:717 ../src/framewin.c:724
+#: ../src/icon.c:350 ../src/menu.c:485
 #, c-format
 msgid "error rendering image:%s"
 msgstr "ÏÛÉÂËÁ ÐÒÉ ÐÏÄÇÏÔÏ×ËÅ ÉÚÏÂÒÁÖÅÎÉÑ:%s"
 
-#: ../src/framewin.c:588
+#: ../src/framewin.c:777
 #, c-format
 msgid "error rendering image: %s"
 msgstr "ÏÛÉÂËÁ ÐÒÉ ÐÏÄÇÏÔÏ×ËÅ ÉÚÏÂÒÁÖÅÎÉÑ: %s"
 
-#: ../src/icon.c:229 ../src/wdefaults.c:416
+#: ../src/gnome.c:216 ../src/gnome.c:343 ../src/gnome.c:401
+msgid "out of memory while updating GNOME hints"
+msgstr "ÉÓÞÅÒÐÁÎÁ ÐÁÍÑÔØ ÐÒÉ ÏÂÎÏ×ÌÅÎÉÉ \"ÎÁÍÅËÏ×\" GNOME (GNOME hints)"
+
+#: ../src/icon.c:229 ../src/wdefaults.c:443
 #, c-format
 msgid "error loading image file \"%s\""
 msgstr "ÏÛÉÂËÁ ÚÁÇÒÕÚËÉ ÆÁÊÌÁ ËÁÒÔÉÎËÉ \"%s\""
 
 #
-#: ../src/icon.c:477 ../src/icon.c:486
+#: ../src/icon.c:493 ../src/icon.c:502
 #, c-format
 msgid "could not create directory %s"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÓÏÚÄÁÔØ ËÁÔÁÌÏÇ %s"
 
-#: ../src/icon.c:753
+#: ../src/icon.c:769
 #, c-format
 msgid "could not find default icon \"%s\""
-msgstr "ÎÅ ÕÄÁÌÏÓØ ÎÁÊÔÉ ÚÎÁÞÏË ÐÏ ÕÍÏÌÞÁÎÉÀ \"%s\""
+msgstr "ÎÅ ÕÄÁÌÏÓØ ÎÁÊÔÉ ÉËÏÎËÕ ÐÏ ÕÍÏÌÞÁÎÉÀ \"%s\""
 
-#: ../src/icon.c:759
+#: ../src/icon.c:775
 #, c-format
 msgid "could not load default icon \"%s\":%s"
-msgstr "ÎÅ ÕÄÁÌÏÓØ ÚÁÇÒÕÚÉÔØ ÚÎÁÞÏË ÐÏ ÕÍÏÌÏÞÁÎÉÀ (\"%s\"): %s"
+msgstr "ÎÅ ÕÄÁÌÏÓØ ÚÁÇÒÕÚÉÔØ ÉËÏÎËÕ ÐÏ ÕÍÏÌÞÁÎÉÀ \"%s\": %s"
+
+#.
+#. * Warning: If you make some change that affects the order of the
+#. * entries, you must update the command #defines in the top of
+#. * this file.
+#.
+#: ../src/kwm.c:633 ../src/winmenu.c:441 ../src/winmenu.c:583
+msgid "Maximize"
+msgstr "òÁÓÐÁÈÎÕÔØ"
 
-#: ../src/main.c:198
+#: ../src/kwm.c:634 ../src/winmenu.c:578
+msgid "Unmaximize"
+msgstr "÷ÏÓÓÔÁÎÏ×ÉÔØ"
+
+#: ../src/kwm.c:635 ../src/winmenu.c:449 ../src/winmenu.c:569
+msgid "Miniaturize"
+msgstr "ó×ÅÒÎÕÔØ"
+
+#: ../src/kwm.c:636 ../src/winmenu.c:564
+msgid "Deminiaturize"
+msgstr "òÁÚ×ÅÒÎÕÔØ"
+
+#: ../src/kwm.c:638
+msgid "Not Omnipresent"
+msgstr "ðÒÉÓÕÔÓÔ×ÕÅÔ îå ×ÅÚÄÅ"
+
+#: ../src/kwm.c:639
+msgid "Move"
+msgstr "ðÅÒÅÍÅÓÔÉÔØ"
+
+#: ../src/kwm.c:640
+msgid "Resize"
+msgstr "éÚÍÅÎÉÔØ ÒÁÚÍÅÒ"
+
+#.
+#. entry = wMenuAddCallback(menu, _("Select Shortcut"), NULL, NULL);
+#. wMenuEntrySetCascade(menu, entry, makeMakeShortcutMenu(scr));
+#.
+#: ../src/kwm.c:641 ../src/rootmenu.c:248 ../src/winmenu.c:513
+msgid "Close"
+msgstr "úÁËÒÙÔØ"
+
+#: ../src/kwm.c:642 ../src/winmenu.c:497
+msgid "Move To"
+msgstr "ðÅÒÅÍÅÓÔÉÔØ ÎÁ ÒÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï"
+
+#: ../src/kwm.c:1096
+msgid "%a(Run Command,Type the command to run:)"
+msgstr "%a(éÓÐÏÌÎÉÔØ,÷×ÅÄÉÔÅ ËÏÍÁÎÄÕ ÄÌÑ ÉÓÐÏÌÎÅÎÉÑ:)"
+
+#: ../src/main.c:222
 msgid "failed to restart Window Maker."
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÐÅÒÅÚÁÐÕÓÔÉÔØ Window Maker."
 
-#: ../src/main.c:201
+#: ../src/main.c:225
 #, c-format
 msgid "could not exec %s"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ×ÙÐÏÌÎÉÔØ %s"
 
-#: ../src/main.c:250
+#: ../src/main.c:271
+msgid "Could not execute command: "
+msgstr "îÅ ÕÄÁÌÏÓØ ÉÓÐÏÌÎÉÔØ ËÏÍÁÎÄÕ: "
+
+#: ../src/main.c:428
 #, c-format
 msgid "%s aborted.\n"
 msgstr "%s ÐÒÅÒ×ÁÎÏ.\n"
 
-#: ../src/main.c:261
+#: ../src/main.c:439
 #, c-format
 msgid "Usage: %s [options]\n"
 msgstr "úÁÐÕÓË: %s [ÐÁÒÁÍÅÔÒÙ]\n"
 
-#: ../src/main.c:262
+#: ../src/main.c:440
 msgid "The Window Maker window manager for the X window system"
 msgstr "äÉÓÐÅÔÞÅÒ ÏËÏÎ Window Maker ÄÌÑ ÓÉÓÔÅÍÙ X Window"
 
-#: ../src/main.c:264
+#: ../src/main.c:442
 msgid " -display host:dpy\tdisplay to use"
 msgstr " -display ÈÏÓÔ:ÄÉÓÐÌÅÊ\tÉÓÐÏÌØÚÏ×ÁÔØ ÄÁÎÎÙÊ ÄÉÓÐÌÅÊ"
 
-#: ../src/main.c:266
+#: ../src/main.c:444
 msgid " --no-cpp \t\tdisable preprocessing of configuration files"
 msgstr " --no-cpp \t\tÚÁÐÒÅÔÉÔØ ÐÒÅÄÏÂÒÁÂÏÔËÕ ÆÁÊÌÏ× ÎÁÓÔÒÏÊËÉ"
 
-#: ../src/main.c:268
+#: ../src/main.c:446
 msgid " --no-dock\t\tdo not open the application Dock"
-msgstr " --no-dock\t\tÎÅ ÏÔËÒÙ×ÁÔØ ðÒÉÞÁÌ ÐÒÉÌÏÖÅÎÉÊ"
+msgstr " --no-dock\t\tÎÅ ÏÔËÒÙ×ÁÔØ äÏË ÐÒÉÌÏÖÅÎÉÊ"
 
-#: ../src/main.c:269
+#: ../src/main.c:447
 msgid " --no-clip\t\tdo not open the workspace Clip"
-msgstr " --no-clip\t\tÎÅ ÏÔËÒÙ×ÁÔØ ðÉÒÓ ÄÌÑ ÐÒÉÌÏÖÅÎÉÊ"
+msgstr " --no-clip\t\tÎÅ ÏÔËÒÙ×ÁÔØ óËÒÅÐËÕ ÄÌÑ ÐÒÉÌÏÖÅÎÉÊ"
 
-#.
-#. puts(_(" --locale locale		locale to use"));
-#.
-#: ../src/main.c:273
+#
+#: ../src/main.c:448
+msgid " --no-autolaunch\tdo not autolaunch applications"
+msgstr " --no-autolaunch\tÚÁÐÒÅÔÉÔØ Á×ÔÏÍÁÔÉÞÅÓËÉÊ ÚÁÐÕÓË ÐÒÉÌÏÖÅÎÉÊ"
+
+#: ../src/main.c:449
+msgid " --dont-restore\t\tdo not restore saved session"
+msgstr " --dont-restore\t\tÎÅ ×ÏÓÓÔÁÎÁ×ÌÉ×ÁÔØ ÓÏÈÒÁÎÅÎÎÙÊ ÓÅÁÎÓ"
+
+#: ../src/main.c:451
+msgid " --locale locale\tlocale to use"
+msgstr ""
+
+#: ../src/main.c:453
+msgid ""
+" --create-stdcmap\tcreate the standard colormap hint in PseudoColor visuals"
+msgstr ""
+" --create-stdcmap\tÓÏÚÄÁÔØ ÓÔÁÎÄÁÒÔÎÕÀ Ã×ÅÔÏ×ÕÀ ÐÁÌÉÔÒÕ × ËÌÁÓÓÅ\n"
+"\t\t\tÏÔÏÂÒÁÖÅÎÉÑ `PseudoColor'"
+
+#: ../src/main.c:454
 msgid " --visual-id visualid\tvisual id of visual to use"
 msgstr ""
 " --visual-id visualid\tÉÓÐÏÌØÚÏ×ÁÔØ ÕËÁÚÁÎÎÙÊ Ã×ÅÔÏ×ÏÊ ËÌÁÓÓ ÏÔÏÂÒÁÖÅÎÉÑ"
 
-#: ../src/main.c:274
+#: ../src/main.c:455
 msgid " --static\t\tdo not update or save configurations"
-msgstr " --static\t\tÎÅ ÏÂÎÏ×ÌÑÔØ ÉÌÉ ÓÏÈÒÁÎÑÔØ ËÏÎÆÉÇÕÒÁÃÉÀ"
+msgstr " --static\t\tÎÅ ÏÂÎÏ×ÌÑÔØ É ÎÅ ÓÏÈÒÁÎÑÔØ ËÏÎÆÉÇÕÒÁÃÉÀ"
 
-#: ../src/main.c:276
+#: ../src/main.c:456
+msgid " --no-polling\t\tdo not periodically check for configuration updates"
+msgstr ""
+"--no-polling\t\tÚÁÐÒÅÔÉÔØ ÐÅÒÉÏÄÉÞÅÓËÕÀ ÐÒÏ×ÅÒËÕ ËÏÎÆÉÇÕÒÁÃÉÉ\n"
+"                        ÎÁ ÉÚÍÅÎÅÎÉÑ"
+
+#: ../src/main.c:458
 msgid " --synchronous\t\tturn on synchronous display mode"
 msgstr " --synchronous\t\t×ËÌÀÞÉÔØ ÓÉÎÈÒÏÎÎÙÊ ÒÅÖÉÍ ×Ù×ÏÄÁ"
 
-#: ../src/main.c:278
+#: ../src/main.c:460
 msgid " --version\t\tprint version and exit"
-msgstr " --version\t\t÷Ù×ÏÄ ÎÏÍÅÒÁ ×ÅÒÓÉÉ É ×ÙÈÏÄ"
+msgstr " --version\t\t×Ù×ÅÓÔÉ ÎÏÍÅÒ ×ÅÒÓÉÉ É ×ÙÊÔÉ"
 
-#: ../src/main.c:279
+#: ../src/main.c:461
 msgid " --help\t\t\tshow this message"
 msgstr " --help\t\t\t×Ù×ÅÓÔÉ ÜÔÏÔ ÔÅËÓÔ"
 
-#: ../src/main.c:291
+#: ../src/main.c:474
 #, c-format
 msgid ""
 "could not find user GNUstep directory (%s).\n"
 "Make sure you have installed Window Maker correctly and run wmaker.inst"
 msgstr ""
-"ÎÅ ÕÄÁÌÏÓØ ÎÁÊÔÉ ËÁÔÁÌÏÇ GNUstep ÐÏÌØÚÏ×ÁÔÅÌÑ (%s).\n"
+"ÎÅ ÕÄÁÌÏÓØ ÎÁÊÔÉ ÐÏÌØÚÏ×ÁÔÅÌØÓËÉÊ ËÁÔÁÌÏÇ GNUstep (%s).\n"
 "õÂÅÄÉÔÅÓØ, ÞÔÏ WindowMaker ÕÓÔÁÎÏ×ÌÅÎ ×ÅÒÎÏ, É ÚÁÐÕÓÔÉÔÅ wmaker.inst"
 
-#: ../src/main.c:309 ../src/main.c:314
+#
+#: ../src/main.c:479
+#, c-format
+msgid "could not find user GNUstep directory (%s)."
+msgstr "ÎÅ ÕÄÁÌÏÓØ ÎÁÊÔÉ ÐÏÌØÚÏ×ÁÔÅÌØÓËÉÊ GNUstep ËÁÔÁÌÏÇ (%s)."
+
+#: ../src/main.c:482
+msgid ""
+"There was an error while creating GNUstep directory, please make sure you "
+"have installed Window Maker correctly and run wmaker.inst"
+msgstr ""
+"÷Ï ×ÒÅÍÑ ÓÏÚÄÁÎÉÑ ÐÏÌØÚÏ×ÁÔÅÌØÓËÏÇÏ ËÁÔÁÌÏÇÁ GNUstep ÐÒÏÉÚÏÛÌÁ ÏÛÉÂËÁ,\n"
+"ÐÏÖÁÌÕÊÓÔÁ, ÕÂÅÄÉÔÅÓØ, ÞÔÏ Window Maker ÂÙÌ ÕÓÔÁÎÏ×ÌÅÎ ÐÒÁ×ÉÌØÎÏ\n"
+"É ÚÁÐÕÓÔÉÔÅ wmaker.inst"
+
+#: ../src/main.c:485
+#, c-format
+msgid "%s directory created with default configuration."
+msgstr "ËÁÔÁÌÏÇ %s ÓÏÚÄÁÎ Ó ËÏÎÆÉÇÕÒÁÃÉÅÊ ÐÏ ÕÍÏÌÞÁÎÉÀ."
+
+#: ../src/main.c:505 ../src/main.c:510
 #, c-format
 msgid "%s:could not execute initialization script"
 msgstr "%s:ÎÅ ÕÄÁÌÏÓØ ×ÙÐÏÌÎÉÔØ ÓÃÅÎÁÒÉÊ ÉÎÉÃÉÁÌÉÚÁÃÉÉ"
 
-#: ../src/main.c:331 ../src/main.c:336
+#: ../src/main.c:530 ../src/main.c:535
 #, c-format
 msgid "%s:could not execute exit script"
 msgstr "%s:ÎÅ ÕÄÁÌÏÓØ ×ÙÐÏÌÎÉÔØ ÓÃÅÎÁÒÉÊ ÚÁ×ÅÒÛÅÎÉÑ ÒÁÂÏÔÙ"
 
-#: ../src/main.c:405 ../src/main.c:412 ../src/main.c:420 ../src/main.c:436
+#: ../src/main.c:663 ../src/main.c:671 ../src/main.c:679 ../src/main.c:699
 #, c-format
 msgid "too few arguments for %s"
 msgstr "ÓÌÉÛËÏÍ ÍÁÌÏ ÁÒÇÕÍÅÎÔÏ× ÄÌÑ %s"
 
-#: ../src/main.c:424
+#: ../src/main.c:683
 #, c-format
 msgid "bad value for visualid: \"%s\""
 msgstr "ÏÛÉÂÏÞÎÏÅ ÚÎÁÞÅÎÉÅ ÄÌÑ visualid: \"%s\""
 
 #
-#: ../src/main.c:444
+#: ../src/main.c:707
 #, c-format
 msgid "%s: invalid argument '%s'\n"
 msgstr "%s: ÎÅ×ÅÒÎÙÊ ÁÒÇÕÍÅÎÔ \"%s\"\n"
 
-#: ../src/main.c:445
+#: ../src/main.c:708
 #, c-format
 msgid "Try '%s --help' for more information\n"
 msgstr "ðÏÐÒÏÂÕÊÔÅ '%s --help' ÄÌÑ ÐÏÌÕÞÅÎÉÑ ÄÏÐÏÌÎÉÔÅÌØÎÏÊ ÉÎÆÏÒÍÁÃÉÉ\n"
 
-#: ../src/main.c:488
+#: ../src/main.c:739
 msgid "X server does not support locale"
 msgstr "X ÓÅÒ×ÅÒ ÎÅ ÐÏÄÄÅÒÖÉ×ÁÅÔ ÌÏËÁÌÉÚÁÃÉÀ"
 
-#: ../src/main.c:491
+#: ../src/main.c:743
 msgid "cannot set locale modifiers"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÕÓÔÁÎÏ×ÉÔØ ÐÁÒÁÍÅÔÒÙ ÌÏËÁÌÉÚÁÃÉÉ"
 
-#: ../src/main.c:508
+#: ../src/main.c:759
 #, c-format
 msgid "could not open display \"%s\""
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÏÔËÒÙÔØ ÄÉÓÐÌÅÊ \"%s\""
 
-#: ../src/menu.c:297
-msgid "wrealloc() failed while trying to add menu item"
-msgstr "ÐÒÉ ÐÏÐÙÔËÅ ÄÏÂÁ×ÉÔØ ÜÌÅÍÅÎÔ ÍÅÎÀ ×ÏÚÎÉËÌÁ ÏÛÉÂËÁ × ÆÕÎËÃÉÉ wrealloc()"
+#
+#: ../src/menu.c:1264
+msgid "could not grab keyboard"
+msgstr "ÎÅ ÕÄÁÌÏÓØ ÚÁÈ×ÁÔÉÔØ ËÌÁ×ÉÁÔÕÒÕ"
+
+#: ../src/menu.c:2578
+#, c-format
+msgid "bad value in menus state info:%s"
+msgstr "ÎÅÄÏÐÕÓÔÉÍÏÅ ÚÎÁÞÅÎÉÅ × ÉÎÆÏÒÍÁÃÉÉ Ï ÓÏÓÔÏÑÎÉÉ ÍÅÎÀ: %s"
 
 #: ../src/misc.c:71
 #, c-format
@@ -683,72 +1048,68 @@
 msgid "could not get password entry for UID %i"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÐÏÌÕÞÉÔØ ÉÎÆÏÒÍÁÃÉÀ Ï ÐÏÌØÚÏ×ÁÔÅÌÅ ÄÌÑ UID %i"
 
-#: ../src/misc.c:125
+#: ../src/misc.c:126
 #, c-format
 msgid "your machine is misconfigured. HOSTNAME is set to %s"
 msgstr "÷ÁÛÁ ÓÉÓÔÅÍÁ ÎÁÓÔÒÏÅÎÁ ÎÅ×ÅÒÎÏ. ðÅÒÅÍÅÎÎÁÑ HOSTNAME ÕÓÔÁÎÏ×ÌÅÎÁ × %s"
 
-#: ../src/misc.c:131
+#: ../src/misc.c:132
 #, c-format
 msgid "your machine is misconfigured. HOST is set to %s"
 msgstr "÷ÁÛÁ ÓÉÓÔÅÍÁ ÎÁÓÔÒÏÅÎÁ ÎÅ×ÅÒÎÏ. ðÅÒÅÍÅÎÎÁÑ HOST ÕÓÔÁÎÏ×ÌÅÎÁ × %s"
 
-#: ../src/misc.c:772
-msgid "selection timed-out"
-msgstr "×ÙÄÅÌÅÎÉÅ ÕÓÔÁÒÅÌÏ"
-
-#: ../src/misc.c:788
+#: ../src/misc.c:630
 msgid "Program Arguments"
 msgstr "áÒÇÕÍÅÎÔÙ ðÒÏÇÒÁÍÍÙ"
 
-#: ../src/misc.c:789
+#: ../src/misc.c:631
 msgid "Enter command arguments:"
 msgstr "÷×ÅÄÉÔÅ ÁÒÇÕÍÅÎÔÙ ËÏÍÁÎÄÙ:"
 
-#: ../src/misc.c:887
+#: ../src/misc.c:724
 msgid "unable to get dropped data from DND drop"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÐÏÌÕÞÉÔØ ÐÅÒÅÔÁÝÅÎÎÙÅ ÄÁÎÎÙÅ"
 
-#: ../src/misc.c:895
+#: ../src/misc.c:732
 msgid "error getting dropped data from DND drop"
 msgstr "ÏÛÉÂËÁ ÐÒÉ ÐÏÌÕÞÅÎÉÉ ÄÁÎÎÙÈ ÏÔ DND drop"
 
-#: ../src/misc.c:901
+#: ../src/misc.c:738
 msgid "out of memory while getting data from DND drop"
 msgstr "ÉÓÞÅÒÐÁÎÁ ÐÁÍÑÔØ ÐÒÉ ÐÏÌÕÞÅÎÉÉ ÄÁÎÎÙÈ ÏÔ DND drop"
 
-#: ../src/misc.c:946 ../src/misc.c:1081
+#: ../src/misc.c:783 ../src/misc.c:923
 #, c-format
 msgid "out of memory during expansion of \"%s\""
 msgstr "ÉÓÞÅÒÐÁÎÁ ÐÁÍÑÔØ ×Ï ×ÒÅÍÑ ÒÁÓÛÉÒÅÎÉÑ \"%s\""
 
-#: ../src/misc.c:1000
+#: ../src/misc.c:837
 msgid "out of memory during expansion of \"%w\""
 msgstr "ÉÓÞÅÒÐÁÎÁ ÐÁÍÑÔØ ×Ï ×ÒÅÍÑ ÒÁÓÛÉÒÅÎÉÑ \"%w\""
 
-#: ../src/misc.c:1018
+#: ../src/misc.c:855
 msgid "out of memory during expansion of \"%W\""
-msgstr "ÉÓÞÅÒÐÁÎÁ ÐÁÍÑÔØ ×Ï ×ÒÅÍÑ ÒÁÓÛÉÒÅÎÉÑ \"%s\""
+msgstr "ÉÓÞÅÒÐÁÎÁ ÐÁÍÑÔØ ×Ï ×ÒÅÍÑ ÒÁÓÛÉÒÅÎÉÑ \"%W\""
 
-#: ../src/misc.c:1034
+#: ../src/misc.c:871
 msgid "out of memory during expansion of \"%a\""
 msgstr "ÉÓÞÅÒÐÁÎÁ ÐÁÍÑÔØ ×Ï ×ÒÅÍÑ ÒÁÓÛÉÒÅÎÉÑ \"%a\""
 
-#: ../src/misc.c:1060
+#: ../src/misc.c:902
 #, c-format
 msgid "out of memory during expansion of \"%d\""
 msgstr "ÉÓÞÅÒÐÁÎÁ ÐÁÍÑÔØ ×Ï ×ÒÅÍÑ ÒÁÓÛÉÒÅÎÉÑ \"%d\""
 
-#: ../src/misc.c:1074
+#: ../src/misc.c:916
 msgid "selection not available"
 msgstr "ÎÅÔ ×ÙÄÅÌÅÎÉÑ"
 
-#: ../src/misc.c:1146 ../src/misc.c:1152
+#: ../src/misc.c:972 ../src/misc.c:978
 #, c-format
 msgid "bad window name value in %s state info"
-msgstr "ÎÅ×ÅÒÎÏÅ ÚÎÁÞÅÎÉÅ ÉÍÅÎÉ ÏËÎÁ × ÉÎÆÏÒÍÁÃÉÉ Ï ÓÏÓÔÏÑÎÉÉ ðÒÉÞÁÌÁ ÄÌÑ %s"
+msgstr "ÎÅ×ÅÒÎÏÅ ÚÎÁÞÅÎÉÅ ÉÍÅÎÉ ÏËÎÁ × ÉÎÆÏÒÍÁÃÉÉ Ï ÓÏÓÔÏÑÎÉÉ ÄÌÑ: %s"
 
-#: ../src/misc.c:1407
+#: ../src/misc.c:1235
 msgid "could not send message to background image helper"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÐÏÓÌÁÔØ ÓÏÏÂÝÅÎÉÅ ÐÒÉÌÏÖÅÎÉÀ ÆÏÎÏ×ÏÇÏ ÉÚÏÂÒÁÖÅÎÉÑ"
 
@@ -757,114 +1118,29 @@
 msgid "could not load mask bitmap file \"%s\". Won't use mask"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÚÁÇÒÕÚÉÔØ ÆÁÊÌ ÍÁÓËÉ \"%s\".  íÁÓËÁ ÎÅ ÂÕÄÅÔ ÉÓÐÏÌØÚÏ×ÁÎÁ."
 
-#: ../src/proplist.c:180
-msgid "unterminated string"
-msgstr "ÎÅÚÁ×ÅÒÛÅÎÎÁÑ ÓÔÒÏËÁ"
-
-#: ../src/proplist.c:247
-msgid "unterminated array"
-msgstr "ÎÅÚÁ×ÅÒÛÅÎÎÙÊ ÍÁÓÓÉ×"
-
-#: ../src/proplist.c:256
-msgid "missing , in array or unterminated array"
-msgstr "× ÍÁÓÓÉ×Å ÐÒÏÐÕÝÅÎÁ ',' ÉÌÉ ÍÁÓÓÉ× ÎÅÚÁ×ÅÒÛÅÎ"
-
-#: ../src/proplist.c:267
-msgid "could not get array element"
-msgstr "ÎÅ ÕÄÁÌÏÓØ ÐÏÌÕÞÉÔØ ÜÌÅÍÅÎÔ ÍÁÓÓÉ×Á"
-
-#: ../src/proplist.c:297
-msgid "unterminated dictionary"
-msgstr "ÎÅÚÁ×ÅÒÛÅÎÎÙÊ ÓÌÏ×ÁÒØ"
-
-#: ../src/proplist.c:315
-msgid "missing dictionary key"
-msgstr "× ÜÌÅÍÅÎÔÅ ÓÌÏ×ÁÒÑ ÐÒÏÐÕÝÅÎ ËÌÀÞ"
-
-#: ../src/proplist.c:317
-msgid "missing dictionary entry key or unterminated dictionary"
-msgstr "× ÜÌÅÍÅÎÔÅ ÓÌÏ×ÁÒÑ ÐÒÏÐÕÝÅÎ ËÌÀÞ ÉÌÉ ÓÌÏ×ÁÒØ ÎÅÚÁ×ÅÒÛÅÎ"
-
-#: ../src/proplist.c:323
-msgid "error parsing dictionary key"
-msgstr "ÏÛÉÂËÁ ÒÁÚÂÏÒÁ ËÌÀÞÁ ÜÌÅÍÅÎÔÁ ÓÌÏ×ÁÒÑ"
-
-#: ../src/proplist.c:332
-msgid "missing = in dictionary entry"
-msgstr "× ÜÌÅÍÅÎÔÅ ÓÌÏ×ÁÒÑ ÐÒÏÐÕÝÅÎ '='"
-
-#: ../src/proplist.c:351
-msgid "missing ; in dictionary entry"
-msgstr "× ÜÌÅÍÅÎÔÅ ÓÌÏ×ÁÒÑ ÐÒÏÐÕÝÅÎÁ ';'"
-
-#: ../src/proplist.c:432
-msgid ""
-"was expecting a string, dictionary, data or array. If it's a string, try "
-"enclosing it with \"."
-msgstr "ÏÖÉÄÁÌÁÓØ ÓÔÒÏËÁ, ÓÌÏ×ÁÒØ, ÄÁÎÎÙÅ ÉÌÉ ÍÁÓÓÉ×. åÓÌÉ ÜÔÏ ÓÔÒÏËÁ, ÐÏÐÙÔÁÊÔÅÓØ ÚÁËÌÀÞÉÔØ ÅÅ × \"."
-
-#: ../src/proplist.c:434
-msgid "Comments are not allowed inside WindowMaker owned domain files."
-msgstr ""
-"÷ÎÕÔÒÉ ÆÁÊÌÏ× ÄÏÍÅÎÏ×, ÐÒÉÎÁÄÌÅÖÁÝÉÈ WindowMaker, ËÏÍÍÅÎÔÁÒÉÉ ÎÅ ÄÏÐÕÓËÁÀÔÓÑ."
-
-#
-#: ../src/proplist.c:453
-#, c-format
-msgid "could not open domain file %s"
-msgstr "ÎÅ ÕÄÁÌÏÓØ ÏÔËÒÙÔØ ÆÁÊÌ ÄÏÍÅÎÁ %s"
-
-#: ../src/proplist.c:466
-msgid "extra data after end of file"
-msgstr "ËÁËÉÅ-ÔÏ ÄÁÎÎÙÅ ÐÏÓÌÅ ËÏÎÃÁ ÆÁÊÌÁ"
-
-#: ../src/resources.c:71
-#, c-format
-msgid "The following character sets are missing in %s:"
-msgstr "óÌÅÄÕÀÝÉÅ ÎÁÂÏÒÙ ÓÉÍ×ÏÌÏ× ÏÔÓÕÔÓÔ×ÕÀÔ × %s:"
-
-#: ../src/resources.c:76
-#, c-format
-msgid "The string \"%s\" will be used in place"
-msgstr "óÔÒÏËÁ \"%s\" ÂÕÄÅÔ ÉÓÐÏÌØÚÏ×ÁÎÁ ×ÍÅÓÔÏ"
-
-#: ../src/resources.c:78
-msgid "of any characters from those sets."
-msgstr "ÌÀÂÙÈ ÓÉÍ×ÏÌÏ× ÉÚ ÜÔÉÈ ÎÁÂÏÒÏ×."
-
-#: ../src/resources.c:81
-#, c-format
-msgid "could not create font set %s. Trying fixed"
-msgstr "ÎÅ ÕÄÁÌÏÓØ ÓÏÚÄÁÔØ ÛÒÉÆÔ %s.  éÓÐÏÌØÚÕÅÔÓÑ fixed"
-
-#: ../src/resources.c:98
-#, c-format
-msgid "could not load font %s. Trying fixed"
-msgstr "ÎÅ ÕÄÁÌÏÓØ ÚÁÇÒÕÚÉÔØ ÛÒÉÆÔ %s.  éÓÐÏÌØÚÕÅÔÓÑ fixed"
-
-#: ../src/resources.c:136
+#: ../src/resources.c:44
 #, c-format
 msgid "could not parse color \"%s\""
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÏÐÒÅÄÅÌÉÔØ Ã×ÅÔ \"%s\""
 
-#: ../src/resources.c:140
+#: ../src/resources.c:48
 #, c-format
 msgid "could not allocate color \"%s\""
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÚÁÒÅÚÅÒ×ÉÒÏ×ÁÔØ Ã×ÅÔ \"%s\""
 
-#: ../src/rootmenu.c:187 ../src/rootmenu.c:189
+#: ../src/rootmenu.c:196 ../src/rootmenu.c:198
 msgid "Exit"
 msgstr "÷ÙÈÏÄ"
 
-#: ../src/rootmenu.c:188
+#: ../src/rootmenu.c:197
 msgid "Exit window manager?"
 msgstr "÷ÙÊÔÉ ÉÚ ÄÉÓÐÅÔÞÅÒÁ ÏËÏÎ?"
 
-#: ../src/rootmenu.c:224
+#: ../src/rootmenu.c:245
 msgid "Close X session"
 msgstr "úÁ×ÅÒÛÉÔØ ÓÅÁÎÓ ÒÁÂÏÔÙ"
 
-#: ../src/rootmenu.c:225
+#: ../src/rootmenu.c:246
 msgid ""
 "Close Window System session?\n"
 "Kill might close applications with unsaved data."
@@ -872,19 +1148,11 @@
 "úÁËÒÙÔØ ÓÅÁÎÓ ïËÏÎÎÏÊ óÉÓÔÅÍÙ?\n"
 "üÔÏ ÍÏÖÅÔ Á×ÁÒÉÊÎÏ ÚÁ×ÅÒÛÉÔØ ÐÒÉÌÏÖÅÎÉÑ Ó ÎÅÓÏÈÒÁÎÅÎÎÏÊ ÉÎÆÏÒÍÁÃÉÅÊ."
 
-#.
-#. entry = wMenuAddCallback(menu, _("Select Shortcut"), NULL, NULL);
-#. wMenuEntrySetCascade(menu, entry, makeMakeShortcutMenu(scr));
-#.
-#: ../src/rootmenu.c:227 ../src/winmenu.c:486
-msgid "Close"
-msgstr "úÁËÒÙÔØ"
-
-#: ../src/rootmenu.c:238
+#: ../src/rootmenu.c:261
 msgid "Kill X session"
 msgstr "á×ÁÒÉÊÎÏÅ ÚÁ×ÅÒÛÅÎÉÅ ÓÅÁÎÓÁ ÒÁÂÏÔÙ"
 
-#: ../src/rootmenu.c:239
+#: ../src/rootmenu.c:262
 msgid ""
 "Kill Window System session?\n"
 "(all applications will be closed)"
@@ -892,200 +1160,200 @@
 "úÁËÒÙÔØ ÓÅÁÎÓ ïËÏÎÎÏÊ óÉÓÔÅÍÙ?\n"
 "(×ÓÅ ÐÒÉÌÏÖÅÎÉÑ ÂÕÄÕÔ ÚÁ×ÅÒÛÅÎÙ)"
 
-#: ../src/rootmenu.c:506
+#: ../src/rootmenu.c:539
 #, c-format
 msgid "%s:invalid kbd shortcut specification \"%s\" for entry %s"
 msgstr "%s:ÎÅ×ÅÒÎÏÅ ÕËÁÚÁÎÉÅ ËÏÍÂÉÎÁÃÉÉ ËÌÁ×ÉÛ \"%s\" ÄÌÑ ÚÁÐÉÓÉ %s"
 
-#: ../src/rootmenu.c:514
+#: ../src/rootmenu.c:547
 #, c-format
 msgid "%s:invalid key in shortcut \"%s\" for entry %s"
 msgstr "%s:ÎÅ×ÅÒÎÁÑ ËÌÁ×ÉÛÁ × ËÏÍÂÉÎÁÃÉÉ \"%s\" ÄÌÑ ÚÁÐÉÓÉ %s"
 
-#: ../src/rootmenu.c:567
+#: ../src/rootmenu.c:600
 #, c-format
 msgid "%s: unmatched '\"' in menu file"
-msgstr "%s -- ÎÅÐÁÒÎÁÑ '\"' × ÆÁÊÌÅ ÍÅÎÀ"
+msgstr "%s: ÎÅÐÁÒÎÁÑ '\"' × ÆÁÊÌÅ ÍÅÎÀ"
 
-#: ../src/rootmenu.c:617
+#: ../src/rootmenu.c:650
 #, c-format
 msgid "%s: missing command"
 msgstr "%s: ÏÔÓÕÔÓÔ×ÕÀÝÁÑ ËÏÍÁÎÄÁ"
 
-#: ../src/rootmenu.c:650
+#: ../src/rootmenu.c:682
 #, c-format
 msgid "invalid OPEN_MENU specification: %s"
 msgstr "ÎÅ×ÅÒÎÁÑ ÓÐÅÃÉÆÉËÁÃÉÑ OPEN_MENU: %s"
 
-#: ../src/rootmenu.c:698
+#: ../src/rootmenu.c:733
 #, c-format
 msgid "%s:could not stat menu"
 msgstr "%s:ÎÅ ÕÄÁÌÏÓØ ÐÏÌÕÞÉÔØ ÍÅÎÀ"
 
-#: ../src/rootmenu.c:706
+#: ../src/rootmenu.c:741
 #, c-format
 msgid "%s:could not stat menu:%s"
 msgstr "%s:ÎÅ ÕÄÁÌÏÓØ ÐÏÌÕÞÉÔØ ÉÎÆÏÒÍÁÃÉÀ Ï ÍÅÎÀ:%s"
 
-#: ../src/rootmenu.c:724
+#: ../src/rootmenu.c:759
 #, c-format
 msgid "too many parameters in OPEN_MENU: %s"
 msgstr "ÓÌÉÛËÏÍ ÍÎÏÇÏ ÐÁÒÁÍÅÔÒÏ× ÄÌÑ OPEN_MENU: %s"
 
-#: ../src/rootmenu.c:760
+#: ../src/rootmenu.c:803
 msgid ""
 "There are more than one WORKSPACE_MENU commands in the applications menu. "
 "Only one is allowed."
 msgstr ""
-"÷ ÇÌÁ×ÎÏÍ ÍÅÎÀ ÐÒÉÓÕÔÓÔ×ÕÅÔ ÂÏÌØÛÅ ÏÄÎÏÊ ËÏÍÁÎÄÙ WORKSPACE_MENU. äÏÐÕÓÔÉÍÁ "
-"ÔÏÌØËÏ ÏÄÎÁ"
+"÷ ÍÅÎÀ ÐÒÉÌÏÖÅÎÉÊ ÐÒÉÓÕÔÓÔ×ÕÅÔ ÂÏÌØÛÅ ÏÄÎÏÊ ËÏÍÁÎÄÙ WORKSPACE_MENU. "
+"äÏÐÕÓÔÉÍÁ ÔÏÌØËÏ ÏÄÎÁ."
 
-#: ../src/rootmenu.c:789 ../src/rootmenu.c:807
+#: ../src/rootmenu.c:837
+msgid ""
+"There are more than one WINDOWS_MENU commands in the applications menu. Only "
+"one is allowed."
+msgstr ""
+"÷ ÍÅÎÀ ÐÒÉÌÏÖÅÎÉÊ ÐÒÉÓÕÔÓÔ×ÕÅÔ ÂÏÌØÛÅ ÏÄÎÏÊ ËÏÍÁÎÄÙ WINDOWS_MENU. äÏÐÕÓÔÉÍÁ "
+"ÔÏÌØËÏ ÏÄÎÁ."
+
+#: ../src/rootmenu.c:842
+msgid "Window List"
+msgstr "óÐÉÓÏË ÏËÏÎ"
+
+#: ../src/rootmenu.c:871 ../src/rootmenu.c:889 ../src/rootmenu.c:899
 #, c-format
 msgid "%s:missing parameter for menu command \"%s\""
 msgstr "%s:ÎÅÄÏÓÔÁÀÝÉÊ ÐÁÒÁÍÅÔÒ ÄÌÑ ËÏÍÁÎÄÙ ÍÅÎÀ \"%s\""
 
-#: ../src/rootmenu.c:870
+#: ../src/rootmenu.c:967
 #, c-format
 msgid "%s:unknown command \"%s\" in menu config."
 msgstr "%s:ÎÅÉÚ×ÅÓÔÎÁÑ ËÏÍÁÎÄÁ \"%s\" × ÎÁÓÔÒÏÊËÅ ÍÅÎÀ"
 
-#: ../src/rootmenu.c:878
+#: ../src/rootmenu.c:975
 #, c-format
 msgid "%s:can't add shortcut for entry \"%s\""
 msgstr "%s:ÎÅ ÕÄÁÌÏÓØ ÄÏÂÁ×ÉÔØ ËÏÍÂÉÎÁÃÉÀ ËÌÁ×ÉÛ ÄÌÑ ËÏÍÁÎÄÙ \"%s\""
 
-#: ../src/rootmenu.c:1015
+#: ../src/rootmenu.c:1112
 #, c-format
 msgid "%s:maximal line size exceeded in menu config: %s"
 msgstr "%s:ÐÒÅ×ÙÛÅÎ ÍÁËÓÉÍÁÌØÎÙÊ ÒÁÚÍÅÒ ÓÔÒÏËÉ × ÎÁÓÔÒÏÊËÅ ÍÅÎÀ: %s"
 
-#: ../src/rootmenu.c:1037 ../src/rootmenu.c:1129 ../src/rootmenu.c:1230
+#: ../src/rootmenu.c:1134 ../src/rootmenu.c:1227 ../src/rootmenu.c:1330
 #, c-format
 msgid "%s:missing command in menu config: %s"
 msgstr "%s:ÏÔÓÕÔÓÔ×ÕÅÔ ËÏÍÁÎÄÁ × ÎÁÓÔÒÏÊËÅ ÍÅÎÀ: %s"
 
-#: ../src/rootmenu.c:1067
+#: ../src/rootmenu.c:1164
 #, c-format
 msgid "%s:syntax error in menu file:END declaration missing"
 msgstr "%s:ÓÉÎÔÁËÓÉÞÅÓËÁÑ ÏÛÉÂËÁ × ÆÁÊÌÅ ÍÅÎÀ: ÏÔÓÕÔÓÔ×ÕÅÔ END"
 
-#: ../src/rootmenu.c:1096 ../src/rootmenu.c:1195
+#: ../src/rootmenu.c:1193 ../src/rootmenu.c:1294
 msgid "could not make arguments for menu file preprocessor"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÐÏÄÓÔÁ×ÉÔØ ÁÒÇÕÍÅÎÔÙ ÄÌÑ ÐÒÅÐÒÏÃÅÓÓÏÒÁ ÆÁÊÌÁ ÍÅÎÀ"
 
-#: ../src/rootmenu.c:1102 ../src/rootmenu.c:1202
+#: ../src/rootmenu.c:1200 ../src/rootmenu.c:1302
 #, c-format
 msgid "%s:could not open/preprocess menu file"
 msgstr "%s:ÎÅ ÕÄÁÌÏÓØ ÏÔËÒÙÔØ/ÐÒÅÄÏÂÒÁÂÏÔÁÔØ ÆÁÊÌ ÍÅÎÀ"
 
-#: ../src/rootmenu.c:1114 ../src/rootmenu.c:1215
+#: ../src/rootmenu.c:1212 ../src/rootmenu.c:1315
 #, c-format
 msgid "%s:could not open menu file"
 msgstr "%s:ÎÅ ÕÄÁÌÏÓØ ÏÔËÒÙÔØ ÆÁÊÌ ÍÅÎÀ"
 
-#: ../src/rootmenu.c:1141
+#: ../src/rootmenu.c:1239
 #, c-format
 msgid "%s:invalid menu file. MENU command is missing"
-msgstr "%s:ÆÁÊÌ ÍÅÎÀ ÎÅ×ÅÒÅÎ.  ïÔÓÔÕÔÓ×ÕÅÔ ËÏÍÍÁÎÄÁ MENU"
+msgstr "%s:ÆÁÊÌ ÍÅÎÀ ÎÅ×ÅÒÅÎ.  ïÔÓÕÔÓÔ×ÕÅÔ ËÏÍÁÎÄÁ MENU"
 
-#: ../src/rootmenu.c:1150
+#: ../src/rootmenu.c:1248
 msgid "error reading preprocessed menu data"
 msgstr "ÏÛÉÂËÁ ÞÔÅÎÉÑ ÏÂÒÁÂÏÔÁÎÎÙÈ ÄÁÎÎÙÈ ÍÅÎÀ"
 
-#: ../src/rootmenu.c:1242
+#: ../src/rootmenu.c:1342
 #, c-format
 msgid "%s:no title given for the root menu"
 msgstr "%s: ÎÅ ÚÁÄÁÎ ÚÁÇÏÌÏ×ÏË ËÏÒÎÅ×ÏÇÏ ÍÅÎÀ"
 
-#: ../src/rootmenu.c:1325 ../src/rootmenu.c:1392 ../src/rootmenu.c:1436
+#: ../src/rootmenu.c:1433 ../src/rootmenu.c:1506 ../src/rootmenu.c:1547
 #, c-format
 msgid "out of memory while constructing directory menu %s"
 msgstr "ÉÓÞÅÒÐÁÎÁ ÐÁÍÑÔØ ÐÒÉ ÓÏÚÄÁÎÉÉ ËÁÔÁÌÏÇÁ ÍÅÎÀ %s"
 
-#: ../src/rootmenu.c:1335
+#: ../src/rootmenu.c:1443
 #, c-format
 msgid "%s:could not stat file \"%s\" in menu directory"
 msgstr "%s:ÎÅÔ ÉÎÆÏÒÍÁÃÉÉ Ï ÆÁÊÌÅ \"%s\" × ËÁÔÁÌÏÇÅ ÍÅÎÀ"
 
-#: ../src/rootmenu.c:1490
+#: ../src/rootmenu.c:1601
 msgid "Commands"
 msgstr "ëÏÍÁÎÄÙ"
 
-#: ../src/rootmenu.c:1493
+#: ../src/rootmenu.c:1604
 msgid "Restart"
 msgstr "ðÅÒÅÚÁÐÕÓË"
 
-#: ../src/rootmenu.c:1494
+#: ../src/rootmenu.c:1605
 msgid "Exit..."
 msgstr "÷ÙÈÏÄ..."
 
-#: ../src/rootmenu.c:1539
+#: ../src/rootmenu.c:1650
 #, c-format
 msgid "could not find menu file \"%s\" referenced in WMRootMenu"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÎÁÊÔÉ ÆÁÊÌ ÍÅÎÀ \"%s\", ÕËÁÚÁÎÎÙÊ × WMRootMenu"
 
-#: ../src/rootmenu.c:1546
+#: ../src/rootmenu.c:1657
 #, c-format
 msgid "could not access menu \"%s\" referenced in WMRootMenu"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÐÒÏÞÉÔÁÔØ ÍÅÎÀ \"%s\", ÕËÁÚÁÎÎÏÅ × WMRootMenu"
 
-#: ../src/rootmenu.c:1557
+#: ../src/rootmenu.c:1668
 #, c-format
 msgid ""
 "using default menu file \"%s\" as the menu referenced in WMRootMenu could "
 "not be found "
-msgstr ""
-"×ÍÅÓÔÏ ÍÅÎÀ, ÕËÁÚÁÎÎÏÇÏ × ÆÁÊÌÅ WMRootMenu, ÉÓÐÏÌØÚÕÅÔÓÑ ÍÅÎÀ ÐÏ ÕÍÏÌÞÁÎÉÀ "
-"(%s) "
+msgstr "ÍÅÎÀ, ÕËÁÚÁÎÎÏÅ × ÆÁÊÌÅ WMRootMenu, ÎÅ ÎÁÊÄÅÎÏ, ÉÓÐÏÌØÚÕÅÔÓÑ ÍÅÎÀ ÐÏ ÕÍÏÌÞÁÎÉÀ (%s) "
 
-#: ../src/rootmenu.c:1580 ../src/rootmenu.c:1656
+#: ../src/rootmenu.c:1691 ../src/rootmenu.c:1767
 #, c-format
 msgid "%s:format error in root menu configuration \"%s\""
 msgstr "%s:ÏÛÉÂËÁ ÆÏÒÍÁÔÁ × ÎÁÓÔÒÏÊËÅ ËÏÒÎÅ×ÏÇÏ ÍÅÎÀ \"%s\""
 
-#: ../src/rootmenu.c:1744
+#: ../src/rootmenu.c:1855
 msgid ""
-"The applications menu could not be loaded.Look at the console output for a "
-"detaileddescription of the errors"
+"The applications menu could not be loaded. Look at the console output for a "
+"detailed description of the errors."
 msgstr ""
-"îÅ ÕÄÁÌÏÓØ ÚÁÇÒÕÚÉÔØ ÍÅÎÀ ÐÒÉÌÏÖÅÎÉÑ.  óÏÏÂÝÅÎÉÑ ÎÁ ËÏÎÓÏÌÉ ÓÏÄÅÒÖÁÔ "
+"îÅ ÕÄÁÌÏÓØ ÚÁÇÒÕÚÉÔØ ÍÅÎÀ ÐÒÉÌÏÖÅÎÉÊ.  óÏÏÂÝÅÎÉÑ ÎÁ ËÏÎÓÏÌÉ ÓÏÄÅÒÖÁÔ "
 "ÐÏÄÒÏÂÎÏÅ ÏÐÉÓÁÎÉÅ ÐÒÏÂÌÅÍÙ"
 
-#: ../src/screen.c:436
-#, c-format
-msgid "could not load logo image for panels: %s"
-msgstr "ÎÅ ÕÄÁÌÏÓØ ÚÁÇÒÕÚÉÔØ ËÁÒÔÉÎËÕ ÌÏÇÏ ÄÌÑ ÐÁÎÅÌÅÊ: %s"
-
-#: ../src/screen.c:440
-#, c-format
-msgid "error making logo image for panel:%s"
-msgstr "ÏÛÉÂËÁ ÐÒÉ ÐÏÄÇÏÔÏ×ËÅ ÚÁÓÔÁ×ËÉ ÄÌÑ ÐÁÎÅÌÉ: %s"
-
-#: ../src/screen.c:728
+#: ../src/screen.c:747
 #, c-format
 msgid "could not initialize graphics library context: %s"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÐÒÏÉÎÉÃÉÁÌÉÚÉÒÏ×ÁÔØ ÇÒÁÆÉÞÅÓËÕÀ ÂÉÂÌÉÏÔÅËÕ: %s"
 
-#: ../src/screen.c:759
+#: ../src/screen.c:778
 msgid "could not do initialization of WINGs widget set"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÉÎÉÃÉÁÌÉÚÉÒÏ×ÁÔØ ÂÉÂÌÉÏÔÅËÕ WINGs"
 
-#: ../src/screen.c:1093
+#: ../src/screen.c:1144
 #, c-format
 msgid "could not save session state in %s"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÓÏÈÒÁÎÉÔØ ÓÏÓÔÏÑÎÉÑ ÓÅÁÎÓÁ × %s"
 
-#: ../src/session.c:182 ../src/wdefaults.c:564 ../src/winspector.c:348
+#: ../src/session.c:183 ../src/wdefaults.c:589 ../src/winspector.c:454
 #, c-format
 msgid "can't convert \"%s\" to boolean"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÐÒÅÏÂÒÁÚÏ×ÁÔØ \"%s\" × ÂÕÌÅ×ÓËÕÀ ×ÅÌÉÞÉÎÕ"
 
-#: ../src/session.c:981
+#: ../src/session.c:1023
 msgid "out of memory while saving session state"
 msgstr "ÉÓÞÅÒÐÁÎÁ ÐÁÍÑÔØ ÐÒÉ ÓÏÈÒÁÎÅÎÉÉ ÓÏÓÔÏÑÎÉÑ ÓÅÁÎÓÁ"
 
-#: ../src/session.c:1072
+#: ../src/session.c:1106
 msgid "end of memory while saving session state"
 msgstr "ÉÓÞÅÒÐÁÎÁ ÐÁÍÑÔØ ÐÒÉ ÓÏÈÒÁÎÅÎÉÉ ÓÏÓÔÏÑÎÉÑ ÓÅÁÎÓÁ"
 
@@ -1095,50 +1363,60 @@
 #. * If the sm was the last client of session, then we'll die
 #. * anyway, otherwise we can continue doing our stuff.
 #.
-#: ../src/session.c:1206
+#: ../src/session.c:1244
 msgid "connection to the session manager was lost"
 msgstr "ÐÏÔÅÒÑÎÏ ÓÏÅÄÉÎÅÎÉÅ Ó ÄÉÓÐÅÔÞÅÒÏÍ ÓÅÓÓÉÊ"
 
-#: ../src/stacking.c:73
+#: ../src/stacking.c:79
 msgid "could not get window list!!"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÐÏÌÕÞÉÔØ ÓÐÉÓÏË ÏËÏÎ!!!"
 
-#: ../src/startup.c:194
+#: ../src/startup.c:202
 #, c-format
 msgid "internal X error: %s\n"
 msgstr "×ÎÕÔÒÅÎÎÑÑ ÏÛÉÂËÁ X ÓÅÒ×ÅÒÁ: %s\n"
 
-#: ../src/startup.c:259
+#: ../src/startup.c:260
 #, c-format
 msgid "got signal %i (%s) - restarting\n"
 msgstr "ÐÏÌÕÞÅÎ ÓÉÇÎÁÌ %i (%s) -- ÐÅÒÅÚÁÐÕÓË\n"
 
-#: ../src/startup.c:261
+#: ../src/startup.c:262
 #, c-format
 msgid "got signal %i - restarting\n"
 msgstr "ÐÏÌÕÞÅÎ ÓÉÇÎÁÌ %i - ÐÅÒÅÚÁÐÕÓË\n"
 
-#: ../src/startup.c:275
+#: ../src/startup.c:272
+#, c-format
+msgid "got signal %i (%s) - rereading defaults\n"
+msgstr "ÐÏÌÕÞÅÎ ÓÉÇÎÁÌ %i (%s) -- ÐÏ×ÔÏÒÎÏÅ ÞÔÅÎÉÅ ÚÎÁÞÅÎÉÊ ÐÏ ÕÍÏÌÞÁÎÉÀ\n"
+
+#: ../src/startup.c:274
+#, c-format
+msgid "got signal %i - rereading defaults\n"
+msgstr "ÐÏÌÕÞÅÎ ÓÉÇÎÁÌ %i -- ÐÏ×ÔÏÒÎÏÅ ÞÔÅÎÉÅ ÚÎÁÞÅÎÉÊ ÐÏ ÕÍÏÌÞÁÎÉÀ\n"
+
+#: ../src/startup.c:284
 #, c-format
 msgid "got signal %i (%s) - exiting...\n"
 msgstr "ÐÏÌÕÞÅÎ ÓÉÇÎÁÌ %i (%s) -- ÚÁ×ÅÒÛÅÎÉÅ ÒÁÂÏÔÙ...\n"
 
-#: ../src/startup.c:277
+#: ../src/startup.c:286
 #, c-format
 msgid "got signal %i - exiting...\n"
 msgstr "ÐÏÌÕÞÅÎ ÓÉÇÎÁÌ %i -- ÚÁ×ÅÒÛÅÎÉÅ ÒÁÂÏÔÙ...\n"
 
-#: ../src/startup.c:290
+#: ../src/startup.c:329
 #, c-format
 msgid "got signal %i (%s)\n"
 msgstr "ÐÏÌÕÞÅÎ ÓÉÇÎÁÌ %i (%s)\n"
 
-#: ../src/startup.c:292
+#: ../src/startup.c:331
 #, c-format
 msgid "got signal %i\n"
 msgstr "ÐÏÌÕÞÅÎ ÓÉÇÎÁÌ %i\n"
 
-#: ../src/startup.c:303
+#: ../src/startup.c:342
 msgid ""
 "crashed while trying to do some post-crash cleanup. Aborting immediatelly."
 msgstr ""
@@ -1146,19 +1424,19 @@
 "îåíåäìåîîïå ÚÁ×ÅÒÛÅÎÉÅ ÒÁÂÏÔÙ."
 
 #. we try to restart Window Maker
-#: ../src/startup.c:337
+#: ../src/startup.c:406
 msgid "trying to restart Window Maker..."
 msgstr "ÐÏÐÙÔËÁ ÐÅÒÅÚÁÐÕÓÔÉÔØ Window Maker..."
 
-#: ../src/startup.c:342
+#: ../src/startup.c:411
 msgid "trying to start alternate window manager..."
 msgstr "ÐÏÐÙÔËÁ ÚÁÐÕÓËÁ ÁÌØÔÅÒÎÁÔÉ×ÎÏÇÏ ÄÉÓÐÅÔÞÅÒÁ ÏËÏÎ..."
 
-#: ../src/startup.c:347
+#: ../src/startup.c:417
 msgid "failed to start alternate window manager. Aborting."
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÚÁÐÕÓÔÉÔØ ÁÌØÔÅÒÎÁÔÉ×ÎÙÊ ÄÉÓÐÅÔÞÅÒ ÏËÏÎ.  ïÔËÁÚ."
 
-#: ../src/startup.c:349
+#: ../src/startup.c:419
 msgid ""
 "a fatal error has occured, probably due to a bug. Please fill the included "
 "BUGFORM and report it."
@@ -1166,58 +1444,66 @@
 "×ÏÚÎÉËÌÁ ËÒÉÔÉÞÅÓËÁÑ ÏÛÉÂËÁ. ÷ÏÚÍÏÖÎÏ, ÜÔÏ ÒÅÚÕÌØÔÁÔ ÏÛÉÂËÉ × ÐÒÏÇÒÁÍÍÅ. "
 "ðÏÖÁÌÕÊÓÔÁ, ÚÁÐÏÌÎÉÔÅ ÆÏÒÍÕ × ÆÁÊÌÅ BUGFORM É ÏÔÐÒÁ×ØÔÅ ÅÇÏ Á×ÔÏÒÕ."
 
-#: ../src/startup.c:782
+#: ../src/startup.c:894
 #, c-format
 msgid "icon size is configured to %i, but it's too small. Using 16, instead\n"
-msgstr "ÒÁÚÍÅÒ ÚÎÁÞËÁ ÕÓÔÁÎÏ×ÌÅÎ × %i, ÞÔÏ ÓÌÉÛËÏÍ ÍÁÌÏ.  éÓÐÏÌØÚÕÅÔÓÑ 16.\n"
+msgstr "ÒÁÚÍÅÒ ÉËÏÎËÉ ÕÓÔÁÎÏ×ÌÅÎ × %i, ÞÔÏ ÓÌÉÛËÏÍ ÍÁÌÏ.  éÓÐÏÌØÚÕÅÔÓÑ 16.\n"
+
+#: ../src/startup.c:922
+msgid "XKB is not supported. KbdModeLock is automatically disabled."
+msgstr ""
 
-#: ../src/startup.c:821
+#: ../src/startup.c:941
 msgid "it seems that there is already a window manager running"
 msgstr "ÐÏÈÏÖÅ, ÞÔÏ ÁËÔÉ×ÅÎ ÄÒÕÇÏÊ ÄÉÓÐÅÔÞÅÒ ÏËÏÎ"
 
-#: ../src/startup.c:827
+#: ../src/startup.c:947
 #, c-format
 msgid "could not manage screen %i"
 msgstr "ÎÅ ÕÄÁÅÔÓÑ ÕÐÒÁ×ÌÑÔØ ÜËÒÁÎÏÍ %i"
 
-#: ../src/startup.c:887
+#: ../src/startup.c:1015
 msgid "could not manage any screen"
 msgstr "ÎÅ ÕÄÁÅÔÓÑ ÕÐÒÁ×ÌÑÔØ ËÁËÉÍ-ÌÉÂÏ ÜËÒÁÎÏÍ"
 
-#: ../src/switchmenu.c:114
+#: ../src/switchmenu.c:137
 msgid "Windows"
 msgstr "óÐÉÓÏË ÏËÏÎ"
 
-#: ../src/texture.c:290 ../src/texture.c:334
+#: ../src/texture.c:329 ../src/texture.c:371
 #, c-format
 msgid "image file \"%s\" used as texture could not be found."
 msgstr "ÆÁÊÌ ÔÅËÓÔÕÒÙ \"%s\" ÎÅ ÎÁÊÄÅÎ."
 
-#: ../src/texture.c:296 ../src/texture.c:340
+#: ../src/texture.c:335 ../src/texture.c:377
 #, c-format
 msgid "could not load texture pixmap \"%s\":%s"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÚÁÇÒÕÚÉÔØ ÒÁÓÔÒÏ×ÙÊ ÒÉÓÕÎÏË Ó ÔÅËÓÔÕÒÏÊ \"%s\": %s"
 
-#: ../src/texture.c:400
+#: ../src/texture.c:437
 #, c-format
 msgid "library \"%s\" cound not be opened."
-msgstr "ÎÅ ÕÄÁÌÏÓØ ÏÔËÒÙÔØ ÂÉÂÌÉÏÔÅËÕ %s."
+msgstr "ÎÅ ÕÄÁÌÏÓØ ÏÔËÒÙÔØ ÂÉÂÌÉÏÔÅËÕ \"%s\"."
 
-#: ../src/texture.c:409
+#: ../src/texture.c:446
 #, c-format
 msgid "function \"%s\" not found in library \"%s\""
-msgstr "ÆÕÎËÃÉÑ %s ÏÔÓÕÔÓÔ×ÕÅÔ × ÂÉÂÌÉÏÔÅËÅ %s"
+msgstr "ÆÕÎËÃÉÑ \"%s\" ÏÔÓÕÔÓÔ×ÕÅÔ × ÂÉÂÌÉÏÔÅËÅ \"%s\""
 
-#: ../src/texture.c:416
+#: ../src/texture.c:453
 msgid "function textures not supported on this system, sorry."
 msgstr "ÆÕÎËÃÉÏÎÁÌØÎÙÅ ÔÅËÓÔÕÒÙ ÎÅ ÐÏÄÄÅÒÖÉ×ÁÀÔÓÑ ÜÔÏÊ ÓÉÓÔÅÍÏÊ."
 
-#: ../src/wdefaults.c:410
+#: ../src/texture.c:598
+msgid "could not allocate image buffer"
+msgstr "ÎÅ ÕÄÁÌÏÓØ ÒÁÚÍÅÓÔÉÔØ ÂÕÆÅÒ ÉÚÏÂÒÁÖÅÎÉÑ"
+
+#: ../src/wdefaults.c:437
 #, c-format
 msgid "could not find icon file \"%s\""
-msgstr "ÎÅ ÕÄÁÌÏÓØ ÎÁÊÔÉ ÚÎÁÞÏË \"%s\""
+msgstr "ÎÅ ÕÄÁÌÏÓØ ÎÁÊÔÉ ÆÁÊÌ ÉËÏÎËÉ \"%s\""
 
-#: ../src/window.c:2539 ../src/window.c:2673
+#: ../src/window.c:2942 ../src/window.c:3081
 msgid ""
 "the NumLock, ScrollLock or similar key seems to be turned on.\n"
 "Turn it off or some mouse actions and keyboard shortcuts will not work."
@@ -1226,7 +1512,7 @@
 "÷ÙËÌÀÞÉÔÅ ÅÅ ÉÌÉ ÎÅËÏÔÏÒÙÅ ÏÐÅÒÁÃÉÉ ÍÙÛØÀ É ËÏÍÂÉÎÁÃÉÉ ËÌÁ×ÉÛ ÎÅ ÂÕÄÕÔ "
 "ÒÁÂÏÔÁÔØ."
 
-#: ../src/winmenu.c:125
+#: ../src/winmenu.c:126
 msgid ""
 "This will kill the application.\n"
 "Any unsaved changes will be lost.\n"
@@ -1236,269 +1522,427 @@
 "÷ÓÅ ÎÅÓÏÈÒÁÎÅÎÎÙÅ ÉÚÍÅÎÅÎÉÑ ÂÕÄÕÔ ÐÏÔÅÒÑÎÙ.\n"
 "ðÏÖÁÌÕÊÓÔÁ, ÐÏÄÔ×ÅÒÄÉÔÅ."
 
-#: ../src/winmenu.c:252 ../src/winmenu.c:260
+#: ../src/winmenu.c:272 ../src/winmenu.c:281
 msgid "Set Shortcut"
 msgstr "õÓÔÁÎÏ×ÉÔØ ËÏÍÂÉÎÁÃÉÀ ËÌÁ×ÉÛ"
 
-#: ../src/winmenu.c:338 ../src/winmenu.c:384
+#: ../src/winmenu.c:359 ../src/winmenu.c:404
 msgid "could not create submenu for window menu"
 msgstr "ÎÅ ÕÄÁÌÏÓØ ÓÏÚÄÁÔØ ÐÏÄÍÅÎÀ ÄÌÑ ÍÅÎÀ ÏËÎÁ"
 
-#: ../src/winmenu.c:393
+#: ../src/winmenu.c:408
+msgid "Keep on top"
+msgstr "÷ÓÅÇÄÁ ÎÁ×ÅÒÈÕ"
+
+#: ../src/winmenu.c:413
 msgid "Keep at bottom"
 msgstr "÷ÓÅÇÄÁ ×ÎÉÚÕ"
 
-#: ../src/winmenu.c:398 ../src/winspector.c:1147
-msgid "Omnipresent"
-msgstr "ðÒÉÓÕÔÓÔ×ÕÅÔ ×ÅÚÄÅ"
-
-#.
-#. * Warning: If you make some change that affects the order of the
-#. * entries, you must update the command #defines in the top of
-#. * this file.
-#.
-#: ../src/winmenu.c:421 ../src/winmenu.c:556
-msgid "Maximize"
-msgstr "òÁÚ×ÅÒÎÕÔØ"
-
-#: ../src/winmenu.c:429 ../src/winmenu.c:542
-msgid "Miniaturize"
-msgstr "ó×ÅÒÎÕÔØ"
-
-#: ../src/winmenu.c:438 ../src/winmenu.c:573
+#: ../src/winmenu.c:457 ../src/winmenu.c:600
 msgid "Shade"
 msgstr "÷ÔÑÎÕÔØ"
 
-#: ../src/winmenu.c:454
+#: ../src/winmenu.c:473
+msgid "Hide Others"
+msgstr "óËÒÙÔØ ÏÓÔÁÌØÎÙÅ"
+
+#: ../src/winmenu.c:481
 msgid "Resize/Move"
 msgstr "éÚÍÅÎÉÔØ ÒÁÚÍÅÒ/ÐÅÒÅÍÅÓÔÉÔØ"
 
-#: ../src/winmenu.c:462
+#: ../src/winmenu.c:489
 msgid "Select"
 msgstr "÷ÙÄÅÌÉÔØ"
 
-#: ../src/winmenu.c:470
-msgid "Move To"
-msgstr "ðÅÒÅÍÅÓÔÉÔØ..."
-
-#: ../src/winmenu.c:475
+#: ../src/winmenu.c:502
 msgid "Attributes..."
 msgstr "ó×ÏÊÓÔ×Á..."
 
-#: ../src/winmenu.c:477
+#: ../src/winmenu.c:504
 msgid "Options"
 msgstr "ðÁÒÁÍÅÔÒÙ"
 
-#: ../src/winmenu.c:537
-msgid "Deminiaturize"
-msgstr "òÁÚ×ÅÒÎÕÔØ"
-
-#: ../src/winmenu.c:551
-msgid "Unmaximize"
-msgstr "÷ÏÓÓÔÁÎÏ×ÉÔØ"
-
-#: ../src/winmenu.c:568
+#: ../src/winmenu.c:595
 msgid "Unshade"
 msgstr "÷ÏÓÓÔÁÎÏ×ÉÔØ"
 
-#: ../src/winspector.c:282
+#: ../src/winspector.c:387
 #, c-format
 msgid "Could not find icon \"%s\" specified for this window"
-msgstr "îÅ×ÏÚÍÏÖÎÏ ÎÁÊÔÉ ÆÁÊÌ ÚÎÁÞËÁ (%s), ÕËÁÚÁÎÎÙÊ ÄÌÑ ÜÔÏÇÏ ÏËÎÁ"
+msgstr "îÅ×ÏÚÍÏÖÎÏ ÎÁÊÔÉ ÆÁÊÌ ÉËÏÎËÉ \"%s\", ÕËÁÚÁÎÎÙÊ ÄÌÑ ÜÔÏÇÏ ÏËÎÁ"
 
-#: ../src/winspector.c:298
+#: ../src/winspector.c:404
 #, c-format
 msgid "Could not open specified icon \"%s\":%s"
-msgstr "îÅ×ÏÚÍÏÖÎÏ ÏÔËÒÙÔØ ÕËÁÚÁÎÎÙÊ ÆÁÊÌ ÚÎÁÞËÁ (%s): %s"
+msgstr "îÅ×ÏÚÍÏÖÎÏ ÏÔËÒÙÔØ ÕËÁÚÁÎÎÕÀ ÉËÏÎËÕ \"%s\": %s"
+
+#: ../src/winspector.c:1121
+#, c-format
+msgid "Inspecting  %s.%s"
+msgstr ""
+
+#: ../src/winspector.c:1147
+msgid "Click in the window you wish to inspect."
+msgstr ""
 
-#: ../src/winspector.c:1022
+#: ../src/winspector.c:1186
+msgid ""
+"The configuration will apply to all\n"
+"windows that have their WM_CLASS\n"
+"property set to the above selected\n"
+"name, when saved."
+msgstr ""
+"äÁÎÎÁÑ ËÏÎÆÉÇÕÒÁÃÉÑ ÂÕÄÅÔ ÐÒÉÍÅÎÅÎÁ\n"
+"ËÏ ×ÓÅÍ ÏËÎÁÍ, Õ ËÏÔÏÒÙÈ ÁÔÒÉÂÕÔ\n"
+"WM_CLASS ÕÓÔÁÎÏ×ÌÅÎ × ×ÙÂÒÁÎÎÏÅ ÷ÁÍÉ\n"
+"ÚÎÁÞÅÎÉÅ, Á ÚÁÔÅÍ ÓÏÈÒÁÎÅÎÁ."
+
+#: ../src/winspector.c:1215
 msgid "Save"
 msgstr "óÏÈÒÁÎÉÔØ"
 
-#: ../src/winspector.c:1030
+#: ../src/winspector.c:1223
 msgid "Apply"
 msgstr "ðÒÉÍÅÎÉÔØ"
 
-#: ../src/winspector.c:1036
+#: ../src/winspector.c:1229
 msgid "Reload"
-msgstr "óÂÒÏÓÉÔØ"
+msgstr "ðÅÒÅÞÉÔÁÔØ"
 
-#: ../src/winspector.c:1045 ../src/winspector.c:1055
+#: ../src/winspector.c:1238 ../src/winspector.c:1248
 msgid "Window Specification"
 msgstr "óÐÅÃÉÆÉËÁÃÉÑ ÏËÎÁ"
 
-#: ../src/winspector.c:1046
+#: ../src/winspector.c:1239
 msgid "Window Attributes"
 msgstr "áÔÒÉÂÕÔÙ ÏËÎÁ"
 
-#: ../src/winspector.c:1047
+#: ../src/winspector.c:1240
 msgid "Advanced Options"
 msgstr "äÏÐÏÌÎÉÔÅÌØÎÙÅ ÐÁÒÁÍÅÔÒÙ"
 
-#: ../src/winspector.c:1048
+#: ../src/winspector.c:1241
 msgid "Icon and Initial Workspace"
-msgstr "éÓÈÏÄÎÏÅ òÁÂÏÞÅÅ ÍÅÓÔÏ"
+msgstr "éÓÈÏÄÎÏÅ ÒÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï"
 
-#: ../src/winspector.c:1049
+#: ../src/winspector.c:1242
 msgid "Application Specific"
 msgstr "ó×ÏÊÓÔ×Á ÐÒÉÌÏÖÅÎÉÑ"
 
-#: ../src/winspector.c:1063
+#: ../src/winspector.c:1256
 msgid "Defaults for all windows"
 msgstr "÷ÓÅ ÏËÎÁ"
 
-#: ../src/winspector.c:1106
-msgid ""
-"The configuration will apply to all\n"
-"windows that have their WM_CLASS property set to the above selected\n"
-"name, when saved."
-msgstr ""
-"äÁÎÎÁÑ ËÏÎÆÉÇÕÒÁÃÉÑ ÂÕÄÅÔ ÐÒÉÍÅÎÅÎÁ ËÏ ×ÓÅÍ\n"
-"ÏËÎÁÍ, Õ ËÏÔÏÒÙÈ ÁÔÒÉÂÕÔ WM_CLASS ÕÓÔÁÎÏ×ÌÅÎ × ×ÙÂÒÁÎÎÏÅ ÷ÁÍÉ\n"
-"ÚÎÁÞÅÎÉÅ, ÚÁÔÅÍ ÓÏÈÒÁÎÅÎÁ."
+#: ../src/winspector.c:1310
+msgid "Select window"
+msgstr "÷ÙÂÒÁÔØ ÏËÎÏ"
 
-#: ../src/winspector.c:1113
+#: ../src/winspector.c:1324
 msgid "Attributes"
 msgstr "ó×ÏÊÓÔ×Á"
 
-#: ../src/winspector.c:1123
-msgid "Disable Titlebar"
+#: ../src/winspector.c:1335
+msgid "Disable titlebar"
 msgstr "ïÔËÌÀÞÉÔØ ÚÁÇÏÌÏ×ÏË"
 
-#: ../src/winspector.c:1127
-msgid "Disable Resizebar"
+#: ../src/winspector.c:1337
+msgid ""
+"Remove the titlebar of this window.\n"
+"To access the window commands menu of a window\n"
+"without it's titlebar, press Control+Esc (or the\n"
+"equivalent shortcut, if you changed the default\n"
+"settings)."
+msgstr ""
+"õÂÒÁÔØ ÚÁÇÏÌÏ×ÏË Õ ÜÔÏÇÏ ÏËÎÁ.\n"
+"äÌÑ ÄÏÓÔÕÐÁ Ë ÍÅÎÀ ËÏÍÁÎÄ ÏËÎÁ Õ ÏËÎÁ ÂÅÚ ÚÁÇÏÌÏ×ËÁ,\n"
+"ÉÓÐÏÌØÚÕÊÔÅ Control+Esc (ÉÌÉ ÜË×É×ÁÌÅÎÔÎÕÀ ËÏÍÂÉÎÁÃÉÀ\n"
+"ËÌÁ×ÉÛ, ÅÓÌÉ ×Ù ÉÚÍÅÎÉÌÉ ÎÁÓÔÒÏÊËÉ ÐÏ ÕÍÏÌÞÁÎÉÀ)."
+
+# awn: "ïÔËÌÀÞÉÔØ ÌÉÎÅÊËÕ ÉÚÍÅÎÅÎÉÑ ÒÁÚÍÅÒÁ" ÂÙÌÏ ÂÙ ÐÒÁ×ÉÌØÎÅÅ, ÎÏ ÎÅ
+# ÐÏÍÅÝÁÅÔÓÑ
+#: ../src/winspector.c:1344
+msgid "Disable resizebar"
 msgstr "ïÔËÌÀÞÉÔØ ÒÁÍËÕ ÉÚÍÅÎÅÎÉÑ ÒÁÚÍÅÒÁ"
 
-#: ../src/winspector.c:1131
-msgid "Disable Close Button"
+#: ../src/winspector.c:1346
+msgid "Remove the resizebar of this window."
+msgstr "õÂÒÁÔØ ÒÁÍËÕ ÉÚÍÅÎÅÎÉÑ ÒÁÚÍÅÒÁ Õ ÜÔÏÇÏ ÏËÎÁ."
+
+#: ../src/winspector.c:1349
+msgid "Disable close button"
 msgstr "õÂÒÁÔØ ËÎÏÐËÕ ÚÁËÒÙÔÉÑ"
 
-#: ../src/winspector.c:1135
-msgid "Disable Miniaturize Button"
-msgstr "ïÔËÌÀÞÉÔØ ËÎÏÐËÕ ÍÉÎÉÁÔÀÒÉÚÁÃÉÉ"
-
-#: ../src/winspector.c:1139
-msgid "Keep on Top / Floating"
-msgstr "÷ÓÅÇÄÁ ÎÁ×ÅÒÈÕ (ÐÌÁ×ÁÀÝÅÅ)"
-
-#: ../src/winspector.c:1143
-msgid "Keep at Bottom / Sunken"
-msgstr "÷ÓÅÇÄÁ ×ÎÉÚÕ (ÕÔÏÐÌÅÎÏ)"
+#: ../src/winspector.c:1351
+msgid "Remove the `close window' button of this window."
+msgstr "õÂÒÁÔØ ËÎÏÐËÕ `ÚÁËÒÙÔØ ÏËÎÏ' Õ ÜÔÏÇÏ ÏËÎÁ."
+
+#: ../src/winspector.c:1354
+msgid "Disable miniaturize button"
+msgstr "õÂÒÁÔØ ËÎÏÐËÕ `Ó×ÅÒÎÕÔØ × ÉËÏÎËÕ'"
+
+#: ../src/winspector.c:1356
+msgid "Remove the `miniaturize window' button of the window."
+msgstr "õÂÒÁÔØ ËÎÏÐËÕ `Ó×ÅÒÎÕÔØ × ÉËÏÎËÕ' Õ ÜÔÏÇÏ ÏËÎÁ."
+
+#: ../src/winspector.c:1359
+msgid "Disable border"
+msgstr "õÂÒÁÔØ ÒÁÍËÕ"
+
+#: ../src/winspector.c:1361
+msgid "Remove the 1 pixel black border around the window."
+msgstr "õÂÒÁÔØ 1-ÔÏÞÅÞÎÕÀ ÞÅÒÎÕÀ ÒÁÍËÕ ×ÏËÒÕÇ ÏËÎÁ."
+
+#: ../src/winspector.c:1364
+msgid "Keep on top (floating)"
+msgstr "õÄÅÒÖÉ×ÁÔØ ÏËÎÏ Ó×ÅÒÈÕ"
+
+#: ../src/winspector.c:1366
+msgid ""
+"Keep the window over other windows, not allowing\n"
+"them to cover it."
+msgstr ""
+"õÄÅÒÖÉ×ÁÔØ ÏËÎÏ ÎÁÄ ÄÒÕÇÉÍÉ ÏËÎÁÍÉ,\n"
+"ÎÅ ÐÏÚ×ÏÌÑÑ ÉÍ ÐÅÒÅËÒÙ×ÁÔØ ÅÇÏ."
+
+#: ../src/winspector.c:1370
+msgid "Keep at bottom (sunken)"
+msgstr "õÄÅÒÖÉ×ÁÔØ ÏËÎÏ ÓÎÉÚÕ"
+
+#: ../src/winspector.c:1372
+msgid "Keep the window under all other windows."
+msgstr "õÄÅÒÖÉ×ÁÔØ ÏËÎÏ ÐÏÄ ×ÓÅÍÉ ÄÒÕÇÉÍÉ ÏËÎÁÍÉ"
+
+#: ../src/winspector.c:1377
+msgid "Make window present in all workspaces."
+msgstr "óÄÅÌÁÔØ ÏËÎÏ ÐÒÉÓÕÔÓÔ×ÕÀÝÉÍ ÎÁ ×ÓÅÈ ÒÁÂÏÞÉÈ ÐÒÏÓÔÒÁÎÓÔ×ÁÈ"
 
-#: ../src/winspector.c:1151
-msgid "Start Miniaturized"
+#: ../src/winspector.c:1380
+msgid "Start miniaturized"
 msgstr "úÁÐÕÓË × Ó×ÅÒÎÕÔÏÍ ÓÏÓÔÏÑÎÉÉ"
 
-#: ../src/winspector.c:1155
-msgid "Start Maximized"
-msgstr "úÁÐÕÓË × ÒÁÚ×ÅÒÎÕÔÏÍ ÓÏÓÔÏÑÎÉÉ"
+#: ../src/winspector.c:1382
+msgid ""
+"Make the window be automatically miniaturized when it's\n"
+"first shown."
+msgstr ""
+"á×ÔÏÍÁÔÉÞÅÓËÉ Ó×ÏÒÁÞÉ×ÁÔØ ÏËÎÏ × ÉËÏÎËÕ ÐÒÉ ÐÅÒ×ÏÍ\n"
+"ÅÇÏ ÐÏÑ×ÌÅÎÉÉ."
 
-#: ../src/winspector.c:1159
-msgid "Skip Window List"
-msgstr "îÅ ÐÏËÁÚÙ×ÁÔØ × ÓÐÉÓËÅ ÏËÏÎ"
+#: ../src/winspector.c:1386
+msgid "Start maximized"
+msgstr "úÁÐÕÓË × ÒÁÓÐÁÈÎÕÔÏÍ ÓÏÓÔÏÑÎÉÉ"
+
+#: ../src/winspector.c:1388
+msgid ""
+"Make the window be automatically maximized when it's\n"
+"first shown."
+msgstr "á×ÔÏÍÁÔÉÞÅÓËÉ ÒÁÓÐÁÈÉ×ÁÔØ ÏËÎÏ ÐÒÉ ÐÅÒ×ÏÍ ÅÇÏ ÐÏÑ×ÌÅÎÉÉ."
+
+#: ../src/winspector.c:1392
+msgid "Full screen maximization"
+msgstr "òÁÓÐÁÈÎÕÔØ ÎÁ ×ÅÓØ ÜËÒÁÎ"
+
+#: ../src/winspector.c:1394
+msgid ""
+"Make the window use the whole screen space when it's\n"
+"maximized. The titlebar and resizebar will be moved\n"
+"to outside the screen."
+msgstr ""
+"ëÏÇÄÁ ÏËÎÏ ÒÁÓÐÁÈÉ×ÁÅÔÓÑ -- ÉÓÐÏÌØÚÏ×ÁÔØ ×ÓÅ ÄÏÓÔÕÐÎÏÅ\n"
+"ÜËÒÁÎÎÏÅ ÐÒÏÓÔÒÁÎÓÔ×Ï.  úÁÇÏÌÏ×ÏË ÏËÎÁ É ÒÁÍËÁ\n"
+"ÉÚÍÅÎÅÎÉÑ ÒÁÚÍÅÒÁ ×ÙÎÏÓÑÔÓÑ ÚÁ ÐÒÅÄÅÌÙ ÜËÒÁÎÁ."
 
-#: ../src/winspector.c:1173
+#: ../src/winspector.c:1411
 msgid "Advanced"
 msgstr "äÏÐÏÌÎÉÔÅÌØÎÏ"
 
-#: ../src/winspector.c:1183
-msgid "Ignore HideOthers"
-msgstr "éÇÎÏÒÏ×ÁÔØ \"óËÒÙÔØ ÏÓÔÁÌØÎÙÅ\""
-
-#: ../src/winspector.c:1187
-msgid "Don't Bind Keyboard Shortcuts"
+#: ../src/winspector.c:1428
+msgid "Do not bind keyboard shortcuts"
 msgstr "îÅ ÐÒÏ×ÅÒÑÔØ ÓÏÞÅÔÁÎÉÑ ËÌÁ×ÉÛ"
 
-#: ../src/winspector.c:1191
-msgid "Don't Bind Mouse Clicks"
+#: ../src/winspector.c:1430
+msgid ""
+"Do not bind keyboard shortcuts from Window Maker\n"
+"when this window is focused. This will allow the\n"
+"window to receive all key combinations regardless\n"
+"of your shortcut configuration."
+msgstr ""
+"îÅ ÐÅÒÅÈ×ÁÔÙ×ÁÔØ É ÎÅ ÐÒÏ×ÅÒÑÔØ ÓÏÞÅÔÁÎÉÑ ËÌÁ×ÉÛ,\n"
+"ÁÄÒÅÓÏ×ÁÎÎÙÅ ÜÔÏÍÕ ÏËÎÕ.  üÔÏ ÐÏÚ×ÏÌÑÅÔ\n"
+"ÐÒÉÌÏÖÅÎÉÀ ÐÏÌÕÞÁÔØ ×ÓÅ ÓÏÞÅÔÁÎÉÑ ËÌÁ×ÉÛ,\n"
+"ÄÁÖÅ ÅÓÌÉ ÏÎÉ Ñ×ÌÑÀÔÓÑ \"ÇÏÒÑÞÉÍÉ ËÌÁ×ÉÛÁÍÉ\"\n"
+"Window Maker'Á."
+
+#: ../src/winspector.c:1436
+msgid "Do not bind mouse clicks"
 msgstr "îÅ ÐÒÏ×ÅÒÑÔØ ÝÅÌÞËÉ ÍÙÛÉ"
 
-#: ../src/winspector.c:1195
-msgid "Keep Inside Screen"
-msgstr "÷ÓÅÇÄÁ ×ÎÕÔÒÉ ÜËÒÁÎÁ"
+#: ../src/winspector.c:1438
+msgid ""
+"Do not bind mouse actions, such as `Alt'+drag\n"
+"in the window (when alt is the modifier you haveconfigured)."
+msgstr ""
+
+#: ../src/winspector.c:1443
+msgid "Do not show in the window list"
+msgstr "îÅ ÐÏËÁÚÙ×ÁÔØ × ÓÐÉÓËÅ ÏËÏÎ"
+
+#: ../src/winspector.c:1445
+msgid "Do not list the window in the window list menu."
+msgstr "îÅ ÐÏËÁÚÙ×ÁÔØ ÏËÎÏ × ÓÐÉÓËÅ ÏËÏÎ."
 
-#: ../src/winspector.c:1199
-msgid "Don't Let It Take Focus"
+#: ../src/winspector.c:1448
+msgid "Do not let it take focus"
 msgstr "îÅ ÄÁ×ÁÔØ ÆÏËÕÓ ××ÏÄÁ"
 
-#: ../src/winspector.c:1203
-msgid "Don't Save Session"
-msgstr "îÅ ÓÏÈÒÁÎÑÔØ ÓÅÁÎÓ"
+#: ../src/winspector.c:1450
+msgid ""
+"Do not let the window take keyboard focus when you\n"
+"click on it."
+msgstr ""
+"îÅ ÄÁ×ÁÔØ ÏËÎÕ ÆÏËÕÓ ËÌÁ×ÉÁÔÕÒÎÏÇÏ ××ÏÄÁ, ÄÁÖÅ ÅÓÌÉ ×Ù\n"
+"ÝÅÌËÎÉÔÅ ÎÁ ÎÅÍ."
 
-#
-#: ../src/winspector.c:1207
-msgid "Emulate Application Icon"
-msgstr "üÍÕÌÉÒÏ×ÁÔØ ÚÎÁÞÏË ÐÒÉÌÏÖÅÎÉÑ"
+#: ../src/winspector.c:1454
+msgid "Keep inside screen"
+msgstr "õÄÅÒÖÉ×ÁÔØ ×ÎÕÔÒÉ ÜËÒÁÎÁ"
 
-#: ../src/winspector.c:1211
-msgid "Full Screen Maximization"
-msgstr "òÁÚ×ÅÒÎÕÔØ ÎÁ ×ÅÓØ ÜËÒÁÎ"
+#: ../src/winspector.c:1456
+msgid ""
+"Do not allow the window to move itself completely\n"
+"outside the screen. For bug compatibility.\n"
+msgstr ""
+"îÅ ÐÏÚ×ÏÌÑÔØ ÏËÎÕ ÕÈÏÄÉÔØ ÃÅÌÉËÏÍ ÚÁ ÐÒÅÄÅÌÙ ÜËÒÁÎÁ\n"
+"äÌÑ ÓÏ×ÍÅÓÔÉÍÏÓÔÉ Ó ÏÛÉÂËÁÍÉ.\n"
 
-#: ../src/winspector.c:1226
+#: ../src/winspector.c:1460
+msgid "Ignore 'Hide Others'"
+msgstr "éÇÎÏÒÉÒÏ×ÁÔØ \"óËÒÙÔØ ÏÓÔÁÌØÎÙÅ\""
+
+#: ../src/winspector.c:1462
 msgid ""
-"Enable the \"Don't bind...\" options to allow the application to receive all "
-"mouse or keyboard events."
+"Do not hide the window when issuing the\n"
+"`HideOthers' command."
 msgstr ""
-"õÓÔÁÎÏ×ÉÔÅ \"îÅ ÐÒÉ×ÑÚÙ×ÁÔØ...\" ÐÁÒÁÍÅÔÒÙ ÄÌÑ ÔÏÇÏ, ÞÔÏÂÙ ÐÏÚ×ÏÌÉÔØ "
-"ÐÒÉÌÏÖÅÎÉÀ ÐÒÉÎÉÍÁÔØ ×ÓÅ ÓÏÏÂÝÅÎÉÑ ÏÔ ËÌÁ×ÉÁÔÕÒÙ É/ÉÌÉ ÍÙÛÉ"
+"îÅ ÓËÒÙ×ÁÔØ ÏËÎÏ ÐÒÉ ÉÓÐÏÌÎÅÎÉÉ\n"
+"ËÏÍÁÎÄÙ \"óËÒÙÔØ ÏÓÔÁÌØÎÙÅ\"."
 
-#: ../src/winspector.c:1233
-msgid "Miniwindow Image"
-msgstr "íÉÎÉÁÔÀÒÎÏÅ éÚÏÂÒÁÖÅÎÉÅ"
+#: ../src/winspector.c:1466
+msgid "Ignore 'Save Session'"
+msgstr "éÇÎÏÒÉÒÏ×ÁÔØ \"óÏÈÒÁÎÉÔØ ÓÅÁÎÓ\""
+
+#: ../src/winspector.c:1468
+msgid ""
+"Do not save the associated application in the\n"
+"session's state, so that it won't be restarted\n"
+"together with other applications when Window Maker\n"
+"starts."
+msgstr ""
 
-#: ../src/winspector.c:1252
-msgid "Update"
-msgstr "ïÂÎÏ×ÉÔØ"
+#
+#: ../src/winspector.c:1474
+msgid "Emulate application icon"
+msgstr "üÍÕÌÉÒÏ×ÁÔØ ÉËÏÎËÕ ÐÒÉÌÏÖÅÎÉÑ"
 
-#: ../src/winspector.c:1267
-msgid "Icon File Name:"
-msgstr "éÍÑ ÆÁÊÌÁ ÚÎÁÞËÁ:"
+#: ../src/winspector.c:1476
+msgid ""
+"Make this window act as an application that provides\n"
+"enough information to Window Maker for a dockable\n"
+"application icon to be created."
+msgstr ""
+"úÁÓÔÁ×ÌÑÅÔ Window Maker ÏÂÒÁÝÁÔØÓÑ Ó ÐÒÉÌÏÖÅÎÉÅÍ ÔÁË,\n"
+"ËÁË ÅÓÌÉ ÂÙ ÏÎÏ ÐÒÅÄÏÓÔÁ×ÌÑÌÏ ÄÏÓÔÁÔÏÞÎÏ ÉÎÆÏÒÍÁÃÉÉ\n"
+"ÄÌÑ ÓÏÚÄÁÎÉÑ ÉËÏÎËÉ ÐÒÉÛ×ÁÒÔÏ×ÁÎÎÏÇÏ ÐÒÉÌÏÖÅÎÉÑ."
+
+#: ../src/winspector.c:1482
+msgid "Disable language button"
+msgstr ""
 
-#: ../src/winspector.c:1279
+#: ../src/winspector.c:1484
+msgid "Remove the `toggle language' button of the window."
+msgstr ""
+
+#: ../src/winspector.c:1501
+msgid "Miniwindow Image"
+msgstr "íÉÎÉÁÔÀÒÎÏÅ ÉÚÏÂÒÁÖÅÎÉÅ"
+
+#: ../src/winspector.c:1528
+msgid "Icon filename:"
+msgstr "éÍÑ ÆÁÊÌÁ ÉËÏÎËÉ:"
+
+#: ../src/winspector.c:1541
 msgid "Ignore client supplied icon"
-msgstr "éÇÎÏÒÉÒÏ×ÁÔØ ×ÎÕÔÒÅÎÎÉÊ ÚÎÁÞÏË ÐÒÉÌÏÖÅÎÉÑ"
+msgstr "éÇÎÏÒÉÒÏ×ÁÔØ ×ÎÕÔÒÅÎÎÀÀ ÉËÏÎËÕ ÐÒÉÌÏÖÅÎÉÑ"
 
-#: ../src/winspector.c:1286
+#: ../src/winspector.c:1548
 msgid "Initial Workspace"
-msgstr "îÁÞÁÌØÎÏÅ òÁÂÏÞÅÅ ÍÅÓÔÏ"
+msgstr "îÁÞÁÌØÎÏÅ ÒÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï"
 
-#: ../src/winspector.c:1291
+#: ../src/winspector.c:1550
+msgid "The workspace to place the window when it'sfirst shown."
+msgstr ""
+"òÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï, ÎÁ ËÏÔÏÒÏÅ ÐÏÍÅÝÁÔØ ÏËÎÏ,\n"
+"ËÏÇÄÁ ÏÎÏ ÏÔËÒÙ×ÁÅÔÓÑ × ÐÅÒ×ÙÊ ÒÁÚ."
+
+#: ../src/winspector.c:1556
 msgid "Nowhere in particular"
 msgstr "çÄÅ ÕÇÏÄÎÏ"
 
-#: ../src/winspector.c:1309
-msgid "Application Wide"
-msgstr "äÌÑ ×ÓÅÇÏ ÐÒÉÌÏÖÅÎÉÑ"
-
-#: ../src/winspector.c:1319
-msgid "Start Hidden"
-msgstr "úÁÐÕÓÔÉÔØ ÓËÒÙÔÙÍ"
-
-#: ../src/winspector.c:1323
-msgid "No Application Icon"
-msgstr "îÅ ÐÏËÁÚÙ×ÁÔØ ÚÎÁÞÏË"
+#: ../src/winspector.c:1574
+msgid "Application Attributes"
+msgstr "ó×ÏÊÓÔ×Á ÐÒÉÌÏÖÅÎÉÑ"
+
+#: ../src/winspector.c:1585
+msgid "Start hidden"
+msgstr "úÁÐÕÓËÁÔØ ÓËÒÙÔÙÍ"
+
+#: ../src/winspector.c:1587
+msgid "Automatically hide application when it's started."
+msgstr ""
+"á×ÔÏÍÁÔÉÞÅÓËÉ ÓËÒÙ×ÁÔØ ÐÒÉÌÏÖÅÎÉÅ\n"
+"ÓÒÁÚÕ ÐÏÓÌÅ ÅÇÏ ÚÁÐÕÓËÁ."
+
+#: ../src/winspector.c:1590
+msgid "No application icon"
+msgstr "îÅ ÐÏËÁÚÙ×ÁÔØ ÉËÏÎËÕ"
+
+#: ../src/winspector.c:1592
+msgid ""
+"Disable the application icon for the application.\n"
+"Note that you won't be able to dock it anymore,\n"
+"and any icons that are already docked will stop\n"
+"working correctly."
+msgstr ""
 
-#: ../src/workspace.c:106 ../src/workspace.c:107 ../src/workspace.c:655
+#: ../src/winspector.c:1598
+msgid "Shared application icon"
+msgstr "óÏ×ÍÅÓÔÎÏ ÉÓÐÏÌØÚÕÅÍÁÑ ÉËÏÎËÁ"
+
+#: ../src/winspector.c:1600
+msgid ""
+"Use a single shared application icon for all of\n"
+"the instances of this application.\n"
+msgstr ""
+"éÓÐÏÌØÚÏ×ÁÔØ ÏÂÝÕÀ ÉËÏÎËÕ ÄÌÑ ×ÓÅÈ ÜËÚÅÍÐÌÑÒÏ×\n"
+"ÜÔÏÇÏ ÐÒÉÌÏÖÅÎÉÑ.\n"
+
+#: ../src/workspace.c:107 ../src/workspace.c:108 ../src/workspace.c:893
 #, c-format
 msgid "Workspace %i"
-msgstr "òÁÂÏÞÅÅ ÍÅÓÔÏ %i"
+msgstr "òÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï %i"
 
-#: ../src/workspace.c:712
+#: ../src/workspace.c:943
 msgid "Workspaces"
-msgstr "òÁÂÏÞÉÅ ÍÅÓÔÁ"
+msgstr "òÁÂÏÞÉÅ ÐÒÏÓÔÒÁÎÓÔ×Á"
 
-#: ../src/workspace.c:714
+#: ../src/workspace.c:945
 msgid "could not create Workspace menu"
-msgstr "îÅ×ÏÚÍÏÖÎÏ ÓÏÚÄÁÔØ ÍÅÎÀ òÁÂÏÞÉÈ ÍÅÓÔ"
+msgstr "îÅ×ÏÚÍÏÖÎÏ ÓÏÚÄÁÔØ ÍÅÎÀ òÁÂÏÞÉÈ ðÒÏÓÔÒÁÎÓÔ×"
 
-#: ../src/workspace.c:721
+#: ../src/workspace.c:952
 msgid "New"
 msgstr "óÏÚÄÁÔØ"
 
-#: ../src/workspace.c:722
+#: ../src/workspace.c:953
 msgid "Destroy Last"
 msgstr "õÄÁÌÉÔØ ÐÏÓÌÅÄÎÅÅ"
-
-#: ../src/xutil.c:228
-msgid "invalid data in selection"
-msgstr "ÎÅ ÕÄÁÌÏÓØ ÐÏÌÕÞÉÔØ ×ÙÄÅÌÅÎÎÙÅ ÄÁÎÎÙÅ"
diff -Naur WindowMaker-0.80.2/po/zh_TW.Big5.po wm-xft2/po/zh_TW.Big5.po
--- WindowMaker-0.80.2/po/zh_TW.Big5.po	2002-01-08 16:45:06.000000000 +0300
+++ wm-xft2/po/zh_TW.Big5.po	2003-10-22 14:08:37.000000000 +0400
@@ -1,38 +1,38 @@
 # Window Maker PO file for zh_TW.Big5 (Traditional Chinese).
 # Copyright (C) 1999-2001 Free Software Foundation, Inc.
-# Li Wei Jih <lwj83@cs.ccu.edu.tw>, 1999, 2001.
+# Li Wei Jih <lwj83@cs.ccu.edu.tw>, 1999.
 # Minor modifications by Anthony Fok <foka@debian.org>, 2001.
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: Window Maker-0.80.0\n"
-"POT-Creation-Date: 2001-12-24 03:08+0800\n"
-"PO-Revision-Date: 2001-12-24 10:00+0800\n"
-"Last-Translator: Li Wei Jih <lwj@manufacture.com.tw>\n"
+"Project-Id-Version: Window Maker-0.51.0\n"
+"POT-Creation-Date: 2001-05-10 18:28-0600\n"
+"PO-Revision-Date: 1999-02-09 13:00+0800\n"
+"Last-Translator: Li Wei Jih <lwj83@cs.ccu.edu.tw>\n"
 "Language-Team: chinese <zh@li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=big5\n"
 "Content-Transfer-Encoding: 8-bit\n"
 
-#: ../src/appicon.c:426 ../src/dialog.c:282 ../src/dock.c:3325
-#: ../src/dockedapp.c:230 ../src/main.c:273 ../src/rootmenu.c:1850
-#: ../src/winspector.c:389 ../src/winspector.c:406
+#: ../src/appicon.c:550 ../src/dialog.c:224 ../src/dock.c:3293
+#: ../src/dockedapp.c:211 ../src/main.c:253 ../src/rootmenu.c:1765
+#: ../src/winspector.c:385 ../src/winspector.c:401
 msgid "Error"
 msgstr "¿ù»~"
 
-#: ../src/appicon.c:427
+#: ../src/appicon.c:551
 msgid "Could not open specified icon file"
 msgstr "µLªk¶}±Ò«ü©wªº¹Ï¥ÜÀÉ"
 
-#: ../src/appicon.c:428 ../src/dialog.c:179 ../src/dialog.c:282
-#: ../src/dialog.c:729 ../src/dialog.c:1814 ../src/dock.c:526
-#: ../src/dock.c:534 ../src/dock.c:558 ../src/dock.c:3326
-#: ../src/dockedapp.c:231 ../src/dockedapp.c:426 ../src/main.c:273
-#: ../src/rootmenu.c:1854 ../src/winspector.c:390 ../src/winspector.c:407
+#: ../src/appicon.c:552 ../src/dialog.c:121 ../src/dialog.c:224
+#: ../src/dialog.c:568 ../src/dialog.c:1592 ../src/dock.c:517
+#: ../src/dock.c:525 ../src/dock.c:549 ../src/dock.c:3294
+#: ../src/dockedapp.c:212 ../src/dockedapp.c:370 ../src/main.c:253
+#: ../src/rootmenu.c:1769 ../src/winspector.c:386 ../src/winspector.c:402
 msgid "OK"
 msgstr "½T©w"
 
-#: ../src/appicon.c:456 ../src/dock.c:264
+#: ../src/appicon.c:579 ../src/dock.c:277
 msgid ""
 " will be forcibly closed.\n"
 "Any unsaved changes will be lost.\n"
@@ -42,374 +42,343 @@
 "¥ô¦ó¥¼Àx¦sªº§ïÅÜ±N·|¿ò¥¢¡C\n"
 "½Ð½T»{¡C"
 
-#: ../src/appicon.c:464 ../src/dock.c:283 ../src/winmenu.c:124
+#: ../src/appicon.c:585 ../src/dock.c:282 ../src/winmenu.c:128
 msgid "Kill Application"
 msgstr "µ²§ôÀ³¥Îµ{¦¡"
 
-#: ../src/appicon.c:465 ../src/dock.c:284 ../src/winmenu.c:126
+#: ../src/appicon.c:586 ../src/dock.c:283 ../src/winmenu.c:130
 msgid "Yes"
 msgstr "¬O"
 
-#: ../src/appicon.c:465 ../src/dock.c:284 ../src/winmenu.c:126
+#: ../src/appicon.c:586 ../src/dock.c:283 ../src/winmenu.c:130
 msgid "No"
 msgstr "§_"
 
-#: ../src/appicon.c:495 ../src/dock.c:1177 ../src/dock.c:3491
+#: ../src/appicon.c:604 ../src/dock.c:1161 ../src/dock.c:3465
 msgid "Unhide Here"
 msgstr "¦b¦¹Åã²{"
 
-#: ../src/appicon.c:496 ../src/appicon.c:521 ../src/dock.c:1179
-#: ../src/dock.c:1181 ../src/dock.c:3503 ../src/winmenu.c:461
+#: ../src/appicon.c:605 ../src/appicon.c:630 ../src/dock.c:1163
+#: ../src/dock.c:1165 ../src/dock.c:3477 ../src/winmenu.c:471
 msgid "Hide"
 msgstr "ÁôÂÃ"
 
-#: ../src/appicon.c:497
+#: ../src/appicon.c:606
 msgid "Set Icon..."
 msgstr "³]©w¹Ï¥Ü..."
 
-#: ../src/appicon.c:498 ../src/dock.c:1185 ../src/rootmenu.c:248
-#: ../src/rootmenu.c:264 ../src/winmenu.c:508
+#: ../src/appicon.c:607 ../src/dock.c:1169 ../src/rootmenu.c:226
+#: ../src/rootmenu.c:240 ../src/winmenu.c:518
 msgid "Kill"
 msgstr "µ²§ô"
 
-#: ../src/appicon.c:519 ../src/dock.c:3501
+#: ../src/appicon.c:628 ../src/dock.c:3475
 msgid "Unhide"
 msgstr "Åã²{"
 
-#: ../src/application.c:398
-#, c-format
-msgid "recreating missing icon '%s'"
-msgstr "­«·s«Ø¥ß¯Ê¤Öªº¹Ï¥Ü¡u%s¡v"
-
-#: ../src/defaults.c:919 ../src/defaults.c:1008
-#, c-format
-msgid "Domain %s (%s) of global defaults database is corrupted!"
-msgstr "¾ãÅé¹w³]¸ê®Æ®wªº©w¸q°ì %s (%s) ¤w·lÃa¡I"
-
-#: ../src/defaults.c:924
-#, c-format
-msgid "could not load domain %s from global defaults database"
-msgstr "µLªk±q¾ãÅé¹w³]¸ê®Æ®w¸ü¤J©w¸q°ì %s"
-
-#: ../src/defaults.c:946 ../src/startup.c:884 ../src/startup.c:902
-#: ../src/startup.c:908
+#: ../src/defaults.c:904 ../src/startup.c:847 ../src/startup.c:865
+#: ../src/startup.c:871
 #, c-format
 msgid "could not read domain \"%s\" from defaults database"
-msgstr "µLªk±q¹w³]¸ê®Æ®wÅª¨ú©w¸q°ì¡u%s¡v"
+msgstr "µLªk±q¹w³]¸ê®Æ®wÅª¨ú©w¸q°ì \"%s\""
 
-#: ../src/defaults.c:992 ../src/defaults.c:1096 ../src/defaults.c:1137
-#: ../src/defaults.c:1193
+#: ../src/defaults.c:950 ../src/defaults.c:1075 ../src/defaults.c:1114
+#: ../src/defaults.c:1144
 #, c-format
 msgid "Domain %s (%s) of defaults database is corrupted!"
 msgstr "¹w³]¸ê®Æ®wªº©w¸q°ì %s (%s) ¤w·lÃa¡I"
 
-#: ../src/defaults.c:997 ../src/defaults.c:1116 ../src/defaults.c:1173
-#: ../src/defaults.c:1202
+#: ../src/defaults.c:955 ../src/defaults.c:1096 ../src/defaults.c:1127
+#: ../src/defaults.c:1153
 #, c-format
 msgid "could not load domain %s from user defaults database"
 msgstr "µLªk±q¨Ï¥ÎªÌ¹w³]¸ê®Æ®w¸ü¤J©w¸q°ì %s"
 
-#: ../src/defaults.c:1027
+#: ../src/defaults.c:966 ../src/defaults.c:1060
+#, c-format
+msgid "Domain %s (%s) of global defaults database is corrupted!"
+msgstr "¾ãÅé¹w³]¸ê®Æ®wªº©w¸q°ì %s (%s) ¤w·lÃa¡I"
+
+#: ../src/defaults.c:985
 #, c-format
 msgid "could not load domain %s from global defaults database (%s)"
 msgstr "µLªk±q¾ãÅé¹w³]¸ê®Æ®w (%2$s) ¸ü¤J©w¸q°ì %1$s"
 
-#: ../src/defaults.c:1163 ../src/screen.c:458
+#: ../src/defaults.c:1065
 #, c-format
-msgid "could not load logo image for panels: %s"
-msgstr "µLªk¸ü¤J­±ªOªº¼ÐÃÑ¼v¹³¡G%s"
+msgid "could not load domain %s from global defaults database"
+msgstr "µLªk±q¾ãÅé¹w³]¸ê®Æ®w¸ü¤J©w¸q°ì %s"
 
-#: ../src/defaults.c:1444
+#. --------------------------- Local -----------------------
+#: ../src/defaults.c:1362 ../src/defaults.c:1504 ../src/defaults.c:1616
+#: ../src/defaults.c:2095 ../src/defaults.c:2112 ../src/defaults.c:2157
+#: ../src/defaults.c:2204 ../src/defaults.c:2679 ../src/wdefaults.c:565
+#: ../src/wdefaults.c:601
 #, c-format
-msgid "wrong option value for key \"%s\". Should be one of %s"
-msgstr "key¡u%s¡vªº¿ï¶µ­È¿ù»~¡CÀ³¬° %s "
+msgid "Wrong option format for key \"%s\". Should be %s."
+msgstr "key \"%s\" ªº¿ï¶µ®æ¦¡¿ù»~¡CÀ³¬° %s¡C"
 
-#: ../src/defaults.c:1489
+#: ../src/defaults.c:1364 ../src/defaults.c:1445 ../src/defaults.c:1477
+#: ../src/defaults.c:1509 ../src/defaults.c:1522 ../src/defaults.c:1537
+#: ../src/defaults.c:1551 ../src/defaults.c:1621 ../src/defaults.c:1633
+#: ../src/defaults.c:2100 ../src/defaults.c:2117 ../src/defaults.c:2130
+#: ../src/defaults.c:2162 ../src/defaults.c:2178 ../src/defaults.c:2209
+#: ../src/defaults.c:2296 ../src/defaults.c:2684 ../src/defaults.c:2695
 #, c-format
-msgid "can't convert \"%s\" to boolean for key \"%s\""
-msgstr "µLªkÂà´« key¡u%2$s¡vªº¡u%1$s¡v¦¨¬° boolean"
+msgid "using default \"%s\" instead"
+msgstr "§ï¥Î¹w³] \"%s\""
 
-#: ../src/defaults.c:1494 ../src/defaults.c:1526 ../src/defaults.c:1558
-#: ../src/defaults.c:1571 ../src/defaults.c:1586 ../src/defaults.c:1600
-#: ../src/defaults.c:1670 ../src/defaults.c:1682 ../src/defaults.c:2149
-#: ../src/defaults.c:2166 ../src/defaults.c:2179 ../src/defaults.c:2211
-#: ../src/defaults.c:2227 ../src/defaults.c:2258 ../src/defaults.c:2345
-#: ../src/defaults.c:2731 ../src/defaults.c:2742
+#: ../src/defaults.c:1395
 #, c-format
-msgid "using default \"%s\" instead"
-msgstr "§ï¥Î¹w³]¡u%s¡v"
+msgid "wrong option value for key \"%s\". Should be one of %s"
+msgstr "key \"%s\" ªº¿ï¶µ­È¿ù»~¡CÀ³¬° %s "
 
-#: ../src/defaults.c:1523
+#: ../src/defaults.c:1440
 #, c-format
-msgid "can't convert \"%s\" to integer for key \"%s\""
-msgstr "µLªkÂà´« key¡u%2$s¡vªº¡u%1$s¡v¦¨¬°¾ã¼Æ"
+msgid "can't convert \"%s\" to boolean for key \"%s\""
+msgstr "µLªkÂà´« key \"%2$s\" ªº \"%1$s\" ¦¨¬° boolean"
 
-#: ../src/defaults.c:1553 ../src/defaults.c:1665 ../src/defaults.c:2144
-#: ../src/defaults.c:2161 ../src/defaults.c:2206 ../src/defaults.c:2253
-#: ../src/defaults.c:2726 ../src/wdefaults.c:571 ../src/wdefaults.c:607
+#: ../src/defaults.c:1474
 #, c-format
-msgid "Wrong option format for key \"%s\". Should be %s."
-msgstr "key¡u%s¡vªº¿ï¶µ®æ¦¡¿ù»~¡CÀ³¬° %s¡C"
+msgid "can't convert \"%s\" to integer for key \"%s\""
+msgstr "µLªkÂà´« key \"%2$s\" ªº \"%1$s\" ¦¨¬°¾ã¼Æ"
 
-#: ../src/defaults.c:1566
+#: ../src/defaults.c:1517
 #, c-format
 msgid "Incorrect number of elements in array for key \"%s\"."
-msgstr "key¡u%s¡vªº°}¦C¤¸¯À¼Æ¥Ø¿ù»~¡C"
+msgstr "key \"%s\" ªº°}¦C¤¸¯À¼Æ¥Ø¿ù»~¡C"
 
-#: ../src/defaults.c:1581
+#: ../src/defaults.c:1532
 #, c-format
 msgid "Wrong value for key \"%s\". Should be Coordinate."
-msgstr "key¡u%s¡vªº­È¿ù»~¡CÀ³¬°®y¼Ð¡C"
+msgstr "key \"%s\" ªº­È¿ù»~¡CÀ³¬°®y¼Ð¡C"
 
-#: ../src/defaults.c:1596
+#: ../src/defaults.c:1547
 #, c-format
 msgid "can't convert array to integers for \"%s\"."
-msgstr "µLªk¬°¡u%s¡vÂà´«°}¦C¦¨¬°¾ã¼Æ¡C"
+msgstr "µLªk¬° \"%s\" Âà´«°}¦C¦¨¬°¾ã¼Æ¡C"
 
-#: ../src/defaults.c:1794 ../src/defaults.c:1826 ../src/defaults.c:1842
-#: ../src/defaults.c:1871 ../src/defaults.c:1894 ../src/defaults.c:1947
-#: ../src/defaults.c:1987 ../src/defaults.c:2025 ../src/defaults.c:2041
+#: ../src/defaults.c:1745 ../src/defaults.c:1777 ../src/defaults.c:1793
+#: ../src/defaults.c:1822 ../src/defaults.c:1845 ../src/defaults.c:1898
+#: ../src/defaults.c:1938 ../src/defaults.c:1976 ../src/defaults.c:1992
 #, c-format
 msgid "\"%s\" is not a valid color name"
-msgstr "¡u%s¡v¤£¬O¦³®ÄªºÃC¦â¦W"
+msgstr "\"%s\" ¤£¬O¦³®ÄªºÃC¦â¦W"
 
-#: ../src/defaults.c:1807 ../src/defaults.c:1859
+#: ../src/defaults.c:1758 ../src/defaults.c:1810
 msgid "bad number of arguments in gradient specification"
 msgstr "º¥¼h³W®æ¤¤¤Þ¼Æ¼Æ¥Ø¿ù»~"
 
-#: ../src/defaults.c:1920
+#: ../src/defaults.c:1871
 msgid "too few arguments in multicolor gradient specification"
 msgstr "¦h¦âº¥¼h³W®æ¤¤¤Þ¼Æ¤Ó¤Ö"
 
-#: ../src/defaults.c:2014
+#: ../src/defaults.c:1965
 msgid "bad number of arguments in textured gradient specification"
 msgstr "§÷½èº¥¼h³W®æ¤¤¤Þ¼Æ¼Æ¥Ø¿ù»~"
 
-#: ../src/defaults.c:2057
+#: ../src/defaults.c:2008
 #, c-format
 msgid "bad opacity value for tgradient texture \"%s\". Should be [0..255]"
-msgstr "º¥¼h¡]tgradient¡^§÷½è¡u%s¡v¤£³z©ú­È¿ù»~¡CÀ³¸Ó¬O [0..255]"
+msgstr "º¥¼h (tgradient) §÷½è \"%s\" ¤£³z©ú­È¿ù»~¡CÀ³¸Ó¬O [0..255]"
 
-#: ../src/defaults.c:2117
+#: ../src/defaults.c:2068
 #, c-format
 msgid "could not initialize library %s"
-msgstr "µLªk±Ò©l¨ç¦¡®w %s"
+msgstr "µLªk±Ò©l¨ç¦¡®w: %s"
 
-#: ../src/defaults.c:2120
+#: ../src/defaults.c:2071
 #, c-format
 msgid "could not find function %s::%s"
 msgstr "§ä¤£¨ì¨ç¦¡ %s::%s"
 
-#: ../src/defaults.c:2127
+#: ../src/defaults.c:2078
 #, c-format
 msgid "invalid texture type %s"
 msgstr "§÷½è«¬ºA %s µL®Ä"
 
-#: ../src/defaults.c:2174
+#: ../src/defaults.c:2125
 #, c-format
 msgid "Error in texture specification for key \"%s\""
-msgstr "key¡u%s¡vªº§÷½è³W®æ¿ù»~"
+msgstr "key \"%s\" ªº§÷½è³W®æ¿ù»~"
 
-#: ../src/defaults.c:2223
+#: ../src/defaults.c:2174
 msgid "Wrong type for workspace background. Should be a texture type."
 msgstr "¤u§@°Ï­I´º«¬ºA¿ù»~¡CÀ³¬°§÷½è«¬ºA¡C"
 
-#: ../src/defaults.c:2271
+#: ../src/defaults.c:2222
 #, c-format
 msgid "Wrong type for background of workspace %i. Should be a texture."
 msgstr "¤u§@°Ï %i ­I´º«¬ºA¿ù»~¡CÀ³¬°§÷½è¡C"
 
-#: ../src/defaults.c:2313
+#: ../src/defaults.c:2264
 msgid "could not load any usable font!!!"
-msgstr "µLªk¸ü¤J¥ô¦ó¥i¥Î¦r«¬¡I¡I"
+msgstr "µLªk¸ü¤J¥ô¦ó¥i¥Î¦r«¬!!!"
 
-#: ../src/defaults.c:2340
+#: ../src/defaults.c:2291
 #, c-format
 msgid "could not get color for key \"%s\""
-msgstr "µLªk¨ú±o key¡u%s¡vªº¦â±m"
+msgstr "µLªk¨ú±o key \"%s\" ªº¦â±m"
 
-#: ../src/defaults.c:2398 ../src/rootmenu.c:523
+#: ../src/defaults.c:2349 ../src/rootmenu.c:492
 #, c-format
 msgid "%s:invalid key modifier \"%s\""
-msgstr "%s¡GÁä­×¹¢¡u%s¡vµL®Ä"
+msgstr "%s: Áä­×¥¿ \"%s\" µL®Ä"
 
-#: ../src/defaults.c:2410
+#: ../src/defaults.c:2361
 #, c-format
 msgid "%s:invalid kbd shortcut specification \"%s\""
-msgstr "%s¡GÁä½L±¶®|³W®æ¡u%s¡vµL®Ä"
+msgstr "%s: Áä½L±¶®|³W®æ \"%s\" µL®Ä"
 
-#: ../src/defaults.c:2417
+#: ../src/defaults.c:2368
 #, c-format
 msgid "%s:invalid key in shortcut \"%s\""
-msgstr "%s¡G±¶®|¡u%s¡vªºÁäµL®Ä"
+msgstr "%s: ±¶®| \"%s\" ªºÁäµL®Ä"
 
-#: ../src/defaults.c:2442
+#: ../src/defaults.c:2393
 #, c-format
 msgid "%s: modifier key %s is not valid"
-msgstr "%s¡G­×¹¢Áä %s ¤£¥¿½T"
+msgstr "%s: ­×¥¿Áä %s ¤£¥¿½T"
 
-#: ../src/defaults.c:2474
-#, c-format
+#: ../src/defaults.c:2425
+#, fuzzy, c-format
 msgid "could not load image in option %s: %s"
-msgstr "µLªk¸ü¤J¼v¹³©ó¿ï¶µ¡u%s¡v¡G%s"
+msgstr "µLªk¸ü¤J¹w³]¹Ï¥Ü \"%s\":%s"
 
-#: ../src/defaults.c:2591
+#: ../src/defaults.c:2544
 #, c-format
 msgid "failed to open bitmap file \"%s\""
-msgstr "µLªk¶}±Ò¬M¹³ÀÉ¡u%s¡v"
+msgstr "µLªk¶}±Ò¬M¹³ÀÉ \"%s\""
 
-#: ../src/defaults.c:2594
+#: ../src/defaults.c:2547
 #, c-format
 msgid "\"%s\" is not a valid bitmap file"
-msgstr "¡u%s¡v¤£¬O¦³®Äªº¬M¹³ÀÉ¦W"
+msgstr "\"%s\" ¤£¬O¦³®Äªº¬M¹³ÀÉ¦W"
 
-#: ../src/defaults.c:2597
+#: ../src/defaults.c:2550
 #, c-format
 msgid "out of memory reading bitmap file \"%s\""
-msgstr "Åª¤J¡u%s¡v¬M¹³ÀÉ®É°O¾ÐÅé¤£¨¬"
+msgstr "Åª¤J \"%s\" ¬M¹³ÀÉ®É°O¾ÐÅé¤£¨¬"
 
-#: ../src/defaults.c:2636 ../src/defaults.c:2669
+#: ../src/defaults.c:2589 ../src/defaults.c:2622
 msgid "bad number of arguments in cursor specification"
 msgstr "´å¼Ð³W®æ¤¤¤Þ¼Æ¼Æ¥Ø¿ù»~"
 
-#: ../src/defaults.c:2652
+#: ../src/defaults.c:2605
 #, c-format
 msgid "unknown builtin cursor name \"%s\""
-msgstr "¤£¦Wªº¤ºÁä´å¼Ð¦W¡u%s¡v"
+msgstr ""
 
-#: ../src/defaults.c:2679 ../src/defaults.c:2691
+#: ../src/defaults.c:2632 ../src/defaults.c:2644
 #, c-format
 msgid "could not find cursor bitmap file \"%s\""
-msgstr "µLªk§ä¨ì´å¼Ð¬M¹³ÀÉ¡u%s¡v"
+msgstr "µLªk§ä¨ì´å¼Ð¬M¹³ÀÉ \"%s\""
 
-#: ../src/defaults.c:2738
+#: ../src/defaults.c:2691
 #, c-format
 msgid "Error in cursor specification for key \"%s\""
-msgstr "key¡u%s¡vªº´å¼Ð³W®æ¿ù»~"
+msgstr "key \"%s\" ªº´å¼Ð³W®æ¿ù»~"
 
-#: ../src/defaults.c:2823
+#: ../src/defaults.c:2778
 msgid "could not render texture for icon background"
 msgstr "µLªkªí²{¹Ï¥Ü­I´ºªº§÷½è"
 
-#: ../src/dialog.c:135
-msgid "Save workspace state"
-msgstr "Àx¦s¤u§@°Ïª¬ºA"
-
-#: ../src/dialog.c:179 ../src/dialog.c:736 ../src/dock.c:558
-#: ../src/dockedapp.c:431 ../src/rootmenu.c:198 ../src/rootmenu.c:248
-#: ../src/rootmenu.c:264
+#: ../src/dialog.c:121 ../src/dialog.c:575 ../src/dock.c:549
+#: ../src/dockedapp.c:376 ../src/rootmenu.c:188 ../src/rootmenu.c:226
+#: ../src/rootmenu.c:240
 msgid "Cancel"
 msgstr "¨ú®ø"
 
-#: ../src/dialog.c:277
+#: ../src/dialog.c:219
 msgid "Could not open directory "
 msgstr "µLªk¶}±Ò¥Ø¿ý"
 
-#: ../src/dialog.c:332
+#: ../src/dialog.c:274
 msgid "Could not load image file "
 msgstr "µLªk¸ü¤J¼v¹³ÀÉ"
 
-#: ../src/dialog.c:663
+#: ../src/dialog.c:503
 msgid "Directories"
 msgstr "¥Ø¿ý"
 
-#: ../src/dialog.c:672
+#: ../src/dialog.c:512
 msgid "Icons"
 msgstr "¹Ï¥Ü"
 
-#: ../src/dialog.c:705
+#: ../src/dialog.c:545
 msgid "Preview"
-msgstr "¹wÄý"
+msgstr ""
 
-#: ../src/dialog.c:718
+#: ../src/dialog.c:558
 msgid "File Name:"
-msgstr "ÀÉ¦W¡G"
+msgstr "ÀÉ¦W:"
 
-#: ../src/dialog.c:742
+#: ../src/dialog.c:581
 msgid "Choose File"
 msgstr "¿ï¨úÀÉ®×"
 
-#: ../src/dialog.c:760 ../src/dialog.c:762
+#: ../src/dialog.c:598 ../src/dialog.c:600
 msgid "Icon Chooser"
 msgstr "¹Ï¥Ü¿ï¨ú¾¹"
 
-#: ../src/dialog.c:1241 ../src/dialog.c:1351
+#: ../src/dialog.c:1034 ../src/dialog.c:1139
 #, c-format
 msgid "Version %s"
-msgstr "ª©¥» %s"
+msgstr ""
 
-#: ../src/dialog.c:1348
+#: ../src/dialog.c:1136
 msgid "Window Manager for X"
 msgstr "X ©³¤Uªºµøµ¡ºÞ²z­û"
 
-#: ../src/dialog.c:1371
-#, c-format
-msgid "Using visual 0x%x: %s %ibpp "
-msgstr "¨Ï¥Î visual 0x%x: %s %ibpp "
-
-#: ../src/dialog.c:1379
-msgid "(32 thousand colors)\n"
-msgstr "¡]¤T¸U¤G¤d¦â¡^\n"
+#: ../src/dialog.c:1160
+msgid "32 thousand"
+msgstr ""
 
-#: ../src/dialog.c:1382
-msgid "(64 thousand colors)\n"
-msgstr "¡]¤»¸U¥|¤d¦â¡^\n"
+#: ../src/dialog.c:1163
+msgid "64 thousand"
+msgstr ""
 
-#: ../src/dialog.c:1386
-msgid "(16 million colors)\n"
-msgstr "¡]¤@»õ¤»¦Ê¸U¦â¡^\n"
+#: ../src/dialog.c:1167
+msgid "16 million"
+msgstr ""
 
-#: ../src/dialog.c:1389
+#: ../src/dialog.c:1174
 #, c-format
-msgid "(%d colors)\n"
-msgstr "¡]%d ¦â¡^\n"
+msgid "Using visual 0x%x: %s %ibpp (%s colors)\n"
+msgstr ""
 
-#: ../src/dialog.c:1399
+#: ../src/dialog.c:1182
 #, c-format
 msgid "Total allocated memory: %i kB. Total memory in use: %i kB.\n"
-msgstr "¦X­p°t¸m°O¾ÐÅé¡G%i kB¡C¦X­p¨Ï¥Î¤¤°O¾ÐÅé¡G%i kB¡C\n"
+msgstr ""
 
-#: ../src/dialog.c:1406
+#: ../src/dialog.c:1188
 msgid "Supported image formats: "
-msgstr "¤ä´©¼v¹³®æ¦¡¡G"
+msgstr ""
 
-#: ../src/dialog.c:1413
+#: ../src/dialog.c:1195
 msgid ""
 "\n"
-"Additional support for: "
+"Additional Support For: "
 msgstr ""
-"\n"
-"ÃB¥~¤ä´©¡G"
 
-#: ../src/dialog.c:1436
-msgid " and "
-msgstr " »P "
-
-#: ../src/dialog.c:1446
-msgid ""
-"\n"
-"Sound disabled"
+#: ../src/dialog.c:1214
+msgid "Sound"
 msgstr ""
-"\n"
-"¨ú®ø­µ®Ä"
 
-#: ../src/dialog.c:1448
-msgid ""
-"\n"
-"Sound enabled"
+#: ../src/dialog.c:1221
+msgid " and "
 msgstr ""
-"\n"
-"±Ò°Ê­µ®Ä"
 
-#: ../src/dialog.c:1472
+#: ../src/dialog.c:1250
 msgid "Info"
-msgstr "¸ê°T"
+msgstr ""
 
-#: ../src/dialog.c:1495
-msgid "Merry Christmas!"
-msgstr "¸t½Ï§Ö¼Ö¡I"
+#: ../src/dialog.c:1273
+msgid "Merry X'mas!"
+msgstr ""
 
-#: ../src/dialog.c:1565
+#: ../src/dialog.c:1343
 msgid ""
 "    Window Maker is free software; you can redistribute it and/or\n"
 "modify it under the terms of the GNU General Public License as\n"
@@ -429,19 +398,19 @@
 "02111-1307, USA."
 msgstr ""
 
-#: ../src/dialog.c:1586
+#: ../src/dialog.c:1364
 msgid "Legal"
-msgstr "ªk«ß"
+msgstr ""
 
-#: ../src/dialog.c:1737 ../src/startup.c:395
+#: ../src/dialog.c:1516 ../src/startup.c:349
 msgid "cannot open connection for crashing dialog panel. Aborting."
-msgstr "µLªk¬°±Y¼ì¹ï¸Ü­±ªO¶}±Ò³sµ²¡C©ñ±ó¡C"
+msgstr ""
 
-#: ../src/dialog.c:1763
+#: ../src/dialog.c:1542
 msgid "Fatal error"
-msgstr "ÄY­«¿ù»~"
+msgstr ""
 
-#: ../src/dialog.c:1774
+#: ../src/dialog.c:1553
 #, c-format
 msgid ""
 "Window Maker received signal %i\n"
@@ -450,40 +419,41 @@
 "Window Maker ¦¬¨ì°T¸¹ %i\n"
 "(%s)."
 
-#: ../src/dialog.c:1777
+#: ../src/dialog.c:1556
 #, c-format
 msgid "Window Maker received signal %i."
 msgstr "Window Maker ¦¬¨ì°T¸¹ %i¡C"
 
-#: ../src/dialog.c:1786
+#: ../src/dialog.c:1565
 msgid ""
 " This fatal error occured probably due to a bug. Please fill the included "
 "BUGFORM and report it to bugs@windowmaker.org."
 msgstr ""
-"³o­ÓÄY­«¿ù»~¥i¯à¬O¦]¬°µ{¦¡¿ù»~©Ò­P¡C½Ð¶ñ¼gªþ±aªº BUGFORM ¨Ã¦V "
-"bugs@windowmaker.org ´£¥X³ø§i¡C"
+"³o­ÓÄY­«¿ù»~¥i¯à¬O¦]¬°µ{¦¡¿ù»~©Ò­P¡C½Ð¶ñ¼gªþ±aªº BUGFORM "
+"¨Ã¦V bugs@windowmaker.org ´£¥X³ø§i¡C"
 
-#: ../src/dialog.c:1795
+#: ../src/dialog.c:1573
 msgid "What do you want to do now?"
-msgstr "§A²{¦b­n°µ¤°»ò¡H"
+msgstr ""
 
-#: ../src/dialog.c:1801
+#: ../src/dialog.c:1579
+#, fuzzy
 msgid "Select action"
-msgstr "¿ï¨ú°Ê§@"
+msgstr "¿ï¨ú¹Ï¥Ü¡]¨ú®ø¡^"
 
-#: ../src/dialog.c:1802
+#: ../src/dialog.c:1580
 msgid "Abort and leave a core file"
-msgstr "©ñ±ó¥B¯d¤U core ÀÉ"
+msgstr ""
 
-#: ../src/dialog.c:1803
+#: ../src/dialog.c:1581
 msgid "Restart Window Maker"
 msgstr "­«·s±Ò°Ê Window Maker"
 
-#: ../src/dialog.c:1804
+#: ../src/dialog.c:1582
 msgid "Start alternate window manager"
 msgstr "±Ò°Ê¥t¤@®Mµøµ¡ºÞ²z­û"
 
-#: ../src/dialog.c:1982
+#: ../src/dialog.c:1760
 msgid ""
 "Window Maker is part of the GNUstep project.\n"
 "The GNUstep project aims to create a free\n"
@@ -496,232 +466,230 @@
 "GNUstep, please visit: www.gnustep.org"
 msgstr ""
 
-#: ../src/dialog.c:2002
+#: ../src/dialog.c:1780
 msgid "About GNUstep"
 msgstr "¦³Ãö GNUstep"
 
 #: ../src/dock.c:213
 #, c-format
 msgid "Type the name for workspace %i:"
-msgstr "¿é¤J¤u§@°Ï %i ¦WºÙ¡G"
+msgstr "¿é¤J¤u§@°Ï %i ¦WºÙ:"
 
-#: ../src/dock.c:214 ../src/dock.c:1141 ../src/dock.c:1144 ../src/dock.c:3409
+#: ../src/dock.c:214 ../src/dock.c:1125 ../src/dock.c:1128 ../src/dock.c:3383
 msgid "Rename Workspace"
 msgstr "¤u§@°Ï§ó¦W"
 
-#: ../src/dock.c:520 ../src/dock.c:528
+#: ../src/dock.c:511 ../src/dock.c:519
 msgid "Warning"
-msgstr "ª`·N"
+msgstr ""
 
-#: ../src/dock.c:521
+#: ../src/dock.c:512
 msgid ""
 "Some icons cannot be made omnipresent. Please make sure that no other icon "
 "is docked in the same positions on the other workspaces and the Clip is not "
 "full in some workspace."
 msgstr ""
-"¬Y¨Ç¹Ï¥ÜµLªk³]¦¨µL©Ò¤£¦b¡C½Ð½T»{¦b¨ä¥L¤u§@°Ï¦P¤@­Ó¦ì¸m¤W¨S¦³¨ä¥L¹Ï¥Ü°±¾a¥B¦b¬"
-"Y¨Ç¤u§@°Ïªº°j¯¾°w¥¼º¡¡C"
 
-#: ../src/dock.c:529
+#: ../src/dock.c:520
 msgid ""
 "Icon cannot be made omnipresent. Please make sure that no other icon is "
 "docked in the same position on the other workspaces and the Clip is not full "
 "in some workspace."
 msgstr ""
-"¹Ï¥ÜµLªk³]¦¨µL©Ò¤£¦b¡C½Ð½T»{¦b¨ä¥L¤u§@°Ï¦P¤@­Ó¦ì¸m¤W¨S¦³¨ä¥L¹Ï¥Ü°±¾a¥B¦b¬Y¨Ç¤"
-"u§@°Ïªº°j¯¾°w¥¼º¡¡C"
 
-#: ../src/dock.c:556
+#: ../src/dock.c:547
 msgid "Workspace Clip"
 msgstr "¤u§@°Ï°j¯¾°w"
 
-#: ../src/dock.c:557
+#: ../src/dock.c:548
 msgid "All selected icons will be removed!"
 msgstr "©Ò¦³¿ï¨úªº¹Ï¥Ü·|³Q§R°£¡I"
 
-#: ../src/dock.c:608 ../src/dock.c:1156 ../src/dock.c:1158 ../src/dock.c:3445
+#: ../src/dock.c:599 ../src/dock.c:1140 ../src/dock.c:1142 ../src/dock.c:3419
 msgid "Keep Icon"
 msgstr "«O«ù¹Ï¥Ü"
 
-#: ../src/dock.c:609 ../src/dock.c:2137 ../src/dock.c:2278
+#: ../src/dock.c:600 ../src/dock.c:2122 ../src/dock.c:2256
 msgid "Type the command used to launch the application"
 msgstr "¿é¤J¥Î¨Ó±Ò°ÊÀ³¥Îµ{¦¡ªº©R¥O"
 
-#: ../src/dock.c:965
+#: ../src/dock.c:951
 #, c-format
 msgid "could not launch application %s\n"
 msgstr "µLªk±Ò°ÊÀ³¥Îµ{¦¡ %s\n"
 
-#: ../src/dock.c:1020
+#: ../src/dock.c:1006
 msgid "could not create workspace submenu for Clip menu"
 msgstr "µLªk¬°°j¯¾°w¿ï³æ«Ø¥ß¤u§@°Ï°Æ¿ï³æ"
 
-#: ../src/dock.c:1078
-msgid "could not create options submenu for Clip menu"
-msgstr "µLªk¬°°j¯¾°w¿ï³æ«Ø¥ß¿ï¶µ°Æ¿ï³æ"
-
-#: ../src/dock.c:1082 ../src/dock.c:1130
+#: ../src/dock.c:1029 ../src/dock.c:1072 ../src/dock.c:1117 ../src/dock.c:3363
 msgid "Keep on Top"
 msgstr "«O«ù¦b³Ì¤W¼h"
 
-#: ../src/dock.c:1088
+#: ../src/dock.c:1031 ../src/dock.c:3365
+msgid "Allow Lowering"
+msgstr ""
+
+#: ../src/dock.c:1068
+msgid "could not create options submenu for Clip menu"
+msgstr "µLªk¬°°j¯¾°w¿ï³æ«Ø¥ß¿ï¶µ°Æ¿ï³æ"
+
+#: ../src/dock.c:1075
 msgid "Collapsed"
-msgstr "ºPÅ|"
+msgstr "§éÅ|"
 
-#: ../src/dock.c:1094
-msgid "Autocollapse"
-msgstr "¦Û°ÊºPÅ|"
+#: ../src/dock.c:1081
+msgid "AutoCollapse"
+msgstr "¦Û°Ê§éÅ|"
 
-#: ../src/dock.c:1100
-msgid "Autoraise"
+#: ../src/dock.c:1087
+msgid "AutoRaiseLower"
 msgstr "¦Û°Ê¤É­°"
 
-#: ../src/dock.c:1106
-msgid "Autoattract Icons"
+#: ../src/dock.c:1093
+msgid "AutoAttract Icons"
 msgstr "¦Û°Ê§l¤Þ¹Ï¥Ü"
 
-#: ../src/dock.c:1136
+#: ../src/dock.c:1120
 msgid "Clip Options"
 msgstr "°j¯¾°w¿ï¶µ"
 
-#: ../src/dock.c:1146
+#: ../src/dock.c:1130
 msgid "Selected"
 msgstr "¤w¿ï¨ú"
 
-#: ../src/dock.c:1151 ../src/dock.c:1154 ../src/dock.c:3436
+#: ../src/dock.c:1135 ../src/dock.c:1138 ../src/dock.c:3410
+#, fuzzy
 msgid "Select All Icons"
-msgstr "¿ï¨ú©Ò¦³¹Ï¥Ü"
+msgstr "¿ï¨ú©Ò¦³¹Ï¥Ü¡]¨ú®ø¡^"
 
-#: ../src/dock.c:1160 ../src/dock.c:1162 ../src/dock.c:3453
+#: ../src/dock.c:1144 ../src/dock.c:1146 ../src/dock.c:3427
 msgid "Move Icon To"
 msgstr "²¾°Ê¹Ï¥Ü¦Ü"
 
-#: ../src/dock.c:1167 ../src/dock.c:1170 ../src/dock.c:3464
+#: ../src/dock.c:1151 ../src/dock.c:1154 ../src/dock.c:3438
 msgid "Remove Icon"
 msgstr "§R°£¹Ï¥Ü"
 
-#: ../src/dock.c:1172
+#: ../src/dock.c:1156
 msgid "Attract Icons"
 msgstr "§l¤Þ¹Ï¥Ü"
 
-#: ../src/dock.c:1175
+#: ../src/dock.c:1159
 msgid "Launch"
 msgstr "±Ò°Ê"
 
-#: ../src/dock.c:1183
+#: ../src/dock.c:1167
 msgid "Settings..."
 msgstr "³]©w..."
 
-#: ../src/dock.c:1548 ../src/dock.c:1655
+#: ../src/dock.c:1526 ../src/dock.c:1629
 #, c-format
 msgid "bad value in docked icon state info %s"
 msgstr "°±¾aªº¹Ï¥Üª¬ºA¸ê°T %s ­È¤£¥¿½T"
 
-#: ../src/dock.c:1663
+#: ../src/dock.c:1637
 #, c-format
 msgid "bad value in docked icon position %i,%i"
 msgstr "°±¾aªº¹Ï¥Ü¦ì¸m %i,%i ­È¤£¥¿½T"
 
-#: ../src/dock.c:1919
+#: ../src/dock.c:1657
+#, c-format
+msgid "bad value in dock state info:%s"
+msgstr "°±¾a°Ïªºª¬ºA¸ê°T %s ­È¤£¥¿½T"
+
+#: ../src/dock.c:1889
 msgid "there are too many icons stored in dock. Ignoring what doesn't fit"
 msgstr "¤Ó¦h¹Ï¥Ü¦s©ñ¦b°±¾a°Ï¡C©¿²¤¤£¾A·íªº"
 
 #. icon->forced_dock = 1;
-#: ../src/dock.c:2136 ../src/dock.c:2277
+#: ../src/dock.c:2121 ../src/dock.c:2255
 msgid "Dock Icon"
 msgstr "°±¾a¹Ï¥Ü"
 
-#: ../src/dock.c:3323
+#: ../src/dock.c:3286 ../src/dock.c:3290
 #, c-format
 msgid "Could not execute command \"%s\""
-msgstr "µLªk°õ¦æ©R¥O¡u%s¡v"
+msgstr "µLªk°õ¦æ©R¥O \"%s\""
 
-#: ../src/dock.c:3415
+#: ../src/dock.c:3389
+#, fuzzy
 msgid "Toggle Omnipresent"
-msgstr "¤Á´«µL©Ò¤£¦b"
+msgstr "µL©Ò¤£¦b"
 
-#: ../src/dock.c:3420 ../src/kwm.c:637 ../src/winmenu.c:413
-#: ../src/winspector.c:1375
+#: ../src/dock.c:3394 ../src/winmenu.c:423 ../src/winspector.c:1376
 msgid "Omnipresent"
 msgstr "µL©Ò¤£¦b"
 
-#: ../src/dock.c:3434
+#: ../src/dock.c:3408
+#, fuzzy
 msgid "Unselect All Icons"
-msgstr "¨ú®ø¿ï¨ú©Ò¦³¹Ï¥Ü"
+msgstr "¿ï¨ú©Ò¦³¹Ï¥Ü¡]¨ú®ø¡^"
 
-#: ../src/dock.c:3443
+#: ../src/dock.c:3417
 msgid "Keep Icons"
 msgstr "«O«ù¹Ï¥Ü"
 
-#: ../src/dock.c:3451
+#: ../src/dock.c:3425
 msgid "Move Icons To"
 msgstr "²¾°Ê¹Ï¥Ü¦Ü"
 
-#: ../src/dock.c:3462
+#: ../src/dock.c:3436
 msgid "Remove Icons"
 msgstr "§R°£¹Ï¥Ü"
 
-#: ../src/dock.c:3493 ../src/kwm.c:643
+#: ../src/dock.c:3467
 msgid "Bring Here"
-msgstr "±a¨ì³o¸Ì"
+msgstr ""
 
-#: ../src/dockedapp.c:149
+#: ../src/dockedapp.c:131
 #, c-format
 msgid "could not find icon %s, used in a docked application"
 msgstr "µLªk§ä¨ì¹Ï¥Ü %s¡A¥Î©ó°±¾aªºÀ³¥Îµ{¦¡"
 
-#: ../src/dockedapp.c:229
+#: ../src/dockedapp.c:210
 #, c-format
 msgid "Could not open specified icon file: %s"
-msgstr "µLªk¶}±Ò«ü©wªº¹Ï¥ÜÀÉ¡G%s"
+msgstr "µLªk¶}±Ò«ü©wªº¹Ï¥ÜÀÉ: %s"
 
-#: ../src/dockedapp.c:231
+#: ../src/dockedapp.c:212
 msgid "Ignore"
-msgstr "©¿²¤"
+msgstr ""
 
-#: ../src/dockedapp.c:333
-msgid "Start when Window Maker is started"
-msgstr "·í Window Maker ±Ò°Ê®É±Ò°Ê"
+#: ../src/dockedapp.c:305
+msgid "Start when WindowMaker is started"
+msgstr "·í WindowMaker ±Ò°Ê®É±Ò°Ê"
 
-#: ../src/dockedapp.c:340
+#: ../src/dockedapp.c:312
 msgid "Lock (prevent accidental removal)"
-msgstr "Âê©w¡]¨¾¤î·N¥~§R°£¡^"
+msgstr ""
 
-#: ../src/dockedapp.c:344
+#: ../src/dockedapp.c:318
 msgid "Application path and arguments"
 msgstr "À³¥Îµ{¦¡¸ô®|»P¤Þ¼Æ"
 
-#: ../src/dockedapp.c:357
-msgid "Command for middle-click launch"
-msgstr "·Æ¹«¤¤Áä±Ò°Êªº©R¥O"
-
-#: ../src/dockedapp.c:371
-#, c-format
-msgid "%s will be replaced with current selection"
-msgstr "%d ·|³Q¥Ø«e¿ï¨úª«¨ú¥N"
-
-#: ../src/dockedapp.c:376
+#: ../src/dockedapp.c:329
 msgid "Command for files dropped with DND"
 msgstr "DND ©ñ¸mÀÉ®×ªº©R¥O"
 
-#: ../src/dockedapp.c:390
+#: ../src/dockedapp.c:341
 #, c-format
 msgid "%d will be replaced with the file name"
 msgstr "%d ·|³QÀÉ¦W¨ú¥N"
 
-#: ../src/dockedapp.c:394
+#: ../src/dockedapp.c:345
 msgid "DND support was not compiled in"
 msgstr "¥¼½sÄ¶¤J DND ¤ä´©"
 
-#: ../src/dockedapp.c:399
+#: ../src/dockedapp.c:351
 msgid "Icon Image"
 msgstr "¹Ï¥Ü¼v¹³"
 
-#: ../src/dockedapp.c:413 ../src/winspector.c:1513
+#: ../src/dockedapp.c:363 ../src/winspector.c:1514
 msgid "Browse..."
 msgstr "ÂsÄý..."
 
-#: ../src/dockedapp.c:466
+#: ../src/dockedapp.c:408
 msgid "Docked Application Settings"
 msgstr "°±¾aªºÀ³¥Îµ{¦¡³]©w"
 
@@ -729,178 +697,127 @@
 #: ../src/texture.c:594
 #, c-format
 msgid "could not render texture: %s"
-msgstr "µLªkªí²{§÷½è¡G%s"
+msgstr "µLªkªí²{§÷½è: %s"
 
 #: ../src/framewin.c:672 ../src/framewin.c:683 ../src/framewin.c:699
 #: ../src/framewin.c:710 ../src/framewin.c:717 ../src/framewin.c:724
 #: ../src/icon.c:350 ../src/menu.c:485
 #, c-format
 msgid "error rendering image:%s"
-msgstr "ªí²{¼v¹³¿ù»~¡G%s"
+msgstr "ªí²{¼v¹³¿ù»~: %s"
 
 #: ../src/framewin.c:777
 #, c-format
 msgid "error rendering image: %s"
-msgstr "ªí²{¼v¹³¿ù»~¡G%s"
+msgstr "ªí²{¼v¹³¿ù»~: %s"
 
-#: ../src/gnome.c:216 ../src/gnome.c:343 ../src/gnome.c:401
-msgid "out of memory while updating GNOME hints"
-msgstr "§ó·s GNOME ´£¥Ü®É°O¾ÐÅé¤£¨¬"
-
-#: ../src/icon.c:229 ../src/wdefaults.c:443
+#: ../src/icon.c:229 ../src/wdefaults.c:435
 #, c-format
 msgid "error loading image file \"%s\""
-msgstr "¸ü¤J¼v¹³ÀÉ¿ù»~¡u%s¡v"
+msgstr "¸ü¤J¼v¹³ÀÉ¿ù»~ \"%s\""
 
-#: ../src/icon.c:491 ../src/icon.c:500
+#: ../src/icon.c:488 ../src/icon.c:497
 #, c-format
 msgid "could not create directory %s"
 msgstr "µLªk«Ø¥ß¥Ø¿ý %s"
 
-#: ../src/icon.c:767
+#: ../src/icon.c:764
 #, c-format
 msgid "could not find default icon \"%s\""
-msgstr "µLªk¸ü¤J¹w³]¹Ï¥Ü¡u%s¡v"
+msgstr "µLªk¸ü¤J¹w³]¹Ï¥Ü \"%s\""
 
-#: ../src/icon.c:773
+#: ../src/icon.c:770
 #, c-format
 msgid "could not load default icon \"%s\":%s"
-msgstr "µLªk¸ü¤J¹w³]¹Ï¥Ü¡u%s¡v¡G%s"
-
-#.
-#. * Warning: If you make some change that affects the order of the
-#. * entries, you must update the command #defines in the top of
-#. * this file.
-#.
-#: ../src/kwm.c:633 ../src/winmenu.c:436 ../src/winmenu.c:571
-msgid "Maximize"
-msgstr "³Ì¤j¤Æ"
-
-#: ../src/kwm.c:634 ../src/winmenu.c:566
-msgid "Unmaximize"
-msgstr "¨ú®ø³Ì¤j¤Æ"
-
-#: ../src/kwm.c:635 ../src/winmenu.c:444 ../src/winmenu.c:557
-msgid "Miniaturize"
-msgstr "³Ì¤p¤Æ"
-
-#: ../src/kwm.c:636 ../src/winmenu.c:552
-msgid "Deminiaturize"
-msgstr "¨ú®ø³Ì¤p¤Æ"
-
-#: ../src/kwm.c:638
-msgid "Not Omnipresent"
-msgstr "«DµL©Ò¤£¦b"
-
-#: ../src/kwm.c:639
-msgid "Move"
-msgstr "²¾°Ê"
-
-#: ../src/kwm.c:640
-msgid "Resize"
-msgstr "¤j¤pÅÜ§ó"
-
-#.
-#. entry = wMenuAddCallback(menu, _("Select Shortcut"), NULL, NULL);
-#. wMenuEntrySetCascade(menu, entry, makeMakeShortcutMenu(scr));
-#.
-#: ../src/kwm.c:641 ../src/rootmenu.c:248 ../src/winmenu.c:501
-msgid "Close"
-msgstr "Ãö³¬"
+msgstr "µLªk¸ü¤J¹w³]¹Ï¥Ü \"%s\":%s"
 
-#: ../src/kwm.c:642 ../src/winmenu.c:485
-msgid "Move To"
-msgstr "²¾¦Ü"
-
-#: ../src/kwm.c:1096
-msgid "%a(Run Command,Type the command to run:)"
-msgstr "%a¡]°õ¦æ©R¥O¡A¿é¤J­n°õ¦æªº©R¥O¡G¡^"
-
-#: ../src/main.c:222
+#: ../src/main.c:203
 msgid "failed to restart Window Maker."
-msgstr "­«·s±Ò°Ê Window Maker ¥¢±Ñ¡C"
+msgstr ""
 
-#: ../src/main.c:225
+#: ../src/main.c:206
 #, c-format
 msgid "could not exec %s"
 msgstr "µLªk°õ¦æ %s"
 
-#: ../src/main.c:271
+#: ../src/main.c:251
 msgid "Could not execute command: "
-msgstr "µLªk°õ¦æ©R¥O¡G"
+msgstr "µLªk°õ¦æ©R¥O: "
 
-#: ../src/main.c:428
+#: ../src/main.c:408
 #, c-format
 msgid "%s aborted.\n"
 msgstr "%s ©ñ±ó¡C\n"
 
-#: ../src/main.c:439
+#: ../src/main.c:419
 #, c-format
 msgid "Usage: %s [options]\n"
-msgstr "¨Ï¥Îªk¡G%s [¿ï¶µ]\n"
+msgstr "¨Ï¥Îªk¡G %s [¿ï¶µ]\n"
 
-#: ../src/main.c:440
+#: ../src/main.c:420
 msgid "The Window Maker window manager for the X window system"
-msgstr "X µøµ¡¨t²Î¤§ Window Maker µøµ¡ºÞ²z­û"
+msgstr "The Window Maker window manager for the X window system"
 
-#: ../src/main.c:442
+#: ../src/main.c:422
 msgid " -display host:dpy\tdisplay to use"
 msgstr " -display host:dpy\t­n¨Ï¥Îªº display"
 
-#: ../src/main.c:444
+#: ../src/main.c:424
 msgid " --no-cpp \t\tdisable preprocessing of configuration files"
 msgstr " --no-cpp \t\t¤£¹w¥ý³B²z³]©wÀÉ"
 
-#: ../src/main.c:446
+#: ../src/main.c:426
 msgid " --no-dock\t\tdo not open the application Dock"
 msgstr " --no-dock\t\t¤£­n¶}±Òµ{¦¡°±¾a°Ï"
 
-#: ../src/main.c:447
+#: ../src/main.c:427
 msgid " --no-clip\t\tdo not open the workspace Clip"
 msgstr " --no-clip\t\t¤£­n¶}±Ò¤u§@°Ï°j¯¾°w"
 
-#: ../src/main.c:448
+#: ../src/main.c:428
+#, fuzzy
 msgid " --no-autolaunch\tdo not autolaunch applications"
-msgstr " --no-autolaunch\t¤£­n¦Û°Ê±Ò°ÊÀ³¥Îµ{¦¡"
+msgstr " --no-autolaunch\t¤£­n¦Û°Ê±Ò°ÊÀ³¥Îµ{¦¡\n"
 
-#: ../src/main.c:449
+#: ../src/main.c:429
 msgid " --dont-restore\t\tdo not restore saved session"
-msgstr " --dont-restore\t\t¤£­n¦Û°Ê¦^¦sÀx¦sªº¶¥¬q"
+msgstr ""
 
-#: ../src/main.c:451
+#: ../src/main.c:431
 msgid " --locale locale\tlocale to use"
-msgstr " --locale locale\t¨Ï¥Îªº locale"
+msgstr ""
 
-#: ../src/main.c:453
+#: ../src/main.c:433
 msgid ""
 " --create-stdcmap\tcreate the standard colormap hint in PseudoColor visuals"
-msgstr " --create-stdcmap\t¦bµêÀÀ¦â±m visual ¤¤«Ø¥ß¼Ð·Ç¦â±m¹ïÀ³´£¥Ü"
+msgstr ""
 
-#: ../src/main.c:454
+#: ../src/main.c:434
 msgid " --visual-id visualid\tvisual id of visual to use"
 msgstr " --visual-id visualid\t©Ò±ý¨Ï¥Îªº visual ¤§ visualid"
 
-#: ../src/main.c:455
+#: ../src/main.c:435
 msgid " --static\t\tdo not update or save configurations"
 msgstr " --static\t\t¤£­n§ó·s©ÎÀx¦s³]©wÀÉ"
 
-#: ../src/main.c:456
+#: ../src/main.c:436
+#, fuzzy
 msgid " --no-polling\t\tdo not periodically check for configuration updates"
-msgstr " --no-polling\t\t¤£­n©w®ÉÀË¬d³]©wÀÉ§ó·s"
+msgstr " --no-polling\t\t¤£­n©w®ÉÀË¬d³]©wÀÉ¦³¨S¦³§ó·s"
 
-#: ../src/main.c:458
+#: ../src/main.c:438
 msgid " --synchronous\t\tturn on synchronous display mode"
-msgstr " --synchronous\t\t¶}±Ò¦P¨BÅã¥Ü¼Ò¦¡"
+msgstr ""
 
-#: ../src/main.c:460
+#: ../src/main.c:440
 msgid " --version\t\tprint version and exit"
 msgstr " --version\t\t¦L¥Xª©¥»½s¸¹¨ÃÂ÷¶}"
 
-#: ../src/main.c:461
+#: ../src/main.c:441
 msgid " --help\t\t\tshow this message"
 msgstr " --help\t\t\tÅã¥Ü¥»»¡©ú°T®§"
 
-#: ../src/main.c:474
+#: ../src/main.c:453
 #, c-format
 msgid ""
 "could not find user GNUstep directory (%s).\n"
@@ -909,72 +826,59 @@
 "µLªk§ä¨ì¨Ï¥ÎªÌ GNUstep ¥Ø¿ý (%s)¡C\n"
 "½T©w±z¤w¸g¦w¸Ë WindowMaker ¥¿½T¥B°õ¦æ wmaker.inst"
 
-#: ../src/main.c:479
-#, c-format
-msgid "could not find user GNUstep directory (%s)."
-msgstr "µLªk§ä¨ì¨Ï¥ÎªÌ GNUstep ¥Ø¿ý¡]%s¡^¡C"
-
-#: ../src/main.c:482
-msgid ""
-"There was an error while creating GNUstep directory, please make sure you "
-"have installed Window Maker correctly and run wmaker.inst"
-msgstr ""
-"«Ø¥ß GNUstep ¥Ø¿ý®É¿ù»~¡A½Ð½T©w±z¤w¸g¥¿½T¦a¦w¸Ë WindowMaker ¥B°õ¦æ "
-"wmaker.inst"
-
-#: ../src/main.c:485
-#, c-format
-msgid "%s directory created with default configuration."
-msgstr "¥H¹w³]³]©w«Ø¥ß %s ¥Ø¿ý¡C"
-
-#: ../src/main.c:505 ../src/main.c:510
+#: ../src/main.c:474 ../src/main.c:479
 #, c-format
 msgid "%s:could not execute initialization script"
-msgstr "%s¡G±Ò©l¤â½ZµLªk°õ¦æ"
+msgstr "%s: ±Ò©l¤â½ZµLªk°õ¦æ"
 
-#: ../src/main.c:530 ../src/main.c:535
+#: ../src/main.c:499 ../src/main.c:504
 #, c-format
 msgid "%s:could not execute exit script"
-msgstr "%s¡GÂ÷¶}¤â½ZµLªk°õ¦æ"
+msgstr "%s: Â÷¶}¤â½ZµLªk°õ¦æ"
 
-#: ../src/main.c:651 ../src/main.c:659 ../src/main.c:667 ../src/main.c:687
+#: ../src/main.c:620 ../src/main.c:628 ../src/main.c:636 ../src/main.c:656
 #, c-format
 msgid "too few arguments for %s"
 msgstr "%s ªº¤Þ¼Æ¤Ó¤Ö"
 
-#: ../src/main.c:671
+#: ../src/main.c:640
 #, c-format
 msgid "bad value for visualid: \"%s\""
-msgstr "visualid ªº­È¤£¥¿½T¡G¡u%s¡v"
+msgstr "visualid ªº­È¤£¥¿½T: \"%s\""
 
 # y, c-format
-#: ../src/main.c:695
+#: ../src/main.c:664
 #, c-format
 msgid "%s: invalid argument '%s'\n"
-msgstr "%s¡G¤Þ¼Æ¡u%s¡vµL®Ä\n"
+msgstr "%s: ¤Þ¼Æ '%s' µL®Ä\n"
 
-#: ../src/main.c:696
+#: ../src/main.c:665
 #, c-format
 msgid "Try '%s --help' for more information\n"
-msgstr "¸Õ¥Î¡u%s --help¡v¨ÓÀò±o§ó¦h¸ê°T\n"
+msgstr "¸Õ¥Î '%s --help' ¨ÓÀò±o§ó¦h¸ê°T\n"
 
-#: ../src/main.c:727
+#: ../src/main.c:696
 msgid "X server does not support locale"
 msgstr "X ¦øªA¾¹¤£¤ä´© locale"
 
-#: ../src/main.c:731
+#: ../src/main.c:700
 msgid "cannot set locale modifiers"
 msgstr "µLªk³]©w locale modifiers"
 
-#: ../src/main.c:747
+#: ../src/main.c:716
 #, c-format
 msgid "could not open display \"%s\""
-msgstr "µLªk¶}±Ò display¡u%s¡v"
+msgstr "µLªk¶}±Ò display \"%s\""
 
 #: ../src/menu.c:1255
 msgid "could not grab keyboard"
 msgstr "µLªk§ì¨úÁä½L"
 
+#: ../src/menu.c:2565
+#, c-format
+msgid "bad value in menus state info:%s"
+msgstr "¿ï³æªºª¬ºA¸ê°T %s ­È¤£¥¿½T"
+
 #: ../src/misc.c:71
 #, c-format
 msgid "could not define value for %s for cpp"
@@ -985,100 +889,164 @@
 msgid "could not get password entry for UID %i"
 msgstr "µLªk¨ú±o UID %i ªº±K½X°O¿ý"
 
-#: ../src/misc.c:126
+#: ../src/misc.c:127
 #, c-format
 msgid "your machine is misconfigured. HOSTNAME is set to %s"
 msgstr "±zªº¾÷¾¹³]©w¿ù»~¡CHOSTNAME ³]¬° %s"
 
-#: ../src/misc.c:132
+#: ../src/misc.c:133
 #, c-format
 msgid "your machine is misconfigured. HOST is set to %s"
 msgstr "±zªº¾÷¾¹³]©w¿ù»~¡CHOST ³]¬° %s"
 
-#: ../src/misc.c:630
+#: ../src/misc.c:632
 msgid "Program Arguments"
 msgstr "µ{¦¡¤Þ¼Æ"
 
-#: ../src/misc.c:631
+#: ../src/misc.c:633
 msgid "Enter command arguments:"
-msgstr "¿é¤J©R¥O¤Þ¼Æ¡G"
+msgstr "¿é¤J©R¥O¤Þ¼Æ:"
 
-#: ../src/misc.c:724
+#: ../src/misc.c:726
 msgid "unable to get dropped data from DND drop"
 msgstr "µLªk±q DND ©ñ¸m¨ú±o©ñ¸m¸ê®Æ"
 
-#: ../src/misc.c:732
+#: ../src/misc.c:734
 msgid "error getting dropped data from DND drop"
 msgstr "±q DND ©ñ¸m¨ú±o©ñ¸m¸ê®Æ¿ù»~"
 
-#: ../src/misc.c:738
+#: ../src/misc.c:740
 msgid "out of memory while getting data from DND drop"
 msgstr "±q DND ©ñ¸m¨ú±o¸ê®Æ®É°O¾ÐÅé¤£¨¬"
 
-#: ../src/misc.c:783 ../src/misc.c:923
+#: ../src/misc.c:785 ../src/misc.c:925
 #, c-format
 msgid "out of memory during expansion of \"%s\""
-msgstr "®i¶}¡u%s¡v®É°O¾ÐÅé¤£¨¬"
+msgstr "®i¶} \"%s\" ®É°O¾ÐÅé¤£¨¬"
 
-#: ../src/misc.c:837
+#: ../src/misc.c:839
 msgid "out of memory during expansion of \"%w\""
-msgstr "®i¶}¡u%w¡v®É°O¾ÐÅé¤£¨¬"
+msgstr "®i¶} \"%w\" ®É°O¾ÐÅé¤£¨¬"
 
 #
-#: ../src/misc.c:855
+#: ../src/misc.c:857
 msgid "out of memory during expansion of \"%W\""
-msgstr "®i¶}¡u%W¡v®É°O¾ÐÅé¤£¨¬"
+msgstr "®i¶} \"%W\" ®É°O¾ÐÅé¤£¨¬"
 
-#: ../src/misc.c:871
+#: ../src/misc.c:873
 msgid "out of memory during expansion of \"%a\""
-msgstr "®i¶}¡u%a¡v®É°O¾ÐÅé¤£¨¬"
+msgstr "®i¶} \"%a\" ®É°O¾ÐÅé¤£¨¬"
 
-#: ../src/misc.c:902
+#: ../src/misc.c:904
 #, c-format
 msgid "out of memory during expansion of \"%d\""
-msgstr "®i¶}¡u%d¡v®É°O¾ÐÅé¤£¨¬"
+msgstr "®i¶} \"%d\" ®É°O¾ÐÅé¤£¨¬"
 
-#: ../src/misc.c:916
+#: ../src/misc.c:918
 msgid "selection not available"
-msgstr "¿ï¨úª«¤£¯à¨Ï¥Î"
+msgstr "¿ï¨ú¤£¯à¨Ï¥Î"
 
-#: ../src/misc.c:972 ../src/misc.c:978
+#: ../src/misc.c:991 ../src/misc.c:997
 #, c-format
 msgid "bad window name value in %s state info"
 msgstr "%s ª¬ºA¸ê°T¤¤¦³µL®Äªºµøµ¡¦WºÙ­È"
 
-#: ../src/misc.c:1235
+#: ../src/misc.c:1253
 msgid "could not send message to background image helper"
 msgstr "µLªk¶Ç°e°T®§¦Ü­I´º¼v¹³§U¤â"
 
 #: ../src/pixmap.c:235
 #, c-format
 msgid "could not load mask bitmap file \"%s\". Won't use mask"
-msgstr "µLªk¸ü¤J¾B¸n¦ì¤¸¬M¹³ÀÉ¡u%s¡v¡C¤£¨Ï¥Î¾B¸n"
+msgstr "µLªk¸ü¤J¾B¸n¦ì¤¸¬M¹³ÀÉ \"%s\"¡C¤£¨Ï¥Î¾B¸n"
+
+#: ../src/proplist.c:151
+#, c-format
+msgid "syntax error in %s, line %i:%s"
+msgstr ""
+
+#: ../src/proplist.c:180
+msgid "unterminated string"
+msgstr "¦r¦ê¥¼²×¤î"
+
+#: ../src/proplist.c:247
+msgid "unterminated array"
+msgstr "°}¦C¥¼²×¤î"
+
+#: ../src/proplist.c:256
+msgid "missing , in array or unterminated array"
+msgstr "¦b°}¦C¯Ê¤Ö , ©Î°}¦C¥¼²×¤î"
+
+#: ../src/proplist.c:267
+msgid "could not get array element"
+msgstr "µLªk¨ú±o°}¦C¤¸¯À"
+
+#: ../src/proplist.c:297
+msgid "unterminated dictionary"
+msgstr "¦rÂI¥¼²×¤î"
+
+#: ../src/proplist.c:315
+msgid "missing dictionary key"
+msgstr "¯Ê¤Ö¦r¨åÁä"
+
+#: ../src/proplist.c:317
+msgid "missing dictionary entry key or unterminated dictionary"
+msgstr "¯Ê¤Ö¦r¨å°O¿ýÁä©Î¦r¨å¥¼¤¤¤î"
+
+#: ../src/proplist.c:323
+msgid "error parsing dictionary key"
+msgstr "¦r¨åÁä¸ÑªR¿ù»~"
+
+#: ../src/proplist.c:332
+msgid "missing = in dictionary entry"
+msgstr "¦r¨å°O¿ý¤¤¯Ê¤Ö = "
+
+#: ../src/proplist.c:351
+msgid "missing ; in dictionary entry"
+msgstr "¦r¨å°O¿ý¤¤¯Ê¤Ö ; "
+
+#: ../src/proplist.c:432
+msgid ""
+"was expecting a string, dictionary, data or array. If it's a string, try "
+"enclosing it with \"."
+msgstr "­n¨D¦r¦ê¡A¦r¨å¡A¸ê®Æ©Î°}¦C¡C¦pªG¬O¦r¦ê¡A½Ð¥Î \" ¸¹¬A°_¨Ó¡C"
+
+#: ../src/proplist.c:434
+msgid "Comments are not allowed inside WindowMaker owned domain files."
+msgstr "¦b WindowMaker ªº©w¸q°ìÀÉ¤¤¤£¤¹³\µù¸Ñ¡C"
+
+#: ../src/proplist.c:453
+#, c-format
+msgid "could not open domain file %s"
+msgstr "µLªk¶}±Ò©w¸q°ìÀÉ %s"
+
+#: ../src/proplist.c:466
+msgid "extra data after end of file"
+msgstr "ÀÉ®×µ²§ô«á¦³ÃB¥~¸ê®Æ"
 
 #: ../src/resources.c:44
 #, c-format
 msgid "could not parse color \"%s\""
-msgstr "µLªk¸ÑªR¦â±m¡u%s¡v"
+msgstr "µLªk¸ÑªR¦â±m \"%s\""
 
 #: ../src/resources.c:48
 #, c-format
 msgid "could not allocate color \"%s\""
-msgstr "µLªk°t¸m¦â±m¡u%s¡v"
+msgstr "µLªk°t¸m¦â±m \"%s\""
 
-#: ../src/rootmenu.c:196 ../src/rootmenu.c:198
+#: ../src/rootmenu.c:186 ../src/rootmenu.c:188
 msgid "Exit"
 msgstr "Â÷¶}"
 
-#: ../src/rootmenu.c:197
+#: ../src/rootmenu.c:187
 msgid "Exit window manager?"
 msgstr "Â÷¶}µøµ¡ºÞ²z­û¡H"
 
-#: ../src/rootmenu.c:245
+#: ../src/rootmenu.c:223
 msgid "Close X session"
 msgstr "Ãö³¬ X µøµ¡¨t²Î"
 
-#: ../src/rootmenu.c:246
+#: ../src/rootmenu.c:224
 msgid ""
 "Close Window System session?\n"
 "Kill might close applications with unsaved data."
@@ -1086,11 +1054,19 @@
 "Ãö³¬µøµ¡¨t²Î¡H\n"
 "µ²§ô¥i¯àÃö³¬©|¥¼Àx¦s¸ê®ÆªºÀ³¥Îµ{¦¡¡C"
 
-#: ../src/rootmenu.c:261
+#.
+#. entry = wMenuAddCallback(menu, _("Select Shortcut"), NULL, NULL);
+#. wMenuEntrySetCascade(menu, entry, makeMakeShortcutMenu(scr));
+#.
+#: ../src/rootmenu.c:226 ../src/winmenu.c:511
+msgid "Close"
+msgstr "Ãö³¬"
+
+#: ../src/rootmenu.c:237
 msgid "Kill X session"
 msgstr "µ²§ô X µøµ¡¨t²Î"
 
-#: ../src/rootmenu.c:262
+#: ../src/rootmenu.c:238
 msgid ""
 "Kill Window System session?\n"
 "(all applications will be closed)"
@@ -1098,196 +1074,197 @@
 "µ²§ôµøµ¡¨t²Î¡H\n"
 "¡]©Ò¦³À³¥Îµ{¦¡·|³QÃö³¬¡^"
 
-#: ../src/rootmenu.c:536
+#: ../src/rootmenu.c:505
 #, c-format
 msgid "%s:invalid kbd shortcut specification \"%s\" for entry %s"
-msgstr "%s¡GÁä½L±¶®|³W®æ¡u%s¡vµL®Ä¡]%s¡^"
+msgstr "%s: Áä½L±¶®|³W®æ \"%s\" µL®Ä (%s)"
 
-#: ../src/rootmenu.c:544
+#: ../src/rootmenu.c:513
 #, c-format
 msgid "%s:invalid key in shortcut \"%s\" for entry %s"
-msgstr "%s¡G±¶®|¡u%s¡vªºÁäµL®Ä¡]%s¡^"
+msgstr "%s: ±¶®| \"%s\" ªºÁäµL®Ä (%s)"
 
-#: ../src/rootmenu.c:597
+#: ../src/rootmenu.c:566
 #, c-format
 msgid "%s: unmatched '\"' in menu file"
-msgstr "%s¡G¿ï³æÀÉ¤¤¡u\"¡v¤£¦¨¹ï"
+msgstr "%s: ¿ï³æÀÉ¤¤ '\"' ¤£¦¨¹ï"
 
-#: ../src/rootmenu.c:647
+#: ../src/rootmenu.c:616
 #, c-format
 msgid "%s: missing command"
-msgstr "%s¡G¯Ê¤Ö©R¥O"
+msgstr "%s: ¯Ê¤Ö©R¥O"
 
-#: ../src/rootmenu.c:679
+#: ../src/rootmenu.c:648
 #, c-format
 msgid "invalid OPEN_MENU specification: %s"
-msgstr "µL®Äªº OPEN_MENU ³W®æ¡G%s"
+msgstr "µL®Äªº OPEN_MENU ³W®æ: %s"
 
-#: ../src/rootmenu.c:730
+#: ../src/rootmenu.c:696
 #, c-format
 msgid "%s:could not stat menu"
-msgstr "%s¡GµLªk stat ¿ï³æ"
+msgstr "%s: µLªk stat ¿ï³æ"
 
-#: ../src/rootmenu.c:738
+#: ../src/rootmenu.c:704
 #, c-format
 msgid "%s:could not stat menu:%s"
-msgstr "%s¡GµLªk stat ¿ï³æ¡G%s"
+msgstr "%s: µLªk stat ¿ï³æ: %s"
 
-#: ../src/rootmenu.c:756
+#: ../src/rootmenu.c:722
 #, c-format
 msgid "too many parameters in OPEN_MENU: %s"
-msgstr "OPEN_MENU ¤¤¦³¤Ó¦h°Ñ¼Æ¡G%s"
+msgstr "OPEN_MENU ¤¤¦³¤Ó¦h°Ñ¼Æ: %s"
 
-#: ../src/rootmenu.c:800
+#: ../src/rootmenu.c:758
 msgid ""
 "There are more than one WORKSPACE_MENU commands in the applications menu. "
 "Only one is allowed."
-msgstr "À³¥Îµ{¦¡¿ï³æ¤¤¦³¶W¹L¤@­Ó WORKSPACE_MENU ©R¥O¡C¥u¤¹³\\¤@­Ó¡C"
-
-#: ../src/rootmenu.c:834
-msgid ""
-"There are more than one WINDOWS_MENU commands in the applications menu. Only "
-"one is allowed."
-msgstr "À³¥Îµ{¦¡¿ï³æ¤¤¦³¶W¹L¤@­Ó WINDOWS_MENU ©R¥O¡C¥u¤¹³\\¤@­Ó¡C"
-
-#: ../src/rootmenu.c:839
-msgid "Window List"
-msgstr "µøµ¡²M³æ"
+msgstr "À³¥Îµ{¦¡¿ï³æ¤¤¦³¶W¹L¤@­Ó WORKSPACE_MENU ©R¥O¡C¥u¤¹³\¦³¤@­Ó¡C"
 
-#: ../src/rootmenu.c:868 ../src/rootmenu.c:886 ../src/rootmenu.c:896
+#: ../src/rootmenu.c:787 ../src/rootmenu.c:805 ../src/rootmenu.c:815
 #, c-format
 msgid "%s:missing parameter for menu command \"%s\""
-msgstr "%s¡G¿ï³æ©R¥O¡u%s¡v¯Ê¤Ö°Ñ¼Æ"
+msgstr "%s: ¿ï³æ©R¥O \"%s\" ¯Ê¤Ö°Ñ¼Æ"
 
-#: ../src/rootmenu.c:964
+#: ../src/rootmenu.c:879
 #, c-format
 msgid "%s:unknown command \"%s\" in menu config."
-msgstr "%s¡G¿ï³æ³]©w¤¤¦³¤£¦Wªº©R¥O¡u%s¡v¡C"
+msgstr "%s: ¿ï³æ³]©w¤¤¦³¤£¦Wªº©R¥O \"%s\"¡C"
 
-#: ../src/rootmenu.c:972
+#: ../src/rootmenu.c:887
 #, c-format
 msgid "%s:can't add shortcut for entry \"%s\""
-msgstr "%s¡GµLªk¬°¡u%s¡v¼W¥[±¶®|"
+msgstr "%s: µLªk¬° \"%s\" ¼W¥[±¶®|"
 
-#: ../src/rootmenu.c:1109
+#: ../src/rootmenu.c:1024
 #, c-format
 msgid "%s:maximal line size exceeded in menu config: %s"
-msgstr "%s¡G¿ï³æÀÉ¤¤¶W¹L³Ì¤j¦æ¼Æ¡G%s"
+msgstr "%s: ¿ï³æÀÉ¤¤¶W¹L³Ì¤j¦æ¼Æ: %s"
 
-#: ../src/rootmenu.c:1131 ../src/rootmenu.c:1224 ../src/rootmenu.c:1326
+#: ../src/rootmenu.c:1046 ../src/rootmenu.c:1138 ../src/rootmenu.c:1239
 #, c-format
 msgid "%s:missing command in menu config: %s"
-msgstr "%s¡G¿ï³æ³]©w¤¤¯Ê¤Ö©R¥O¡G%s"
+msgstr "%s: ¿ï³æ³]©w¤¤¯Ê¤Ö©R¥O: %s"
 
-#: ../src/rootmenu.c:1161
+#: ../src/rootmenu.c:1076
 #, c-format
 msgid "%s:syntax error in menu file:END declaration missing"
-msgstr "%s¡G¿ï³æÀÉ¤¤»yªk¿ù»~¡G¯Ê¤Ö END «Å§i"
+msgstr "%s: ¿ï³æÀÉ¤¤»yªk¿ù»~: ¯Ê¤Ö END «Å§i"
 
-#: ../src/rootmenu.c:1190 ../src/rootmenu.c:1290
+#: ../src/rootmenu.c:1105 ../src/rootmenu.c:1204
 msgid "could not make arguments for menu file preprocessor"
 msgstr "µLªk¬°¿ï³æÀÉ¹w¥ý³B²z¾¹²£¥Í¤Þ¼Æ"
 
-#: ../src/rootmenu.c:1197 ../src/rootmenu.c:1298
+#: ../src/rootmenu.c:1111 ../src/rootmenu.c:1211
 #, c-format
 msgid "%s:could not open/preprocess menu file"
-msgstr "%s¡GµLªk¶}±Ò/¹w¥ý³B²z¿ï³æÀÉ"
+msgstr "%s: µLªk¶}±Ò/¹w¥ý³B²z¿ï³æÀÉ"
 
-#: ../src/rootmenu.c:1209 ../src/rootmenu.c:1311
+#: ../src/rootmenu.c:1123 ../src/rootmenu.c:1224
 #, c-format
 msgid "%s:could not open menu file"
-msgstr "%s¡GµLªk¶}±Ò¿ï³æÀÉ"
+msgstr "%s: µLªk¶}±Ò¿ï³æÀÉ"
 
-#: ../src/rootmenu.c:1236
+#: ../src/rootmenu.c:1150
 #, c-format
 msgid "%s:invalid menu file. MENU command is missing"
-msgstr "%s¡GµL®Äªº¿ï³æÀÉ¡C¯Ê¤Ö MENU ©R¥O"
+msgstr "%s: µL®Äªº¿ï³æÀÉ¡C¯Ê¤Ö MENU ©R¥O"
 
-#: ../src/rootmenu.c:1245
+#: ../src/rootmenu.c:1159
 msgid "error reading preprocessed menu data"
 msgstr "¹w¥ý³B²z¿ï³æ¸ê®ÆÅª¨ú¿ù»~"
 
-#: ../src/rootmenu.c:1338
+#: ../src/rootmenu.c:1251
 #, c-format
 msgid "%s:no title given for the root menu"
-msgstr "%s¡G¨S¦³µ¹¥D¿ï³æ¼ÐÃD"
+msgstr "%s: ¨S¦³µ¹¥D¿ï³æ¼ÐÃD"
 
-#: ../src/rootmenu.c:1429 ../src/rootmenu.c:1502 ../src/rootmenu.c:1543
+#: ../src/rootmenu.c:1341 ../src/rootmenu.c:1416 ../src/rootmenu.c:1459
 #, c-format
 msgid "out of memory while constructing directory menu %s"
 msgstr "«Ø¥ß¥Ø¿ý¿ï³æ %s ®É°O¾ÐÅé¤£¨¬"
 
-#: ../src/rootmenu.c:1439
+#: ../src/rootmenu.c:1351
 #, c-format
 msgid "%s:could not stat file \"%s\" in menu directory"
-msgstr "%s¡GµLªk stat ¿ï³æ¥Ø¿ý¤¤ÀÉ®×¡u%s¡v"
+msgstr "%s: µLªk stat ¿ï³æ¥Ø¿ý¤¤ÀÉ®× \"%s\""
 
-#: ../src/rootmenu.c:1597
+#: ../src/rootmenu.c:1513
 msgid "Commands"
 msgstr "©R¥O"
 
-#: ../src/rootmenu.c:1600
+#: ../src/rootmenu.c:1516
 msgid "Restart"
 msgstr "­«·s±Ò°Ê"
 
-#: ../src/rootmenu.c:1601
+#: ../src/rootmenu.c:1517
 msgid "Exit..."
 msgstr "Â÷¶}..."
 
-#: ../src/rootmenu.c:1646
+#: ../src/rootmenu.c:1562
 #, c-format
 msgid "could not find menu file \"%s\" referenced in WMRootMenu"
-msgstr "µLªk§ä¨ì WMRootMenu °Ñ·Óªº¿ï³æÀÉ¡u%s¡v"
+msgstr "µLªk§ä¨ì WMRootMenu °Ñ·Óªº¿ï³æÀÉ \"%s\""
 
-#: ../src/rootmenu.c:1653
+#: ../src/rootmenu.c:1569
 #, c-format
 msgid "could not access menu \"%s\" referenced in WMRootMenu"
-msgstr "µLªk¦s¨ú WMRootMenu °Ñ·Óªº¿ï³æÀÉ¡u%s¡v"
+msgstr "µLªk¦s¨ú WMRootMenu °Ñ·Óªº¿ï³æÀÉ \"%s\""
 
-#: ../src/rootmenu.c:1664
+#: ../src/rootmenu.c:1580
 #, c-format
 msgid ""
 "using default menu file \"%s\" as the menu referenced in WMRootMenu could "
 "not be found "
-msgstr "µLªk§ä¨ì WMRootMenu °Ñ·Óªº¿ï³æ¡A¨Ï¥Î¹w³]¿ï³æÀÉ¡u%s¡v"
+msgstr "µLªk§ä¨ì WMRootMenu °Ñ·Óªº¿ï³æ¡A¨Ï¥Î¹w³]¿ï³æÀÉ \"%s\""
 
-#: ../src/rootmenu.c:1687 ../src/rootmenu.c:1763
+#: ../src/rootmenu.c:1603 ../src/rootmenu.c:1679
 #, c-format
 msgid "%s:format error in root menu configuration \"%s\""
-msgstr "%s¡G¥D¿ï³æ³]©w¤¤®æ¦¡¿ù»~¡u%s¡v"
+msgstr "%s: ¥D¿ï³æ³]©w¤¤®æ¦¡¿ù»~ \"%s\""
 
-#: ../src/rootmenu.c:1851
+#: ../src/rootmenu.c:1766
 msgid ""
 "The applications menu could not be loaded. Look at the console output for a "
 "detailed description of the errors."
-msgstr "À³¥Îµ{¦¡¿ï³æµLªk¸ü¤J¡C¦b¥D±±¥x¿é¥X¬d¬Ý¦¹¿ù»~ªº¸Ô²Ó±Ô­z¡C"
+msgstr ""
+
+#: ../src/screen.c:460
+#, c-format
+msgid "could not load logo image for panels: %s"
+msgstr "µLªk¸ü¤J­±ªOªº¼ÐÃÑ¼v¹³: %s"
 
-#: ../src/screen.c:740
+#: ../src/screen.c:464
+#, c-format
+msgid "error making logo image for panel:%s"
+msgstr "­±ªOªº¼ÐÃÑ¼v¹³²£¥Í¿ù»~: %s"
+
+#: ../src/screen.c:750
 #, c-format
 msgid "could not initialize graphics library context: %s"
-msgstr "µLªk±Ò©l¹Ï§Î¨ç¦¡®wÃö³s¡G%s"
+msgstr "µLªk±Ò©l¹Ï§Î¨ç¦¡®wÃö³s: %s"
 
-#: ../src/screen.c:771
+#: ../src/screen.c:781
 msgid "could not do initialization of WINGs widget set"
 msgstr "µLªk±Ò©l WINGs widget set"
 
-#: ../src/screen.c:1139
+#: ../src/screen.c:1150
 #, c-format
 msgid "could not save session state in %s"
 msgstr "µLªk¦b %s Àx¦s¶¥¬qª¬ºA"
 
-#: ../src/session.c:183 ../src/wdefaults.c:589 ../src/winspector.c:454
+#: ../src/session.c:183 ../src/wdefaults.c:583 ../src/winspector.c:449
 #, c-format
 msgid "can't convert \"%s\" to boolean"
-msgstr "µLªkÂà´«¡u%s¡v¦Ü boolean"
+msgstr "µLªkÂà´« \"%s\" ¦Ü boolean"
 
-#: ../src/session.c:1021
+#: ../src/session.c:1018
+#, fuzzy
 msgid "out of memory while saving session state"
 msgstr "Àx¦s¶¥¬qª¬ºA®É°O¾ÐÅé¤£¨¬"
 
-#: ../src/session.c:1104
+#: ../src/session.c:1109
 msgid "end of memory while saving session state"
-msgstr "Àx¦s¶¥¬qª¬ºA®É°O¾ÐÅé²×¤F"
+msgstr "Àx¦s¶¥¬qª¬ºA®É°O¾ÐÅé¤£¨¬"
 
 #. This is not fatal but can mean the session manager exited.
 #. * If the session manager exited normally we would get a
@@ -1295,143 +1272,144 @@
 #. * If the sm was the last client of session, then we'll die
 #. * anyway, otherwise we can continue doing our stuff.
 #.
-#: ../src/session.c:1242
+#: ../src/session.c:1243
 msgid "connection to the session manager was lost"
 msgstr "¿ò¥¢¦Ü¶¥¬qºÞ²z­ûªº³sµ²"
 
-#: ../src/stacking.c:79
+#: ../src/stacking.c:73
 msgid "could not get window list!!"
-msgstr "µLªk±o¨ìµøµ¡²M³æ¡I¡I"
+msgstr "µLªk±o¨ìµøµ¡²M³æ!!"
 
 #: ../src/startup.c:202
 #, c-format
 msgid "internal X error: %s\n"
-msgstr "X ¤º³¡¿ù»~¡G%s\n"
+msgstr "X ¤º³¡¿ù»~: %s\n"
 
-#: ../src/startup.c:260
+#: ../src/startup.c:267
 #, c-format
 msgid "got signal %i (%s) - restarting\n"
 msgstr "¦¬¨ì°T¸¹ %i (%s) - ­«·s±Ò°Ê\n"
 
-#: ../src/startup.c:262
+#: ../src/startup.c:269
 #, c-format
 msgid "got signal %i - restarting\n"
 msgstr "¦¬¨ì°T¸¹ %i - ­«·s±Ò°Ê\n"
 
-#: ../src/startup.c:272
+#: ../src/startup.c:283
 #, c-format
 msgid "got signal %i (%s) - rereading defaults\n"
 msgstr "¦¬¨ì°T¸¹ %i (%s) - ­«Åª¹w³]­È\n"
 
-#: ../src/startup.c:274
+#: ../src/startup.c:285
 #, c-format
 msgid "got signal %i - rereading defaults\n"
 msgstr "¦¬¨ì°T¸¹ %i - ­«Åª¹w³]­È\n"
 
-#: ../src/startup.c:284
+#: ../src/startup.c:299
 #, c-format
 msgid "got signal %i (%s) - exiting...\n"
 msgstr "¦¬¨ì°T¸¹ %i (%s) - Â÷¶}¤¤...\n"
 
-#: ../src/startup.c:286
+#: ../src/startup.c:301
 #, c-format
 msgid "got signal %i - exiting...\n"
 msgstr "¦¬¨ì°T¸¹ %i - Â÷¶}¤¤...\n"
 
-#: ../src/startup.c:329
+#: ../src/startup.c:314
 #, c-format
 msgid "got signal %i (%s)\n"
 msgstr "¦¬¨ì°T¸¹ %i (%s)\n"
 
-#: ../src/startup.c:331
+#: ../src/startup.c:316
 #, c-format
 msgid "got signal %i\n"
 msgstr "¦¬¨ì°T¸¹ %i\n"
 
-#: ../src/startup.c:342
+#: ../src/startup.c:327
 msgid ""
 "crashed while trying to do some post-crash cleanup. Aborting immediatelly."
 msgstr "¹Á¸Õ±Y¼ì«á²M°£³B²z®É±Y¼ì¡Cª½±µ©ñ±ó¡C"
 
 #. we try to restart Window Maker
-#: ../src/startup.c:407
+#: ../src/startup.c:361
 msgid "trying to restart Window Maker..."
 msgstr "¹Á¸Õ­«·s±Ò°Ê Window Maker..."
 
-#: ../src/startup.c:412
+#: ../src/startup.c:366
 msgid "trying to start alternate window manager..."
 msgstr "¹Á¸Õ±Ò°Ê¥t¤@®Mµøµ¡ºÞ²z­û..."
 
-#: ../src/startup.c:417
+#: ../src/startup.c:371
 msgid "failed to start alternate window manager. Aborting."
 msgstr "¥t¤@®Mµøµ¡ºÞ²z­û±Ò°Ê¥¢±Ñ¡C©ñ±ó¤¤¡C"
 
-#: ../src/startup.c:419
+#: ../src/startup.c:373
 msgid ""
 "a fatal error has occured, probably due to a bug. Please fill the included "
 "BUGFORM and report it."
 msgstr "µo¥ÍÄY­«¿ù»~¡A¥i¯à¦]¬°µ{¦¡¿ù»~¡C½Ð¶ñ¼g BUGFORM ¨Ã´£¥X³ø§i¡C"
 
-#: ../src/startup.c:894
+#: ../src/startup.c:857
 #, c-format
 msgid "icon size is configured to %i, but it's too small. Using 16, instead\n"
 msgstr "¹Ï¥Ü¤j¤p³]¬° %i ¤Ó¤p¡C§ï¥Î 16\n"
 
-#: ../src/startup.c:922
+#: ../src/startup.c:885
 msgid "XKB is not supported. KbdModeLock is automatically disabled."
-msgstr "XKB ¥¼¤ä´©¡CKbdModeLock ¦Û°Ê¥¢®Ä¡C"
+msgstr ""
 
-#: ../src/startup.c:941
+#: ../src/startup.c:904
 msgid "it seems that there is already a window manager running"
 msgstr "¦ü¥G¤w¸g¦³µøµ¡ºÞ²z­û¦b°õ¦æ¤¤"
 
-#: ../src/startup.c:947
+#: ../src/startup.c:910
 #, c-format
 msgid "could not manage screen %i"
 msgstr "µLªkºÞ²z¿Ã¹õ %i"
 
-#: ../src/startup.c:1015
+#: ../src/startup.c:971
 msgid "could not manage any screen"
 msgstr "µLªkºÞ²z¥ô¦ó¿Ã¹õ"
 
-#: ../src/switchmenu.c:137
+#: ../src/switchmenu.c:114
 msgid "Windows"
 msgstr "µøµ¡"
 
 #: ../src/texture.c:329 ../src/texture.c:371
 #, c-format
 msgid "image file \"%s\" used as texture could not be found."
-msgstr "§ä¤£¨ì§@¬°§÷½èªº¼v¹³ÀÉ¡u%s¡v"
+msgstr "§ä¤£¨ì§@¬°§÷½èªº¼v¹³ÀÉ \"%s\""
 
 #: ../src/texture.c:335 ../src/texture.c:377
 #, c-format
 msgid "could not load texture pixmap \"%s\":%s"
-msgstr "µLªk¸ü¤J§÷½è¹Ï¹³¡u%s¡v¡G%s"
+msgstr "µLªk¸ü¤J§÷½è¹Ï¹³ \"%s\":%s"
 
 #: ../src/texture.c:437
 #, c-format
 msgid "library \"%s\" cound not be opened."
-msgstr "µLªk¶}±Ò¨ç¦¡®w¡u%s¡v¡C"
+msgstr ""
 
 #: ../src/texture.c:446
 #, c-format
 msgid "function \"%s\" not found in library \"%s\""
-msgstr "¨ç¦¡¡u%s¡v¤£¦b¨ç¦¡®w¡u%s¡v¤¤"
+msgstr ""
 
 #: ../src/texture.c:453
 msgid "function textures not supported on this system, sorry."
-msgstr "§÷½è¨ç¦¡¦b¦¹¨t²Î¤£¤ä´©¡A©êºp¡C"
+msgstr ""
 
 #: ../src/texture.c:598
+#, fuzzy
 msgid "could not allocate image buffer"
-msgstr "µLªk°t¸m¼v¹³½w½Ä°Ï"
+msgstr "µLªk¸ü¤J¼v¹³ÀÉ"
 
-#: ../src/wdefaults.c:437
+#: ../src/wdefaults.c:429
 #, c-format
 msgid "could not find icon file \"%s\""
-msgstr "µLªk§ä¨ì¹Ï¥ÜÀÉ¡u%s¡v"
+msgstr "µLªk§ä¨ì¹Ï¥ÜÀÉ \"%s\""
 
-#: ../src/window.c:2936 ../src/window.c:3075
+#: ../src/window.c:2741 ../src/window.c:2876
 msgid ""
 "the NumLock, ScrollLock or similar key seems to be turned on.\n"
 "Turn it off or some mouse actions and keyboard shortcuts will not work."
@@ -1439,7 +1417,7 @@
 "NumLock, ScrollLock ©ÎÃþ¦üªºÁä¦ü¥G³Q¥´¶}¡C\n"
 "Ãö³¬¥¦§_«h¤@¨Ç·Æ¹«°Ê§@»PÁä½L???·|µLªk§@¥Î¡C"
 
-#: ../src/winmenu.c:125
+#: ../src/winmenu.c:129
 msgid ""
 "This will kill the application.\n"
 "Any unsaved changes will be lost.\n"
@@ -1449,66 +1427,92 @@
 "¥ô¦ó¥¼Àx¦sªº§ïÅÜ±N·|¿ò¥¢¡C\n"
 "½Ð½T»{¡C"
 
-#: ../src/winmenu.c:267 ../src/winmenu.c:276
+#: ../src/winmenu.c:278 ../src/winmenu.c:286
 msgid "Set Shortcut"
 msgstr "³]©w±¶®|"
 
-#: ../src/winmenu.c:354 ../src/winmenu.c:399
+#: ../src/winmenu.c:364 ../src/winmenu.c:409
 msgid "could not create submenu for window menu"
 msgstr "µLªk¬°µøµ¡¿ï³æ«Ø¥ß°Æ¿ï³æ"
 
-#: ../src/winmenu.c:403
+#: ../src/winmenu.c:413
 msgid "Keep on top"
 msgstr "«O«ù¦b³Ì¤W¼h"
 
-#: ../src/winmenu.c:408
+#: ../src/winmenu.c:418
 msgid "Keep at bottom"
 msgstr "«O«ù¦b³Ì¤U¼h"
 
-#: ../src/winmenu.c:453 ../src/winmenu.c:588
+#.
+#. * Warning: If you make some change that affects the order of the
+#. * entries, you must update the command #defines in the top of
+#. * this file.
+#.
+#: ../src/winmenu.c:446 ../src/winmenu.c:581
+msgid "Maximize"
+msgstr "³Ì¤j¤Æ"
+
+#: ../src/winmenu.c:454 ../src/winmenu.c:567
+msgid "Miniaturize"
+msgstr "³Ì¤p¤Æ"
+
+#: ../src/winmenu.c:463 ../src/winmenu.c:598
 msgid "Shade"
 msgstr "¾B½ª"
 
-#: ../src/winmenu.c:469
+#: ../src/winmenu.c:479
 msgid "Resize/Move"
 msgstr "¤j¤pÅÜ§ó/²¾°Ê"
 
-#: ../src/winmenu.c:477
+#: ../src/winmenu.c:487
 msgid "Select"
 msgstr "¿ï¨ú"
 
-#: ../src/winmenu.c:490
+#: ../src/winmenu.c:495
+msgid "Move To"
+msgstr "²¾¦Ü"
+
+#: ../src/winmenu.c:500
 msgid "Attributes..."
 msgstr "ÄÝ©Ê..."
 
-#: ../src/winmenu.c:492
+#: ../src/winmenu.c:502
 msgid "Options"
 msgstr "¿ï¶µ"
 
-#: ../src/winmenu.c:583
+#: ../src/winmenu.c:562
+msgid "Deminiaturize"
+msgstr "¨ú®ø³Ì¤p¤Æ"
+
+#: ../src/winmenu.c:576
+msgid "Unmaximize"
+msgstr "¨ú®ø³Ì¤j¤Æ"
+
+#: ../src/winmenu.c:593
 msgid "Unshade"
 msgstr "¨ú®ø¾B½ª"
 
-#: ../src/winspector.c:387
+#: ../src/winspector.c:383
 #, c-format
 msgid "Could not find icon \"%s\" specified for this window"
-msgstr "µLªk§ä¨ì«ü©wµ¹³o­Óµøµ¡ªº¹Ï¥Ü¡u%s¡v"
+msgstr "µLªk§ä¨ì«ü©wµ¹³o­Óµøµ¡ªº¹Ï¥Ü \"%s\""
 
-#: ../src/winspector.c:404
+#: ../src/winspector.c:399
 #, c-format
 msgid "Could not open specified icon \"%s\":%s"
-msgstr "µLªk¶}±Ò«ü©wªº¹Ï¥Ü¡u%s¡v:%s"
+msgstr "µLªk¶}±Ò«ü©wªº¹Ï¥Ü \"%s\":%s"
 
-#: ../src/winspector.c:1121
+#: ../src/winspector.c:1122
 #, c-format
 msgid "Inspecting  %s.%s"
-msgstr "ÀË¾\\  %s.%s"
+msgstr ""
 
-#: ../src/winspector.c:1147
+#: ../src/winspector.c:1148
 msgid "Click in the window you wish to inspect."
-msgstr "¦b§A·QÀË¾\\ªºµøµ¡ÂI¤@¤U"
+msgstr ""
 
-#: ../src/winspector.c:1186
+#: ../src/winspector.c:1187
+#, fuzzy
 msgid ""
 "The configuration will apply to all\n"
 "windows that have their WM_CLASS\n"
@@ -1516,58 +1520,57 @@
 "name, when saved."
 msgstr ""
 "Àx¦s®É¡A³]©w­È·|®M¥Î¦Ü©Ò¦³\n"
-"WM_CLASS ¯S©Ê³]¬°¥H¤W¿ï¨ú\n"
-"¦WºÙªºµøµ¡¡C"
+"WM_CLASS ¯S©Ê³]¬°¥H¤W¿ï¨ú¦WºÙªºµøµ¡¡C"
 
-#: ../src/winspector.c:1215
+#: ../src/winspector.c:1216
 msgid "Save"
 msgstr "Àx¦s"
 
-#: ../src/winspector.c:1223
+#: ../src/winspector.c:1224
 msgid "Apply"
 msgstr "®M¥Î"
 
-#: ../src/winspector.c:1229
+#: ../src/winspector.c:1230
 msgid "Reload"
 msgstr "ÁÙ­ì"
 
-#: ../src/winspector.c:1238 ../src/winspector.c:1248
+#: ../src/winspector.c:1239 ../src/winspector.c:1249
 msgid "Window Specification"
 msgstr "µøµ¡³W®æ"
 
-#: ../src/winspector.c:1239
+#: ../src/winspector.c:1240
 msgid "Window Attributes"
 msgstr "µøµ¡ÄÝ©Ê"
 
-#: ../src/winspector.c:1240
+#: ../src/winspector.c:1241
 msgid "Advanced Options"
 msgstr "¶i¶¥¿ï¶µ"
 
-#: ../src/winspector.c:1241
+#: ../src/winspector.c:1242
 msgid "Icon and Initial Workspace"
 msgstr "¹Ï¥Ü»P±Ò©l¤u§@°Ï"
 
-#: ../src/winspector.c:1242
+#: ../src/winspector.c:1243
 msgid "Application Specific"
 msgstr "À³¥Îµ{¥Ü¯S©w"
 
-#: ../src/winspector.c:1256
+#: ../src/winspector.c:1257
 msgid "Defaults for all windows"
 msgstr "©Ò¦³µøµ¡¹w³]­È"
 
-#: ../src/winspector.c:1310
-msgid "Select window"
+#: ../src/winspector.c:1311
+msgid "Select Window"
 msgstr "¿ï¨úµøµ¡"
 
-#: ../src/winspector.c:1324
+#: ../src/winspector.c:1325
 msgid "Attributes"
 msgstr "ÄÝ©Ê"
 
-#: ../src/winspector.c:1335
-msgid "Disable titlebar"
+#: ../src/winspector.c:1336
+msgid "Disable Titlebar"
 msgstr "¨Ï¡u¼ÐÃD¦C¡v¥¢®Ä"
 
-#: ../src/winspector.c:1337
+#: ../src/winspector.c:1338
 msgid ""
 "Remove the titlebar of this window.\n"
 "To access the window commands menu of a window\n"
@@ -1575,276 +1578,339 @@
 "equivalent shortcut, if you changed the default\n"
 "settings)."
 msgstr ""
-"§R°£¦¹µøµ¡ªº¡u¼ÐÃD¦C¡v¡C\n"
-"­n¦s¨úµL¼ÐÃD¦Cµøµ¡ªºµøµ¡©R¥O¿ï³æ¡A\n"
-"«ö¤U Control+Esc¡]©Î¦P¼Ë®ÄªGªº±¶®|¡A\n"
-"¦pªG§A§ï¤F¹w³]³]©w¡^¡C"
 
-#: ../src/winspector.c:1344
-msgid "Disable resizebar"
+#: ../src/winspector.c:1345
+msgid "Disable Resizebar"
 msgstr "¨Ï¡u¤j¤pÅÜ§ó¦C¡v¥¢®Ä"
 
-#: ../src/winspector.c:1346
+#: ../src/winspector.c:1347
 msgid "Remove the resizebar of this window."
-msgstr "§R°£¦¹µøµ¡ªº¡u¤j¤pÅÜ§ó¦C¡v¡C"
+msgstr ""
 
-#: ../src/winspector.c:1349
-msgid "Disable close button"
+#: ../src/winspector.c:1350
+msgid "Disable Close Button"
 msgstr "¨Ï¡uÃö³¬«ö¶s¡v¥¢®Ä"
 
-#: ../src/winspector.c:1351
+#: ../src/winspector.c:1352
 msgid "Remove the `close window' button of this window."
-msgstr "§R°£¦¹µøµ¡ªº¡uÃö³¬«ö¶s¡v¡C"
+msgstr ""
 
-#: ../src/winspector.c:1354
-msgid "Disable miniaturize button"
+#: ../src/winspector.c:1355
+msgid "Disable Miniaturize Button"
 msgstr "¨Ï¡u³Ì¤p¤Æ«ö¶s¡v¥¢®Ä"
 
-#: ../src/winspector.c:1356
+#: ../src/winspector.c:1357
 msgid "Remove the `miniaturize window' button of the window."
-msgstr "§R°£¦¹µøµ¡ªº¡u³Ì¤p¤Æ«ö¶s¡v¡C"
+msgstr ""
 
-#: ../src/winspector.c:1359
-msgid "Disable border"
-msgstr "¨Ï¡uÃä®Ø¡v¥¢®Ä"
+#: ../src/winspector.c:1360
+#, fuzzy
+msgid "Disable Border"
+msgstr "¨Ï¡u¤j¤pÅÜ§ó¦C¡v¥¢®Ä"
 
-#: ../src/winspector.c:1361
+#: ../src/winspector.c:1362
 msgid "Remove the 1 pixel black border around the window."
-msgstr "§R°£¦¹µøµ¡©P³ò 1 ¹³¯Àªº¶Â®Ø¡C"
+msgstr ""
 
-#: ../src/winspector.c:1364
-msgid "Keep on top (floating)"
-msgstr "«O«ù¦b³Ì¤W¼h¡]º}¯B¡^"
+#: ../src/winspector.c:1365
+msgid "Keep on Top / Floating"
+msgstr "«O«ù¦b³Ì¤W¼h / º}¯B"
 
-#: ../src/winspector.c:1366
+#: ../src/winspector.c:1367
 msgid ""
 "Keep the window over other windows, not allowing\n"
 "them to cover it."
-msgstr "Åýµøµ¡«O«ù¦b¨ä¥Lµøµ¡¤§¤W¡A¤£³\\¥¦­ÌÂÐ»\\¥¦¡C"
+msgstr ""
 
-#: ../src/winspector.c:1370
-msgid "Keep at bottom (sunken)"
-msgstr "«O«ù¦b³Ì¤U¼h¡]¤U¨I¡^"
+#: ../src/winspector.c:1371
+msgid "Keep at Bottom / Sunken"
+msgstr "«O«ù¦b³Ì¤U¼h / ¤U¨I"
 
-#: ../src/winspector.c:1372
+#: ../src/winspector.c:1373
 msgid "Keep the window under all other windows."
-msgstr "Åýµøµ¡«O«ù¦b©Ò¦³¨ä¥Lµøµ¡¤§¤U¡C"
+msgstr ""
 
-#: ../src/winspector.c:1377
-msgid "Make window present in all workspaces."
-msgstr "Åýµøµ¡¥X²{¦b©Ò¦³¤u§@°Ï¡C"
+#: ../src/winspector.c:1378
+msgid "Make window occupy all workspaces."
+msgstr ""
 
-#: ../src/winspector.c:1380
-msgid "Start miniaturized"
+#: ../src/winspector.c:1381
+msgid "Start Miniaturized"
 msgstr "±Ò°Ê®É³Ì¤p¤Æ"
 
-#: ../src/winspector.c:1382
+#: ../src/winspector.c:1383
 msgid ""
 "Make the window be automatically miniaturized when it's\n"
 "first shown."
-msgstr "·í²Ä¤@¦¸Åã¥Ü®ÉÅýµøµ¡¦Û°Ê³Ì¤p¤Æ¡C"
+msgstr ""
 
-#: ../src/winspector.c:1386
-msgid "Start maximized"
+#: ../src/winspector.c:1387
+msgid "Start Maximized"
 msgstr "±Ò°Ê®É³Ì¤j¤Æ"
 
-#: ../src/winspector.c:1388
+#: ../src/winspector.c:1389
 msgid ""
 "Make the window be automatically maximized when it's\n"
 "first shown."
-msgstr "·í²Ä¤@¦¸Åã¥Ü®ÉÅýµøµ¡¦Û°Ê³Ì¤j¤Æ¡C"
+msgstr ""
 
-#: ../src/winspector.c:1392
-msgid "Full screen maximization"
-msgstr "¥þ¿Ã¹õ³Ì¤j¤Æ"
+#: ../src/winspector.c:1393
+msgid "Skip Window List"
+msgstr "²¤¹Lµøµ¡²M³æ"
 
-#: ../src/winspector.c:1394
-msgid ""
-"Make the window use the whole screen space when it's\n"
-"maximized. The titlebar and resizebar will be moved\n"
-"to outside the screen."
+#: ../src/winspector.c:1395
+msgid "Do not list the window in the window list menu."
 msgstr ""
-"·í³Ì¤j¤Æ®ÉÅýµøµ¡¨Ï¥Î¾ã­Ó¿Ã¹õªÅ¶¡¡C¡u¼ÐÃD¦C¡v»P¡u¤j¤pÅÜ§ó¦C¡v·|²¾¦Ü¿Ã¹õ¥~¡C"
 
-#: ../src/winspector.c:1411
+#: ../src/winspector.c:1410
 msgid "Advanced"
 msgstr "¶i¶¥"
 
-#: ../src/winspector.c:1428
-msgid "Do not bind keyboard shortcuts"
+#: ../src/winspector.c:1427
+msgid "Ignore HideOthers"
+msgstr "©¿²¤¡uÁôÂÃ¨ä¥L¡v"
+
+#: ../src/winspector.c:1429
+msgid ""
+"Do not hide the window when issuing the\n"
+"`HideOthers' command."
+msgstr ""
+
+#: ../src/winspector.c:1433
+msgid "Don't Bind Keyboard Shortcuts"
 msgstr "¤£­nµ²¦XÁä½L±¶®|"
 
-#: ../src/winspector.c:1430
+#: ../src/winspector.c:1435
 msgid ""
 "Do not bind keyboard shortcuts from Window Maker\n"
 "when this window is focused. This will allow the\n"
 "window to receive all key combinations regardless\n"
 "of your shortcut configuration."
 msgstr ""
-"·í¦¹µøµ¡±o¨ìµJÂI®É¤£­n±q Window Maker µ²¦XÁä½L±¶®|¡C\n"
-"³o¤¹³\\µøµ¡±o¨ì©Ò¦³Áä½L²Õ¦X¤£²z·|§Aªº±¶®|³]©w¡C"
 
-#: ../src/winspector.c:1436
-msgid "Do not bind mouse clicks"
+#: ../src/winspector.c:1441
+msgid "Don't Bind Mouse Clicks"
 msgstr "¤£­nµ²¦X·Æ¹««öÁä"
 
-#: ../src/winspector.c:1438
+#: ../src/winspector.c:1443
 msgid ""
 "Do not bind mouse actions, such as `Alt'+drag\n"
 "in the window (when alt is the modifier you haveconfigured)."
-msgstr "¤£­nµ²¦X·Æ¹«°Ê§@¡A¨Ò¦p¦bµøµ¡¤¤¡uAlt¡v+©ì¦²¡]·í Alt ¬O§A³]©wªº­×¹¢¡^¡C"
-
-#: ../src/winspector.c:1443
-msgid "Do not show in the window list"
-msgstr "¤£­n¦bµøµ¡²M³æ¤¤Åã¥Ü"
-
-#: ../src/winspector.c:1445
-msgid "Do not list the window in the window list menu."
-msgstr "¤£­n¦bµøµ¡²M³æ¿ï³æ¤¤¦C¥X¦¹µøµ¡¡C"
+msgstr ""
 
 #: ../src/winspector.c:1448
-msgid "Do not let it take focus"
-msgstr "¤£­nÅý¥¦¨ú±oµJÂI"
+msgid "Keep Inside Screen"
+msgstr "«O«ù¦b¿Ã¹õ¤º"
 
 #: ../src/winspector.c:1450
 msgid ""
-"Do not let the window take keyboard focus when you\n"
-"click on it."
-msgstr "·í¦bµøµ¡¤W«ö·Æ¹«®É¤£­nÅý¥¦¨ú±oÁä½LµJÂI¡C"
+"Do not allow the window to move itself completely\n"
+"outside the screen. For bug compatibility.\n"
+msgstr ""
 
 #: ../src/winspector.c:1454
-msgid "Keep inside screen"
-msgstr "«O«ù¦b¿Ã¹õ¤º"
+msgid "Don't Let It Take Focus"
+msgstr "¤£­nÅý¥¦¨ú±oµJÂI"
 
 #: ../src/winspector.c:1456
 msgid ""
-"Do not allow the window to move itself completely\n"
-"outside the screen. For bug compatibility.\n"
-msgstr "¤£¤¹³\\µøµ¡§¹¥þ²¾¥X¿Ã¹õ¡C¥Î©ó¿ù»~¬Û®e©Ê¡C\n"
+"Do not let the window take keyboard focus when you\n"
+"click on it."
+msgstr ""
 
 #: ../src/winspector.c:1460
-msgid "Ignore 'Hide Others'"
-msgstr "©¿²¤¡uÁôÂÃ¨ä¥L¡v"
+msgid "Don't Save Session"
+msgstr "¤£­nÀx¦sª¬ºA"
 
 #: ../src/winspector.c:1462
 msgid ""
-"Do not hide the window when issuing the\n"
-"`HideOthers' command."
-msgstr "·íµo¥X¡uÁôÂÃ¨ä¥L¡v©R¥O®É¤£­nÁôÂÃµøµ¡¡C"
-
-#: ../src/winspector.c:1466
-msgid "Ignore 'Save Session'"
-msgstr "©¿²¤¡uÀx¦sª¬ºA¡v"
-
-#: ../src/winspector.c:1468
-msgid ""
 "Do not save the associated application in the\n"
 "session's state, so that it won't be restarted\n"
 "together with other applications when Window Maker\n"
 "starts."
 msgstr ""
-"¤£­n¦b¶¥¬qª¬ºA¤¤°£¦sÃö³sªºÀ³¥Îµ{¦¡¡A\n"
-"¦p¦¹·íµøµ¡ºÞ²z­û±Ò°Ê®É¤£·|¸òµÛ¨ä¥L\n"
-"À³¥Îµ{¦¡¤@°_³Q­«·s±Ò°Ê¡C"
 
-#: ../src/winspector.c:1474
-msgid "Emulate application icon"
+#: ../src/winspector.c:1468
+msgid "Emulate Application Icon"
 msgstr "¼ÒÀÀÀ³¥Îµ{¦¡¹Ï¥Ü"
 
-#: ../src/winspector.c:1476
+#: ../src/winspector.c:1470
 msgid ""
 "Make this window act as an application that provides\n"
 "enough information to Window Maker for a dockable\n"
 "application icon to be created."
 msgstr ""
-"Åý¦¹µøµ¡¼Ò¥é´£¨Ñ¨¬°÷¸ê°Tµ¹ Window Maker \n"
-"«Ø¥ß°±¾aÀ³¥Îµ{¦¡¹Ï¥ÜªºÀ³¥Îµ{¦¡"
 
-#: ../src/winspector.c:1482
-msgid "Disable language button"
-msgstr "¨Ï¡u»y¨¥«ö¶s¡v¥¢®Ä"
+#: ../src/winspector.c:1475
+msgid "Full Screen Maximization"
+msgstr ""
+
+#: ../src/winspector.c:1477
+msgid ""
+"Make the window use the whole screen space when it's\n"
+"maximized. The titlebar and resizebar will be moved\n"
+"to outside the screen."
+msgstr ""
+
+#: ../src/winspector.c:1483
+#, fuzzy
+msgid "Disable Language Button"
+msgstr "¨Ï¡uÃö³¬«ö¶s¡v¥¢®Ä"
 
-#: ../src/winspector.c:1484
+#: ../src/winspector.c:1485
 msgid "Remove the `toggle language' button of the window."
-msgstr "§R°£¦¹µøµ¡ªº¡u¤Á´«»y¨¥¡v«ö¶s¡C"
+msgstr ""
 
-#: ../src/winspector.c:1501
+#: ../src/winspector.c:1502
 msgid "Miniwindow Image"
 msgstr "°g§Aµøµ¡¼v¹³"
 
-#: ../src/winspector.c:1528
-msgid "Icon filename:"
-msgstr "¹Ï¥ÜÀÉ¦W¡G"
+#: ../src/winspector.c:1529
+msgid "Icon File Name:"
+msgstr "¹Ï¥ÜÀÉ¦W:"
 
-#: ../src/winspector.c:1541
+#: ../src/winspector.c:1542
 msgid "Ignore client supplied icon"
 msgstr "©¿²¤µ{¦¡´£¨Ñªº¹Ï¥Ü"
 
-#: ../src/winspector.c:1548
+#: ../src/winspector.c:1549
 msgid "Initial Workspace"
 msgstr "±Ò©l¤u§@°Ï"
 
-#: ../src/winspector.c:1550
+#: ../src/winspector.c:1551
 msgid "The workspace to place the window when it'sfirst shown."
-msgstr "·í²Ä¤@¦¸Åã¥Ü®Éµøµ¡©ñ¸mªº¤u§@°Ï¡C"
+msgstr ""
 
-#: ../src/winspector.c:1556
+#: ../src/winspector.c:1557
 msgid "Nowhere in particular"
 msgstr "µL¯S§O«ü©w"
 
-#: ../src/winspector.c:1574
-msgid "Application Attributes"
-msgstr "À³¥Îµ{¦¡ÄÝ©Ê"
+#: ../src/winspector.c:1575
+msgid "Application Wide"
+msgstr "¾ã­ÓÀ³¥Îµ{¦¡"
 
-#: ../src/winspector.c:1585
-msgid "Start hidden"
+#: ../src/winspector.c:1586
+msgid "Start Hidden"
 msgstr "±Ò°Ê®ÉÁôÂÃ"
 
-#: ../src/winspector.c:1587
+#: ../src/winspector.c:1588
 msgid "Automatically hide application when it's started."
-msgstr "·í±Ò°Ê®É¦Û°ÊÁôÂÃÀ³¥Îµ{¦¡¡C"
+msgstr ""
 
-#: ../src/winspector.c:1590
-msgid "No application icon"
+#: ../src/winspector.c:1591
+msgid "No Application Icon"
 msgstr "µLÀ³¥Îµ{¦¡¹Ï¥Ü"
 
-#: ../src/winspector.c:1592
+#: ../src/winspector.c:1593
 msgid ""
 "Disable the application icon for the application.\n"
 "Note that you won't be able to dock it anymore,\n"
 "and any icons that are already docked will stop\n"
 "working correctly."
 msgstr ""
-"¨ÏÀ³¥Îµ{¦¡¹Ï¥Ü¥¢®Ä¡C\n"
-"ª`·N¡G§A¤£¯à¦A°±¾a¥¦¡A¥ô¦ó¤w°±¾aªº¹Ï¥Ü·|°±¤î¥¿±`¹B§@¡C"
-
-#: ../src/winspector.c:1598
-msgid "Shared application icon"
-msgstr "¦@¥ÎÀ³¥Îµ{¦¡¹Ï¥Ü"
 
-#: ../src/winspector.c:1600
-msgid ""
-"Use a single shared application icon for all of\n"
-"the instances of this application.\n"
-msgstr "¦¹À³¥Îµ{¦¡ªº©Ò¦³ª«¥ó¨Ï¥Î³æ¤@¦@¥ÎÀ³¥Îµ{¦¡¹Ï¥Ü¡C\n"
-
-#: ../src/workspace.c:107 ../src/workspace.c:108 ../src/workspace.c:876
+#: ../src/workspace.c:110 ../src/workspace.c:111 ../src/workspace.c:893
 #, c-format
 msgid "Workspace %i"
 msgstr "¤u§@°Ï  %i"
 
-#: ../src/workspace.c:926
+#: ../src/workspace.c:950
 msgid "Workspaces"
 msgstr "¤u§@°Ï"
 
-#: ../src/workspace.c:928
+#: ../src/workspace.c:952
 msgid "could not create Workspace menu"
 msgstr "µLªk«Ø¥ß¤u§@°Ï¿ï³æ"
 
-#: ../src/workspace.c:935
+#: ../src/workspace.c:959
 msgid "New"
 msgstr "·s¼W¤u§@°Ï"
 
-#: ../src/workspace.c:936
+#: ../src/workspace.c:960
 msgid "Destroy Last"
 msgstr "§R°£³Ì«áªº¤u§@°Ï"
+
+#~ msgid "Keep Attracted Icons"
+#~ msgstr "«O«ù§l¤Þªº¹Ï¥Ü"
+
+#~ msgid "Keep Icon(s)"
+#~ msgstr "«O«ù¹Ï¥Ü"
+
+#~ msgid "stack overflow: too many dead processes"
+#~ msgstr "°ïÅ|·¸¦ì: ¤Ó¦h²×¤îªº¦æµ{"
+
+#~ msgid "could not render gradient: %s"
+#~ msgstr "µLªkªí²{º¥¼h: %s"
+
+#~ msgid "could not exec window manager"
+#~ msgstr "µLªk°õ¦æµøµ¡ºÞ²z­û"
+
+#~ msgid "Restart failed!!!"
+#~ msgstr "­«·s±Ò°Ê¥¢±Ñ!!!"
+
+#~ msgid "wrealloc() failed while trying to add menu item"
+#~ msgstr "¹Á¸Õ¼W¥[¿ï³æ¶µ¥Ø®É wrealloc() ¥¢±Ñ"
+
+#~ msgid "selection timed-out"
+#~ msgstr "¿ï¨ú¹O®É"
+
+#~ msgid "The following character sets are missing in %s:"
+#~ msgstr "%s ¤¤¤U¦C¦r¤¸¶°¯Ê¤Ö:"
+
+#~ msgid "The string \"%s\" will be used in place"
+#~ msgstr "¦r¦ê \"%s\" ·|³Q¥Î¨Ó¨ú¥N"
+
+#~ msgid "of any characters from those sets."
+#~ msgstr "¨º¨Ç¶°¦Xªº¥ô¦ó¦r¤¸¡C"
+
+#~ msgid "could not create font set %s. Trying fixed"
+#~ msgstr "µLªk«Ø¥ß¦r«¬¶° %s¡C¸Õ¥Î fixed"
+
+#~ msgid "could not load font %s. Trying fixed"
+#~ msgstr "µLªk¸ü¤J¦r«¬ %s¡C¸Õ¥Î fixed"
+
+#~ msgid ""
+#~ "Enable the \"Don't bind...\" options to allow the application to receive "
+#~ "all mouse or keyboard events."
+#~ msgstr ""
+#~ "±Ò°Ê \"¤£­nµ²¦X...\" ¿ï¶µ\n"
+#~ "¤¹³\À³¥Îµ{¦¡±µ¨ü©Ò¦³·Æ¹«©ÎÁä½L¨Æ¥ó¡C"
+
+#~ msgid "Update"
+#~ msgstr "§ó·s"
+
+#~ msgid "invalid data in selection"
+#~ msgstr "¿ï¨úªº¸ê®ÆµL®Ä"
+
+#~ msgid "Keep Clip On Top"
+#~ msgstr "«O«ù°j¯¾°w¦b³Ì¤W¼h"
+
+# ??
+#~ msgid "Keep Dock On Top"
+#~ msgstr "«O«ù°±¾a°Ï¦b³Ì¤W¼h"
+
+#~ msgid "(Un)Hide"
+#~ msgstr "ÁôÂÃ¡]ÁÙ­ì¡^"
+
+#~ msgid ""
+#~ "Close Window System session?\n"
+#~ "(all applications will be closed)"
+#~ msgstr ""
+#~ "Ãö³¬µøµ¡¨t²Î¡H\n"
+#~ "¡]©Ò¦³À³¥Îµ{¦¡·|³QÃö³¬¡^"
+
+#~ msgid "%s: Received signal SIGTERM. Exiting..."
+#~ msgstr "%s: ¦¬¨ì SIGTERM °T¸¹¡CÂ÷¶}..."
+
+#~ msgid "(Un)Maximize"
+#~ msgstr "³Ì¤j¤Æ¡]ÁÙ­ì¡^"
+
+#~ msgid "(Un)Shade"
+#~ msgstr "¾B½ª¡]ÁÙ­ì¡^"
+
+# ??
+#~ msgid "Hide Others"
+#~ msgstr "ÁôÂÃ¨ä¥Lµøµ¡"
+
+#~ msgid "Revert"
+#~ msgstr "ÁÙ­ì"
diff -Naur WindowMaker-0.80.2/README wm-xft2/README
--- WindowMaker-0.80.2/README	2002-01-08 16:44:32.000000000 +0300
+++ wm-xft2/README	2003-10-22 14:08:34.000000000 +0400
@@ -270,7 +270,7 @@
 - to reduce memory usage, disable the icon cache, by setting the RIMAGE_CACHE
   environment variable to 0. If you want to increase performance at the cost
   of memory usage, set it's value to a value like the number of different
-  icons you use.
+  icons you use. Also, disable anti-aliased text support in ~/GNUstep/Defaults/WMGLOBAL.
 
 
 Keyboard Mouse Control
diff -Naur WindowMaker-0.80.2/README.antialiasing wm-xft2/README.antialiasing
--- WindowMaker-0.80.2/README.antialiasing	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/README.antialiasing	2002-11-30 05:19:46.000000000 +0300
@@ -0,0 +1,154 @@
+
+Here is a step by step mini-HOWTO of the things needed to be done to get
+antialiased fonts in Window Maker quickly:
+
+1. Make sure you have a recent XFree server (4.x or newer, but 4.2.x or newer
+   is preferable). Also make sure it supports the RENDER extension (you can
+   see this in the output of xdpyinfo) and it has the freetype extension
+   module (you should have a /usr/X11R6/lib/modules/fonts/libfreetype.a file).
+2. Make sure you have the following lines in your XF86Config file in the
+   "Module" section:
+     Load "type1"
+     Load "freetype"
+     Load "extmod"
+   (Not sure if extmod is really required for antialiased fonts, but it won't
+    hurt).
+3. Install some True Type fonts say in /usr/X11R6/lib/X11/fonts/TrueType
+4. To generate the fonts.scale and fonts.dir files in the directory where the
+   True Type fonts were installed you need an utility named ttmkfdir. There is
+   also an utility named mkttfdir but that only supports ISO8859-1 and JIS
+   encodings. From my experience ttmkfdir will recognize more fonts and works
+   better so I recommend using this one. You should issue these commands to
+   generate the fonts.scale and fonts.dir files:
+     cd /usr/X11R6/lib/X11/fonts/TrueType
+     ttmkfdir -o fonts.scale
+     mkfontdir
+5. Now add /usr/X11R6/lib/X11/fonts/TrueType to your font path in the
+   XF86Config file. It goes in the "Files" section as:
+     FontPath "/usr/X11R6/lib/X11/fonts/TrueType"
+   I recommend to put this at the top of your font path list.
+6. You can restart the X server at this point, to make all these changes take
+   effect.
+7. Edit your /etc/X11/XftConfig file (or ~/.xftconfig if you don't have
+   access to edit the global file). Make sure that the True Type font path is
+   _before_ the Type1 font path. You should have something like this:
+     dir "/usr/X11R6/lib/X11/fonts/TrueType"
+     dir "/usr/X11R6/lib/X11/fonts/Type1"
+   If you add extra True type paths, add them before the Type1 path
+   If the Type1 path is first, and the Xft library fails to find/load the font
+   you asked for, it will load some very ugly defaults.
+   A sample XftConfig file is included with the Window Maker source at
+   toplevel as Sample.XftConfig. You can use that as reference and for ideas.
+8. Compile and install Window Maker. No special switches are needed. However
+   watch the ./configure output and check if it says that Antialiased text
+   support is enabled in WINGs. If not, probably it failed to find libXft.
+   Check that you have the development files for your X server installed.
+9. Edit ~/GNUstep/Defaults/WMGLOBAL and add entries for the following:
+     AntialiasedSystemFont = "-*-trebuchet ms-medium-r-normal-*-%d-*-*-*-*-*-*-*";
+     AntialiasedBoldSystemFont = "-*-trebuchet ms-bold-r-normal-*-%d-*-*-*-*-*-*-*";
+     AntialiasedText = Yes;
+   Use a font that you have installed on your system (arial and "trebuchet ms"
+   are good choices).
+   If AntialiasedText is enabled in WMGLOBAL, all WINGs based application will
+   use antialiased fonts by default (this includes Window Maker).
+   You can then disable the antialiased fonts on the per application basis by
+   adding an AntialiasedText = No; entry in their specific configuration files
+   The entry in the application's configuration file will always overwrite the
+   global setting from WMGLOBAL.
+   However if you want most of your WINGs applications to use normal fonts,
+   but just a few to use antialiased fonts, then put AntialiasedText = No; in
+   WMGLOBAL, and enable antialiased fonts only in the applications you want,
+   by adding the AntialiasedText = Yes; in their own configuration files
+
+At this point all WINGs based application should be able to use antialiased
+fonts. You can check this by enabling antialiasing and starting WPrefs. It
+should show nice antialiased text everywhere.
+
+Now to enable antialiased fonts in Window Maker, there are 2 possibilities:
+
+10a. Add entries for all font options in ~/GNUstep/Defaults/WindowMaker
+     containing True Type fonts ("trebuchet ms", arial or verdana should work
+     fine). Don't use non True Type fonts like Helvetica, because Xft won't
+     load them, instead will load some defaults. Depending on the TrueTupe vs
+     Type1 path order in your XftConfig file and the options declared there,
+     it can range from "Extremely ugly" (if path to Type1 is before the path
+     to True Type fonts), to "Acceptable" (if the True Type path comes first).
+     Also modify all your themes to hold True Type fonts for all the font
+     options
+
+10b. Leave the fonts as they are (for example leave the default Helvetica) in
+     ~/GNUstep/Defaults/WindowMaker, and add an alias (or more) in the 
+     XftConfig file. This alias should look something like:
+       match any family == "Helvetica"         edit family += "Trebuchet MS";
+       match any family == "Courier"           edit family += "Courier New";
+       ...
+     Which means that every time the Xft library (which is used the WINGs) gets
+     a request to load a Helvetica font, it will load the "trebuchet ms" font
+     instead, keeping all the other font parameters unchanged.
+
+Each of these 2 methods have advantages and disadvantages.
+
+Case 10a:
+---------
+With the first method, you do more work and you will not be able to use
+existing themes by just enabling antialiasing, because it will load default
+fonts which may not look as you want. You will need to change the fonts in
+every theme you want to use by replacing them with True Type fonts.
+
+If you plan to switch antialiasing on/off, this method has a big disadvantage:
+you need to edit your configuration/themes with every switch (at least if you
+want Helvetica or other Type1 font for the non-antialiased case). This is
+because if you have a font set to (say) Arial and want to switch antialiasing
+off, you will get the normal version of Arial and you need to edit your font
+options again to see Helvetica.
+If you are happy with how the non-antialiased version of your True Type fonts
+looks this disadvantage goes away. In this case you will use the same font
+(say arial) with both antialiased/normal fonts.
+
+OTOH this method gives you fine tune over the fonts used in Window Maker and
+you will be able to set each individual font as you like. 
+
+Case 10b:
+---------
+With the second method, you have almost nothing to do. Just define the proper
+aliases in the XftConfig file, and whenever some of the fonts you aliased is
+requested  it's True Type alias will be loaded. 
+This way you can use all your old themes and all you have to do except adding
+the aliases to the XftConfig file, is to enable or disable antialiasing the
+the configuration file.
+
+For example if Helvetica is aliased to Arial, if you have antialiasing
+disabled, Helvetica will be used, but if you enable antialiasing Arial will
+be used instead. This method is very handy if you want to use existing themes
+you don't want to modify, or if you want to switch antialiasing on/off and
+don't want to edit your font options with every such switch.
+
+The downside of this method is that if you don't have some font aliased in
+the XftConfig file, it will load some default instead.
+Also another downside is that you cannot fine tune your fonts. They will be
+translated by the alias rules in XftConfig from whatever they are defined in
+the theme. Sometimes this is not optimal.
+
+For example if you aliased Helvetica to "Trebuchet MS" and all your screen
+fonts are Helvetica (at different sizes). With antialiasing disabled the
+Helvetica fonts everywhere looks good. However with antialiasing enabled the
+10pt font used by the miniwindow titles looks better if Arial is used. Also
+the 10pt font used by the clip looks better with Verdana. Same for the 12pt
+font used by balloons which is also better if Arial is used. But with this
+method you cannot do such fine tuning, unless you edit your font options in
+the Window Maker configuration file, in which case there will be a mix of the
+2 methods.
+
+11. At this point if all was properly done, all you have to do is either add
+    an AntialiasedText = Yes; entry to ~/GNUstep/Defaults/WindowMaker, or
+    start WPrefs, goto the Expert Settings panel, and check the 
+    "Smooth font edges" option. Currently you need to restart if you switch 
+    antialiasing on/off (this may change in the future)
+
+
+Final note: antialiased text only looks good if a True Type font is
+used for it. Either by directly specifying it, or providing an alias in
+the XftConfig file. The idea is that the font Xft loads (after all the
+aliases have beed resolved) should point to a True Type font. Else
+unpleasant results may show on your screen :P
+
diff -Naur WindowMaker-0.80.2/README.es wm-xft2/README.es
--- WindowMaker-0.80.2/README.es	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/README.es	2003-10-22 14:08:34.000000000 +0400
@@ -0,0 +1,370 @@
+
+
+
+		       		GNU Window Maker
+		       	       X11 Window Manager
+
+	  	   	   <http://windowmaker.org>
+		 	 <ftp://ftp.windowmaker.org>
+
+				     por
+
+		      	     Alfredo K. Kojima 
+
+			 	 Dan Pascu
+
+				    ]d
+
+
+			       Web/FTP Master
+
+			       Phillip Smith
+
+
+
+		¡Felicitaciones! Ha adquirido un dispositivo
+	excelentísimo que le proporcionará miles de años de uso sin
+	problemas, si no fuera porque indudablemente lo destruirá a
+	través de alguna maniobra estúpida típica de consumidor. Por
+	eso le pedimos por EL AMOR DE DIOS LEA ESTE MANUAL DEL
+	PROPIETARIO CUIDADOSAMENTE ANTES DE DESEMPAQUETAR EL
+	DISPOSITIVO. ¿YA LO DESEMPAQUETÓ, NO?  LO DESEMPAQUETÓ Y LO
+	ENCHUFÓ Y LO ENCENDIÓ Y TOQUETEÓ LAS PERILLAS, Y AHORA SU
+	CHICO, EL MISMO CHICO QUE UNA VEZ METIÓ UNA SALCHICHA EN SU
+	VIDEOCASETERA Y ACCIONÓ "AVANCE RÁPIDO", ESTE CHICO
+	TAMBIÉN ESTÁ TUOQUETEANDO LAS PERILLAS, ¿CIERTO? Y RECIÉN
+	AHORA ESTÁ COMENZANDO A LEER LAS INSTRUCCIONES, ¿¿¿CIERTO???
+	NOSOTROS PODRÍAMOS SIMPLEMENTE ROMPER ESTOS DISPOSITIVOS EN LA
+	FÁBRICA ANTES DE DESPACHARLOS, ¿SABE?
+				-- Dave	Barry, "¡Lea Esto Primero!"
+
+
+Descripción
+===========
+
+Window Maker es el gestor de ventanas GNU para el Sistema de Ventanas X. Fue
+diseñado para emular la apariencia y funcionalidad de parte del GUI de NEXTSTEP(mr).
+Procura ser relativamente rápido y pequeño, rico en características, fácil de configurar
+y usar, con una simple y elegante apariencia sacada desde NEXTSTEP(mr).
+
+Window Maker fue diseñado teniendo en mente la integración con GNUstep y por eso
+es el gestor de ventanas "oficial". Es también parte del proyecto GNU (www.gnu.org)
+. Lea mas sobre GNUstep más adelante en este archivo.
+
+
+Pistas (información dada por las aplicaciones para integrarse bien con el gestor de
+ventanas) para Motif(tm), OPEN LOOK(tm), KDE y GNOME también son soportados. 
+Entonces puede reemplazar cualquiera de los gestores de ventana para estos entornos
+con Window Maker manteniendo la mayoría, si no todo, de la funcionalidad del
+gestor de ventanas nativo.
+
+Window Maker antes se llamaba WindowMaker.
+
+Window Maker no tiene relación con Windowmaker, el software para
+hacer ventanas y puertas.
+
+
+Documentación
+=============
+
+Lea antes de preguntar.
+
+* Los archivos README distribuidos por todas partes del árbol de fuentes 
+contienen información relacionada al contenido en los directorios. 
+
+* INSTALL tiene instrucciones de instalación y algunos consejos cuando tenga
+algún problema. Significa que debería leerlo antes de la instalación.
+No fue escrito solo para ocupar espacio en el paquete...
+
+* FAQ: Preguntas Frecuentes. LEALO!!! FAQ.I18N es para
+preguntas relacionadas con la internacionalización.
+
+* NEWS: lista los cambios visibles por el usuario desde la versión anterior. 
+Léalo si está actualizando.
+
+* MIRRORS: algunos lugares alternativos donde puede obtener Window Maker, 
+incluyendo paquetes de Window Maker específicos para ciertas plataformas.
+
+* BUGFORM: uselo para enviar reportes de errores. Por favor uselo.
+
+* ChangeLog: ¿que cambió desde la versión anterior?
+
+* BUGS: lista de errores conocidos.
+
+*** Tutorial
+
+Hay un tutorial mantenido por Georges Tarbouriech en:
+
+http://www.linuxfocus.org/~georges.t/
+
+*** Guía del Usuario
+
+La Guía del Usuario de Window Maker puede ser bajada desde el ftp oficial
+o por sitios web.
+Puede también ser vista en formato HTML en:
+
+http://people.delphi.com/crc3419/WMUserGuide/index.htm
+
+La Guía del Usuario explica como usar Window Maker, los archivos de configuración 
+y opciones.
+
+*** man pages
+
+Tipee "man wmaker" en el prompt del shell para obtener ayuda general sobre Window Maker.
+
+
+Directorios y Archivos en el Árbol de Fuentes
+=============================================
+
+* Install es un script para configurar y compilar Window Maker de una forma
+fácil (no es que la forma normal sea difícil, pero...).
+
+* AUTORES: los créditos
+
+* TODO: planes para el futuro.
+
+* contrib/ tiene algunos parches aportados que no están soportados por Window Maker
+  porque entran en conflicto con la filosofía de diseño de los desarrolladores o por
+  alguna otra razón.
+
+* util/ tiene varios programas utilitarios.
+
+* WPrefs.app/ es el programa de configuración.
+
+* src/wconfig.h posee opciones de compilación que puede cambiar para 
+  seleccionar algunas opciones/caracteristicas y otras cosas.
+
+* WINGs/ biblioteca widget para imitación de NEXTSTEP.
+
+* wrlib/ biblioteca de procesamiento de imagen.
+
+* po/ posee catálogos de mensajes  que son las versiones traducidas de los mensajes
+mostrados por Window Maker.
+
+* docklib-x.x.tar.gz es una biblioteca para escribir dockapps.
+
+SOCORRO!!!
+==========
+
+Hay una lista de correo para discutir sobre Window Maker en
+wm-user@windowmaker.org. Para suscribirse, envie un mensaje que contenga:
+
+	subscribe
+en el tema del mensaje a wm-user-request@windowmaker.org
+
+Si tiene algun problema, pregunte aquí (después de leer los docs, por supuesto). Es
+más probable que las personas de la lista sepan contestar sus preguntas
+que nosotros. Para reportes de errores use el BUGFORM.
+
+Si tiene un problema con una versión precompilada de Window Maker 
+(rpm, deb etc), primero pregunte a la persona que hizo el paquete.
+
+NOTA IMPORTANTE: cuando pida ayuda (en la lista de correo o a los desarrolladores,
+directamente) *siempre* envie información sobre el sistema que está usando. Puede
+usar la sección de información del sistema al final del BUGFORM como una guía. 
+Otra cosa: por favor no envie correo HTML.
+
+También hay un canal de IRC #windowmaker en openprojects. Únase aquí, 
+conecte su cliente de irc a irc.openprojects.net, irc.linux.com o algún otro
+servidor de esa red.
+
+GNUstep
+=======
+
+GNUStep es un completo sistema de desarrollo orientado a objetos, basado en la 
+especificación OpenStep liberada por NeXT(tm) (ahora Apple(tm) y Sun(tm)). Ello
+proveerá todo lo que se necesita para producir aplicaciones multiplataforma, 
+orientadas a objetos, gráficas (y no gráficas); suministrando dentro de otras cosas,
+bibliotecas base del sistema, una estructura de alto nivel para aplicaciones GUI que
+usan un modelo de imagenes de tipo Display PostScript(tm) (DGS), objetos para acceso
+a bases de datos relacionales, objetos distribuidos y un entorno de desarrollo gráfico,
+con herramientas como un modelador de interfaces, un sistema para administración del 
+proyecto (central de proyecto) y otras herramientas.
+
+El sistema de desarrollo de GNUStep será usado para crear un entorno de usuario,
+con todo lo necesario para una completa interface gráfica de usuario, tal como 
+un visualizador de archivos, editores de texto y otras aplicaciones. Note que el
+entorno de usuario (o "entorno de escritorio") es solo un pequeña parte de todo
+el proyecto GNUStep y por lo tanto no "compite" con otros proyectos como KDE o GNOME,
+simplemente porque son cosas completamente diferentes.
+
+Para más información sobre el proyecto GNUStep, visite: http://www.gnustep.org y
+http://gnustep.current.nu
+
+
+Ejecutando multiples instancias de Window Maker
+===============================================
+
+No es una buena idea eejcutar más de una instancia de Window Maker desde
+el mismo usuario (ya que wmaker usará los mismos archivos de configuración)
+al mismo tiempo. Podría obtener un comportamiento inesperado cuando Window
+Maker actualiza sus archivos de configuración.
+
+Si de verdad desea hacer esto, intente ejecutar Window Maker con la opción
+de linea de comando --static ya que así no actualizará o cambiará ninguno de los
+archivos de configuración.
+
+Soporte para Sonido
+===================
+
+El sonido es soportado por los sistemas Linux y FreeBSD con el uso de 
+un módulo distribuido separadamente llamado WSoundServer. Hay también 
+una herramienta de configuracion gráfica para definir sus sonidos llamada
+WSoundPref.
+Puede bajar esto en:
+http://shadowmere.student.utwente.nl/
+
+Note que debe compilar Window Maker con el parámetro --enable-sound
+y definir la opción DisableSound a NO.
+
+Soporte para OpenL**k
+=====================
+
+Calculo que muchos usuarios, principalmente del mundo académico, 
+tienen que usar aplicaciones escritas usando los toolkits OpenL**k,
+así que tener soporte para estas aplicaciones debe ser de algún uso.
+
+Para activarlo, use  --enable-openlook al hacer el configure. Note que
+no todo está implementado.
+
+Las cosas implementadas incluyen consejos de adorno y el push-pin. Las cosas 
+no implementadas incluyen _SUN_WINDOW_STATE (la cosa compuesta que lleva el estado),
+cosas que interesan sobre arrastrar y soltar, cabecera (no estoy seguro de que sea así)
+y cadenas footer.
+
+Por favor hágame saber si algo no funciona. Si la característica ya está implimentada,
+pero no funciona por un error, intentaré arreglarlo. Si esta es una característica no
+implementada y menciona que es importante (obs: no solo superficial), consideraré 
+implementarlo.
+
+El estado "out" del pushpin es emular un botón presionado. Solo cliquee 
+en el botón para hacer que se libere, lo cuál corresponde al estado 
+pinned-in del pushpin. Si pulsa otra vez en el boton liberado, servirá de
+botón normal de cerrado: cerrará la ventana.
+
+
+Ajuste de Rendimiento.
+=====================
+Si quiere disminuir el uso de memoria por parte de Window Maker y mejorar el 
+rendimiento, manteniendo una linda apariencia y buena funcionalidad, siga los
+items de abajo:
+
+- use texturas sólidas para todo, principalmente barras de título y menúes.
+  Si quiere un escritorio de aspecto lindo, use el estilo Tradicional.
+- Apague NewStyle y Superfluous
+- No una muchos atajos al menú y mantenga solo los items esenciales en el menú.
+- Active DisableClip
+- edite wconfig.h y desactive el NUMLOCK_HACK y lo mismo con las características
+  que no use (tenga en mente que algunos de los #defines podrían no funcionar,
+  ya que ellos no están completamente soportados). Asegúrese de mantener siempre
+  Numlock y ScrollLock apagados.
+- Active DisableAnimations. Puede también #undefine ANIMATIONS en wconfig.h
+- quite las entradas por defecto IconPath y PixmapPath para contener solo las
+  rutas que en verdad tiene en su sistema.
+- no use imágenes grandes en el fondo raíz.
+- quite el soporte para los formatos de imagen que no use.
+- para reducir el uso de la memoria, desactive el caché de ícono, definiendo 
+  la variable de entorno RIMAGE_CACHE a 0. Si quiere aumentar el rendimiento 
+  a expensas del uso de la memoria, defina este valor a un valor igual al 
+  número de íconos distintos que use.
+
+Control del Mouse por Teclado
+=============================
+
+Muchas personas preguntan sobre agregar control por teclado al mouse, como
+en fvwm, pero Window Maker no tendrá tal característica. La extensión XKB 
+soporta simulación de mouse desde el teclado, de una manera mucho más poderosa
+que cualquier otra simulación hecha por un administrador de ventanas.
+
+Para activarlo, presione la combinación de teclas Control+Shift+NumLock o 
+Shift+NumLock. Debiera escuchar el beep del parlante. Para desactivarlo,
+haga lo mismo.
+
+Para controlar el mouse el teclado numérico se usa así:
+- 4 (flecha izquierda), 7 (Home), 8 (flecha arriba), 9 (PgUP), 6 (flecha derecha),
+  3 (PgDn), 2 (flecha abajo) y 1 (Fin) mueve el mouse a la correspondiente 
+  dirección;
+- sosteniendo una de las teclas de arriba y luego sosteniendo la tecla 5 moverá
+el puntero más rápido;
+- / seleccionará el primer botón del mouse (botón izquierdo);
+- * seleccionará el segundo botón del mouse (botón del medio);
+- - seleccionará el tercer botón del mouse (botón derecho);
+- 5 hará un click con el botón actualmente seleccionado del mouse;
+- + hará un doble click con el botón actualmente seleccionado;
+- 0 (Ins) cliqueará y mantendrá el botón seleccionado actualmente;
+- . (Del) liberará el botón seleccionado actualmente que fue anteriormente
+  cliqueado con la tecla 0 (Ins).
+
+Los valores anteriores de las teclas funcionarán en un servidor X XFree86 3.2
+(X11R6.1) pero su alcance puede variar.
+
+Como hacer un gdb backtrace
+===========================
+
+Backtraces pueden ayudarnos a arreglar errores que hicieron que Window Maker falle.
+Si encuentra un bug que hace fallar a Window Maker, por favor envie un backtrace con su
+reporte de error.
+
+Para hacer un backtrace útil, necesita un archivo core con información de depuración
+producida por Window Maker cuando falló. Debería haber sido instalado sin stripping también.
+
+Para compilar wmaker con información de depuración:
+
+./configure
+make CFLAGS=-g
+
+Si obtiene el cuadro de diálogo que le dice que wmaker falló y le 
+pregunta que hacer, respóndale "Abortar y dejar un archivo core"
+
+script
+cd src
+gdb .libs/wmaker path_to_the_core_file
+
+Luego, en el prompt gdb escriba "bt". Salga de gdb escribiendo "quit"
+y luego, en el prompt del shell, scriba "exit"
+
+El archivo llamado typescript contendrá el backtrace.
+
+Derechos de Autor y Descargo de Responsabilidad
+===============================================
+
+Window Maker está registrado por Alfredo K. Kojima y está licensiado por la 
+Licensia Pública General GNU. Lea el archivo COPYING para leer la licensia
+completa.
+
+Los íconos que son distribuidos con este programa y fueron hechos por Marco
+van Hylckama Vlieg, están licenciados por la Licencia Pública General GNU. 
+Lea el archivo COPYING para leer la licencia completa.
+
+Los íconos listados en COPYING.WTFPL y son distribuidos en este programa
+fueron hechos por Banlu Kemiyatorn (]d), están licenciados por la 
+"do What The Fuck you want to Public License". Lea el archivo COPYING.WTFPL
+para leer la licencia completa.
+
+NeXT, OpenStep y NEXTSTEP son marcas registradas de NeXT Computer, Inc.
+Todas las otras marcas registradas son propiedad de sus respectivos dueños.
+
+Los autores se reservan el derecho de hacer cambios en el software sin previo
+aviso.
+
+Autores
+=======
+
+Alfredo K. Kojima <kojima@windowmaker.org>
+Dan Pascu <dan@windowmaker.org>
+]d <id@windowmaker.org>
+
+Por favor no nos haga preguntas antes de leer la documentación (especialmente 
+la FAQ, este archivo y los archivos INSTALL) y sobre cosas "cool" que ve en
+las capturas de pantalla del escritorio de las personas.
+
+El archivo AUTHORS contiene una lista de las personas que han contribuido 
+con el proyecto. El nombre de las personas que han ayudado con localization 
+(traducción) se puede encontrar en po/README y Window Maker/README
+
+Si tiene algún comentario, arreglos y reportes de errores (complete BUGFORMs)
+y enviémelos a developers@windowmaker.org
+
+
+
+traducido por Efraín Maximiliano Palermo <max_drake2001@yahoo.com.ar>
diff -Naur WindowMaker-0.80.2/Sample.XftConfig wm-xft2/Sample.XftConfig
--- WindowMaker-0.80.2/Sample.XftConfig	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/Sample.XftConfig	2002-11-30 05:19:46.000000000 +0300
@@ -0,0 +1,79 @@
+# $XFree86: xc/lib/Xft/XftConfig.cpp,v 1.8 2001/11/21 23:41:12 keithp Exp $
+
+dir "/usr/share/fonts/truetype"
+dir "/usr/X11R6/lib/X11/fonts/TrueType"
+dir "/var/lib/defoma/x-ttcidfont-conf.d/dirs/TrueType"
+dir "/usr/X11R6/lib/X11/fonts/Type1"
+
+#
+# alias 'fixed' for 'mono'
+#
+match any family == "fixed"		edit family =+ "mono";
+
+#
+# Check users config file
+#
+includeif	"~/.xftconfig"
+
+#
+# Substitute TrueType fonts for Type1 versions
+#
+match any family == "Times"             edit family += "Times New Roman";
+#match any family == "Helvetica"         edit family += "Verdana";
+#match any family == "Helvetica"         edit family += "Arial";
+match any family == "Helvetica"         edit family += "Trebuchet MS";
+match any family == "Courier"           edit family += "Courier New";
+
+#
+# Use TrueType fonts for defaults
+#
+match any family == "serif"             edit family += "Times New Roman";
+match any family == "sans"              edit family += "Verdana";
+
+#
+# Use monotype.com (andale) face where possible
+#
+match
+        any family == "mono" 
+        all slant == roman
+        all weight < bold
+edit
+        family += "monotype.com";
+#
+# otherwise, use courier
+#
+match any family == "mono"              edit family += "Courier New";
+
+#
+# Alias between XLFD families and font file family name, prefer local fonts
+#
+match any family == "charter"		edit family += "bitstream charter";
+match any family == "bitstream charter" edit family =+ "charter";
+
+match any family == "Charter"           edit family += "Bitstream Charter";
+match any family == "Bitstream Charter" edit family =+ "Charter";
+
+match any family == "Lucidux Serif"     edit family += "LuciduxSerif";
+match any family == "LuciduxSerif"      edit family =+ "Lucidux Serif";
+
+match any family == "Lucidux Sans"      edit family += "LuciduxSans";
+match any family == "LuciduxSans"       edit family =+ "Lucidux Sans";
+
+match any family == "Lucidux Mono"      edit family += "LuciduxMono";
+match any family == "LuciduxMono"       edit family =+ "Lucidux Mono";
+    
+#
+# TrueType font aliases
+#
+match any family == "Comic Sans"        edit family += "Comic Sans MS";
+match any family == "Comic Sans MS"     edit family =+ "Comic Sans";
+match any family == "Trebuchet"         edit family += "Trebuchet MS";
+match any family == "Trebuchet MS"      edit family =+ "Trebuchet";
+match any family == "Monotype"          edit family =+ "Monotype.com";
+match any family == "Andale Mono"       edit family += "Monotype.com";
+match any family == "Monotype.com"      edit family =+ "Andale Mono";
+
+#
+#
+match any family == "webdings"		edit encoding += "glyphs-fontspecific";
+match any family == "symbol"		edit encoding += "glyphs-fontspecific";
diff -Naur WindowMaker-0.80.2/src/actions.c wm-xft2/src/actions.c
--- WindowMaker-0.80.2/src/actions.c	2002-07-02 04:30:25.000000000 +0400
+++ wm-xft2/src/actions.c	2003-10-22 14:08:37.000000000 +0400
@@ -1,10 +1,10 @@
 /* action.c- misc. window commands (miniaturize, hide etc.)
- * 
+ *
  *  Window Maker window manager
- * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
- *  Copyright (c) 1998-2002 Dan Pascu
- * 
+ *
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Dan Pascu
+ *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
  *  the Free Software Foundation; either version 2 of the License, or
@@ -17,7 +17,7 @@
  *
  *  You should have received a copy of the GNU General Public License
  *  along with this program; if not, write to the Free Software
- *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, 
+ *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,
  *  USA.
  */
 
@@ -95,7 +95,7 @@
     XEvent event;
 
     /*
-     * This is a hack. When animations are enabled, processing of 
+     * This is a hack. When animations are enabled, processing of
      * events ocurred during a animation are delayed until it's end.
      * Calls that consider the TimeStamp, like XSetInputFocus(), will
      * fail because the TimeStamp is too old. Then, for example, if
@@ -107,8 +107,8 @@
      */
     ignoreTimestamp=1;
     while (XPending(dpy) && event_count--) {
-	WMNextEvent(dpy, &event);
-	WMHandleEvent(&event);
+        WMNextEvent(dpy, &event);
+        WMHandleEvent(&event);
     }
     ignoreTimestamp=0;
 }
@@ -117,17 +117,17 @@
 
 
 /*
- *---------------------------------------------------------------------- 
+ *----------------------------------------------------------------------
  * wSetFocusTo--
  * 	Changes the window focus to the one passed as argument.
  * If the window to focus is not already focused, it will be brought
  * to the head of the list of windows. Previously focused window is
- * unfocused. 
- * 
+ * unfocused.
+ *
  * Side effects:
  * 	Window list may be reordered and the window focus is changed.
- * 
- *---------------------------------------------------------------------- 
+ *
+ *----------------------------------------------------------------------
  */
 void
 wSetFocusTo(WScreen *scr, WWindow  *wwin)
@@ -141,36 +141,43 @@
     int wasfocused;
 
     if (!old_scr)
-      old_scr=scr;
+        old_scr=scr;
     old_focused=old_scr->focused_window;
 
+    /*
+     * Safeguard: make sure the timestamp is monotonically increasing
+     * (very unlikely that this will be needed, still a safeguard)
+     */
+    if (timestamp <= LastFocusChange)
+        timestamp = LastFocusChange + 1;
+
     LastFocusChange = timestamp;
 
-/*
- * This is a hack, because XSetInputFocus() should have a proper
- * timestamp instead of CurrentTime but it seems that some times
- * clients will not receive focus properly that way.
+    /*
+     * This is a hack, because XSetInputFocus() should have a proper
+     * timestamp instead of CurrentTime but it seems that some times
+     * clients will not receive focus properly that way.
+     */
     if (ignoreTimestamp)
-*/
-      timestamp = CurrentTime;
+        timestamp = CurrentTime;
 
     if (old_focused)
-	oapp = wApplicationOf(old_focused->main_window);
+        oapp = wApplicationOf(old_focused->main_window);
 
     if (wwin == NULL) {
-	XSetInputFocus(dpy, scr->no_focus_win, RevertToParent, timestamp);
-	if (old_focused) {
-	    wWindowUnfocus(old_focused);
-	}
-	if (oapp) {
-	    wAppMenuUnmap(oapp->menu);
+        XSetInputFocus(dpy, scr->no_focus_win, RevertToParent, timestamp);
+        if (old_focused) {
+            wWindowUnfocus(old_focused);
+        }
+        if (oapp) {
+            wAppMenuUnmap(oapp->menu);
 #ifdef NEWAPPICON
-	    wApplicationDeactivate(oapp);
+            wApplicationDeactivate(oapp);
 #endif
-	}
-	
-	WMPostNotificationName(WMNChangedFocus, NULL, (void*)True);
-	return;
+        }
+
+        WMPostNotificationName(WMNChangedFocus, NULL, (void*)True);
+        return;
     } else if (old_scr != scr && old_focused) {
         wWindowUnfocus(old_focused);
     }
@@ -185,71 +192,71 @@
     }
 
     if (wwin->flags.mapped && !WFLAGP(wwin, no_focusable)) {
-	/* install colormap if colormap mode is lock mode */
-	if (wPreferences.colormap_mode==WCM_CLICK)
-	    wColormapInstallForWindow(scr, wwin);
-
-	/* set input focus */
-	switch (wwin->focus_mode) {
-	 case WFM_NO_INPUT:
-	    XSetInputFocus(dpy, scr->no_focus_win, RevertToParent, timestamp);
-	    break;
-
-	 case WFM_PASSIVE:
-	 case WFM_LOCALLY_ACTIVE:
-	    XSetInputFocus(dpy, wwin->client_win, RevertToParent, timestamp);
-	    break;
-
-	 case WFM_GLOBALLY_ACTIVE:
-	    break;
-	}
-	XFlush(dpy);
-	if (wwin->protocols.TAKE_FOCUS) {
-	    wClientSendProtocol(wwin, _XA_WM_TAKE_FOCUS, timestamp);
-	}
-	XSync(dpy, False);
+        /* install colormap if colormap mode is lock mode */
+        if (wPreferences.colormap_mode==WCM_CLICK)
+            wColormapInstallForWindow(scr, wwin);
+
+        /* set input focus */
+        switch (wwin->focus_mode) {
+        case WFM_NO_INPUT:
+            XSetInputFocus(dpy, scr->no_focus_win, RevertToParent, timestamp);
+            break;
+
+        case WFM_PASSIVE:
+        case WFM_LOCALLY_ACTIVE:
+            XSetInputFocus(dpy, wwin->client_win, RevertToParent, timestamp);
+            break;
+
+        case WFM_GLOBALLY_ACTIVE:
+            break;
+        }
+        XFlush(dpy);
+        if (wwin->protocols.TAKE_FOCUS) {
+            wClientSendProtocol(wwin, _XA_WM_TAKE_FOCUS, timestamp);
+        }
+        XSync(dpy, False);
     } else {
-	XSetInputFocus(dpy, scr->no_focus_win, RevertToParent, timestamp);
+        XSetInputFocus(dpy, scr->no_focus_win, RevertToParent, timestamp);
     }
     if (WFLAGP(wwin, no_focusable))
-	return;
+        return;
 
     /* if this is not the focused window focus it */
     if (focused!=wwin) {
-	/* change the focus window list order */
-	if (wwin->prev)
-	  wwin->prev->next = wwin->next;
-
-	if (wwin->next)
-	  wwin->next->prev = wwin->prev;
-
-	wwin->prev = focused;
-	focused->next = wwin;
-	wwin->next = NULL;
-	scr->focused_window = wwin;
+        /* change the focus window list order */
+        if (wwin->prev)
+            wwin->prev->next = wwin->next;
+
+        if (wwin->next)
+            wwin->next->prev = wwin->prev;
+
+        wwin->prev = focused;
+        focused->next = wwin;
+        wwin->next = NULL;
+        scr->focused_window = wwin;
 
-	if (oapp && oapp != napp) {
-	    wAppMenuUnmap(oapp->menu);
+        if (oapp && oapp != napp) {
+            wAppMenuUnmap(oapp->menu);
 #ifdef NEWAPPICON
-	    wApplicationDeactivate(oapp);
+            wApplicationDeactivate(oapp);
 #endif
-	}
+        }
     }
 
     wWindowFocus(wwin, focused);
 
     if (napp && !wasfocused) {
 #ifdef USER_MENU
-	wUserMenuRefreshInstances(napp->menu, wwin);
+        wUserMenuRefreshInstances(napp->menu, wwin);
 #endif /* USER_MENU */
 
-    if (wwin->flags.mapped)
-    	wAppMenuMap(napp->menu, wwin);
+        if (wwin->flags.mapped)
+            wAppMenuMap(napp->menu, wwin);
 #ifdef NEWAPPICON
-	wApplicationActivate(napp);
+        wApplicationActivate(napp);
 #endif
     }
-    
+
     XFlush(dpy);
     old_scr=scr;
 }
@@ -264,40 +271,40 @@
 #endif
 
     if (wwin->flags.shaded)
-	return;
+        return;
 
     time0 = time(NULL);
 
-    XLowerWindow(dpy, wwin->client_win);    
+    XLowerWindow(dpy, wwin->client_win);
 
     wSoundPlay(WSOUND_SHADE);
 
 #ifdef ANIMATIONS
     if (!wwin->screen_ptr->flags.startup && !wwin->flags.skip_next_animation
-	&& !wPreferences.no_animations) {
-	/* do the shading animation */
-	h = wwin->frame->core->height;
+        && !wPreferences.no_animations) {
+        /* do the shading animation */
+        h = wwin->frame->core->height;
         s = h/SHADE_STEPS;
         if (s < 1) s=1;
-	w = wwin->frame->core->width;
-	y = wwin->frame->top_width;
-	while (h>wwin->frame->top_width+1) {
-	    XMoveWindow(dpy, wwin->client_win, 0, y);
-	    XResizeWindow(dpy, wwin->frame->core->window, w, h);
-	    XFlush(dpy);
+        w = wwin->frame->core->width;
+        y = wwin->frame->top_width;
+        while (h>wwin->frame->top_width+1) {
+            XMoveWindow(dpy, wwin->client_win, 0, y);
+            XResizeWindow(dpy, wwin->frame->core->window, w, h);
+            XFlush(dpy);
 
-	    if (time(NULL)-time0 > MAX_ANIMATION_TIME)
-		break;
+            if (time(NULL)-time0 > MAX_ANIMATION_TIME)
+                break;
 
             if (SHADE_DELAY > 0) {
                 wusleep(SHADE_DELAY*1000L);
             } else {
                 wusleep(10);
             }
-	    h-=s;
-	    y-=s;
-	}
-	XMoveWindow(dpy, wwin->client_win, 0, wwin->frame->top_width);
+            h-=s;
+            y-=s;
+        }
+        XMoveWindow(dpy, wwin->client_win, 0, wwin->frame->top_width);
     }
 #endif  /* ANIMATIONS */
 
@@ -305,30 +312,30 @@
     wwin->flags.shaded = 1;
     wwin->flags.mapped = 0;
     /* prevent window withdrawal when getting UnmapNotify */
-    XSelectInput(dpy, wwin->client_win, 
+    XSelectInput(dpy, wwin->client_win,
                  wwin->event_mask & ~StructureNotifyMask);
     XUnmapWindow(dpy, wwin->client_win);
     XSelectInput(dpy, wwin->client_win, wwin->event_mask);
 
     /* for the client it's just like iconification */
     wFrameWindowResize(wwin->frame, wwin->frame->core->width,
-		       wwin->frame->top_width - 1);
-    
-    wwin->client.y = wwin->frame_y - wwin->client.height 
-	+ wwin->frame->top_width;
+                       wwin->frame->top_width - 1);
+
+    wwin->client.y = wwin->frame_y - wwin->client.height
+        + wwin->frame->top_width;
     wWindowSynthConfigureNotify(wwin);
 
     /*
-    wClientSetState(wwin, IconicState, None);
+     wClientSetState(wwin, IconicState, None);
      */
 
     WMPostNotificationName(WMNChangedState, wwin, "shade");
 
 #ifdef ANIMATIONS
     if (!wwin->screen_ptr->flags.startup) {
-	/* Look at processEvents() for reason of this code. */
-    	XSync(dpy, 0);
-    	processEvents(XPending(dpy));
+        /* Look at processEvents() for reason of this code. */
+        XSync(dpy, 0);
+        processEvents(XPending(dpy));
     }
 #endif
 }
@@ -339,12 +346,12 @@
 {
     time_t time0;
 #ifdef ANIMATIONS
-    int y, s, w, h;    
+    int y, s, w, h;
 #endif /* ANIMATIONS */
 
 
     if (!wwin->flags.shaded)
-	return;
+        return;
 
     time0 = time(NULL);
 
@@ -356,50 +363,50 @@
 
 #ifdef ANIMATIONS
     if (!wPreferences.no_animations && !wwin->flags.skip_next_animation) {
-	/* do the shading animation */
-	h = wwin->frame->top_width + wwin->frame->bottom_width;
-	y = wwin->frame->top_width - wwin->client.height;
+        /* do the shading animation */
+        h = wwin->frame->top_width + wwin->frame->bottom_width;
+        y = wwin->frame->top_width - wwin->client.height;
         s = abs(y)/SHADE_STEPS;
         if (s<1) s=1;
-	w = wwin->frame->core->width;
-	XMoveWindow(dpy, wwin->client_win, 0, y);
-	if (s>0) {
-	    while (h < wwin->client.height + wwin->frame->top_width
-		   + wwin->frame->bottom_width) {
-		XResizeWindow(dpy, wwin->frame->core->window, w, h);
-		XMoveWindow(dpy, wwin->client_win, 0, y);
-		XFlush(dpy);
+        w = wwin->frame->core->width;
+        XMoveWindow(dpy, wwin->client_win, 0, y);
+        if (s>0) {
+            while (h < wwin->client.height + wwin->frame->top_width
+                   + wwin->frame->bottom_width) {
+                XResizeWindow(dpy, wwin->frame->core->window, w, h);
+                XMoveWindow(dpy, wwin->client_win, 0, y);
+                XFlush(dpy);
                 if (SHADE_DELAY > 0) {
                     wusleep(SHADE_DELAY*2000L/3);
                 } else {
                     wusleep(10);
                 }
-		h+=s;
-		y+=s;
-		
-		if (time(NULL)-time0 > MAX_ANIMATION_TIME)
-		    break;
-	    }
-	}
-	XMoveWindow(dpy, wwin->client_win, 0, wwin->frame->top_width);
+                h+=s;
+                y+=s;
+
+                if (time(NULL)-time0 > MAX_ANIMATION_TIME)
+                    break;
+            }
+        }
+        XMoveWindow(dpy, wwin->client_win, 0, wwin->frame->top_width);
     }
 #endif /* ANIMATIONS */
 
     wwin->flags.skip_next_animation = 0;
-    wFrameWindowResize(wwin->frame, wwin->frame->core->width, 
-		       wwin->frame->top_width + wwin->client.height
-		       + wwin->frame->bottom_width);
+    wFrameWindowResize(wwin->frame, wwin->frame->core->width,
+                       wwin->frame->top_width + wwin->client.height
+                       + wwin->frame->bottom_width);
 
     wwin->client.y = wwin->frame_y + wwin->frame->top_width;
     wWindowSynthConfigureNotify(wwin);
-    
+
     /*
-    wClientSetState(wwin, NormalState, None);
+     wClientSetState(wwin, NormalState, None);
      */
     /* if the window is focused, set the focus again as it was disabled during
      * shading */
     if (wwin->flags.focused)
-	wSetFocusTo(wwin->screen_ptr, wwin);
+        wSetFocusTo(wwin->screen_ptr, wwin);
 
     WMPostNotificationName(WMNChangedState, wwin, "shade");
 }
@@ -409,90 +416,106 @@
 wMaximizeWindow(WWindow *wwin, int directions)
 {
     int new_width, new_height, new_x, new_y;
-    WArea usableArea = wwin->screen_ptr->totalUsableArea;
-    WArea totalArea;
-
+    int changed_h, changed_v, shrink_h, shrink_v;
+    WArea usableArea, totalArea;
 
     if (WFLAGP(wwin, no_resizable))
-	return;
-    
+        return;
+
     totalArea.x1 = 0;
     totalArea.y1 = 0;
     totalArea.x2 = wwin->screen_ptr->scr_width;
     totalArea.y2 = wwin->screen_ptr->scr_height;
+    usableArea = totalArea;
 
-#ifdef XINERAMA
-    if (wwin->screen_ptr->xine_count > 0
-	&& !(directions & MAX_IGNORE_XINERAMA)) {
-	WScreen *scr = wwin->screen_ptr;
-	WMRect rect;
-
-	rect = wGetRectForHead(scr, wGetHeadForPointerLocation(scr));
-	totalArea.x1 = rect.pos.x;
-	totalArea.y1 = rect.pos.y;
-	totalArea.x2 = totalArea.x1 + rect.size.width;
-	totalArea.y2 = totalArea.y1 + rect.size.height;
-
-	usableArea.x1 = WMAX(totalArea.x1, usableArea.x1);
-	usableArea.y1 = WMAX(totalArea.y1, usableArea.y1);
-	usableArea.x2 = WMIN(totalArea.x2, usableArea.x2);
-	usableArea.y2 = WMIN(totalArea.y2, usableArea.y2);
+    if (!(directions & MAX_IGNORE_XINERAMA)) {
+        WScreen *scr = wwin->screen_ptr;
+        int head;
+
+        if (directions & MAX_KEYBOARD)
+            head = wGetHeadForWindow(wwin);
+        else
+            head = wGetHeadForPointerLocation(scr);
+
+        usableArea = wGetUsableAreaForHead(scr, head, &totalArea, True);
     }
-#endif /* XINERAMA */
 
     if (WFLAGP(wwin, full_maximize)) {
-	usableArea = totalArea;
+        usableArea = totalArea;
     }
 
     if (wwin->flags.shaded) {
-	wwin->flags.skip_next_animation = 1;
-	wUnshadeWindow(wwin);
+        wwin->flags.skip_next_animation = 1;
+        wUnshadeWindow(wwin);
+    }
+    /* Only save directions, not kbd or xinerama hints */
+    directions &= (MAX_HORIZONTAL|MAX_VERTICAL);
+
+    changed_h = ((wwin->flags.maximized ^ directions) & MAX_HORIZONTAL);
+    changed_v = ((wwin->flags.maximized ^ directions) & MAX_VERTICAL);
+    shrink_h = (changed_h && (directions & MAX_HORIZONTAL)==0);
+    shrink_v = (changed_v && (directions & MAX_VERTICAL)==0);
+
+    if (wwin->flags.maximized) {
+        /* if already maximized in some direction, we only update the
+         * appropriate old x, old y coordinates. This is necessary to
+         * allow succesive maximizations in different directions without
+         * the need to first do an un-maximize (to avoid flicker).
+         */
+        if (!(wwin->flags.maximized & MAX_HORIZONTAL)) {
+            wwin->old_geometry.x = wwin->frame_x;
+        }
+        if (!(wwin->flags.maximized & MAX_VERTICAL)) {
+            wwin->old_geometry.y = wwin->frame_y;
+        }
+    } else {
+        wwin->old_geometry.width = wwin->client.width;
+        wwin->old_geometry.height = wwin->client.height;
+        wwin->old_geometry.x = wwin->frame_x;
+        wwin->old_geometry.y = wwin->frame_y;
     }
     wwin->flags.maximized = directions;
-    wwin->old_geometry.width = wwin->client.width;
-    wwin->old_geometry.height = wwin->client.height;
-    wwin->old_geometry.x = wwin->frame_x;
-    wwin->old_geometry.y = wwin->frame_y;
 
 #ifdef KWM_HINTS
     wKWMUpdateClientGeometryRestore(wwin);
 #endif
 
     if (directions & MAX_HORIZONTAL) {
-
-	new_width = (usableArea.x2-usableArea.x1)-FRAME_BORDER_WIDTH*2;	
-	new_x = usableArea.x1;
-
+        new_width = (usableArea.x2-usableArea.x1)-FRAME_BORDER_WIDTH*2;
+        new_x = usableArea.x1;
+    } else if (shrink_h) {
+        new_x = wwin->old_geometry.x;
+        new_width = wwin->old_geometry.width;
     } else {
-
-	new_x = wwin->frame_x;
-	new_width = wwin->frame->core->width;
-
+        new_x = wwin->frame_x;
+        new_width = wwin->frame->core->width;
     }
 
     if (directions & MAX_VERTICAL) {
-
-	new_height = (usableArea.y2-usableArea.y1)-FRAME_BORDER_WIDTH*2;
-	new_y = usableArea.y1;
-	if (WFLAGP(wwin, full_maximize)) {
-	    new_y -= wwin->frame->top_width;
-	    new_height += wwin->frame->bottom_width - 1;
-	}
+        new_height = (usableArea.y2-usableArea.y1)-FRAME_BORDER_WIDTH*2;
+        new_y = usableArea.y1;
+        if (WFLAGP(wwin, full_maximize)) {
+            new_y -= wwin->frame->top_width;
+            new_height += wwin->frame->bottom_width - 1;
+        }
+    } else if (shrink_v) {
+        new_y = wwin->old_geometry.y;
+        new_height = wwin->old_geometry.height;
     } else {
-	new_y = wwin->frame_y;
-	new_height = wwin->frame->core->height;
+        new_y = wwin->frame_y;
+        new_height = wwin->frame->core->height;
     }
 
     if (!WFLAGP(wwin, full_maximize)) {
-	new_height -= wwin->frame->top_width+wwin->frame->bottom_width;
+        new_height -= wwin->frame->top_width+wwin->frame->bottom_width;
     }
 
     wWindowConstrainSize(wwin, &new_width, &new_height);
-    
-    wWindowCropSize(wwin, usableArea.x2-usableArea.x1, 
-		    usableArea.y2-usableArea.y1,
-		    &new_width, &new_height);
-    
+
+    wWindowCropSize(wwin, usableArea.x2-usableArea.x1,
+                    usableArea.y2-usableArea.y1,
+                    &new_width, &new_height);
+
     wWindowConfigure(wwin, new_x, new_y, new_width, new_height);
 
 
@@ -508,11 +531,11 @@
     int restore_x, restore_y;
 
     if (!wwin->flags.maximized)
-	return;
-    
+        return;
+
     if (wwin->flags.shaded) {
-	wwin->flags.skip_next_animation = 1;
-	wUnshadeWindow(wwin);
+        wwin->flags.skip_next_animation = 1;
+        wUnshadeWindow(wwin);
     }
     restore_x = (wwin->flags.maximized & MAX_HORIZONTAL) ?
         wwin->old_geometry.x : wwin->frame_x;
@@ -520,7 +543,7 @@
         wwin->old_geometry.y : wwin->frame_y;
     wwin->flags.maximized = 0;
     wWindowConfigure(wwin, restore_x, restore_y,
-		     wwin->old_geometry.width, wwin->old_geometry.height);
+                     wwin->old_geometry.width, wwin->old_geometry.height);
 
     WMPostNotificationName(WMNChangedState, wwin, "maximize");
 
@@ -535,7 +558,7 @@
 #define FRAMES (MINIATURIZE_ANIMATION_FRAMES_F)
     float cx, cy, cw, ch;
     float xstep, ystep, wstep, hstep;
-    XPoint points[5]; 
+    XPoint points[5];
     float dx, dch, midy;
     float angle, final_angle, delta;
 
@@ -543,7 +566,7 @@
     ystep = (float)(fy-y)/steps;
     wstep = (float)(fw-w)/steps;
     hstep = (float)(fh-h)/steps;
-     
+
     cx = (float)x;
     cy = (float)y;
     cw = (float)w;
@@ -567,21 +590,21 @@
 
         XGrabServer(dpy);
         XDrawLines(dpy,scr->root_win,scr->frame_gc,points, 5, CoordModeOrigin);
-	XFlush(dpy);
+        XFlush(dpy);
 #if (MINIATURIZE_ANIMATION_DELAY_F > 0)
         wusleep(MINIATURIZE_ANIMATION_DELAY_F);
 #else
         wusleep(10);
 #endif
 
-	XDrawLines(dpy,scr->root_win,scr->frame_gc,points, 5, CoordModeOrigin);
-	XUngrabServer(dpy);
-	cx+=xstep;
-	cy+=ystep;
-	cw+=wstep;
-	ch+=hstep;
-	if (angle >= final_angle)
-	  break;
+        XDrawLines(dpy,scr->root_win,scr->frame_gc,points, 5, CoordModeOrigin);
+        XUngrabServer(dpy);
+        cx+=xstep;
+        cy+=ystep;
+        cw+=wstep;
+        ch+=hstep;
+        if (angle >= final_angle)
+            break;
 
     }
     XFlush(dpy);
@@ -589,14 +612,14 @@
 #undef FRAMES
 
 
-static void 
+static void
 animateResizeTwist(WScreen *scr, int x, int y, int w, int h,
                    int fx, int fy, int fw, int fh, int steps)
 {
 #define FRAMES (MINIATURIZE_ANIMATION_FRAMES_T)
     float cx, cy, cw, ch;
     float xstep, ystep, wstep, hstep;
-    XPoint points[5]; 
+    XPoint points[5];
     float angle, final_angle, a, d, delta;
 
     x += w/2;
@@ -608,7 +631,7 @@
     ystep = (float)(fy-y)/steps;
     wstep = (float)(fw-w)/steps;
     hstep = (float)(fh-h)/steps;
-     
+
     cx = (float)x;
     cy = (float)y;
     cw = (float)w;
@@ -635,7 +658,7 @@
         points[4].y = cy+sin(angle-a)*d;
         XGrabServer(dpy);
         XDrawLines(dpy, scr->root_win, scr->frame_gc, points, 5, CoordModeOrigin);
-	XFlush(dpy);
+        XFlush(dpy);
 #if (MINIATURIZE_ANIMATION_DELAY_T > 0)
         wusleep(MINIATURIZE_ANIMATION_DELAY_T);
 #else
@@ -643,21 +666,21 @@
 #endif
 
         XDrawLines(dpy, scr->root_win, scr->frame_gc, points, 5, CoordModeOrigin);
-	XUngrabServer(dpy);
-	cx+=xstep;
-	cy+=ystep;
-	cw+=wstep;
-	ch+=hstep;
-	if (angle >= final_angle)
-	  break;
- 
+        XUngrabServer(dpy);
+        cx+=xstep;
+        cy+=ystep;
+        cw+=wstep;
+        ch+=hstep;
+        if (angle >= final_angle)
+            break;
+
     }
     XFlush(dpy);
 }
 #undef FRAMES
 
 
-static void 
+static void
 animateResizeZoom(WScreen *scr, int x, int y, int w, int h,
                   int fx, int fy, int fw, int fh, int steps)
 {
@@ -670,45 +693,45 @@
     ystep = (float)(fy-y)/steps;
     wstep = (float)(fw-w)/steps;
     hstep = (float)(fh-h)/steps;
-    
+
     for (j=0; j<FRAMES; j++) {
-	cx[j] = (float)x;
-	cy[j] = (float)y;
-	cw[j] = (float)w;
-	ch[j] = (float)h;
+        cx[j] = (float)x;
+        cy[j] = (float)y;
+        cw[j] = (float)w;
+        ch[j] = (float)h;
     }
     XGrabServer(dpy);
     for (i=0; i<steps; i++) {
-	for (j=0; j<FRAMES; j++) {
-	    XDrawRectangle(dpy, scr->root_win, scr->frame_gc, 
-			   (int)cx[j], (int)cy[j], (int)cw[j], (int)ch[j]);
-	}
-	XFlush(dpy);
+        for (j=0; j<FRAMES; j++) {
+            XDrawRectangle(dpy, scr->root_win, scr->frame_gc,
+                           (int)cx[j], (int)cy[j], (int)cw[j], (int)ch[j]);
+        }
+        XFlush(dpy);
 #if (MINIATURIZE_ANIMATION_DELAY_Z > 0)
         wusleep(MINIATURIZE_ANIMATION_DELAY_Z);
 #else
         wusleep(10);
 #endif
-	for (j=0; j<FRAMES; j++) {
-	    XDrawRectangle(dpy, scr->root_win, scr->frame_gc, 
-			   (int)cx[j], (int)cy[j], (int)cw[j], (int)ch[j]);
-	    if (j<FRAMES-1) {
-		cx[j]=cx[j+1];
-		cy[j]=cy[j+1];
-		cw[j]=cw[j+1];
-		ch[j]=ch[j+1];
-	    } else {
-		cx[j]+=xstep;
-		cy[j]+=ystep;
-		cw[j]+=wstep;
-		ch[j]+=hstep;
-	    }
-	}
+        for (j=0; j<FRAMES; j++) {
+            XDrawRectangle(dpy, scr->root_win, scr->frame_gc,
+                           (int)cx[j], (int)cy[j], (int)cw[j], (int)ch[j]);
+            if (j<FRAMES-1) {
+                cx[j]=cx[j+1];
+                cy[j]=cy[j+1];
+                cw[j]=cw[j+1];
+                ch[j]=ch[j+1];
+            } else {
+                cx[j]+=xstep;
+                cy[j]+=ystep;
+                cw[j]+=wstep;
+                ch[j]+=hstep;
+            }
+        }
     }
 
     for (j=0; j<FRAMES; j++) {
-	XDrawRectangle(dpy, scr->root_win, scr->frame_gc, 
-		       (int)cx[j], (int)cy[j], (int)cw[j], (int)ch[j]);
+        XDrawRectangle(dpy, scr->root_win, scr->frame_gc,
+                       (int)cx[j], (int)cy[j], (int)cw[j], (int)ch[j]);
     }
     XFlush(dpy);
 #if (MINIATURIZE_ANIMATION_DELAY_Z > 0)
@@ -717,18 +740,18 @@
     wusleep(10);
 #endif
     for (j=0; j<FRAMES; j++) {
-	XDrawRectangle(dpy, scr->root_win, scr->frame_gc, 
-		       (int)cx[j], (int)cy[j], (int)cw[j], (int)ch[j]);
+        XDrawRectangle(dpy, scr->root_win, scr->frame_gc,
+                       (int)cx[j], (int)cy[j], (int)cw[j], (int)ch[j]);
     }
-    
+
     XUngrabServer(dpy);
 }
 #undef FRAMES
 
 
 void
-animateResize(WScreen *scr, int x, int y, int w, int h, 
-	      int fx, int fy, int fw, int fh, int hiding)
+animateResize(WScreen *scr, int x, int y, int w, int h,
+              int fx, int fy, int fw, int fh, int hiding)
 {
     int style = wPreferences.iconification_style; /* Catch the value */
     int steps, k;
@@ -737,7 +760,7 @@
         return;
 
     if (style == WIS_RANDOM) {
-	style = rand()%3;
+        style = rand()%3;
     }
 
     k = (hiding ? 2 : 3);
@@ -767,9 +790,9 @@
 flushExpose()
 {
     XEvent tmpev;
-    
+
     while (XCheckTypedEvent(dpy, Expose, &tmpev))
-	WMHandleEvent(&tmpev);
+        WMHandleEvent(&tmpev);
     XSync(dpy, 0);
 }
 
@@ -777,29 +800,29 @@
 unmapTransientsFor(WWindow *wwin)
 {
     WWindow *tmp;
-    
+
 
     tmp = wwin->screen_ptr->focused_window;
     while (tmp) {
-	/* unmap the transients for this transient */
-	if (tmp!=wwin && tmp->transient_for == wwin->client_win
-	    && (tmp->flags.mapped || wwin->screen_ptr->flags.startup
-		|| tmp->flags.shaded)) {
-	    unmapTransientsFor(tmp);
-	    tmp->flags.miniaturized = 1;
-	    if (!tmp->flags.shaded) {
-		wWindowUnmap(tmp);
-	    } else {
-		XUnmapWindow(dpy, tmp->frame->core->window);
-	    }
-	    /*
-	    if (!tmp->flags.shaded)
-	     */
-	    wClientSetState(tmp, IconicState, None);
-	    
-	    WMPostNotificationName(WMNChangedState, tmp, "iconify-transient");
-	}
-	tmp = tmp->prev;
+        /* unmap the transients for this transient */
+        if (tmp!=wwin && tmp->transient_for == wwin->client_win
+            && (tmp->flags.mapped || wwin->screen_ptr->flags.startup
+                || tmp->flags.shaded)) {
+            unmapTransientsFor(tmp);
+            tmp->flags.miniaturized = 1;
+            if (!tmp->flags.shaded) {
+                wWindowUnmap(tmp);
+            } else {
+                XUnmapWindow(dpy, tmp->frame->core->window);
+            }
+            /*
+             if (!tmp->flags.shaded)
+             */
+            wClientSetState(tmp, IconicState, None);
+
+            WMPostNotificationName(WMNChangedState, tmp, "iconify-transient");
+        }
+        tmp = tmp->prev;
     }
 }
 
@@ -811,26 +834,26 @@
 
     tmp = wwin->screen_ptr->focused_window;
     while (tmp) {
-	/* recursively map the transients for this transient */
-	if (tmp!=wwin && tmp->transient_for == wwin->client_win
-	    && /*!tmp->flags.mapped*/ tmp->flags.miniaturized 
-	    && tmp->icon==NULL) {
-	    mapTransientsFor(tmp);
-	    tmp->flags.miniaturized = 0;
-	    if (!tmp->flags.shaded) {
-		wWindowMap(tmp);
-	    } else {
-		XMapWindow(dpy, tmp->frame->core->window);
-	    }
- 	    tmp->flags.semi_focused = 0;
-	    /*
-	    if (!tmp->flags.shaded)
-	     */
-	    wClientSetState(tmp, NormalState, None);
-	    
-	    WMPostNotificationName(WMNChangedState, tmp, "iconify-transient");
-	}
-	tmp = tmp->prev;
+        /* recursively map the transients for this transient */
+        if (tmp!=wwin && tmp->transient_for == wwin->client_win
+            && /*!tmp->flags.mapped*/ tmp->flags.miniaturized
+            && tmp->icon==NULL) {
+            mapTransientsFor(tmp);
+            tmp->flags.miniaturized = 0;
+            if (!tmp->flags.shaded) {
+                wWindowMap(tmp);
+            } else {
+                XMapWindow(dpy, tmp->frame->core->window);
+            }
+            tmp->flags.semi_focused = 0;
+            /*
+             if (!tmp->flags.shaded)
+             */
+            wClientSetState(tmp, NormalState, None);
+
+            WMPostNotificationName(WMNChangedState, tmp, "iconify-transient");
+        }
+        tmp = tmp->prev;
     }
 }
 
@@ -840,11 +863,11 @@
 {
     /* setup passive grabs on the icon */
     XGrabButton(dpy, Button1, AnyModifier, icon->core->window, True,
-		ButtonPressMask, GrabModeSync, GrabModeAsync, None, None);
+                ButtonPressMask, GrabModeSync, GrabModeAsync, None, None);
     XGrabButton(dpy, Button2, AnyModifier, icon->core->window, True,
-		ButtonPressMask, GrabModeSync, GrabModeAsync, None, None);
+                ButtonPressMask, GrabModeSync, GrabModeAsync, None, None);
     XGrabButton(dpy, Button3, AnyModifier, icon->core->window, True,
-		ButtonPressMask, GrabModeSync, GrabModeAsync, None, None);
+                ButtonPressMask, GrabModeSync, GrabModeAsync, None, None);
     XSync(dpy, 0);
 }
 #endif
@@ -855,19 +878,19 @@
     int i;
 
     if (!wwin)
-	return None;
+        return None;
 
-    /* hackish way to detect transient_for cycle */ 
+    /* hackish way to detect transient_for cycle */
     i = wwin->screen_ptr->window_count+1;
 
     while (wwin && wwin->transient_for != None && i>0) {
-	wwin = wWindowFor(wwin->transient_for);
-	i--;
+        wwin = wWindowFor(wwin->transient_for);
+        i--;
     }
     if (i==0 && wwin) {
-	wwarning("%s has a severely broken WM_TRANSIENT_FOR hint.",
-		 wwin->frame->title);
-	return NULL;
+        wwarning("%s has a severely broken WM_TRANSIENT_FOR hint.",
+                 wwin->frame->title);
+        return NULL;
     }
 
     return wwin;
@@ -880,7 +903,7 @@
     /* remove passive grabs on the icon */
     XUngrabButton(dpy, Button1, AnyModifier, icon->core->window);
     XUngrabButton(dpy, Button2, AnyModifier, icon->core->window);
-    XUngrabButton(dpy, Button3, AnyModifier, icon->core->window);    
+    XUngrabButton(dpy, Button3, AnyModifier, icon->core->window);
     XSync(dpy, 0);
 }
 #endif
@@ -894,149 +917,149 @@
 
 
     if (!XGetWindowAttributes(dpy, wwin->client_win, &attribs)) {
-	/* the window doesn't exist anymore */
-	return;
+        /* the window doesn't exist anymore */
+        return;
     }
 
     if (wwin->flags.miniaturized) {
-	return;
+        return;
     }
 
     if (wwin->transient_for!=None &&
         wwin->transient_for!=wwin->screen_ptr->root_win) {
-	WWindow *owner = wWindowFor(wwin->transient_for);
-	
-	if (owner && owner->flags.miniaturized)
-	    return;
+        WWindow *owner = wWindowFor(wwin->transient_for);
+
+        if (owner && owner->flags.miniaturized)
+            return;
     }
-    
+
     present = wwin->frame->workspace==wwin->screen_ptr->current_workspace;
- 
+
     /* if the window is in another workspace, simplify process */
     if (present) {
-	/* icon creation may take a while */
-	XGrabPointer(dpy, wwin->screen_ptr->root_win, False, 
-		     ButtonMotionMask|ButtonReleaseMask, GrabModeAsync, 
-		     GrabModeAsync, None, None, CurrentTime);
+        /* icon creation may take a while */
+        XGrabPointer(dpy, wwin->screen_ptr->root_win, False,
+                     ButtonMotionMask|ButtonReleaseMask, GrabModeAsync,
+                     GrabModeAsync, None, None, CurrentTime);
     }
 
     if (!wPreferences.disable_miniwindows) {
-	if (!wwin->flags.icon_moved) {
-	    PlaceIcon(wwin->screen_ptr, &wwin->icon_x, &wwin->icon_y);
-	}
-	wwin->icon = wIconCreate(wwin);
+        if (!wwin->flags.icon_moved) {
+            PlaceIcon(wwin->screen_ptr, &wwin->icon_x, &wwin->icon_y, wGetHeadForWindow(wwin));
+        }
+        wwin->icon = wIconCreate(wwin);
 
-	wwin->icon->mapped = 1;
+        wwin->icon->mapped = 1;
     }
 
     wwin->flags.miniaturized = 1;
     wwin->flags.mapped = 0;
 
     /* unmap transients */
-    
+
     unmapTransientsFor(wwin);
 
     if (present) {
-	wSoundPlay(WSOUND_ICONIFY);
+        wSoundPlay(WSOUND_ICONIFY);
 
-	XUngrabPointer(dpy, CurrentTime);
-	wWindowUnmap(wwin);
-	/* let all Expose events arrive so that we can repaint
-	 * something before the animation starts (and the server is grabbed) */
-	XSync(dpy, 0);
-
-	if (wPreferences.disable_miniwindows)
-	    wClientSetState(wwin, IconicState, None);
-	else
-	    wClientSetState(wwin, IconicState, wwin->icon->icon_win);
+        XUngrabPointer(dpy, CurrentTime);
+        wWindowUnmap(wwin);
+        /* let all Expose events arrive so that we can repaint
+         * something before the animation starts (and the server is grabbed) */
+        XSync(dpy, 0);
+
+        if (wPreferences.disable_miniwindows)
+            wClientSetState(wwin, IconicState, None);
+        else
+            wClientSetState(wwin, IconicState, wwin->icon->icon_win);
 
-	flushExpose();
+        flushExpose();
 #ifdef ANIMATIONS
-	if (!wwin->screen_ptr->flags.startup && !wwin->flags.skip_next_animation
-	    && !wPreferences.no_animations) {
-	    int ix, iy, iw, ih;
-
-	    if (!wPreferences.disable_miniwindows) {
-		ix = wwin->icon_x;
-		iy = wwin->icon_y;
-		iw = wwin->icon->core->width;
-		ih = wwin->icon->core->height;
-	    } else {
+        if (!wwin->screen_ptr->flags.startup && !wwin->flags.skip_next_animation
+            && !wPreferences.no_animations) {
+            int ix, iy, iw, ih;
+
+            if (!wPreferences.disable_miniwindows) {
+                ix = wwin->icon_x;
+                iy = wwin->icon_y;
+                iw = wwin->icon->core->width;
+                ih = wwin->icon->core->height;
+            } else {
 #ifdef KWM_HINTS
-		WArea area;
+                WArea area;
 
-		if (wKWMGetIconGeometry(wwin, &area)) {
-		    ix = area.x1;
-		    iy = area.y1;
-		    iw = area.x2 - ix;
-		    ih = area.y2 - iy;
-		} else
+                if (wKWMGetIconGeometry(wwin, &area)) {
+                    ix = area.x1;
+                    iy = area.y1;
+                    iw = area.x2 - ix;
+                    ih = area.y2 - iy;
+                } else
 #endif /* KWM_HINTS */
-		{
-		    ix = 0;
-		    iy = 0;
-		    iw = wwin->screen_ptr->scr_width;
-		    ih = wwin->screen_ptr->scr_height;
-		}
-	    }
-	    animateResize(wwin->screen_ptr, wwin->frame_x, wwin->frame_y, 
-			  wwin->frame->core->width, wwin->frame->core->height,
-			  ix, iy, iw, ih, False);
-	}
+                {
+                    ix = 0;
+                    iy = 0;
+                    iw = wwin->screen_ptr->scr_width;
+                    ih = wwin->screen_ptr->scr_height;
+                }
+            }
+            animateResize(wwin->screen_ptr, wwin->frame_x, wwin->frame_y,
+                          wwin->frame->core->width, wwin->frame->core->height,
+                          ix, iy, iw, ih, False);
+        }
 #endif
     }
-    
+
     wwin->flags.skip_next_animation = 0;
 
     if (!wPreferences.disable_miniwindows) {
 
-	if (wwin->screen_ptr->current_workspace==wwin->frame->workspace ||
-	    IS_OMNIPRESENT(wwin) || wPreferences.sticky_icons)
+        if (wwin->screen_ptr->current_workspace==wwin->frame->workspace ||
+            IS_OMNIPRESENT(wwin) || wPreferences.sticky_icons)
 
-	    XMapWindow(dpy, wwin->icon->core->window);
+            XMapWindow(dpy, wwin->icon->core->window);
 
-	AddToStackList(wwin->icon->core);
+        AddToStackList(wwin->icon->core);
 
-	wLowerFrame(wwin->icon->core);
+        wLowerFrame(wwin->icon->core);
     }
 
     if (present) {
-	WWindow *owner = recursiveTransientFor(wwin->screen_ptr->focused_window);
+        WWindow *owner = recursiveTransientFor(wwin->screen_ptr->focused_window);
 
-/*
- * It doesn't seem to be working and causes button event hangup 
- * when deiconifying a transient window.
- setupIconGrabs(wwin->icon);
- */
-	if ((wwin->flags.focused 
-	     || (owner && wwin->client_win == owner->client_win))
-	    && wPreferences.focus_mode==WKF_CLICK) {
-	    WWindow *tmp;
-	    
-	    tmp = wwin->prev;
-	    while (tmp) {
-		if (!WFLAGP(tmp, no_focusable)
-		    && !(tmp->flags.hidden||tmp->flags.miniaturized)
-		    && (wwin->frame->workspace == tmp->frame->workspace))
-		    break;
-		tmp = tmp->prev;
-	    }
-	    wSetFocusTo(wwin->screen_ptr, tmp);
-	} else if (wPreferences.focus_mode!=WKF_CLICK) {
-	    wSetFocusTo(wwin->screen_ptr, NULL);
-	}
+        /*
+         * It doesn't seem to be working and causes button event hangup
+         * when deiconifying a transient window.
+         setupIconGrabs(wwin->icon);
+         */
+        if ((wwin->flags.focused
+             || (owner && wwin->client_win == owner->client_win))
+            && wPreferences.focus_mode==WKF_CLICK) {
+            WWindow *tmp;
+
+            tmp = wwin->prev;
+            while (tmp) {
+                if (!WFLAGP(tmp, no_focusable)
+                    && !(tmp->flags.hidden||tmp->flags.miniaturized)
+                    && (wwin->frame->workspace == tmp->frame->workspace))
+                    break;
+                tmp = tmp->prev;
+            }
+            wSetFocusTo(wwin->screen_ptr, tmp);
+        } else if (wPreferences.focus_mode!=WKF_CLICK) {
+            wSetFocusTo(wwin->screen_ptr, NULL);
+        }
 
 #ifdef ANIMATIONS
-	if (!wwin->screen_ptr->flags.startup) {
-	    Window clientwin = wwin->client_win;
+        if (!wwin->screen_ptr->flags.startup) {
+            Window clientwin = wwin->client_win;
 
-	    XSync(dpy, 0);
-	    processEvents(XPending(dpy));
-	    
-	    /* the window can disappear while doing the processEvents() */
-	    if (!wWindowFor(clientwin))
-		return;
-	}
+            XSync(dpy, 0);
+            processEvents(XPending(dpy));
+
+            /* the window can disappear while doing the processEvents() */
+            if (!wWindowFor(clientwin))
+                return;
+        }
 #endif
     }
 
@@ -1056,29 +1079,29 @@
     wWindowChangeWorkspace(wwin, wwin->screen_ptr->current_workspace);
 
     if (!wwin->flags.miniaturized)
-	return;
+        return;
 
-    if (wwin->transient_for != None 
-	&& wwin->transient_for != wwin->screen_ptr->root_win) {
-	WWindow *owner = recursiveTransientFor(wwin);
-
-	if (owner && owner->flags.miniaturized) {
-	    wDeiconifyWindow(owner);
-	    wSetFocusTo(wwin->screen_ptr, wwin);
-	    wRaiseFrame(wwin->frame->core);
-	    return;
-	}
+    if (wwin->transient_for != None
+        && wwin->transient_for != wwin->screen_ptr->root_win) {
+        WWindow *owner = recursiveTransientFor(wwin);
+
+        if (owner && owner->flags.miniaturized) {
+            wDeiconifyWindow(owner);
+            wSetFocusTo(wwin->screen_ptr, wwin);
+            wRaiseFrame(wwin->frame->core);
+            return;
+        }
     }
 
     wwin->flags.miniaturized = 0;
     if (!wwin->flags.shaded)
-	wwin->flags.mapped = 1;
+        wwin->flags.mapped = 1;
 
     if (!wPreferences.disable_miniwindows && wwin->icon != NULL) {
-	if (wwin->icon->selected)
-	    wIconSelect(wwin->icon);
+        if (wwin->icon->selected)
+            wIconSelect(wwin->icon);
 
-	XUnmapWindow(dpy, wwin->icon->core->window);
+        XUnmapWindow(dpy, wwin->icon->core->window);
     }
 
     wSoundPlay(WSOUND_DEICONIFY);
@@ -1086,73 +1109,72 @@
     /* if the window is in another workspace, do it silently */
 #ifdef ANIMATIONS
     if (!wwin->screen_ptr->flags.startup && !wPreferences.no_animations
-	&& !wwin->flags.skip_next_animation && wwin->icon != NULL) {
-	int ix, iy, iw, ih;
+        && !wwin->flags.skip_next_animation && wwin->icon != NULL) {
+        int ix, iy, iw, ih;
 
-	if (!wPreferences.disable_miniwindows) {
-	    ix = wwin->icon_x;
-	    iy = wwin->icon_y;
-	    iw = wwin->icon->core->width;
-	    ih = wwin->icon->core->height;
-	} else {
+        if (!wPreferences.disable_miniwindows) {
+            ix = wwin->icon_x;
+            iy = wwin->icon_y;
+            iw = wwin->icon->core->width;
+            ih = wwin->icon->core->height;
+        } else {
 #ifdef KWM_HINTS
-	    WArea area;
+            WArea area;
 
-	    if (wKWMGetIconGeometry(wwin, &area)) {
-		ix = area.x1;
-		iy = area.y1;
-		iw = area.x2 - ix;
-		ih = area.y2 - iy;
-	    } else
+            if (wKWMGetIconGeometry(wwin, &area)) {
+                ix = area.x1;
+                iy = area.y1;
+                iw = area.x2 - ix;
+                ih = area.y2 - iy;
+            } else
 #endif /* KWM_HINTS */
-	    {
-		ix = 0;
-		iy = 0;
-		iw = wwin->screen_ptr->scr_width;
-		ih = wwin->screen_ptr->scr_height;
-	    }
-	}
-	animateResize(wwin->screen_ptr, ix, iy, iw, ih,
-		      wwin->frame_x, wwin->frame_y,
-		      wwin->frame->core->width, wwin->frame->core->height,
-		      False);
+            {
+                ix = 0;
+                iy = 0;
+                iw = wwin->screen_ptr->scr_width;
+                ih = wwin->screen_ptr->scr_height;
+            }
+        }
+        animateResize(wwin->screen_ptr, ix, iy, iw, ih,
+                      wwin->frame_x, wwin->frame_y,
+                      wwin->frame->core->width, wwin->frame->core->height,
+                      False);
     }
 #endif /* ANIMATIONS */
     wwin->flags.skip_next_animation = 0;
     XGrabServer(dpy);
     if (!wwin->flags.shaded) {
-	XMapWindow(dpy, wwin->client_win);
+        XMapWindow(dpy, wwin->client_win);
     }
     XMapWindow(dpy, wwin->frame->core->window);
     wRaiseFrame(wwin->frame->core);
     if (!wwin->flags.shaded) {
-	wClientSetState(wwin, NormalState, None);
+        wClientSetState(wwin, NormalState, None);
     }
     mapTransientsFor(wwin);
 
     if (!wPreferences.disable_miniwindows && wwin->icon != NULL) {
-	RemoveFromStackList(wwin->icon->core);
-	/*    removeIconGrabs(wwin->icon);*/
-	wIconDestroy(wwin->icon);
-	wwin->icon = NULL;
+        RemoveFromStackList(wwin->icon->core);
+        /*    removeIconGrabs(wwin->icon);*/
+        wIconDestroy(wwin->icon);
+        wwin->icon = NULL;
     }
     XUngrabServer(dpy);
 
-    if (wPreferences.focus_mode==WKF_CLICK)
-	wSetFocusTo(wwin->screen_ptr, wwin);
+    wSetFocusTo(wwin->screen_ptr, wwin);
 
 #ifdef ANIMATIONS
     if (!wwin->screen_ptr->flags.startup) {
-	Window clientwin = wwin->client_win;
-	
-    	XSync(dpy, 0);
-    	processEvents(XPending(dpy));
-	
-	if (!wWindowFor(clientwin))
-	    return;
+        Window clientwin = wwin->client_win;
+
+        XSync(dpy, 0);
+        processEvents(XPending(dpy));
+
+        if (!wWindowFor(clientwin))
+            return;
     }
 #endif
-    
+
     if (wPreferences.auto_arrange_icons) {
         wArrangeIcons(wwin->screen_ptr, True);
     }
@@ -1169,18 +1191,18 @@
 hideWindow(WIcon *icon, int icon_x, int icon_y, WWindow *wwin, int animate)
 {
     if (wwin->flags.miniaturized) {
-	if (wwin->icon) { 
-	    XUnmapWindow(dpy, wwin->icon->core->window);
-	    wwin->icon->mapped = 0;
-	}
-	wwin->flags.hidden = 1;
-	
-	WMPostNotificationName(WMNChangedState, wwin, "hide");
-	return;
+        if (wwin->icon) {
+            XUnmapWindow(dpy, wwin->icon->core->window);
+            wwin->icon->mapped = 0;
+        }
+        wwin->flags.hidden = 1;
+
+        WMPostNotificationName(WMNChangedState, wwin, "hide");
+        return;
     }
 
     if (wwin->flags.inspector_open) {
-	wHideInspectorForWindow(wwin);
+        wHideInspectorForWindow(wwin);
     }
 
     wwin->flags.hidden = 1;
@@ -1191,11 +1213,11 @@
     wSoundPlay(WSOUND_HIDE);
 #ifdef ANIMATIONS
     if (!wwin->screen_ptr->flags.startup && !wPreferences.no_animations &&
-	!wwin->flags.skip_next_animation && animate) {
-	animateResize(wwin->screen_ptr, wwin->frame_x, wwin->frame_y, 
-		      wwin->frame->core->width, wwin->frame->core->height,
-		      icon_x, icon_y, icon->core->width, icon->core->height,
-		      True);
+        !wwin->flags.skip_next_animation && animate) {
+        animateResize(wwin->screen_ptr, wwin->frame_x, wwin->frame_y,
+                      wwin->frame->core->width, wwin->frame->core->height,
+                      icon_x, icon_y, icon->core->width, icon->core->height,
+                      True);
     }
 #endif
     wwin->flags.skip_next_animation = 0;
@@ -1212,41 +1234,41 @@
     WApplication *tapp;
 
     if (!awin)
-	return;
+        return;
     wwin = awin->screen_ptr->focused_window;
 
 
     while (wwin) {
-	if (wwin!=awin 
-	    && wwin->frame->workspace == awin->screen_ptr->current_workspace
+        if (wwin!=awin
+            && wwin->frame->workspace == awin->screen_ptr->current_workspace
             && !(wwin->flags.miniaturized||wwin->flags.hidden)
             && !wwin->flags.internal_window
-	    && wGetWindowOfInspectorForWindow(wwin) != awin
-	    && !WFLAGP(wwin, no_hide_others)) {
-	    
-	    if (wwin->main_window==None || WFLAGP(wwin, no_appicon)) {
-		if (!WFLAGP(wwin, no_miniaturizable)) {
-		    wwin->flags.skip_next_animation = 1;
-		    wIconifyWindow(wwin);
-		}
-	    } else if (wwin->main_window!=None
-		       && awin->main_window != wwin->main_window) {
-		tapp = wApplicationOf(wwin->main_window);
-		if (tapp) {
-		    tapp->flags.skip_next_animation = 1;
-		    wHideApplication(tapp);
-		} else {
-		    if (!WFLAGP(wwin, no_miniaturizable)) {
-		    	wwin->flags.skip_next_animation = 1;
-		   	 wIconifyWindow(wwin);
-		    }
-		}
-	    }
-	}
-	wwin = wwin->prev;
+            && wGetWindowOfInspectorForWindow(wwin) != awin
+            && !WFLAGP(wwin, no_hide_others)) {
+
+            if (wwin->main_window==None || WFLAGP(wwin, no_appicon)) {
+                if (!WFLAGP(wwin, no_miniaturizable)) {
+                    wwin->flags.skip_next_animation = 1;
+                    wIconifyWindow(wwin);
+                }
+            } else if (wwin->main_window!=None
+                       && awin->main_window != wwin->main_window) {
+                tapp = wApplicationOf(wwin->main_window);
+                if (tapp) {
+                    tapp->flags.skip_next_animation = 1;
+                    wHideApplication(tapp);
+                } else {
+                    if (!WFLAGP(wwin, no_miniaturizable)) {
+                        wwin->flags.skip_next_animation = 1;
+                        wIconifyWindow(wwin);
+                    }
+                }
+            }
+        }
+        wwin = wwin->prev;
     }
     /*
-    wSetFocusTo(awin->screen_ptr, awin);
+     wSetFocusTo(awin->screen_ptr, awin);
      */
 }
 
@@ -1258,63 +1280,63 @@
     WScreen *scr;
     WWindow *wlist;
     int hadfocus;
-    
+
     if (!wapp) {
-	wwarning("trying to hide a non grouped window");
-	return;
+        wwarning("trying to hide a non grouped window");
+        return;
     }
     if (!wapp->main_window_desc) {
-	wwarning("group leader not found for window group");
-	return;
+        wwarning("group leader not found for window group");
+        return;
     }
     scr = wapp->main_window_desc->screen_ptr;
     hadfocus = 0;
     wlist = scr->focused_window;
     if (!wlist)
-	return;
+        return;
 
     if (wlist->main_window == wapp->main_window)
-	wapp->last_focused = wlist;
+        wapp->last_focused = wlist;
     else
-	wapp->last_focused = NULL;
+        wapp->last_focused = NULL;
     while (wlist) {
-	if (wlist->main_window == wapp->main_window) {
-	    if (wlist->flags.focused) {
-		hadfocus = 1;
+        if (wlist->main_window == wapp->main_window) {
+            if (wlist->flags.focused) {
+                hadfocus = 1;
             }
             if (wapp->app_icon)
                 hideWindow(wapp->app_icon->icon, wapp->app_icon->x_pos,
                            wapp->app_icon->y_pos, wlist,
                            !wapp->flags.skip_next_animation);
-	}
-	wlist = wlist->prev;
+        }
+        wlist = wlist->prev;
     }
-    
-    wapp->flags.skip_next_animation = 0;    
+
+    wapp->flags.skip_next_animation = 0;
 
     if (hadfocus) {
-	if (wPreferences.focus_mode==WKF_CLICK) {
-	    wlist = scr->focused_window;
-	    while (wlist) {
-		if (!WFLAGP(wlist, no_focusable) && !wlist->flags.hidden
-		    && (wlist->flags.mapped || wlist->flags.shaded))
-		  break;
-		wlist = wlist->prev;
-	    }
-	    wSetFocusTo(scr, wlist);
-	} else {
-	    wSetFocusTo(scr, NULL);
-	}
+        if (wPreferences.focus_mode==WKF_CLICK) {
+            wlist = scr->focused_window;
+            while (wlist) {
+                if (!WFLAGP(wlist, no_focusable) && !wlist->flags.hidden
+                    && (wlist->flags.mapped || wlist->flags.shaded))
+                    break;
+                wlist = wlist->prev;
+            }
+            wSetFocusTo(scr, wlist);
+        } else {
+            wSetFocusTo(scr, NULL);
+        }
     }
-    
+
     wapp->flags.hidden = 1;
-    
+
     if(wPreferences.auto_arrange_icons) {
-	wArrangeIcons(scr, True);
+        wArrangeIcons(scr, True);
     }
 #ifdef HIDDENDOT
     if (wapp->app_icon)
-    	wAppIconPaint(wapp->app_icon);
+        wAppIconPaint(wapp->app_icon);
 #endif
 }
 
@@ -1323,21 +1345,21 @@
 
 static void
 unhideWindow(WIcon *icon, int icon_x, int icon_y, WWindow *wwin, int animate,
-	     int bringToCurrentWS)
+             int bringToCurrentWS)
 {
     if (bringToCurrentWS)
-	wWindowChangeWorkspace(wwin, wwin->screen_ptr->current_workspace);
+        wWindowChangeWorkspace(wwin, wwin->screen_ptr->current_workspace);
 
     wwin->flags.hidden=0;
 
     wSoundPlay(WSOUND_UNHIDE);
 #ifdef ANIMATIONS
-    if (!wwin->screen_ptr->flags.startup && !wPreferences.no_animations 
-	&& animate) {
-	animateResize(wwin->screen_ptr, icon_x, icon_y,
-		      icon->core->width, icon->core->height,
-		      wwin->frame_x, wwin->frame_y, 
-		      wwin->frame->core->width, wwin->frame->core->height,
+    if (!wwin->screen_ptr->flags.startup && !wPreferences.no_animations
+        && animate) {
+        animateResize(wwin->screen_ptr, icon_x, icon_y,
+                      icon->core->width, icon->core->height,
+                      wwin->frame_x, wwin->frame_y,
+                      wwin->frame->core->width, wwin->frame->core->height,
                       True);
     }
 #endif
@@ -1363,73 +1385,90 @@
     WScreen *scr;
     WWindow *wlist, *next;
     WWindow *focused=NULL;
+    Bool shouldArrangeIcons = False;
+
+    if (!wapp)
+        return;
 
-    if (!wapp) {
-	return;
-    }
     scr = wapp->main_window_desc->screen_ptr;
     wlist = scr->focused_window;
-    if (!wlist) return;
+    if (!wlist)
+        return;
+
     /* goto beginning of list */
     while (wlist->prev)
-      wlist = wlist->prev;
-    
+        wlist = wlist->prev;
+
     while (wlist) {
-	next = wlist->next;
+        next = wlist->next;
 
-	if (wlist->main_window == wapp->main_window) {
-	    if (wlist->flags.focused)
-	      focused = wlist;
-	    else if (!focused || !focused->flags.focused)
-	      focused = wlist;
-	    
-	    if (wlist->flags.miniaturized && wlist->icon) {
-                if (bringToCurrentWS || wPreferences.sticky_icons
-		    || wlist->frame->workspace == scr->current_workspace) {
-		    if (!wlist->icon->mapped) {
-			XMapWindow(dpy, wlist->icon->core->window);
-			wlist->icon->mapped = 1;
-		    }
-		    wlist->flags.hidden = 0;
-
-		    WMPostNotificationName(WMNChangedState, wlist, "hide");
-
-		    if (wlist->frame->workspace != scr->current_workspace)
-			wWindowChangeWorkspace(wlist, scr->current_workspace);
-		}
-		if (miniwindows) {
-		    wDeiconifyWindow(wlist);
-		}
-	    } else if (wlist->flags.hidden) {
-		unhideWindow(wapp->app_icon->icon, wapp->app_icon->x_pos,
-			     wapp->app_icon->y_pos, wlist, 
-			     !wapp->flags.skip_next_animation,
-			     bringToCurrentWS);
-	    } else {
-		if (bringToCurrentWS
-		    && wlist->frame->workspace != scr->current_workspace) {
-		    wWindowChangeWorkspace(wlist, scr->current_workspace);
-		}
-		wRaiseFrame(wlist->frame->core);
-	    }
-	}
-	wlist = next;
+        if (wlist->main_window == wapp->main_window) {
+            if (wlist->flags.focused)
+                focused = wlist;
+            else if (!focused || !focused->flags.focused)
+                focused = wlist;
+
+            if (wlist->flags.miniaturized) {
+                if (bringToCurrentWS || wPreferences.sticky_icons ||
+                    wlist->frame->workspace == scr->current_workspace) {
+                    if (wlist->icon && !wlist->icon->mapped) {
+                        XMapWindow(dpy, wlist->icon->core->window);
+                        wlist->icon->mapped = 1;
+                    }
+                }
+                if (bringToCurrentWS)
+                    wWindowChangeWorkspace(wlist, scr->current_workspace);
+                wlist->flags.hidden = 0;
+                if (miniwindows &&
+                    wlist->frame->workspace == scr->current_workspace) {
+                    wDeiconifyWindow(wlist);
+                }
+                shouldArrangeIcons = True;
+                WMPostNotificationName(WMNChangedState, wlist, "hide");
+            } else if (wlist->flags.shaded) {
+                if (bringToCurrentWS)
+                    wWindowChangeWorkspace(wlist, scr->current_workspace);
+                wlist->flags.hidden = 0;
+                if (wlist->frame->workspace == scr->current_workspace) {
+                    XMapWindow(dpy, wlist->frame->core->window);
+                    if (miniwindows) {
+                        wUnshadeWindow(wlist);
+                        wRaiseFrame(wlist->frame->core);
+                    }
+                }
+                WMPostNotificationName(WMNChangedState, wlist, "hide");
+            } else if (wlist->flags.hidden) {
+                unhideWindow(wapp->app_icon->icon, wapp->app_icon->x_pos,
+                             wapp->app_icon->y_pos, wlist,
+                             !wapp->flags.skip_next_animation,
+                             bringToCurrentWS);
+            } else {
+                if (bringToCurrentWS
+                    && wlist->frame->workspace != scr->current_workspace) {
+                    wWindowChangeWorkspace(wlist, scr->current_workspace);
+                }
+                wRaiseFrame(wlist->frame->core);
+            }
+        }
+        wlist = next;
     }
-    
+
     wapp->flags.skip_next_animation = 0;
     wapp->flags.hidden = 0;
-    
-    if (focused)
-	wSetFocusTo(scr, focused);
-    else if (wapp->last_focused && wapp->last_focused->flags.mapped)
-	wSetFocusTo(scr, wapp->last_focused);
+
+    if (wapp->last_focused && wapp->last_focused->flags.mapped) {
+        wRaiseFrame(wapp->last_focused->frame->core);
+        wSetFocusTo(scr, wapp->last_focused);
+    } else if (focused) {
+        wSetFocusTo(scr, focused);
+    }
     wapp->last_focused = NULL;
-    if (wPreferences.auto_arrange_icons) {
+    if (shouldArrangeIcons || wPreferences.auto_arrange_icons) {
         wArrangeIcons(scr, True);
     }
 #ifdef HIDDENDOT
     wAppIconPaint(wapp->app_icon);
-#endif 
+#endif
 }
 
 
@@ -1444,21 +1483,21 @@
     while (wwin) {
         if (!wwin->flags.internal_window &&
             (scr->current_workspace == wwin->frame->workspace
-	    || IS_OMNIPRESENT(wwin))) {
-	    if (wwin->flags.miniaturized) {
-		wwin->flags.skip_next_animation = 1;
-		wDeiconifyWindow(wwin);
-	    } else if (wwin->flags.hidden) {
-		wapp = wApplicationOf(wwin->main_window);
-		if (wapp) {
-		    wUnhideApplication(wapp, False, False);
-		} else {
-		    wwin->flags.skip_next_animation = 1;
-		    wDeiconifyWindow(wwin);
-		}
-	    }
-	}
-	wwin = wwin->prev;
+             || IS_OMNIPRESENT(wwin))) {
+            if (wwin->flags.miniaturized) {
+                wwin->flags.skip_next_animation = 1;
+                wDeiconifyWindow(wwin);
+            } else if (wwin->flags.hidden) {
+                wapp = wApplicationOf(wwin->main_window);
+                if (wapp) {
+                    wUnhideApplication(wapp, False, False);
+                } else {
+                    wwin->flags.skip_next_animation = 1;
+                    wDeiconifyWindow(wwin);
+                }
+            }
+        }
+        wwin = wwin->prev;
     }
     wSetFocusTo(scr, old_foc);
     /*wRaiseFrame(old_foc->frame->core);*/
@@ -1473,10 +1512,10 @@
 
     attr.backing_store = NotUseful;
     attr.save_under = False;
-    win = XCreateWindow(dpy, scr->root_win, 0, 0, scr->scr_width, 
-			scr->scr_height, 0, CopyFromParent, CopyFromParent,
-			(Visual *)CopyFromParent, CWBackingStore|CWSaveUnder,
-			&attr);
+    win = XCreateWindow(dpy, scr->root_win, 0, 0, scr->scr_width,
+                        scr->scr_height, 0, CopyFromParent, CopyFromParent,
+                        (Visual *)CopyFromParent, CWBackingStore|CWSaveUnder,
+                        &attr);
     XMapRaised(dpy, win);
     XDestroyWindow(dpy, win);
     XFlush(dpy);
@@ -1488,6 +1527,172 @@
 {
     WWindow *wwin;
     WAppIcon *aicon;
+
+    int head;
+    const int heads = wXineramaHeads(scr);
+
+    struct HeadVars {
+        int pf;      /* primary axis */
+        int sf;      /* secondary axis */
+        int fullW;
+        int fullH;
+        int pi, si;
+        int sx1, sx2, sy1, sy2;  /* screen boundary */
+        int sw, sh;
+        int xo, yo;
+        int xs, ys;
+    } *vars;
+
+    int isize = wPreferences.icon_size;
+
+    vars = (struct HeadVars*)wmalloc(sizeof(struct HeadVars)*heads);
+
+    for (head = 0; head < heads; ++head) {
+#if 0
+        WMRect rect = wGetRectForHead(scr, head);
+#else
+        WArea area = wGetUsableAreaForHead(scr, head, NULL, False);
+        WMRect rect = wmkrect(area.x1, area.y1, area.x2-area.x1, area.y2-area.y1);
+#endif
+
+        vars[head].pi = vars[head].si = 0;
+        vars[head].sx1 = rect.pos.x;
+        vars[head].sy1 = rect.pos.y;
+        vars[head].sw = rect.size.width;
+        vars[head].sh = rect.size.height;
+        vars[head].sx2 = vars[head].sx1 + vars[head].sw;
+        vars[head].sy2 = vars[head].sy1 + vars[head].sh;
+
+#if 0
+        if (scr->dock) {
+            if (scr->dock->on_right_side)
+                vars[head].sx2 -= isize + DOCK_EXTRA_SPACE;
+            else
+                vars[head].sx1 += isize + DOCK_EXTRA_SPACE;
+        }
+#endif
+
+        vars[head].sw = isize * (vars[head].sw/isize);
+        vars[head].sh = isize * (vars[head].sh/isize);
+        vars[head].fullW = (vars[head].sx2-vars[head].sx1)/isize;
+        vars[head].fullH = (vars[head].sy2-vars[head].sy1)/isize;
+
+        /* icon yard boundaries */
+        if (wPreferences.icon_yard & IY_VERT) {
+            vars[head].pf = vars[head].fullH;
+            vars[head].sf = vars[head].fullW;
+        } else {
+            vars[head].pf = vars[head].fullW;
+            vars[head].sf = vars[head].fullH;
+        }
+        if (wPreferences.icon_yard & IY_RIGHT) {
+            vars[head].xo = vars[head].sx2 - isize;
+            vars[head].xs = -1;
+        } else {
+            vars[head].xo = vars[head].sx1;
+            vars[head].xs = 1;
+        }
+        if (wPreferences.icon_yard & IY_TOP) {
+            vars[head].yo = vars[head].sy1;
+            vars[head].ys = 1;
+        } else {
+            vars[head].yo = vars[head].sy2 - isize;
+            vars[head].ys = -1;
+        }
+    }
+
+#define X ((wPreferences.icon_yard & IY_VERT) \
+    ? vars[head].xo + vars[head].xs*(vars[head].si*isize) \
+    : vars[head].xo + vars[head].xs*(vars[head].pi*isize))
+
+#define Y ((wPreferences.icon_yard & IY_VERT) \
+    ? vars[head].yo + vars[head].ys*(vars[head].pi*isize) \
+    : vars[head].yo + vars[head].ys*(vars[head].si*isize))
+
+
+    /* arrange application icons */
+    aicon = scr->app_icon_list;
+    /* reverse them to avoid unnecessarily sliding of icons */
+    while (aicon && aicon->next)
+        aicon = aicon->next;
+
+    while (aicon) {
+        if (!aicon->docked) {
+            /* XXX: can: icon == NULL ? */
+            /* The intention here is to place the AppIcon on the head that contains most of the applications _main_ window. */
+            /*	    printf("appicon: %x %x\n", aicon->icon->core->window, aicon->main_window); */
+            head = wGetHeadForWindow(aicon->icon->owner);
+
+            if (aicon->x_pos != X || aicon->y_pos != Y) {
+#ifdef ANIMATIONS
+                if (!wPreferences.no_animations) {
+                    SlideWindow(aicon->icon->core->window,
+                                aicon->x_pos, aicon->y_pos, X, Y);
+                }
+#endif /* ANIMATIONS */
+            }
+            wAppIconMove(aicon, X, Y);
+            vars[head].pi++;
+            if (vars[head].pi >= vars[head].pf) {
+                vars[head].pi = 0;
+                vars[head].si++;
+            }
+        }
+        aicon = aicon->prev;
+    }
+
+    /* arrange miniwindows */
+    wwin = scr->focused_window;
+    /* reverse them to avoid unnecessarily shuffling */
+    while (wwin && wwin->prev)
+        wwin = wwin->prev;
+
+    while (wwin) {
+        if (wwin->icon && wwin->flags.miniaturized && !wwin->flags.hidden &&
+            (wwin->frame->workspace==scr->current_workspace ||
+             IS_OMNIPRESENT(wwin) || wPreferences.sticky_icons)) {
+
+            head = wGetHeadForWindow(wwin);
+
+            if (arrangeAll || !wwin->flags.icon_moved) {
+                if (wwin->icon_x != X || wwin->icon_y != Y) {
+#ifdef ANIMATIONS
+                    if (wPreferences.no_animations) {
+                        XMoveWindow(dpy, wwin->icon->core->window, X, Y);
+                    } else {
+                        SlideWindow(wwin->icon->core->window, wwin->icon_x,
+                                    wwin->icon_y, X, Y);
+                    }
+#else
+                    XMoveWindow(dpy, wwin->icon->core->window, X, Y);
+#endif /* ANIMATIONS */
+                }
+                wwin->icon_x = X;
+                wwin->icon_y = Y;
+
+                vars[head].pi++;
+                if (vars[head].pi >= vars[head].pf) {
+                    vars[head].pi = 0;
+                    vars[head].si++;
+                }
+            }
+        }
+        if (arrangeAll) {
+            wwin->flags.icon_moved = 0;
+        }
+        /* we reversed the order, so we use next */
+        wwin = wwin->next;
+    }
+
+    wfree(vars);
+}
+
+#if 0
+void
+wArrangeIcons(WScreen *scr, Bool arrangeAll)
+{
+    WWindow *wwin;
+    WAppIcon *aicon;
     int pf;			       /* primary axis */
     int sf;			       /* secondary axis */
     int fullW;
@@ -1502,51 +1707,64 @@
     /*
      * Find out screen boundaries.
      */
-    sx1 = 0;
-    sy1 = 0;
-    sx2 = scr->scr_width;
-    sy2 = scr->scr_height;
+
+    /*
+     * Allows each head to have miniwindows
+     */
+    WMRect rect = wGetRectForHead(scr, wGetHeadForPointerLocation(scr));
+
+    sx1 = rect.pos.x;
+    sy1 = rect.pos.y;
+    sw = rect.size.width;
+    sh = rect.size.height;
+    sx2 = sx1 + sw;
+    sy2 = sy1 + sh;
     if (scr->dock) {
-	if (scr->dock->on_right_side)
+        if (scr->dock->on_right_side)
             sx2 -= isize + DOCK_EXTRA_SPACE;
-	else
-	    sx1 += isize + DOCK_EXTRA_SPACE;
+        else
+            sx1 += isize + DOCK_EXTRA_SPACE;
     }
 
+#if 0
     sw = isize * (scr->scr_width/isize);
     sh = isize * (scr->scr_height/isize);
+#else
+    sw = isize * (sw/isize);
+    sh = isize * (sh/isize);
+#endif
     fullW = (sx2-sx1)/isize;
     fullH = (sy2-sy1)/isize;
 
-    /* icon yard boundaries */    
+    /* icon yard boundaries */
     if (wPreferences.icon_yard & IY_VERT) {
-	pf = fullH;
-	sf = fullW;
+        pf = fullH;
+        sf = fullW;
     } else {
-	pf = fullW;
-	sf = fullH;
+        pf = fullW;
+        sf = fullH;
     }
     if (wPreferences.icon_yard & IY_RIGHT) {
-	xo = sx2 - isize;
-	xs = -1;
+        xo = sx2 - isize;
+        xs = -1;
     } else {
-	xo = sx1;
-	xs = 1;
+        xo = sx1;
+        xs = 1;
     }
     if (wPreferences.icon_yard & IY_TOP) {
-	yo = sy1;
-	ys = 1;
+        yo = sy1;
+        ys = 1;
     } else {
-	yo = sy2 - isize;
-	ys = -1;
+        yo = sy2 - isize;
+        ys = -1;
     }
 
     /* arrange icons putting the most recently focused window
      * as the last icon */
 #define X ((wPreferences.icon_yard & IY_VERT) ? xo + xs*(si*isize)\
-		    : xo + xs*(pi*isize))
+    : xo + xs*(pi*isize))
 #define Y ((wPreferences.icon_yard & IY_VERT) ? yo + ys*(pi*isize)\
-		    : yo + ys*(si*isize))
+    : yo + ys*(si*isize))
 
     /* arrange application icons */
     aicon = scr->app_icon_list;
@@ -1556,7 +1774,7 @@
 
     pi = 0;
     si = 0;
-    while (aicon) {	
+    while (aicon) {
         if (!aicon->docked) {
             if (aicon->x_pos != X || aicon->y_pos != Y) {
 #ifdef ANIMATIONS
@@ -1565,8 +1783,8 @@
                                 X, Y);
                 }
 #endif /* ANIMATIONS */
-            }	    
-	    wAppIconMove(aicon, X, Y);
+            }
+            wAppIconMove(aicon, X, Y);
             pi++;
         }
         /* we reversed the order so we use prev */
@@ -1576,7 +1794,7 @@
             si++;
         }
     }
-    
+
     /* arrange miniwindows */
 
     wwin = scr->focused_window;
@@ -1588,67 +1806,67 @@
         if (wwin->icon && wwin->flags.miniaturized && !wwin->flags.hidden &&
             (wwin->frame->workspace==scr->current_workspace ||
              IS_OMNIPRESENT(wwin) || wPreferences.sticky_icons)) {
-	    
-	    if (arrangeAll || !wwin->flags.icon_moved) {
-		if (wwin->icon_x != X || wwin->icon_y != Y) {
+
+            if (arrangeAll || !wwin->flags.icon_moved) {
+                if (wwin->icon_x != X || wwin->icon_y != Y) {
 #ifdef ANIMATIONS
-		    if (wPreferences.no_animations) {
-			XMoveWindow(dpy, wwin->icon->core->window, X, Y);
-		    } else {
-			SlideWindow(wwin->icon->core->window, wwin->icon_x, 
-				    wwin->icon_y, X, Y);
-		    }
+                    if (wPreferences.no_animations) {
+                        XMoveWindow(dpy, wwin->icon->core->window, X, Y);
+                    } else {
+                        SlideWindow(wwin->icon->core->window, wwin->icon_x,
+                                    wwin->icon_y, X, Y);
+                    }
 #else
-		    XMoveWindow(dpy, wwin->icon->core->window, X, Y);
+                    XMoveWindow(dpy, wwin->icon->core->window, X, Y);
 #endif /* ANIMATIONS */
-		}
-		wwin->icon_x = X;
-		wwin->icon_y = Y;
-		pi++;
-	    }
-	}
-	if (arrangeAll) {
-	    wwin->flags.icon_moved = 0;
-	}
+                }
+                wwin->icon_x = X;
+                wwin->icon_y = Y;
+                pi++;
+            }
+        }
+        if (arrangeAll) {
+            wwin->flags.icon_moved = 0;
+        }
         /* we reversed the order, so we use next */
         wwin = wwin->next;
-	if (pi >= pf) {
-	    pi=0;
-	    si++;
-	}
+        if (pi >= pf) {
+            pi=0;
+            si++;
+        }
     }
 }
-
+#endif
 
 void
 wSelectWindow(WWindow *wwin, Bool flag)
 {
     WScreen *scr = wwin->screen_ptr;
-    
+
     if (flag) {
-	wwin->flags.selected = 1;
-	XSetWindowBorder(dpy, wwin->frame->core->window, scr->white_pixel);
-	
-	if (WFLAGP(wwin, no_border)) {	
-	    XSetWindowBorderWidth(dpy, wwin->frame->core->window, 
-				  FRAME_BORDER_WIDTH);
-	}
-
-	if (!scr->selected_windows)
-	    scr->selected_windows = WMCreateArray(4);
-	WMAddToArray(scr->selected_windows, wwin);
+        wwin->flags.selected = 1;
+        XSetWindowBorder(dpy, wwin->frame->core->window, scr->white_pixel);
+
+        if (WFLAGP(wwin, no_border)) {
+            XSetWindowBorderWidth(dpy, wwin->frame->core->window,
+                                  FRAME_BORDER_WIDTH);
+        }
+
+        if (!scr->selected_windows)
+            scr->selected_windows = WMCreateArray(4);
+        WMAddToArray(scr->selected_windows, wwin);
     } else {
-	wwin->flags.selected = 0;
-	XSetWindowBorder(dpy, wwin->frame->core->window,
-			 scr->frame_border_pixel);
-
-	if (WFLAGP(wwin, no_border)) {	
-	    XSetWindowBorderWidth(dpy, wwin->frame->core->window, 0);
-	}
-
-	if (scr->selected_windows) {
-	    WMRemoveFromArray(scr->selected_windows, wwin);
-	}
+        wwin->flags.selected = 0;
+        XSetWindowBorder(dpy, wwin->frame->core->window,
+                         scr->frame_border_pixel);
+
+        if (WFLAGP(wwin, no_border)) {
+            XSetWindowBorderWidth(dpy, wwin->frame->core->window, 0);
+        }
+
+        if (scr->selected_windows) {
+            WMRemoveFromArray(scr->selected_windows, wwin);
+        }
     }
 }
 
@@ -1657,22 +1875,26 @@
 wMakeWindowVisible(WWindow *wwin)
 {
     if (wwin->frame->workspace != wwin->screen_ptr->current_workspace)
-	wWorkspaceChange(wwin->screen_ptr, wwin->frame->workspace);
+        wWorkspaceChange(wwin->screen_ptr, wwin->frame->workspace);
 
     if (wwin->flags.shaded) {
-	wUnshadeWindow(wwin);
+        wUnshadeWindow(wwin);
     }
     if (wwin->flags.hidden) {
-	WApplication *app;
+        WApplication *app;
 
-	app = wApplicationOf(wwin->main_window);
-	if (app)
-	    wUnhideApplication(app, False, False);
-    } else if (wwin->flags.miniaturized) {
-	wDeiconifyWindow(wwin);
+        app = wApplicationOf(wwin->main_window);
+        if (app) {
+            /* trick to get focus to this window */
+            app->last_focused = wwin;
+            wUnhideApplication(app, False, False);
+        }
+    }
+    if (wwin->flags.miniaturized) {
+        wDeiconifyWindow(wwin);
     } else {
-	if (!WFLAGP(wwin, no_focusable))
-	    wSetFocusTo(wwin->screen_ptr, wwin);
-	wRaiseFrame(wwin->frame->core);
+        if (!WFLAGP(wwin, no_focusable))
+            wSetFocusTo(wwin->screen_ptr, wwin);
+        wRaiseFrame(wwin->frame->core);
     }
 }
diff -Naur WindowMaker-0.80.2/src/actions.h wm-xft2/src/actions.h
--- WindowMaker-0.80.2/src/actions.h	2002-01-08 16:45:07.000000000 +0300
+++ wm-xft2/src/actions.h	2003-10-22 14:08:37.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -27,6 +27,7 @@
 #define MAX_HORIZONTAL 	1
 #define MAX_VERTICAL 	2
 #define MAX_IGNORE_XINERAMA 4
+#define MAX_KEYBOARD 8
 
 void wSetFocusTo(WScreen *scr, WWindow *wwin);
 
diff -Naur WindowMaker-0.80.2/src/appicon.c wm-xft2/src/appicon.c
--- WindowMaker-0.80.2/src/appicon.c	2002-01-08 16:45:07.000000000 +0300
+++ wm-xft2/src/appicon.c	2003-10-22 14:08:37.000000000 +0400
@@ -2,8 +2,8 @@
  *
  *  Window Maker window manager
  *
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
- *  Copyright (c) 1998-2002 Dan Pascu
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Dan Pascu
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -48,7 +48,6 @@
 #include "xdnd.h"
 #endif
 #include "wsound.h"
-#include <WINGs/WINGsP.h>
 
 
 /*
@@ -289,14 +288,7 @@
 {
     int length;
     char *ws_numbers;
-    GC numbers_gc;
-    XGCValues my_gc_values;
-    unsigned long my_v_mask = (GCForeground);
     WAppIcon *dicon = scr->dock->icon_array[0];
-    
-    my_gc_values.foreground = scr->white_pixel;
-    numbers_gc = XCreateGC(dpy, dicon->icon->core->window,
-			   my_v_mask, &my_gc_values);
 
     ws_numbers = wmalloc(20);
     snprintf(ws_numbers, 20, "%i [ %i ]", scr->current_workspace+1,
@@ -306,15 +298,12 @@
     XClearArea(dpy, dicon->icon->core->window, 2, 2, 50,
 	       WMFontHeight(scr->icon_title_font)+1, False);
     
-    XSetForeground(dpy, numbers_gc, scr->black_pixel);
-    WMDrawString(scr->wmscreen, dicon->icon->core->window, numbers_gc,
+    WMDrawString(scr->wmscreen, dicon->icon->core->window, scr->black,
 		 scr->icon_title_font, 4, 3, ws_numbers, length);
 
-    XSetForeground(dpy, numbers_gc, scr->white_pixel);
-    WMDrawString(scr->wmscreen, dicon->icon->core->window, numbers_gc,
+    WMDrawString(scr->wmscreen, dicon->icon->core->window, scr->white,
 		 scr->icon_title_font, 3, 2, ws_numbers, length);
 
-    XFreeGC(dpy, numbers_gc);
     wfree(ws_numbers);
 }
 #endif /* WS_INDICATOR */
diff -Naur WindowMaker-0.80.2/src/appicon.h wm-xft2/src/appicon.h
--- WindowMaker-0.80.2/src/appicon.h	2002-01-08 16:45:07.000000000 +0300
+++ wm-xft2/src/appicon.h	2003-10-22 14:08:37.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/application.c wm-xft2/src/application.c
--- WindowMaker-0.80.2/src/application.c	2002-01-08 16:45:07.000000000 +0300
+++ wm-xft2/src/application.c	2003-10-22 14:08:37.000000000 +0400
@@ -1,8 +1,8 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
- *  Copyright (c) 1998-2002 Dan Pascu
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Dan Pascu
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -88,7 +88,7 @@
 			   &wwin->user_flags, &wwin->defined_user_flags, True);
     
     XSelectInput(dpy, window, attr.your_event_mask | PropertyChangeMask
-		 | StructureNotifyMask );
+		 | StructureNotifyMask);
     return wwin;
 }
 
@@ -371,7 +371,7 @@
             }
             wDockAttachIcon(clip, wapp->app_icon, x, y);
         } else {
-            PlaceIcon(scr, &x, &y);
+            PlaceIcon(scr, &x, &y, wGetHeadForWindow(wapp->main_window_desc));
 	    wAppIconMove(wapp->app_icon, x, y);
 	    wLowerFrame(icon->core);
         }
diff -Naur WindowMaker-0.80.2/src/application.h wm-xft2/src/application.h
--- WindowMaker-0.80.2/src/application.h	2002-01-08 16:45:07.000000000 +0300
+++ wm-xft2/src/application.h	2003-10-22 14:08:37.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/appmenu.c wm-xft2/src/appmenu.c
--- WindowMaker-0.80.2/src/appmenu.c	2002-01-08 16:45:07.000000000 +0300
+++ wm-xft2/src/appmenu.c	2003-10-22 14:08:37.000000000 +0400
@@ -2,7 +2,7 @@
  *
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -300,7 +300,7 @@
 	int x, min;
 
         min = 20; /* Keep at least 20 pixels visible */
-	if( wwin->frame_x > min ) {
+	if (wwin->frame_x > min) {
 	    x = wwin->frame_x - menu->frame->core->width;
 	}
 	else {
diff -Naur WindowMaker-0.80.2/src/appmenu.h wm-xft2/src/appmenu.h
--- WindowMaker-0.80.2/src/appmenu.h	2002-01-08 16:45:07.000000000 +0300
+++ wm-xft2/src/appmenu.h	2003-10-22 14:08:37.000000000 +0400
@@ -2,7 +2,7 @@
  *
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/balloon.c wm-xft2/src/balloon.c
--- WindowMaker-0.80.2/src/balloon.c	2002-01-08 16:45:07.000000000 +0300
+++ wm-xft2/src/balloon.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
-/* 
+/*
  *  Window Maker window manager
- * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
- * 
+ *
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
+ *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
  *  the Free Software Foundation; either version 2 of the License, or
@@ -15,7 +15,7 @@
  *
  *  You should have received a copy of the GNU General Public License
  *  along with this program; if not, write to the Free Software
- *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, 
+ *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,
  *  USA.
  */
 
@@ -60,11 +60,11 @@
     Window objectWindow;
     char *text;
     int h;
-    
+
     WMHandlerID timer;
-    
+
     Pixmap contents;
-    
+
     char mapped;
     char ignoreTimer;
 } WBalloon;
@@ -81,45 +81,182 @@
 #define BRIGHT	(BOTTOM|RIGHT)
 
 
+static int
+countLines(const char *text)
+{
+    const char *p = text;
+    int h = 1;
+
+    while (*p) {
+        if (*p == '\n' && p[1] != 0)
+            h++;
+        p++;
+    }
+    return h;
+}
+
+
+static int
+getMaxStringWidth(WMFont *font, char *text)
+{
+    char *p = text;
+    char *pb = p;
+    int pos = 0;
+    int w = 0, wt;
+
+    while (*p) {
+        if (*p == '\n') {
+            wt = WMWidthOfString(font, pb, pos);
+            if (wt > w)
+                w = wt;
+            pos = 0;
+            pb = p + 1;
+        } else {
+            pos++;
+        }
+        p++;
+    }
+    if (pos > 0) {
+        wt = WMWidthOfString(font, pb, pos);
+        if (wt > w)
+            w = wt;
+    }
+    return w;
+}
+
+
+static void
+drawMultiLineString(WMScreen *scr, Pixmap pixmap, WMColor *color,
+                    WMFont *font, int x, int y, char *text, int len)
+{
+    char *p = text;
+    char *pb = p;
+    int l = 0, pos = 0;
+    int height = WMFontHeight(font);
+
+    while (*p && p - text < len) {
+        if (*p == '\n') {
+            WMDrawString(scr, pixmap, color, font, x, y + l * height, pb,
+                         pos);
+            l++;
+            pos = 0;
+            pb = p + 1;
+        } else {
+            pos++;
+        }
+        p++;
+    }
+    if (pos > 0) {
+        WMDrawString(scr, pixmap, color, font, x, y + l * height, pb, pos);
+    }
+}
+
+
+
+
 #ifdef SHAPED_BALLOON
 
 #define 	SPACE	12
 
 
 static void
-drawBalloon(Pixmap pix, GC gc, int x, int y, int w, int h, int side)
+drawBalloon(WScreen *scr, Pixmap bitmap, Pixmap pix, int x, int y, int w,
+            int h, int side)
 {
-    int rad = h*3/10;
-    XPoint pt[3];
-    
-    XFillArc(dpy, pix, gc, x, y, rad, rad, 90*64, 90*64);
-    XFillArc(dpy, pix, gc, x, y+h-1-rad, rad, rad, 180*64, 90*64);
-    
-    XFillArc(dpy, pix, gc, x+w-1-rad, y, rad, rad, 0*64, 90*64);
-    XFillArc(dpy, pix, gc, x+w-1-rad, y+h-1-rad, rad, rad, 270*64, 90*64);
-    
-    XFillRectangle(dpy, pix, gc, x, y+rad/2, w, h-rad);
-    XFillRectangle(dpy, pix, gc, x+rad/2, y, w-rad, h);
+    GC bgc = scr->balloon->monoGC;
+    GC gc = scr->draw_gc;
+    int rad = h * 3 / 10;
+    XPoint pt[3], ipt[3];
+    int w1;
+
+    /* outline */
+    XSetForeground(dpy, bgc, 1);
+
+    XFillArc(dpy, bitmap, bgc, x, y, rad, rad, 90 * 64, 90 * 64);
+    XFillArc(dpy, bitmap, bgc, x, y + h - 1 - rad, rad, rad, 180 * 64,
+             90 * 64);
+
+    XFillArc(dpy, bitmap, bgc, x + w - 1 - rad, y, rad, rad, 0 * 64,
+             90 * 64);
+    XFillArc(dpy, bitmap, bgc, x + w - 1 - rad, y + h - 1 - rad, rad, rad,
+             270 * 64, 90 * 64);
+
+    XFillRectangle(dpy, bitmap, bgc, x, y + rad / 2, w, h - rad);
+    XFillRectangle(dpy, bitmap, bgc, x + rad / 2, y, w - rad, h);
+
+    /* interior */
+    XSetForeground(dpy, gc, scr->white_pixel);
+
+    XFillArc(dpy, pix, gc, x + 1, y + 1, rad, rad, 90 * 64, 90 * 64);
+    XFillArc(dpy, pix, gc, x + 1, y + h - 2 - rad, rad, rad, 180 * 64,
+             90 * 64);
+
+    XFillArc(dpy, pix, gc, x + w - 2 - rad, y + 1, rad, rad, 0 * 64,
+             90 * 64);
+    XFillArc(dpy, pix, gc, x + w - 2 - rad, y + h - 2 - rad, rad, rad,
+             270 * 64, 90 * 64);
+
+    XFillRectangle(dpy, pix, gc, x + 1, y + 1 + rad / 2, w - 2,
+                   h - 2 - rad);
+    XFillRectangle(dpy, pix, gc, x + 1 + rad / 2, y + 1, w - 2 - rad,
+                   h - 2);
 
     if (side & BOTTOM) {
-	pt[0].y = y+h-1;
-	pt[1].y = y+h-1+SPACE;
-	pt[2].y = y+h-1;
+        pt[0].y = y + h - 1;
+        pt[1].y = y + h - 1 + SPACE;
+        pt[2].y = y + h - 1;
+        ipt[0].y = pt[0].y - 1;
+        ipt[1].y = pt[1].y - 1;
+        ipt[2].y = pt[2].y - 1;
     } else {
-	pt[0].y = y;
-	pt[1].y = y-SPACE;
-	pt[2].y = y;
+        pt[0].y = y;
+        pt[1].y = y - SPACE;
+        pt[2].y = y;
+        ipt[0].y = pt[0].y + 1;
+        ipt[1].y = pt[1].y + 1;
+        ipt[2].y = pt[2].y + 1;
     }
+
+    /*w1 = WMAX(h, 24); */
+    w1 = WMAX(h, 21);
+
     if (side & RIGHT) {
-	pt[0].x = x+w-h+2*h/16;
-	pt[1].x = x+w-h+11*h/16;
-	pt[2].x = x+w-h+7*h/16;
+        pt[0].x = x + w - w1 + 2 * w1 / 16;
+        pt[1].x = x + w - w1 + 11 * w1 / 16;
+        pt[2].x = x + w - w1 + 7 * w1 / 16;
+        ipt[0].x = x + 1 + w - w1 + 2 * (w1 - 1) / 16;
+        ipt[1].x = x + 1 + w - w1 + 11 * (w1 - 1) / 16;
+        ipt[2].x = x + 1 + w - w1 + 7 * (w1 - 1) / 16;
+        /*ipt[0].x = pt[0].x+1;
+         ipt[1].x = pt[1].x;
+         ipt[2].x = pt[2].x; */
     } else {
-	pt[0].x = x+h-2*h/16;
-	pt[1].x = x+h-11*h/16;
-	pt[2].x = x+h-7*h/16;
+        pt[0].x = x + w1 - 2 * w1 / 16;
+        pt[1].x = x + w1 - 11 * w1 / 16;
+        pt[2].x = x + w1 - 7 * w1 / 16;
+        ipt[0].x = x - 1 + w1 - 2 * (w1 - 1) / 16;
+        ipt[1].x = x - 1 + w1 - 11 * (w1 - 1) / 16;
+        ipt[2].x = x - 1 + w1 - 7 * (w1 - 1) / 16;
+        /*ipt[0].x = pt[0].x-1;
+         ipt[1].x = pt[1].x;
+         ipt[2].x = pt[2].x; */
     }
-    XFillPolygon(dpy, pix, gc, pt, 3, Convex, CoordModeOrigin);
+
+    XFillPolygon(dpy, bitmap, bgc, pt, 3, Convex, CoordModeOrigin);
+    XFillPolygon(dpy, pix, gc, ipt, 3, Convex, CoordModeOrigin);
+
+    /* fix outline */
+    XSetForeground(dpy, gc, scr->black_pixel);
+
+    XDrawLines(dpy, pix, gc, pt, 3, CoordModeOrigin);
+    if (side & RIGHT) {
+        pt[0].x++;
+        pt[2].x--;
+    } else {
+        pt[0].x--;
+        pt[2].x++;
+    }
+    XDrawLines(dpy, pix, gc, pt, 3, CoordModeOrigin);
 }
 
 
@@ -131,30 +268,32 @@
     Pixmap pixmap;
     int x, y;
 
-    bitmap = XCreatePixmap(dpy, scr->root_win, width+SPACE, height+SPACE, 1);
+    bitmap =
+        XCreatePixmap(dpy, scr->root_win, width + SPACE, height + SPACE,
+                      1);
 
     if (!bal->monoGC) {
-	bal->monoGC = XCreateGC(dpy, bitmap, 0, NULL);
+        bal->monoGC = XCreateGC(dpy, bitmap, 0, NULL);
     }
-    XSetForeground(dpy, bal->monoGC, 0); 
-    XFillRectangle(dpy, bitmap, bal->monoGC, 0, 0, width+SPACE, height+SPACE);
-    
-    pixmap = XCreatePixmap(dpy, scr->root_win, width+SPACE, height+SPACE,
-			   scr->w_depth);
+    XSetForeground(dpy, bal->monoGC, 0);
+    XFillRectangle(dpy, bitmap, bal->monoGC, 0, 0, width + SPACE,
+                   height + SPACE);
+
+    pixmap =
+        XCreatePixmap(dpy, scr->root_win, width + SPACE, height + SPACE,
+                      scr->w_depth);
     XSetForeground(dpy, scr->draw_gc, scr->black_pixel);
-    XFillRectangle(dpy, pixmap, scr->draw_gc, 0, 0, width+SPACE, height+SPACE);
+    XFillRectangle(dpy, pixmap, scr->draw_gc, 0, 0, width + SPACE,
+                   height + SPACE);
 
     if (side & BOTTOM) {
-	y = 0;
+        y = 0;
     } else {
-	y = SPACE;
+        y = SPACE;
     }
     x = 0;
 
-    XSetForeground(dpy, bal->monoGC, 1);
-    drawBalloon(bitmap, bal->monoGC, x, y, width, height, side);
-    XSetForeground(dpy, scr->draw_gc, scr->white_pixel);
-    drawBalloon(pixmap, scr->draw_gc, x+1, y+1, width-2, height-2, side);
+    drawBalloon(scr, bitmap, pixmap, x, y, width, height, side);
 
     *mask = bitmap;
 
@@ -175,59 +314,59 @@
     int bx, by;
 
     if (scr->balloon->contents)
-	XFreePixmap(dpy, scr->balloon->contents);
+        XFreePixmap(dpy, scr->balloon->contents);
+
+    width = getMaxStringWidth(font, text) + 16;
+    height = countLines(text) * WMFontHeight(font) + 4;
 
-    width = WMWidthOfString(font, text, strlen(text))+16;
-    height = WMFontHeight(font) + 4;
-    
     if (height < 16)
-	height = 16;
+        height = 16;
     if (width < height)
-	width = height;
+        width = height;
 
 
     if (x + width > scr->scr_width) {
-	side = RIGHT;
-	bx = x - width + w/2;
-	if (bx < 0)
-	    bx = 0;
+        side = RIGHT;
+        bx = x - width + w / 2;
+        if (bx < 0)
+            bx = 0;
     } else {
-	side = LEFT;
-	bx = x + w/2;
+        side = LEFT;
+        bx = x + w / 2;
     }
     if (bx + width > scr->scr_width)
-	bx = scr->scr_width - width;
+        bx = scr->scr_width - width;
 
     if (y - (height + SPACE) < 0) {
-	side |= TOP;
-	by = y+h-1;
-	ty = SPACE;
+        side |= TOP;
+        by = y + h - 1;
+        ty = SPACE;
     } else {
-	side |= BOTTOM;
-	by = y - (height + SPACE);
-	ty = 0;
+        side |= BOTTOM;
+        by = y - (height + SPACE);
+        ty = 0;
     }
     pixmap = makePixmap(scr, width, height, side, &mask);
 
-    XSetForeground(dpy, scr->info_text_gc, scr->black_pixel);
-
-    WMDrawString(scr->wmscreen, pixmap, scr->info_text_gc, font, 8,
-		 ty + (height - WMFontHeight(font))/2,
-		 text, strlen(text));
+    drawMultiLineString(scr->wmscreen, pixmap, scr->black, font, 8, ty + 2,
+                        text, strlen(text));
 
     XSetWindowBackgroundPixmap(dpy, scr->balloon->window, pixmap);
     scr->balloon->contents = pixmap;
 
-    XResizeWindow(dpy, scr->balloon->window, width, height+SPACE);
+    XResizeWindow(dpy, scr->balloon->window, width, height + SPACE);
     XShapeCombineMask(dpy, scr->balloon->window, ShapeBounding, 0, 0, mask,
-		      ShapeSet);
+                      ShapeSet);
     XFreePixmap(dpy, mask);
     XMoveWindow(dpy, scr->balloon->window, bx, by);
     XMapRaised(dpy, scr->balloon->window);
-    
+
+
     scr->balloon->mapped = 1;
 }
-#else /* !SHAPED_BALLOON */
+#else				/* !SHAPED_BALLOON */
+
+
 static void
 showText(WScreen *scr, int x, int y, int h, int w, char *text)
 {
@@ -237,37 +376,37 @@
     WMFont *font = scr->info_text_font;
 
     if (scr->balloon->contents)
-	XFreePixmap(dpy, scr->balloon->contents);
+        XFreePixmap(dpy, scr->balloon->contents);
 
-    width = WMWidthOfString(font, text, strlen(text))+8;
-    height = WMFontHeight(font) + 4;
+    width = getMaxStringWidth(font, text) + 8;
+    /*width = WMWidthOfString(font, text, strlen(text))+8;*/
+    height = countLines(text) * WMFontHeight(font) + 4;
 
     if (x < 0)
-	x = 0;
-    else if (x + width > scr->scr_width-1)
-	x = scr->scr_width - width;
-    
+        x = 0;
+    else if (x + width > scr->scr_width - 1)
+        x = scr->scr_width - width;
+
     if (y - height - 2 < 0) {
-	y += h;
-	if (y < 0)
-	    y = 0;
+        y += h;
+        if (y < 0)
+            y = 0;
     } else {
-	y -= height + 2;
+        y -= height + 2;
     }
-    
+
     if (scr->window_title_texture[0])
-	XSetForeground(dpy, scr->draw_gc,
-		       scr->window_title_texture[0]->any.color.pixel);
+        XSetForeground(dpy, scr->draw_gc,
+                       scr->window_title_texture[0]->any.color.pixel);
     else
-	XSetForeground(dpy, scr->draw_gc, scr->light_pixel);
+        XSetForeground(dpy, scr->draw_gc, scr->light_pixel);
 
-    pixmap = XCreatePixmap(dpy, scr->root_win, width, height, scr->w_depth);
+    pixmap =
+        XCreatePixmap(dpy, scr->root_win, width, height, scr->w_depth);
     XFillRectangle(dpy, pixmap, scr->draw_gc, 0, 0, width, height);
 
-    XSetForeground(dpy, scr->info_text_gc, scr->window_title_pixel[0]);
-
-    WMDrawString(scr->wmscreen, pixmap, scr->info_text_gc, font, 
-		 4, 2, text, strlen(text));
+    drawMultiLineString(scr->wmscreen, pixmap, scr->window_title_color[0],
+                        font, 4, 2, text, strlen(text));
 
     XResizeWindow(dpy, scr->balloon->window, width, height);
     XMoveWindow(dpy, scr->balloon->window, x, y);
@@ -277,10 +416,10 @@
     XMapRaised(dpy, scr->balloon->window);
 
     scr->balloon->contents = pixmap;
-    
+
     scr->balloon->mapped = 1;
 }
-#endif /* !SHAPED_BALLOON */
+#endif				/* !SHAPED_BALLOON */
 
 
 static void
@@ -291,37 +430,37 @@
     unsigned foo, w;
 
     if (scr->balloon) {
-	scr->balloon->timer = NULL;
-	scr->balloon->ignoreTimer = 1;
+        scr->balloon->timer = NULL;
+        scr->balloon->ignoreTimer = 1;
     }
 
     if (!XGetGeometry(dpy, scr->balloon->objectWindow, &foow, &x, &y,
-		      &w, &foo, &foo, &foo)) {
-	scr->balloon->prevType = 0;
-	return;
+                      &w, &foo, &foo, &foo)) {
+        scr->balloon->prevType = 0;
+        return;
     }
     showText(scr, x, y, scr->balloon->h, w, scr->balloon->text);
 }
 
 
-
 static void
 frameBalloon(WObjDescriptor *object)
 {
-    WFrameWindow *fwin = (WFrameWindow*)object->parent;
+    WFrameWindow *fwin = (WFrameWindow *) object->parent;
     WScreen *scr = fwin->core->screen_ptr;
 
     if (fwin->titlebar != object->self
-	|| !fwin->flags.is_client_window_frame) {
-	wBalloonHide(scr);
-	return;
+        || !fwin->flags.is_client_window_frame) {
+        wBalloonHide(scr);
+        return;
     }
     if (fwin->title && fwin->flags.incomplete_title) {
-	scr->balloon->h = (fwin->titlebar ? fwin->titlebar->height : 0);
-	scr->balloon->text = wstrdup(fwin->title);
-	scr->balloon->objectWindow = fwin->core->window;
-	scr->balloon->timer = WMAddTimerHandler(BALLOON_DELAY,
-						(WMCallback*)showBalloon, scr);
+        scr->balloon->h = (fwin->titlebar ? fwin->titlebar->height : 0);
+        scr->balloon->text = wstrdup(fwin->title);
+        scr->balloon->objectWindow = fwin->core->window;
+        scr->balloon->timer = WMAddTimerHandler(BALLOON_DELAY,
+                                                (WMCallback *) showBalloon,
+                                                scr);
     }
 }
 
@@ -329,60 +468,61 @@
 static void
 miniwindowBalloon(WObjDescriptor *object)
 {
-    WIcon *icon = (WIcon*)object->parent;
+    WIcon *icon = (WIcon *) object->parent;
     WScreen *scr = icon->core->screen_ptr;
 
     if (!icon->icon_name) {
-	wBalloonHide(scr);
-	return;
+        wBalloonHide(scr);
+        return;
     }
     scr->balloon->h = icon->core->height;
     scr->balloon->text = wstrdup(icon->icon_name);
     scr->balloon->objectWindow = icon->core->window;
     if ((scr->balloon->prevType == object->parent_type
-    || scr->balloon->prevType == WCLASS_APPICON)
-	&& scr->balloon->ignoreTimer) {
-	XUnmapWindow(dpy, scr->balloon->window);
-	showBalloon(scr);
+         || scr->balloon->prevType == WCLASS_APPICON)
+        && scr->balloon->ignoreTimer) {
+        XUnmapWindow(dpy, scr->balloon->window);
+        showBalloon(scr);
     } else {
-	scr->balloon->timer = WMAddTimerHandler(BALLOON_DELAY,
-						(WMCallback*)showBalloon, scr);
+        scr->balloon->timer = WMAddTimerHandler(BALLOON_DELAY,
+                                                (WMCallback *) showBalloon,
+                                                scr);
     }
 }
 
 
-
 static void
 appiconBalloon(WObjDescriptor *object)
 {
-    WAppIcon *aicon = (WAppIcon*)object->parent;
+    WAppIcon *aicon = (WAppIcon *) object->parent;
     WScreen *scr = aicon->icon->core->screen_ptr;
     char *tmp;
 
     if (aicon->command && aicon->wm_class) {
-	int len = strlen(aicon->command)+strlen(aicon->wm_class)+8;
-	tmp = wmalloc(len);
-	snprintf(tmp, len, "%s (%s)", aicon->wm_class, aicon->command);
-	scr->balloon->text = tmp;
+        int len = strlen(aicon->command) + strlen(aicon->wm_class) + 8;
+        tmp = wmalloc(len);
+        snprintf(tmp, len, "%s\n(%s)", aicon->wm_class, aicon->command);
+        scr->balloon->text = tmp;
     } else if (aicon->command) {
-	scr->balloon->text = wstrdup(aicon->command);
+        scr->balloon->text = wstrdup(aicon->command);
     } else if (aicon->wm_class) {
-	scr->balloon->text = wstrdup(aicon->wm_class);
+        scr->balloon->text = wstrdup(aicon->wm_class);
     } else {
-	wBalloonHide(scr);
-	return;
+        wBalloonHide(scr);
+        return;
     }
-    scr->balloon->h = aicon->icon->core->height-2;
+    scr->balloon->h = aicon->icon->core->height - 2;
 
     scr->balloon->objectWindow = aicon->icon->core->window;
     if ((scr->balloon->prevType == object->parent_type
-    || scr->balloon->prevType == WCLASS_MINIWINDOW)
-	&& scr->balloon->ignoreTimer) {
-	XUnmapWindow(dpy, scr->balloon->window);
-	showBalloon(scr);
+         || scr->balloon->prevType == WCLASS_MINIWINDOW)
+        && scr->balloon->ignoreTimer) {
+        XUnmapWindow(dpy, scr->balloon->window);
+        showBalloon(scr);
     } else {
-	scr->balloon->timer = WMAddTimerHandler(BALLOON_DELAY,
-						(WMCallback*)showBalloon, scr);
+        scr->balloon->timer = WMAddTimerHandler(BALLOON_DELAY,
+                                                (WMCallback *) showBalloon,
+                                                scr);
     }
 }
 
@@ -394,23 +534,23 @@
     WBalloon *bal;
     XSetWindowAttributes attribs;
     unsigned long vmask;
-    
+
     bal = wmalloc(sizeof(WBalloon));
     memset(bal, 0, sizeof(WBalloon));
-    
+
     scr->balloon = bal;
 
-    vmask = CWSaveUnder|CWOverrideRedirect|CWColormap|CWBackPixel
-	|CWBorderPixel;
+    vmask = CWSaveUnder | CWOverrideRedirect | CWColormap | CWBackPixel
+        | CWBorderPixel;
     attribs.save_under = True;
     attribs.override_redirect = True;
     attribs.colormap = scr->w_colormap;
     attribs.background_pixel = scr->icon_back_texture->normal.pixel;
-    attribs.border_pixel = 0; /* do not care */
+    attribs.border_pixel = 0;	/* do not care */
 
     bal->window = XCreateWindow(dpy, scr->root_win, 1, 1, 10, 10, 1,
-				scr->w_depth, CopyFromParent,
-				scr->w_visual, vmask, &attribs);
+                                scr->w_depth, CopyFromParent,
+                                scr->w_visual, vmask, &attribs);
 #if 0
     /* select EnterNotify to so that the balloon will be unmapped
      * when the pointer is moved over it */
@@ -419,53 +559,53 @@
 }
 
 
-
 void
 wBalloonEnteredObject(WScreen *scr, WObjDescriptor *object)
 {
     WBalloon *balloon = scr->balloon;
-    
+
     if (balloon->timer) {
-	WMDeleteTimerHandler(balloon->timer);
-	balloon->timer = NULL;
-	balloon->ignoreTimer = 0;
+        WMDeleteTimerHandler(balloon->timer);
+        balloon->timer = NULL;
+        balloon->ignoreTimer = 0;
     }
 
     if (scr->balloon->text)
-	wfree(scr->balloon->text);
+        wfree(scr->balloon->text);
     scr->balloon->text = NULL;
 
     if (!object) {
-	wBalloonHide(scr);
-	balloon->ignoreTimer = 0;
-	return;
+        wBalloonHide(scr);
+        balloon->ignoreTimer = 0;
+        return;
     }
     switch (object->parent_type) {
-     case WCLASS_FRAME:
-	if (wPreferences.window_balloon) {
-	    frameBalloon(object);
-	}
-	break;
-
-     case WCLASS_DOCK_ICON:
-	if (object->parent != scr->clip_icon && wPreferences.appicon_balloon)
-	    appiconBalloon(object);
+    case WCLASS_FRAME:
+        if (wPreferences.window_balloon) {
+            frameBalloon(object);
+        }
+        break;
+
+    case WCLASS_DOCK_ICON:
+        if (object->parent != scr->clip_icon
+            && wPreferences.appicon_balloon)
+            appiconBalloon(object);
         else
             wBalloonHide(scr);
-	break;
+        break;
 
-     case WCLASS_MINIWINDOW:
-	if (wPreferences.miniwin_balloon) {
-	    miniwindowBalloon(object);
-	}
-	break;
-     case WCLASS_APPICON:
-	if (wPreferences.appicon_balloon)
-	    appiconBalloon(object);
-	break;
-     default:
-	wBalloonHide(scr);
-	break;
+    case WCLASS_MINIWINDOW:
+        if (wPreferences.miniwin_balloon) {
+            miniwindowBalloon(object);
+        }
+        break;
+    case WCLASS_APPICON:
+        if (wPreferences.appicon_balloon)
+            appiconBalloon(object);
+        break;
+    default:
+        wBalloonHide(scr);
+        break;
     }
     scr->balloon->prevType = object->parent_type;
 }
@@ -476,14 +616,16 @@
 wBalloonHide(WScreen *scr)
 {
     if (scr) {
-	if (scr->balloon->mapped) {
-	    XUnmapWindow(dpy, scr->balloon->window);
-	    scr->balloon->mapped = 0;
-	} else if (scr->balloon->timer) {
-	    WMDeleteTimerHandler(scr->balloon->timer);
-	    scr->balloon->timer = NULL;
-	}
-	scr->balloon->prevType = 0;
+        if (scr->balloon->mapped) {
+            XUnmapWindow(dpy, scr->balloon->window);
+            scr->balloon->mapped = 0;
+        } else if (scr->balloon->timer) {
+            WMDeleteTimerHandler(scr->balloon->timer);
+            scr->balloon->timer = NULL;
+        }
+        scr->balloon->prevType = 0;
     }
 }
+
 #endif
+
diff -Naur WindowMaker-0.80.2/src/balloon.h wm-xft2/src/balloon.h
--- WindowMaker-0.80.2/src/balloon.h	2002-01-08 16:45:07.000000000 +0300
+++ wm-xft2/src/balloon.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /* 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/client.c wm-xft2/src/client.c
--- WindowMaker-0.80.2/src/client.c	2002-01-08 16:45:07.000000000 +0300
+++ wm-xft2/src/client.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -47,6 +47,7 @@
 #include "kwm.h"
 #endif
 
+
 /****** Global Variables ******/
 
 /* contexts */
@@ -179,6 +180,8 @@
     int nx, ny, nwidth, nheight;
     int ofs_x, ofs_y;
 
+/*  printf("configure event: %d %d %d %d\n", xcre->x, xcre->y, xcre->width, xcre->height);*/
+
     if (wwin==NULL) {
 	/* 
 	 * configure a window that was not mapped by us 
diff -Naur WindowMaker-0.80.2/src/client.h wm-xft2/src/client.h
--- WindowMaker-0.80.2/src/client.h	2002-01-08 16:45:07.000000000 +0300
+++ wm-xft2/src/client.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/colormap.c wm-xft2/src/colormap.c
--- WindowMaker-0.80.2/src/colormap.c	2002-01-08 16:45:07.000000000 +0300
+++ wm-xft2/src/colormap.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This code slightly based on fvwm code, 
  *  Copyright (c) Rob Nation and others
diff -Naur WindowMaker-0.80.2/src/config.h.in wm-xft2/src/config.h.in
--- WindowMaker-0.80.2/src/config.h.in	2002-03-26 13:48:20.000000000 +0300
+++ wm-xft2/src/config.h.in	1970-01-01 03:00:00.000000000 +0300
@@ -1,265 +0,0 @@
-/* src/config.h.in.  Generated from configure.ac by autoheader.  */
-/* define to the path to cpp */
-#undef CPP_PATH
-
-/* package name */
-#undef PACKAGE 
-
-/* package version */
-#undef VERSION 
-
-/* define if you want GNOME stuff support */
-#undef GNOME_STUFF
-
-/* define if you want KDE hint support */
-#undef KWM_HINTS
-
-/* define if you want OPEN LOOK(tm) hint support */
-#undef OLWM_HINTS
-
-/* define if XPM libraries are available
- * set by configure */
-#undef USE_XPM
-
-/* define if PNG libraries are available
- * set by configure */
-#undef USE_PNG
-
-/* define if JPEG libraries are available
- * set by configure */
-#undef USE_JPEG
-
-/* define if GIF libraries are available
- * set by configure */
-#undef USE_GIF
-
-/* define if TIFF libraries are available
- * set by configure */
-#undef USE_TIFF
-
-/* define if X's shared memory extension is available
- * set by configure */
-#undef XSHM
-
-/* define an extra path for pixmaps
- * set by configure */
-#undef PIXMAPDIR
-
-/* Internationalization (I18N) support 
- * set by configure */
-#undef I18N
-
-/* define if you want the 'lite' version */
-#undef LITE
-
-/* define if you want support for shaped windows
- * set by configure */
-#undef SHAPE
-
-/* define if you want support for the XINERAMA extension
- * set by configure */
-#undef XINERAMA
-
-/* define if you want support for X window's X_LOCALE
- * set by configure */
-#undef X_LOCALE
-
-/* the place where shared data is stored
- * defined by configure */
-#undef PKGDATADIR
-
-/* the place where the configuration is stored
- * defined by configure */
-#undef SYSCONFDIR
-
-/* whether XKB language MODELOCK should be enabled */
-#undef XKB_MODELOCK
-
-/* define if you want user defined menus for applications */
-#undef USER_MENU
-
-/* define if you have then inet_aton function */
-#undef HAVE_INET_ATON
-
-/* define if your X server has XInternAtoms() */
-#undef HAVE_XINTERNATOMS
-
-/* define if your X server has XConvertCase() */
-#undef HAVE_XCONVERTCASE
-
-/* define if you want Hermes support */
-#undef HAVE_HERMES
-
-/* define if you have vsnprintf with C99 semantics */
-#undef HAVE_C99_VSNPRINTF
-
-
-/* Define to one of `_getb67', `GETB67', `getb67' for Cray-2 and Cray-YMP
-   systems. This function is required for `alloca.c' support on those systems.
-   */
-#undef CRAY_STACKSEG_END
-
-/* Define to 1 if using `alloca.c'. */
-#undef C_ALLOCA
-
-/* Define to 1 if you have `alloca', as a function or macro. */
-#undef HAVE_ALLOCA
-
-/* Define to 1 if you have <alloca.h> and it should be used (not on Ultrix).
-   */
-#undef HAVE_ALLOCA_H
-
-/* Define to 1 if you have the `asprintf' function. */
-#undef HAVE_ASPRINTF
-
-/* Define to 1 if you have the `atexit' function. */
-#undef HAVE_ATEXIT
-
-/* Define to 1 if you have the <ctype.h> header file. */
-#undef HAVE_CTYPE_H
-
-/* Define to 1 if you have the <dlfcn.h> header file. */
-#undef HAVE_DLFCN_H
-
-/* Define to 1 if you don't have `vprintf' but do have `_doprnt.' */
-#undef HAVE_DOPRNT
-
-/* Define to 1 if you have the <fcntl.h> header file. */
-#undef HAVE_FCNTL_H
-
-/* Define to 1 if you have the `gethostname' function. */
-#undef HAVE_GETHOSTNAME
-
-/* Define to 1 if you have the <inttypes.h> header file. */
-#undef HAVE_INTTYPES_H
-
-/* Define to 1 if you have the <libintl.h> header file. */
-#undef HAVE_LIBINTL_H
-
-/* Define to 1 if you have the <limits.h> header file. */
-#undef HAVE_LIMITS_H
-
-/* Define to 1 if you have the `mallinfo' function. */
-#undef HAVE_MALLINFO
-
-/* Define to 1 if you have the <malloc.h> header file. */
-#undef HAVE_MALLOC_H
-
-/* Define to 1 if you have the <memory.h> header file. */
-#undef HAVE_MEMORY_H
-
-/* Define to 1 if you have the `mkstemp' function. */
-#undef HAVE_MKSTEMP
-
-/* Define to 1 if you have the `poll' function. */
-#undef HAVE_POLL
-
-/* Define to 1 if you have the <poll.h> header file. */
-#undef HAVE_POLL_H
-
-/* Define to 1 if you have the `select' function. */
-#undef HAVE_SELECT
-
-/* Define to 1 if you have the `setpgid' function. */
-#undef HAVE_SETPGID
-
-/* Define to 1 if you have the `snprintf' function. */
-#undef HAVE_SNPRINTF
-
-/* Define to 1 if you have the <stdint.h> header file. */
-#undef HAVE_STDINT_H
-
-/* Define to 1 if you have the <stdlib.h> header file. */
-#undef HAVE_STDLIB_H
-
-/* Define to 1 if you have the `strcasecmp' function. */
-#undef HAVE_STRCASECMP
-
-/* Define to 1 if you have the `strerror' function. */
-#undef HAVE_STRERROR
-
-/* Define to 1 if you have the <strings.h> header file. */
-#undef HAVE_STRINGS_H
-
-/* Define to 1 if you have the <string.h> header file. */
-#undef HAVE_STRING_H
-
-/* Define to 1 if you have the `strncasecmp' function. */
-#undef HAVE_STRNCASECMP
-
-/* Define to 1 if you have the <sys/ioctl.h> header file. */
-#undef HAVE_SYS_IOCTL_H
-
-/* Define to 1 if you have the <sys/select.h> header file. */
-#undef HAVE_SYS_SELECT_H
-
-/* Define to 1 if you have the <sys/stat.h> header file. */
-#undef HAVE_SYS_STAT_H
-
-/* Define to 1 if you have the <sys/time.h> header file. */
-#undef HAVE_SYS_TIME_H
-
-/* Define to 1 if you have the <sys/types.h> header file. */
-#undef HAVE_SYS_TYPES_H
-
-/* Define to 1 if you have <sys/wait.h> that is POSIX.1 compatible. */
-#undef HAVE_SYS_WAIT_H
-
-/* Define to 1 if you have the <unistd.h> header file. */
-#undef HAVE_UNISTD_H
-
-/* Define to 1 if you have the `vasprintf' function. */
-#undef HAVE_VASPRINTF
-
-/* Define to 1 if you have the `vprintf' function. */
-#undef HAVE_VPRINTF
-
-/* Define to 1 if you have the `vsnprintf' function. */
-#undef HAVE_VSNPRINTF
-
-/* Name of package */
-#undef PACKAGE
-
-/* Define to the address where bug reports for this package should be sent. */
-#undef PACKAGE_BUGREPORT
-
-/* Define to the full name of this package. */
-#undef PACKAGE_NAME
-
-/* Define to the full name and version of this package. */
-#undef PACKAGE_STRING
-
-/* Define to the one symbol short name of this package. */
-#undef PACKAGE_TARNAME
-
-/* Define to the version of this package. */
-#undef PACKAGE_VERSION
-
-/* Define as the return type of signal handlers (`int' or `void'). */
-#undef RETSIGTYPE
-
-/* If using the C implementation of alloca, define if you know the
-   direction of stack growth for your system; otherwise it will be
-   automatically deduced at run-time.
-        STACK_DIRECTION > 0 => grows toward higher addresses
-        STACK_DIRECTION < 0 => grows toward lower addresses
-        STACK_DIRECTION = 0 => direction of growth unknown */
-#undef STACK_DIRECTION
-
-/* Define to 1 if you have the ANSI C header files. */
-#undef STDC_HEADERS
-
-/* Define to 1 if `sys_siglist' is declared by <signal.h> or <unistd.h>. */
-#undef SYS_SIGLIST_DECLARED
-
-/* Define to 1 if you can safely include both <sys/time.h> and <time.h>. */
-#undef TIME_WITH_SYS_TIME
-
-/* Version number of package */
-#undef VERSION
-
-/* Define to 1 if the X Window System is missing or not being used. */
-#undef X_DISPLAY_MISSING
-
-/* Define to empty if `const' does not conform to ANSI C. */
-#undef const
diff -Naur WindowMaker-0.80.2/src/cycling.c wm-xft2/src/cycling.c
--- WindowMaker-0.80.2/src/cycling.c	2002-01-08 16:45:07.000000000 +0300
+++ wm-xft2/src/cycling.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 2000-2002 Alfredo K. Kojima
+ *  Copyright (c) 2000-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -36,6 +36,7 @@
 #include "actions.h"
 #include "stacking.h"
 #include "funcs.h"
+#include "xinerama.h"
 
 /* Globals */
 extern WPreferences wPreferences;
@@ -303,9 +304,16 @@
     }
 
     scr->flags.doing_alt_tab = 0;
-    if (openedSwitchMenu) 
-	OpenSwitchMenu(scr, scr->scr_width/2, scr->scr_height/2, False);
-    
+    if (openedSwitchMenu) {
+	/*
+	 * place window in center of current head
+	 */
+	WMPoint center = wGetPointToCenterRectInHead(scr, 
+				   wGetHeadForPointerLocation(scr), 
+					   0, 0);
+	OpenSwitchMenu(scr, center.x, center.y, False);
+    }
+
     if (somethingElse) {
 	WMHandleEvent(&ev);
     }
diff -Naur WindowMaker-0.80.2/src/defaults.c wm-xft2/src/defaults.c
--- WindowMaker-0.80.2/src/defaults.c	2002-01-08 16:45:07.000000000 +0300
+++ wm-xft2/src/defaults.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,10 +1,10 @@
 /* defaults.c - manage configuration through defaults db
- * 
+ *
  *  Window Maker window manager
- * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
- *  Copyright (c) 1998-2002 Dan Pascu
- * 
+ *
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Dan Pascu
+ *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
  *  the Free Software Foundation; either version 2 of the License, or
@@ -17,7 +17,7 @@
  *
  *  You should have received a copy of the GNU General Public License
  *  along with this program; if not, write to the Free Software
- *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, 
+ *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,
  *  USA.
  */
 
@@ -51,7 +51,6 @@
 
 #include <wraster.h>
 
-
 #include "WindowMaker.h"
 #include "wcore.h"
 #include "framewin.h"
@@ -83,8 +82,8 @@
 extern Atom _XA_WINDOWMAKER_ICON_TILE;
 
 /*
-extern WMPropList *wDomainName;
-extern WMPropList *wAttributeDomainName;
+ extern WMPropList *wDomainName;
+ extern WMPropList *wAttributeDomainName;
  */
 extern WPreferences wPreferences;
 
@@ -138,8 +137,8 @@
 static int setIfDockPresent();
 static int setStickyIcons();
 /*
-static int setPositive();
-*/
+ static int setPositive();
+ */
 static int setWidgetColor();
 static int setIconTile();
 static int setWinTitleFont();
@@ -329,47 +328,47 @@
  * defined, and this value needs to be correct.
  */
 
-/* these options will only affect the window manager on startup 
+/* these options will only affect the window manager on startup
  *
  * static defaults can't access the screen data, because it is
  * created after these defaults are read
  */
-WDefaultEntry staticOptionList[] = {    
+WDefaultEntry staticOptionList[] = {
 
     {"ColormapSize",	"4",			NULL,
-	&wPreferences.cmap_size,	getInt,		NULL
+    &wPreferences.cmap_size,	getInt,		NULL
     },
     {"DisableDithering",	"NO",			NULL,
-	&wPreferences.no_dithering,	getBool,	NULL
+    &wPreferences.no_dithering,	getBool,	NULL
     },
     /* static by laziness */
     {"IconSize",	"64",			NULL,
-	&wPreferences.icon_size,	getInt,		NULL
+    &wPreferences.icon_size,	getInt,		NULL
     },
     {"ModifierKey",	"Mod1",			NULL,
-	&wPreferences.modifier_mask,	getModMask,	NULL
+    &wPreferences.modifier_mask,	getModMask,	NULL
     },
     {"DisableWSMouseActions", "NO",		NULL,
-	&wPreferences.disable_root_mouse, getBool,	NULL
+    &wPreferences.disable_root_mouse, getBool,	NULL
     },
     {"FocusMode",	"manual",		seFocusModes,
-	&wPreferences.focus_mode,	getEnum,	NULL
+    &wPreferences.focus_mode,	getEnum,	NULL
     }, /* have a problem when switching from manual to sloppy without restart */
     {"NewStyle",	"NO",			NULL,
-	&wPreferences.new_style, 	getBool, 	NULL
+    &wPreferences.new_style, 	getBool, 	NULL
     },
     {"DisableDock",	"NO",		(void*) WM_DOCK,
-	NULL, 	getBool,        setIfDockPresent
+    NULL, 	getBool,        setIfDockPresent
     },
     {"DisableClip",	"NO",		(void*) WM_CLIP,
-	NULL, 	getBool,        setIfDockPresent
+    NULL, 	getBool,        setIfDockPresent
     },
     {"DisableMiniwindows", "NO",		NULL,
-	&wPreferences.disable_miniwindows, getBool,	NULL
+    &wPreferences.disable_miniwindows, getBool,	NULL
     }
 #if 0
     ,{"MultiByteText", "NO", 			NULL,
-	&wPreferences.multi_byte_text, getBool,	setMultiByte
+    &wPreferences.multi_byte_text, getBool,	setMultiByte
     }
 #endif
 };
@@ -377,481 +376,481 @@
 
 
 WDefaultEntry optionList[] = {
-      /* dynamic options */
+    /* dynamic options */
     {"IconPosition",	"blh",			seIconPositions,
-	  &wPreferences.icon_yard,	getEnum,	setIconPosition
+    &wPreferences.icon_yard,	getEnum,	setIconPosition
     },
     {"IconificationStyle", "Zoom",             seIconificationStyles,
-         &wPreferences.iconification_style,    getEnum, NULL
+    &wPreferences.iconification_style,    getEnum, NULL
     },
     {"MouseLeftButtonAction", "SelectWindows",	seMouseButtonActions,
-	  &wPreferences.mouse_button1, 	getEnum,	NULL
+    &wPreferences.mouse_button1, 	getEnum,	NULL
     },
     {"MouseMiddleButtonAction", "OpenWindowListMenu",	seMouseButtonActions,
-	  &wPreferences.mouse_button2, getEnum,	NULL
+    &wPreferences.mouse_button2, getEnum,	NULL
     },
     {"MouseRightButtonAction", "OpenApplicationsMenu",	seMouseButtonActions,
-	  &wPreferences.mouse_button3,	getEnum,	NULL
+    &wPreferences.mouse_button3,	getEnum,	NULL
     },
     {"MouseWheelAction", "None",	seMouseWheelActions,
-	  &wPreferences.mouse_wheel,	getEnum,	NULL
+    &wPreferences.mouse_wheel,	getEnum,	NULL
     },
     {"PixmapPath",	DEF_PIXMAP_PATHS,	NULL,
-	  &wPreferences.pixmap_path,	getPathList,	NULL
+    &wPreferences.pixmap_path,	getPathList,	NULL
     },
     {"IconPath",	DEF_ICON_PATHS,		NULL,
-	  &wPreferences.icon_path,	getPathList,	NULL
+    &wPreferences.icon_path,	getPathList,	NULL
     },
     {"ColormapMode",	"auto",			seColormapModes,
-	  &wPreferences.colormap_mode,	getEnum,	NULL
+    &wPreferences.colormap_mode,	getEnum,	NULL
     },
     {"AutoFocus", 	"NO",			NULL,
-	  &wPreferences.auto_focus,	getBool,	NULL
+    &wPreferences.auto_focus,	getBool,	NULL
     },
     {"RaiseDelay",	"0",			NULL,
-	  &wPreferences.raise_delay,	getInt,		NULL
+    &wPreferences.raise_delay,	getInt,		NULL
     },
     {"WindozeCycling",  "NO",			NULL,
-	  &wPreferences.windows_cycling,getBool,	NULL
+    &wPreferences.windows_cycling,getBool,	NULL
     },
     {"CirculateRaise",	"NO",			NULL,
-	  &wPreferences.circ_raise, 	getBool, 	NULL
+    &wPreferences.circ_raise, 	getBool, 	NULL
     },
     {"Superfluous",	"NO",			NULL,
-	  &wPreferences.superfluous, 	getBool, 	NULL
+    &wPreferences.superfluous, 	getBool, 	NULL
     },
     {"AdvanceToNewWorkspace", "NO",		NULL,
-	  &wPreferences.ws_advance,      getBool,       NULL
+    &wPreferences.ws_advance,      getBool,       NULL
     },
     {"CycleWorkspaces", "NO",			NULL,
-	  &wPreferences.ws_cycle,        getBool,	NULL
+    &wPreferences.ws_cycle,        getBool,	NULL
     },
     {"WorkspaceNameDisplayPosition", "center",	seDisplayPositions,
-	  &wPreferences.workspace_name_display_position, getEnum, NULL
+    &wPreferences.workspace_name_display_position, getEnum, NULL
     },
     {"WorkspaceBorder", "None",			seWorkspaceBorder,
-	  &wPreferences.workspace_border_position, getEnum, updateUsableArea
+    &wPreferences.workspace_border_position, getEnum, updateUsableArea
     },
     {"WorkspaceBorderSize", "0",       		NULL,
-	  &wPreferences.workspace_border_size, getInt, updateUsableArea
+    &wPreferences.workspace_border_size, getInt, updateUsableArea
     },
 #ifdef VIRTUAL_DESKTOP
     {"VirtualEdgeThickness", "1",   NULL,
-        &wPreferences.vedge_thickness, getInt,        NULL
+    &wPreferences.vedge_thickness, getInt,        NULL
     },
     {"VirtualEdgeExtendSpace", "0",   NULL,
-        &wPreferences.vedge_bordersize, getInt,        NULL
+    &wPreferences.vedge_bordersize, getInt,        NULL
     },
     {"VirtualEdgeHorizonScrollSpeed", "1",  NULL,
-        &wPreferences.vedge_hscrollspeed, getInt,     NULL
+    &wPreferences.vedge_hscrollspeed, getInt,     NULL
     },
     {"VirtualEdgeVerticalScrollSpeed", "1", NULL,
-        &wPreferences.vedge_vscrollspeed, getInt,     NULL
+    &wPreferences.vedge_vscrollspeed, getInt,     NULL
     },
     {"VirtualEdgeMaximumWidth", "3000",    NULL,
-        &wPreferences.vedge_maxwidth, getInt,        NULL
+    &wPreferences.vedge_maxwidth, getInt,        NULL
     },
     {"VirtualEdgeMaximumHeight", "3000",   NULL,
-        &wPreferences.vedge_maxheight, getInt,       NULL
+    &wPreferences.vedge_maxheight, getInt,       NULL
     },
 #endif
     {"StickyIcons", "NO",			NULL,
-	  &wPreferences.sticky_icons, getBool, setStickyIcons
+    &wPreferences.sticky_icons, getBool, setStickyIcons
     },
     {"SaveSessionOnExit", "NO",			NULL,
-	  &wPreferences.save_session_on_exit, getBool,	NULL
+    &wPreferences.save_session_on_exit, getBool,	NULL
     },
     {"WrapMenus", "NO",				NULL,
-	  &wPreferences.wrap_menus,	getBool,	NULL
+    &wPreferences.wrap_menus,	getBool,	NULL
     },
     {"ScrollableMenus",	"NO",			NULL,
-	  &wPreferences.scrollable_menus, getBool,	NULL
+    &wPreferences.scrollable_menus, getBool,	NULL
     },
     {"MenuScrollSpeed",	"medium",    		seSpeeds,
-	  &wPreferences.menu_scroll_speed, getEnum,    	NULL
+    &wPreferences.menu_scroll_speed, getEnum,    	NULL
     },
     {"IconSlideSpeed",	"medium",		seSpeeds,
-	  &wPreferences.icon_slide_speed, getEnum,     	NULL
+    &wPreferences.icon_slide_speed, getEnum,     	NULL
     },
     {"ShadeSpeed",	"medium",    		seSpeeds,
-	  &wPreferences.shade_speed,	 getEnum,	NULL
+    &wPreferences.shade_speed,	 getEnum,	NULL
     },
     {"DoubleClickTime",	"250",   (void*) &wPreferences.dblclick_time,
-	  &wPreferences.dblclick_time, getInt,        setDoubleClick,
+    &wPreferences.dblclick_time, getInt,        setDoubleClick,
     },
     {"AlignSubmenus",	"NO",			NULL,
-	  &wPreferences.align_menus,	getBool,	NULL
+    &wPreferences.align_menus,	getBool,	NULL
     },
     {"OpenTransientOnOwnerWorkspace",	"NO",	NULL,
-	  &wPreferences.open_transients_with_parent, getBool,	NULL
+    &wPreferences.open_transients_with_parent, getBool,	NULL
     },
     {"WindowPlacement",	"auto",		sePlacements,
-	  &wPreferences.window_placement, getEnum,	NULL
+    &wPreferences.window_placement, getEnum,	NULL
     },
     {"IgnoreFocusClick","NO",			NULL,
-	  &wPreferences.ignore_focus_click, getBool,	NULL
+    &wPreferences.ignore_focus_click, getBool,	NULL
     },
     {"UseSaveUnders",	"NO",			NULL,
-	  &wPreferences.use_saveunders,	getBool,	NULL
+    &wPreferences.use_saveunders,	getBool,	NULL
     },
     {"OpaqueMove",	"NO",			NULL,
-	  &wPreferences.opaque_move,	getBool,	NULL
+    &wPreferences.opaque_move,	getBool,	NULL
     },
     {"DisableSound",	"NO",			NULL,
-	  &wPreferences.no_sound,	getBool,	NULL
+    &wPreferences.no_sound,	getBool,	NULL
     },
     {"DisableAnimations",	"NO",			NULL,
-	  &wPreferences.no_animations,	getBool,	NULL
+    &wPreferences.no_animations,	getBool,	NULL
     },
     {"DontLinkWorkspaces","NO",			NULL,
-	  &wPreferences.no_autowrap,	getBool,	NULL
+    &wPreferences.no_autowrap,	getBool,	NULL
     },
     {"AutoArrangeIcons", "NO",			NULL,
-	  &wPreferences.auto_arrange_icons, getBool,	NULL
+    &wPreferences.auto_arrange_icons, getBool,	NULL
     },
     {"NoWindowOverDock", "NO",			NULL,
-	  &wPreferences.no_window_over_dock, getBool,   updateUsableArea
+    &wPreferences.no_window_over_dock, getBool,   updateUsableArea
     },
     {"NoWindowOverIcons", "NO",			NULL,
-	  &wPreferences.no_window_over_icons, getBool,  updateUsableArea
+    &wPreferences.no_window_over_icons, getBool,  updateUsableArea
     },
     {"WindowPlaceOrigin", "(0, 0)",		NULL,
-	  &wPreferences.window_place_origin, getCoord,  NULL
+    &wPreferences.window_place_origin, getCoord,  NULL
     },
     {"ResizeDisplay",	"corner",	       	seGeomDisplays,
-	  &wPreferences.size_display,	getEnum,	NULL
+    &wPreferences.size_display,	getEnum,	NULL
     },
     {"MoveDisplay",	"corner",      		seGeomDisplays,
-	  &wPreferences.move_display,	getEnum,	NULL
+    &wPreferences.move_display,	getEnum,	NULL
     },
     {"DontConfirmKill",	"NO",			NULL,
-	  &wPreferences.dont_confirm_kill,	getBool,NULL
+    &wPreferences.dont_confirm_kill,	getBool,NULL
     },
     {"WindowTitleBalloons", "NO",		NULL,
-	  &wPreferences.window_balloon,	getBool,	NULL
+    &wPreferences.window_balloon,	getBool,	NULL
     },
     {"MiniwindowTitleBalloons", "NO",		NULL,
-	  &wPreferences.miniwin_balloon,getBool,	NULL
+    &wPreferences.miniwin_balloon,getBool,	NULL
     },
     {"AppIconBalloons", "NO",		NULL,
-	  &wPreferences.appicon_balloon,getBool,	NULL
+    &wPreferences.appicon_balloon,getBool,	NULL
     },
     {"HelpBalloons",	"NO",		NULL,
-	  &wPreferences.help_balloon,	getBool,	NULL
+    &wPreferences.help_balloon,	getBool,	NULL
     },
     {"EdgeResistance", 	"30",			NULL,
-	  &wPreferences.edge_resistance,getInt,		NULL
+    &wPreferences.edge_resistance,getInt,		NULL
     },
     {"Attraction", 	"NO",			NULL,
-	  &wPreferences.attract,  getBool,    NULL
+    &wPreferences.attract,  getBool,    NULL
     },
     {"DisableBlinking",	"NO",		NULL,
-	   &wPreferences.dont_blink,	getBool,	NULL
+    &wPreferences.dont_blink,	getBool,	NULL
     },
-      /* style options */
+    /* style options */
     {"MenuStyle", 	"normal",  		seMenuStyles,
-	&wPreferences.menu_style, getEnum, 	setMenuStyle
+    &wPreferences.menu_style, getEnum, 	setMenuStyle
     },
     {"WidgetColor",	"(solid, gray)",	NULL,
-	  NULL,				getTexture,	setWidgetColor,
+    NULL,				getTexture,	setWidgetColor,
     },
     {"WorkspaceSpecificBack","()",	NULL,
-	  NULL,		getWSSpecificBackground, setWorkspaceSpecificBack
+    NULL,		getWSSpecificBackground, setWorkspaceSpecificBack
     },
-	/* WorkspaceBack must come after WorkspaceSpecificBack or
-	 * WorkspaceBack wont know WorkspaceSpecificBack was also
-	 * specified and 2 copies of wmsetbg will be launched */
+    /* WorkspaceBack must come after WorkspaceSpecificBack or
+     * WorkspaceBack wont know WorkspaceSpecificBack was also
+     * specified and 2 copies of wmsetbg will be launched */
     {"WorkspaceBack",	"(solid, black)",	NULL,
-	  NULL,				getWSBackground,setWorkspaceBack
+    NULL,				getWSBackground,setWorkspaceBack
     },
     {"SmoothWorkspaceBack", 	"NO",		NULL,
-	  NULL,				getBool,	NULL
+    NULL,				getBool,	NULL
     },
     {"IconBack",	"(solid, gray)",       	NULL,
-	  NULL,				getTexture,	setIconTile
+    NULL,				getTexture,	setIconTile
     },
     {"TitleJustify",	"center",		seJustifications,
-	  &wPreferences.title_justification, getEnum,	setJustify
+    &wPreferences.title_justification, getEnum,	setJustify
     },
     {"WindowTitleFont",	DEF_TITLE_FONT,	       	NULL,
-	  NULL,				getFont,	setWinTitleFont,
+    NULL,				getFont,	setWinTitleFont,
     },
     {"WindowTitleExtendSpace",	DEF_WINDOW_TITLE_EXTEND_SPACE,	       	NULL,
-      &wPreferences.window_title_clearance,	getInt,		setClearance
+    &wPreferences.window_title_clearance,	getInt,		setClearance
     },
     {"MenuTitleExtendSpace",	DEF_MENU_TITLE_EXTEND_SPACE,	       	NULL,
-      &wPreferences.menu_title_clearance,	getInt,		setClearance
+    &wPreferences.menu_title_clearance,	getInt,		setClearance
     },
     {"MenuTextExtendSpace",	DEF_MENU_TEXT_EXTEND_SPACE,	       	NULL,
-      &wPreferences.menu_text_clearance,	getInt,		setClearance
+    &wPreferences.menu_text_clearance,	getInt,		setClearance
     },
     {"MenuTitleFont",	DEF_MENU_TITLE_FONT,	NULL,
-	  NULL,				getFont,	setMenuTitleFont
+    NULL,				getFont,	setMenuTitleFont
     },
     {"MenuTextFont",	DEF_MENU_ENTRY_FONT,	NULL,
-	  NULL,				getFont,	setMenuTextFont
+    NULL,				getFont,	setMenuTextFont
     },
     {"IconTitleFont",	DEF_ICON_TITLE_FONT,	NULL,
-	  NULL,				getFont,	setIconTitleFont
+    NULL,				getFont,	setIconTitleFont
     },
     {"ClipTitleFont",	DEF_CLIP_TITLE_FONT,	NULL,
-	  NULL,				getFont,	setClipTitleFont
+    NULL,				getFont,	setClipTitleFont
     },
     {"LargeDisplayFont",DEF_WORKSPACE_NAME_FONT, NULL,
-	  NULL,				getFont,	setLargeDisplayFont
+    NULL,				getFont,	setLargeDisplayFont
     },
     {"HighlightColor",	"white",		NULL,
-	  NULL,				getColor,	setHightlight
+    NULL,				getColor,	setHightlight
     },
     {"HighlightTextColor",	"black",	NULL,
-	  NULL,				getColor,	setHightlightText
+    NULL,				getColor,	setHightlightText
     },
     {"ClipTitleColor",	"black",		(void*)CLIP_NORMAL,
-	  NULL,				getColor,	setClipTitleColor
+    NULL,				getColor,	setClipTitleColor
     },
     {"CClipTitleColor", "\"#454045\"",		(void*)CLIP_COLLAPSED,
-	  NULL,				getColor,	setClipTitleColor
+    NULL,				getColor,	setClipTitleColor
     },
     {"FTitleColor",	"white",		(void*)WS_FOCUSED,
-	  NULL,				getColor,	setWTitleColor
+    NULL,				getColor,	setWTitleColor
     },
     {"PTitleColor",	"white",		(void*)WS_PFOCUSED,
-	  NULL,				getColor,	setWTitleColor
+    NULL,				getColor,	setWTitleColor
     },
     {"UTitleColor",	"black",		(void*)WS_UNFOCUSED,
-	  NULL,				getColor,	setWTitleColor
+    NULL,				getColor,	setWTitleColor
     },
     {"FTitleBack",	"(solid, black)",      	NULL,
-	  NULL,				getTexture,	setFTitleBack
+    NULL,				getTexture,	setFTitleBack
     },
     {"PTitleBack",	"(solid, \"#616161\")",	NULL,
-	  NULL,				getTexture,	setPTitleBack
+    NULL,				getTexture,	setPTitleBack
     },
     {"UTitleBack",	"(solid, gray)",	NULL,
-	  NULL,				getTexture,	setUTitleBack
+    NULL,				getTexture,	setUTitleBack
     },
     {"ResizebarBack",	"(solid, gray)",	NULL,
-	  NULL,				getTexture,	setResizebarBack
+    NULL,				getTexture,	setResizebarBack
     },
     {"MenuTitleColor",	"white",       		NULL,
-	  NULL,				getColor,	setMenuTitleColor
+    NULL,				getColor,	setMenuTitleColor
     },
     {"MenuTextColor",	"black",       		NULL,
-	  NULL,				getColor,	setMenuTextColor
+    NULL,				getColor,	setMenuTextColor
     },
     {"MenuDisabledColor", "\"#616161\"",       	NULL,
-	  NULL,				getColor,	setMenuDisabledColor
+    NULL,				getColor,	setMenuDisabledColor
     },
     {"MenuTitleBack",	"(solid, black)",      	NULL,
-	  NULL,				getTexture,	setMenuTitleBack
+    NULL,				getTexture,	setMenuTitleBack
     },
     {"MenuTextBack",	"(solid, gray)",       	NULL,
-	  NULL,				getTexture,	setMenuTextBack
+    NULL,				getTexture,	setMenuTextBack
     },
     {"IconTitleColor",	"white",       		NULL,
-	  NULL,				getColor,	setIconTitleColor
+    NULL,				getColor,	setIconTitleColor
     },
     {"IconTitleBack",	"black",       		NULL,
-	  NULL,				getColor,	setIconTitleBack
+    NULL,				getColor,	setIconTitleBack
     },
-	/* keybindings */
+    /* keybindings */
 #ifndef LITE
     {"RootMenuKey",	"None",			(void*)WKBD_ROOTMENU,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"WindowListKey",	"None",			(void*)WKBD_WINDOWLIST,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
 #endif /* LITE */
     {"WindowMenuKey",	"None",		       	(void*)WKBD_WINDOWMENU,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"ClipLowerKey",   "None",		        (void*)WKBD_CLIPLOWER,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"ClipRaiseKey",   "None",		        (void*)WKBD_CLIPRAISE,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"ClipRaiseLowerKey", "None",		 (void*)WKBD_CLIPRAISELOWER,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"MiniaturizeKey",	"None",	       		(void*)WKBD_MINIATURIZE,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"HideKey", "None",	       			(void*)WKBD_HIDE,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"HideOthersKey", "None",	       		(void*)WKBD_HIDE_OTHERS,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"MoveResizeKey", "None",	       		(void*)WKBD_MOVERESIZE,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"CloseKey", "None",       			(void*)WKBD_CLOSE,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"MaximizeKey", "None",			(void*)WKBD_MAXIMIZE,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"VMaximizeKey", "None",			(void*)WKBD_VMAXIMIZE,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"HMaximizeKey", "None",			(void*)WKBD_HMAXIMIZE,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"RaiseKey", "\"Meta+Up\"",			(void*)WKBD_RAISE,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"LowerKey", "\"Meta+Down\"",			(void*)WKBD_LOWER,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"RaiseLowerKey", "None",			(void*)WKBD_RAISELOWER,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"ShadeKey", "None",			(void*)WKBD_SHADE,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"SelectKey", "None",			(void*)WKBD_SELECT,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"FocusNextKey", "None",		       	(void*)WKBD_FOCUSNEXT,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"FocusPrevKey", "None",			(void*)WKBD_FOCUSPREV,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"NextWorkspaceKey", "None",		(void*)WKBD_NEXTWORKSPACE,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"PrevWorkspaceKey", "None",       		(void*)WKBD_PREVWORKSPACE,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"NextWorkspaceLayerKey", "None",		(void*)WKBD_NEXTWSLAYER,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"PrevWorkspaceLayerKey", "None", 		(void*)WKBD_PREVWSLAYER,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"Workspace1Key", "None",			(void*)WKBD_WORKSPACE1,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"Workspace2Key", "None",			(void*)WKBD_WORKSPACE2,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"Workspace3Key", "None",			(void*)WKBD_WORKSPACE3,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"Workspace4Key", "None",			(void*)WKBD_WORKSPACE4,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"Workspace5Key", "None",			(void*)WKBD_WORKSPACE5,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"Workspace6Key", "None",			(void*)WKBD_WORKSPACE6,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"Workspace7Key", "None",			(void*)WKBD_WORKSPACE7,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"Workspace8Key", "None",			(void*)WKBD_WORKSPACE8,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"Workspace9Key", "None",			(void*)WKBD_WORKSPACE9,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"Workspace10Key", "None",			(void*)WKBD_WORKSPACE10,
-	  NULL,				getKeybind,	setKeyGrab
+    NULL,				getKeybind,	setKeyGrab
     },
     {"WindowShortcut1Key","None",		(void*)WKBD_WINDOW1,
-	    NULL, 			getKeybind,	setKeyGrab
+    NULL, 			getKeybind,	setKeyGrab
     },
     {"WindowShortcut2Key","None",		(void*)WKBD_WINDOW2,
-	    NULL, 			getKeybind,	setKeyGrab
+    NULL, 			getKeybind,	setKeyGrab
     },
     {"WindowShortcut3Key","None",		(void*)WKBD_WINDOW3,
-	    NULL, 			getKeybind,	setKeyGrab
+    NULL, 			getKeybind,	setKeyGrab
     },
     {"WindowShortcut4Key","None",		(void*)WKBD_WINDOW4,
-	    NULL, 			getKeybind,	setKeyGrab
+    NULL, 			getKeybind,	setKeyGrab
     }
     ,{"WindowShortcut5Key","None",		(void*)WKBD_WINDOW5,
-	    NULL, 			getKeybind,	setKeyGrab
+    NULL, 			getKeybind,	setKeyGrab
     },
     {"WindowShortcut6Key","None",		(void*)WKBD_WINDOW6,
-	    NULL, 			getKeybind,	setKeyGrab
+    NULL, 			getKeybind,	setKeyGrab
     },
     {"WindowShortcut7Key","None",		(void*)WKBD_WINDOW7,
-	    NULL, 			getKeybind,	setKeyGrab
+    NULL, 			getKeybind,	setKeyGrab
     },
     {"WindowShortcut8Key","None",		(void*)WKBD_WINDOW8,
-	    NULL, 			getKeybind,	setKeyGrab
+    NULL, 			getKeybind,	setKeyGrab
     },
     {"WindowShortcut9Key","None",		(void*)WKBD_WINDOW9,
-	    NULL, 			getKeybind,	setKeyGrab
+    NULL, 			getKeybind,	setKeyGrab
     },
     {"WindowShortcut10Key","None",		(void*)WKBD_WINDOW10,
-	    NULL, 			getKeybind,	setKeyGrab
+    NULL, 			getKeybind,	setKeyGrab
     },
     {"ScreenSwitchKey",  "None",		(void*)WKBD_SWITCH_SCREEN,
-	    NULL, 			getKeybind,	setKeyGrab	
+    NULL, 			getKeybind,	setKeyGrab
     },
 
 #ifdef KEEP_XKB_LOCK_STATUS
     {"ToggleKbdModeKey", "None",                      (void*)WKBD_TOGGLE,
-	    NULL,                       getKeybind,     setKeyGrab
+    NULL,                       getKeybind,     setKeyGrab
     },
     {"KbdModeLock", "NO",  	                  NULL,
-	    &wPreferences.modelock, 	getBool,	NULL
+    &wPreferences.modelock, 	getBool,	NULL
     },
 #endif /* KEEP_XKB_LOCK_STATUS */
 
     {"NormalCursor", "(builtin, left_ptr)",	(void*)WCUR_ROOT,
-          NULL,				getCursor,	setCursor
+    NULL,				getCursor,	setCursor
     },
     {"ArrowCursor", "(builtin, top_left_arrow)",	(void*)WCUR_ARROW,
-          NULL,				getCursor,	setCursor
+    NULL,				getCursor,	setCursor
     },
     {"MoveCursor", "(builtin, fleur)",		(void*)WCUR_MOVE,
-          NULL,				getCursor,	setCursor
+    NULL,				getCursor,	setCursor
     },
     {"ResizeCursor", "(builtin, sizing)",	(void*)WCUR_RESIZE,
-          NULL,				getCursor,	setCursor
+    NULL,				getCursor,	setCursor
     },
     {"TopLeftResizeCursor", "(builtin, top_left_corner)",
-	  (void*)WCUR_TOPLEFTRESIZE,
-          NULL,				getCursor,	setCursor
+    (void*)WCUR_TOPLEFTRESIZE,
+    NULL,				getCursor,	setCursor
     },
     {"TopRightResizeCursor", "(builtin, top_right_corner)",
-	  (void*)WCUR_TOPRIGHTRESIZE,
-          NULL,				getCursor,	setCursor
+    (void*)WCUR_TOPRIGHTRESIZE,
+    NULL,				getCursor,	setCursor
     },
     {"BottomLeftResizeCursor", "(builtin, bottom_left_corner)",
-	  (void*)WCUR_BOTTOMLEFTRESIZE,
-          NULL,				getCursor,	setCursor
+    (void*)WCUR_BOTTOMLEFTRESIZE,
+    NULL,				getCursor,	setCursor
     },
     {"BottomRightResizeCursor", "(builtin, bottom_right_corner)",
-	  (void*)WCUR_BOTTOMRIGHTRESIZE,
-          NULL,				getCursor,	setCursor
+    (void*)WCUR_BOTTOMRIGHTRESIZE,
+    NULL,				getCursor,	setCursor
     },
     {"VerticalResizeCursor", "(builtin, sb_v_double_arrow)",
-	  (void*)WCUR_VERTICALRESIZE,
-          NULL,				getCursor,	setCursor
+    (void*)WCUR_VERTICALRESIZE,
+    NULL,				getCursor,	setCursor
     },
     {"HorizontalResizeCursor", "(builtin, sb_h_double_arrow)",
-	  (void*)WCUR_HORIZONRESIZE,
-          NULL,				getCursor,	setCursor
+    (void*)WCUR_HORIZONRESIZE,
+    NULL,				getCursor,	setCursor
     },
     {"WaitCursor", "(builtin, watch)",		(void*)WCUR_WAIT,
-          NULL,				getCursor,	setCursor
+    NULL,				getCursor,	setCursor
     },
     {"QuestionCursor", "(builtin, question_arrow)",	(void*)WCUR_QUESTION,
-          NULL,				getCursor,	setCursor
+    NULL,				getCursor,	setCursor
     },
     {"TextCursor", "(builtin, xterm)",		(void*)WCUR_TEXT,
-          NULL,				getCursor,	setCursor
+    NULL,				getCursor,	setCursor
     },
     {"SelectCursor", "(builtin, cross)",	(void*)WCUR_SELECT,
-          NULL,				getCursor,	setCursor
+    NULL,				getCursor,	setCursor
     }
 };
 
@@ -862,11 +861,11 @@
 
 #if 0
 static void
-rereadDefaults(void)
+    rereadDefaults(void)
 {
     /* must defer the update because accessing X data from a
      * signal handler can mess up Xlib */
-    
+
 }
 #endif
 
@@ -879,32 +878,32 @@
     WMPLSetCaseSensitive(False);
 
     for (i=0; i<sizeof(optionList)/sizeof(WDefaultEntry); i++) {
-	entry = &optionList[i];
+        entry = &optionList[i];
 
-	entry->plkey = WMCreatePLString(entry->key);
-	if (entry->default_value)
-	    entry->plvalue = WMCreatePropListFromDescription(entry->default_value);
-	else
-	    entry->plvalue = NULL;
+        entry->plkey = WMCreatePLString(entry->key);
+        if (entry->default_value)
+            entry->plvalue = WMCreatePropListFromDescription(entry->default_value);
+        else
+            entry->plvalue = NULL;
     }
 
     for (i=0; i<sizeof(staticOptionList)/sizeof(WDefaultEntry); i++) {
-	entry = &staticOptionList[i];
-	
-	entry->plkey = WMCreatePLString(entry->key);
-	if (entry->default_value)
-	    entry->plvalue = WMCreatePropListFromDescription(entry->default_value);
-	else
-	    entry->plvalue = NULL;
+        entry = &staticOptionList[i];
+
+        entry->plkey = WMCreatePLString(entry->key);
+        if (entry->default_value)
+            entry->plvalue = WMCreatePropListFromDescription(entry->default_value);
+        else
+            entry->plvalue = NULL;
     }
-        
-/*
-    wDomainName = WMCreatePLString(WMDOMAIN_NAME);
-    wAttributeDomainName = WMCreatePLString(WMATTRIBUTE_DOMAIN_NAME);
 
-    PLRegister(wDomainName, rereadDefaults);
-    PLRegister(wAttributeDomainName, rereadDefaults);
- */
+    /*
+     wDomainName = WMCreatePLString(WMDOMAIN_NAME);
+     wAttributeDomainName = WMCreatePLString(WMATTRIBUTE_DOMAIN_NAME);
+
+     PLRegister(wDomainName, rereadDefaults);
+     PLRegister(wAttributeDomainName, rereadDefaults);
+     */
 }
 
 
@@ -933,21 +932,93 @@
 }
 
 
+
+
+
+#if defined(GLOBAL_PREAMBLE_MENU_FILE) || defined(GLOBAL_EPILOGUE_MENU_FILE)
+static void prependMenu(WMPropList *destarr, WMPropList *array)
+{
+    WMPropList *item;
+    int i;
+
+    for (i=0; i<WMGetPropListItemCount(array); i++) {
+        item = WMGetFromPLArray(array, i);
+        if (item)
+            WMInsertInPLArray(destarr, i+1, item);
+    }
+}
+
+static void appendMenu(WMPropList *destarr, WMPropList *array)
+{
+    WMPropList *item;
+    int i;
+
+    for (i=0; i<WMGetPropListItemCount(array); i++) {
+        item = WMGetFromPLArray(array, i);
+        if (item)
+            WMAddToPLArray(destarr, item);
+    }
+}
+#endif
+
+
+void wDefaultsMergeGlobalMenus(WDDomain *menuDomain)
+{    
+    WMPropList *menu = menuDomain->dictionary;
+    WMPropList *submenu;
+    
+    if (!menu || !WMIsPLArray(menu))
+        return;
+
+#ifdef GLOBAL_PREAMBLE_MENU_FILE
+    submenu = WMReadPropListFromFile(SYSCONFDIR"/WindowMaker/"GLOBAL_PREAMBLE_MENU_FILE);
+
+    if (submenu && !WMIsPLArray(submenu)) {
+        wwarning(_("invalid global menu file %s"),
+                 GLOBAL_PREAMBLE_MENU_FILE);
+        WMReleasePropList(submenu);
+        submenu = NULL;
+    }
+    if (submenu) {
+        prependMenu(menu, submenu);
+        WMReleasePropList(submenu);
+    }
+#endif
+
+#ifdef GLOBAL_EPILOGUE_MENU_FILE
+    submenu = WMReadPropListFromFile(SYSCONFDIR"/WindowMaker/"GLOBAL_EPILOGUE_MENU_FILE);
+
+    if (submenu && !WMIsPLArray(submenu)) {
+        wwarning(_("invalid global menu file %s"),
+                 GLOBAL_EPILOGUE_MENU_FILE);
+        WMReleasePropList(submenu);
+        submenu = NULL;
+    }
+    if (submenu) {
+        appendMenu(menu, submenu);
+        WMReleasePropList(submenu);
+    }
+#endif
+    
+    menuDomain->dictionary = menu;
+}
+
+
 #if 0
 WMPropList*
 wDefaultsInit(int screen_number)
 {
     static int defaults_inited = 0;
     WMPropList *dict;
-    
+
     if (!defaults_inited) {
-	initDefaults();
+        initDefaults();
     }
-    
+
     dict = PLGetDomain(wDomainName);
     if (!dict) {
-	wwarning(_("could not read domain \"%s\" from defaults database"),
-		 WMGetFromPLString(wDomainName));
+        wwarning(_("could not read domain \"%s\" from defaults database"),
+                 WMGetFromPLString(wDomainName));
     }
 
     return dict;
@@ -959,7 +1030,7 @@
 wDefaultsDestroyDomain(WDDomain *domain)
 {
     if (domain->dictionary)
-	WMReleasePropList(domain->dictionary);
+        WMReleasePropList(domain->dictionary);
     wfree(domain->path);
     wfree(domain);
 }
@@ -976,8 +1047,8 @@
     WMPropList *shared_dict=NULL;
 
     if (!inited) {
-	inited = 1;
-	initDefaults();
+        inited = 1;
+        initDefaults();
     }
 
     db = wmalloc(sizeof(WDDomain));
@@ -985,21 +1056,21 @@
     db->domain_name = domain;
     db->path = wdefaultspathfordomain(domain);
     the_path = db->path;
-    
+
     if (the_path && stat(the_path, &stbuf)>=0) {
-	db->dictionary = WMReadPropListFromFile(the_path);
-	if (db->dictionary) {
-	    if (requireDictionary && !WMIsPLDictionary(db->dictionary)) {
-		WMReleasePropList(db->dictionary);
-		db->dictionary = NULL;
-		wwarning(_("Domain %s (%s) of defaults database is corrupted!"),
-			 domain, the_path);
-	    }
-	    db->timestamp = stbuf.st_mtime;
-	} else {
-	    wwarning(_("could not load domain %s from user defaults database"),
-		     domain);
-	}
+        db->dictionary = WMReadPropListFromFile(the_path);
+        if (db->dictionary) {
+            if (requireDictionary && !WMIsPLDictionary(db->dictionary)) {
+                WMReleasePropList(db->dictionary);
+                db->dictionary = NULL;
+                wwarning(_("Domain %s (%s) of defaults database is corrupted!"),
+                         domain, the_path);
+            }
+            db->timestamp = stbuf.st_mtime;
+        } else {
+            wwarning(_("could not load domain %s from user defaults database"),
+                     domain);
+        }
     }
 
     /* global system dictionary */
@@ -1007,29 +1078,29 @@
     if (stat(path, &stbuf)>=0) {
         shared_dict = WMReadPropListFromFile(path);
         if (shared_dict) {
-	    if (requireDictionary && !WMIsPLDictionary(shared_dict)) {
-		wwarning(_("Domain %s (%s) of global defaults database is corrupted!"),
-			 domain, path);
-		WMReleasePropList(shared_dict);
-		shared_dict = NULL;
-	    } else {
-		if (db->dictionary && WMIsPLDictionary(shared_dict) &&
-		    WMIsPLDictionary(db->dictionary)) {
+            if (requireDictionary && !WMIsPLDictionary(shared_dict)) {
+                wwarning(_("Domain %s (%s) of global defaults database is corrupted!"),
+                         domain, path);
+                WMReleasePropList(shared_dict);
+                shared_dict = NULL;
+            } else {
+                if (db->dictionary && WMIsPLDictionary(shared_dict) &&
+                    WMIsPLDictionary(db->dictionary)) {
                     WMMergePLDictionaries(shared_dict, db->dictionary, True);
-		    WMReleasePropList(db->dictionary);
-		    db->dictionary = shared_dict;
-		    if (stbuf.st_mtime > db->timestamp)
-			db->timestamp = stbuf.st_mtime;
-		} else if (!db->dictionary) {
-		    db->dictionary = shared_dict;
-		    if (stbuf.st_mtime > db->timestamp)
-			db->timestamp = stbuf.st_mtime;
-		}
+                    WMReleasePropList(db->dictionary);
+                    db->dictionary = shared_dict;
+                    if (stbuf.st_mtime > db->timestamp)
+                        db->timestamp = stbuf.st_mtime;
+                } else if (!db->dictionary) {
+                    db->dictionary = shared_dict;
+                    if (stbuf.st_mtime > db->timestamp)
+                        db->timestamp = stbuf.st_mtime;
+                }
             }
         } else {
-	    wwarning(_("could not load domain %s from global defaults database (%s)"),
-		     domain, path);
-	}
+            wwarning(_("could not load domain %s from global defaults database (%s)"),
+                     domain, path);
+        }
     }
 
     return db;
@@ -1044,31 +1115,32 @@
     int i;
     void *tdata;
 
-    
+
     for (i=0; i<sizeof(staticOptionList)/sizeof(WDefaultEntry); i++) {
-	entry = &staticOptionList[i];
+        entry = &staticOptionList[i];
 
-	if (dict)
-	  plvalue = WMGetFromPLDictionary(dict, entry->plkey);
-	else
-	  plvalue = NULL;
-	
-	if (!plvalue) {
-	    /* no default in the DB. Use builtin default */
-	    plvalue = entry->plvalue;
-	}
-	
-	if (plvalue) {
-	    /* convert data */
-	    (*entry->convert)(NULL, entry, plvalue, entry->addr, &tdata);
+        if (dict)
+            plvalue = WMGetFromPLDictionary(dict, entry->plkey);
+        else
+            plvalue = NULL;
+
+        if (!plvalue) {
+            /* no default in the DB. Use builtin default */
+            plvalue = entry->plvalue;
+        }
+
+        if (plvalue) {
+            /* convert data */
+            (*entry->convert)(NULL, entry, plvalue, entry->addr, &tdata);
             if (entry->update) {
                 (*entry->update)(NULL, entry, tdata, entry->extra_data);
             }
-	}
+        }
     }
 }
 
 
+
 void
 wDefaultsCheckDomains(void *foo)
 {
@@ -1082,76 +1154,76 @@
     puts("Checking domains...");
 #endif
     if (stat(WDWindowMaker->path, &stbuf)>=0
-	&& WDWindowMaker->timestamp < stbuf.st_mtime) {
+        && WDWindowMaker->timestamp < stbuf.st_mtime) {
 #ifdef HEARTBEAT
-	puts("Checking WindowMaker domain");
+        puts("Checking WindowMaker domain");
 #endif
-	WDWindowMaker->timestamp = stbuf.st_mtime;	
+        WDWindowMaker->timestamp = stbuf.st_mtime;
 
-	/* global dictionary */
+        /* global dictionary */
         shared_dict = readGlobalDomain("WindowMaker", True);
-	/* user dictionary */
-	dict = WMReadPropListFromFile(WDWindowMaker->path);
-	if (dict) {
-	    if (!WMIsPLDictionary(dict)) {
-		WMReleasePropList(dict);
-		dict = NULL;
-		wwarning(_("Domain %s (%s) of defaults database is corrupted!"),
-			 "WindowMaker", WDWindowMaker->path);
-	    } else {
-		if (shared_dict) {
+        /* user dictionary */
+        dict = WMReadPropListFromFile(WDWindowMaker->path);
+        if (dict) {
+            if (!WMIsPLDictionary(dict)) {
+                WMReleasePropList(dict);
+                dict = NULL;
+                wwarning(_("Domain %s (%s) of defaults database is corrupted!"),
+                         "WindowMaker", WDWindowMaker->path);
+            } else {
+                if (shared_dict) {
                     WMMergePLDictionaries(shared_dict, dict, True);
-		    WMReleasePropList(dict);
-		    dict = shared_dict;
-		    shared_dict = NULL;
-		}
-		for (i=0; i<wScreenCount; i++) {
-		    scr = wScreenWithNumber(i);
-		    if (scr)
-			wReadDefaults(scr, dict);
-		}
-		if (WDWindowMaker->dictionary) {
-		    WMReleasePropList(WDWindowMaker->dictionary);
-		}
-		WDWindowMaker->dictionary = dict;
-	    }
-	} else {
-	    wwarning(_("could not load domain %s from user defaults database"),
-		     "WindowMaker");
-	}
-	if (shared_dict) {
-	    WMReleasePropList(shared_dict);
-	}
+                    WMReleasePropList(dict);
+                    dict = shared_dict;
+                    shared_dict = NULL;
+                }
+                for (i=0; i<wScreenCount; i++) {
+                    scr = wScreenWithNumber(i);
+                    if (scr)
+                        wReadDefaults(scr, dict);
+                }
+                if (WDWindowMaker->dictionary) {
+                    WMReleasePropList(WDWindowMaker->dictionary);
+                }
+                WDWindowMaker->dictionary = dict;
+            }
+        } else {
+            wwarning(_("could not load domain %s from user defaults database"),
+                     "WindowMaker");
+        }
+        if (shared_dict) {
+            WMReleasePropList(shared_dict);
+        }
     }
 
     if (stat(WDWindowAttributes->path, &stbuf)>=0
-	&& WDWindowAttributes->timestamp < stbuf.st_mtime) {
+        && WDWindowAttributes->timestamp < stbuf.st_mtime) {
 #ifdef HEARTBEAT
-	puts("Checking WMWindowAttributes domain");
+        puts("Checking WMWindowAttributes domain");
 #endif
-	/* global dictionary */
+        /* global dictionary */
         shared_dict = readGlobalDomain("WMWindowAttributes", True);
-	/* user dictionary */
-	dict = WMReadPropListFromFile(WDWindowAttributes->path);
-	if (dict) {
-	    if (!WMIsPLDictionary(dict)) {
-		WMReleasePropList(dict);
-		dict = NULL;
-		wwarning(_("Domain %s (%s) of defaults database is corrupted!"),
-			 "WMWindowAttributes", WDWindowAttributes->path);
-	    } else {
-		if (shared_dict) {
+        /* user dictionary */
+        dict = WMReadPropListFromFile(WDWindowAttributes->path);
+        if (dict) {
+            if (!WMIsPLDictionary(dict)) {
+                WMReleasePropList(dict);
+                dict = NULL;
+                wwarning(_("Domain %s (%s) of defaults database is corrupted!"),
+                         "WMWindowAttributes", WDWindowAttributes->path);
+            } else {
+                if (shared_dict) {
                     WMMergePLDictionaries(shared_dict, dict, True);
-		    WMReleasePropList(dict);
-		    dict = shared_dict;
-		    shared_dict = NULL;
-		}
+                    WMReleasePropList(dict);
+                    dict = shared_dict;
+                    shared_dict = NULL;
+                }
                 if (WDWindowAttributes->dictionary) {
                     WMReleasePropList(WDWindowAttributes->dictionary);
                 }
-		WDWindowAttributes->dictionary = dict;
-		for (i=0; i<wScreenCount; i++) {
-		    scr = wScreenWithNumber(i);
+                WDWindowAttributes->dictionary = dict;
+                for (i=0; i<wScreenCount; i++) {
+                    scr = wScreenWithNumber(i);
                     if (scr) {
                         RImage *image;
 
@@ -1170,16 +1242,16 @@
                             RReleaseImage(image);
                         }
                     }
-		}
-	    }
-	} else {
-	    wwarning(_("could not load domain %s from user defaults database"),
-		     "WMWindowAttributes");
-	}
-	WDWindowAttributes->timestamp = stbuf.st_mtime;
-	if (shared_dict) {
-	    WMReleasePropList(shared_dict);
-	}
+                }
+            }
+        } else {
+            wwarning(_("could not load domain %s from user defaults database"),
+                     "WMWindowAttributes");
+        }
+        WDWindowAttributes->timestamp = stbuf.st_mtime;
+        if (shared_dict) {
+            WMReleasePropList(shared_dict);
+        }
     }
 
 #ifndef LITE
@@ -1200,6 +1272,7 @@
                     WMReleasePropList(WDRootMenu->dictionary);
                 }
                 WDRootMenu->dictionary = dict;
+                wDefaultsMergeGlobalMenus(WDRootMenu);
             }
         } else {
             wwarning(_("could not load domain %s from user defaults database"),
@@ -1210,7 +1283,7 @@
 #endif /* !LITE */
 
     if (!foo)
-	WMAddTimerHandler(DEFAULTS_CHECK_INTERVAL, wDefaultsCheckDomains, foo);
+        WMAddTimerHandler(DEFAULTS_CHECK_INTERVAL, wDefaultsCheckDomains, foo);
 }
 
 
@@ -1223,133 +1296,133 @@
     int update_workspace_back = 0;	       /* kluge :/ */
     int needs_refresh;
     void *tdata;
-    WMPropList *old_dict = (WDWindowMaker->dictionary!=new_dict 
-			   ? WDWindowMaker->dictionary : NULL);
-    
+    WMPropList *old_dict = (WDWindowMaker->dictionary!=new_dict
+                            ? WDWindowMaker->dictionary : NULL);
+
     must_update = 0;
-    
+
     needs_refresh = 0;
-    
+
     for (i=0; i<sizeof(optionList)/sizeof(WDefaultEntry); i++) {
-	entry = &optionList[i];
-	
-	if (new_dict)
-	    plvalue = WMGetFromPLDictionary(new_dict, entry->plkey);
-	else
-	    plvalue = NULL;
-
-	if (!old_dict)
-	    old_value = NULL;
-	else
-	    old_value = WMGetFromPLDictionary(old_dict, entry->plkey);
-
-	
-	if (!plvalue && !old_value) {
-	    /* no default in  the DB. Use builtin default */
-	    plvalue = entry->plvalue;
-	    if (plvalue && new_dict) {
-		WMPutInPLDictionary(new_dict, entry->plkey, plvalue);
-		must_update = 1;
-	    }
-	} else if (!plvalue) {
-	    /* value was deleted from DB. Keep current value */
-	    continue;
-	} else if (!old_value) {
-	    /* set value for the 1st time */
-	} else if (!WMIsPropListEqualTo(plvalue, old_value)) {	    
-	    /* value has changed */
-	} else {
-	    
-	    if (strcmp(entry->key, "WorkspaceBack") == 0
-		&& update_workspace_back
-		&& scr->flags.backimage_helper_launched) {
-	    } else {
-		/* value was not changed since last time */
-		continue;
-	    }
-	}
-	
-	if (plvalue) {
+        entry = &optionList[i];
+
+        if (new_dict)
+            plvalue = WMGetFromPLDictionary(new_dict, entry->plkey);
+        else
+            plvalue = NULL;
+
+        if (!old_dict)
+            old_value = NULL;
+        else
+            old_value = WMGetFromPLDictionary(old_dict, entry->plkey);
+
+
+        if (!plvalue && !old_value) {
+            /* no default in  the DB. Use builtin default */
+            plvalue = entry->plvalue;
+            if (plvalue && new_dict) {
+                WMPutInPLDictionary(new_dict, entry->plkey, plvalue);
+                must_update = 1;
+            }
+        } else if (!plvalue) {
+            /* value was deleted from DB. Keep current value */
+            continue;
+        } else if (!old_value) {
+            /* set value for the 1st time */
+        } else if (!WMIsPropListEqualTo(plvalue, old_value)) {
+            /* value has changed */
+        } else {
+
+            if (strcmp(entry->key, "WorkspaceBack") == 0
+                && update_workspace_back
+                && scr->flags.backimage_helper_launched) {
+            } else {
+                /* value was not changed since last time */
+                continue;
+            }
+        }
+
+        if (plvalue) {
 #ifdef DEBUG
-	    printf("Updating %s to %s\n", entry->key, 
-		   WMGetPropListDescription(plvalue, False));
+            printf("Updating %s to %s\n", entry->key,
+                   WMGetPropListDescription(plvalue, False));
 #endif
-	    /* convert data */
-	    if ((*entry->convert)(scr, entry, plvalue, entry->addr, &tdata)) {
-		/*
-		 * If the WorkspaceSpecificBack data has been changed
-		 * so that the helper will be launched now, we must be
-		 * sure to send the default background texture config
-		 * to the helper.
-		 */
-		if (strcmp(entry->key, "WorkspaceSpecificBack") == 0
-		    && !scr->flags.backimage_helper_launched) {
-		    update_workspace_back = 1;
-		}
-		if (entry->update) {
-		    needs_refresh |= 
-			(*entry->update)(scr, entry, tdata, entry->extra_data);
-		}
-	    }
-	}
+            /* convert data */
+            if ((*entry->convert)(scr, entry, plvalue, entry->addr, &tdata)) {
+                /*
+                 * If the WorkspaceSpecificBack data has been changed
+                 * so that the helper will be launched now, we must be
+                 * sure to send the default background texture config
+                 * to the helper.
+                 */
+                if (strcmp(entry->key, "WorkspaceSpecificBack") == 0
+                    && !scr->flags.backimage_helper_launched) {
+                    update_workspace_back = 1;
+                }
+                if (entry->update) {
+                    needs_refresh |=
+                        (*entry->update)(scr, entry, tdata, entry->extra_data);
+                }
+            }
+        }
     }
 
     if (needs_refresh!=0 && !scr->flags.startup) {
-	int foo;
+        int foo;
 
-	foo = 0;
-	if (needs_refresh & REFRESH_MENU_TITLE_TEXTURE)
-	    foo |= WTextureSettings;
-	if (needs_refresh & REFRESH_MENU_TITLE_FONT)
-	    foo |= WFontSettings;
-	if (needs_refresh & REFRESH_MENU_TITLE_COLOR)
-	    foo |= WColorSettings;
+        foo = 0;
+        if (needs_refresh & REFRESH_MENU_TITLE_TEXTURE)
+            foo |= WTextureSettings;
+        if (needs_refresh & REFRESH_MENU_TITLE_FONT)
+            foo |= WFontSettings;
+        if (needs_refresh & REFRESH_MENU_TITLE_COLOR)
+            foo |= WColorSettings;
         if (foo)
-	    WMPostNotificationName(WNMenuTitleAppearanceSettingsChanged, NULL,
-				   (void*)foo);
+            WMPostNotificationName(WNMenuTitleAppearanceSettingsChanged, NULL,
+                                   (void*)foo);
 
-	foo = 0;
-	if (needs_refresh & REFRESH_MENU_TEXTURE)
-	    foo |= WTextureSettings;
-	if (needs_refresh & REFRESH_MENU_FONT)
-	    foo |= WFontSettings;
-	if (needs_refresh & REFRESH_MENU_COLOR)
-	    foo |= WColorSettings;
+        foo = 0;
+        if (needs_refresh & REFRESH_MENU_TEXTURE)
+            foo |= WTextureSettings;
+        if (needs_refresh & REFRESH_MENU_FONT)
+            foo |= WFontSettings;
+        if (needs_refresh & REFRESH_MENU_COLOR)
+            foo |= WColorSettings;
         if (foo)
-	    WMPostNotificationName(WNMenuAppearanceSettingsChanged, NULL,
-				   (void*)foo);
+            WMPostNotificationName(WNMenuAppearanceSettingsChanged, NULL,
+                                   (void*)foo);
 
-	foo = 0;
+        foo = 0;
         if (needs_refresh & REFRESH_WINDOW_FONT) {
-	    foo |= WFontSettings;
-	}
-	if (needs_refresh & REFRESH_WINDOW_TEXTURES) {
-	    foo |= WTextureSettings;
-	}
-	if (needs_refresh & REFRESH_WINDOW_TITLE_COLOR) {
-	    foo |= WColorSettings;
-	}
-	if (foo)
-	    WMPostNotificationName(WNWindowAppearanceSettingsChanged, NULL,
-				   (void*)foo);
-
-	if (!(needs_refresh & REFRESH_ICON_TILE)) {
-	    foo = 0;
-	    if (needs_refresh & REFRESH_ICON_FONT) {
-		foo |= WFontSettings;
-	    }
-	    if (needs_refresh & REFRESH_ICON_TITLE_COLOR) {
-		foo |= WTextureSettings;
-	    }
-	    if (needs_refresh & REFRESH_ICON_TITLE_BACK) {
-		foo |= WTextureSettings;
-	    }
-	    if (foo)
-		WMPostNotificationName(WNIconAppearanceSettingsChanged, NULL,
-				       (void*)foo);
-	}
+            foo |= WFontSettings;
+        }
+        if (needs_refresh & REFRESH_WINDOW_TEXTURES) {
+            foo |= WTextureSettings;
+        }
+        if (needs_refresh & REFRESH_WINDOW_TITLE_COLOR) {
+            foo |= WColorSettings;
+        }
+        if (foo)
+            WMPostNotificationName(WNWindowAppearanceSettingsChanged, NULL,
+                                   (void*)foo);
+
+        if (!(needs_refresh & REFRESH_ICON_TILE)) {
+            foo = 0;
+            if (needs_refresh & REFRESH_ICON_FONT) {
+                foo |= WFontSettings;
+            }
+            if (needs_refresh & REFRESH_ICON_TITLE_COLOR) {
+                foo |= WTextureSettings;
+            }
+            if (needs_refresh & REFRESH_ICON_TITLE_BACK) {
+                foo |= WTextureSettings;
+            }
+            if (foo)
+                WMPostNotificationName(WNIconAppearanceSettingsChanged, NULL,
+                                       (void*)foo);
+        }
         if (needs_refresh & REFRESH_ICON_TILE)
-	    WMPostNotificationName(WNIconTileSettingsChanged, NULL,  NULL);
+            WMPostNotificationName(WNIconTileSettingsChanged, NULL,  NULL);
     }
 }
 
@@ -1363,7 +1436,7 @@
 
     while(aicon) {
         file = wDefaultGetIconFile(scr, aicon->wm_instance, aicon->wm_class,
-				   False);
+                                   False);
         if ((file && aicon->icon->file && strcmp(file, aicon->icon->file)!=0)
             || (file && !aicon->icon->file)) {
             RImage *new_image;
@@ -1373,7 +1446,7 @@
             aicon->icon->file = wstrdup(file);
 
             new_image = wDefaultGetImage(scr, aicon->wm_instance,
-					 aicon->wm_class);
+                                         aicon->wm_class);
             if (new_image) {
                 wIconChangeImage(aicon->icon, new_image);
                 wAppIconPaint(aicon);
@@ -1388,7 +1461,7 @@
     while (wwin) {
         if (wwin->icon && wwin->flags.miniaturized) {
             file = wDefaultGetIconFile(scr, wwin->wm_instance, wwin->wm_class,
-					False);
+                                       False);
             if ((file && wwin->icon->file && strcmp(file, wwin->icon->file)!=0)
                 || (file && !wwin->icon->file)) {
                 RImage *new_image;
@@ -1398,7 +1471,7 @@
                 wwin->icon->file = wstrdup(file);
 
                 new_image = wDefaultGetImage(scr, wwin->wm_instance,
-					     wwin->wm_class);
+                                             wwin->wm_class);
                 if (new_image)
                     wIconChangeImage(wwin->icon, new_image);
             }
@@ -1411,44 +1484,44 @@
 /* --------------------------- Local ----------------------- */
 
 #define GET_STRING_OR_DEFAULT(x, var) if (!WMIsPLString(value)) { \
-	wwarning(_("Wrong option format for key \"%s\". Should be %s."), \
-		entry->key, x); \
-	wwarning(_("using default \"%s\" instead"), entry->default_value); \
-	var = entry->default_value;\
-	} else var = WMGetFromPLString(value)\
+    wwarning(_("Wrong option format for key \"%s\". Should be %s."), \
+    entry->key, x); \
+    wwarning(_("using default \"%s\" instead"), entry->default_value); \
+    var = entry->default_value;\
+    } else var = WMGetFromPLString(value)\
+
 
-	
 
 
 
 static int
 string2index(WMPropList *key, WMPropList *val, char *def,
-	     WOptionEnumeration *values)
+             WOptionEnumeration *values)
 {
     char *str;
     WOptionEnumeration *v;
     char buffer[TOTAL_VALUES_LENGTH];
 
     if (WMIsPLString(val) && (str = WMGetFromPLString(val))) {
-	for (v=values; v->string!=NULL; v++) {
-	    if (strcasecmp(v->string, str)==0)
-		return v->value;
-	}
+        for (v=values; v->string!=NULL; v++) {
+            if (strcasecmp(v->string, str)==0)
+                return v->value;
+        }
     }
 
     buffer[0] = 0;
     for (v=values; v->string!=NULL; v++) {
-	if (!v->is_alias) {
-	    if (buffer[0]!=0)
-		strcat(buffer, ", ");
-	    strcat(buffer, v->string);
-	}
+        if (!v->is_alias) {
+            if (buffer[0]!=0)
+                strcat(buffer, ", ");
+            strcat(buffer, v->string);
+        }
     }
     wwarning(_("wrong option value for key \"%s\". Should be one of %s"),
-	     WMGetFromPLString(key), buffer);
+             WMGetFromPLString(key), buffer);
 
     if (def) {
-	return string2index(key, val, NULL, values);
+        return string2index(key, val, NULL, values);
     }
 
     return -1;
@@ -1463,9 +1536,9 @@
  * ret - is the address to store a pointer to a temporary buffer. ret
  * 	must not be freed and is used by the set functions
  */
-static int 
+static int
 getBool(WScreen *scr, WDefaultEntry *entry, WMPropList *value, void *addr,
-	void **ret)
+        void **ret)
 {
     static char data;
     char *val;
@@ -1475,53 +1548,53 @@
 
 again:
     if ((val[1]=='\0' && (val[0]=='y' || val[0]=='Y'))
-	|| strcasecmp(val, "YES")==0) {
+        || strcasecmp(val, "YES")==0) {
 
-	data = 1;
+        data = 1;
     } else if ((val[1]=='\0' && (val[0]=='n' || val[0]=='N'))
-		|| strcasecmp(val, "NO")==0) {
-      data = 0;
+               || strcasecmp(val, "NO")==0) {
+        data = 0;
     } else {
-	int i;
-	if (sscanf(val, "%i", &i)==1) {
-	    if (i!=0)
-		data = 1;
-	    else
-		data = 0;
-	} else {
-	    wwarning(_("can't convert \"%s\" to boolean for key \"%s\""),
-		     val, entry->key);
-	    if (second_pass==0) {
-		val = WMGetFromPLString(entry->plvalue);
-		second_pass = 1;
-		wwarning(_("using default \"%s\" instead"), val);
-		goto again;
-	    }
-	    return False;
-	}
+        int i;
+        if (sscanf(val, "%i", &i)==1) {
+            if (i!=0)
+                data = 1;
+            else
+                data = 0;
+        } else {
+            wwarning(_("can't convert \"%s\" to boolean for key \"%s\""),
+                     val, entry->key);
+            if (second_pass==0) {
+                val = WMGetFromPLString(entry->plvalue);
+                second_pass = 1;
+                wwarning(_("using default \"%s\" instead"), val);
+                goto again;
+            }
+            return False;
+        }
     }
-    
+
     if (ret)
-      *ret = &data;
-    
+        *ret = &data;
+
     if (addr) {
-	*(char*)addr = data;
+        *(char*)addr = data;
     }
-    
+
     return True;
 }
 
 
-static int 
+static int
 getInt(WScreen *scr, WDefaultEntry *entry, WMPropList *value, void *addr,
        void **ret)
 {
     static int data;
     char *val;
-    
-    
+
+
     GET_STRING_OR_DEFAULT("Integer", val);
-    
+
     if (sscanf(val, "%i", &data)!=1) {
         wwarning(_("can't convert \"%s\" to integer for key \"%s\""),
                  val, entry->key);
@@ -1531,18 +1604,18 @@
             return False;
         }
     }
-    
+
     if (ret)
-      *ret = &data;
-    
+        *ret = &data;
+
     if (addr) {
-	*(int*)addr = data;
+        *(int*)addr = data;
     }
     return True;
 }
 
 
-static int 
+static int
 getCoord(WScreen *scr, WDefaultEntry *entry, WMPropList *value, void *addr,
          void **ret)
 {
@@ -1579,7 +1652,7 @@
 
     elem_x = WMGetFromPLArray(value, 0);
     elem_y = WMGetFromPLArray(value, 1);
-    
+
     if (!elem_x || !elem_y || !WMIsPLString(elem_x) || !WMIsPLString(elem_y)) {
         wwarning(_("Wrong value for key \"%s\". Should be Coordinate."),
                  entry->key);
@@ -1628,34 +1701,34 @@
 
 #if 0
 /* This function is not used at the moment. */
-static int 
-getString(WScreen *scr, WDefaultEntry *entry, WMPropList *value, void *addr, 
-	  void **ret)
+static int
+getString(WScreen *scr, WDefaultEntry *entry, WMPropList *value, void *addr,
+          void **ret)
 {
     static char *data;
-    
+
     GET_STRING_OR_DEFAULT("String", data);
-    
+
     if (!data) {
         data = WMGetFromPLString(entry->plvalue);
         if (!data)
             return False;
     }
-    
+
     if (ret)
-      *ret = &data;
-    
+        *ret = &data;
+
     if (addr)
-      *(char**)addr = wstrdup(data);
-    
+        *(char**)addr = wstrdup(data);
+
     return True;
 }
 #endif
 
 
-static int 
+static int
 getPathList(WScreen *scr, WDefaultEntry *entry, WMPropList *value, void *addr,
-	    void **ret)
+            void **ret)
 {
     static char *data;
     int i, count, len;
@@ -1665,7 +1738,7 @@
 
 again:
     if (!WMIsPLArray(value)) {
-	wwarning(_("Wrong option format for key \"%s\". Should be %s."),
+        wwarning(_("Wrong option format for key \"%s\". Should be %s."),
                  entry->key, "an array of paths");
         if (changed==0) {
             value = entry->plvalue;
@@ -1673,7 +1746,7 @@
             wwarning(_("using default \"%s\" instead"), entry->default_value);
             goto again;
         }
-	return False; 
+        return False;
     }
 
     i = 0;
@@ -1690,30 +1763,30 @@
 
     len = 0;
     for (i=0; i<count; i++) {
-	d = WMGetFromPLArray(value, i);
-	if (!d || !WMIsPLString(d)) {
-	    count = i;
-	    break;
-	}
-	len += strlen(WMGetFromPLString(d))+1;
+        d = WMGetFromPLArray(value, i);
+        if (!d || !WMIsPLString(d)) {
+            count = i;
+            break;
+        }
+        len += strlen(WMGetFromPLString(d))+1;
     }
 
     ptr = data = wmalloc(len+1);
 
     for (i=0; i<count; i++) {
-	d = WMGetFromPLArray(value, i);
-	if (!d || !WMIsPLString(d)) {
-	    break;
-	}
-	strcpy(ptr, WMGetFromPLString(d));
-	ptr += strlen(WMGetFromPLString(d));
-	*ptr = ':';
-	ptr++;
+        d = WMGetFromPLArray(value, i);
+        if (!d || !WMIsPLString(d)) {
+            break;
+        }
+        strcpy(ptr, WMGetFromPLString(d));
+        ptr += strlen(WMGetFromPLString(d));
+        *ptr = ':';
+        ptr++;
     }
     ptr--; *(ptr--) = 0;
 
     if (*(char**)addr!=NULL) {
-	wfree(*(char**)addr);
+        wfree(*(char**)addr);
     }
     *(char**)addr = data;
 
@@ -1721,24 +1794,24 @@
 }
 
 
-static int 
-getEnum(WScreen *scr, WDefaultEntry *entry, WMPropList *value, void *addr, 
-	void **ret)
+static int
+getEnum(WScreen *scr, WDefaultEntry *entry, WMPropList *value, void *addr,
+        void **ret)
 {
     static signed char data;
 
     data = string2index(entry->plkey, value, entry->default_value,
-			(WOptionEnumeration*)entry->extra_data);
+                        (WOptionEnumeration*)entry->extra_data);
     if (data < 0)
-	return False;
+        return False;
 
     if (ret)
-      *ret = &data;
+        *ret = &data;
 
     if (addr)
-      *(signed char*)addr = data;
-    
-    return True;    
+        *(signed char*)addr = data;
+
+    return True;
 }
 
 
@@ -1768,384 +1841,384 @@
     char *val;
     int nelem;
     WTexture *texture=NULL;
-    
+
     nelem = WMGetPropListItemCount(pl);
     if (nelem < 1)
-      return NULL;
-    
-    
+        return NULL;
+
+
     elem = WMGetFromPLArray(pl, 0);
     if (!elem || !WMIsPLString(elem))
-      return NULL;
+        return NULL;
     val = WMGetFromPLString(elem);
 
-    
+
     if (strcasecmp(val, "solid")==0) {
-	XColor color;
+        XColor color;
 
-	if (nelem != 2)
-	    return NULL;
+        if (nelem != 2)
+            return NULL;
 
-	/* get color */
-	
-	elem = WMGetFromPLArray(pl, 1);
-	if (!elem || !WMIsPLString(elem)) 
-	  return NULL;
-	val = WMGetFromPLString(elem);
-
-	if (!XParseColor(dpy, scr->w_colormap, val, &color)) {
-	    wwarning(_("\"%s\" is not a valid color name"), val);
-	    return NULL;
-	}
-	
-	texture = (WTexture*)wTextureMakeSolid(scr, &color);
+        /* get color */
+
+        elem = WMGetFromPLArray(pl, 1);
+        if (!elem || !WMIsPLString(elem))
+            return NULL;
+        val = WMGetFromPLString(elem);
+
+        if (!XParseColor(dpy, scr->w_colormap, val, &color)) {
+            wwarning(_("\"%s\" is not a valid color name"), val);
+            return NULL;
+        }
+
+        texture = (WTexture*)wTextureMakeSolid(scr, &color);
     } else if (strcasecmp(val, "dgradient")==0
-	       || strcasecmp(val, "vgradient")==0
-	       || strcasecmp(val, "hgradient")==0) {
-	RColor color1, color2;
-	XColor xcolor;
-	int type;
-
-	if (nelem != 3) {
-	    wwarning(_("bad number of arguments in gradient specification"));
-	    return NULL;
-	}
-
-	if (val[0]=='d' || val[0]=='D')
-	  type = WTEX_DGRADIENT;
-	else if (val[0]=='h' || val[0]=='H')
-	  type = WTEX_HGRADIENT;
-	else
-	  type = WTEX_VGRADIENT;
-
-	
-	/* get from color */
-	elem = WMGetFromPLArray(pl, 1);
-	if (!elem || !WMIsPLString(elem)) 
-	  return NULL;
-	val = WMGetFromPLString(elem);
-
-	if (!XParseColor(dpy, scr->w_colormap, val, &xcolor)) {
-	    wwarning(_("\"%s\" is not a valid color name"), val);
-	    return NULL;
-	}
-	color1.alpha = 255;
-	color1.red = xcolor.red >> 8;
-	color1.green = xcolor.green >> 8;
-	color1.blue = xcolor.blue >> 8;
-	
-	/* get to color */
-	elem = WMGetFromPLArray(pl, 2);
-	if (!elem || !WMIsPLString(elem)) {
-	    return NULL;
-	}
-	val = WMGetFromPLString(elem);
-
-	if (!XParseColor(dpy, scr->w_colormap, val, &xcolor)) {
-	    wwarning(_("\"%s\" is not a valid color name"), val);
-	    return NULL;
-	}
-	color2.alpha = 255;
-	color2.red = xcolor.red >> 8;
-	color2.green = xcolor.green >> 8;
-	color2.blue = xcolor.blue >> 8;
+               || strcasecmp(val, "vgradient")==0
+               || strcasecmp(val, "hgradient")==0) {
+        RColor color1, color2;
+        XColor xcolor;
+        int type;
+
+        if (nelem != 3) {
+            wwarning(_("bad number of arguments in gradient specification"));
+            return NULL;
+        }
 
-	texture = (WTexture*)wTextureMakeGradient(scr, type, &color1, &color2);
+        if (val[0]=='d' || val[0]=='D')
+            type = WTEX_DGRADIENT;
+        else if (val[0]=='h' || val[0]=='H')
+            type = WTEX_HGRADIENT;
+        else
+            type = WTEX_VGRADIENT;
+
+
+        /* get from color */
+        elem = WMGetFromPLArray(pl, 1);
+        if (!elem || !WMIsPLString(elem))
+            return NULL;
+        val = WMGetFromPLString(elem);
+
+        if (!XParseColor(dpy, scr->w_colormap, val, &xcolor)) {
+            wwarning(_("\"%s\" is not a valid color name"), val);
+            return NULL;
+        }
+        color1.alpha = 255;
+        color1.red = xcolor.red >> 8;
+        color1.green = xcolor.green >> 8;
+        color1.blue = xcolor.blue >> 8;
+
+        /* get to color */
+        elem = WMGetFromPLArray(pl, 2);
+        if (!elem || !WMIsPLString(elem)) {
+            return NULL;
+        }
+        val = WMGetFromPLString(elem);
+
+        if (!XParseColor(dpy, scr->w_colormap, val, &xcolor)) {
+            wwarning(_("\"%s\" is not a valid color name"), val);
+            return NULL;
+        }
+        color2.alpha = 255;
+        color2.red = xcolor.red >> 8;
+        color2.green = xcolor.green >> 8;
+        color2.blue = xcolor.blue >> 8;
+
+        texture = (WTexture*)wTextureMakeGradient(scr, type, &color1, &color2);
 
     } else if (strcasecmp(val, "igradient")==0) {
-	RColor colors1[2], colors2[2];
-	int th1, th2;
-	XColor xcolor;
+        RColor colors1[2], colors2[2];
+        int th1, th2;
+        XColor xcolor;
         int i;
 
-	if (nelem != 7) {
-	    wwarning(_("bad number of arguments in gradient specification"));
-	    return NULL;
-	}
-
-	/* get from color */
-	for (i = 0; i < 2; i++) {
-	    elem = WMGetFromPLArray(pl, 1+i);
-	    if (!elem || !WMIsPLString(elem))
-		return NULL;
-	    val = WMGetFromPLString(elem);
-
-	    if (!XParseColor(dpy, scr->w_colormap, val, &xcolor)) {
-		wwarning(_("\"%s\" is not a valid color name"), val);
-		return NULL;
-	    }
-	    colors1[i].alpha = 255;
-	    colors1[i].red = xcolor.red >> 8;
-	    colors1[i].green = xcolor.green >> 8;
-	    colors1[i].blue = xcolor.blue >> 8;
-	}
-	elem = WMGetFromPLArray(pl, 3);
-	if (!elem || !WMIsPLString(elem))
-	    return NULL;
-	val = WMGetFromPLString(elem);
-	th1 = atoi(val);
-
-
-	/* get from color */
-	for (i = 0; i < 2; i++) {
-	    elem = WMGetFromPLArray(pl, 4+i);
-	    if (!elem || !WMIsPLString(elem))
-		return NULL;
-	    val = WMGetFromPLString(elem);
-
-	    if (!XParseColor(dpy, scr->w_colormap, val, &xcolor)) {
-		wwarning(_("\"%s\" is not a valid color name"), val);
-		return NULL;
-	    }
-	    colors2[i].alpha = 255;
-	    colors2[i].red = xcolor.red >> 8;
-	    colors2[i].green = xcolor.green >> 8;
-	    colors2[i].blue = xcolor.blue >> 8;
-	}
-	elem = WMGetFromPLArray(pl, 6);
-	if (!elem || !WMIsPLString(elem))
-	    return NULL;
-	val = WMGetFromPLString(elem);
-	th2 = atoi(val);
+        if (nelem != 7) {
+            wwarning(_("bad number of arguments in gradient specification"));
+            return NULL;
+        }
+
+        /* get from color */
+        for (i = 0; i < 2; i++) {
+            elem = WMGetFromPLArray(pl, 1+i);
+            if (!elem || !WMIsPLString(elem))
+                return NULL;
+            val = WMGetFromPLString(elem);
+
+            if (!XParseColor(dpy, scr->w_colormap, val, &xcolor)) {
+                wwarning(_("\"%s\" is not a valid color name"), val);
+                return NULL;
+            }
+            colors1[i].alpha = 255;
+            colors1[i].red = xcolor.red >> 8;
+            colors1[i].green = xcolor.green >> 8;
+            colors1[i].blue = xcolor.blue >> 8;
+        }
+        elem = WMGetFromPLArray(pl, 3);
+        if (!elem || !WMIsPLString(elem))
+            return NULL;
+        val = WMGetFromPLString(elem);
+        th1 = atoi(val);
+
+
+        /* get from color */
+        for (i = 0; i < 2; i++) {
+            elem = WMGetFromPLArray(pl, 4+i);
+            if (!elem || !WMIsPLString(elem))
+                return NULL;
+            val = WMGetFromPLString(elem);
+
+            if (!XParseColor(dpy, scr->w_colormap, val, &xcolor)) {
+                wwarning(_("\"%s\" is not a valid color name"), val);
+                return NULL;
+            }
+            colors2[i].alpha = 255;
+            colors2[i].red = xcolor.red >> 8;
+            colors2[i].green = xcolor.green >> 8;
+            colors2[i].blue = xcolor.blue >> 8;
+        }
+        elem = WMGetFromPLArray(pl, 6);
+        if (!elem || !WMIsPLString(elem))
+            return NULL;
+        val = WMGetFromPLString(elem);
+        th2 = atoi(val);
 
-	texture = (WTexture*)wTextureMakeIGradient(scr, th1, colors1,
-						   th2, colors2);
+        texture = (WTexture*)wTextureMakeIGradient(scr, th1, colors1,
+                                                   th2, colors2);
 
     } else if (strcasecmp(val, "mhgradient")==0
-	       || strcasecmp(val, "mvgradient")==0
-	       || strcasecmp(val, "mdgradient")==0) {
-	XColor color;
-	RColor **colors;
-	int i, count;
-	int type;
-
-	if (nelem < 3) {
-	    wwarning(_("too few arguments in multicolor gradient specification"));
-	    return NULL;
-	}
-
-	if (val[1]=='h' || val[1]=='H')
-	    type = WTEX_MHGRADIENT;
-	else if (val[1]=='v' || val[1]=='V')
-	    type = WTEX_MVGRADIENT;
-	else
-	    type = WTEX_MDGRADIENT;
-
-	count = nelem-1;
-
-	colors = wmalloc(sizeof(RColor*)*(count+1));
-
-	for (i=0; i<count; i++) {
-	    elem = WMGetFromPLArray(pl, i+1);
-	    if (!elem || !WMIsPLString(elem)) {
-		for (--i; i>=0; --i) {
-		    wfree(colors[i]);
-		}
-		wfree(colors);
-		return NULL;
-	    }
-	    val = WMGetFromPLString(elem);
-
-	    if (!XParseColor(dpy, scr->w_colormap, val, &color)) {
-		wwarning(_("\"%s\" is not a valid color name"), val);
-		for (--i; i>=0; --i) {
-		    wfree(colors[i]);
-		}
-		wfree(colors);
-		return NULL;
-	    } else {
-		colors[i] = wmalloc(sizeof(RColor));
-		colors[i]->red = color.red >> 8;
-		colors[i]->green = color.green >> 8;
-		colors[i]->blue = color.blue >> 8;
-	    }
-	}
-	colors[i] = NULL;
-	
-	texture = (WTexture*)wTextureMakeMGradient(scr, type, colors);
+               || strcasecmp(val, "mvgradient")==0
+               || strcasecmp(val, "mdgradient")==0) {
+        XColor color;
+        RColor **colors;
+        int i, count;
+        int type;
+
+        if (nelem < 3) {
+            wwarning(_("too few arguments in multicolor gradient specification"));
+            return NULL;
+        }
+
+        if (val[1]=='h' || val[1]=='H')
+            type = WTEX_MHGRADIENT;
+        else if (val[1]=='v' || val[1]=='V')
+            type = WTEX_MVGRADIENT;
+        else
+            type = WTEX_MDGRADIENT;
+
+        count = nelem-1;
+
+        colors = wmalloc(sizeof(RColor*)*(count+1));
+
+        for (i=0; i<count; i++) {
+            elem = WMGetFromPLArray(pl, i+1);
+            if (!elem || !WMIsPLString(elem)) {
+                for (--i; i>=0; --i) {
+                    wfree(colors[i]);
+                }
+                wfree(colors);
+                return NULL;
+            }
+            val = WMGetFromPLString(elem);
+
+            if (!XParseColor(dpy, scr->w_colormap, val, &color)) {
+                wwarning(_("\"%s\" is not a valid color name"), val);
+                for (--i; i>=0; --i) {
+                    wfree(colors[i]);
+                }
+                wfree(colors);
+                return NULL;
+            } else {
+                colors[i] = wmalloc(sizeof(RColor));
+                colors[i]->red = color.red >> 8;
+                colors[i]->green = color.green >> 8;
+                colors[i]->blue = color.blue >> 8;
+            }
+        }
+        colors[i] = NULL;
+
+        texture = (WTexture*)wTextureMakeMGradient(scr, type, colors);
     } else if (strcasecmp(val, "spixmap")==0 ||
-	       strcasecmp(val, "cpixmap")==0 ||
+               strcasecmp(val, "cpixmap")==0 ||
                strcasecmp(val, "tpixmap")==0) {
-	XColor color;
+        XColor color;
         int type;
 
-	if (nelem != 3) 
-	    return NULL;
+        if (nelem != 3)
+            return NULL;
 
         if (val[0] == 's' || val[0] == 'S')
             type = WTP_SCALE;
         else if (val[0] == 'c' || val[0] == 'C')
-	    type = WTP_CENTER;
-	else
+            type = WTP_CENTER;
+        else
             type = WTP_TILE;
 
-	/* get color */
-	elem = WMGetFromPLArray(pl, 2);
-	if (!elem || !WMIsPLString(elem)) {
-	    return NULL;
-	}
-	val = WMGetFromPLString(elem);
-
-	if (!XParseColor(dpy, scr->w_colormap, val, &color)) {
-	    wwarning(_("\"%s\" is not a valid color name"), val);
-	    return NULL;
-	}
-	
-	/* file name */
-	elem = WMGetFromPLArray(pl, 1);
-	if (!elem || !WMIsPLString(elem)) 
-	  return NULL;
-	val = WMGetFromPLString(elem);
+        /* get color */
+        elem = WMGetFromPLArray(pl, 2);
+        if (!elem || !WMIsPLString(elem)) {
+            return NULL;
+        }
+        val = WMGetFromPLString(elem);
 
-	texture = (WTexture*)wTextureMakePixmap(scr, type, val, &color);
+        if (!XParseColor(dpy, scr->w_colormap, val, &color)) {
+            wwarning(_("\"%s\" is not a valid color name"), val);
+            return NULL;
+        }
+
+        /* file name */
+        elem = WMGetFromPLArray(pl, 1);
+        if (!elem || !WMIsPLString(elem))
+            return NULL;
+        val = WMGetFromPLString(elem);
+
+        texture = (WTexture*)wTextureMakePixmap(scr, type, val, &color);
     } else if (strcasecmp(val, "thgradient")==0
-	       || strcasecmp(val, "tvgradient")==0
-	       || strcasecmp(val, "tdgradient")==0) {
-	RColor color1, color2;
-	XColor xcolor;
-	int opacity;
-	int style;
-
-	if (val[1]=='h' || val[1]=='H')
-	    style = WTEX_THGRADIENT;
-	else if (val[1]=='v' || val[1]=='V')
-	    style = WTEX_TVGRADIENT;
-	else
-	    style = WTEX_TDGRADIENT;
-
-	if (nelem != 5) {
-	    wwarning(_("bad number of arguments in textured gradient specification"));
-	    return NULL;
-	}
-	
-	/* get from color */
-	elem = WMGetFromPLArray(pl, 3);
-	if (!elem || !WMIsPLString(elem)) 
-	  return NULL;
-	val = WMGetFromPLString(elem);
-
-	if (!XParseColor(dpy, scr->w_colormap, val, &xcolor)) {
-	    wwarning(_("\"%s\" is not a valid color name"), val);
-	    return NULL;
-	}
-	color1.alpha = 255;
-	color1.red = xcolor.red >> 8;
-	color1.green = xcolor.green >> 8;
-	color1.blue = xcolor.blue >> 8;
-
-	/* get to color */
-	elem = WMGetFromPLArray(pl, 4);
-	if (!elem || !WMIsPLString(elem)) {
-	    return NULL;
-	}
-	val = WMGetFromPLString(elem);
-
-	if (!XParseColor(dpy, scr->w_colormap, val, &xcolor)) {
-	    wwarning(_("\"%s\" is not a valid color name"), val);
-	    return NULL;
-	}
-	color2.alpha = 255;
-	color2.red = xcolor.red >> 8;
-	color2.green = xcolor.green >> 8;
-	color2.blue = xcolor.blue >> 8;
-
-	/* get opacity */
-	elem = WMGetFromPLArray(pl, 2);
-	if (!elem || !WMIsPLString(elem))
-	    opacity = 128;
-	else
-	    val = WMGetFromPLString(elem);
-	
-	if (!val || (opacity = atoi(val)) < 0 || opacity > 255) {
-	    wwarning(_("bad opacity value for tgradient texture \"%s\". Should be [0..255]"), val);
-	    opacity = 128;
-	}
-
-	/* get file name */
-	elem = WMGetFromPLArray(pl, 1);
-	if (!elem || !WMIsPLString(elem))
-	  return NULL;
-	val = WMGetFromPLString(elem);
+               || strcasecmp(val, "tvgradient")==0
+               || strcasecmp(val, "tdgradient")==0) {
+        RColor color1, color2;
+        XColor xcolor;
+        int opacity;
+        int style;
+
+        if (val[1]=='h' || val[1]=='H')
+            style = WTEX_THGRADIENT;
+        else if (val[1]=='v' || val[1]=='V')
+            style = WTEX_TVGRADIENT;
+        else
+            style = WTEX_TDGRADIENT;
+
+        if (nelem != 5) {
+            wwarning(_("bad number of arguments in textured gradient specification"));
+            return NULL;
+        }
 
-	texture = (WTexture*)wTextureMakeTGradient(scr, style, &color1, &color2,
-						   val, opacity);
+        /* get from color */
+        elem = WMGetFromPLArray(pl, 3);
+        if (!elem || !WMIsPLString(elem))
+            return NULL;
+        val = WMGetFromPLString(elem);
+
+        if (!XParseColor(dpy, scr->w_colormap, val, &xcolor)) {
+            wwarning(_("\"%s\" is not a valid color name"), val);
+            return NULL;
+        }
+        color1.alpha = 255;
+        color1.red = xcolor.red >> 8;
+        color1.green = xcolor.green >> 8;
+        color1.blue = xcolor.blue >> 8;
+
+        /* get to color */
+        elem = WMGetFromPLArray(pl, 4);
+        if (!elem || !WMIsPLString(elem)) {
+            return NULL;
+        }
+        val = WMGetFromPLString(elem);
+
+        if (!XParseColor(dpy, scr->w_colormap, val, &xcolor)) {
+            wwarning(_("\"%s\" is not a valid color name"), val);
+            return NULL;
+        }
+        color2.alpha = 255;
+        color2.red = xcolor.red >> 8;
+        color2.green = xcolor.green >> 8;
+        color2.blue = xcolor.blue >> 8;
+
+        /* get opacity */
+        elem = WMGetFromPLArray(pl, 2);
+        if (!elem || !WMIsPLString(elem))
+            opacity = 128;
+        else
+            val = WMGetFromPLString(elem);
+
+        if (!val || (opacity = atoi(val)) < 0 || opacity > 255) {
+            wwarning(_("bad opacity value for tgradient texture \"%s\". Should be [0..255]"), val);
+            opacity = 128;
+        }
+
+        /* get file name */
+        elem = WMGetFromPLArray(pl, 1);
+        if (!elem || !WMIsPLString(elem))
+            return NULL;
+        val = WMGetFromPLString(elem);
+
+        texture = (WTexture*)wTextureMakeTGradient(scr, style, &color1, &color2,
+                                                   val, opacity);
     }
 #ifdef TEXTURE_PLUGIN
     else if (strcasecmp(val, "function")==0) {
-	WTexFunction *function;
-	void (*initFunc) (Display *, Colormap);
-	char *lib, *func, **argv;
-	int i, argc;
+        WTexFunction *function;
+        void (*initFunc) (Display *, Colormap);
+        char *lib, *func, **argv;
+        int i, argc;
 
         if (nelem < 3)
-	    return NULL;
+            return NULL;
 
-	/* get the library name */
-	elem = WMGetFromPLArray(pl, 1);
-	if (!elem || !WMIsPLString(elem)) {
-	    return NULL;
-	}
-	lib = WMGetFromPLString(elem);
-
-	/* get the function name */
-	elem = WMGetFromPLArray(pl, 2);
-	if (!elem || !WMIsPLString(elem)) {
-	    return NULL;
-	}
-	func = WMGetFromPLString(elem);
-
-	argc = nelem - 2;
-	argv = (char **)wmalloc(argc * sizeof(char *));
-
-	/* get the parameters */
-	argv[0] = wstrdup(func);
-	for (i = 0; i < argc - 1; i++) {
-	    elem = WMGetFromPLArray(pl, 3 + i);
-	    if (!elem || !WMIsPLString(elem)) {
-		wfree(argv);
-
-		return NULL;
-	    }
-	    argv[i+1] = wstrdup(WMGetFromPLString(elem));
-	}
+        /* get the library name */
+        elem = WMGetFromPLArray(pl, 1);
+        if (!elem || !WMIsPLString(elem)) {
+            return NULL;
+        }
+        lib = WMGetFromPLString(elem);
+
+        /* get the function name */
+        elem = WMGetFromPLArray(pl, 2);
+        if (!elem || !WMIsPLString(elem)) {
+            return NULL;
+        }
+        func = WMGetFromPLString(elem);
+
+        argc = nelem - 2;
+        argv = (char **)wmalloc(argc * sizeof(char *));
 
-	function = wTextureMakeFunction(scr, lib, func, argc, argv);
+        /* get the parameters */
+        argv[0] = wstrdup(func);
+        for (i = 0; i < argc - 1; i++) {
+            elem = WMGetFromPLArray(pl, 3 + i);
+            if (!elem || !WMIsPLString(elem)) {
+                wfree(argv);
+
+                return NULL;
+            }
+            argv[i+1] = wstrdup(WMGetFromPLString(elem));
+        }
+
+        function = wTextureMakeFunction(scr, lib, func, argc, argv);
 
 #ifdef HAVE_DLFCN_H
-	if (function) {
-	    initFunc = dlsym(function->handle, "initWindowMaker");
-	    if (initFunc) {
-		initFunc(dpy, scr->w_colormap);
-	    } else {
-		wwarning(_("could not initialize library %s"), lib);
-	    }
-	} else {
-	    wwarning(_("could not find function %s::%s"), lib, func);
-	}
+        if (function) {
+            initFunc = dlsym(function->handle, "initWindowMaker");
+            if (initFunc) {
+                initFunc(dpy, scr->w_colormap);
+            } else {
+                wwarning(_("could not initialize library %s"), lib);
+            }
+        } else {
+            wwarning(_("could not find function %s::%s"), lib, func);
+        }
 #endif /* HAVE_DLFCN_H */
-	texture = (WTexture*)function;
+        texture = (WTexture*)function;
     }
 #endif /* TEXTURE_PLUGIN */
     else {
-	wwarning(_("invalid texture type %s"), val);
-	return NULL;
+        wwarning(_("invalid texture type %s"), val);
+        return NULL;
     }
     return texture;
 }
 
 
 
-static int 
+static int
 getTexture(WScreen *scr, WDefaultEntry *entry, WMPropList *value, void *addr,
-	   void **ret)
+           void **ret)
 {
     static WTexture *texture;
     int changed=0;
 
 again:
-    if (!WMIsPLArray(value)) { 
-	wwarning(_("Wrong option format for key \"%s\". Should be %s."),
-		 entry->key, "Texture");
+    if (!WMIsPLArray(value)) {
+        wwarning(_("Wrong option format for key \"%s\". Should be %s."),
+                 entry->key, "Texture");
         if (changed==0) {
             value = entry->plvalue;
             changed = 1;
@@ -2154,28 +2227,28 @@
         }
         return False;
     }
-    
+
     if (strcmp(entry->key, "WidgetColor")==0 && !changed) {
-	WMPropList *pl;
-	
-	pl = WMGetFromPLArray(value, 0);
-	if (!pl || !WMIsPLString(pl) || !WMGetFromPLString(pl)
-	    || strcasecmp(WMGetFromPLString(pl), "solid")!=0) {
-	    wwarning(_("Wrong option format for key \"%s\". Should be %s."),
-		     entry->key, "Solid Texture");
-
-	    value = entry->plvalue;
-	    changed = 1;
-	    wwarning(_("using default \"%s\" instead"), entry->default_value);
-	    goto again;
-	}
+        WMPropList *pl;
+
+        pl = WMGetFromPLArray(value, 0);
+        if (!pl || !WMIsPLString(pl) || !WMGetFromPLString(pl)
+            || strcasecmp(WMGetFromPLString(pl), "solid")!=0) {
+            wwarning(_("Wrong option format for key \"%s\". Should be %s."),
+                     entry->key, "Solid Texture");
+
+            value = entry->plvalue;
+            changed = 1;
+            wwarning(_("using default \"%s\" instead"), entry->default_value);
+            goto again;
+        }
     }
 
     texture = parse_texture(scr, value);
 
     if (!texture) {
-	wwarning(_("Error in texture specification for key \"%s\""),
-		 entry->key);
+        wwarning(_("Error in texture specification for key \"%s\""),
+                 entry->key);
         if (changed==0) {
             value = entry->plvalue;
             changed = 1;
@@ -2184,20 +2257,20 @@
         }
         return False;
     }
-    
-    if (ret) 
-      *ret = &texture;
+
+    if (ret)
+        *ret = &texture;
 
     if (addr)
-      *(WTexture**)addr = texture;
-    
+        *(WTexture**)addr = texture;
+
     return True;
 }
 
 
 static int
 getWSBackground(WScreen *scr, WDefaultEntry *entry, WMPropList *value,
-		void *addr, void **ret)
+                void *addr, void **ret)
 {
     WMPropList *elem;
     int changed = 0;
@@ -2206,7 +2279,7 @@
 
 again:
     if (!WMIsPLArray(value)) {
-	wwarning(_("Wrong option format for key \"%s\". Should be %s."),
+        wwarning(_("Wrong option format for key \"%s\". Should be %s."),
                  "WorkspaceBack", "Texture or None");
         if (changed==0) {
             value = entry->plvalue;
@@ -2221,21 +2294,21 @@
 
     nelem = WMGetPropListItemCount(value);
     if (nelem > 0) {
-	elem = WMGetFromPLArray(value, 0);
-	if (!elem || !WMIsPLString(elem)) {
-	    wwarning(_("Wrong type for workspace background. Should be a texture type."));
-	    if (changed==0) {
-		value = entry->plvalue;
-		changed = 1;
-		wwarning(_("using default \"%s\" instead"), entry->default_value);
-		goto again;
-	    }
-	    return False;
-	}
-	val = WMGetFromPLString(elem);
+        elem = WMGetFromPLArray(value, 0);
+        if (!elem || !WMIsPLString(elem)) {
+            wwarning(_("Wrong type for workspace background. Should be a texture type."));
+            if (changed==0) {
+                value = entry->plvalue;
+                changed = 1;
+                wwarning(_("using default \"%s\" instead"), entry->default_value);
+                goto again;
+            }
+            return False;
+        }
+        val = WMGetFromPLString(elem);
 
-	if (strcasecmp(val, "None")==0)
-	    return True;
+        if (strcasecmp(val, "None")==0)
+            return True;
     }
     *ret = WMRetainPropList(value);
 
@@ -2245,7 +2318,7 @@
 
 static int
 getWSSpecificBackground(WScreen *scr, WDefaultEntry *entry, WMPropList *value,
-			void *addr, void **ret)
+                        void *addr, void **ret)
 {
     WMPropList *elem;
     int nelem;
@@ -2253,7 +2326,7 @@
 
 again:
     if (!WMIsPLArray(value)) {
-	wwarning(_("Wrong option format for key \"%s\". Should be %s."),
+        wwarning(_("Wrong option format for key \"%s\". Should be %s."),
                  "WorkspaceSpecificBack", "an array of textures");
         if (changed==0) {
             value = entry->plvalue;
@@ -2268,19 +2341,19 @@
 
     nelem = WMGetPropListItemCount(value);
     if (nelem > 0) {
-	while (nelem--) {
-	    elem = WMGetFromPLArray(value, nelem);
-	    if (!elem || !WMIsPLArray(elem)) {
-		wwarning(_("Wrong type for background of workspace %i. Should be a texture."),
-			 nelem);
-	    }
-	}
+        while (nelem--) {
+            elem = WMGetFromPLArray(value, nelem);
+            if (!elem || !WMIsPLArray(elem)) {
+                wwarning(_("Wrong type for background of workspace %i. Should be a texture."),
+                         nelem);
+            }
+        }
     }
 
     *ret = WMRetainPropList(value);
 
 #ifdef notworking
-    /* 
+    /*
      * Kluge to force wmsetbg helper to set the default background.
      * If the WorkspaceSpecificBack is changed once wmaker has started,
      * the WorkspaceBack won't be sent to the helper, unless the user
@@ -2288,20 +2361,20 @@
      * value from the defaults DB.
      */
     if (!scr->flags.backimage_helper_launched && !scr->flags.startup) {
-	WMPropList *key = WMCreatePLString("WorkspaceBack");
+        WMPropList *key = WMCreatePLString("WorkspaceBack");
 
-	WMRemoveFromPLDictionary(WDWindowMaker->dictionary, key);
+        WMRemoveFromPLDictionary(WDWindowMaker->dictionary, key);
 
-	WMReleasePropList(key);
+        WMReleasePropList(key);
     }
 #endif
     return True;
 }
 
 
-static int 
-getFont(WScreen *scr, WDefaultEntry *entry, WMPropList *value, void *addr, 
-	void **ret)
+static int
+getFont(WScreen *scr, WDefaultEntry *entry, WMPropList *value, void *addr,
+        void **ret)
 {
     static WMFont *font;
     char *val;
@@ -2310,33 +2383,33 @@
 
     font = WMCreateFont(scr->wmscreen, val);
     if (!font)
-	font = WMCreateFont(scr->wmscreen, "fixed");
+        font = WMCreateFont(scr->wmscreen, "fixed");
 
     if (!font) {
-	wfatal(_("could not load any usable font!!!"));
-	exit(1);
+        wfatal(_("could not load any usable font!!!"));
+        exit(1);
     }
 
     if (ret)
-      *ret = font;
+        *ret = font;
 
     /* can't assign font value outside update function */
     wassertrv(addr == NULL, True);
-    
+
     return True;
 }
 
 
-static int 
-getColor(WScreen *scr, WDefaultEntry *entry, WMPropList *value, void *addr, 
-	 void **ret)
+static int
+getColor(WScreen *scr, WDefaultEntry *entry, WMPropList *value, void *addr,
+         void **ret)
 {
     static XColor color;
     char *val;
     int second_pass=0;
 
     GET_STRING_OR_DEFAULT("Color", val);
-    
+
 
 again:
     if (!wGetColor(scr, val, &color)) {
@@ -2352,22 +2425,22 @@
     }
 
     if (ret)
-      *ret = &color;
-    
+        *ret = &color;
+
     assert(addr==NULL);
     /*
-    if (addr)
-      *(unsigned long*)addr = pixel;
+     if (addr)
+     *(unsigned long*)addr = pixel;
      */
-    
+
     return True;
 }
 
 
 
 static int
-getKeybind(WScreen *scr, WDefaultEntry *entry, WMPropList *value, void *addr, 
-	 void **ret)
+getKeybind(WScreen *scr, WDefaultEntry *entry, WMPropList *value, void *addr,
+           void **ret)
 {
     static WShortKey shortcut;
     KeySym ksym;
@@ -2379,58 +2452,58 @@
     GET_STRING_OR_DEFAULT("Key spec", val);
 
     if (!val || strcasecmp(val, "NONE")==0) {
-	shortcut.keycode = 0;
-	shortcut.modifier = 0;
-	if (ret)
-	    *ret = &shortcut;
-	return True;
+        shortcut.keycode = 0;
+        shortcut.modifier = 0;
+        if (ret)
+            *ret = &shortcut;
+        return True;
     }
 
     strcpy(buf, val);
-    
+
     b = (char*)buf;
 
     /* get modifiers */
     shortcut.modifier = 0;
     while ((k = strchr(b, '+'))!=NULL) {
-	int mod;
-	
-	*k = 0;
-	mod = wXModifierFromKey(b);
-	if (mod<0) {
-	    wwarning(_("%s:invalid key modifier \"%s\""), entry->key, b);
-	    return False;
-	}
-	shortcut.modifier |= mod;
-	
-	b = k+1;
+        int mod;
+
+        *k = 0;
+        mod = wXModifierFromKey(b);
+        if (mod<0) {
+            wwarning(_("%s:invalid key modifier \"%s\""), entry->key, b);
+            return False;
+        }
+        shortcut.modifier |= mod;
+
+        b = k+1;
     }
-    
+
     /* get key */
     ksym = XStringToKeysym(b);
-    
+
     if (ksym==NoSymbol) {
-	wwarning(_("%s:invalid kbd shortcut specification \"%s\""), entry->key,
-		 val);
-	return False;
+        wwarning(_("%s:invalid kbd shortcut specification \"%s\""), entry->key,
+                 val);
+        return False;
     }
-    
+
     shortcut.keycode = XKeysymToKeycode(dpy, ksym);
     if (shortcut.keycode==0) {
-	wwarning(_("%s:invalid key in shortcut \"%s\""), entry->key, val);
-	return False;
+        wwarning(_("%s:invalid key in shortcut \"%s\""), entry->key, val);
+        return False;
     }
 
     if (ret)
-      *ret = &shortcut;
+        *ret = &shortcut;
 
     return True;
 }
 
 
 static int
-getModMask(WScreen *scr, WDefaultEntry *entry, WMPropList *value, void *addr, 
-	   void **ret)
+getModMask(WScreen *scr, WDefaultEntry *entry, WMPropList *value, void *addr,
+           void **ret)
 {
     static unsigned int mask;
     char *str;
@@ -2438,20 +2511,20 @@
     GET_STRING_OR_DEFAULT("Modifier Key", str);
 
     if (!str)
-	return False;
+        return False;
 
     mask = wXModifierFromKey(str);
     if (mask < 0) {
-	wwarning(_("%s: modifier key %s is not valid"), entry->key, str);
-	mask = 0;
-	return False;
+        wwarning(_("%s: modifier key %s is not valid"), entry->key, str);
+        mask = 0;
+        return False;
     }
 
     if (addr)
-	*(unsigned int*)addr = mask;
+        *(unsigned int*)addr = mask;
 
     if (ret)
-	*ret = &mask;
+        *ret = &mask;
 
     return True;
 }
@@ -2460,7 +2533,7 @@
 #ifdef NEWSTUFF
 static int
 getRImages(WScreen *scr, WDefaultEntry *entry, WMPropList *value,
-	   void *addr, void **ret)
+           void *addr, void **ret)
 {
     unsigned int mask;
     char *str;
@@ -2470,25 +2543,25 @@
 
     GET_STRING_OR_DEFAULT("Image File Path", str);
     if (!str)
-	return False;
+        return False;
 
     image = RLoadImage(scr->rcontext, str, 0);
     if (!image) {
-	wwarning(_("could not load image in option %s: %s"), entry->key,
-		 RMessageForError(RErrorCode));
-	return False;
+        wwarning(_("could not load image in option %s: %s"), entry->key,
+                 RMessageForError(RErrorCode));
+        return False;
     }
 
     if (*(RImage**)addr) {
-	RReleaseImage(*(RImage**)addr);
+        RReleaseImage(*(RImage**)addr);
     }
     if (addr)
-	*(RImage**)addr = image;
+        *(RImage**)addr = image;
 
     assert(ret == NULL);
     /*
-    if (ret)
-	*(RImage**)ret = image;
+     if (ret)
+     *(RImage**)ret = image;
      */
 
     return True;
@@ -2496,10 +2569,10 @@
 #endif
 
 # include <X11/cursorfont.h>
-typedef struct 
+typedef struct
 {
-   char *name;
-   int id;
+    char *name;
+    int id;
 } WCursorLookup;
 
 #define CURSOR_ID_NONE	(XC_num_glyphs)
@@ -2590,18 +2663,18 @@
 check_bitmap_status(int status, char *filename, Pixmap bitmap)
 {
     switch(status) {
-     case BitmapOpenFailed:
-	wwarning(_("failed to open bitmap file \"%s\""), filename);
-	break;
-     case BitmapFileInvalid:
-	wwarning(_("\"%s\" is not a valid bitmap file"), filename);
-	break;
-     case BitmapNoMemory:
-	wwarning(_("out of memory reading bitmap file \"%s\""), filename);
-	break;
-     case BitmapSuccess:
-	XFreePixmap(dpy, bitmap);
-	break;
+    case BitmapOpenFailed:
+        wwarning(_("failed to open bitmap file \"%s\""), filename);
+        break;
+    case BitmapFileInvalid:
+        wwarning(_("\"%s\" is not a valid bitmap file"), filename);
+        break;
+    case BitmapNoMemory:
+        wwarning(_("out of memory reading bitmap file \"%s\""), filename);
+        break;
+    case BitmapSuccess:
+        XFreePixmap(dpy, bitmap);
+        break;
     }
 }
 
@@ -2617,100 +2690,100 @@
     char *val;
     int nelem;
     int status = 0;
-    
+
     nelem = WMGetPropListItemCount(pl);
     if (nelem < 1) {
-	return(status);
+        return(status);
     }
     elem = WMGetFromPLArray(pl, 0);
     if (!elem || !WMIsPLString(elem)) {
-	return(status);
+        return(status);
     }
     val = WMGetFromPLString(elem);
-    
+
     if (0 == strcasecmp(val, "none")) {
-	status = 1;
-	*cursor = None;
+        status = 1;
+        *cursor = None;
     } else if (0 == strcasecmp(val, "builtin")) {
-	int i;
-	int cursor_id = CURSOR_ID_NONE;
-	
-	if (2 != nelem) {
-	    wwarning(_("bad number of arguments in cursor specification"));
-	    return(status);
-	}
-	elem = WMGetFromPLArray(pl, 1);
-	if (!elem || !WMIsPLString(elem)) {
-	    return(status);
-	}
-	val = WMGetFromPLString(elem);
-
-	for (i = 0; NULL != cursor_table[i].name; i++) {
-	    if (0 == strcasecmp(val, cursor_table[i].name)) {
-		cursor_id = cursor_table[i].id;
-		break;
-	    }
-	}
-	if (CURSOR_ID_NONE == cursor_id) {
-	    wwarning(_("unknown builtin cursor name \"%s\""), val);
-	} else {
-	    *cursor = XCreateFontCursor(dpy, cursor_id);
-	    status = 1;
-	}
+        int i;
+        int cursor_id = CURSOR_ID_NONE;
+
+        if (2 != nelem) {
+            wwarning(_("bad number of arguments in cursor specification"));
+            return(status);
+        }
+        elem = WMGetFromPLArray(pl, 1);
+        if (!elem || !WMIsPLString(elem)) {
+            return(status);
+        }
+        val = WMGetFromPLString(elem);
+
+        for (i = 0; NULL != cursor_table[i].name; i++) {
+            if (0 == strcasecmp(val, cursor_table[i].name)) {
+                cursor_id = cursor_table[i].id;
+                break;
+            }
+        }
+        if (CURSOR_ID_NONE == cursor_id) {
+            wwarning(_("unknown builtin cursor name \"%s\""), val);
+        } else {
+            *cursor = XCreateFontCursor(dpy, cursor_id);
+            status = 1;
+        }
     } else if (0 == strcasecmp(val, "bitmap")) {
-	char *bitmap_name;
-	char *mask_name;
-	int bitmap_status;
-	int mask_status;
-	Pixmap bitmap;
-	Pixmap mask;
-	unsigned int w, h;
-	int x, y;
-	XColor fg, bg;
-	
-	if (3 != nelem) {
-	    wwarning(_("bad number of arguments in cursor specification"));
-	    return(status);
-	}
-	elem = WMGetFromPLArray(pl, 1);
-	if (!elem || !WMIsPLString(elem)) {
-	    return(status);
-	}
-	val = WMGetFromPLString(elem);
-	bitmap_name = FindImage(wPreferences.pixmap_path, val);
-	if (!bitmap_name) {
-	    wwarning(_("could not find cursor bitmap file \"%s\""), val);
-	    return(status);
-	}
-	elem = WMGetFromPLArray(pl, 2);
-	if (!elem || !WMIsPLString(elem)) {
-	    wfree(bitmap_name);
-	    return(status);
-	}
-	val = WMGetFromPLString(elem);
-	mask_name = FindImage(wPreferences.pixmap_path, val);
-	if (!mask_name) {
-	    wfree(bitmap_name);
-	    wwarning(_("could not find cursor bitmap file \"%s\""), val);
-	    return(status);
-	}
-	mask_status = XReadBitmapFile(dpy, scr->w_win, mask_name, &w, &h,
-				      &mask, &x, &y);
-	bitmap_status = XReadBitmapFile(dpy, scr->w_win, bitmap_name, &w, &h,
-					&bitmap, &x, &y);
-	if ((BitmapSuccess == bitmap_status) &&
-	    (BitmapSuccess == mask_status)) {
-	    fg.pixel = scr->black_pixel;
-	    bg.pixel = scr->white_pixel;
-	    XQueryColor(dpy, scr->w_colormap, &fg);
-	    XQueryColor(dpy, scr->w_colormap, &bg);
-	    *cursor = XCreatePixmapCursor(dpy, bitmap, mask, &fg, &bg, x, y);
-	    status = 1;
-	}
-	check_bitmap_status(bitmap_status, bitmap_name, bitmap);
-	check_bitmap_status(mask_status, mask_name, mask);
-	wfree(bitmap_name);
-	wfree(mask_name);
+        char *bitmap_name;
+        char *mask_name;
+        int bitmap_status;
+        int mask_status;
+        Pixmap bitmap;
+        Pixmap mask;
+        unsigned int w, h;
+        int x, y;
+        XColor fg, bg;
+
+        if (3 != nelem) {
+            wwarning(_("bad number of arguments in cursor specification"));
+            return(status);
+        }
+        elem = WMGetFromPLArray(pl, 1);
+        if (!elem || !WMIsPLString(elem)) {
+            return(status);
+        }
+        val = WMGetFromPLString(elem);
+        bitmap_name = FindImage(wPreferences.pixmap_path, val);
+        if (!bitmap_name) {
+            wwarning(_("could not find cursor bitmap file \"%s\""), val);
+            return(status);
+        }
+        elem = WMGetFromPLArray(pl, 2);
+        if (!elem || !WMIsPLString(elem)) {
+            wfree(bitmap_name);
+            return(status);
+        }
+        val = WMGetFromPLString(elem);
+        mask_name = FindImage(wPreferences.pixmap_path, val);
+        if (!mask_name) {
+            wfree(bitmap_name);
+            wwarning(_("could not find cursor bitmap file \"%s\""), val);
+            return(status);
+        }
+        mask_status = XReadBitmapFile(dpy, scr->w_win, mask_name, &w, &h,
+                                      &mask, &x, &y);
+        bitmap_status = XReadBitmapFile(dpy, scr->w_win, bitmap_name, &w, &h,
+                                        &bitmap, &x, &y);
+        if ((BitmapSuccess == bitmap_status) &&
+            (BitmapSuccess == mask_status)) {
+            fg.pixel = scr->black_pixel;
+            bg.pixel = scr->white_pixel;
+            XQueryColor(dpy, scr->w_colormap, &fg);
+            XQueryColor(dpy, scr->w_colormap, &bg);
+            *cursor = XCreatePixmapCursor(dpy, bitmap, mask, &fg, &bg, x, y);
+            status = 1;
+        }
+        check_bitmap_status(bitmap_status, bitmap_name, bitmap);
+        check_bitmap_status(mask_status, mask_name, mask);
+        wfree(bitmap_name);
+        wfree(mask_name);
     }
     return(status);
 }
@@ -2718,40 +2791,40 @@
 
 static int
 getCursor(WScreen *scr, WDefaultEntry *entry, WMPropList *value, void *addr,
-	  void **ret)
+          void **ret)
 {
     static Cursor cursor;
     int status;
     int changed = 0;
-    
+
 again:
     if (!WMIsPLArray(value)) {
-	wwarning(_("Wrong option format for key \"%s\". Should be %s."),
-		 entry->key, "cursor specification");
-	if (!changed) {
-	    value = entry->plvalue;
-	    changed = 1;
-	    wwarning(_("using default \"%s\" instead"), entry->default_value);
-	    goto again;
-	}
-	return(False);
+        wwarning(_("Wrong option format for key \"%s\". Should be %s."),
+                 entry->key, "cursor specification");
+        if (!changed) {
+            value = entry->plvalue;
+            changed = 1;
+            wwarning(_("using default \"%s\" instead"), entry->default_value);
+            goto again;
+        }
+        return(False);
     }
     status = parse_cursor(scr, value, &cursor);
     if (!status) {
-	wwarning(_("Error in cursor specification for key \"%s\""), entry->key);
-	if (!changed) {
-	    value = entry->plvalue;
-	    changed = 1;
-	    wwarning(_("using default \"%s\" instead"), entry->default_value);
-	    goto again;
-	}
-	return(False);
+        wwarning(_("Error in cursor specification for key \"%s\""), entry->key);
+        if (!changed) {
+            value = entry->plvalue;
+            changed = 1;
+            wwarning(_("using default \"%s\" instead"), entry->default_value);
+            goto again;
+        }
+        return(False);
     }
     if (ret) {
-	*ret = &cursor;
+        *ret = &cursor;
     }
     if (addr) {
-	*(Cursor *)addr = cursor;
+        *(Cursor *)addr = cursor;
     }
     return(True);
 }
@@ -2760,7 +2833,7 @@
 
 /* ---------------- value setting functions --------------- */
 static int
-    setJustify(WScreen *scr, WDefaultEntry *entry, WTexture **texture, void *foo)
+setJustify(WScreen *scr, WDefaultEntry *entry, WTexture **texture, void *foo)
 {
     return REFRESH_WINDOW_TITLE_COLOR;
 }
@@ -2817,37 +2890,37 @@
     Pixmap pixmap;
     RImage *img;
     int reset = 0;
-   
+
     img = wTextureRenderImage(*texture, wPreferences.icon_size,
-			      wPreferences.icon_size,
-			      ((*texture)->any.type & WREL_BORDER_MASK)
-			      ? WREL_ICON : WREL_FLAT);
+                              wPreferences.icon_size,
+                              ((*texture)->any.type & WREL_BORDER_MASK)
+                              ? WREL_ICON : WREL_FLAT);
     if (!img) {
-	wwarning(_("could not render texture for icon background"));
-	if (!entry->addr)
-	  wTextureDestroy(scr, *texture);
-	return 0;
+        wwarning(_("could not render texture for icon background"));
+        if (!entry->addr)
+            wTextureDestroy(scr, *texture);
+        return 0;
     }
     RConvertImage(scr->rcontext, img, &pixmap);
-    
+
     if (scr->icon_tile) {
-	reset = 1;
-	RReleaseImage(scr->icon_tile);
-	XFreePixmap(dpy, scr->icon_tile_pixmap);
+        reset = 1;
+        RReleaseImage(scr->icon_tile);
+        XFreePixmap(dpy, scr->icon_tile_pixmap);
     }
 
     scr->icon_tile = img;
-    
-    
+
+
     /* put the icon in the noticeboard hint */
     PropSetIconTileHint(scr, img);
-    
+
 
     if (!wPreferences.flags.noclip) {
-	if (scr->clip_tile) {
-	    RReleaseImage(scr->clip_tile);
-	}
-	scr->clip_tile = wClipMakeTile(scr, img);
+        if (scr->clip_tile) {
+            RReleaseImage(scr->clip_tile);
+        }
+        scr->clip_tile = wClipMakeTile(scr, img);
     }
 
     scr->icon_tile_pixmap = pixmap;
@@ -2862,56 +2935,56 @@
     }
 
     if (scr->icon_back_texture) {
-	wTextureDestroy(scr, (WTexture*)scr->icon_back_texture);
+        wTextureDestroy(scr, (WTexture*)scr->icon_back_texture);
     }
     scr->icon_back_texture = wTextureMakeSolid(scr, &((*texture)->any.color));
 
     if (scr->clip_balloon)
-	XSetWindowBackground(dpy, scr->clip_balloon, 
-			     (*texture)->any.color.pixel);
-    
+        XSetWindowBackground(dpy, scr->clip_balloon,
+                             (*texture)->any.color.pixel);
+
     /*
      * Free the texture as nobody else will use it, nor refer to it.
      */
     if (!entry->addr)
-	wTextureDestroy(scr, *texture);
+        wTextureDestroy(scr, *texture);
 
     return (reset ? REFRESH_ICON_TILE : 0);
 }
 
 
 
-static int 
+static int
 setWinTitleFont(WScreen *scr, WDefaultEntry *entry, WMFont *font, void *foo)
 {
     if (scr->title_font) {
-	WMReleaseFont(scr->title_font);
+        WMReleaseFont(scr->title_font);
     }
     scr->title_font = font;
-    
+
     return REFRESH_WINDOW_FONT|REFRESH_BUTTON_IMAGES;
 }
 
 
-static int 
+static int
 setMenuTitleFont(WScreen *scr, WDefaultEntry *entry, WMFont *font, void *foo)
 {
     if (scr->menu_title_font) {
-	WMReleaseFont(scr->menu_title_font);
+        WMReleaseFont(scr->menu_title_font);
     }
-    
+
     scr->menu_title_font = font;
 
     return REFRESH_MENU_TITLE_FONT;
 }
 
 
-static int 
+static int
 setMenuTextFont(WScreen *scr, WDefaultEntry *entry, WMFont *font, void *foo)
 {
     if (scr->menu_entry_font) {
-	WMReleaseFont(scr->menu_entry_font);
-    }    
+        WMReleaseFont(scr->menu_entry_font);
+    }
     scr->menu_entry_font = font;
 
     return REFRESH_MENU_FONT;
@@ -2919,26 +2992,26 @@
 
 
 
-static int 
+static int
 setIconTitleFont(WScreen *scr, WDefaultEntry *entry, WMFont *font, void *foo)
 {
     if (scr->icon_title_font) {
-	WMReleaseFont(scr->icon_title_font);
+        WMReleaseFont(scr->icon_title_font);
     }
-    
+
     scr->icon_title_font = font;
-		 
+
     return REFRESH_ICON_FONT;
 }
 
 
-static int 
+static int
 setClipTitleFont(WScreen *scr, WDefaultEntry *entry, WMFont *font, void *foo)
 {
     if (scr->clip_title_font) {
-	WMReleaseFont(scr->clip_title_font);
+        WMReleaseFont(scr->clip_title_font);
     }
-    
+
     scr->clip_title_font = font;
 
     return REFRESH_ICON_FONT;
@@ -2949,9 +3022,9 @@
 setLargeDisplayFont(WScreen *scr, WDefaultEntry *entry, WMFont *font, void *foo)
 {
     if (scr->workspace_name_font) {
-	WMReleaseFont(scr->workspace_name_font);
+        WMReleaseFont(scr->workspace_name_font);
     }
-    
+
     scr->workspace_name_font = font;
 
     return 0;
@@ -2961,12 +3034,14 @@
 static int
 setHightlight(WScreen *scr, WDefaultEntry *entry, XColor *color, void *foo)
 {
-   if (scr->select_pixel!=scr->white_pixel &&
-	scr->select_pixel!=scr->black_pixel) {
-	wFreeColor(scr, scr->select_pixel);
-    }
-    
-    scr->select_pixel = color->pixel;
+    if (scr->select_color)
+        WMReleaseColor(scr->select_color);
+
+    scr->select_color =
+        WMCreateRGBColor(scr->wmscreen, color->red, color->green,
+                         color->blue, True);
+
+    wFreeColor(scr, color->pixel);
 
     return REFRESH_MENU_COLOR;
 }
@@ -2975,12 +3050,14 @@
 static int
 setHightlightText(WScreen *scr, WDefaultEntry *entry, XColor *color, void *foo)
 {
-   if (scr->select_text_pixel!=scr->white_pixel &&
-	scr->select_text_pixel!=scr->black_pixel) {
-	wFreeColor(scr, scr->select_text_pixel);
-    }
-    
-    scr->select_text_pixel = color->pixel;
+    if (scr->select_text_color)
+        WMReleaseColor(scr->select_text_color);
+
+    scr->select_text_color =
+        WMCreateRGBColor(scr->wmscreen, color->red, color->green,
+                         color->blue, True);
+
+    wFreeColor(scr, color->pixel);
 
     return REFRESH_MENU_COLOR;
 }
@@ -2989,35 +3066,36 @@
 static int
 setClipTitleColor(WScreen *scr, WDefaultEntry *entry, XColor *color, long index)
 {
-    if (scr->clip_title_pixel[index]!=scr->white_pixel &&
-	scr->clip_title_pixel[index]!=scr->black_pixel) {
-	wFreeColor(scr, scr->clip_title_pixel[index]);
-    }
-    scr->clip_title_pixel[index] = color->pixel;
-
+    if (scr->clip_title_color[index])
+        WMReleaseColor(scr->clip_title_color[index]);
+    scr->clip_title_color[index] = WMCreateRGBColor(scr->wmscreen, color->red,
+                                                    color->green, color->blue,
+                                                    True);
 #ifdef GRADIENT_CLIP_ARROW
     if (index == CLIP_NORMAL) {
-	RImage *image;
-	RColor color1, color2;
-	int pt = CLIP_BUTTON_SIZE*wPreferences.icon_size/64;
-	int as = pt - 15; /* 15 = 5+5+5 */
-	
-	FREE_PIXMAP(scr->clip_arrow_gradient);
-
-	color1.red = (color->red >> 8)*6/10;
-	color1.green = (color->green >> 8)*6/10;
-	color1.blue = (color->blue >> 8)*6/10;
-
-	color2.red = WMIN((color->red >> 8)*20/10, 255);
-	color2.green = WMIN((color->green >> 8)*20/10, 255);
-	color2.blue = WMIN((color->blue >> 8)*20/10, 255);
-
-	image = RRenderGradient(as+1, as+1, &color1, &color2, RDiagonalGradient);
-	RConvertImage(scr->rcontext, image, &scr->clip_arrow_gradient);
-	RReleaseImage(image);
+        RImage *image;
+        RColor color1, color2;
+        int pt = CLIP_BUTTON_SIZE*wPreferences.icon_size/64;
+        int as = pt - 15; /* 15 = 5+5+5 */
+
+        FREE_PIXMAP(scr->clip_arrow_gradient);
+
+        color1.red = (color->red >> 8)*6/10;
+        color1.green = (color->green >> 8)*6/10;
+        color1.blue = (color->blue >> 8)*6/10;
+
+        color2.red = WMIN((color->red >> 8)*20/10, 255);
+        color2.green = WMIN((color->green >> 8)*20/10, 255);
+        color2.blue = WMIN((color->blue >> 8)*20/10, 255);
+
+        image = RRenderGradient(as+1, as+1, &color1, &color2, RDiagonalGradient);
+        RConvertImage(scr->rcontext, image, &scr->clip_arrow_gradient);
+        RReleaseImage(image);
     }
 #endif /* GRADIENT_CLIP_ARROW */
 
+    wFreeColor(scr, color->pixel);
+
     return REFRESH_ICON_TITLE_COLOR;
 }
 
@@ -3025,111 +3103,102 @@
 static int
 setWTitleColor(WScreen *scr, WDefaultEntry *entry, XColor *color, long index)
 {
-    if (scr->window_title_pixel[index]!=scr->white_pixel &&
-	scr->window_title_pixel[index]!=scr->black_pixel) {
-	wFreeColor(scr, scr->window_title_pixel[index]);
-    }
-    
-    scr->window_title_pixel[index] = color->pixel;
+    if (scr->window_title_color[index])
+        WMReleaseColor(scr->window_title_color[index]);
+
+    scr->window_title_color[index] =
+        WMCreateRGBColor(scr->wmscreen, color->red, color->green, color->blue,
+                         True);
+
+    wFreeColor(scr, color->pixel);
 
-    if (index == WS_UNFOCUSED)
-	XSetForeground(dpy, scr->info_text_gc, color->pixel);
-    
     return REFRESH_WINDOW_TITLE_COLOR;
 }
 
 
-static int 
+static int
 setMenuTitleColor(WScreen *scr, WDefaultEntry *entry, XColor *color, long index)
 {
-    if (scr->menu_title_pixel[0]!=scr->white_pixel &&
-            scr->menu_title_pixel[0]!=scr->black_pixel) {
-            wFreeColor(scr, scr->menu_title_pixel[0]);
-    }
-    
-    scr->menu_title_pixel[0] = color->pixel;
-    XSetForeground(dpy, scr->menu_title_gc, color->pixel);
-    
+    if (scr->menu_title_color[0])
+        WMReleaseColor(scr->menu_title_color[0]);
+
+    scr->menu_title_color[0] =
+        WMCreateRGBColor(scr->wmscreen, color->red, color->green,
+                         color->blue, True);
+
+    wFreeColor(scr, color->pixel);
+
     return REFRESH_MENU_TITLE_COLOR;
 }
 
 
-static int 
+static int
 setMenuTextColor(WScreen *scr, WDefaultEntry *entry, XColor *color, void *foo)
 {
-    XGCValues gcv;
-#define gcm (GCForeground|GCBackground|GCFillStyle)
-
-    if (scr->mtext_pixel!=scr->white_pixel &&
-	scr->mtext_pixel!=scr->black_pixel) {
-	wFreeColor(scr, scr->mtext_pixel);
-    }
-    
-    scr->mtext_pixel = color->pixel;
-    
-    XSetForeground(dpy, scr->menu_entry_gc, color->pixel);
+    if (scr->mtext_color)
+        WMReleaseColor(scr->mtext_color);
 
+    scr->mtext_color = WMCreateRGBColor(scr->wmscreen, color->red,
+                                        color->green, color->blue, True);
 
-    if (scr->dtext_pixel == scr->mtext_pixel) {
-	gcv.foreground = scr->white_pixel;
-	gcv.background = scr->black_pixel;
-	gcv.fill_style = FillStippled;
+    if (WMColorPixel(scr->dtext_color) == WMColorPixel(scr->mtext_color)) {
+        WMSetColorAlpha(scr->dtext_color, 0x7fff);
     } else {
-	gcv.foreground = scr->dtext_pixel;
-	gcv.fill_style = FillSolid;
+        WMSetColorAlpha(scr->dtext_color, 0xffff);
     }
-    XChangeGC(dpy, scr->disabled_menu_entry_gc, gcm, &gcv);
-    
+
+    wFreeColor(scr, color->pixel);
+
     return REFRESH_MENU_COLOR;
-#undef gcm
 }
 
 
-static int 
+static int
 setMenuDisabledColor(WScreen *scr, WDefaultEntry *entry, XColor *color, void *foo)
 {
-    XGCValues gcv;
-#define gcm (GCForeground|GCBackground|GCFillStyle)
+    if (scr->dtext_color)
+        WMReleaseColor(scr->dtext_color);
 
-    if (scr->dtext_pixel!=scr->white_pixel &&
-	scr->dtext_pixel!=scr->black_pixel) {
-	wFreeColor(scr, scr->dtext_pixel);
-    }
-    
-    scr->dtext_pixel = color->pixel;
+    scr->dtext_color = WMCreateRGBColor(scr->wmscreen, color->red,
+                                        color->green, color->blue, True);
 
-    if (scr->dtext_pixel == scr->mtext_pixel) {
-	gcv.foreground = scr->white_pixel;
-	gcv.background = scr->black_pixel;
-	gcv.fill_style = FillStippled;
+    if (WMColorPixel(scr->dtext_color) == WMColorPixel(scr->mtext_color)) {
+        WMSetColorAlpha(scr->dtext_color, 0x7fff);
     } else {
-	gcv.foreground = scr->dtext_pixel;
-	gcv.fill_style = FillSolid;
+        WMSetColorAlpha(scr->dtext_color, 0xffff);
     }
-    XChangeGC(dpy, scr->disabled_menu_entry_gc, gcm, &gcv);
+
+    wFreeColor(scr, color->pixel);
 
     return REFRESH_MENU_COLOR;
-#undef gcm
 }
 
-static int 
+
+static int
 setIconTitleColor(WScreen *scr, WDefaultEntry *entry, XColor *color, void *foo)
 {
-    XSetForeground(dpy, scr->icon_title_gc, color->pixel); 
-    
+    if (scr->icon_title_color)
+        WMReleaseColor(scr->icon_title_color);
+    scr->icon_title_color = WMCreateRGBColor(scr->wmscreen, color->red,
+                                             color->green, color->blue,
+                                             True);
+
+    wFreeColor(scr, color->pixel);
+
     return REFRESH_ICON_TITLE_COLOR;
 }
 
 
-static int 
+static int
 setIconTitleBack(WScreen *scr, WDefaultEntry *entry, XColor *color, void *foo)
 {
     if (scr->icon_title_texture) {
-	wTextureDestroy(scr, (WTexture*)scr->icon_title_texture);
+        wTextureDestroy(scr, (WTexture*)scr->icon_title_texture);
     }
+    /* // ?? why is this necessary? color was already parsed and alloc'ed */
     XQueryColor (dpy, scr->w_colormap, color);
     scr->icon_title_texture = wTextureMakeSolid(scr, color);
-    
+
     return REFRESH_ICON_TITLE_BACK;
 }
 
@@ -3141,95 +3210,95 @@
     scr->helper_fd = 0;
     scr->helper_pid = 0;
     scr->flags.backimage_helper_launched = 0;
-}    
+}
 
 
 static int
-setWorkspaceSpecificBack(WScreen *scr, WDefaultEntry *entry, WMPropList *value, 
-			 void *bar)
+setWorkspaceSpecificBack(WScreen *scr, WDefaultEntry *entry, WMPropList *value,
+                         void *bar)
 {
     WMPropList *val;
     char *str;
     int i;
 
     if (scr->flags.backimage_helper_launched) {
-	if (WMGetPropListItemCount(value)==0) {
-	    SendHelperMessage(scr, 'C', 0, NULL);
-	    SendHelperMessage(scr, 'K', 0, NULL);
-
-	    WMReleasePropList(value);
-	    return 0;
-	}
+        if (WMGetPropListItemCount(value)==0) {
+            SendHelperMessage(scr, 'C', 0, NULL);
+            SendHelperMessage(scr, 'K', 0, NULL);
+
+            WMReleasePropList(value);
+            return 0;
+        }
     } else {
-	pid_t pid;
-	int filedes[2];
+        pid_t pid;
+        int filedes[2];
+
+        if (WMGetPropListItemCount(value) == 0)
+            return 0;
+
+        if (pipe(filedes) < 0) {
+            wsyserror("pipe() failed:can't set workspace specific background image");
 
-	if (WMGetPropListItemCount(value) == 0)
-	    return 0;
-	
-	if (pipe(filedes) < 0) {
-	    wsyserror("pipe() failed:can't set workspace specific background image");
-	    
-	    WMReleasePropList(value);
-	    return 0;
-	}
-
-	pid = fork();
-	if (pid < 0) {
-	    wsyserror("fork() failed:can't set workspace specific background image");
-	    if (close(filedes[0]) < 0)
-		wsyserror("could not close pipe");
-	    if (close(filedes[1]) < 0)
-		wsyserror("could not close pipe");
+            WMReleasePropList(value);
+            return 0;
+        }
+
+        pid = fork();
+        if (pid < 0) {
+            wsyserror("fork() failed:can't set workspace specific background image");
+            if (close(filedes[0]) < 0)
+                wsyserror("could not close pipe");
+            if (close(filedes[1]) < 0)
+                wsyserror("could not close pipe");
 
         } else if (pid == 0) {
             char *dither;
 
-	    SetupEnvironment(scr);
+            SetupEnvironment(scr);
 
-	    if (close(0) < 0)
-		wsyserror("could not close pipe");
-	    if (dup(filedes[0]) < 0) {
-		wsyserror("dup() failed:can't set workspace specific background image");
+            if (close(0) < 0)
+                wsyserror("could not close pipe");
+            if (dup(filedes[0]) < 0) {
+                wsyserror("dup() failed:can't set workspace specific background image");
             }
             dither = wPreferences.no_dithering ? "-m" : "-d";
-	    if (wPreferences.smooth_workspace_back)
-		execlp("wmsetbg", "wmsetbg", "-helper", "-S", dither, NULL);
-	    else
-		execlp("wmsetbg", "wmsetbg", "-helper", dither, NULL);
-	    wsyserror("could not execute wmsetbg");
-	    exit(1);
-	} else {
-
-	    if (fcntl(filedes[0], F_SETFD, FD_CLOEXEC) < 0) {
-		wsyserror("error setting close-on-exec flag");
-	    }
-	    if (fcntl(filedes[1], F_SETFD, FD_CLOEXEC) < 0) {
-		wsyserror("error setting close-on-exec flag");
-	    }
-
-	    scr->helper_fd = filedes[1];
-	    scr->helper_pid = pid;
-	    scr->flags.backimage_helper_launched = 1;
-
-	    wAddDeathHandler(pid, (WDeathHandler*)trackDeadProcess, scr);
-
-	    SendHelperMessage(scr, 'P', -1, wPreferences.pixmap_path);
-	}
-	
+            if (wPreferences.smooth_workspace_back)
+                execlp("wmsetbg", "wmsetbg", "-helper", "-S", dither, NULL);
+            else
+                execlp("wmsetbg", "wmsetbg", "-helper", dither, NULL);
+            wsyserror("could not execute wmsetbg");
+            exit(1);
+        } else {
+
+            if (fcntl(filedes[0], F_SETFD, FD_CLOEXEC) < 0) {
+                wsyserror("error setting close-on-exec flag");
+            }
+            if (fcntl(filedes[1], F_SETFD, FD_CLOEXEC) < 0) {
+                wsyserror("error setting close-on-exec flag");
+            }
+
+            scr->helper_fd = filedes[1];
+            scr->helper_pid = pid;
+            scr->flags.backimage_helper_launched = 1;
+
+            wAddDeathHandler(pid, (WDeathHandler*)trackDeadProcess, scr);
+
+            SendHelperMessage(scr, 'P', -1, wPreferences.pixmap_path);
+        }
+
     }
 
     for (i = 0; i < WMGetPropListItemCount(value); i++) {
-	val = WMGetFromPLArray(value, i);
-	if (val && WMIsPLArray(val) && WMGetPropListItemCount(val)>0) {
-	    str = WMGetPropListDescription(val, False);
-
-	    SendHelperMessage(scr, 'S', i+1, str);
-
-	    wfree(str);
-	} else {
-	    SendHelperMessage(scr, 'U', i+1, NULL);
-	}
+        val = WMGetFromPLArray(value, i);
+        if (val && WMIsPLArray(val) && WMGetPropListItemCount(val)>0) {
+            str = WMGetPropListDescription(val, False);
+
+            SendHelperMessage(scr, 'S', i+1, str);
+
+            wfree(str);
+        } else {
+            SendHelperMessage(scr, 'U', i+1, NULL);
+        }
     }
     sleep(1);
 
@@ -3239,43 +3308,43 @@
 
 
 static int
-setWorkspaceBack(WScreen *scr, WDefaultEntry *entry, WMPropList *value, 
-		 void *bar)
+setWorkspaceBack(WScreen *scr, WDefaultEntry *entry, WMPropList *value,
+                 void *bar)
 {
     if (scr->flags.backimage_helper_launched) {
-	char *str;
+        char *str;
 
-	if (WMGetPropListItemCount(value)==0) {
-	    SendHelperMessage(scr, 'U', 0, NULL);
-	} else {
-	    /* set the default workspace background to this one */
-	    str = WMGetPropListDescription(value, False);
-	    if (str) {
-		SendHelperMessage(scr, 'S', 0, str);
-		wfree(str);
-		SendHelperMessage(scr, 'C', scr->current_workspace+1, NULL);
-	    } else {
-		SendHelperMessage(scr, 'U', 0, NULL);
-	    }
-	}
+        if (WMGetPropListItemCount(value)==0) {
+            SendHelperMessage(scr, 'U', 0, NULL);
+        } else {
+            /* set the default workspace background to this one */
+            str = WMGetPropListDescription(value, False);
+            if (str) {
+                SendHelperMessage(scr, 'S', 0, str);
+                wfree(str);
+                SendHelperMessage(scr, 'C', scr->current_workspace+1, NULL);
+            } else {
+                SendHelperMessage(scr, 'U', 0, NULL);
+            }
+        }
     } else if (WMGetPropListItemCount(value) > 0) {
-	char *command;
+        char *command;
         char *text;
         char *dither;
-	int len;
+        int len;
 
-	SetupEnvironment(scr);
-	text = WMGetPropListDescription(value, False);
-	len = strlen(text)+40;
+        SetupEnvironment(scr);
+        text = WMGetPropListDescription(value, False);
+        len = strlen(text)+40;
         command = wmalloc(len);
         dither = wPreferences.no_dithering ? "-m" : "-d";
-	if (wPreferences.smooth_workspace_back)
-	    snprintf(command, len, "wmsetbg %s -S -p '%s' &", dither, text);
-	else
-	    snprintf(command, len, "wmsetbg %s -p '%s' &", dither, text);
-	wfree(text);
-	system(command);
-	wfree(command);
+        if (wPreferences.smooth_workspace_back)
+            snprintf(command, len, "wmsetbg %s -S -p '%s' &", dither, text);
+        else
+            snprintf(command, len, "wmsetbg %s -p '%s' &", dither, text);
+        wfree(text);
+        system(command);
+        wfree(command);
     }
     WMReleasePropList(value);
 
@@ -3283,11 +3352,11 @@
 }
 
 
-static int 
+static int
 setWidgetColor(WScreen *scr, WDefaultEntry *entry, WTexture **texture, void *foo)
 {
     if (scr->widget_texture) {
-	wTextureDestroy(scr, (WTexture*)scr->widget_texture);
+        wTextureDestroy(scr, (WTexture*)scr->widget_texture);
     }
     scr->widget_texture = *(WTexSolid**)texture;
 
@@ -3295,11 +3364,11 @@
 }
 
 
-static int 
+static int
 setFTitleBack(WScreen *scr, WDefaultEntry *entry, WTexture **texture, void *foo)
-{		       
+{
     if (scr->window_title_texture[WS_FOCUSED]) {
-	wTextureDestroy(scr, scr->window_title_texture[WS_FOCUSED]);
+        wTextureDestroy(scr, scr->window_title_texture[WS_FOCUSED]);
     }
     scr->window_title_texture[WS_FOCUSED] = *texture;
 
@@ -3307,23 +3376,23 @@
 }
 
 
-static int 
+static int
 setPTitleBack(WScreen *scr, WDefaultEntry *entry, WTexture **texture, void *foo)
 {
     if (scr->window_title_texture[WS_PFOCUSED]) {
-	wTextureDestroy(scr, scr->window_title_texture[WS_PFOCUSED]);
+        wTextureDestroy(scr, scr->window_title_texture[WS_PFOCUSED]);
     }
     scr->window_title_texture[WS_PFOCUSED] = *texture;
-    
+
     return REFRESH_WINDOW_TEXTURES;
 }
 
 
-static int 
+static int
 setUTitleBack(WScreen *scr, WDefaultEntry *entry, WTexture **texture, void *foo)
 {
     if (scr->window_title_texture[WS_UNFOCUSED]) {
-	wTextureDestroy(scr, scr->window_title_texture[WS_UNFOCUSED]);
+        wTextureDestroy(scr, scr->window_title_texture[WS_UNFOCUSED]);
     }
     scr->window_title_texture[WS_UNFOCUSED] = *texture;
 
@@ -3331,11 +3400,11 @@
 }
 
 
-static int 
+static int
 setResizebarBack(WScreen *scr, WDefaultEntry *entry, WTexture **texture, void *foo)
 {
     if (scr->resizebar_texture[0]) {
-	wTextureDestroy(scr, scr->resizebar_texture[0]);
+        wTextureDestroy(scr, scr->resizebar_texture[0]);
     }
     scr->resizebar_texture[0] = *texture;
 
@@ -3343,11 +3412,11 @@
 }
 
 
-static int 
+static int
 setMenuTitleBack(WScreen *scr, WDefaultEntry *entry, WTexture **texture, void *foo)
 {
     if (scr->menu_title_texture[0]) {
-	wTextureDestroy(scr, scr->menu_title_texture[0]);
+        wTextureDestroy(scr, scr->menu_title_texture[0]);
     }
     scr->menu_title_texture[0] = *texture;
 
@@ -3355,18 +3424,18 @@
 }
 
 
-static int 
+static int
 setMenuTextBack(WScreen *scr, WDefaultEntry *entry, WTexture **texture, void *foo)
 {
     if (scr->menu_item_texture) {
-	wTextureDestroy(scr, scr->menu_item_texture);
-	wTextureDestroy(scr, (WTexture*)scr->menu_item_auxtexture);
+        wTextureDestroy(scr, scr->menu_item_texture);
+        wTextureDestroy(scr, (WTexture*)scr->menu_item_auxtexture);
     }
     scr->menu_item_texture = *texture;
 
-    scr->menu_item_auxtexture 
-      = wTextureMakeSolid(scr, &scr->menu_item_texture->any.color);
-    
+    scr->menu_item_auxtexture
+        = wTextureMakeSolid(scr, &scr->menu_item_texture->any.color);
+
     return REFRESH_MENU_TEXTURE;
 }
 
@@ -3376,18 +3445,18 @@
 {
     WWindow *wwin;
     wKeyBindings[index] = *shortcut;
-    
+
     wwin = scr->focused_window;
-    
+
     while (wwin!=NULL) {
-	XUngrabKey(dpy, AnyKey, AnyModifier, wwin->frame->core->window);
+        XUngrabKey(dpy, AnyKey, AnyModifier, wwin->frame->core->window);
 
-	if (!WFLAGP(wwin, no_bind_keys)) {
-	    wWindowSetKeyGrabs(wwin);
-	}
-	wwin = wwin->prev;
+        if (!WFLAGP(wwin, no_bind_keys)) {
+            wWindowSetKeyGrabs(wwin);
+        }
+        wwin = wwin->prev;
     }
-    
+
     return 0;
 }
 
@@ -3395,6 +3464,7 @@
 static int
 setIconPosition(WScreen *scr, WDefaultEntry *entry, void *bar, void *foo)
 {
+    wScreenUpdateUsableArea(scr);
     wArrangeIcons(scr, True);
 
     return 0;
@@ -3418,17 +3488,17 @@
 
 
 /*
-static int
-setButtonImages(WScreen *scr, WDefaultEntry *entry, int *value, void *foo)
-{
-    return REFRESH_BUTTON_IMAGES;
-}
-*/
+ static int
+ setButtonImages(WScreen *scr, WDefaultEntry *entry, int *value, void *foo)
+ {
+ return REFRESH_BUTTON_IMAGES;
+ }
+ */
 
 /*
  * Very ugly kluge.
  * Need access to the double click variables, so that all widgets in
- * wmaker panels will have the same dbl-click values. 
+ * wmaker panels will have the same dbl-click values.
  * TODO: figure a better way of dealing with it.
  */
 #include <WINGs/WINGsP.h>
@@ -3442,7 +3512,7 @@
         *(int*)foo = 1;
 
     WINGsConfiguration.doubleClickDelay = *value;
-    
+
     return 0;
 }
 
@@ -3463,17 +3533,17 @@
 static int
 setCursor(WScreen *scr, WDefaultEntry *entry, Cursor *cursor, long index)
 {
-   if (wCursor[index] != None) {
-       XFreeCursor(dpy, wCursor[index]);
-   }
+    if (wCursor[index] != None) {
+        XFreeCursor(dpy, wCursor[index]);
+    }
 
-   wCursor[index] = *cursor;
+    wCursor[index] = *cursor;
 
-   if (index==WCUR_ROOT && *cursor!=None) {
-       XDefineCursor(dpy, scr->root_win, *cursor);
-   }
+    if (index==WCUR_ROOT && *cursor!=None) {
+        XDefineCursor(dpy, scr->root_win, *cursor);
+    }
 
-   return 0;
+    return 0;
 }
 
 
diff -Naur WindowMaker-0.80.2/src/defaults.h wm-xft2/src/defaults.h
--- WindowMaker-0.80.2/src/defaults.h	2002-01-08 16:45:07.000000000 +0300
+++ wm-xft2/src/defaults.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -36,6 +36,8 @@
 
 WDDomain* wDefaultsInitDomain(char *domain, Bool requireDictionary);
 
+void wDefaultsMergeGlobalMenus(WDDomain *menuDomain);
+
 void wDefaultsDestroyDomain(WDDomain *domain);
 
 void wReadDefaults(WScreen *scr, WMPropList *new_dict);
diff -Naur WindowMaker-0.80.2/src/dialog.c wm-xft2/src/dialog.c
--- WindowMaker-0.80.2/src/dialog.c	2002-02-21 14:28:48.000000000 +0300
+++ wm-xft2/src/dialog.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,8 +2,8 @@
  *
  *  Window Maker window manager
  *
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
- *  Copyright (c) 1998-2002 Dan Pascu
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Dan Pascu
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -62,28 +62,17 @@
 #include "defaults.h"
 #include "xinerama.h"
 
+
+
 extern WPreferences wPreferences;
 
 
 static WMPoint getCenter(WScreen *scr, int width, int height)
 {
-    WMPoint pt;
-    
-#ifdef XINERAMA
-    WMRect rect;
-    
-    rect = wGetRectForHead(scr, wGetHeadForPointerLocation(scr));
-
-    pt.x = rect.pos.x + (rect.size.width - width)/2;
-    pt.y = rect.pos.y + (rect.size.height - height)/2;
-#else
-    pt.x = (scr->scr_width - width) / 2;
-    pt.y = (scr->scr_height - height) / 2;	
-#endif    
-
-    return pt;
+    return wGetPointToCenterRectInHead(scr, 
+			     wGetHeadForPointerLocation(scr), 
+			     width, height);
 }
-    
 
 
 int
@@ -144,6 +133,7 @@
     WMButton *saveSessionBtn;
     Window parent;
     WWindow *wwin;
+    WMPoint center;
     int result;
 
     panel = WMCreateAlertPanel(scr->wmscreen, NULL, title, message,
@@ -163,9 +153,10 @@
 
     XReparentWindow(dpy, WMWidgetXID(panel->win), parent, 0, 0);
 
+    center = getCenter(scr, 400, 180);
     wwin = wManageInternalWindow(scr, parent, None, NULL,
-                                (scr->scr_width - 400)/2,
-                                (scr->scr_height - 180)/2, 400, 180);
+                                center.x, center.y, 400, 180);
+
     wwin->client_leader = WMWidgetXID(panel->win);
 
     WMMapWidget(panel->win);
@@ -438,76 +429,62 @@
 
 
 void
-drawIconProc(WMList *lPtr, int index, Drawable d, char *text,
-	     int state, WMRect *rect)
+drawIconProc(WMList *lPtr, int index, Drawable d, char *text, int state,
+             WMRect *rect)
 {
     IconPanel *panel = WMGetHangedData(lPtr);
-    GC gc = panel->scr->draw_gc;
-    GC copygc = panel->scr->copy_gc;
+    WScreen *scr = panel->scr;
+    GC gc = scr->draw_gc;
+    GC copygc = scr->copy_gc;
     char *file, *dirfile;
     WMPixmap *pixmap;
-    WMColor *blackcolor;
-    WMColor *whitecolor;
+    WMColor *back;
     WMSize size;
     WMScreen *wmscr = WMWidgetScreen(panel->win);
     RColor color;
-    int width;
+    int x, y, width, height, len;
 
     if(!panel->preview) return;
 
+    x = rect->pos.x;
+    y = rect->pos.y;
     width = rect->size.width;
+    height = rect->size.height;
 
-    blackcolor = WMBlackColor(wmscr);
-    whitecolor = WMWhiteColor(wmscr);
+    back = (state & WLDSSelected) ? scr->white : scr->gray;
 
     dirfile = wexpandpath(WMGetListSelectedItem(panel->dirList)->text);
-    {
-	int len = strlen(dirfile)+strlen(text)+4;
-	file = wmalloc(len);
-	snprintf(file, len, "%s/%s", dirfile, text);
-    }
+    len = strlen(dirfile)+strlen(text)+4;
+    file = wmalloc(len);
+    snprintf(file, len, "%s/%s", dirfile, text);
     wfree(dirfile);
 
-    if ((state & WLDSSelected) != 0) {
-        color.red = color.green = color.blue = 0xff;
-        color.alpha = 0;
-    } else {
-        color.red = color.blue = 0xae;
-        color.green = 0xaa; color.alpha = 0;
-    }
+    color.red = WMRedComponentOfColor(back) >> 8;
+    color.green = WMGreenComponentOfColor(back) >> 8;
+    color.blue = WMBlueComponentOfColor(back) >> 8;
+    color.alpha = WMGetColorAlpha(back) >> 8;
+
     pixmap = WMCreateBlendedPixmapFromFile(wmscr, file, &color);
     wfree(file);
 
     if (!pixmap) {
-        WMRemoveListItem(lPtr, index);
+        /*WMRemoveListItem(lPtr, index);*/
         return;
     }
 
-    XClearArea(dpy, d, rect->pos.x, rect->pos.y, width, rect->size.height,
-	       False);
-    XSetClipMask(dpy, gc, None);
-    /*
-    XDrawRectangle(dpy, d, WMColorGC(whitecolor), rect->pos.x + 5,
-		   rect->pos.y +5, width - 10, 54);
-     */
-    XDrawLine(dpy, d, WMColorGC(whitecolor), rect->pos.x,
-	      rect->pos.y+rect->size.height-1, rect->pos.x+width,
-	      rect->pos.y+rect->size.height-1);
-
+    XFillRectangle(dpy, d, WMColorGC(back), x, y, width, height);
 
-    if (state&WLDSSelected) {
-        XFillRectangle(dpy, d, WMColorGC(whitecolor), rect->pos.x,
-		       rect->pos.y, width, rect->size.height);
-    }
+    XSetClipMask(dpy, gc, None);
+    /*XDrawRectangle(dpy, d, WMColorGC(white), x+5, y+5, width-10, 54);*/
+    XDrawLine(dpy, d, WMColorGC(scr->white), x, y+height-1, x+width, y+height-1);
 
     size = WMGetPixmapSize(pixmap);
 
     XSetClipMask(dpy, copygc, WMGetPixmapMaskXID(pixmap));
-    XSetClipOrigin(dpy, copygc, rect->pos.x + (width-size.width)/2,
-		   rect->pos.y+2);
+    XSetClipOrigin(dpy, copygc, x + (width-size.width)/2, y+2);
     XCopyArea(dpy, WMGetPixmapXID(pixmap), d, copygc, 0, 0,
 	      size.width>100?100:size.width, size.height>64?64:size.height,
-	      rect->pos.x + (width-size.width)/2, rect->pos.y+2);
+	      x + (width-size.width)/2, y+2);
 
     {
         int i,j;
@@ -516,25 +493,21 @@
 	int twidth = WMWidthOfString(panel->normalfont, text, tlen);
 	int ofx, ofy;
 
-	ofx = rect->pos.x + (width - twidth)/2;
-	ofy = rect->pos.y + 64 - fheight;
+	ofx = x + (width - twidth)/2;
+	ofy = y + 64 - fheight;
 
         for(i=-1;i<2;i++)
 	    for(j=-1;j<2;j++)
-		WMDrawString(wmscr, d, WMColorGC(whitecolor),
-			     panel->normalfont, ofx+i, ofy+j,
-			     text, tlen);
+                WMDrawString(wmscr, d, scr->white, panel->normalfont,
+                             ofx+i, ofy+j, text, tlen);
 
-	WMDrawString(wmscr, d, WMColorGC(blackcolor), panel->normalfont,
-		     ofx, ofy, text, tlen);
+        WMDrawString(wmscr, d, scr->black, panel->normalfont, ofx, ofy,
+                     text, tlen);
     }
 
     WMReleasePixmap(pixmap);
     /* I hope it is better to do not use cache / on my box it is fast nuff */
     XFlush(dpy);
-
-    WMReleaseColor(blackcolor);
-    WMReleaseColor(whitecolor);
 }
 
 
@@ -862,6 +835,7 @@
 
     WMLabel *logoL;
     WMLabel *name1L;
+    WMFrame *lineF;
     WMLabel *name2L;
 
     WMLabel *versionL;
@@ -885,8 +859,8 @@
 
 
 #define COPYRIGHT_TEXT  \
-     "Copyright \xa9 1997-2002 Alfredo K. Kojima <kojima@windowmaker.org>\n"\
-     "Copyright \xa9 1998-2002 Dan Pascu <dan@windowmaker.org>"
+     "Copyright \xa9 1997-2003 Alfredo K. Kojima <kojima@windowmaker.org>\n"\
+     "Copyright \xa9 1998-2003 Dan Pascu <dan@windowmaker.org>"
 
 
 
@@ -924,53 +898,6 @@
 }
 
 
-WMPixmap*
-renderText(WMScreen *scr, char *text, char *font, RColor *from, RColor *to)
-{
-    WMPixmap *wpix = NULL;
-    Pixmap grad = None;
-    Pixmap mask = None;
-    RContext *rc = WMScreenRContext(scr);
-    XFontStruct *f = NULL;
-    int w, h;
-    GC gc = None;
-
-    f = XLoadQueryFont(dpy, font);
-    if (!f)
-	return NULL;
-
-    w = XTextWidth(f, text, strlen(text));
-    h = f->ascent+f->descent;
-
-    mask = XCreatePixmap(dpy, rc->drawable, w, h, 1);
-    gc = XCreateGC(dpy, mask, 0, NULL);
-    XSetForeground(dpy, gc, 0);
-    XSetFont(dpy, gc, f->fid);
-    XFillRectangle(dpy, mask, gc, 0, 0, w, h);
-
-    XSetForeground(dpy, gc, 1);
-    XDrawString(dpy, mask, gc, 0, f->ascent, text, strlen(text));
-    XSetLineAttributes(dpy, gc, 3, LineSolid, CapRound, JoinMiter);
-    XDrawLine(dpy, mask, gc, 0, h-2, w, h-2);
-
-    grad = XCreatePixmap(dpy, rc->drawable, w, h, rc->depth);
-    {
-	WMColor *color;
-
-	color = WMBlackColor(scr);
-	XFillRectangle(dpy, grad, WMColorGC(color), 0, 0, w, h);
-	WMReleaseColor(color);
-    }
-
-    wpix = WMCreatePixmapFromXPixmaps(scr, grad, mask, w, h, rc->depth);
-
-    if (gc)
-	XFreeGC(dpy, gc);
-    XFreeFont(dpy, f);
-
-    return wpix;
-}
-
 #ifdef SILLYNESS
 
 extern WMPixmap *DoXThing();
@@ -1239,7 +1166,7 @@
         /* Alternatively we can draw text in a pixmap and scroll it smoothly */
         if ((panel->oldFont = WMGetLabelFont(panel->versionL))!=NULL)
             WMRetainFont(panel->oldFont);
-        font = WMCreateFont(WMWidgetScreen(panel->versionL), "-*-fixed-*-*-*-*-14-*-*-*-*-*-*-*");
+        font = WMCreateFont(WMWidgetScreen(panel->versionL), "-*-fixed-medium-r-*-*-13-*-*-*-*-*-*-*");
         if (font) {
             WMSetLabelFont(panel->versionL, font);
             WMReleaseFont(font);
@@ -1287,9 +1214,8 @@
     char buffer[256];
     Window parent;
     WWindow *wwin;
-    RColor color1, color2;
     char **strl;
-    int i;
+    int i, width, sepWidth;
     char *visuals[] = {
 	"StaticGray",
 	    "GrayScale",
@@ -1314,7 +1240,7 @@
     panel->scr = scr;
 
     panel->win = WMCreateWindow(scr->wmscreen, "info");
-    WMResizeWidget(panel->win, 382, 230);
+    WMResizeWidget(panel->win, 390, 230);
 
     logo = WMCreateApplicationIconBlendedPixmap(scr->wmscreen, (RColor*)NULL);
     if (!logo) {
@@ -1334,30 +1260,31 @@
         WMReleasePixmap(logo);
     }
 
+    sepWidth = 3;
     panel->name1L = WMCreateLabel(panel->win);
-    WMResizeWidget(panel->name1L, 240, 30);
+    WMResizeWidget(panel->name1L, 240, 30 - sepWidth);
     WMMoveWidget(panel->name1L, 100, 30);
-    color1.red = 0;
-    color1.green = 0;
-    color1.blue = 0;
-    color2.red = 0x50;
-    color2.green = 0x50;
-    color2.blue = 0x70;
-    logo = renderText(scr->wmscreen, "Window Maker",
-		      "-*-utopia-*-r-*-*-25-*", &color1, &color2);
-    if (logo) {
-	WMSetLabelImagePosition(panel->name1L, WIPImageOnly);
-	WMSetLabelImage(panel->name1L, logo);
-	WMReleasePixmap(logo);
+
+    if (WMIsAntialiasingEnabled(scr->wmscreen)) {
+        font = WMBoldSystemFontOfSize(scr->wmscreen, 24);
     } else {
-	font = WMBoldSystemFontOfSize(scr->wmscreen, 20);
-	if (font) {
-	    WMSetLabelFont(panel->name1L, font);
-	    WMReleaseFont(font);
-	}
-	WMSetLabelTextAlignment(panel->name1L, WACenter);
-	WMSetLabelText(panel->name1L, "Window Maker");
+        font = WMCreateFont(scr->wmscreen, "-*-utopia-*-r-*-*-25-*");
+        font = font ? font : WMBoldSystemFontOfSize(scr->wmscreen, 24);
+    }
+    strbuf = "Window Maker";
+    if (font) {
+        width = WMWidthOfString(font, strbuf, strlen(strbuf));
+        WMSetLabelFont(panel->name1L, font);
+        WMReleaseFont(font);
     }
+    WMSetLabelTextAlignment(panel->name1L, WACenter);
+    WMSetLabelText(panel->name1L, strbuf);
+
+    panel->lineF = WMCreateFrame(panel->win);
+    WMResizeWidget(panel->lineF, width, sepWidth);
+    WMMoveWidget(panel->lineF, 100+(240-width)/2, 60 - sepWidth);
+    WMSetFrameRelief(panel->lineF, WRSimple);
+    WMSetWidgetBackgroundColor(panel->lineF, scr->black);
 
     panel->name2L = WMCreateLabel(panel->win);
     WMResizeWidget(panel->name2L, 240, 24);
@@ -1371,7 +1298,6 @@
     WMSetLabelTextAlignment(panel->name2L, WACenter);
     WMSetLabelText(panel->name2L, _("Window Manager for X"));
 
-    
     snprintf(buffer, sizeof(buffer), _("Version %s"), VERSION);
     panel->versionL = WMCreateLabel(panel->win);
     WMResizeWidget(panel->versionL, 310, 16);
@@ -1381,12 +1307,12 @@
     WMSetLabelWraps(panel->versionL, False);
 
     panel->copyrL = WMCreateLabel(panel->win);
-    WMResizeWidget(panel->copyrL, 340, 40);
+    WMResizeWidget(panel->copyrL, 360, 40);
     WMMoveWidget(panel->copyrL, 15, 185);
     WMSetLabelTextAlignment(panel->copyrL, WALeft);
     WMSetLabelText(panel->copyrL, COPYRIGHT_TEXT);
-    /* we want the (c) character in the helvetica font */
-    font = WMCreateNormalFont(scr->wmscreen, HELVETICA10_FONT);
+    /* we want the (c) character in the font, so don't use a FontSet here */
+    font = WMCreateFontWithFlags(scr->wmscreen, "SystemFont-11", WFNormalFont);
     if (font) {
         WMSetLabelFont(panel->copyrL, font);
         WMReleaseFont(font);
@@ -1474,12 +1400,16 @@
         strbuf = wstrappend(strbuf, _("\nSound enabled"));
     }
 
+#ifdef XFT
+    strbuf = wstrappend(strbuf, _("; Antialiased text"));
+#endif
+
 
     panel->infoL = WMCreateLabel(panel->win);
     WMResizeWidget(panel->infoL, 350, 75);
     WMMoveWidget(panel->infoL, 15, 115);
     WMSetLabelText(panel->infoL, strbuf);
-    font = WMCreateFont(scr->wmscreen, HELVETICA10_FONT);
+    font = WMSystemFontOfSize(scr->wmscreen, 11);
     if (font) {
 	WMSetLabelFont(panel->infoL, font);
         WMReleaseFont(font);
@@ -1980,7 +1910,7 @@
     panel->scr = scr;
 
     panel->win = WMCreateWindow(scr->wmscreen, "About GNUstep");
-    WMResizeWidget(panel->win, 325, 200);
+    WMResizeWidget(panel->win, 325, 205);
 
     pixmap = WMCreatePixmap(scr->wmscreen, 130, 130,
 			    WMScreenDepth(scr->wmscreen), True);
@@ -2010,8 +1940,8 @@
     }
 
     panel->textL = WMCreateLabel(panel->win);
-    WMResizeWidget(panel->textL, 275, 130);
-    WMMoveWidget(panel->textL, 30, 50);
+    WMResizeWidget(panel->textL, 305, 140);
+    WMMoveWidget(panel->textL, 10, 50);
     WMSetLabelTextAlignment(panel->textL, WARight);
     WMSetLabelImagePosition(panel->textL, WIPOverlaps);
     WMSetLabelText(panel->textL,
diff -Naur WindowMaker-0.80.2/src/dialog.h wm-xft2/src/dialog.h
--- WindowMaker-0.80.2/src/dialog.h	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/dialog.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/dock.c wm-xft2/src/dock.c
--- WindowMaker-0.80.2/src/dock.c	2002-02-21 14:28:48.000000000 +0300
+++ wm-xft2/src/dock.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,8 +2,8 @@
  *
  *  Window Maker window manager
  *
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
- *  Copyright (c) 1998-2002 Dan Pascu
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Dan Pascu
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -54,9 +54,7 @@
 #include "framewin.h"
 #include "superfluous.h"
 #include "wsound.h"
-
-
-#include <WINGs/WUtil.h>
+#include "xinerama.h"
 
 
 
@@ -268,7 +266,7 @@
     if (icon->icon && icon->icon->owner) {
         fPtr = icon->icon->owner->fake_group;
     } else {
-        /* is this really necessary? can we kill a dock icon not running? */
+        /* is this really necessary? can we kill a non-running dock icon? */
         Window win = icon->main_window;
         int index;
 
@@ -352,11 +350,20 @@
     int pt = CLIP_BUTTON_SIZE*ICON_SIZE/64;
     int tp = ICON_SIZE - pt;
     int as = pt - 15; /* 15 = 5+5+5 */
-    GC gc = scr->clip_title_gc;
+    GC gc = scr->draw_gc; /* maybe use WMColorGC() instead here? */
+    WMColor *color;
 #ifdef GRADIENT_CLIP_ARROW
     Bool collapsed = clipIcon->dock->collapsed;
 #endif
 
+    //if (!clipIcon->dock->collapsed)
+    //    color = scr->clip_title_color[CLIP_NORMAL];
+    //else
+    //    color = scr->clip_title_color[CLIP_COLLAPSED];
+    color = scr->clip_title_color[CLIP_NORMAL];
+
+    XSetForeground(dpy, gc, WMColorPixel(color));
+
     if (rpushed) {
 	p[0].x = tp+1;
 	p[0].y = 1;
@@ -571,7 +578,8 @@
         keepit = aicon->running && wApplicationOf(aicon->main_window);
         wDockDetach(dock, aicon);
         if (keepit) {
-            PlaceIcon(dock->screen_ptr, &aicon->x_pos, &aicon->y_pos);
+	    /* XXX: can: aicon->icon == NULL ? */
+            PlaceIcon(dock->screen_ptr, &aicon->x_pos, &aicon->y_pos, wGetHeadForWindow(aicon->icon->owner));
             XMoveWindow(dpy, aicon->icon->core->window,
                         aicon->x_pos, aicon->y_pos);
             if (!dock->mapped || dock->collapsed)
@@ -1255,7 +1263,8 @@
             int keepit = aicon->running && wApplicationOf(aicon->main_window);
             wDockDetach(dock, aicon);
             if (keepit) {
-                PlaceIcon(dock->screen_ptr, &aicon->x_pos, &aicon->y_pos);
+		/* XXX: can: aicon->icon == NULL ? */
+                PlaceIcon(dock->screen_ptr, &aicon->x_pos, &aicon->y_pos, wGetHeadForWindow(aicon->icon->owner));
                 XMoveWindow(dpy, aicon->icon->core->window,
                             aicon->x_pos, aicon->y_pos);
                 if (!dock->mapped || dock->collapsed)
@@ -1279,7 +1288,7 @@
 {
     WScreen *scr = aicon->icon->core->screen_ptr;
     WWorkspace *workspace = scr->workspaces[scr->current_workspace];
-    GC gc;
+    WMColor *color;
     Window win = aicon->icon->core->window;
     int length, nlength;
     char *ws_name, ws_number[10];
@@ -1293,25 +1302,25 @@
     snprintf(ws_number, sizeof(ws_number), "%i", scr->current_workspace + 1);
     nlength = strlen(ws_number);
 
-    gc = scr->clip_title_gc;
-
     if (!workspace->clip->collapsed)
-        XSetForeground(dpy, gc, scr->clip_title_pixel[CLIP_NORMAL]);
+        color = scr->clip_title_color[CLIP_NORMAL];
     else
-        XSetForeground(dpy, gc, scr->clip_title_pixel[CLIP_COLLAPSED]);
+        color = scr->clip_title_color[CLIP_COLLAPSED];
 
     ty = ICON_SIZE - WMFontHeight(scr->clip_title_font) - 3;
 
     tx = CLIP_BUTTON_SIZE*ICON_SIZE/64;
 
-    WMDrawString(scr->wmscreen, win, gc, scr->clip_title_font, tx,
-		 ty, ws_name, length);
+    WMDrawString(scr->wmscreen, win, color, scr->clip_title_font, tx,
+        	 ty, ws_name, length);
+    /*WMDrawString(scr->wmscreen, win, color, scr->clip_title_font, 4,
+        	 2, ws_name, length);*/
 
     tx = (ICON_SIZE/2 - WMWidthOfString(scr->clip_title_font, ws_number,
 					nlength))/2;
 
-    WMDrawString(scr->wmscreen, win, gc, scr->clip_title_font, tx,
-		 2, ws_number, nlength);
+    WMDrawString(scr->wmscreen, win, color, scr->clip_title_font, tx,
+        	 2, ws_number, nlength);
 
     wfree(ws_name);
 
@@ -1706,20 +1715,22 @@
 	if (!WMIsPLString(value))
 	    COMPLAIN("Position");
 	else {
+	    WMRect rect;
+	    int flags;
+
 	    if (sscanf(WMGetFromPLString(value), "%i,%i", &icon->x_pos,
 		       &icon->y_pos)!=2)
 		COMPLAIN("Position");
 
 	    /* check position sanity */
-	    if (icon->y_pos < 0)
-		icon->y_pos = 0;
-	    else if (icon->y_pos > scr->scr_height-ICON_SIZE)
-                icon->y_pos = scr->scr_height-ICON_SIZE;
-
-            if (icon->x_pos < 0)
-                icon->x_pos = 0;
-            else if (icon->x_pos > scr->scr_width-ICON_SIZE)
-                icon->x_pos = scr->scr_width-ICON_SIZE;
+	    rect.pos.x = icon->x_pos;
+	    rect.pos.y = icon->y_pos;
+	    rect.size.width = rect.size.height = ICON_SIZE;
+		
+	    wGetRectPlacementInfo(scr, rect, &flags);
+	    if (flags & (XFLAG_DEAD | XFLAG_PARTIAL))
+		wScreenKeepInside(scr, &icon->x_pos, &icon->y_pos, 
+				  ICON_SIZE, ICON_SIZE);
 	}
     }
 
@@ -1766,15 +1777,23 @@
         if (!WMIsPLString(value))
             COMPLAIN("Position");
         else {
+	    WMRect rect;
+	    int flags;
+
             if (sscanf(WMGetFromPLString(value), "%i,%i", &dock->x_pos,
                        &dock->y_pos)!=2)
                 COMPLAIN("Position");
 
             /* check position sanity */
-            if (dock->y_pos < 0)
-                dock->y_pos = 0;
-            else if (dock->y_pos > scr->scr_height-ICON_SIZE)
-                dock->y_pos = scr->scr_height - ICON_SIZE;
+	    rect.pos.x = dock->x_pos;
+	    rect.pos.y = dock->y_pos;
+	    rect.size.width = rect.size.height = ICON_SIZE;
+		
+	    wGetRectPlacementInfo(scr, rect, &flags);
+	    if (flags & (XFLAG_DEAD | XFLAG_PARTIAL)) {
+		int x = dock->x_pos;
+		wScreenKeepInside(scr, &x, &dock->y_pos, ICON_SIZE, ICON_SIZE);
+	    }
 
             /* This is no more needed. ??? */
             if (type == WM_CLIP) {
@@ -2458,6 +2477,7 @@
     WAppIcon *nicon = NULL;
     int max_y_icons, max_x_icons;
 
+    /* TODO: XINERAMA, for these */
     max_x_icons = scr->scr_width/ICON_SIZE;
     max_y_icons = scr->scr_height/ICON_SIZE-1;
 
@@ -2485,11 +2505,18 @@
         ex_x = (req_x + offset - dx)/ICON_SIZE;
 
     /* check if the icon is outside the screen boundaries */
-    if (dx + ex_x*ICON_SIZE < -ICON_SIZE+2 ||
-	dx + ex_x*ICON_SIZE >= scr->scr_width-1 ||
-	dy + ex_y*ICON_SIZE < -ICON_SIZE+2 ||
-	dy + ex_y*ICON_SIZE >= scr->scr_height-1)
-	return False;
+    {
+	WMRect rect;
+	int flags;
+
+	rect.pos.x = dx + ex_x*ICON_SIZE;
+	rect.pos.y = dy + ex_y*ICON_SIZE;
+	rect.size.width = rect.size.height = ICON_SIZE;
+
+	wGetRectPlacementInfo(scr, rect, &flags);
+	if (flags & (XFLAG_DEAD | XFLAG_PARTIAL))
+	    return False;
+    }
 
     if (dock->type == WM_DOCK) {
 	if (icon->dock != dock && ex_x != 0)
@@ -2617,9 +2644,16 @@
 }
 
 
-#define ON_SCREEN(x, y, sx, ex, sy, ey) \
-    ((((x)+ICON_SIZE/2) >= (sx)) && (((y)+ICON_SIZE/2) >= (sy)) && \
-    (((x) + (ICON_SIZE/2)) <= (ex)) && (((y) + (ICON_SIZE/2)) <= ey))
+static int
+onScreen(WScreen *scr, int x, int y, int sx, int ex, int sy, int ey)
+{
+    WMRect rect = wmkrect(x, y, ICON_SIZE, ICON_SIZE);
+    int flags;
+
+    wGetRectPlacementInfo(scr, rect, &flags);
+
+    return !(flags & (XFLAG_DEAD | XFLAG_PARTIAL));
+}
 
 
 /*
@@ -2854,7 +2888,7 @@
 	    y = -i;
 	    ty = dock->y_pos + y*ICON_SIZE;
 	    if (slot_map[XY2OFS(x,y)]==0
-		&& ON_SCREEN(tx, ty, sx, ex, sy, ey)) {
+		&& onScreen(scr, tx, ty, sx, ex, sy, ey)) {
 		*x_pos = x;
 		*y_pos = y;
 		done = 1;
@@ -2863,7 +2897,7 @@
 	    y = i;
 	    ty = dock->y_pos + y*ICON_SIZE;
 	    if (slot_map[XY2OFS(x,y)]==0
-		&& ON_SCREEN(tx, ty, sx, ex, sy, ey)) {
+		&& onScreen(scr, tx, ty, sx, ex, sy, ey)) {
 		*x_pos = x;
 		*y_pos = y;
 		done = 1;
@@ -2876,7 +2910,7 @@
 	    x = -i;
 	    tx = dock->x_pos + x*ICON_SIZE;
 	    if (slot_map[XY2OFS(x,y)]==0
-		&& ON_SCREEN(tx, ty, sx, ex, sy, ey)) {
+		&& onScreen(scr, tx, ty, sx, ex, sy, ey)) {
 		*x_pos = x;
 		*y_pos = y;
 		done = 1;
@@ -2885,7 +2919,7 @@
 	    x = i;
 	    tx = dock->x_pos + x*ICON_SIZE;
 	    if (slot_map[XY2OFS(x,y)]==0
-		&& ON_SCREEN(tx, ty, sx, ex, sy, ey)) {
+		&& onScreen(scr, tx, ty, sx, ex, sy, ey)) {
 		*x_pos = x;
 		*y_pos = y;
 		done = 1;
@@ -2979,8 +3013,8 @@
 
 	SetupEnvironment(scr);
 
-#ifdef HAVE_SETPGID
-        setpgid(0, 0);
+#ifdef HAVE_SETSID
+        setsid();
 #endif
 
 	args = malloc(sizeof(char*)*(argc+1));
@@ -3214,7 +3248,8 @@
                 aicon = wAppIconCreateForDock(dock->screen_ptr, NULL,
                                               wm_instance, wm_class,
                                               TILE_NORMAL);
-                PlaceIcon(dock->screen_ptr, &x0, &y0);
+		/* XXX: can: aicon->icon == NULL ? */
+                PlaceIcon(dock->screen_ptr, &x0, &y0, wGetHeadForWindow(aicon->icon->owner));
                 wAppIconMove(aicon, x0, y0);
                 /* Should this always be lowered? -Dan */
                 if (dock->lowered)
@@ -3520,10 +3555,16 @@
 	wMenuRealize(dock->menu);
 
     if (dock->type == WM_CLIP) {
-	x_pos = event->xbutton.x_root+2;
+        /*x_pos = event->xbutton.x_root+2;*/
+        x_pos = event->xbutton.x_root - dock->menu->frame->core->width/2 - 1;
+        if (x_pos < 0) {
+            x_pos = 0;
+        } else if (x_pos + dock->menu->frame->core->width > scr->scr_width-2) {
+            x_pos = scr->scr_width - dock->menu->frame->core->width - 4;
+        }
     } else {
 	x_pos = dock->on_right_side ?
-	    scr->scr_width - dock->menu->frame->core->width - 2 : 0;
+	    scr->scr_width - dock->menu->frame->core->width - 3 : 0;
     }
 
     wMenuMapAt(dock->menu, x_pos, event->xbutton.y_root+2, False);
@@ -3535,17 +3576,6 @@
 }
 
 
-static void
-openClipWorkspaceMenu(WScreen *scr, int x, int y)
-{
-    if (!scr->clip_ws_menu) {
-	scr->clip_ws_menu = wWorkspaceMenuMake(scr, False);
-    }
-    wWorkspaceMenuUpdate(scr, scr->clip_ws_menu);
-    wMenuMapAt(scr->clip_ws_menu, x, y, False);
-}
-
-
 /******************************************************************/
 static void
 iconDblClick(WObjDescriptor *desc, XEvent *event)
@@ -3650,22 +3680,10 @@
 		break;
 	    }
             if (dock->type == WM_CLIP) {
-                if (ev.xmotion.x_root - ofs_x < 0) {
-                    x = 0;
-                } else if (ev.xmotion.x_root - ofs_x + ICON_SIZE >
-                           scr->scr_width) {
-                    x = scr->scr_width - ICON_SIZE;
-                } else {
-                    x = ev.xmotion.x_root - ofs_x;
-                }
-                if (ev.xmotion.y_root - ofs_y < 0) {
-                    y = 0;
-                } else if (ev.xmotion.y_root - ofs_y + ICON_SIZE >
-                           scr->scr_height) {
-                    y = scr->scr_height - ICON_SIZE;
-                } else {
-                    y = ev.xmotion.y_root - ofs_y;
-                }
+		x = ev.xmotion.x_root - ofs_x;
+		y = ev.xmotion.y_root - ofs_y;
+		wScreenKeepInside(scr, &x, &y, ICON_SIZE, ICON_SIZE);
+
                 moveDock(dock, x, y);
             } else {
             /* move vertically if pointer is inside the dock*/
@@ -3674,14 +3692,9 @@
 		|| (!dock->on_right_side &&
 		    ev.xmotion.x_root <= dock->x_pos + ICON_SIZE*2)) {
 
-		if (ev.xmotion.y_root - ofs_y < 0) {
-		    y = 0;
-		} else if (ev.xmotion.y_root - ofs_y + ICON_SIZE >
-			   scr->scr_height) {
-		    y = scr->scr_height - ICON_SIZE;
-		} else {
-		    y = ev.xmotion.y_root - ofs_y;
-		}
+		x = ev.xmotion.x_root - ofs_x;
+		y = ev.xmotion.y_root - ofs_y;
+		wScreenKeepInside(scr, &x, &y, ICON_SIZE, ICON_SIZE);
                 moveDock(dock, dock->x_pos, y);
 	    }
 	    /* move horizontally to change sides */
@@ -4136,13 +4149,24 @@
 
     } else if (event->xbutton.button==Button2 && dock->type==WM_CLIP &&
                aicon==scr->clip_icon) {
-        openClipWorkspaceMenu(scr, event->xbutton.x_root+2,
-			      event->xbutton.y_root+2);
+        if (!scr->clip_ws_menu) {
+            scr->clip_ws_menu = wWorkspaceMenuMake(scr, False);
+        }
         if (scr->clip_ws_menu) {
-            WMenu *menu;
-	    menu = scr->clip_ws_menu;
-            desc = &menu->menu->descriptor;
+            WMenu *wsMenu = scr->clip_ws_menu;
+            int xpos;
+
+            wWorkspaceMenuUpdate(scr, wsMenu);
 
+            xpos = event->xbutton.x_root - wsMenu->frame->core->width/2 - 1;
+            if (xpos < 0) {
+                xpos = 0;
+            } else if (xpos + wsMenu->frame->core->width > scr->scr_width-2) {
+                xpos = scr->scr_width - wsMenu->frame->core->width - 4;
+            }
+            wMenuMapAt(wsMenu, xpos, event->xbutton.y_root+2, False);
+
+            desc = &wsMenu->menu->descriptor;
             event->xany.send_event = True;
             (*desc->handle_mousedown)(desc, event);
         }
@@ -4161,11 +4185,11 @@
 	openDockMenu(dock, aicon, event);
     } else if (event->xbutton.button == Button2) {
 	WAppIcon *btn = desc->parent;
-	
+
 	if (!btn->launching &&
 	    (!btn->running || (event->xbutton.state & ControlMask))) {
 	    launchDockedApplication(btn, True);
-	}	
+        }
     }
 }
 
@@ -4205,11 +4229,11 @@
 	XRestackWindows(dpy, stack, 2);
     }
     XMoveWindow(dpy, scr->clip_balloon, x, y);
-    XSetForeground(dpy, scr->clip_title_gc,
-		   scr->clip_title_pixel[CLIP_NORMAL]);
     XClearWindow(dpy, scr->clip_balloon);
-    WMDrawString(scr->wmscreen, scr->clip_balloon, scr->clip_title_gc,
-		 scr->clip_title_font, 0, 0, text, strlen(text));
+    WMDrawString(scr->wmscreen, scr->clip_balloon,
+                 scr->clip_title_color[CLIP_NORMAL],
+                 scr->clip_title_font,
+                 0, 0, text, strlen(text));
 }
 
 
diff -Naur WindowMaker-0.80.2/src/dockedapp.c wm-xft2/src/dockedapp.c
--- WindowMaker-0.80.2/src/dockedapp.c	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/dockedapp.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  *
  *  Window Maker window manager
  *
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -38,6 +38,7 @@
 #include "funcs.h"
 #include "defaults.h"
 #include "framewin.h"
+#include "xinerama.h"
 
 
 /**** Global variables ****/
@@ -448,20 +449,28 @@
 
     XReparentWindow(dpy, WMWidgetXID(panel->win), parent, 0, 0);
 
-    y = aicon->y_pos;
-    if (y < 0)
-	y = 0;
-    else if (y + PHEIGHT > scr->scr_height)
-	y = scr->scr_height - PHEIGHT - 30;
-
-    if (aicon->dock && aicon->dock->type == WM_DOCK) {
-	if (aicon->dock->on_right_side)
-	    x = scr->scr_width/2;
-	else
-	    x = scr->scr_width/2 - PWIDTH - 2;
-    } else {
-	x = (scr->scr_width - PWIDTH)/2;
+    /*
+     * make things relative to head
+     */
+    {
+	WMRect rect = wGetRectForHead(scr, wGetHeadForPointerLocation(scr));
+
+	y = aicon->y_pos;
+	if (y < 0)
+	    y = 0;
+	else if (y + PHEIGHT > rect.pos.y + rect.size.height)
+	    y = rect.pos.y + rect.size.height - PHEIGHT - 30;
+
+	if (aicon->dock && aicon->dock->type == WM_DOCK) {
+	    if (aicon->dock->on_right_side)
+		x = rect.pos.x + rect.size.width/2;
+	    else
+		x = rect.pos.x + rect.size.width/2 - PWIDTH - 2;
+	} else {
+	    x = rect.pos.x + (rect.size.width - PWIDTH)/2;
+	}
     }
+
     panel->wwin = wManageInternalWindow(scr, parent, None,
 					_("Docked Application Settings"),
 					x, y, PWIDTH, PHEIGHT);
diff -Naur WindowMaker-0.80.2/src/dock.h wm-xft2/src/dock.h
--- WindowMaker-0.80.2/src/dock.h	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/dock.h	2003-10-22 14:08:38.000000000 +0400
@@ -2,8 +2,8 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
- *  Copyright (c) 1998-2002 Dan Pascu
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Dan Pascu
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/event.c wm-xft2/src/event.c
--- WindowMaker-0.80.2/src/event.c	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/event.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -58,6 +58,7 @@
 #include "framewin.h"
 #include "properties.h"
 #include "balloon.h"
+#include "xinerama.h"
 
 #ifdef GNOME_STUFF
 # include "gnome.h"
@@ -402,7 +403,10 @@
 static void
 saveTimestamp(XEvent *event)
 {
-    LastTimestamp = CurrentTime;
+    /*
+     * Never save CurrentTime as LastTimestamp because CurrentTime
+     * it's not a real timestamp (it's the 0L constant)
+     */
 
     switch (event->type) {
      case ButtonRelease:
@@ -432,7 +436,7 @@
      case SelectionNotify:
 	LastTimestamp = event->xselection.time;
 #ifdef XDND
-    wXDNDProcessSelection(event);
+        wXDNDProcessSelection(event);
 #endif
 	break;
     }
@@ -1143,7 +1147,7 @@
 	&& event->xcrossing.detail == NotifyNormal
 	&& event->xcrossing.detail != NotifyInferior
 	&& wPreferences.focus_mode != WKF_CLICK) {
-
+	
 	wSetFocusTo(scr, scr->focused_window);
     }
 
@@ -1163,15 +1167,6 @@
         if(desc->handle_leavenotify)
 	    (*desc->handle_leavenotify)(desc, event);
     }
-    if (event->xcrossing.window == event->xcrossing.root
-	&& event->xcrossing.mode == NotifyNormal
-	&& event->xcrossing.detail != NotifyInferior
-	&& wPreferences.focus_mode != WKF_CLICK) {
-
-	WScreen *scr = wScreenForRootWindow(event->xcrossing.root);
-
-	wSetFocusTo(scr, NULL);
-    }
 }
 
 
@@ -1403,10 +1398,16 @@
 #ifndef LITE
      case WKBD_ROOTMENU:
 	/*OpenRootMenu(scr, event->xkey.x_root, event->xkey.y_root, True);*/
-        OpenRootMenu(scr, scr->scr_width/2, scr->scr_height/2, True);
+	{
+	    WMRect rect = wGetRectForHead(scr, wGetHeadForPointerLocation(scr));
+            OpenRootMenu(scr, rect.pos.x + rect.size.width/2, rect.pos.y + rect.size.height/2, True);
+	}
         break;
      case WKBD_WINDOWLIST:
-        OpenSwitchMenu(scr, scr->scr_width/2, scr->scr_height/2, True);
+	{
+	    WMRect rect = wGetRectForHead(scr, wGetHeadForPointerLocation(scr));
+            OpenSwitchMenu(scr, rect.pos.x + rect.size.width/2, rect.pos.y + rect.size.height/2, True);
+	}
         break;
 #endif /* !LITE */
      case WKBD_WINDOWMENU:
@@ -1446,35 +1447,41 @@
 	break;
      case WKBD_MAXIMIZE:
 	if (ISMAPPED(wwin) && ISFOCUSED(wwin) && !WFLAGP(wwin, no_resizable)) {
-	    CloseWindowMenu(scr);
-	    
-	    if (wwin->flags.maximized) {
+            int newdir = (MAX_VERTICAL|MAX_HORIZONTAL);
+
+            CloseWindowMenu(scr);
+
+	    if (wwin->flags.maximized == newdir) {
 		wUnmaximizeWindow(wwin);
-	    } else {
-		wMaximizeWindow(wwin, MAX_VERTICAL|MAX_HORIZONTAL);
+            } else {
+		wMaximizeWindow(wwin, newdir|MAX_KEYBOARD);
 	    }
 	}
 	break;
      case WKBD_VMAXIMIZE:
 	if (ISMAPPED(wwin) && ISFOCUSED(wwin) && !WFLAGP(wwin, no_resizable)) {
+            int newdir = (MAX_VERTICAL ^ wwin->flags.maximized);
+
 	    CloseWindowMenu(scr);
-	    
-	    if (wwin->flags.maximized) {
-		wUnmaximizeWindow(wwin);
+
+            if (newdir) {
+		wMaximizeWindow(wwin, newdir|MAX_KEYBOARD);
 	    } else {
-		wMaximizeWindow(wwin, MAX_VERTICAL);
-	    }
+		wUnmaximizeWindow(wwin);
+            }
 	}
 	break;
      case WKBD_HMAXIMIZE:
 	if (ISMAPPED(wwin) && ISFOCUSED(wwin) && !WFLAGP(wwin, no_resizable)) {
+            int newdir = (MAX_HORIZONTAL ^ wwin->flags.maximized);
+
 	    CloseWindowMenu(scr);
-	    
-	    if (wwin->flags.maximized) {
-		wUnmaximizeWindow(wwin);
+
+            if (newdir) {
+		wMaximizeWindow(wwin, newdir|MAX_KEYBOARD);
 	    } else {
-		wMaximizeWindow(wwin, MAX_HORIZONTAL);
-	    }
+		wUnmaximizeWindow(wwin);
+            }
 	}
 	break;
      case WKBD_RAISE:
@@ -1719,15 +1726,18 @@
 static void 
 handleMotionNotify(XEvent *event)
 {
-    WMenu *menu;
     WScreen *scr = wScreenForRootWindow(event->xmotion.root);
 
     if (wPreferences.scrollable_menus) {
-        if (scr->flags.jump_back_pending ||
-            event->xmotion.x_root <= 1 ||
-            event->xmotion.x_root >= (scr->scr_width - 2) ||
-            event->xmotion.y_root <= 1 ||
-            event->xmotion.y_root >= (scr->scr_height - 2)) {
+        WMPoint p = wmkpoint(event->xmotion.x_root, event->xmotion.y_root);
+        WMRect rect = wGetRectForHead(scr, wGetHeadForPoint(scr, p));
+
+	if (scr->flags.jump_back_pending ||
+	    p.x <= (rect.pos.x + 1) ||
+	    p.x >= (rect.pos.x + rect.size.width - 2) ||
+	    p.y <= (rect.pos.y + 1) ||
+	    p.y >= (rect.pos.y + rect.size.height - 2)) {
+    	    WMenu *menu;
 #ifdef DEBUG
             L("pointer at screen edge");
 #endif
diff -Naur WindowMaker-0.80.2/src/framewin.c wm-xft2/src/framewin.c
--- WindowMaker-0.80.2/src/framewin.c	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/framewin.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /* 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -65,8 +65,7 @@
 wFrameWindowCreate(WScreen *scr, int wlevel, int x, int y, 
 		   int width, int height, int *clearance, int flags,
 		   WTexture **title_texture, WTexture **resize_texture,
-		   unsigned long *color,
-           GC *gc, WMFont **font)
+		   WMColor **color, WMFont **font)
 {
     WFrameWindow *fwin;
     
@@ -79,9 +78,8 @@
     
     fwin->title_texture = title_texture;
     fwin->resizebar_texture = resize_texture;
-    fwin->title_pixel = color;
+    fwin->title_color = color;
     fwin->title_clearance = clearance;
-    fwin->title_gc = gc;
     fwin->font = font;
 #ifdef KEEP_XKB_LOCK_STATUS
     fwin->languagemode = XkbGroup1Index;
@@ -787,7 +785,7 @@
 {
     int i;
     unsigned long pixel;
-		
+
     i = fwin->flags.state;
     if (fwin->titlebar) {
 	if (fwin->title_texture[i]->any.type!=WTEX_SOLID) {
@@ -802,9 +800,9 @@
 		if (fwin->language_button && fwin->languagebutton_back[i]) {
 		    XSetWindowBackgroundPixmap(dpy, fwin->language_button->window,
 					       fwin->languagebutton_back[i]);
-        }
+                }
 #endif
-		
+
 		if (fwin->right_button && fwin->rbutton_back[i])
 		    XSetWindowBackgroundPixmap(dpy, fwin->right_button->window,
 					       fwin->rbutton_back[i]);
@@ -867,10 +865,10 @@
 
 	if (fwin->title_texture[state]->any.type!=WTEX_SOLID) {
 	    int left, right;
+	    int width;
 #ifdef XKB_BUTTON_HINT
-        int language;
+            int language;
 #endif
-	    int width;
 
 	    /* eventually surrounded by if new_style */
 	    left = fwin->left_button && !fwin->flags.hide_left_button
@@ -940,6 +938,9 @@
 wFrameWindowPaint(WFrameWindow *fwin)
 {
     WScreen *scr = fwin->screen_ptr;
+    int state;
+
+    state = fwin->flags.state;
 
     if (fwin->flags.is_client_window_frame)
 	fwin->flags.justification = wPreferences.title_justification;
@@ -955,13 +956,14 @@
 	    updateTexture(fwin);
 	} else {
 	    /* first render the texture for the current state... */
-	    remakeTexture(fwin, fwin->flags.state);
+	    remakeTexture(fwin, state);
 	    /* ... and paint it */
 	    updateTexture(fwin);
 
 	    for (i=0; i < 3; i++) {
-		if (i!=fwin->flags.state)
-		    remakeTexture(fwin, i);
+                if (i != state) {
+                    remakeTexture(fwin, i);
+                }
 	    }
 	}
     }
@@ -973,10 +975,10 @@
     }
 
     if (fwin->titlebar && !fwin->flags.repaint_only_resizebar
-	&& fwin->title_texture[fwin->flags.state]->any.type==WTEX_SOLID) {
+	&& fwin->title_texture[state]->any.type==WTEX_SOLID) {
         wDrawBevel(fwin->titlebar->window, fwin->titlebar->width,
                 fwin->titlebar->height,
-                (WTexSolid*)fwin->title_texture[fwin->flags.state], 
+                (WTexSolid*)fwin->title_texture[state],
                 WREL_RAISED);
     }
 
@@ -1015,7 +1017,7 @@
     
     
     if (fwin->titlebar && !fwin->flags.repaint_only_resizebar) {
-        int x, w;
+        int x, y, w, h;
         int lofs = 6, rofs = 6;
         int titlelen;
         int allButtons = 1;
@@ -1035,7 +1037,7 @@
 	    else
 		allButtons = 0;
 #endif
-	    
+
 	    if (fwin->right_button && !fwin->flags.hide_right_button
 		&& !fwin->flags.rbutton_dont_fit)
 		rofs += fwin->right_button->width + 3;
@@ -1049,13 +1051,14 @@
 #endif
 
 	if (fwin->title) {
-	    char *title;
-	    
+            Drawable buf;
+            char *title;
+
 	    title = ShrinkString(*fwin->font, fwin->title,
 				 fwin->titlebar->width - lofs - rofs);
 	    titlelen = strlen(title);
 	    w = WMWidthOfString(*fwin->font, title, titlelen);
-	    
+
 	    switch (fwin->flags.justification) {
 	     case WTJ_LEFT:
 		x = lofs;
@@ -1072,17 +1075,43 @@
 		    x = (fwin->titlebar->width - w) / 2;
 		break;
 	    }
-	    
-	    XSetForeground(dpy, *fwin->title_gc, 
-			   fwin->title_pixel[fwin->flags.state]);
-	    
-	    WMDrawString(scr->wmscreen, fwin->titlebar->window, 
-			 *fwin->title_gc, *fwin->font, x, *fwin->title_clearance + TITLEBAR_EXTEND_SPACE, 
-			 title, titlelen);
-	    
-	    wfree(title);
+
+            y = *fwin->title_clearance + TITLEBAR_EXTEND_SPACE;
+            h = WMFontHeight(*fwin->font);
+
+            /* We use a w+2 buffer to have an extra pixel on the left and
+             * another one on the right. This is because for some odd reason,
+             * sometimes when using AA fonts (when libfreetype2 is compiled
+             * with bytecode interpreter turned off), some fonts are drawn
+             * starting from x = -1 not from 0 as requested. Observed with
+             * capital A letter on the bold 'trebuchet ms' font. -Dan
+             */
+            buf = XCreatePixmap(dpy, fwin->titlebar->window, w+2, h,
+                                scr->w_depth);
+
+            XSetClipMask(dpy, scr->copy_gc, None);
+
+            if (fwin->title_texture[state]->any.type!=WTEX_SOLID) {
+                XCopyArea(dpy, fwin->title_back[state], buf, scr->copy_gc,
+                          x-1, y, w+2, h, 0, 0);
+            } else {
+                XSetForeground(dpy, scr->copy_gc,
+                               fwin->title_texture[state]->solid.normal.pixel);
+                XFillRectangle(dpy, buf, scr->copy_gc, 0, 0, w+2, h);
+            }
+
+            /*XDrawRectangle(dpy, buf, WMColorGC(scr->white),1,0,w,h-1);*/
+            WMDrawString(scr->wmscreen, buf, fwin->title_color[state],
+                         *fwin->font, 1, 0, title, titlelen);
+
+            XCopyArea(dpy, buf, fwin->titlebar->window, scr->copy_gc,
+                      0, 0, w+2, h, x-1, y);
+
+            XFreePixmap(dpy, buf);
+
+            wfree(title);
 	}
-	
+
 	if (fwin->left_button)
 	    handleButtonExpose(&fwin->left_button->descriptor, NULL);
 	if (fwin->right_button)
@@ -1090,7 +1119,7 @@
 #ifdef XKB_BUTTON_HINT
 	if (fwin->language_button)
 	    handleButtonExpose(&fwin->language_button->descriptor, NULL);
-#endif 
+#endif
     }
 }
 
@@ -1250,7 +1279,7 @@
     fwin->flags.right_button_pushed_in = pushed;
 
     paintButton(fwin->right_button, fwin->title_texture[fwin->flags.state],
-		fwin->title_pixel[fwin->flags.state],
+		WMColorPixel(fwin->title_color[fwin->flags.state]),
 		fwin->rbutton_image, pushed);
 }
 #endif /* OLWM_HINTS */
@@ -1261,7 +1290,7 @@
 wFrameWindowUpdateLanguageButton(WFrameWindow *fwin)
 {
     paintButton(fwin->language_button, fwin->title_texture[fwin->flags.state],
-		fwin->title_pixel[fwin->flags.state],
+		WMColorPixel(fwin->title_color[fwin->flags.state]),
 		fwin->languagebutton_image, True);
 }
 #endif /* XKB_BUTTON_HINT */
@@ -1428,14 +1457,14 @@
     if (button == fwin->language_button) {
         if (wPreferences.modelock){
             paintButton(button, fwin->title_texture[fwin->flags.state],
-                    fwin->title_pixel[fwin->flags.state],
+                    WMColorPixel(fwin->title_color[fwin->flags.state]),
                     fwin->languagebutton_image, False);
         }
     } else 
 #endif
     if (button == fwin->left_button) {
         paintButton(button, fwin->title_texture[fwin->flags.state],
-                fwin->title_pixel[fwin->flags.state],
+                WMColorPixel(fwin->title_color[fwin->flags.state]),
                 fwin->lbutton_image, False);
     } else {
         Bool pushed = False;
@@ -1446,7 +1475,7 @@
 #endif
 	/* emulate the olwm pushpin in the "out" state */
 	paintButton(button, fwin->title_texture[fwin->flags.state],
-		    fwin->title_pixel[fwin->flags.state],
+		    WMColorPixel(fwin->title_color[fwin->flags.state]),
 		    fwin->rbutton_image, pushed);
     }
 }
@@ -1510,7 +1539,7 @@
     }
 #endif
     
-    pixel = fwin->title_pixel[fwin->flags.state];
+    pixel = WMColorPixel(fwin->title_color[fwin->flags.state]);
     texture = fwin->title_texture[fwin->flags.state];
     paintButton(button, texture, pixel, image, True);
     
diff -Naur WindowMaker-0.80.2/src/framewin.h wm-xft2/src/framewin.h
--- WindowMaker-0.80.2/src/framewin.h	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/framewin.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -81,8 +81,7 @@
     
     union WTexture **title_texture;
     union WTexture **resizebar_texture;
-    unsigned long *title_pixel;
-    GC *title_gc;
+    WMColor **title_color;
     WMFont **font;
 
     char *title;		       /* window name (title) */
@@ -157,8 +156,7 @@
 		   int width, int height, int *clearance, int flags,
 		   union WTexture **title_texture, 
 		   union WTexture **resize_texture,
-		   unsigned long *color, 
-		   GC *gc, WMFont **font);
+		   WMColor **color, WMFont **font);
 
 void wFrameWindowUpdateBorders(WFrameWindow *fwin, int flags);
 
diff -Naur WindowMaker-0.80.2/src/funcs.h wm-xft2/src/funcs.h
--- WindowMaker-0.80.2/src/funcs.h	2002-02-21 14:28:48.000000000 +0300
+++ wm-xft2/src/funcs.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -57,6 +57,8 @@
 
 void OpenSwitchMenu(WScreen *scr, int x, int y, int keyboard);
 
+void InitializeSwitchMenu(void);
+
 #endif /* !LITE */
 
 
@@ -81,7 +83,10 @@
 
 Pixmap LoadIcon(WScreen *scr, char *path, char *mask, int title_height);
 
-void PlaceIcon(WScreen *scr, int *x_ret, int *y_ret);
+void PlaceIcon(WScreen *scr, int *x_ret, int *y_ret, int head);
+
+int calcIntersectionArea(int x1, int y1, int w1, int h1,
+			 int x2, int y2, int w2, int h2);
 
 void PlaceWindow(WWindow *wwin, int *x_ret, int *y_ret,
                  unsigned int width, unsigned int height);
@@ -115,8 +120,6 @@
 
 RImage*wGetImageForWindowName(WScreen *scr, char *winstance, char *wclass);
 
-int IsEof(FILE * stream);	/* feof that stats pipes */
-
 void ParseWindowName(WMPropList *value, char **winstance, char **wclass,
                      char *where);
 
diff -Naur WindowMaker-0.80.2/src/geomview.c wm-xft2/src/geomview.c
--- WindowMaker-0.80.2/src/geomview.c	2001-10-04 04:59:51.000000000 +0400
+++ wm-xft2/src/geomview.c	2003-10-22 14:08:38.000000000 +0400
@@ -9,7 +9,8 @@
     W_Class widgetClass;
     WMView *view;
     
-    GC gc;
+    WMColor *black;
+    WMColor *gray;
     WMFont *font;
     
     WMSize textSize;
@@ -67,20 +68,8 @@
 	return NULL;
     }
 
-    {
-	WMColor *black = WMBlackColor(scr);
-	WMColor *gray = WMGrayColor(scr);
-	XGCValues gcv;
-	
-	gcv.foreground = WMColorPixel(black);
-	gcv.background = WMColorPixel(gray);
-	
-	gview->gc = XCreateGC(WMScreenDisplay(scr), W_DRAWABLE(scr),
-			      GCForeground|GCBackground, &gcv);
-
-	WMReleaseColor(black);
-	WMReleaseColor(gray);
-    }
+    gview->black = WMBlackColor(scr);
+    gview->gray = WMGrayColor(scr);
 
     WMCreateEventHandler(gview->view, ExposureMask, handleEvents, gview);
 
@@ -136,7 +125,7 @@
 
     WMDrawImageString(W_VIEW_SCREEN(gview->view),
 		      W_VIEW_DRAWABLE(gview->view),
-		      gview->gc, gview->font,
+		      gview->black, gview->gray, gview->font,
 		      (W_VIEW_WIDTH(gview->view)-gview->textSize.width)/2,
 		      (W_VIEW_HEIGHT(gview->view)-gview->textSize.height)/2,
 		      buffer, strlen(buffer));
diff -Naur WindowMaker-0.80.2/src/gnome.c wm-xft2/src/gnome.c
--- WindowMaker-0.80.2/src/gnome.c	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/gnome.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -49,6 +49,7 @@
 #include "actions.h"
 #include "stacking.h"
 #include "client.h"
+#include "xinerama.h"
 
 #include "gnome.h"
 
@@ -421,6 +422,45 @@
 
 
 Bool
+wGNOMEGetUsableArea(WScreen *scr, int head, WArea *area)
+{
+    WReservedArea *cur;
+    WMRect rect;
+
+    if(!scr->reservedAreas)
+        return False;
+
+    area->x1 = area->y1 = area->x2 = area->y2 = 0;
+
+    for(cur = scr->reservedAreas ; cur ; cur = cur->next) {
+	WWindow * wwin = wWindowFor(cur->window);
+	if (wWindowTouchesHead(wwin, head)) {
+	    if(cur->area.x1 > area->x1)
+		area->x1 = cur->area.x1;
+	    if(cur->area.y1 > area->y1)
+		area->y1 = cur->area.y1;
+	    if(cur->area.x2 > area->x2)
+		area->x2 = cur->area.x2;
+	    if(cur->area.y2 > area->y2)
+		area->y2 = cur->area.y2;
+	}
+    }
+
+    if (area->x1==0 && area->x2==0 &&
+	area->y1==0 && area->y2==0) return False;
+
+    rect = wGetRectForHead(scr, head);
+
+    area->x1 = rect.pos.x + area->x1;
+    area->x2 = rect.pos.x + rect.size.width - area->x2;
+    area->y1 = rect.pos.y + area->y1;
+    area->y2 = rect.pos.y + rect.size.height - area->y2;
+
+    return True;
+}
+
+
+Bool
 wGNOMECheckInitialClientState(WWindow *wwin)
 {
     Atom type_ret;
@@ -569,14 +609,11 @@
 	}
 
 	if (maximize != wwin->flags.maximized) {
-#define both (MAX_HORIZONTAL|MAX_VERTICAL)
-	    if (!(maximize & both) && (wwin->flags.maximized & both)) {
-		wUnmaximizeWindow(wwin);
-	    }
-	    if ((maximize & both) && !(wwin->flags.maximized & both)) {
+	    if (maximize) {
 		wMaximizeWindow(wwin, maximize);
-	    }
-#undef both
+            } else {
+		wUnmaximizeWindow(wwin);
+            }
 	}
 
 	if (mask & WIN_STATE_SHADED) {
@@ -650,7 +687,8 @@
 
 
 
-static void observer(void *self, WMNotification *notif)
+static void
+observer(void *self, WMNotification *notif)
 {
     WWindow *wwin = (WWindow*)WMGetNotificationObject(notif);
     const char *name = WMGetNotificationName(notif);
@@ -665,10 +703,12 @@
 	wGNOMEUpdateClientStateHint(wwin, True);
     } else if (strcmp(name, WMNChangedState) == 0 && wwin) {
 	wGNOMEUpdateClientStateHint(wwin, False);
-    } 
+    }
 }
 
-static void wsobserver(void *self, WMNotification *notif)
+
+static void
+wsobserver(void *self, WMNotification *notif)
 {
     WScreen *scr = (WScreen*)WMGetNotificationObject(notif);
     const char *name = WMGetNotificationName(notif);
@@ -681,10 +721,8 @@
 	wGNOMEUpdateWorkspaceNamesHint(scr);
     } else if (strcmp(name, WMNWorkspaceChanged) == 0) {
 	wGNOMEUpdateCurrentWorkspaceHint(scr);
-	
-
     } else if (strcmp(name, WMNResetStacking) == 0) {
-	
+
     }
 }
 
diff -Naur WindowMaker-0.80.2/src/gnome.h wm-xft2/src/gnome.h
--- WindowMaker-0.80.2/src/gnome.h	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/gnome.h	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -47,5 +47,7 @@
 
 Bool wGNOMEProxyizeButtonEvent(WScreen *scr, XEvent *event);
 
+Bool wGNOMEGetUsableArea(WScreen *scr, int head, WArea *area);
+
 #endif
 
diff -Naur WindowMaker-0.80.2/src/GNUstep.h wm-xft2/src/GNUstep.h
--- WindowMaker-0.80.2/src/GNUstep.h	2002-01-08 16:45:06.000000000 +0300
+++ wm-xft2/src/GNUstep.h	2003-10-22 14:08:37.000000000 +0400
@@ -2,7 +2,7 @@
  *
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/icon.c wm-xft2/src/icon.c
--- WindowMaker-0.80.2/src/icon.c	2002-02-21 14:28:48.000000000 +0300
+++ wm-xft2/src/icon.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -812,7 +812,6 @@
 wIconPaint(WIcon *icon)
 {
     WScreen *scr=icon->core->screen_ptr;
-    GC gc = scr->icon_title_gc;
     int x;
     char *tmp;
 
@@ -838,7 +837,7 @@
 	else
 	  x = (icon->core->width - w)/2;
 
-	WMDrawString(scr->wmscreen, icon->core->window, gc,
+	WMDrawString(scr->wmscreen, icon->core->window, scr->icon_title_color,
 		     scr->icon_title_font, x, 1, tmp, l);
 	wfree(tmp);
     }
diff -Naur WindowMaker-0.80.2/src/icon.h wm-xft2/src/icon.h
--- WindowMaker-0.80.2/src/icon.h	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/icon.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/keybind.h wm-xft2/src/keybind.h
--- WindowMaker-0.80.2/src/keybind.h	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/keybind.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  *
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/kwm.c wm-xft2/src/kwm.c
--- WindowMaker-0.80.2/src/kwm.c	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/kwm.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  *
  *  Window Maker window manager
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -102,8 +102,9 @@
  */
 
 /*
- * TODO
+ * XXX
  * different WORKAREA for each workspace
+ *  -- done by rebuilding usableArea at each workspace switch.
  */
 
 
@@ -140,6 +141,7 @@
 #include "workspace.h"
 #include "dialog.h"
 #include "stacking.h"
+#include "xinerama.h"
 
 #include "kwm.h"
 
@@ -749,16 +751,18 @@
 }
 
 
-void
+Bool
 wKWMCheckClientHints(WWindow *wwin, int *layer, int *workspace)
 {
     long val;
+    Bool hasHint = False;
 
     if (getSimpleHint(wwin->client_win, _XA_KWM_WIN_UNSAVED_DATA, &val)	
 	&& val) {
 
 	wwin->client_flags.broken_close = 1;
-    }
+	hasHint = True;
+    } else
     if (getSimpleHint(wwin->client_win, _XA_KWM_WIN_DECORATION, &val)) {
 	if (val & KWMnoFocus) {
 	    wwin->client_flags.no_focusable = 1;
@@ -790,27 +794,34 @@
 	 default:
 	    break;
 	}
-    }
+	hasHint = True;
+    } else
     if (getSimpleHint(wwin->client_win, _XA_KWM_WIN_DESKTOP, &val)) {
 	*workspace = val - 1;
+	hasHint = True;
     }
+
+    return hasHint;
 }
 
 
-void
+Bool
 wKWMCheckClientInitialState(WWindow *wwin)
 {
     long val;
     WArea area;
+    Bool hasHint = False;
 
     if (getSimpleHint(wwin->client_win, _XA_KWM_WIN_STICKY, &val) && val) {
 
 	wwin->client_flags.omnipresent = 1;
-    }
+	hasHint = True;
+    } else
     if (getSimpleHint(wwin->client_win, _XA_KWM_WIN_ICONIFIED, &val) && val) {
 
 	wwin->flags.miniaturized = 1;
-    }
+	hasHint = True;
+    } else
     if (getSimpleHint(wwin->client_win, _XA_KWM_WIN_MAXIMIZED, &val)) {
 	if (val == 2)
 	    wwin->flags.maximized = MAX_VERTICAL;
@@ -818,7 +829,8 @@
 	    wwin->flags.maximized = MAX_HORIZONTAL;
 	else if (val == 3)
 	    wwin->flags.maximized = MAX_VERTICAL|MAX_HORIZONTAL;
-    }
+	hasHint = True;
+    } else
     if (getAreaHint(wwin->client_win, _XA_KWM_WIN_GEOMETRY_RESTORE, &area)
 	&& (wwin->old_geometry.x != area.x1
 	    || wwin->old_geometry.y != area.y1
@@ -829,7 +841,10 @@
 	wwin->old_geometry.y = area.y1;
 	wwin->old_geometry.width = area.x2 - area.x1;
 	wwin->old_geometry.height = area.y2 - area.y1;
+	hasHint = True;
     }
+
+    return hasHint;
 }
 
 
@@ -1373,6 +1388,7 @@
 		 processed = True;
 		 break;
 	     } else if (event->atom == _XA_KWM_WINDOW_REGION_[i]) {
+#if 0
 		 WArea area;
 
 		 if (getAreaHint(scr->root_win, event->atom, &area)) {
@@ -1384,6 +1400,10 @@
 			 wScreenUpdateUsableArea(scr);
 		     }
 		 }
+#else
+		 if (i == scr->current_workspace % MAX_WORKSPACES)
+		     wScreenUpdateUsableArea(scr);
+#endif
 
 		 processed = True;
 		 break;
@@ -1596,17 +1616,30 @@
 
 
 Bool
-wKWMGetUsableArea(WScreen *scr, WArea *area)
+wKWMGetUsableArea(WScreen *scr, int head, WArea *area)
 {
     char buffer[64];
+    Bool ok;
+    int region = scr->current_workspace % MAX_WORKSPACES;
+
+    if (_XA_KWM_WINDOW_REGION_[region]==0) {
+	snprintf(buffer, sizeof(buffer), "KWM_WINDOW_REGION_%d", 1+region);
+
+	_XA_KWM_WINDOW_REGION_[region] = XInternAtom(dpy, buffer, False);
+    }
+
+    ok = getAreaHint(scr->root_win, _XA_KWM_WINDOW_REGION_[region], area);
 
-    if (_XA_KWM_WINDOW_REGION_[0]==0) {
-	snprintf(buffer, sizeof(buffer), "KWM_WINDOW_REGION_%d", 1);
+    if (ok) {
+	WMRect rect = wGetRectForHead(scr, head);
 
-	_XA_KWM_WINDOW_REGION_[0] = XInternAtom(dpy, buffer, False);
+	area->x1 = WMAX(area->x1, rect.pos.x);
+	area->x2 = WMIN(area->x2, rect.pos.x + rect.size.width);
+	area->y1 = WMAX(area->y1, rect.pos.y);
+	area->y2 = WMIN(area->y2, rect.pos.y + rect.size.height);
     }
 
-    return getAreaHint(scr->root_win, _XA_KWM_WINDOW_REGION_[0], area);
+    return ok;
 }
 
 
@@ -1739,7 +1772,7 @@
     wfree(buffer);
 
     /* pid file */
-    f = fopen(path, "r");
+    f = fopen(path, "rb");
     wfree(path);
     if (!f)
 	return -1;
@@ -1771,7 +1804,7 @@
     }
 
     path = wstrconcat(wgethomedir(), "/.kde/share/apps/kfm/magic");
-    f = fopen(path, "r");
+    f = fopen(path, "rb");
     wfree(path);
     if (!f) {
 	return -1;
diff -Naur WindowMaker-0.80.2/src/kwm.h wm-xft2/src/kwm.h
--- WindowMaker-0.80.2/src/kwm.h	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/kwm.h	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -43,9 +43,9 @@
 
 void wKWMInitStuff(WScreen *scr);
 
-Bool wKWMGetUsableArea(WScreen *scr, WArea *area);
+Bool wKWMGetUsableArea(WScreen *scr, int head, WArea *area);
 
-void wKWMCheckClientHints(WWindow *wwin, int *layer, int *workspace);
+Bool wKWMCheckClientHints(WWindow *wwin, int *layer, int *workspace);
 
 Bool wKWMCheckClientHintChange(WWindow *wwin, XPropertyEvent *event);
 
@@ -67,7 +67,7 @@
 
 Bool wKWMManageableClient(WScreen *scr, Window win, char *title);
 
-void wKWMCheckClientInitialState(WWindow *wwin);
+Bool wKWMCheckClientInitialState(WWindow *wwin);
 
 #ifdef not_used
 void wKWMSetUsableAreaHint(WScreen *scr, int workspace);
diff -Naur WindowMaker-0.80.2/src/main.c wm-xft2/src/main.c
--- WindowMaker-0.80.2/src/main.c	2002-03-26 13:47:12.000000000 +0300
+++ wm-xft2/src/main.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -307,8 +307,8 @@
 
 	SetupEnvironment(scr);
 
-#ifdef HAVE_SETPGID
-	setpgid(0, 0);
+#ifdef HAVE_SETSID
+        setsid();
 #endif
 	execl(shell, shell, "-c", command, NULL);
 	wsyserror("could not execute %s -c %s", shell, command);
diff -Naur WindowMaker-0.80.2/src/Makefile.am wm-xft2/src/Makefile.am
--- WindowMaker-0.80.2/src/Makefile.am	2002-02-21 14:28:48.000000000 +0300
+++ wm-xft2/src/Makefile.am	2003-10-22 14:08:37.000000000 +0400
@@ -115,6 +115,7 @@
 wmaker_LDADD = \
 	$(top_builddir)/WINGs/libWINGs.a\
 	$(top_builddir)/wrlib/libwraster.la\
+	@XFTLIBS@ \
 	@XLIBS@ \
 	@INTLIBS@ \
 	@DLLIBS@
diff -Naur WindowMaker-0.80.2/src/menu.c wm-xft2/src/menu.c
--- WindowMaker-0.80.2/src/menu.c	2002-02-21 14:28:48.000000000 +0300
+++ wm-xft2/src/menu.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,10 +1,10 @@
 /* menu.c- generic menu, used for root menu, application menus etc.
  *
  *  Window Maker window manager
- * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
- *  Copyright (c) 1998-2002 Dan Pascu
- * 
+ *
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Dan Pascu
+ *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
  *  the Free Software Foundation; either version 2 of the License, or
@@ -17,7 +17,7 @@
  *
  *  You should have received a copy of the GNU General Public License
  *  along with this program; if not, write to the Free Software
- *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, 
+ *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,
  *  USA.
  */
 
@@ -42,6 +42,7 @@
 #include "funcs.h"
 #include "stacking.h"
 #include "text.h"
+#include "xinerama.h"
 
 
 /****** Global Variables ******/
@@ -104,32 +105,32 @@
     int flags = (int)WMGetNotificationClientData(notif);
 
     if (!menu->flags.realized)
-	return;
-    
+        return;
+
     if (WMGetNotificationName(notif) == WNMenuAppearanceSettingsChanged) {
-	if (flags & WFontSettings) {
-	    menu->flags.realized = 0;
-	    wMenuRealize(menu);
-	}
-	if (flags & WTextureSettings) {
-	    if (!menu->flags.brother)
-		updateTexture(menu);
-	}
-	if (flags & (WTextureSettings|WColorSettings)) {
-	    wMenuPaint(menu);
-	}
+        if (flags & WFontSettings) {
+            menu->flags.realized = 0;
+            wMenuRealize(menu);
+        }
+        if (flags & WTextureSettings) {
+            if (!menu->flags.brother)
+                updateTexture(menu);
+        }
+        if (flags & (WTextureSettings|WColorSettings)) {
+            wMenuPaint(menu);
+        }
     } else if (menu->flags.titled) {
 
-	if (flags & WFontSettings) {
-	    menu->flags.realized = 0;
-	    wMenuRealize(menu);
-	}
-	if (flags & WTextureSettings) {
-	    menu->frame->flags.need_texture_remake = 1;
-	}
-	if (flags & (WColorSettings|WTextureSettings)) {
-	    wFrameWindowPaint(menu->frame);
-	}
+        if (flags & WFontSettings) {
+            menu->flags.realized = 0;
+            wMenuRealize(menu);
+        }
+        if (flags & WTextureSettings) {
+            menu->frame->flags.need_texture_remake = 1;
+        }
+        if (flags & (WColorSettings|WTextureSettings)) {
+            wFrameWindowPaint(menu->frame);
+        }
     }
 }
 
@@ -143,10 +144,10 @@
  * is True, the created menu will be a main menu, which has some special
  * properties such as being placed over other normal menus.
  * 	If title is NULL, the menu will have no titlebar.
- * 
+ *
  * Returns:
  * 	The created menu.
- *---------------------------------------------------------------------- 
+ *----------------------------------------------------------------------
  */
 WMenu*
 wMenuCreate(WScreen *screen, char *title, int main_menu)
@@ -154,7 +155,7 @@
     WMenu *menu;
     static int brother=0;
     int tmp, flags;
-    
+
     menu = wmalloc(sizeof(WMenu));
 
     memset(menu, 0, sizeof(WMenu));
@@ -167,24 +168,23 @@
 
     flags = WFF_SINGLE_STATE|WFF_BORDER;
     if (title) {
-	flags |= WFF_TITLEBAR|WFF_RIGHT_BUTTON;
-	menu->flags.titled = 1;
+        flags |= WFF_TITLEBAR|WFF_RIGHT_BUTTON;
+        menu->flags.titled = 1;
     }
     menu->frame =
-	wFrameWindowCreate(screen, tmp, 8, 2, 1, 1, &wPreferences.menu_title_clearance, flags,
-			   screen->menu_title_texture, NULL,
-                           screen->menu_title_pixel,
-			   &screen->menu_title_gc,
+        wFrameWindowCreate(screen, tmp, 8, 2, 1, 1, &wPreferences.menu_title_clearance, flags,
+                           screen->menu_title_texture, NULL,
+                           screen->menu_title_color,
                            &screen->menu_title_font);
-			   
+
     menu->frame->core->descriptor.parent = menu;
     menu->frame->core->descriptor.parent_type = WCLASS_MENU;
     menu->frame->core->descriptor.handle_mousedown = menuMouseDown;
-    
+
     wFrameWindowHideButton(menu->frame, WFF_RIGHT_BUTTON);
 
     if (title) {
-	menu->frame->title = wstrdup(title);
+        menu->frame->title = wstrdup(title);
     }
 
     menu->frame->flags.justification = WTJ_LEFT;
@@ -195,50 +195,50 @@
     menu->alloced_entries = 0;
     menu->selected_entry = -1;
     menu->entries = NULL;
-    
+
     menu->frame_x = screen->app_menu_x;
     menu->frame_y = screen->app_menu_y;
-    
+
     menu->frame->child = menu;
 
     menu->flags.lowered = 0;
 
     /* create borders */
     if (title) {
-	/* setup object descriptors */
-	menu->frame->on_mousedown_titlebar = menuTitleMouseDown;
-	menu->frame->on_dblclick_titlebar = menuTitleDoubleClick;
+        /* setup object descriptors */
+        menu->frame->on_mousedown_titlebar = menuTitleMouseDown;
+        menu->frame->on_dblclick_titlebar = menuTitleDoubleClick;
     }
-    
+
     menu->frame->on_click_right = menuCloseClick;
-    
-    
+
+
     menu->menu = wCoreCreate(menu->frame->core, 0, menu->frame->top_width,
-			     menu->frame->core->width, 10);
+                             menu->frame->core->width, 10);
 
     menu->menu->descriptor.parent = menu;
     menu->menu->descriptor.parent_type = WCLASS_MENU;
     menu->menu->descriptor.handle_expose = menuExpose;
     menu->menu->descriptor.handle_mousedown = menuMouseDown;
-    
+
     menu->menu_texture_data = None;
 
     XMapWindow(dpy, menu->menu->window);
 
     XFlush(dpy);
-    
+
     if (!brother) {
-	brother = 1;
-	menu->brother = wMenuCreate(screen, title, main_menu);
-	brother = 0;
-	menu->brother->flags.brother = 1;
-	menu->brother->brother = menu;
+        brother = 1;
+        menu->brother = wMenuCreate(screen, title, main_menu);
+        brother = 0;
+        menu->brother->flags.brother = 1;
+        menu->brother->brother = menu;
     }
     WMAddNotificationObserver(appearanceObserver, menu,
-			      WNMenuAppearanceSettingsChanged, menu);
+                              WNMenuAppearanceSettingsChanged, menu);
 
     WMAddNotificationObserver(appearanceObserver, menu,
-			      WNMenuTitleAppearanceSettingsChanged, menu);
+                              WNMenuTitleAppearanceSettingsChanged, menu);
 
 
     return menu;
@@ -251,10 +251,10 @@
 wMenuCreateForApp(WScreen *screen, char *title, int main_menu)
 {
     WMenu *menu;
-    
+
     menu = wMenuCreate(screen, title, main_menu);
     if (!menu)
-      return NULL;
+        return NULL;
     menu->flags.app_menu = 1;
     menu->brother->flags.app_menu = 1;
 
@@ -267,10 +267,10 @@
 insertEntry(WMenu *menu, WMenuEntry *entry, int index)
 {
     int i;
-    
+
     for (i = menu->entry_no-1; i >= index; i--) {
-	menu->entries[i]->order++;
-	menu->entries[i+1] = menu->entries[i];
+        menu->entries[i]->order++;
+        menu->entries[i+1] = menu->entries[i];
     }
     menu->entries[index] = entry;
 }
@@ -278,26 +278,26 @@
 
 WMenuEntry*
 wMenuInsertCallback(WMenu *menu, int index, char *text,
-		    void (*callback)(WMenu *menu, WMenuEntry *entry), 
-		    void *clientdata)
+                    void (*callback)(WMenu *menu, WMenuEntry *entry),
+                    void *clientdata)
 {
     WMenuEntry *entry;
 
     menu->flags.realized = 0;
     menu->brother->flags.realized = 0;
-    
+
     /* reallocate array if it's too small */
     if (menu->entry_no >= menu->alloced_entries) {
-	void *tmp;
+        void *tmp;
+
+        tmp = wrealloc(menu->entries,
+                       sizeof(WMenuEntry)*(menu->alloced_entries+5));
 
-	tmp = wrealloc(menu->entries,
-		       sizeof(WMenuEntry)*(menu->alloced_entries+5));
+        menu->entries = tmp;
+        menu->alloced_entries += 5;
 
-	menu->entries = tmp;
-	menu->alloced_entries += 5;
-	
-	menu->brother->entries = tmp;
-	menu->brother->alloced_entries = menu->alloced_entries;
+        menu->brother->entries = tmp;
+        menu->brother->alloced_entries = menu->alloced_entries;
     }
     entry = wmalloc(sizeof(WMenuEntry));
     memset(entry, 0, sizeof(WMenuEntry));
@@ -307,16 +307,16 @@
     entry->clientdata = clientdata;
     entry->callback = callback;
     if (index<0 || index>=menu->entry_no) {
-	entry->order = menu->entry_no;
-	menu->entries[menu->entry_no] = entry;
+        entry->order = menu->entry_no;
+        menu->entries[menu->entry_no] = entry;
     } else {
-	entry->order = index;
-	insertEntry(menu, entry, index);
+        entry->order = index;
+        insertEntry(menu, entry, index);
     }
-    
+
     menu->entry_no++;
     menu->brother->entry_no = menu->entry_no;
-    
+
     return entry;
 }
 
@@ -329,69 +329,69 @@
     int i, done;
 
     assert(menu->flags.brother==0);
-    
+
     if (entry->cascade>=0) {
-	menu->flags.realized = 0;
-	brother->flags.realized = 0;
+        menu->flags.realized = 0;
+        brother->flags.realized = 0;
     }
-    
+
     cascade->parent = menu;
 
     cascade->brother->parent = brother;
 
     done = 0;
     for (i=0; i<menu->cascade_no; i++) {
-	if (menu->cascades[i]==NULL) {
-	    menu->cascades[i] = cascade;
-	    brother->cascades[i] = cascade->brother;
-	    done = 1;
-	    entry->cascade = i;
-	    break;
-	}
+        if (menu->cascades[i]==NULL) {
+            menu->cascades[i] = cascade;
+            brother->cascades[i] = cascade->brother;
+            done = 1;
+            entry->cascade = i;
+            break;
+        }
     }
     if (!done) {
-	entry->cascade = menu->cascade_no;
+        entry->cascade = menu->cascade_no;
 
-	menu->cascades = wrealloc(menu->cascades, 
-				  sizeof(WMenu)*(menu->cascade_no+1));
-	menu->cascades[menu->cascade_no++] = cascade;
-	
-
-	brother->cascades = wrealloc(brother->cascades, 
-				     sizeof(WMenu)*(brother->cascade_no+1));
-	brother->cascades[brother->cascade_no++] = cascade->brother;
+        menu->cascades = wrealloc(menu->cascades,
+                                  sizeof(WMenu)*(menu->cascade_no+1));
+        menu->cascades[menu->cascade_no++] = cascade;
+
+
+        brother->cascades = wrealloc(brother->cascades,
+                                     sizeof(WMenu)*(brother->cascade_no+1));
+        brother->cascades[brother->cascade_no++] = cascade->brother;
     }
 
 
     if (menu->flags.lowered) {
-	
-	cascade->flags.lowered = 1;
-	ChangeStackingLevel(cascade->frame->core, WMNormalLevel);
-	
-	cascade->brother->flags.lowered = 1;
-	ChangeStackingLevel(cascade->brother->frame->core, WMNormalLevel);
+
+        cascade->flags.lowered = 1;
+        ChangeStackingLevel(cascade->frame->core, WMNormalLevel);
+
+        cascade->brother->flags.lowered = 1;
+        ChangeStackingLevel(cascade->brother->frame->core, WMNormalLevel);
     }
-    
+
     if (!menu->flags.realized)
-	wMenuRealize(menu);
+        wMenuRealize(menu);
 }
 
 
 void
 wMenuEntryRemoveCascade(WMenu *menu, WMenuEntry *entry)
-{    
+{
     assert(menu->flags.brother==0);
-    
+
     /* destroy cascade menu */
     if (entry->cascade>=0 && menu->cascades
-	&& menu->cascades[entry->cascade]!=NULL) {
+        && menu->cascades[entry->cascade]!=NULL) {
 
-	wMenuDestroy(menu->cascades[entry->cascade], True);
+        wMenuDestroy(menu->cascades[entry->cascade], True);
 
-	menu->cascades[entry->cascade] = NULL;
-	menu->brother->cascades[entry->cascade] = NULL;
+        menu->cascades[entry->cascade] = NULL;
+        menu->brother->cascades[entry->cascade] = NULL;
 
-	entry->cascade = -1;
+        entry->cascade = -1;
     }
 }
 
@@ -400,33 +400,33 @@
 wMenuRemoveItem(WMenu *menu, int index)
 {
     int i;
-    
+
     if (menu->flags.brother) {
-	wMenuRemoveItem(menu->brother, index);
-	return;
+        wMenuRemoveItem(menu->brother, index);
+        return;
     }
-    
+
     if (index>=menu->entry_no) return;
 
     /* destroy cascade menu */
     wMenuEntryRemoveCascade(menu, menu->entries[index]);
-    
+
     /* destroy unshared data */
 
     if (menu->entries[index]->text)
-      wfree(menu->entries[index]->text);
-    
+        wfree(menu->entries[index]->text);
+
     if (menu->entries[index]->rtext)
-      wfree(menu->entries[index]->rtext);
-	
+        wfree(menu->entries[index]->rtext);
+
     if (menu->entries[index]->free_cdata && menu->entries[index]->clientdata)
-      (*menu->entries[index]->free_cdata)(menu->entries[index]->clientdata);
+        (*menu->entries[index]->free_cdata)(menu->entries[index]->clientdata);
 
     wfree(menu->entries[index]);
-	
+
     for (i=index; i<menu->entry_no-1; i++) {
-	menu->entries[i+1]->order--;
-	menu->entries[i]=menu->entries[i+1];
+        menu->entries[i+1]->order--;
+        menu->entries[i]=menu->entries[i+1];
     }
     menu->entry_no--;
     menu->brother->entry_no--;
@@ -446,43 +446,43 @@
     WTexture *texture = scr->menu_item_texture;
 
     if (wPreferences.menu_style == MS_NORMAL) {
-	img = wTextureRenderImage(texture, menu->menu->width, 
-				  menu->entry_height, WREL_MENUENTRY);
+        img = wTextureRenderImage(texture, menu->menu->width,
+                                  menu->entry_height, WREL_MENUENTRY);
     } else {
-	img = wTextureRenderImage(texture, menu->menu->width, 
-				  menu->menu->height+1, WREL_MENUENTRY);
+        img = wTextureRenderImage(texture, menu->menu->width,
+                                  menu->menu->height+1, WREL_MENUENTRY);
     }
     if (!img) {
-	wwarning(_("could not render texture: %s"), 
-		 RMessageForError(RErrorCode));
+        wwarning(_("could not render texture: %s"),
+                 RMessageForError(RErrorCode));
 
-	return None;
+        return None;
     }
 
     if (wPreferences.menu_style == MS_SINGLE_TEXTURE) {
-	light.alpha = 0;
-	light.red = light.green = light.blue = 80;
-    
-	dark.alpha = 255;
-	dark.red = dark.green = dark.blue = 0;
-    
-	mid.alpha = 0;
-	mid.red = mid.green = mid.blue = 40;
-    
-	for (i = 1; i < menu->entry_no; i++) {	    
-	    ROperateLine(img, RSubtractOperation, 0, i*menu->entry_height-2,
-			 menu->menu->width-1, i*menu->entry_height-2, &mid);
-	    
-	    RDrawLine(img, 0, i*menu->entry_height-1,
-		      menu->menu->width-1, i*menu->entry_height-1, &dark);
-
-	    ROperateLine(img, RAddOperation, 0, i*menu->entry_height,
-			 menu->menu->width-1, i*menu->entry_height, 
-			 &light);
-	}
+        light.alpha = 0;
+        light.red = light.green = light.blue = 80;
+
+        dark.alpha = 255;
+        dark.red = dark.green = dark.blue = 0;
+
+        mid.alpha = 0;
+        mid.red = mid.green = mid.blue = 40;
+
+        for (i = 1; i < menu->entry_no; i++) {
+            ROperateLine(img, RSubtractOperation, 0, i*menu->entry_height-2,
+                         menu->menu->width-1, i*menu->entry_height-2, &mid);
+
+            RDrawLine(img, 0, i*menu->entry_height-1,
+                      menu->menu->width-1, i*menu->entry_height-1, &dark);
+
+            ROperateLine(img, RAddOperation, 0, i*menu->entry_height,
+                         menu->menu->width-1, i*menu->entry_height,
+                         &light);
+        }
     }
     if (!RConvertImage(scr->rcontext, img, &pix)) {
-	wwarning(_("error rendering image:%s"), RMessageForError(RErrorCode));
+        wwarning(_("error rendering image:%s"), RMessageForError(RErrorCode));
     }
     RReleaseImage(img);
 
@@ -497,28 +497,28 @@
 
     /* setup background texture */
     if (scr->menu_item_texture->any.type != WTEX_SOLID) {
-	if (!menu->flags.brother) {
-	    FREE_PIXMAP(menu->menu_texture_data);
+        if (!menu->flags.brother) {
+            FREE_PIXMAP(menu->menu_texture_data);
 
-	    menu->menu_texture_data = renderTexture(menu);
+            menu->menu_texture_data = renderTexture(menu);
 
-	    XSetWindowBackgroundPixmap(dpy, menu->menu->window,
-				       menu->menu_texture_data);
-	    XClearWindow(dpy, menu->menu->window);
-
-	    XSetWindowBackgroundPixmap(dpy, menu->brother->menu->window,
-				       menu->menu_texture_data);
-	    XClearWindow(dpy, menu->brother->menu->window);
-	}
+            XSetWindowBackgroundPixmap(dpy, menu->menu->window,
+                                       menu->menu_texture_data);
+            XClearWindow(dpy, menu->menu->window);
+
+            XSetWindowBackgroundPixmap(dpy, menu->brother->menu->window,
+                                       menu->menu_texture_data);
+            XClearWindow(dpy, menu->brother->menu->window);
+        }
     } else {
-	XSetWindowBackground(dpy, menu->menu->window,
-			     scr->menu_item_texture->any.color.pixel);
-	XClearWindow(dpy, menu->menu->window);
+        XSetWindowBackground(dpy, menu->menu->window,
+                             scr->menu_item_texture->any.color.pixel);
+        XClearWindow(dpy, menu->menu->window);
     }
 }
 
 
-void 
+void
 wMenuRealize(WMenu *menu)
 {
     int i;
@@ -529,67 +529,67 @@
     int flags;
 
     if (!brother_done) {
-	brother_done = 1;
-	wMenuRealize(menu->brother);
-	brother_done = 0;
+        brother_done = 1;
+        wMenuRealize(menu->brother);
+        brother_done = 0;
     }
 
     flags = WFF_SINGLE_STATE|WFF_BORDER;
     if (menu->flags.titled)
-	flags |= WFF_TITLEBAR|WFF_RIGHT_BUTTON;
+        flags |= WFF_TITLEBAR|WFF_RIGHT_BUTTON;
 
     wFrameWindowUpdateBorders(menu->frame, flags);
 
     if (menu->flags.titled) {
-	twidth = WMWidthOfString(scr->menu_title_font, menu->frame->title,
-				 strlen(menu->frame->title));
+        twidth = WMWidthOfString(scr->menu_title_font, menu->frame->title,
+                                 strlen(menu->frame->title));
         theight = menu->frame->top_width;
         twidth += theight + (wPreferences.new_style ? 16 : 8);
     } else {
-	twidth = 0;
-	theight = 0;
+        twidth = 0;
+        theight = 0;
     }
     eheight = WMFontHeight(scr->menu_entry_font) + 6 + wPreferences.menu_text_clearance * 2;
     menu->entry_height = eheight;
     mrwidth = 0;
     mwidth = 0;
     for (i=0; i<menu->entry_no; i++) {
-	char *text;
+        char *text;
+
+        /* search widest text */
+        text = menu->entries[i]->text;
+        width = WMWidthOfString(scr->menu_entry_font, text, strlen(text))+10;
+
+        if (menu->entries[i]->flags.indicator) {
+            width += MENU_INDICATOR_SPACE;
+        }
+
+        if (width > mwidth)
+            mwidth = width;
 
-	/* search widest text */
-	text = menu->entries[i]->text;
-	width = WMWidthOfString(scr->menu_entry_font, text, strlen(text))+10;
-
-	if (menu->entries[i]->flags.indicator) {
-	    width += MENU_INDICATOR_SPACE;
-	}
-
-	if (width > mwidth)
-	    mwidth = width;
-	
-	/* search widest text on right */
-	text = menu->entries[i]->rtext;
-	if (text)
-	    rwidth = WMWidthOfString(scr->menu_entry_font, text, strlen(text))
-		+ 5;
-	else if (menu->entries[i]->cascade>=0)
-	    rwidth = 16;
-	else
-	    rwidth = 4;
+        /* search widest text on right */
+        text = menu->entries[i]->rtext;
+        if (text)
+            rwidth = WMWidthOfString(scr->menu_entry_font, text, strlen(text))
+                + 10;
+        else if (menu->entries[i]->cascade>=0)
+            rwidth = 16;
+        else
+            rwidth = 4;
 
-	if (rwidth > mrwidth)
-	    mrwidth = rwidth;
+        if (rwidth > mrwidth)
+            mrwidth = rwidth;
     }
     mwidth += mrwidth;
-    
+
     if (mwidth < twidth)
-	mwidth = twidth;
+        mwidth = twidth;
+
 
-    
     wCoreConfigure(menu->menu, 0, theight, mwidth, menu->entry_no*eheight -1);
 
     wFrameWindowResize(menu->frame, mwidth, menu->entry_no*eheight-1
-		       + menu->frame->top_width + menu->frame->bottom_width);
+                       + menu->frame->top_width + menu->frame->bottom_width);
 
 
     updateTexture(menu);
@@ -597,9 +597,9 @@
     menu->flags.realized = 1;
 
     if (menu->flags.mapped)
-	wMenuPaint(menu);
+        wMenuPaint(menu);
     if (menu->brother->flags.mapped)
-	wMenuPaint(menu->brother);
+        wMenuPaint(menu->brother);
 }
 
 
@@ -609,67 +609,67 @@
     int i;
 
     WMRemoveNotificationObserver(menu);
-    
+
     /* remove any pending timers */
     if (menu->timer)
-	WMDeleteTimerHandler(menu->timer);
+        WMDeleteTimerHandler(menu->timer);
     menu->timer = NULL;
-    
+
     /* call destroy handler */
     if (menu->on_destroy)
-	(*menu->on_destroy)(menu);
-    
+        (*menu->on_destroy)(menu);
+
     /* Destroy items if this menu own them. If this is the "brother" menu,
      * leave them alone as it is shared by them.
      */
     if (!menu->flags.brother) {
-	for (i=0; i<menu->entry_no; i++) {
+        for (i=0; i<menu->entry_no; i++) {
 
-	    wfree(menu->entries[i]->text);
+            wfree(menu->entries[i]->text);
 
-	    if (menu->entries[i]->rtext)
-	      wfree(menu->entries[i]->rtext);
+            if (menu->entries[i]->rtext)
+                wfree(menu->entries[i]->rtext);
 #ifdef USER_MENU
 
-	    if (menu->entries[i]->instances){
-		  WMReleasePropList(menu->entries[i]->instances);
-		}
+            if (menu->entries[i]->instances){
+                WMReleasePropList(menu->entries[i]->instances);
+            }
 #endif /* USER_MENU */
 
-	    if (menu->entries[i]->free_cdata && menu->entries[i]->clientdata) {
-		(*menu->entries[i]->free_cdata)(menu->entries[i]->clientdata);
-	    }
-	    wfree(menu->entries[i]);
-	}
-
-	if (recurse) {
-	    for (i=0; i<menu->cascade_no; i++) {
-		if (menu->cascades[i]) {
-		    if (menu->cascades[i]->flags.brother)
-		      wMenuDestroy(menu->cascades[i]->brother, recurse);
-		    else
-		      wMenuDestroy(menu->cascades[i], recurse);
-		}
-	    }
-	}
-	
-	if (menu->entries)
-	    wfree(menu->entries);
-	
+            if (menu->entries[i]->free_cdata && menu->entries[i]->clientdata) {
+                (*menu->entries[i]->free_cdata)(menu->entries[i]->clientdata);
+            }
+            wfree(menu->entries[i]);
+        }
+
+        if (recurse) {
+            for (i=0; i<menu->cascade_no; i++) {
+                if (menu->cascades[i]) {
+                    if (menu->cascades[i]->flags.brother)
+                        wMenuDestroy(menu->cascades[i]->brother, recurse);
+                    else
+                        wMenuDestroy(menu->cascades[i], recurse);
+                }
+            }
+        }
+
+        if (menu->entries)
+            wfree(menu->entries);
+
     }
 
     FREE_PIXMAP(menu->menu_texture_data);
-    
+
     if (menu->cascades)
         wfree(menu->cascades);
 
     wCoreDestroy(menu->menu);
     wFrameWindowDestroy(menu->frame);
-    
+
     /* destroy copy of this menu */
     if (!menu->flags.brother && menu->brother)
-	wMenuDestroy(menu->brother, False);
-    
+        wMenuDestroy(menu->brother, False);
+
     wfree(menu);
 }
 
@@ -691,10 +691,10 @@
     segs[i].y2 = y + h - 1;
     i++;
     if (type != F_TOP && type != F_NONE) {
-	segs[i].x1 = 1;
-	segs[i].y1 = segs[i].y2 = y + h-2;
-	segs[i].x2 = w-1;
-	i++;
+        segs[i].x1 = 1;
+        segs[i].y1 = segs[i].y2 = y + h-2;
+        segs[i].x2 = w-1;
+        i++;
     }
     XDrawSegments(dpy, win, scr->menu_item_auxtexture->dim_gc, segs, i);
 
@@ -705,29 +705,30 @@
     segs[i].y2 = y + h - 1;
     i++;
     if (type != F_BOTTOM && type != F_NONE) {
-	segs[i].x1 = 0;
-	segs[i].y1 = y;
-	segs[i].x2 = w-1;
-	segs[i].y2 = y;
-	i++;
+        segs[i].x1 = 0;
+        segs[i].y1 = y;
+        segs[i].x2 = w-1;
+        segs[i].y2 = y;
+        i++;
     }
     XDrawSegments(dpy, win, scr->menu_item_auxtexture->light_gc, segs, i);
 
     if (type != F_TOP && type != F_NONE)
-	XDrawLine(dpy, win, scr->menu_item_auxtexture->dark_gc, 0, y+h-1,
-		  w-1, y+h-1);
+        XDrawLine(dpy, win, scr->menu_item_auxtexture->dark_gc, 0, y+h-1,
+                  w-1, y+h-1);
 }
 
 
 static void
 paintEntry(WMenu *menu, int index, int selected)
 {
-    int x, y, w, h, tw;
-    int type;
-    GC light, dim, dark, textGC;
     WScreen *scr=menu->frame->screen_ptr;
     Window win = menu->menu->window;
     WMenuEntry *entry=menu->entries[index];
+    GC light, dim, dark;
+    WMColor *color;
+    int x, y, w, h, tw;
+    int type;
 
     if (!menu->flags.realized) return;
     h = menu->entry_height;
@@ -739,116 +740,114 @@
     dark = scr->menu_item_auxtexture->dark_gc;
 
     if (wPreferences.menu_style == MS_FLAT && menu->entry_no > 1) {
-	if (index == 0)
-	    type = F_TOP;
-	else if (index == menu->entry_no - 1)
-	    type = F_BOTTOM;
-	else
-	    type = F_NONE;
+        if (index == 0)
+            type = F_TOP;
+        else if (index == menu->entry_no - 1)
+            type = F_BOTTOM;
+        else
+            type = F_NONE;
     } else {
-	type = F_NORMAL;
+        type = F_NORMAL;
     }
-    
+
     /* paint background */
     if (selected) {
-	XSetForeground(dpy, scr->select_menu_gc, scr->select_pixel);
-	XFillRectangle(dpy, win, scr->select_menu_gc, 1, y+1, w-2, h-3);
-	if (scr->menu_item_texture->any.type == WTEX_SOLID)
-	    drawFrame(scr, win, y, w, h, type);
-    } else { 
-	if (scr->menu_item_texture->any.type == WTEX_SOLID) {
-	    XClearArea(dpy, win, 0, y + 1, w - 1, h - 3, False);
-	    /* draw the frame */
-	    drawFrame(scr, win, y, w, h, type);
-	} else {
-	    XClearArea(dpy, win, 0, y, w, h, False);
-	}
+        XFillRectangle(dpy, win, WMColorGC(scr->select_color), 1, y+1, w-2, h-3);
+        if (scr->menu_item_texture->any.type == WTEX_SOLID)
+            drawFrame(scr, win, y, w, h, type);
+    } else {
+        if (scr->menu_item_texture->any.type == WTEX_SOLID) {
+            XClearArea(dpy, win, 0, y + 1, w - 1, h - 3, False);
+            /* draw the frame */
+            drawFrame(scr, win, y, w, h, type);
+        } else {
+            XClearArea(dpy, win, 0, y, w, h, False);
+        }
     }
 
     if (selected) {
-	textGC = scr->select_menu_gc;
-	if (entry->flags.enabled) 
-	    XSetForeground(dpy, textGC, scr->select_text_pixel);
-	else
-	    XSetForeground(dpy, textGC, scr->dtext_pixel);
+        if (entry->flags.enabled)
+            color = scr->select_text_color;
+        else
+            color = scr->dtext_color;
     } else if (!entry->flags.enabled) {
-	textGC = scr->disabled_menu_entry_gc;
-    } else { 
-	textGC = scr->menu_entry_gc;
+        color = scr->dtext_color;
+    } else {
+        color = scr->mtext_color;
     }
-    /* draw text */    
+    /* draw text */
     x = 5;
     if (entry->flags.indicator)
-	x += MENU_INDICATOR_SPACE + 2;
+        x += MENU_INDICATOR_SPACE + 2;
 
-    WMDrawString(scr->wmscreen, win, textGC, scr->menu_entry_font, 
-		 x, 3 + y + wPreferences.menu_text_clearance, entry->text, strlen(entry->text));
+    WMDrawString(scr->wmscreen, win, color, scr->menu_entry_font,
+                 x, 3 + y + wPreferences.menu_text_clearance, entry->text, strlen(entry->text));
 
     if (entry->cascade>=0) {
-	/* draw the cascade indicator */
-	XDrawLine(dpy,win,dim, w-11, y+6, w-6, y+h/2-1);
-	XDrawLine(dpy,win,light, w-11, y+h-8, w-6, y+h/2-1);
-	XDrawLine(dpy,win,dark, w-12, y+6, w-12, y+h-8);
+        /* draw the cascade indicator */
+        XDrawLine(dpy, win, dim,   w-11, y+6,   w-6,  y+h/2-1);
+        XDrawLine(dpy, win, light, w-11, y+h-8, w-6,  y+h/2-1);
+        XDrawLine(dpy, win, dark,  w-12, y+6,   w-12, y+h-8);
     }
 
     /* draw indicator */
     if (entry->flags.indicator && entry->flags.indicator_on) {
-	int iw, ih;
-	WPixmap *indicator;
+        int iw, ih;
+        WPixmap *indicator;
+
+
+        switch (entry->flags.indicator_type) {
+        case MI_CHECK:
+            indicator = scr->menu_check_indicator;
+            break;
+        case MI_MINIWINDOW:
+            indicator = scr->menu_mini_indicator;
+            break;
+        case MI_HIDDEN:
+            indicator = scr->menu_hide_indicator;
+            break;
+        case MI_SHADED:
+            indicator = scr->menu_shade_indicator;
+            break;
+        case MI_DIAMOND:
+        default:
+            indicator = scr->menu_radio_indicator;
+            break;
+        }
 
-	
-	switch (entry->flags.indicator_type) {
-	 case MI_CHECK:
-	    indicator = scr->menu_check_indicator;
-	    break;
-	 case MI_MINIWINDOW:
-	    indicator = scr->menu_mini_indicator;
-	    break;
-	 case MI_HIDDEN:
-	    indicator = scr->menu_hide_indicator;
-	    break;
-	 case MI_SHADED:
-	    indicator = scr->menu_shade_indicator;
-	    break;
-	 case MI_DIAMOND:
-	 default:
-	    indicator = scr->menu_radio_indicator;
-	    break;
-	}
-	
-	iw = indicator->width;
-	ih = indicator->height;
-	XSetClipMask(dpy, scr->copy_gc, indicator->mask);
-	XSetClipOrigin(dpy, scr->copy_gc, 5, y+(h-ih)/2);
+        iw = indicator->width;
+        ih = indicator->height;
+        XSetClipMask(dpy, scr->copy_gc, indicator->mask);
+        XSetClipOrigin(dpy, scr->copy_gc, 5, y+(h-ih)/2);
         if (selected) {
             if (entry->flags.enabled) {
-                XSetForeground(dpy, scr->copy_gc, scr->black_pixel);
+                XSetForeground(dpy, scr->copy_gc, WMColorPixel(scr->select_text_color));
             } else {
-                XSetForeground(dpy, scr->copy_gc, scr->dtext_pixel);
+                XSetForeground(dpy, scr->copy_gc, WMColorPixel(scr->dtext_color));
             }
         } else {
             if (entry->flags.enabled) {
-                XSetForeground(dpy, scr->copy_gc, scr->mtext_pixel);
+                XSetForeground(dpy, scr->copy_gc, WMColorPixel(scr->mtext_color));
             } else {
-                XSetForeground(dpy, scr->copy_gc, scr->dtext_pixel);
+                XSetForeground(dpy, scr->copy_gc, WMColorPixel(scr->dtext_color));
             }
         }
-	XFillRectangle(dpy, win, scr->copy_gc, 5, y+(h-ih)/2, iw, ih);
-	/*
-	XCopyArea(dpy, indicator->image, win, scr->copy_gc, 0, 0,
-		  iw, ih, 5, y+(h-ih)/2);
-	 */
-	XSetClipOrigin(dpy, scr->copy_gc, 0, 0);
+        XFillRectangle(dpy, win, scr->copy_gc, 5, y+(h-ih)/2, iw, ih);
+        /*
+         XCopyArea(dpy, indicator->image, win, scr->copy_gc, 0, 0,
+         iw, ih, 5, y+(h-ih)/2);
+         */
+        XSetClipOrigin(dpy, scr->copy_gc, 0, 0);
     }
 
     /* draw right text */
-    
+
     if (entry->rtext && entry->cascade<0) {
+        tw = WMWidthOfString(scr->menu_entry_font, entry->rtext,
+                             strlen(entry->rtext));
 
-	tw = WMWidthOfString(scr->menu_entry_font, entry->rtext,
-			     strlen(entry->rtext));
-    WMDrawString(scr->wmscreen, win, textGC, scr->menu_entry_font, w-6-tw, 
-            y + 3 + wPreferences.menu_text_clearance, entry->rtext, strlen(entry->rtext));
+        WMDrawString(scr->wmscreen, win, color, scr->menu_entry_font, w-6-tw,
+                     y + 3 + wPreferences.menu_text_clearance, entry->rtext, strlen(entry->rtext));
     }
 }
 
@@ -857,11 +856,11 @@
 move_menus(WMenu *menu, int x, int y)
 {
     while (menu->parent) {
-	menu = menu->parent;
-	x -= MENUW(menu);
-	if (!wPreferences.align_menus && menu->selected_entry>=0) {
-	    y -= menu->selected_entry*menu->entry_height;
-	}
+        menu = menu->parent;
+        x -= MENUW(menu);
+        if (!wPreferences.align_menus && menu->selected_entry>=0) {
+            y -= menu->selected_entry*menu->entry_height;
+        }
     }
     wMenuMove(menu, x, y, True);
 }
@@ -871,37 +870,39 @@
 {
     WScreen *scr = menu->frame->screen_ptr;
     int x1, y1, x2, y2, new_x, new_y, move;
-    
+    WMRect rect = wGetRectForHead(scr, wGetHeadForPointerLocation(scr));
+
     if (menu->entry_no<0) return;
-    
+
     x1 = menu->frame_x;
     y1 = menu->frame_y+menu->frame->top_width
-	+ menu->selected_entry*menu->entry_height;
+        + menu->selected_entry*menu->entry_height;
     x2 = x1 + MENUW(menu);
     y2 = y1 + menu->entry_height;
-    
+
     new_x = x1;
     new_y = y1;
     move = 0;
 
-    if (x1 < 0) {
-	new_x = 0;
-	move = 1;
-    } else if (x2 >= scr->scr_width) {
-	new_x = scr->scr_width - MENUW(menu) - 1;
-	move = 1;
+
+    if (x1 < rect.pos.x) {
+        new_x = rect.pos.x;
+        move = 1;
+    } else if (x2 >= rect.pos.x + rect.size.width) {
+        new_x = rect.pos.x + rect.size.width - MENUW(menu) - 1;
+        move = 1;
     }
 
-    if (y1 < 0) {
-	new_y = 0;
-	move = 1;
-    } else if (y2 >= scr->scr_height) {
-	new_y = scr->scr_height - menu->entry_height - 1;
-	move = 1;
+    if (y1 < rect.pos.y) {
+        new_y = rect.pos.y;
+        move = 1;
+    } else if (y2 >= rect.pos.y + rect.size.height) {
+        new_y = rect.pos.y + rect.size.height - menu->entry_height - 1;
+        move = 1;
     }
 
     new_y = new_y - menu->frame->top_width
-	- menu->selected_entry*menu->entry_height;
+        - menu->selected_entry*menu->entry_height;
     move_menus(menu, new_x, new_y);
 }
 
@@ -911,25 +912,25 @@
 {
     int i, ch, s;
     char buffer[32];
-    
+
     if (XLookupString(event, buffer, 32, NULL, NULL)<1)
-	return -1;
-    
+        return -1;
+
     ch = toupper(buffer[0]);
-    
+
     s = (menu->selected_entry>=0 ? menu->selected_entry+1 : 0);
-    
+
 again:
     for (i=s; i<menu->entry_no; i++) {
-	if (ch==toupper(menu->entries[i]->text[0])) {
-	    return i;
-	}
+        if (ch==toupper(menu->entries[i]->text[0])) {
+            return i;
+        }
     }
     /* no match. Retry from start, if previous started from a selected entry */
     if (s!=0) {
-	s = 0;
-	goto again;
-    }	
+        s = 0;
+        goto again;
+    }
     return -1;
 }
 
@@ -945,186 +946,187 @@
     int old_pos_x = menu->frame_x;
     int old_pos_y = menu->frame_y;
     int new_x = old_pos_x, new_y = old_pos_y;
-    int scr_width = menu->frame->screen_ptr->scr_width;
-    int scr_height = menu->frame->screen_ptr->scr_height;
+    WMRect rect = wGetRectForHead(menu->frame->screen_ptr,
+                                  wGetHeadForPointerLocation(menu->frame->screen_ptr));
 
     if (menu->flags.editing)
-	return False;
+        return False;
 
 
     XGrabKeyboard(dpy, menu->frame->core->window, True, GrabModeAsync,
-		  GrabModeAsync, CurrentTime);
+                  GrabModeAsync, CurrentTime);
+
+
+    if (menu->frame_y+menu->frame->top_width >= rect.pos.y + rect.size.height)
+        new_y = rect.pos.y + rect.size.height - menu->frame->top_width;
+
+    if (menu->frame_x+MENUW(menu) >= rect.pos.x + rect.size.width)
+        new_x = rect.pos.x + rect.size.width - MENUW(menu) - 1;
 
-    if (menu->frame_y+menu->frame->top_width >= scr_height)
-	new_y = scr_height - menu->frame->top_width;
-    
-    if (menu->frame_x+MENUW(menu) >= scr_width)
-	new_x = scr_width-MENUW(menu)-1;
-    
     move_menus(menu, new_x, new_y);
 
     while (!done && menu->flags.mapped) {
-	XAllowEvents(dpy, AsyncKeyboard, CurrentTime);
-	WMMaskEvent(dpy, ExposureMask|ButtonMotionMask|ButtonPressMask
-		    |ButtonReleaseMask|KeyPressMask|KeyReleaseMask
-		    |SubstructureNotifyMask, &event);
-
-	switch (event.type) {
-	 case KeyPress:
-	    ksym = XLookupKeysym(&event.xkey, 0);
-	    switch (ksym) {
-	     case XK_Escape:
-		done = 1;
-		break;
+        XAllowEvents(dpy, AsyncKeyboard, CurrentTime);
+        WMMaskEvent(dpy, ExposureMask|ButtonMotionMask|ButtonPressMask
+                    |ButtonReleaseMask|KeyPressMask|KeyReleaseMask
+                    |SubstructureNotifyMask, &event);
+
+        switch (event.type) {
+        case KeyPress:
+            ksym = XLookupKeysym(&event.xkey, 0);
+            switch (ksym) {
+            case XK_Escape:
+                done = 1;
+                break;
 
-	     case XK_Home:
+            case XK_Home:
 #ifdef XK_KP_Home
-	     case XK_KP_Home:
+            case XK_KP_Home:
 #endif
-		selectEntry(menu, 0);
-		makeVisible(menu);
-		break;
-		
-	     case XK_End:
+                selectEntry(menu, 0);
+                makeVisible(menu);
+                break;
+
+            case XK_End:
 #ifdef XK_KP_End
-	     case XK_KP_End:
+            case XK_KP_End:
 #endif
-		selectEntry(menu, menu->entry_no-1);
-		makeVisible(menu);
-		break;
-		
-	     case XK_Up:
+                selectEntry(menu, menu->entry_no-1);
+                makeVisible(menu);
+                break;
+
+            case XK_Up:
 #ifdef ARROWLESS_KBD
-	     case XK_k:
+            case XK_k:
 #endif
 #ifdef XK_KP_Up
-	     case XK_KP_Up:
+            case XK_KP_Up:
 #endif
-		if (menu->selected_entry <= 0)
+                if (menu->selected_entry <= 0)
                     selectEntry(menu, menu->entry_no-1);
-		else
-		    selectEntry(menu, menu->selected_entry-1);
-		makeVisible(menu);
-		break;
-		
-	     case XK_Down:
+                else
+                    selectEntry(menu, menu->selected_entry-1);
+                makeVisible(menu);
+                break;
+
+            case XK_Down:
 #ifdef ARROWLESS_KBD
-	     case XK_j:
+            case XK_j:
 #endif
 #ifdef XK_KP_Down
-	     case XK_KP_Down:
+            case XK_KP_Down:
 #endif
-		if (menu->selected_entry<0) 
+                if (menu->selected_entry<0)
                     selectEntry(menu, 0);
                 else if (menu->selected_entry == menu->entry_no-1)
                     selectEntry(menu, 0);
-		else if (menu->selected_entry < menu->entry_no-1)
-		    selectEntry(menu, menu->selected_entry+1);
-		makeVisible(menu);
-		break;
-		
-	     case XK_Right:
+                else if (menu->selected_entry < menu->entry_no-1)
+                    selectEntry(menu, menu->selected_entry+1);
+                makeVisible(menu);
+                break;
+
+            case XK_Right:
 #ifdef ARROWLESS_KBD
-	     case XK_l:
+            case XK_l:
 #endif
 #ifdef XK_KP_Right
-	     case XK_KP_Right:
+            case XK_KP_Right:
 #endif
-		if (menu->selected_entry>=0) {
-		    WMenuEntry *entry;
-		    entry = menu->entries[menu->selected_entry];
-
-		    if (entry->cascade >= 0 && menu->cascades
-			&& menu->cascades[entry->cascade]->entry_no > 0) {
-
-			XUngrabKeyboard(dpy, CurrentTime);
-
-			selectEntry(menu->cascades[entry->cascade], 0);
-			if (!keyboardMenu(menu->cascades[entry->cascade]))
-			    done = 1;
-
-			XGrabKeyboard(dpy, menu->frame->core->window, True,
-				      GrabModeAsync, GrabModeAsync,
-				      CurrentTime);
-		    }
-		}
-		break;
+                if (menu->selected_entry>=0) {
+                    WMenuEntry *entry;
+                    entry = menu->entries[menu->selected_entry];
+
+                    if (entry->cascade >= 0 && menu->cascades
+                        && menu->cascades[entry->cascade]->entry_no > 0) {
+
+                        XUngrabKeyboard(dpy, CurrentTime);
+
+                        selectEntry(menu->cascades[entry->cascade], 0);
+                        if (!keyboardMenu(menu->cascades[entry->cascade]))
+                            done = 1;
+
+                        XGrabKeyboard(dpy, menu->frame->core->window, True,
+                                      GrabModeAsync, GrabModeAsync,
+                                      CurrentTime);
+                    }
+                }
+                break;
 
-	     case XK_Left:
+            case XK_Left:
 #ifdef ARROWLESS_KBD
-	     case XK_h:
+            case XK_h:
 #endif
 #ifdef XK_KP_Left
-	     case XK_KP_Left:
+            case XK_KP_Left:
 #endif
-		if (menu->parent!=NULL && menu->parent->selected_entry>=0) {
-		    selectEntry(menu, -1);
-		    move_menus(menu, old_pos_x, old_pos_y);
-		    return True;
-		}
-		break;
-		
-	     case XK_Return:
-		done = 2;
-		break;
-		
-	     default:
-		index = check_key(menu, &event.xkey);
-		if (index>=0) {
-		    selectEntry(menu, index);
-		}
-	    }
-	    break;
-	    
-	 default:
-	    if (event.type==ButtonPress)
-		done = 1;
-	    
-	    WMHandleEvent(&event);
-	}
+                if (menu->parent!=NULL && menu->parent->selected_entry>=0) {
+                    selectEntry(menu, -1);
+                    move_menus(menu, old_pos_x, old_pos_y);
+                    return True;
+                }
+                break;
+
+            case XK_Return:
+                done = 2;
+                break;
+
+            default:
+                index = check_key(menu, &event.xkey);
+                if (index>=0) {
+                    selectEntry(menu, index);
+                }
+            }
+            break;
+
+        default:
+            if (event.type==ButtonPress)
+                done = 1;
+
+            WMHandleEvent(&event);
+        }
     }
 
     XUngrabKeyboard(dpy, CurrentTime);
 
     if (done==2 && menu->selected_entry>=0) {
-	entry = menu->entries[menu->selected_entry];
+        entry = menu->entries[menu->selected_entry];
     } else {
-	entry = NULL;
+        entry = NULL;
     }
 
     if (entry && entry->callback!=NULL && entry->flags.enabled
-	&& entry->cascade < 0) {
+        && entry->cascade < 0) {
 #if (MENU_BLINK_COUNT > 0)
-	int sel = menu->selected_entry;
-	int i;
-	
-	for (i=0; i<MENU_BLINK_COUNT; i++) {
-	    paintEntry(menu, sel, False);
-	    XSync(dpy, 0);
-	    wusleep(MENU_BLINK_DELAY);
-	    paintEntry(menu, sel, True);
-	    XSync(dpy, 0);
-	    wusleep(MENU_BLINK_DELAY);
-	}
+        int sel = menu->selected_entry;
+        int i;
+
+        for (i=0; i<MENU_BLINK_COUNT; i++) {
+            paintEntry(menu, sel, False);
+            XSync(dpy, 0);
+            wusleep(MENU_BLINK_DELAY);
+            paintEntry(menu, sel, True);
+            XSync(dpy, 0);
+            wusleep(MENU_BLINK_DELAY);
+        }
 #endif
-	selectEntry(menu, -1);
+        selectEntry(menu, -1);
+
+        if (!menu->flags.buttoned) {
+            wMenuUnmap(menu);
+            move_menus(menu, old_pos_x, old_pos_y);
+        }
+        closeCascade(menu);
 
-	if (!menu->flags.buttoned) {
-	    wMenuUnmap(menu);
-	    move_menus(menu, old_pos_x, old_pos_y);
-	}
-	closeCascade(menu);
-	 
-	(*entry->callback)(menu, entry);
+        (*entry->callback)(menu, entry);
     } else {
-	if (!menu->flags.buttoned) {
-	    wMenuUnmap(menu);
-	    move_menus(menu, old_pos_x, old_pos_y);
-	}
-	selectEntry(menu, -1);
+        if (!menu->flags.buttoned) {
+            wMenuUnmap(menu);
+            move_menus(menu, old_pos_x, old_pos_y);
+        }
+        selectEntry(menu, -1);
     }
 
-    
+
     /* returns True if returning from a submenu to a parent menu,
      * False if exiting from menu */
     return False;
@@ -1134,21 +1136,21 @@
 void
 wMenuMapAt(WMenu *menu, int x, int y, int keyboard)
 {
-    int scr_width = menu->frame->screen_ptr->scr_width;
-    int scr_height = menu->frame->screen_ptr->scr_height;
+    WMRect rect = wGetRectForHead(menu->frame->screen_ptr,
+                                  wGetHeadForPointerLocation(menu->frame->screen_ptr));
 
     if (!menu->flags.realized) {
-	menu->flags.realized=1;
-	wMenuRealize(menu);
+        menu->flags.realized=1;
+        wMenuRealize(menu);
     }
     if (!menu->flags.mapped) {
         if (wPreferences.wrap_menus) {
-            if (x<0) x = 0;
-            if (y<0) y = 0;
-            if (x+MENUW(menu) > scr_width)
-                x = scr_width - MENUW(menu);
-            if (y+MENUH(menu) > scr_height)
-                y = scr_height - MENUH(menu);
+            if (x<rect.pos.x) x = rect.pos.x;
+            if (y<rect.pos.y) y = rect.pos.y;
+            if (x+MENUW(menu) > rect.pos.x + rect.size.width)
+                x = rect.pos.x + rect.size.width - MENUW(menu);
+            if (y+MENUH(menu) > rect.pos.y + rect.size.height)
+                y = rect.pos.y + rect.size.height - MENUH(menu);
         }
 
         XMoveWindow(dpy, menu->frame->core->window, x, y);
@@ -1160,23 +1162,23 @@
     } else {
         selectEntry(menu, 0);
     }
-    
+
     if (keyboard)
-	keyboardMenu(menu);
+        keyboardMenu(menu);
 }
 
 
 void
 wMenuMap(WMenu *menu)
-{    
+{
     if (!menu->flags.realized) {
-	menu->flags.realized=1;
-	wMenuRealize(menu);
+        menu->flags.realized=1;
+        wMenuRealize(menu);
     }
     if (menu->flags.app_menu && menu->parent==NULL) {
-	menu->frame_x = menu->frame->screen_ptr->app_menu_x;
-	menu->frame_y = menu->frame->screen_ptr->app_menu_y;
-	XMoveWindow(dpy, menu->frame->core->window, menu->frame_x, menu->frame_y);
+        menu->frame_x = menu->frame->screen_ptr->app_menu_x;
+        menu->frame_y = menu->frame->screen_ptr->app_menu_y;
+        XMoveWindow(dpy, menu->frame->core->window, menu->frame_x, menu->frame_y);
     }
     XMapWindow(dpy, menu->frame->core->window);
     wRaiseFrame(menu->frame->core);
@@ -1191,37 +1193,37 @@
 
     XUnmapWindow(dpy, menu->frame->core->window);
     if (menu->flags.titled && menu->flags.buttoned) {
-	wFrameWindowHideButton(menu->frame, WFF_RIGHT_BUTTON);
+        wFrameWindowHideButton(menu->frame, WFF_RIGHT_BUTTON);
     }
     menu->flags.buttoned = 0;
     menu->flags.mapped = 0;
     menu->flags.open_to_left = 0;
 
     for (i=0; i<menu->cascade_no; i++) {
-	if (menu->cascades[i]!=NULL
-	    && menu->cascades[i]->flags.mapped 
-	    && !menu->cascades[i]->flags.buttoned) {
-	    
-	    wMenuUnmap(menu->cascades[i]);
-	}
+        if (menu->cascades[i]!=NULL
+            && menu->cascades[i]->flags.mapped
+            && !menu->cascades[i]->flags.buttoned) {
+
+            wMenuUnmap(menu->cascades[i]);
+        }
     }
     menu->selected_entry = -1;
-} 
+}
 
 
 
-void 
+void
 wMenuPaint(WMenu *menu)
-{ 
+{
     int i;
-     
+
     if (!menu->flags.mapped) {
-	return;
+        return;
     }
 
     /* paint entries */
     for (i=0; i<menu->entry_no; i++) {
-	paintEntry(menu, i, i==menu->selected_entry);
+        paintEntry(menu, i, i==menu->selected_entry);
     }
 }
 
@@ -1249,80 +1251,80 @@
     int done = 0;
     Window old_focus;
     int old_revert;
-    
+
     menu->flags.editing = 1;
 
     text = wTextCreate(menu->menu, 1, menu->entry_height * entry->order,
-		       menu->menu->width - 2, menu->entry_height - 1);
+                       menu->menu->width - 2, menu->entry_height - 1);
 
     wTextPutText(text, entry->text);
     XGetInputFocus(dpy, &old_focus, &old_revert);
     XSetInputFocus(dpy, text->core->window, RevertToNone, CurrentTime);
-    
+
     if (XGrabKeyboard(dpy, text->core->window, True, GrabModeAsync,
-		      GrabModeAsync, CurrentTime)!=GrabSuccess) {
-	wwarning(_("could not grab keyboard"));
-	wTextDestroy(text);
-	
-	wSetFocusTo(menu->frame->screen_ptr, 
-		    menu->frame->screen_ptr->focused_window);
-	return;
+                      GrabModeAsync, CurrentTime)!=GrabSuccess) {
+        wwarning(_("could not grab keyboard"));
+        wTextDestroy(text);
+
+        wSetFocusTo(menu->frame->screen_ptr,
+                    menu->frame->screen_ptr->focused_window);
+        return;
     }
 
 
     while (!done && !text->done) {
-	XSync(dpy, 0);
-	XAllowEvents(dpy, AsyncKeyboard|AsyncPointer, CurrentTime);
-	XSync(dpy, 0);
-	WMNextEvent(dpy, &event);
-
-	if (XFindContext(dpy, event.xany.window, wWinContext, 
-			 (XPointer *)&desc)==XCNOENT)
-	    desc = NULL;
-	
-	if ((desc != NULL) && (desc->handle_anything != NULL)) {
-
-	    (*desc->handle_anything)(desc, &event);
-
-	} else {	    
-	    switch (event.type) {
-	     case ButtonPress:
-		XAllowEvents(dpy, ReplayPointer, CurrentTime);
-		done = 1;
-
-	     default:
-		WMHandleEvent(&event);
-		break;
-	    }
-	}
+        XSync(dpy, 0);
+        XAllowEvents(dpy, AsyncKeyboard|AsyncPointer, CurrentTime);
+        XSync(dpy, 0);
+        WMNextEvent(dpy, &event);
+
+        if (XFindContext(dpy, event.xany.window, wWinContext,
+                         (XPointer *)&desc)==XCNOENT)
+            desc = NULL;
+
+        if ((desc != NULL) && (desc->handle_anything != NULL)) {
+
+            (*desc->handle_anything)(desc, &event);
+
+        } else {
+            switch (event.type) {
+            case ButtonPress:
+                XAllowEvents(dpy, ReplayPointer, CurrentTime);
+                done = 1;
+
+            default:
+                WMHandleEvent(&event);
+                break;
+            }
+        }
     }
 
     XSetInputFocus(dpy, old_focus, old_revert, CurrentTime);
 
-    wSetFocusTo(menu->frame->screen_ptr, 
-		menu->frame->screen_ptr->focused_window);
+    wSetFocusTo(menu->frame->screen_ptr,
+                menu->frame->screen_ptr->focused_window);
 
 
     t = wTextGetText(text);
     /* if !t, the user has canceled editing */
     if (t) {
-	if (entry->text)
-	    wfree(entry->text);
-	entry->text = wstrdup(t);
-	
-	menu->flags.realized = 0;
+        if (entry->text)
+            wfree(entry->text);
+        entry->text = wstrdup(t);
+
+        menu->flags.realized = 0;
     }
     wTextDestroy(text);
-    
+
     XUngrabKeyboard(dpy, CurrentTime);
-    
+
     if (t && menu->on_edit)
-	(*menu->on_edit)(menu, entry);
-    
+        (*menu->on_edit)(menu, entry);
+
     menu->flags.editing = 0;
 
     if (!menu->flags.realized)
-	wMenuRealize(menu);
+        wMenuRealize(menu);
 }
 
 
@@ -1334,59 +1336,59 @@
     int old_entry;
 
     if (menu->entries==NULL)
-	return;
-    
+        return;
+
     if (entry_no >= menu->entry_no)
-	return;
+        return;
 
     old_entry = menu->selected_entry;
     menu->selected_entry = entry_no;
 
     if (old_entry!=entry_no) {
-	
-	/* unselect previous entry */
-	if (old_entry>=0) {
-	    paintEntry(menu, old_entry, False);
-	    entry = menu->entries[old_entry];
-	    
-	    /* unmap cascade */
-	    if (entry->cascade>=0 && menu->cascades) {
-		if (!menu->cascades[entry->cascade]->flags.buttoned) {
-		    wMenuUnmap(menu->cascades[entry->cascade]);
-		}
-	    }
-	}
-
-	if (entry_no<0) {
-	    menu->selected_entry = -1;
-	    return;
-	}
-	entry = menu->entries[entry_no];
-
-	if (entry->cascade>=0 && menu->cascades && entry->flags.enabled) {
-	    /* Callback for when the submenu is opened.
-	     */
-	    submenu = menu->cascades[entry->cascade];
-	    if (submenu && submenu->flags.brother)
-		submenu = submenu->brother;
-
-	    if (entry->callback) {
-		/* Only call the callback if the submenu is not yet mapped.
-		 */
-		if (menu->flags.brother) {
-		    if (!submenu || !submenu->flags.mapped)
-			(*entry->callback)(menu->brother, entry);
-		} else {
-		    if (!submenu || !submenu->flags.buttoned)
-			(*entry->callback)(menu, entry);
-		}
-	    }
-
-	    /* the submenu menu might have changed */
-	    submenu = menu->cascades[entry->cascade];
-	    
-	    /* map cascade */
-	    if (!submenu->flags.mapped) {
+
+        /* unselect previous entry */
+        if (old_entry>=0) {
+            paintEntry(menu, old_entry, False);
+            entry = menu->entries[old_entry];
+
+            /* unmap cascade */
+            if (entry->cascade>=0 && menu->cascades) {
+                if (!menu->cascades[entry->cascade]->flags.buttoned) {
+                    wMenuUnmap(menu->cascades[entry->cascade]);
+                }
+            }
+        }
+
+        if (entry_no<0) {
+            menu->selected_entry = -1;
+            return;
+        }
+        entry = menu->entries[entry_no];
+
+        if (entry->cascade>=0 && menu->cascades && entry->flags.enabled) {
+            /* Callback for when the submenu is opened.
+             */
+            submenu = menu->cascades[entry->cascade];
+            if (submenu && submenu->flags.brother)
+                submenu = submenu->brother;
+
+            if (entry->callback) {
+                /* Only call the callback if the submenu is not yet mapped.
+                 */
+                if (menu->flags.brother) {
+                    if (!submenu || !submenu->flags.mapped)
+                        (*entry->callback)(menu->brother, entry);
+                } else {
+                    if (!submenu || !submenu->flags.buttoned)
+                        (*entry->callback)(menu, entry);
+                }
+            }
+
+            /* the submenu menu might have changed */
+            submenu = menu->cascades[entry->cascade];
+
+            /* map cascade */
+            if (!submenu->flags.mapped) {
                 int x, y;
 
                 if (!submenu->flags.realized)
@@ -1405,7 +1407,7 @@
                         x = menu->frame_x + MENUW(menu);
 
                         if (x + MENUW(submenu)
-			    >= menu->frame->screen_ptr->scr_width) {
+                            >= menu->frame->screen_ptr->scr_width) {
 
                             x = menu->frame_x - MENUW(submenu);
                             submenu->flags.open_to_left = 1;
@@ -1413,7 +1415,7 @@
                     }
                 } else {
                     x = menu->frame_x + MENUW(menu);
-		}
+                }
 
                 if (wPreferences.align_menus) {
                     y = menu->frame_y;
@@ -1444,20 +1446,20 @@
     Window root_ret, win, junk_win;
     int x, y, wx, wy;
     unsigned int mask;
-    
+
     XQueryPointer(dpy, scr->root_win, &root_ret, &win, &x, &y, &wx, &wy,
-		  &mask);
-    
+                  &mask);
+
     if (win==None) return NULL;
-    
+
     if (XFindContext(dpy, win, wWinContext, (XPointer *)&desc)==XCNOENT)
-      return NULL;
-    
+        return NULL;
+
     if (desc->parent_type == WCLASS_MENU) {
-	menu = (WMenu*)desc->parent;
-	XTranslateCoordinates(dpy, root_ret, menu->menu->window, wx, wy, 
-			      x_ret, y_ret, &junk_win);
-	return menu;
+        menu = (WMenu*)desc->parent;
+        XTranslateCoordinates(dpy, root_ret, menu->menu->window, wx, wy,
+                              x_ret, y_ret, &junk_win);
+        return menu;
     }
     return NULL;
 }
@@ -1470,26 +1472,26 @@
 {
     WMenu *parent=menu->parent;
 
-    if (menu->flags.brother 
-	|| (!menu->flags.buttoned 
-	    && (!menu->flags.app_menu||menu->parent!=NULL))) {
+    if (menu->flags.brother
+        || (!menu->flags.buttoned
+            && (!menu->flags.app_menu||menu->parent!=NULL))) {
 
-	selectEntry(menu, -1);
-	XSync(dpy, 0);
+        selectEntry(menu, -1);
+        XSync(dpy, 0);
 #if (MENU_BLINK_DELAY > 2)
-	wusleep(MENU_BLINK_DELAY/2);
+        wusleep(MENU_BLINK_DELAY/2);
 #endif
-	wMenuUnmap(menu);
-	while (parent!=NULL
-	       && (parent->parent!=NULL || !parent->flags.app_menu
-		   || parent->flags.brother)
-	       && !parent->flags.buttoned) {
-	    selectEntry(parent, -1);
-	    wMenuUnmap(parent);
-	    parent = parent->parent;
-	}
-	if (parent)
-	  selectEntry(parent, -1);
+        wMenuUnmap(menu);
+        while (parent!=NULL
+               && (parent->parent!=NULL || !parent->flags.app_menu
+                   || parent->flags.brother)
+               && !parent->flags.buttoned) {
+            selectEntry(parent, -1);
+            wMenuUnmap(parent);
+            parent = parent->parent;
+        }
+        if (parent)
+            selectEntry(parent, -1);
     }
 }
 
@@ -1499,18 +1501,18 @@
 {
     WMenu *tmp;
     int i;
-    
+
     for (i=0; i<menu->cascade_no; i++) {
-	if (menu->cascades[i]->flags.brother) {
-	    tmp = menu->cascades[i];
-	} else {
-	    tmp = menu->cascades[i]->brother;
-	}
-	if (tmp->flags.mapped) {
-	    selectEntry(tmp->parent, -1);
-	    closeBrotherCascadesOf(tmp);
-	    break;
-	}
+        if (menu->cascades[i]->flags.brother) {
+            tmp = menu->cascades[i];
+        } else {
+            tmp = menu->cascades[i]->brother;
+        }
+        if (tmp->flags.mapped) {
+            selectEntry(tmp->parent, -1);
+            closeBrotherCascadesOf(tmp);
+            break;
+        }
     }
 }
 
@@ -1525,7 +1527,7 @@
     WMenuEntry *entry;
 
     if (menu->flags.buttoned)
-	return menu;
+        return menu;
 
     while (menu->parent && menu->parent->flags.mapped) {
         parent = menu->parent;
@@ -1539,7 +1541,7 @@
         if (menu->flags.buttoned)
             break;
     }
-    
+
     return menu;
 }
 
@@ -1620,39 +1622,40 @@
     int menuY1 = menu->frame_y;
     int menuX2 = menu->frame_x + MENUW(menu);
     int menuY2 = menu->frame_y + MENUH(menu);
-    int screenW = scr->scr_width;
-    int screenH = scr->scr_height;
     int xroot, yroot;
-    
+    WMRect rect = wGetRectForHead(scr, wGetHeadForPointerLocation(scr));
+
+
     *hamount = 0;
     *vamount = 0;
-    
+
     getPointerPosition(scr, &xroot, &yroot);
 
+    if (xroot <= (rect.pos.x + 1) && menuX1 < rect.pos.x) {
+        /* scroll to the right */
+        *hamount = WMIN(MENU_SCROLL_STEP, abs(menuX1));
+
+    } else if (xroot >= (rect.pos.x + rect.size.width - 2) &&
+               menuX2 > (rect.pos.x + rect.size.width - 1)) {
+        /* scroll to the left */
+        *hamount = WMIN(MENU_SCROLL_STEP, abs(menuX2-rect.pos.x-rect.size.width-1));
+
+        if (*hamount==0)
+            *hamount = 1;
+
+        *hamount = -*hamount;
+    }
+
+    if (yroot <= (rect.pos.y + 1) && menuY1 < rect.pos.y) {
+        /* scroll down */
+        *vamount = WMIN(MENU_SCROLL_STEP, abs(menuY1));
+
+    } else if (yroot >= (rect.pos.y + rect.size.height - 2) &&
+               menuY2 > (rect.pos.y + rect.size.height - 1)) {
+        /* scroll up */
+        *vamount = WMIN(MENU_SCROLL_STEP, abs(menuY2-rect.pos.y-rect.size.height-2));
 
-    if (xroot <= 1 && menuX1 < 0) {
-	/* scroll to the right */
-	*hamount = WMIN(MENU_SCROLL_STEP, abs(menuX1));
-
-    } else if (xroot >= screenW-2 && menuX2 > screenW-1) {
-	/* scroll to the left */
-	*hamount = WMIN(MENU_SCROLL_STEP, abs(menuX2-screenW-1));
-	
-	if (*hamount==0)
-	    *hamount = 1;
-
-	*hamount = -*hamount;
-    }
-    
-    if (yroot <= 1 && menuY1 < 0) {
-	/* scroll down */
-	*vamount = WMIN(MENU_SCROLL_STEP, abs(menuY1));
-        
-    } else if (yroot >= screenH-2 && menuY2 > screenH-1) {
-	/* scroll up */
-	*vamount = WMIN(MENU_SCROLL_STEP, abs(menuY2-screenH-2));
-        
-	*vamount = -*vamount;
+        *vamount = -*vamount;
     }
 }
 
@@ -1666,40 +1669,40 @@
     int hamount, vamount;
     int x, y;
     int newSelectedEntry;
-    
+
     getScrollAmount(menu, &hamount, &vamount);
-    
-    
+
+
     if (hamount != 0 || vamount != 0) {
-	wMenuMove(parent, parent->frame_x + hamount,
-		  parent->frame_y + vamount, True);
-	if (findMenu(scr, &x, &y)) {
-	    newSelectedEntry = getEntryAt(menu, x, y);
-	    selectEntry(menu, newSelectedEntry);
-	} else {
-	    /* Pointer fell outside of menu. If the selected entry is
-	     * not a submenu, unselect it */
-	    if (menu->selected_entry >= 0 
-		&& menu->entries[menu->selected_entry]->cascade<0)
-		selectEntry(menu, -1);
-	    newSelectedEntry = 0;
-	}
-	
-	/* paranoid check */
-	if (newSelectedEntry >= 0) {
-	    /* keep scrolling */
-	    menu->timer = WMAddTimerHandler(MENU_SCROLL_DELAY, 
-					    dragScrollMenuCallback, menu);
-	} else {
-	    menu->timer = NULL;
-	}
+        wMenuMove(parent, parent->frame_x + hamount,
+                  parent->frame_y + vamount, True);
+        if (findMenu(scr, &x, &y)) {
+            newSelectedEntry = getEntryAt(menu, x, y);
+            selectEntry(menu, newSelectedEntry);
+        } else {
+            /* Pointer fell outside of menu. If the selected entry is
+             * not a submenu, unselect it */
+            if (menu->selected_entry >= 0
+                && menu->entries[menu->selected_entry]->cascade<0)
+                selectEntry(menu, -1);
+            newSelectedEntry = 0;
+        }
+
+        /* paranoid check */
+        if (newSelectedEntry >= 0) {
+            /* keep scrolling */
+            menu->timer = WMAddTimerHandler(MENU_SCROLL_DELAY,
+                                            dragScrollMenuCallback, menu);
+        } else {
+            menu->timer = NULL;
+        }
     } else {
-	/* don't need to scroll anymore */
-	menu->timer = NULL;
-	if (findMenu(scr, &x, &y)) {
-	    newSelectedEntry = getEntryAt(menu, x, y);
-	    selectEntry(menu, newSelectedEntry);
-	}
+        /* don't need to scroll anymore */
+        menu->timer = NULL;
+        if (findMenu(scr, &x, &y)) {
+            newSelectedEntry = getEntryAt(menu, x, y);
+            selectEntry(menu, newSelectedEntry);
+        }
     }
 }
 
@@ -1716,18 +1719,18 @@
     /* don't scroll if it is in vdesk mode */
     if (!wPreferences.vedge_thickness)
 #endif
-    getScrollAmount(menu, &hamount, &vamount);
-    
+        getScrollAmount(menu, &hamount, &vamount);
+
     if (hamount != 0 || vamount != 0) {
-	wMenuMove(parent, parent->frame_x + hamount,
-		  parent->frame_y + vamount, True);
+        wMenuMove(parent, parent->frame_x + hamount,
+                  parent->frame_y + vamount, True);
 
-	/* keep scrolling */
-	menu->timer = WMAddTimerHandler(MENU_SCROLL_DELAY, 
-					scrollMenuCallback, menu);
+        /* keep scrolling */
+        menu->timer = WMAddTimerHandler(MENU_SCROLL_DELAY,
+                                        scrollMenuCallback, menu);
     } else {
-	/* don't need to scroll anymore */
-	menu->timer = NULL;
+        /* don't need to scroll anymore */
+        menu->timer = NULL;
     }
 }
 
@@ -1742,33 +1745,36 @@
     int menuY1 = menu->frame_y;
     int menuX2 = menu->frame_x + MENUW(menu);
     int menuY2 = menu->frame_y + MENUH(menu);
-    int scrXe = menu->menu->screen_ptr->scr_width-1;
-    int scrYe = menu->menu->screen_ptr->scr_height-1;
     int flag = 0;
-    
-    if (x >= menuX1 && x <= menuX2 && (y < MENU_SCROLL_BORDER
-				       || y > scrYe-MENU_SCROLL_BORDER))
-	flag = 1;
-    else if (y >= menuY1 && y <= menuY2 && (x < MENU_SCROLL_BORDER
-					    || x > scrXe-MENU_SCROLL_BORDER))
-	flag = 1;
-	
+    int head = wGetHeadForPoint(menu->frame->screen_ptr, wmkpoint(x, y));
+    WMRect rect = wGetRectForHead(menu->frame->screen_ptr, head);
+
+    /* XXX: handle screen joins properly !! */
+
+    if (x >= menuX1 && x <= menuX2 &&
+        (y < rect.pos.y + MENU_SCROLL_BORDER ||
+         y >= rect.pos.y + rect.size.height - MENU_SCROLL_BORDER))
+        flag = 1;
+    else if (y >= menuY1 && y <= menuY2 &&
+             (x < rect.pos.x + MENU_SCROLL_BORDER ||
+              x >= rect.pos.x + rect.size.width - MENU_SCROLL_BORDER))
+        flag = 1;
+
     return flag;
 }
 
- 
+
 typedef struct _delay {
-    WWindow *wwin;
     WMenu *menu;
-    int ox,oy;
+    int ox, oy;
 } _delay;
 
 
 static void
-_leaving(_delay *dl)
+leaving(_delay *dl)
 {
     wMenuMove(dl->menu, dl->ox, dl->oy, True);
-    dl->menu->jump_back=NULL;
+    dl->menu->jump_back = NULL;
     dl->menu->menu->screen_ptr->flags.jump_back_pending = 0;
     wfree(dl);
 }
@@ -1785,7 +1791,7 @@
     int old_frame_x = omenu->frame_x;
     int old_frame_y = omenu->frame_y;
     XEvent ev;
-    
+
     if (omenu->jump_back)
         WMDeleteTimerWithClientData(omenu->jump_back);
 
@@ -1801,70 +1807,72 @@
         raiseMenus(menu, False);
 
     if (!menu->timer)
-	scrollMenuCallback(menu);    
+        scrollMenuCallback(menu);
 
     while(!done) {
         int x, y, on_border, on_x_edge, on_y_edge, on_title;
+        WMRect rect;
 
         WMNextEvent(dpy, &ev);
         switch (ev.type) {
-            case EnterNotify:
-                WMHandleEvent(&ev);
-            case MotionNotify:
-                x = (ev.type==MotionNotify) ? ev.xmotion.x_root : ev.xcrossing.x_root;
-                y = (ev.type==MotionNotify) ? ev.xmotion.y_root : ev.xcrossing.y_root;
-
-                /* on_border is != 0 if the pointer is between the menu
-                 * and the screen border and is close enough to the border */
-                on_border = isPointNearBoder(menu, x, y);
+        case EnterNotify:
+            WMHandleEvent(&ev);
+        case MotionNotify:
+            x = (ev.type==MotionNotify) ? ev.xmotion.x_root : ev.xcrossing.x_root;
+            y = (ev.type==MotionNotify) ? ev.xmotion.y_root : ev.xcrossing.y_root;
 
-                smenu = wMenuUnderPointer(scr);
+            /* on_border is != 0 if the pointer is between the menu
+             * and the screen border and is close enough to the border */
+            on_border = isPointNearBoder(menu, x, y);
 
-                if ((smenu==NULL && !on_border) || (smenu && parentMenu(smenu)!=omenu)) {
-                    done = 1;
-                    break;
-                }
+            smenu = wMenuUnderPointer(scr);
 
-                on_x_edge = x <= 1 || x >= scr->scr_width - 2;
-                on_y_edge = y <= 1 || y >= scr->scr_height - 2;
-                on_border = on_x_edge || on_y_edge;
+            if ((smenu==NULL && !on_border) || (smenu && parentMenu(smenu)!=omenu)) {
+                done = 1;
+                break;
+            }
 
-                if (!on_border && !jump_back) {
-                    done = 1;
-                    break;
-                }
+            rect = wGetRectForHead(scr, wGetHeadForPoint(scr, wmkpoint(x, y)));
+            on_x_edge = x <= rect.pos.x + 1 || x >= rect.pos.x + rect.size.width - 2;
+            on_y_edge = y <= rect.pos.y + 1 || y >= rect.pos.y + rect.size.height - 2;
+            on_border = on_x_edge || on_y_edge;
 
-                if (menu->timer && (smenu!=menu || (!on_y_edge && !on_x_edge))) {
-                    WMDeleteTimerHandler(menu->timer);
-                    menu->timer = NULL;
-                }
+            if (!on_border && !jump_back) {
+                done = 1;
+                break;
+            }
 
-                if (smenu != NULL)
-                    menu = smenu;
+            if (menu->timer && (smenu!=menu || (!on_y_edge && !on_x_edge))) {
+                WMDeleteTimerHandler(menu->timer);
+                menu->timer = NULL;
+            }
 
-                if (!menu->timer)
-                    scrollMenuCallback(menu);
-                break;
-            case ButtonPress:
-                /* True if we push on title, or drag the omenu to other position */
-                on_title = ev.xbutton.x_root >= omenu->frame_x &&
-                    ev.xbutton.x_root <= omenu->frame_x + MENUW(omenu) &&
-                    ev.xbutton.y_root >= omenu->frame_y &&
-                    ev.xbutton.y_root <= omenu->frame_y + omenu->frame->top_width;
-                WMHandleEvent(&ev);
-                smenu = wMenuUnderPointer(scr);
-                if (smenu == NULL || (smenu && smenu->flags.buttoned && smenu != omenu))
-                    done = 1;
-                else if (smenu==omenu && on_title) {
-                    jump_back = 0;
-                    done = 1;
-                }
-                break;
-            case KeyPress:
+            if (smenu != NULL)
+                menu = smenu;
+
+            if (!menu->timer)
+                scrollMenuCallback(menu);
+            break;
+        case ButtonPress:
+            /* True if we push on title, or drag the omenu to other position */
+            on_title = ev.xbutton.x_root >= omenu->frame_x &&
+                ev.xbutton.x_root <= omenu->frame_x + MENUW(omenu) &&
+                ev.xbutton.y_root >= omenu->frame_y &&
+                ev.xbutton.y_root <= omenu->frame_y + omenu->frame->top_width;
+            WMHandleEvent(&ev);
+            smenu = wMenuUnderPointer(scr);
+            if (smenu == NULL || (smenu && smenu->flags.buttoned && smenu != omenu))
                 done = 1;
-            default:
-                WMHandleEvent(&ev);
-                break;
+            else if (smenu==omenu && on_title) {
+                jump_back = 0;
+                done = 1;
+            }
+            break;
+        case KeyPress:
+            done = 1;
+        default:
+            WMHandleEvent(&ev);
+            break;
         }
     }
 
@@ -1876,21 +1884,21 @@
     if (jump_back) {
         _delay *delayer;
         if (!omenu->jump_back) {
-            delayer=wmalloc(sizeof(_delay));
+            delayer = wmalloc(sizeof(_delay));
             delayer->menu=omenu;
             delayer->ox=old_frame_x;
             delayer->oy=old_frame_y;
-            omenu->jump_back=delayer;
+            omenu->jump_back = delayer;
             scr->flags.jump_back_pending = 1;
         }
         else delayer = omenu->jump_back;
-        WMAddTimerHandler(MENU_JUMP_BACK_DELAY,(WMCallback*)_leaving, delayer);
+        WMAddTimerHandler(MENU_JUMP_BACK_DELAY,(WMCallback*)leaving, delayer);
     }
 }
 
 
 
-static void  
+static void
 menuExpose(WObjDescriptor *desc, XEvent *event)
 {
     wMenuPaint(desc->parent);
@@ -1918,17 +1926,17 @@
         selectEntry(menu, entry_no);
     }
     if (d->delayed_select)
-	*(d->delayed_select) = 0;
+        *(d->delayed_select) = 0;
 }
 
 
-static void  
+static void
 menuMouseDown(WObjDescriptor *desc, XEvent *event)
 {
     XButtonEvent *bev = &event->xbutton;
     WMenu *menu = desc->parent;
     WMenu *smenu;
-    WScreen *scr=menu->frame->screen_ptr;    
+    WScreen *scr=menu->frame->screen_ptr;
     WMenuEntry *entry=NULL;
     XEvent ev;
     int close_on_exit=0;
@@ -1941,71 +1949,79 @@
     int old_frame_y = 0;
     delay_data d_data = {NULL, NULL, NULL};
 
+    /* Doesn't seem to be needed anymore (if delayed selection handler is
+     * added only if not present). there seem to be no other side effects
+     * from removing this and it is also possible that it was only added
+     * to avoid problems with adding the delayed selection timer handler
+     * multiple times
+     */
+    /*if (menu->flags.inside_handler) {
+     return;
+     }*/
+    menu->flags.inside_handler = 1;
+
     if (!wPreferences.wrap_menus) {
         smenu = parentMenu(menu);
         old_frame_x = smenu->frame_x;
         old_frame_y = smenu->frame_y;
     } else if (event->xbutton.window == menu->frame->core->window) {
         /* This is true if the menu was launched with right click on root window */
-        delayed_select = 1;
-        d_data.delayed_select = &delayed_select;
-        d_data.menu = menu;
-        d_data.magic = WMAddTimerHandler(wPreferences.dblclick_time,
-                                        delaySelection, &d_data);
-    }
-    
-    if (menu->flags.inside_handler) {
-	return;
+        if (!d_data.magic) {
+            delayed_select = 1;
+            d_data.delayed_select = &delayed_select;
+            d_data.menu = menu;
+            d_data.magic = WMAddTimerHandler(wPreferences.dblclick_time,
+                                             delaySelection, &d_data);
+        }
     }
-    menu->flags.inside_handler = 1;
 
     wRaiseFrame(menu->frame->core);
-    
+
     close_on_exit = (bev->send_event || menu->flags.brother);
 
     smenu = findMenu(scr, &x, &y);
     if (!smenu) {
-	x = -1;
-	y = -1;
+        x = -1;
+        y = -1;
     } else {
-	menu = smenu;
+        menu = smenu;
     }
 
     if (menu->flags.editing) {
-	goto byebye;
+        goto byebye;
     }
     entry_no = getEntryAt(menu, x, y);
     if (entry_no>=0) {
-	entry = menu->entries[entry_no];
+        entry = menu->entries[entry_no];
+
+        if (!close_on_exit && (bev->state & ControlMask) && smenu
+            && entry->flags.editable) {
+            editEntry(smenu, entry);
+            goto byebye;
+        } else if (bev->state & ControlMask) {
+            goto byebye;
+        }
 
-	if (!close_on_exit && (bev->state & ControlMask) && smenu
-	    && entry->flags.editable) {
-	    editEntry(smenu, entry);
-	    goto byebye;
-	} else if (bev->state & ControlMask) {
-	    goto byebye;
-	}
-
-	if (entry->flags.enabled && entry->cascade>=0 && menu->cascades) {
-	    WMenu *submenu = menu->cascades[entry->cascade];
-	    /* map cascade */
+        if (entry->flags.enabled && entry->cascade>=0 && menu->cascades) {
+            WMenu *submenu = menu->cascades[entry->cascade];
+            /* map cascade */
             if (submenu->flags.mapped && !submenu->flags.buttoned &&
                 menu->selected_entry!=entry_no) {
-		wMenuUnmap(submenu);
+                wMenuUnmap(submenu);
             }
             if (!submenu->flags.mapped && !delayed_select) {
-		selectEntry(menu, entry_no);
-	    } else if (!submenu->flags.buttoned) {
-		selectEntry(menu, -1);
-	    }
-	    
+                selectEntry(menu, entry_no);
+            } else if (!submenu->flags.buttoned) {
+                selectEntry(menu, -1);
+            }
+
         } else if (!delayed_select) {
             selectEntry(menu, entry_no);
         }
 
         if (!wPreferences.wrap_menus && !wPreferences.scrollable_menus) {
-	    if (!menu->timer)
-		dragScrollMenuCallback(menu);
+            if (!menu->timer)
+                dragScrollMenuCallback(menu);
         }
     }
 
@@ -2014,17 +2030,17 @@
         wWorkspaceLowerEdge(scr);
     }
 #endif
-    
+
     prevx = bev->x_root;
     prevy = bev->y_root;
     while (!done) {
-	int x, y;
+        int x, y;
 
-	XAllowEvents(dpy, AsyncPointer|SyncPointer, CurrentTime);
+        XAllowEvents(dpy, AsyncPointer|SyncPointer, CurrentTime);
 
-	WMMaskEvent(dpy, ExposureMask|ButtonMotionMask|ButtonReleaseMask
-		    |ButtonPressMask, &ev);
-    switch (ev.type) {
+        WMMaskEvent(dpy, ExposureMask|ButtonMotionMask|ButtonReleaseMask
+                    |ButtonPressMask, &ev);
+        switch (ev.type) {
         case MotionNotify:
             smenu = findMenu(scr, &x, &y);
 
@@ -2036,8 +2052,8 @@
                     d_data.magic = NULL;
                 }
                 if (menu==NULL
-                        || (menu->selected_entry>=0
-                            && menu->entries[menu->selected_entry]->cascade>=0)) {
+                    || (menu->selected_entry>=0
+                        && menu->entries[menu->selected_entry]->cascade>=0)) {
                     prevx = ev.xmotion.x_root;
                     prevy = ev.xmotion.y_root;
 
@@ -2049,8 +2065,8 @@
                 prevy = ev.xmotion.y_root;
                 break;
             } else if (menu && menu!=smenu
-                    && (menu->selected_entry<0
-                        || menu->entries[menu->selected_entry]->cascade<0)) {
+                       && (menu->selected_entry<0
+                           || menu->entries[menu->selected_entry]->cascade<0)) {
                 selectEntry(menu, -1);
 
                 if (!delayed_select && d_data.magic) {
@@ -2061,7 +2077,7 @@
 
                 /* hysteresis for item selection */
 
-                /* check if the motion was to the side, indicating that 
+                /* check if the motion was to the side, indicating that
                  * the user may want to cross to a submenu */
                 if (!delayed_select && menu) {
                     int dx;
@@ -2071,11 +2087,11 @@
 
                     moved_to_submenu = False;
                     if (dx > 0 /* if moved enough to the side */
-                            /* maybe a open submenu */
-                            && menu->selected_entry>=0 
-                            /* moving to the right direction */
-                            && (wPreferences.align_menus
-                                || ev.xmotion.y_root >= prevy)) {
+                        /* maybe a open submenu */
+                        && menu->selected_entry>=0
+                        /* moving to the right direction */
+                        && (wPreferences.align_menus
+                            || ev.xmotion.y_root >= prevy)) {
                         int index;
 
                         index = menu->entries[menu->selected_entry]->cascade;
@@ -2094,8 +2110,8 @@
                     if (menu != smenu) {
                         if (d_data.magic) {
                             WMDeleteTimerHandler(d_data.magic);
+                            d_data.magic = NULL;
                         }
-                        d_data.magic = NULL;
                     } else if (moved_to_submenu) {
                         /* while we are moving, postpone the selection */
                         if (d_data.magic) {
@@ -2103,16 +2119,17 @@
                         }
                         d_data.delayed_select = NULL;
                         d_data.menu = menu;
-                        d_data.magic = WMAddTimerHandler(MENU_SELECT_DELAY, 
-                                delaySelection,
-                                &d_data);
+                        d_data.magic = WMAddTimerHandler(MENU_SELECT_DELAY,
+                                                         delaySelection,
+                                                         &d_data);
                         prevx = ev.xmotion.x_root;
                         prevy = ev.xmotion.y_root;
                         break;
                     } else {
-                        if (d_data.magic)
+                        if (d_data.magic) {
                             WMDeleteTimerHandler(d_data.magic);
-                        d_data.magic = NULL;
+                            d_data.magic = NULL;
+                        }
                     }
                 }
             }
@@ -2136,10 +2153,10 @@
                 if (entry_no>=0) {
                     entry = menu->entries[entry_no];
                     if (entry->flags.enabled && entry->cascade>=0 &&
-                            menu->cascades) {
+                        menu->cascades) {
                         WMenu *submenu = menu->cascades[entry->cascade];
                         if (submenu->flags.mapped && !submenu->flags.buttoned
-                                && menu->selected_entry!=entry_no) {
+                            && menu->selected_entry!=entry_no) {
                             wMenuUnmap(submenu);
                         }
                     }
@@ -2156,7 +2173,7 @@
                 done=1;
             break;
 
-        case Expose: 
+        case Expose:
             WMHandleEvent(&ev);
 #ifdef VIRTUAL_DESKTOP
             /* since expose will raise edge up.. I need another ugly hack here */
@@ -2165,61 +2182,63 @@
             }
 #endif
             break;
-    }
+        }
     }
 
     if (menu && menu->timer) {
-	WMDeleteTimerHandler(menu->timer);
-	menu->timer = NULL;
+        WMDeleteTimerHandler(menu->timer);
+        menu->timer = NULL;
     }
-    if (d_data.magic!=NULL)
+    if (d_data.magic!=NULL) {
         WMDeleteTimerHandler(d_data.magic);
-    
+        d_data.magic = NULL;
+    }
+
     if (menu && menu->selected_entry>=0) {
-	entry = menu->entries[menu->selected_entry];
-	if (entry->callback!=NULL && entry->flags.enabled 
-	    && entry->cascade < 0) {
-	    /* blink and erase menu selection */
+        entry = menu->entries[menu->selected_entry];
+        if (entry->callback!=NULL && entry->flags.enabled
+            && entry->cascade < 0) {
+            /* blink and erase menu selection */
 #if (MENU_BLINK_DELAY > 0)
-	    int sel = menu->selected_entry;
-	    int i;
+            int sel = menu->selected_entry;
+            int i;
 
-	    for (i=0; i<MENU_BLINK_COUNT; i++) {
-		paintEntry(menu, sel, False);
-		XSync(dpy, 0);
-		wusleep(MENU_BLINK_DELAY);
-		paintEntry(menu, sel, True);
-		XSync(dpy, 0);
-		wusleep(MENU_BLINK_DELAY);
-	    }
+            for (i=0; i<MENU_BLINK_COUNT; i++) {
+                paintEntry(menu, sel, False);
+                XSync(dpy, 0);
+                wusleep(MENU_BLINK_DELAY);
+                paintEntry(menu, sel, True);
+                XSync(dpy, 0);
+                wusleep(MENU_BLINK_DELAY);
+            }
 #endif
-	    /* unmap the menu, it's parents and call the callback */
-	    if (!menu->flags.buttoned && 
-		(!menu->flags.app_menu||menu->parent!=NULL)) {
-		closeCascade(menu);
-	    } else {
-		selectEntry(menu, -1);
-	    }
-	    (*entry->callback)(menu, entry);
-
-	    /* If the user double clicks an entry, the entry will
-	     * be executed twice, which is not good for things like
-	     * the root menu. So, ignore any clicks that were generated 
-	     * while the entry was being executed */
-	    while (XCheckTypedWindowEvent(dpy, menu->menu->window, 
-					  ButtonPress, &ev));
-	} else if (entry->callback!=NULL && entry->cascade<0) {
-	    selectEntry(menu, -1);
-	} else {	    
-	    if (entry->cascade>=0 && menu->cascades
-		&& menu->cascades[entry->cascade]->flags.brother) {
-		selectEntry(menu, -1);
-	    }
-	}
+            /* unmap the menu, it's parents and call the callback */
+            if (!menu->flags.buttoned &&
+                (!menu->flags.app_menu||menu->parent!=NULL)) {
+                closeCascade(menu);
+            } else {
+                selectEntry(menu, -1);
+            }
+            (*entry->callback)(menu, entry);
+
+            /* If the user double clicks an entry, the entry will
+             * be executed twice, which is not good for things like
+             * the root menu. So, ignore any clicks that were generated
+             * while the entry was being executed */
+            while (XCheckTypedWindowEvent(dpy, menu->menu->window,
+                                          ButtonPress, &ev));
+        } else if (entry->callback!=NULL && entry->cascade<0) {
+            selectEntry(menu, -1);
+        } else {
+            if (entry->cascade>=0 && menu->cascades
+                && menu->cascades[entry->cascade]->flags.brother) {
+                selectEntry(menu, -1);
+            }
+        }
     }
 
     if (((WMenu*)desc->parent)->flags.brother || close_on_exit || !smenu)
-	closeCascade(desc->parent);
+        closeCascade(desc->parent);
 
     /* close the cascade windows that should not remain opened */
     closeBrotherCascadesOf(desc->parent);
@@ -2227,7 +2246,17 @@
     if (!wPreferences.wrap_menus)
         wMenuMove(parentMenu(desc->parent), old_frame_x, old_frame_y, True);
 
-byebye:    
+byebye:
+    /* Just to be sure in case we skip the 2 above because of a goto byebye */
+    if (menu && menu->timer) {
+        WMDeleteTimerHandler(menu->timer);
+        menu->timer = NULL;
+    }
+    if (d_data.magic!=NULL) {
+        WMDeleteTimerHandler(d_data.magic);
+        d_data.magic = NULL;
+    }
+
     ((WMenu*)desc->parent)->flags.inside_handler = 0;
 #ifdef VIRTUAL_DESKTOP
     if (wPreferences.vedge_thickness) {
@@ -2242,38 +2271,38 @@
 {
     WMenu *submenu;
     int i;
-    
+
     if (!menu) return;
-    
+
     menu->frame_x = x;
     menu->frame_y = y;
     XMoveWindow(dpy, menu->frame->core->window, x, y);
-      
+
     if (submenus>0 && menu->selected_entry>=0) {
-	i = menu->entries[menu->selected_entry]->cascade;
-	
-	if (i>=0 && menu->cascades) {
-	    submenu = menu->cascades[i];
-	    if (submenu->flags.mapped && !submenu->flags.buttoned) {
-		if (wPreferences.align_menus) {
-		    wMenuMove(submenu, x + MENUW(menu), y, submenus);
-		} else {
-		    wMenuMove(submenu, x+ MENUW(menu),
-			      y + submenu->entry_height*menu->selected_entry,
-			      submenus);
-		}
-	    }
-	}
+        i = menu->entries[menu->selected_entry]->cascade;
+
+        if (i>=0 && menu->cascades) {
+            submenu = menu->cascades[i];
+            if (submenu->flags.mapped && !submenu->flags.buttoned) {
+                if (wPreferences.align_menus) {
+                    wMenuMove(submenu, x + MENUW(menu), y, submenus);
+                } else {
+                    wMenuMove(submenu, x+ MENUW(menu),
+                              y + submenu->entry_height*menu->selected_entry,
+                              submenus);
+                }
+            }
+        }
     }
     if (submenus<0 && menu->parent!=NULL && menu->parent->flags.mapped &&
-	!menu->parent->flags.buttoned) {
-	if (wPreferences.align_menus) {
-	    wMenuMove(menu->parent, x - MENUW(menu->parent), y, submenus);
-	} else {
-	    wMenuMove(menu->parent, x - MENUW(menu->parent), menu->frame_y
-		      - menu->parent->entry_height*menu->parent->selected_entry,
-		      submenus);
-	}		  
+        !menu->parent->flags.buttoned) {
+        if (wPreferences.align_menus) {
+            wMenuMove(menu->parent, x - MENUW(menu->parent), y, submenus);
+        } else {
+            wMenuMove(menu->parent, x - MENUW(menu->parent), menu->frame_y
+                      - menu->parent->entry_height*menu->parent->selected_entry,
+                      submenus);
+        }
     }
 }
 
@@ -2284,44 +2313,44 @@
     int i;
 
     if (!lower) {
-	ChangeStackingLevel(menu->frame->core, (!menu->parent ? WMMainMenuLevel
-					  : WMSubmenuLevel));
-	wRaiseFrame(menu->frame->core);
-	menu->flags.lowered = 0;
+        ChangeStackingLevel(menu->frame->core, (!menu->parent ? WMMainMenuLevel
+                                                : WMSubmenuLevel));
+        wRaiseFrame(menu->frame->core);
+        menu->flags.lowered = 0;
     } else {
-	ChangeStackingLevel(menu->frame->core, WMNormalLevel);
-	wLowerFrame(menu->frame->core);
-	menu->flags.lowered = 1;
+        ChangeStackingLevel(menu->frame->core, WMNormalLevel);
+        wLowerFrame(menu->frame->core);
+        menu->flags.lowered = 1;
     }
     for (i=0; i<menu->cascade_no; i++) {
-	if (menu->cascades[i]
-	    && !menu->cascades[i]->flags.buttoned
-	    && menu->cascades[i]->flags.lowered!=lower) {
-	    changeMenuLevels(menu->cascades[i], lower);
-	}
+        if (menu->cascades[i]
+            && !menu->cascades[i]->flags.buttoned
+            && menu->cascades[i]->flags.lowered!=lower) {
+            changeMenuLevels(menu->cascades[i], lower);
+        }
     }
 }
 
 
 
-static void 
+static void
 menuTitleDoubleClick(WCoreWindow *sender, void *data, XEvent *event)
 {
     WMenu *menu = data;
     int lower;
-    
+
     if (event->xbutton.state & MOD_MASK) {
-	if (menu->flags.lowered) {
-	    lower = 0;
-	} else {
-	    lower = 1;
-	}
-	changeMenuLevels(menu, lower);
+        if (menu->flags.lowered) {
+            lower = 0;
+        } else {
+            lower = 1;
+        }
+        changeMenuLevels(menu, lower);
     }
 }
 
 
-static void 
+static void
 menuTitleMouseDown(WCoreWindow *sender, void *data, XEvent *event)
 {
     WMenu *menu = data;
@@ -2334,94 +2363,94 @@
 
     /* can't touch the menu copy */
     if (menu->flags.brother)
-	return;
+        return;
 
     if (event->xbutton.button != Button1 && event->xbutton.button != Button2)
-      return;
+        return;
 
     if (event->xbutton.state & MOD_MASK) {
-	wLowerFrame(menu->frame->core);
-	lower = 1;
+        wLowerFrame(menu->frame->core);
+        lower = 1;
     } else {
-	wRaiseFrame(menu->frame->core);
-	lower = 0;
+        wRaiseFrame(menu->frame->core);
+        lower = 0;
     }
     tmp = menu;
 
     /* lower/raise all submenus */
     while (1) {
-	if (tmp->selected_entry>=0 && tmp->cascades
-	    && tmp->entries[tmp->selected_entry]->cascade>=0) {
-	    tmp = tmp->cascades[tmp->entries[tmp->selected_entry]->cascade];
-	    if (!tmp || !tmp->flags.mapped)
-	      break;
-	    if (lower)
-	      wLowerFrame(tmp->frame->core);
-	    else
-	      wRaiseFrame(tmp->frame->core);
-	} else {
-	    break;
-	}
+        if (tmp->selected_entry>=0 && tmp->cascades
+            && tmp->entries[tmp->selected_entry]->cascade>=0) {
+            tmp = tmp->cascades[tmp->entries[tmp->selected_entry]->cascade];
+            if (!tmp || !tmp->flags.mapped)
+                break;
+            if (lower)
+                wLowerFrame(tmp->frame->core);
+            else
+                wRaiseFrame(tmp->frame->core);
+        } else {
+            break;
+        }
     }
 
-    /* tear off the menu if it's a root menu or a cascade 
+    /* tear off the menu if it's a root menu or a cascade
      application menu */
-    if (!menu->flags.buttoned && !menu->flags.brother 
-	&& (!menu->flags.app_menu||menu->parent!=NULL)) {
-	menu->flags.buttoned=1;
-	wFrameWindowShowButton(menu->frame, WFF_RIGHT_BUTTON);
-	if (menu->parent) {
-	    /* turn off selected menu entry in parent menu */
-	    selectEntry(menu->parent, -1);
-
-	    /* make parent map the copy in place of the original */
-	    for (i=0; i<menu->parent->cascade_no; i++) {
-		if (menu->parent->cascades[i] == menu) {
-		    menu->parent->cascades[i] = menu->brother;
-		    break;
-		}
-	    }
-	}
+    if (!menu->flags.buttoned && !menu->flags.brother
+        && (!menu->flags.app_menu||menu->parent!=NULL)) {
+        menu->flags.buttoned=1;
+        wFrameWindowShowButton(menu->frame, WFF_RIGHT_BUTTON);
+        if (menu->parent) {
+            /* turn off selected menu entry in parent menu */
+            selectEntry(menu->parent, -1);
+
+            /* make parent map the copy in place of the original */
+            for (i=0; i<menu->parent->cascade_no; i++) {
+                if (menu->parent->cascades[i] == menu) {
+                    menu->parent->cascades[i] = menu->brother;
+                    break;
+                }
+            }
+        }
     }
 
     started = False;
     while(1) {
-	WMMaskEvent(dpy, ButtonMotionMask|ButtonReleaseMask|ButtonPressMask
-		    |ExposureMask, &ev);
-	switch (ev.type) {
-	 case MotionNotify:
-	    if (started) {
-		x += ev.xmotion.x_root - dx;
-		y += ev.xmotion.y_root - dy;
-		dx = ev.xmotion.x_root;
-		dy = ev.xmotion.y_root;
-		wMenuMove(menu, x, y, True);
-	    } else {
-		if (abs(ev.xmotion.x_root - dx) > MOVE_THRESHOLD
-		    || abs(ev.xmotion.y_root - dy) > MOVE_THRESHOLD) {
-		    started = True;
-		    XGrabPointer(dpy, menu->frame->titlebar->window, False, 
-				 ButtonMotionMask|ButtonReleaseMask
-				 |ButtonPressMask,
-				 GrabModeAsync, GrabModeAsync, None, 
-				 wCursor[WCUR_MOVE], CurrentTime);
-		}
-	    }
-	    break;
-
-	 case ButtonPress:
-	    break;
-
-	 case ButtonRelease:
-	    if (ev.xbutton.button != event->xbutton.button)
-		break;
-	    XUngrabPointer(dpy, CurrentTime);
-	    return;
-
-	 default:
-	    WMHandleEvent(&ev);
-	    break;
-	}
+        WMMaskEvent(dpy, ButtonMotionMask|ButtonReleaseMask|ButtonPressMask
+                    |ExposureMask, &ev);
+        switch (ev.type) {
+        case MotionNotify:
+            if (started) {
+                x += ev.xmotion.x_root - dx;
+                y += ev.xmotion.y_root - dy;
+                dx = ev.xmotion.x_root;
+                dy = ev.xmotion.y_root;
+                wMenuMove(menu, x, y, True);
+            } else {
+                if (abs(ev.xmotion.x_root - dx) > MOVE_THRESHOLD
+                    || abs(ev.xmotion.y_root - dy) > MOVE_THRESHOLD) {
+                    started = True;
+                    XGrabPointer(dpy, menu->frame->titlebar->window, False,
+                                 ButtonMotionMask|ButtonReleaseMask
+                                 |ButtonPressMask,
+                                 GrabModeAsync, GrabModeAsync, None,
+                                 wCursor[WCUR_MOVE], CurrentTime);
+                }
+            }
+            break;
+
+        case ButtonPress:
+            break;
+
+        case ButtonRelease:
+            if (ev.xbutton.button != event->xbutton.button)
+                break;
+            XUngrabPointer(dpy, CurrentTime);
+            return;
+
+        default:
+            WMHandleEvent(&ev);
+            break;
+        }
     }
 }
 
@@ -2429,30 +2458,30 @@
  *----------------------------------------------------------------------
  * menuCloseClick--
  * 	Handles mouse click on the close button of menus. The menu is
- * closed when the button is clicked. 
- * 
+ * closed when the button is clicked.
+ *
  * Side effects:
  * 	The closed menu is reinserted at it's parent menus
  * cascade list.
- *---------------------------------------------------------------------- 
+ *----------------------------------------------------------------------
  */
-static void 
+static void
 menuCloseClick(WCoreWindow *sender, void *data, XEvent *event)
 {
     WMenu *menu = (WMenu*)data;
     WMenu *parent = menu->parent;
     int i;
-    
+
     if (parent) {
-	for (i=0; i<parent->cascade_no; i++) {
-	    /* find the entry that points to the copy */
-	    if (parent->cascades[i] == menu->brother) {
-		/* make it point to the original */
-		parent->cascades[i] = menu;
-		menu->parent = parent;
-		break;
-	    }
-	}
+        for (i=0; i<parent->cascade_no; i++) {
+            /* find the entry that points to the copy */
+            if (parent->cascades[i] == menu->brother) {
+                /* make it point to the original */
+                parent->cascades[i] = menu;
+                menu->parent = parent;
+                break;
+            }
+        }
     }
     wMenuUnmap(menu);
 }
@@ -2468,7 +2497,7 @@
     value = WMCreatePLString(buffer);
     list = WMCreatePLArray(value, NULL);
     if (menu->flags.lowered)
-	WMAddToPLArray(list, WMCreatePLString("lowered"));
+        WMAddToPLArray(list, WMCreatePLString("lowered"));
     WMPutInPLDictionary(dict, key, list);
     WMReleasePropList(value);
     WMReleasePropList(list);
@@ -2485,23 +2514,23 @@
 
 #ifndef LITE
     if (scr->switch_menu && scr->switch_menu->flags.buttoned) {
-	key = WMCreatePLString("SwitchMenu");
-	saveMenuInfo(menus, scr->switch_menu, key);
-	WMReleasePropList(key);
+        key = WMCreatePLString("SwitchMenu");
+        saveMenuInfo(menus, scr->switch_menu, key);
+        WMReleasePropList(key);
         save_menus = 1;
     }
 
     if (saveMenuRecurs(menus, scr, scr->root_menu))
-	save_menus = 1;
+        save_menus = 1;
 
 #endif /* !LITE */
     if (scr->workspace_menu && scr->workspace_menu->flags.buttoned) {
         key = WMCreatePLString("WorkspaceMenu");
-	saveMenuInfo(menus, scr->workspace_menu, key);
+        saveMenuInfo(menus, scr->workspace_menu, key);
         WMReleasePropList(key);
         save_menus = 1;
     }
-    
+
     if (save_menus) {
         key = WMCreatePLString("Menus");
         WMPutInPLDictionary(scr->session_state, key, menus);
@@ -2520,16 +2549,16 @@
     int len = 0;
 
     if (!menu->flags.titled || !menu->frame->title[0])
-	return False;
+        return False;
 
     len = strlen(menu->frame->title);
     if (len >= bufSize)
-	return False;
+        return False;
 
     if (menu->parent) {
-	ok = getMenuPath(menu->parent, buffer, bufSize - len - 1);
-	if (!ok)
-	    return False;
+        ok = getMenuPath(menu->parent, buffer, bufSize - len - 1);
+        if (!ok)
+            return False;
     }
 
     strcat(buffer, "\\");
@@ -2547,28 +2576,28 @@
     char buffer[512];
     Bool ok = True;
 
-    
+
     if (menu->flags.brother)
-	menu = menu->brother;
+        menu = menu->brother;
 
     if (menu->flags.buttoned && menu != scr->switch_menu) {
 
-	buffer[0] = '\0';
-	ok = getMenuPath(menu, buffer, 510);
+        buffer[0] = '\0';
+        ok = getMenuPath(menu, buffer, 510);
 
-	if (ok) {
-	    key = WMCreatePLString(buffer);
-	    saveMenuInfo(menus, menu, key);
-	    WMReleasePropList(key);	    
-	    save_menus = 1;
-	}
+        if (ok) {
+            key = WMCreatePLString(buffer);
+            saveMenuInfo(menus, menu, key);
+            WMReleasePropList(key);
+            save_menus = 1;
+        }
     }
 
     if (ok) {
-	for (i = 0; i < menu->cascade_no; i++) {
-	    if (saveMenuRecurs(menus, scr, menu->cascades[i]))
-		save_menus = 1;
-	}
+        for (i = 0; i < menu->cascade_no; i++) {
+            if (saveMenuRecurs(menus, scr, menu->cascades[i]))
+                save_menus = 1;
+        }
     }
     return save_menus;
 }
@@ -2582,27 +2611,27 @@
 getMenuInfo(WMPropList *info, int *x, int *y, Bool *lowered)
 {
     WMPropList *pos;
-    
+
     *lowered = False;
-    
+
     if (WMIsPLArray(info)) {
-	WMPropList *flags;
-	pos = WMGetFromPLArray(info, 0);
-	flags = WMGetFromPLArray(info, 1);
-	if (flags != NULL && WMIsPLString(flags) && WMGetFromPLString(flags) != NULL
-	    && strcmp(WMGetFromPLString(flags), "lowered") == 0) {
-	    *lowered = True;
-	}
+        WMPropList *flags;
+        pos = WMGetFromPLArray(info, 0);
+        flags = WMGetFromPLArray(info, 1);
+        if (flags != NULL && WMIsPLString(flags) && WMGetFromPLString(flags) != NULL
+            && strcmp(WMGetFromPLString(flags), "lowered") == 0) {
+            *lowered = True;
+        }
     } else {
-	pos = info;
+        pos = info;
     }
 
     if (pos != NULL && WMIsPLString(pos)) {
-	if (sscanf(WMGetFromPLString(pos), "%i,%i", x, y)!=2)
-	    COMPLAIN("Position");
+        if (sscanf(WMGetFromPLString(pos), "%i,%i", x, y)!=2)
+            COMPLAIN("Position");
     } else {
-	COMPLAIN("(position, flags...)");
-	return False;
+        COMPLAIN("(position, flags...)");
+        return False;
     }
 
     return True;
@@ -2617,10 +2646,10 @@
     WMenu *pmenu = NULL;
 
     if (!menu)
-	return False;
-    
+        return False;
+
     if (!getMenuInfo(menu, &x, &y, &lowered))
-	return False;
+        return False;
 
 
 #ifndef LITE
@@ -2633,15 +2662,17 @@
     if (pmenu) {
         int width = MENUW(pmenu);
         int height = MENUH(pmenu);
-        
-	if (lowered) {
-	    changeMenuLevels(pmenu, True);
-	}
-	
-        x = (x < -width) ? 0 : x;
-        x = (x > scr->scr_width) ? scr->scr_width - width : x;
-        y = (y < 0) ? 0 : y;
-        y = (y > scr->scr_height) ? scr->scr_height - height : y;
+        WMRect rect = wGetRectForHead(scr, wGetHeadForPointerLocation(scr));
+
+        if (lowered) {
+            changeMenuLevels(pmenu, True);
+        }
+
+        if (x < rect.pos.x - width) x = rect.pos.x;
+        if (x > rect.pos.x + rect.size.width) x = rect.pos.x + rect.size.width - width;
+        if (y < rect.pos.y) y = rect.pos.y;
+        if (y > rect.pos.y + rect.size.height) y = rect.pos.y + rect.size.height - height;
+
         wMenuMove(pmenu, x, y, True);
         pmenu->flags.buttoned = 1;
         wFrameWindowShowButton(pmenu->frame, WFF_RIGHT_BUTTON);
@@ -2661,7 +2692,7 @@
     Bool lowered;
 
     if (strlen(path) + strlen(menu->frame->title) > 510)
-	return False;
+        return False;
 
     snprintf(buffer, sizeof(buffer), "%s\\%s", path, menu->frame->title);
     key = WMCreatePLString(buffer);
@@ -2670,40 +2701,43 @@
 
     if (entry && getMenuInfo(entry, &x, &y, &lowered)) {
 
-	if (!menu->flags.mapped) {
-	    int width = MENUW(menu);
-	    int height = MENUH(menu);
-
-	    wMenuMapAt(menu, x, y, False);
-
-	    if (menu->parent) {
-		/* make parent map the copy in place of the original */
-		for (i=0; i<menu->parent->cascade_no; i++) {
-		    if (menu->parent->cascades[i] == menu) {
-			menu->parent->cascades[i] = menu->brother;
-			break;
-		    }
-		}
-	    }
-	    if (lowered) {
-		changeMenuLevels(menu, True);
-	    }
-	    x = (x < -width) ? 0 : x;
-	    x = (x > scr->scr_width) ? scr->scr_width - width : x;
-	    y = (y < 0) ? 0 : y;
-	    y = (y > scr->scr_height) ? scr->scr_height - height : y;
-	    wMenuMove(menu, x, y, True);
-	    menu->flags.buttoned = 1;
-	    wFrameWindowShowButton(menu->frame, WFF_RIGHT_BUTTON);
-	    res = True;
-	}
+        if (!menu->flags.mapped) {
+            int width = MENUW(menu);
+            int height = MENUH(menu);
+            WMRect rect = wGetRectForHead(scr, wGetHeadForPointerLocation(scr));
+
+            wMenuMapAt(menu, x, y, False);
+
+            if (menu->parent) {
+                /* make parent map the copy in place of the original */
+                for (i=0; i<menu->parent->cascade_no; i++) {
+                    if (menu->parent->cascades[i] == menu) {
+                        menu->parent->cascades[i] = menu->brother;
+                        break;
+                    }
+                }
+            }
+            if (lowered) {
+                changeMenuLevels(menu, True);
+            }
+
+            if (x < rect.pos.x - width) x = rect.pos.x;
+            if (x > rect.pos.x + rect.size.width) x = rect.pos.x + rect.size.width - width;
+            if (y < rect.pos.y) y = rect.pos.y;
+            if (y > rect.pos.y + rect.size.height) y = rect.pos.y + rect.size.height - height;
+
+            wMenuMove(menu, x, y, True);
+            menu->flags.buttoned = 1;
+            wFrameWindowShowButton(menu->frame, WFF_RIGHT_BUTTON);
+            res = True;
+        }
     }
-    
+
     WMReleasePropList(key);
 
     for (i=0; i<menu->cascade_no; i++) {
-	if (restoreMenuRecurs(scr, menus, menu->cascades[i], buffer) != False)
-	    res = True;
+        if (restoreMenuRecurs(scr, menus, menu->cascades[i], buffer) != False)
+            res = True;
     }
 
     return res;
@@ -2767,7 +2801,7 @@
                 }
             } else {
                 wRaiseFrame(menu->frame->core);
-		wMenuMapCopyAt(menu, x, y);
+                wMenuMapCopyAt(menu, x, y);
             }
         } else {
             wMenuMapAt(menu, x, y, False);
diff -Naur WindowMaker-0.80.2/src/menu.h wm-xft2/src/menu.h
--- WindowMaker-0.80.2/src/menu.h	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/menu.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/menureader.c wm-xft2/src/menureader.c
--- WindowMaker-0.80.2/src/menureader.c	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/src/menureader.c	2003-10-22 14:08:38.000000000 +0400
@@ -0,0 +1,464 @@
+/* menureader.c- root menu definition readers
+ * 
+ *  Window Maker window manager
+ * 
+ *  Copyright (c) 2000-2003 Alfredo K. Kojima
+ * 
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the GNU General Public License as published by
+ *  the Free Software Foundation; either version 2 of the License, or
+ *  (at your option) any later version.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License
+ *  along with this program; if not, write to the Free Software
+ *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, 
+ *  USA.
+ */
+
+
+#include <stdio.h>
+#include <stdlib.h>
+#include <string.h>
+#include <sys/types.h>
+#include <unistd.h>
+
+#include "WindowMaker.h"
+
+#include "misc.h"
+
+#include "rootmenu.h"
+
+
+typedef struct PLMenuReaderData {
+    WRootMenuReader *reader;
+
+    WMPropList *pl;
+    int curIndex;
+    
+    WMPropList **submenu;
+    int *curSubIndex;
+    int submenuDepth;
+    
+} PLMenuReaderData;
+
+
+typedef struct TextMenuReaderData {
+    WRootMenuReader *reader;
+
+    FILE *file;
+    
+} TextMenuReaderData;
+
+
+typedef struct PipeMenuReaderData {
+    WRootMenuReader *reader;
+    
+} PipeMenuReaderData;
+
+
+typedef struct DirMenuReaderData {
+    WRootMenuReader *reader;
+
+    char **dirList;
+    int dirCount;
+
+} DirMenuReaderData;
+
+/*
+typedef struct GNOMEMenuReaderData {
+} GNOMEMenuReaderData;
+*/
+
+
+
+
+
+static WRootMenuData *pl_openMenu(WMPropList *pl);
+static Bool pl_hasMoreData(WRootMenuData *data);
+static Bool pl_nextCommand(WRootMenuData *data,
+			char **title,
+			char **command,
+			char **parameter,
+			char **shortcut);
+static void pl_closeMenuFile(WRootMenuData *data);
+
+
+
+static WRootMenuData *text_openMenuFile(char *path);
+static Bool text_hasMoreData(WRootMenuData *data);
+static Bool text_nextCommand(WRootMenuData *data,
+			char **title,
+			char **command,
+			char **parameter,
+			char **shortcut);
+static void text_closeMenuFile(WRootMenuData *data);
+
+
+static WRootMenuData *dir_openMenuFile(char *path);
+static Bool dir_hasMoreData(WRootMenuData *data);
+static Bool dir_nextCommand(WRootMenuData *data,
+			char **title,
+			char **command,
+			char **parameter,
+			char **shortcut);
+static void dir_closeMenuFile(WRootMenuData *data);
+
+
+
+
+
+
+static WRootMenuReader PLMenuReader = {
+	pl_hasMoreData,
+	pl_nextCommand,
+	pl_closeMenuFile
+};
+
+static WRootMenuReader TextMenuReader = {
+	text_hasMoreData,
+	text_nextCommand,
+	text_closeMenuFile
+};
+
+static WRootMenuReader DirMenuReaderData = {
+	dir_hasMoreData,
+	dir_nextCommand,
+	dir_closeMenuFile
+};
+
+/*
+WRootMenuReader GNOMEMenuReaderData = {
+};
+*/
+
+
+
+
+#define LINESIZE 1024
+
+static char linebuf[LINESIZE];
+
+
+
+/* ---------- proplist ---------- */
+
+
+static WRootMenuData *pl_openMenuFile(WMPropList *pl)
+{
+    PLRootMenuData *data = wmalloc(sizeof(PLRootMenuData));
+
+    data->reader = PLMenuReader;
+
+    data->pl = pl;
+    data->curIndex = 0;
+
+    data->submenu = NULL;
+    data->curSubIndex = NULL;
+    data->submenuDepth = 0;
+
+    return data;
+}
+
+
+static Bool pl_hasMoreData(WRootMenuData *data)
+{
+}
+
+
+static Bool pl_nextCommand(WRootMenuData *data,
+			char **title,
+			char **command,
+			char **parameter,
+			char **shortcut)
+{
+}
+
+
+static void pl_closeMenuFile(WRootMenuData *data)
+{
+    if (data->submenu)
+	wfree(data->submenu);
+    if (data->curSubIndex)
+	wfree(data->curSubIndex);
+
+    WMReleasePropList(data->pl);
+    
+    wfree(data);
+}
+
+
+/* ---------- text ---------- */
+
+
+static WRootMenuData *text_openMenuFile(char *path)
+{
+    TextMenuReaderData *data;
+    
+    data = wmalloc(sizeof(TextMenuReaderData));
+    data->reader = TextMenuReader;
+    
+    data->file = fopen(path, "rb");
+    if (!data->file) {
+
+	return NULL;
+    }
+}
+
+
+static Bool text_hasMoreData(WRootMenuData *data)
+{
+}
+
+
+static Bool text_nextCommand(WRootMenuData *data,
+			char **title,
+			char **command,
+			char **parameter,
+			char **shortcut)
+{
+}
+
+
+static void text_closeMenuFile(WRootMenuData *data)
+{
+}
+
+
+/* ---------- directory ---------- */
+
+
+static WRootMenuData *dir_openMenuFile(char *paths, time_t *timestamp)
+{
+    DirMenuReaderData *data;
+    char **dirs;
+    int dirN;
+    time_t checksum = 0;
+    int i, c;
+
+    /* timestamp for directory is a "checksum" of the directory times */
+
+    wtokensplit(paths, &dirs, &dirN);
+
+    if (dirN == 0) {
+	return NULL;
+    }
+
+    for (c = 0, i = 0; i < dirN; i++) {
+	char *tmp;
+
+	if (strcmp(dirs[i], "-noext")==0) {
+	    i++;
+	    continue;
+	}
+
+	tmp = wexpandpath(dirs[i]);
+	wfree(dirs[i]);
+	dirs[i] = tmp;
+
+	if (stat(dirs[i], &stat_buf)<0) {
+	    wsyserror(_("%s:could not stat menu"), dirs[i]);
+	    wfree(dirs[i]);
+	    dirs[i] = NULL;
+	} else {
+	    c++;
+	    checksum += stat_buf.st_mtime;
+	}
+    }
+
+    if (*timestamp == checksum && *timestamp != 0) {
+	return NULL;
+    }
+
+    if (c == 0) {
+	for (i = 0; i < dirN; i++) {
+	    if (dirs[i])
+		wfree(dirs[i]);
+	}
+	wfree(dirs);
+	
+	return NULL;
+    }
+    
+    data = wmalloc(sizeof(DirMenuReaderData));
+    data->reader = DirMenuReader;
+    
+    
+    
+}
+
+
+static Bool dir_hasMoreData(WRootMenuData *data)
+{
+}
+
+static Bool dir_nextCommand(WRootMenuData *data,
+			char **title,
+			char **command,
+			char **parameter,
+			char **shortcut)
+{
+}
+
+static void dir_closeMenuFile(WRootMenuData *data)
+{
+}
+
+
+
+
+
+WRootMenuData *OpenMenu(char *path, time_t *menuTime)
+{
+    proplist pl;
+    struct stat stat_buf;
+    WRootMenuData *data;
+    
+    /* check whether it's a piped menu */
+    if (*path == '|') {
+	/* piped menus have the following semantics for menuTime:
+	 * if it's 0, then it wasnt loaded yet
+	 * if it's 1, it was already loaded, so do not reload 
+	 *	(would be too slow)
+	 * now, menuTime will only be set to 1 if the pipe command is
+	 *	specified as ||command instead of |command
+	 * in other words ||command means force the submenu to always refresh
+	 */
+	if (*menuTime == 0) {
+	    data = pipe_openMenu(path);
+	} 
+	if (path[1] != '|') {
+	    *menuTime = 1;
+	}
+	return data;
+    }
+
+    if (stat(path, &stat_buf) < 0) {
+	wsyserror(_("could not stat() menu file '%s'"));
+	return NULL;
+    }
+    
+    /* check whether it's a directory */
+    if (S_ISDIR(stat_buf.st_mode)) {
+	return dir_openMenuFile(path, menuTime);
+    }
+
+
+    if (*menuTime >= stat_buf.st_mtime && *menuTime != 0) {
+	/* no changes in the menu file */
+	return NULL;
+    }
+
+    /* then check whether it's a proplist menu */
+    pl = WMReadPropListFromFile(path);
+    if (pl && WMIsPLArray(pl)) {
+	*menuTime = stat_buf.st_mtime;
+	return pl_openMenu(pl);
+    }
+
+    *menuTime = stat_buf.st_mtime;
+    /* assume its a plain text menu */
+    return text_openMenuFile(path);
+}
+
+
+
+WRootMenuData *ReopenRootMenu(time_t *checkTime, 
+			      char **menuPath,
+			      time_t *menuTimestamp)
+{
+    proplist pl;
+    struct stat stat_buf;
+    char *path;
+    
+
+    if (stat(path, &stat_buf) < 0) {
+	wsyserror(_("could not stat() menu file '%s'"));
+	return NULL;
+    }
+
+    if (*menuTime >= stat_buf.st_mtime && *checkTime != 0) {
+	/* no changes in WMRootMenu, see if the contents changed */
+	if (*menuPath != NULL) {
+	    return OpenMenu(*menuPath, menuTimestamp);
+	} else {
+	    return NULL;
+	}
+    }
+
+    *checkTime = stat_buf.st_mtime;
+
+    pl = WMReadPropListFromFile(path);
+    if (!pl) {
+	wwarning(_("could not load domain %s from user defaults database"),
+		 "WMRootMenu");
+	return NULL;
+    }
+
+    if (WMIsPLString(pl)) {
+	char *tmp;
+	char *path;
+	Bool menu_is_default = False;
+
+	tmp = wexpandpath(WMGetFromPLString(pl));
+
+	path = getLocalizedMenuFile(tmp);
+
+	if (!path) {
+	    path = wfindfile(DEF_CONFIG_PATHS, tmp);
+	}
+
+	if (!path) {
+	    wwarning(_("could not find menu file '%s' referenced in WMRootMenu"),
+		     tmp);
+	    path = wfindfile(DEF_CONFIG_PATHS, DEF_MENU_FILE);
+	    menu_is_default = True;
+	}
+
+	if (!path) {
+	    wwarning(_("could not find any usable menu files. Please check '%s'"),
+		      tmp);
+	    wfree(tmp);
+	    return NULL;
+	}
+	
+	wfree(tmp);
+	
+	if (*menuPath) {
+	    if (strcmp(*menuPath, path) != 0) {
+		*menuTimestamp = 0;
+		wfree(*menuPath);
+		*menuPath = path;
+		
+		if (menu_is_default) {
+		    wwarning(_("using default menu file \"%s\" as the menu referenced in WMRootMenu could not be found "),
+			     path);
+		}
+	    } else {
+		/* the menu path didn't change, but the 
+		 * pointed file might have changed, so we don't return 
+		 */
+	    }
+	} else {
+	    *menuPath = path;
+	}
+
+	return OpenMenu(*menuPath, menuTimestamp);
+    } else if (WMIsPLArray(pl)) {
+
+	*menuTimestamp = stat_buf.st_mtime;
+
+	return pl_openMenu(pl);
+    } else {
+	wwarning(_("invalid content in menu file '%s'.\nIt should either be a property list menu or the path to the file, enclosed in \"."), 
+		 path);
+	return NULL;
+    }
+}
+
+
+
diff -Naur WindowMaker-0.80.2/src/misc.c wm-xft2/src/misc.c
--- WindowMaker-0.80.2/src/misc.c	2002-03-26 13:47:12.000000000 +0300
+++ wm-xft2/src/misc.c	2003-10-22 14:29:48.000000000 +0400
@@ -1,7 +1,7 @@
 /* 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -949,18 +949,6 @@
 }
 
 
-/* feof doesn't seem to work on pipes */
-int
-IsEof(FILE * stream)
-{
-    static struct stat stinfo;
-
-    fstat(fileno(stream), &stinfo);
-    return ((S_ISFIFO(stinfo.st_dev) && stinfo.st_size == 0) || 
-            feof(stream));
-}
-
-
 void
 ParseWindowName(WMPropList *value, char **winstance, char **wclass, char *where)
 {
diff -Naur WindowMaker-0.80.2/src/motif.c wm-xft2/src/motif.c
--- WindowMaker-0.80.2/src/motif.c	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/motif.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/motif.h wm-xft2/src/motif.h
--- WindowMaker-0.80.2/src/motif.h	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/motif.h	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/moveres.c wm-xft2/src/moveres.c
--- WindowMaker-0.80.2/src/moveres.c	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/moveres.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /*
  *  Window Maker window manager
- * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
- * 
+ *
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
+ *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
  *  the Free Software Foundation; either version 2 of the License, or
@@ -15,7 +15,7 @@
  *
  *  You should have received a copy of the GNU General Public License
  *  along with this program; if not, write to the Free Software
- *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, 
+ *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307,
  *  USA.
  */
 
@@ -41,6 +41,10 @@
 #include "workspace.h"
 
 #include "geomview.h"
+#include "screen.h"
+#include "xinerama.h"
+
+#include <WINGs/WINGsP.h>
 
 
 #ifdef KWM_HINTS
@@ -58,6 +62,13 @@
 #define DOWN            8
 #define VERTICAL        (UP|DOWN)
 
+
+/* True if window currently has a border. This also includes borderless
+ * windows which are currently selected
+ */
+#define HAS_BORDER(w) ((w)->flags.selected || !WFLAGP((w), no_border))
+
+
 /****** Global Variables ******/
 extern Time LastTimestamp;
 
@@ -81,7 +92,7 @@
 checkMouseSamplingRate(XEvent *ev)
 {
     static Time previousMotion = 0;
-    
+
     if (ev->type == MotionNotify) {
         if (ev->xmotion.time - previousMotion < DELAY_BETWEEN_MOUSE_SAMPLING) {
             return False;
@@ -108,19 +119,42 @@
 {
     unsigned int w = WMWidgetWidth(scr->gview);
     unsigned int h = WMWidgetHeight(scr->gview);
-    
+    int x1 = 0, y1 = 0, x2 = scr->scr_width, y2 = scr->scr_height;
+
     x -= w / 2;
     y -= h / 2;
+
+    /* dead area check */
+    if (scr->xine_info.count) {
+        WMRect rect;
+        int head, flags;
+
+        rect.pos.x = x;
+        rect.pos.y = y;
+        rect.size.width = w;
+        rect.size.height = h;
+
+        head = wGetRectPlacementInfo(scr, rect, &flags);
+
+        if (flags & (XFLAG_DEAD | XFLAG_PARTIAL)) {
+            rect = wGetRectForHead(scr, head);
+            x1 = rect.pos.x;
+            y1 = rect.pos.y;
+            x2 = x1 + rect.size.width;
+            y2 = y1 + rect.size.height;
+        }
+    }
     
-    if (x < 1)
-	x = 1;
-    else if (x > (scr->scr_width - w - 3))
-	x = scr->scr_width - w - 3;
-    
-    if (y < 1)
-	y = 1;
-    else if (y > (scr->scr_height - h - 3))
-	y = scr->scr_height - h - 3;
+    if (x < x1 + 1)
+        x = x1 + 1;
+    else if (x > (x2 - w))
+        x = x2 - w;
+
+    if (y < y1 + 1)
+        y = y1 + 1;
+    else if (y > (y2 - h))
+        y = y2 - h;
+
 
     WMMoveWidget(scr->gview, x, y);
 }
@@ -136,24 +170,24 @@
         int width = wwin->frame->core->width;
         int height = wwin->frame->core->height;
 
-	GC lgc = scr->line_gc;
-	XSetForeground(dpy, lgc, scr->line_pixel);
-	sprintf(num, "%i", x);
-
-	XDrawLine(dpy, scr->root_win, lgc, 0, y-1, scr->scr_width, y-1);
-	XDrawLine(dpy, scr->root_win, lgc, 0, y+height+2, scr->scr_width,
-		  y+height+2);
-	XDrawLine(dpy, scr->root_win, lgc, x-1, 0, x-1, scr->scr_height);
-	XDrawLine(dpy, scr->root_win, lgc, x+width+2, 0, x+width+2,
-		  scr->scr_height);
+        GC lgc = scr->line_gc;
+        XSetForeground(dpy, lgc, scr->line_pixel);
+        sprintf(num, "%i", x);
+
+        XDrawLine(dpy, scr->root_win, lgc, 0, y-1, scr->scr_width, y-1);
+        XDrawLine(dpy, scr->root_win, lgc, 0, y+height+2, scr->scr_width,
+                  y+height+2);
+        XDrawLine(dpy, scr->root_win, lgc, x-1, 0, x-1, scr->scr_height);
+        XDrawLine(dpy, scr->root_win, lgc, x+width+2, 0, x+width+2,
+                  scr->scr_height);
 #endif
     } else {
 #ifdef VIRTUAL_DESKTOP
-	WSetGeometryViewShownPosition(scr->gview,
-            x + scr->workspaces[scr->current_workspace]->view_x,
-            y + scr->workspaces[scr->current_workspace]->view_y);
+        WSetGeometryViewShownPosition(scr->gview,
+                                      x + scr->workspaces[scr->current_workspace]->view_x,
+                                      y + scr->workspaces[scr->current_workspace]->view_y);
 #else
-	WSetGeometryViewShownPosition(scr->gview, x, y);
+        WSetGeometryViewShownPosition(scr->gview, x, y);
 #endif
     }
 }
@@ -163,23 +197,30 @@
 cyclePositionDisplay(WWindow *wwin, int x, int y, int w, int h)
 {
     WScreen *scr = wwin->screen_ptr;
+    WMRect rect;
 
     wPreferences.move_display++;
     wPreferences.move_display %= NUM_DISPLAYS;
 
-    if (wPreferences.move_display == WDIS_NEW
-	|| wPreferences.move_display == WDIS_NONE) {
-	WMUnmapWidget(scr->gview);
+    if (wPreferences.move_display == WDIS_NEW) {
+        wPreferences.move_display++;
+        wPreferences.move_display %= NUM_DISPLAYS;
+    }
+
+    if (wPreferences.move_display == WDIS_NONE) {
+        WMUnmapWidget(scr->gview);
     } else {
-	if (wPreferences.move_display == WDIS_CENTER) {
-	    moveGeometryDisplayCentered(scr,
-					scr->scr_width/2, scr->scr_height/2);
-	} else if (wPreferences.move_display == WDIS_TOPLEFT) {
-	    moveGeometryDisplayCentered(scr, 1, 1);
-	} else if (wPreferences.move_display == WDIS_FRAME_CENTER) {
-	    moveGeometryDisplayCentered(scr, x + w/2, y + h/2);
-	}
-	WMMapWidget(scr->gview);
+        if (wPreferences.move_display == WDIS_CENTER) {
+            rect = wGetRectForHead(scr, wGetHeadForWindow(wwin));
+            moveGeometryDisplayCentered(scr, rect.pos.x + rect.size.width/2,
+                                        rect.pos.y + rect.size.height/2);
+        } else if (wPreferences.move_display == WDIS_TOPLEFT) {
+            rect = wGetRectForHead(scr, wGetHeadForWindow(wwin));
+            moveGeometryDisplayCentered(scr, rect.pos.x + 1, rect.pos.y + 1);
+        } else if (wPreferences.move_display == WDIS_FRAME_CENTER) {
+            moveGeometryDisplayCentered(scr, x + w/2, y + h/2);
+        }
+        WMMapWidget(scr->gview);
     }
 }
 
@@ -188,17 +229,21 @@
 mapPositionDisplay(WWindow *wwin, int x, int y, int w, int h)
 {
     WScreen *scr = wwin->screen_ptr;
-    
+    WMRect rect;
+
     if (wPreferences.move_display == WDIS_NEW
-	|| wPreferences.move_display == WDIS_NONE) {
-	return;
+        || wPreferences.move_display == WDIS_NONE) {
+        return;
     } else if (wPreferences.move_display == WDIS_CENTER) {
-	moveGeometryDisplayCentered(scr, scr->scr_width / 2,
-				    scr->scr_height / 2);
+        rect = wGetRectForHead(scr, wGetHeadForWindow(wwin));
+        moveGeometryDisplayCentered(scr,
+                                    rect.pos.x + rect.size.width/2,
+                                    rect.pos.y + rect.size.height/2);
     } else if (wPreferences.move_display == WDIS_TOPLEFT) {
-	moveGeometryDisplayCentered(scr, 1, 1);
+        rect = wGetRectForHead(scr, wGetHeadForWindow(wwin));
+        moveGeometryDisplayCentered(scr, rect.pos.x + 1, rect.pos.y + 1);
     } else if (wPreferences.move_display == WDIS_FRAME_CENTER) {
-	moveGeometryDisplayCentered(scr, x + w/2, y + h/2);
+        moveGeometryDisplayCentered(scr, x + w/2, y + h/2);
     }
     WMMapWidget(scr->gview);
     WSetGeometryViewShownPosition(scr->gview, x, y);
@@ -210,136 +255,163 @@
 {
     WScreen *scr = wwin->screen_ptr;
     Window root = scr->root_win;
-    GC gc = scr->line_gc;
+    GC gc = scr->line_gc, saveGC;
     int ty, by, my, x, y, mx, s;
     char num[16];
     XSegment segment[4];
     int fw, fh;
+    WMColor *color;
+    WMPixel pixel;
+
+    /* This seems necessary for some odd reason (too lazy to write x1-1 and
+     * x2-1 everywhere below in the code). But why only for x? */
+    x1--; x2--;
+
+    if (HAS_BORDER(wwin)) {
+        x1 += FRAME_BORDER_WIDTH;
+        x2 += FRAME_BORDER_WIDTH;
+        y1 += FRAME_BORDER_WIDTH;
+        y2 += FRAME_BORDER_WIDTH;
+    }
 
     ty = y1 + wwin->frame->top_width;
     by = y2 - wwin->frame->bottom_width;
-    fw = WMWidthOfString(scr->info_text_font, "8888", 4);
-    fh = WMFontHeight(scr->info_text_font);
 
     if (wPreferences.size_display == WDIS_NEW) {
-	XSetForeground(dpy, gc, scr->line_pixel);
-	
-	/* vertical geometry */
-	if (((direction & LEFT) && (x2 < scr->scr_width - fw)) || (x1 < fw)) {
-	    x = x2;
-	    s = -15;
-	} else {
-	    x = x1;
-	    s = 15;
-	}
-	my = (ty + by) / 2;
-	
-	/* top arrow */
-	/* end bar */
-	segment[0].x1 = x - (s + 6);  segment[0].y1 = ty;
-	segment[0].x2 = x - (s - 10); segment[0].y2 = ty;
-	
-	/* arrowhead */
-	segment[1].x1 = x - (s - 2); segment[1].y1 = ty + 1;
-	segment[1].x2 = x - (s - 5); segment[1].y2 = ty + 7;
-	
-	segment[2].x1 = x - (s - 2); segment[2].y1 = ty + 1;
-	segment[2].x2 = x - (s + 1); segment[2].y2 = ty + 7;
-	
-	/* line */
-	segment[3].x1 = x - (s - 2); segment[3].y1 = ty + 1;
-	segment[3].x2 = x - (s - 2); segment[3].y2 = my - fh/2 - 1;
-	
-	XDrawSegments(dpy, root, gc, segment, 4);
-	
-	/* bottom arrow */
-	/* end bar */
-	segment[0].y1 = by;
-	segment[0].y2 = by;
-	
-	/* arrowhead */
-	segment[1].y1 = by - 1;
-	segment[1].y2 = by - 7;
-	
-	segment[2].y1 = by - 1;
-	segment[2].y2 = by - 7;
-	
-	/* line */
-	segment[3].y1 = my + fh/2 + 2;
-	segment[3].y2 = by - 1;
-	
-	XDrawSegments(dpy, root, gc, segment, 4);
-	
-	snprintf(num, sizeof(num), "%i", (by - ty - wwin->normal_hints->base_height) /
-		wwin->normal_hints->height_inc);
-	fw = WMWidthOfString(scr->info_text_font, num, strlen(num));
-	
-	/* XSetForeground(dpy, gc, scr->window_title_pixel[WS_UNFOCUSED]); */
-	
-	/* Display the height. */
-	WMDrawString(scr->wmscreen, root, gc, scr->info_text_font, 
-		      x - s + 3 - fw/2, my - fh/2 + 1, num, strlen(num));
-	XSetForeground(dpy, gc, scr->line_pixel);
-	/* horizontal geometry */
-	if (y1 < 15) {
-	    y = y2;
-	    s = -15;
-	} else {
-	    y = y1;
-	    s = 15;
-	}
-	mx = x1 + (x2 - x1)/2;
-	snprintf(num, sizeof(num), "%i", (x2 - x1 - wwin->normal_hints->base_width) /
-		wwin->normal_hints->width_inc);
-	fw = WMWidthOfString(scr->info_text_font, num, strlen(num));
-	
-	/* left arrow */
-	/* end bar */
-	segment[0].x1 = x1; segment[0].y1 = y - (s + 6);
-	segment[0].x2 = x1; segment[0].y2 = y - (s - 10);
-	
-	/* arrowhead */
-	segment[1].x1 = x1 + 7; segment[1].y1 = y - (s + 1);
-	segment[1].x2 = x1 + 1; segment[1].y2 = y - (s - 2);
-	
-	segment[2].x1 = x1 + 1; segment[2].y1 = y - (s - 2);
-	segment[2].x2 = x1 + 7; segment[2].y2 = y - (s - 5);
-	
-	/* line */
-	segment[3].x1 = x1 + 1; segment[3].y1 = y - (s - 2);
-	segment[3].x2 = mx - fw/2 - 2; segment[3].y2 = y - (s - 2);
-	
-	XDrawSegments(dpy, root, gc, segment, 4);
-	
-	/* right arrow */
-	/* end bar */
-	segment[0].x1 = x2 + 1;
-	segment[0].x2 = x2 + 1;
-	
-	/* arrowhead */
-	segment[1].x1 = x2 - 6;
-	segment[1].x2 = x2;
-	
-	segment[2].x1 = x2;
-	segment[2].x2 = x2 - 6;
-	
-	/* line */
-	segment[3].x1 = mx + fw/2 + 2;
-	segment[3].x2 = x2;
-	
-	XDrawSegments(dpy, root, gc, segment, 4);
-	
-	/* XSetForeground(dpy, gc, scr->window_title_pixel[WS_UNFOCUSED]); */
-	
-	/* Display the width. */
-	WMDrawString(scr->wmscreen, root, gc, scr->info_text_font,
-		     mx - fw/2 + 1, y - s - fh/2 + 1, num, strlen(num));
+        fw = WMWidthOfString(scr->tech_draw_font, "8888", 4);
+        fh = WMFontHeight(scr->tech_draw_font);
+
+        XSetForeground(dpy, gc, scr->line_pixel);
+
+        /* vertical geometry */
+        if (((direction & LEFT) && (x2 < scr->scr_width - fw)) || (x1 < fw)) {
+            x = x2;
+            s = -15;
+        } else {
+            x = x1;
+            s = 15;
+        }
+        my = (ty + by) / 2;
+
+        /* top arrow & end bar */
+        segment[0].x1 = x - (s + 6);  segment[0].y1 = ty;
+        segment[0].x2 = x - (s - 10); segment[0].y2 = ty;
+
+        /* arrowhead */
+        segment[1].x1 = x - (s - 2); segment[1].y1 = ty + 1;
+        segment[1].x2 = x - (s - 5); segment[1].y2 = ty + 7;
+
+        segment[2].x1 = x - (s - 2); segment[2].y1 = ty + 1;
+        segment[2].x2 = x - (s + 1); segment[2].y2 = ty + 7;
+
+        /* line */
+        segment[3].x1 = x - (s - 2); segment[3].y1 = ty + 1;
+        segment[3].x2 = x - (s - 2); segment[3].y2 = my - fh/2 - 1;
+
+        XDrawSegments(dpy, root, gc, segment, 4);
+
+        /* bottom arrow & end bar */
+        segment[0].y1 = by;
+        segment[0].y2 = by;
+
+        /* arrowhead */
+        segment[1].y1 = by - 1;
+        segment[1].y2 = by - 7;
+
+        segment[2].y1 = by - 1;
+        segment[2].y2 = by - 7;
+
+        /* line */
+        segment[3].y1 = my + fh/2 + 2;
+        segment[3].y2 = by - 1;
+
+        XDrawSegments(dpy, root, gc, segment, 4);
+
+        snprintf(num, sizeof(num), "%i", (by - ty - wwin->normal_hints->base_height) /
+                 wwin->normal_hints->height_inc);
+        fw = WMWidthOfString(scr->tech_draw_font, num, strlen(num));
+
+        /* XSetForeground(dpy, gc, WMColorPixel(scr->window_title_color[WS_UNFOCUSED])); */
+
+        color = WMBlackColor(scr->wmscreen);
+        saveGC = scr->wmscreen->drawStringGC;
+        pixel = color->color.pixel;
+
+        /* Display the height. */
+
+        /* // ugly hack */
+        color->color.pixel = scr->line_pixel;
+        scr->wmscreen->drawStringGC = gc;
+        WMDrawString(scr->wmscreen, root, color, scr->tech_draw_font,
+                     x - s + 3 - fw/2, my - fh/2 + 1, num, strlen(num));
+        scr->wmscreen->drawStringGC = saveGC;
+        color->color.pixel = pixel;
+
+        XSetForeground(dpy, gc, scr->line_pixel);
+        /* horizontal geometry */
+        if (y1 < 15) {
+            y = y2;
+            s = -15;
+        } else {
+            y = y1;
+            s = 15;
+        }
+        mx = x1 + (x2 - x1)/2;
+        snprintf(num, sizeof(num), "%i", (x2 - x1 - wwin->normal_hints->base_width) /
+                 wwin->normal_hints->width_inc);
+        fw = WMWidthOfString(scr->tech_draw_font, num, strlen(num));
+
+        /* left arrow & end bar */
+        segment[0].x1 = x1; segment[0].y1 = y - (s + 6);
+        segment[0].x2 = x1; segment[0].y2 = y - (s - 10);
+
+        /* arrowhead */
+        segment[1].x1 = x1 + 7; segment[1].y1 = y - (s + 1);
+        segment[1].x2 = x1 + 1; segment[1].y2 = y - (s - 2);
+
+        segment[2].x1 = x1 + 1; segment[2].y1 = y - (s - 2);
+        segment[2].x2 = x1 + 7; segment[2].y2 = y - (s - 5);
+
+        /* line */
+        segment[3].x1 = x1 + 1; segment[3].y1 = y - (s - 2);
+        segment[3].x2 = mx - fw/2 - 2; segment[3].y2 = y - (s - 2);
+
+        XDrawSegments(dpy, root, gc, segment, 4);
+
+        /* right arrow & end bar */
+        segment[0].x1 = x2 + 1;
+        segment[0].x2 = x2 + 1;
+
+        /* arrowhead */
+        segment[1].x1 = x2 - 6;
+        segment[1].x2 = x2;
+
+        segment[2].x1 = x2;
+        segment[2].x2 = x2 - 6;
+
+        /* line */
+        segment[3].x1 = mx + fw/2 + 2;
+        segment[3].x2 = x2;
+
+        XDrawSegments(dpy, root, gc, segment, 4);
+
+        /* XSetForeground(dpy, gc, WMColorPixel(scr->window_title_color[WS_UNFOCUSED])); */
+
+        /* Display the width. */
+        /* // ugly hack */
+        color->color.pixel = scr->line_pixel;
+        scr->wmscreen->drawStringGC = gc;
+        WMDrawString(scr->wmscreen, root, color, scr->tech_draw_font,
+                     mx - fw/2 + 1, y - s - fh/2 + 1, num, strlen(num));
+        scr->wmscreen->drawStringGC = saveGC;
+        color->color.pixel = pixel;
+        WMReleaseColor(color);
     } else {
-	WSetGeometryViewShownSize(scr->gview,
-				  (x2 - x1 - wwin->normal_hints->base_width)
-				  / wwin->normal_hints->width_inc,
-				  (by - ty - wwin->normal_hints->base_height)
-				  / wwin->normal_hints->height_inc);
+        WSetGeometryViewShownSize(scr->gview,
+                                  (x2 - x1 - wwin->normal_hints->base_width)
+                                  / wwin->normal_hints->width_inc,
+                                  (by - ty - wwin->normal_hints->base_height)
+                                  / wwin->normal_hints->height_inc);
     }
 }
 
@@ -348,24 +420,28 @@
 cycleGeometryDisplay(WWindow *wwin, int x, int y, int w, int h, int dir)
 {
     WScreen *scr = wwin->screen_ptr;
-    
+    WMRect rect;
+
     wPreferences.size_display++;
     wPreferences.size_display %= NUM_DISPLAYS;
-    
-    if (wPreferences.size_display == WDIS_NEW
-	|| wPreferences.size_display == WDIS_NONE) {
-	WMUnmapWidget(scr->gview);
+
+     if (wPreferences.size_display == WDIS_NEW
+        || wPreferences.size_display == WDIS_NONE) {
+        WMUnmapWidget(scr->gview);
     } else {
-	if (wPreferences.size_display == WDIS_CENTER) {
-	    moveGeometryDisplayCentered(scr,
-					scr->scr_width / 2, scr->scr_height / 2);
-	} else if (wPreferences.size_display == WDIS_TOPLEFT) {
-	    moveGeometryDisplayCentered(scr, 1, 1);
-	} else if (wPreferences.size_display == WDIS_FRAME_CENTER) {
-	    moveGeometryDisplayCentered(scr, x + w/2, y + h/2);
-	}
-	WMMapWidget(scr->gview);
-	showGeometry(wwin, x, y, x + w, y + h, dir);
+        if (wPreferences.size_display == WDIS_CENTER) {
+            rect = wGetRectForHead(scr, wGetHeadForWindow(wwin));
+            moveGeometryDisplayCentered(scr,
+                                        rect.pos.x + rect.size.width/2,
+                                        rect.pos.y + rect.size.height/2);
+        } else if (wPreferences.size_display == WDIS_TOPLEFT) {
+            rect = wGetRectForHead(scr, wGetHeadForWindow(wwin));
+            moveGeometryDisplayCentered(scr, rect.pos.x + 1, rect.pos.y + 1);
+        } else if (wPreferences.size_display == WDIS_FRAME_CENTER) {
+            moveGeometryDisplayCentered(scr, x + w/2, y + h/2);
+        }
+        WMMapWidget(scr->gview);
+        showGeometry(wwin, x, y, x + w, y + h, dir);
     }
 }
 
@@ -374,18 +450,22 @@
 mapGeometryDisplay(WWindow *wwin, int x, int y, int w, int h)
 {
     WScreen *scr = wwin->screen_ptr;
-    
+    WMRect rect;
+
     if (wPreferences.size_display == WDIS_NEW
-	|| wPreferences.size_display == WDIS_NONE)
-	return;
-    
+        || wPreferences.size_display == WDIS_NONE)
+        return;
+
     if (wPreferences.size_display == WDIS_CENTER) {
-	moveGeometryDisplayCentered(scr, scr->scr_width / 2,
-				    scr->scr_height / 2);
+        rect = wGetRectForHead(scr, wGetHeadForWindow(wwin));
+        moveGeometryDisplayCentered(scr,
+                                    rect.pos.x + rect.size.width/2,
+                                    rect.pos.y + rect.size.height/2);
     } else if (wPreferences.size_display == WDIS_TOPLEFT) {
-	moveGeometryDisplayCentered(scr, 1, 1);
+        rect = wGetRectForHead(scr, wGetHeadForWindow(wwin));
+        moveGeometryDisplayCentered(scr, rect.pos.x + 1, rect.pos.y + 1);
     } else if (wPreferences.size_display == WDIS_FRAME_CENTER) {
-	moveGeometryDisplayCentered(scr, x + w/2, y + h/2);
+        moveGeometryDisplayCentered(scr, x + w/2, y + h/2);
     }
     WMMapWidget(scr->gview);
     showGeometry(wwin, x, y, x + w, y + h, 0);
@@ -397,9 +477,8 @@
 doWindowMove(WWindow *wwin, WMArray *array, int dx, int dy)
 {
     WWindow *tmpw;
+    WScreen *scr = wwin->screen_ptr;
     int x, y;
-    int scr_width = wwin->screen_ptr->scr_width;
-    int scr_height = wwin->screen_ptr->scr_height;
 
     if (!array || !WMGetArrayItemCount(array)) {
         wWindowMove(wwin, wwin->frame_x + dx, wwin->frame_y + dy);
@@ -407,23 +486,29 @@
         WMArrayIterator iter;
 
         WM_ITERATE_ARRAY(array, tmpw, iter) {
-	    x = tmpw->frame_x + dx;
-	    y = tmpw->frame_y + dy;
-	    
-	    /* don't let windows become unreachable */
-	    
-	    if (x + (int)tmpw->frame->core->width < 20)
-		x = 20 - (int)tmpw->frame->core->width;
-	    else if (x + 20 > scr_width)
-		x = scr_width - 20;
-
-	    if (y + (int)tmpw->frame->core->height < 20)
-		y = 20 - (int)tmpw->frame->core->height;
-	    else if (y + 20 > scr_height)
-		y = scr_height - 20;
-	    
- 	    wWindowMove(tmpw, x, y);
-	}
+            x = tmpw->frame_x + dx;
+            y = tmpw->frame_y + dy;
+
+#if 1 /* XXX: with xinerama patch was #if 0, check this */
+            /* don't let windows become unreachable */
+
+            if (x + (int)tmpw->frame->core->width < 20)
+                x = 20 - (int)tmpw->frame->core->width;
+            else if (x + 20 > scr->scr_width)
+                x = scr->scr_width - 20;
+
+            if (y + (int)tmpw->frame->core->height < 20)
+                y = 20 - (int)tmpw->frame->core->height;
+            else if (y + 20 > scr->scr_height)
+                y = scr->scr_height - 20;
+#else
+            wScreenBringInside(scr, &x, &y,
+                               (int)tmpw->frame->core->width,
+                               (int)tmpw->frame->core->height);
+#endif
+
+            wWindowMove(tmpw, x, y);
+        }
     }
 }
 
@@ -435,25 +520,28 @@
     GC gc = wwin->screen_ptr->frame_gc;
     int h = 0;
     int bottom = 0;
-    
+
+    if (HAS_BORDER(wwin)) {
+        x += FRAME_BORDER_WIDTH;
+        y += FRAME_BORDER_WIDTH;
+    }
+
     if (!WFLAGP(wwin, no_titlebar) && !wwin->flags.shaded) {
-	h = WMFontHeight(wwin->screen_ptr->title_font) + (wPreferences.window_title_clearance + TITLEBAR_EXTEND_SPACE) * 2;
+        h = WMFontHeight(wwin->screen_ptr->title_font) + (wPreferences.window_title_clearance + TITLEBAR_EXTEND_SPACE) * 2;
     }
     if (!WFLAGP(wwin, no_resizebar) && !wwin->flags.shaded) {
-	/* Can't use wwin-frame->bottom_width because, in some cases 
-	 (e.g. interactive placement), frame does not point to anything. */
-	bottom = RESIZEBAR_HEIGHT - 1;
-    } 
-    XDrawRectangle(dpy, root, gc, x, y, width + 1, height + 1);
-    
+        /* Can't use wwin-frame->bottom_width because, in some cases
+         (e.g. interactive placement), frame does not point to anything. */
+        bottom = RESIZEBAR_HEIGHT;
+    }
+    XDrawRectangle(dpy, root, gc, x - 1, y - 1, width + 1, height + 1);
+
     if (h > 0) {
-	XDrawLine(dpy, root, gc, x + 1, y + h, x + width + 1, y + h); 
+        XDrawLine(dpy, root, gc, x, y + h - 1, x + width, y + h - 1);
     }
     if (bottom > 0) {
-	XDrawLine(dpy, root, gc, x + 1,
-		  y + height - bottom,
-		  x + width + 1,
-		  y + height - bottom);
+        XDrawLine(dpy, root, gc, x, y + height - bottom,
+                  x + width, y + height - bottom);
     }
 }
 
@@ -465,38 +553,44 @@
     int scr_width = wwin->screen_ptr->scr_width;
     int scr_height = wwin->screen_ptr->scr_height;
     int x, y;
-    
+
     if (!array) {
 
         x = wwin->frame_x + dx;
         y = wwin->frame_y + dy;
 
-	drawTransparentFrame(wwin, x, y,
-			     wwin->frame->core->width, 
-			     wwin->frame->core->height);
-	
+        drawTransparentFrame(wwin, x, y,
+                             wwin->frame->core->width,
+                             wwin->frame->core->height);
+
     } else {
         WMArrayIterator iter;
 
         WM_ITERATE_ARRAY(array, tmpw, iter) {
-	    x = tmpw->frame_x + dx;
-	    y = tmpw->frame_y + dy;
-	    
-	    /* don't let windows become unreachable */
-	    
-	    if (x + (int)tmpw->frame->core->width < 20)
-		x = 20 - (int)tmpw->frame->core->width;
-	    else if (x + 20 > scr_width)
-		x = scr_width - 20;
-	    
-	    if (y + (int)tmpw->frame->core->height < 20)
-		y = 20 - (int)tmpw->frame->core->height;
-	    else if (y + 20 > scr_height)
-		y = scr_height - 20;
-	    
-	    drawTransparentFrame(tmpw, x, y, tmpw->frame->core->width,
-				 tmpw->frame->core->height);
-	}
+            x = tmpw->frame_x + dx;
+            y = tmpw->frame_y + dy;
+
+            /* don't let windows become unreachable */
+#if 1 /* XXX: was 0 in XINERAMA patch, check */
+            if (x + (int)tmpw->frame->core->width < 20)
+                x = 20 - (int)tmpw->frame->core->width;
+            else if (x + 20 > scr_width)
+                x = scr_width - 20;
+
+            if (y + (int)tmpw->frame->core->height < 20)
+                y = 20 - (int)tmpw->frame->core->height;
+            else if (y + 20 > scr_height)
+                y = scr_height - 20;
+
+#else
+            wScreenBringInside(wwin->screen_ptr, &x, &y,
+                               (int)tmpw->frame->core->width,
+                               (int)tmpw->frame->core->height);
+#endif
+
+            drawTransparentFrame(tmpw, x, y, tmpw->frame->core->width,
+                                 tmpw->frame->core->height);
+        }
     }
 }
 
@@ -518,25 +612,25 @@
 {
     /* do not let window be unmapped */
     if (opaque_move) {
-	wwin->flags.changing_workspace = 1;
-	wWindowChangeWorkspace(wwin, new_workspace);
+        wwin->flags.changing_workspace = 1;
+        wWindowChangeWorkspace(wwin, new_workspace);
     }
     /* go to new workspace */
     wWorkspaceChange(scr, new_workspace);
-    
+
     wwin->flags.changing_workspace = 0;
-    
+
     if (rewind)
-	XWarpPointer(dpy, None, None, 0, 0, 0, 0, scr->scr_width - 20, 0);
+        XWarpPointer(dpy, None, None, 0, 0, 0, 0, scr->scr_width - 20, 0);
     else
-	XWarpPointer(dpy, None, None, 0, 0, 0, 0, -(scr->scr_width - 20), 0);
-    
+        XWarpPointer(dpy, None, None, 0, 0, 0, 0, -(scr->scr_width - 20), 0);
+
     flushMotion();
-    
+
     if (!opaque_move) {
-	XGrabPointer(dpy, scr->root_win, True, PointerMotionMask
-		     |ButtonReleaseMask|ButtonPressMask, GrabModeAsync,
-		     GrabModeAsync, None, wCursor[WCUR_MOVE], CurrentTime);
+        XGrabPointer(dpy, scr->root_win, True, PointerMotionMask
+                     |ButtonReleaseMask|ButtonPressMask, GrabModeAsync,
+                     GrabModeAsync, None, wCursor[WCUR_MOVE], CurrentTime);
     }
 }
 
@@ -569,8 +663,10 @@
 
 #define WTOP(w) (w)->frame_y
 #define WLEFT(w) (w)->frame_x
-#define WRIGHT(w) ((w)->frame_x + (int)(w)->frame->core->width + FRAME_BORDER_WIDTH)
-#define WBOTTOM(w) ((w)->frame_y + (int)(w)->frame->core->height + FRAME_BORDER_WIDTH)
+#define WRIGHT(w) ((w)->frame_x + (int)(w)->frame->core->width - 1 + \
+    (HAS_BORDER(w) ? 2*FRAME_BORDER_WIDTH : 0))
+#define WBOTTOM(w) ((w)->frame_y + (int)(w)->frame->core->height - 1 + \
+    (HAS_BORDER(w) ? 2*FRAME_BORDER_WIDTH : 0))
 
 static int
 compareWTop(const void *a, const void *b)
@@ -579,11 +675,11 @@
     WWindow *wwin2 = *(WWindow**)b;
 
     if (WTOP(wwin1) > WTOP(wwin2))
-	return -1;
+        return -1;
     else if (WTOP(wwin1) < WTOP(wwin2))
-	return 1;
+        return 1;
     else
-	return 0;
+        return 0;
 }
 
 
@@ -594,11 +690,11 @@
     WWindow *wwin2 = *(WWindow**)b;
 
     if (WLEFT(wwin1) > WLEFT(wwin2))
-	return -1;
+        return -1;
     else if (WLEFT(wwin1) < WLEFT(wwin2))
-	return 1;
+        return 1;
     else
-	return 0;
+        return 0;
 }
 
 
@@ -609,11 +705,11 @@
     WWindow *wwin2 = *(WWindow**)b;
 
     if (WRIGHT(wwin1) < WRIGHT(wwin2))
-	return -1;
+        return -1;
     else if (WRIGHT(wwin1) > WRIGHT(wwin2))
-	return 1;
+        return 1;
     else
-	return 0;
+        return 0;
 }
 
 
@@ -625,11 +721,11 @@
     WWindow *wwin2 = *(WWindow**)b;
 
     if (WBOTTOM(wwin1) < WBOTTOM(wwin2))
-	return -1;
+        return -1;
     else if (WBOTTOM(wwin1) > WBOTTOM(wwin2))
-	return 1;
+        return 1;
     else
-	return 0;
+        return 0;
 }
 
 
@@ -642,72 +738,72 @@
     Bool ok = False;
 
     if (newX < data->realX) {
-	if (data->rightIndex > 0 
-	    && newX < WRIGHT(data->rightList[data->rightIndex-1])) {
-	    ok = True;
-	} else if (data->leftIndex <= data->count-1
-		   && newX2 <= WLEFT(data->leftList[data->leftIndex])) {
-	    ok = True;
-	}
+        if (data->rightIndex > 0
+            && newX < WRIGHT(data->rightList[data->rightIndex-1])) {
+            ok = True;
+        } else if (data->leftIndex <= data->count-1
+                   && newX2 <= WLEFT(data->leftList[data->leftIndex])) {
+            ok = True;
+        }
     } else if (newX > data->realX) {
-	if (data->leftIndex > 0
-	    && newX2 > WLEFT(data->leftList[data->leftIndex-1])) {
-	    ok = True;
-	} else if (data->rightIndex <= data->count-1
-		   && newX >= WRIGHT(data->rightList[data->rightIndex])) {
-	    ok = True;
-	}
+        if (data->leftIndex > 0
+            && newX2 > WLEFT(data->leftList[data->leftIndex-1])) {
+            ok = True;
+        } else if (data->rightIndex <= data->count-1
+                   && newX >= WRIGHT(data->rightList[data->rightIndex])) {
+            ok = True;
+        }
     }
 
     if (!ok) {
-	if (newY < data->realY) {
-	    if (data->bottomIndex > 0 
-		&& newY < WBOTTOM(data->bottomList[data->bottomIndex-1])) {
-		ok = True;
-	    } else if (data->topIndex <= data->count-1
-		       && newY2 <= WTOP(data->topList[data->topIndex])) {
-		ok = True;
-	    }
-	} else if (newY > data->realY) {
-	    if (data->topIndex > 0
-		&& newY2 > WTOP(data->topList[data->topIndex-1])) {
-		ok = True;
-	    } else if (data->bottomIndex <= data->count-1
-		       && newY >= WBOTTOM(data->bottomList[data->bottomIndex])) {
-		ok = True;
-	    }
-	}
+        if (newY < data->realY) {
+            if (data->bottomIndex > 0
+                && newY < WBOTTOM(data->bottomList[data->bottomIndex-1])) {
+                ok = True;
+            } else if (data->topIndex <= data->count-1
+                       && newY2 <= WTOP(data->topList[data->topIndex])) {
+                ok = True;
+            }
+        } else if (newY > data->realY) {
+            if (data->topIndex > 0
+                && newY2 > WTOP(data->topList[data->topIndex-1])) {
+                ok = True;
+            } else if (data->bottomIndex <= data->count-1
+                       && newY >= WBOTTOM(data->bottomList[data->bottomIndex])) {
+                ok = True;
+            }
+        }
     }
 
     if (!ok)
-	return;
+        return;
 
     /* TODO: optimize this */
     if (data->realY < WBOTTOM(data->bottomList[0])) {
-	data->bottomIndex = 0;
+        data->bottomIndex = 0;
     }
     if (data->realX < WRIGHT(data->rightList[0])) {
-	data->rightIndex = 0;
+        data->rightIndex = 0;
     }
     if ((data->realX + data->winWidth) > WLEFT(data->leftList[0])) {
-	data->leftIndex = 0;
+        data->leftIndex = 0;
     }
     if ((data->realY + data->winHeight) > WTOP(data->topList[0])) {
-	data->topIndex = 0;
+        data->topIndex = 0;
     }
     for (i = 0; i < data->count; i++) {
-	if (data->realY > WBOTTOM(data->bottomList[i])) {
-	    data->bottomIndex = i + 1;
-	}
-	if (data->realX > WRIGHT(data->rightList[i])) {
-	    data->rightIndex = i + 1;
-	}
-	if ((data->realX + data->winWidth) < WLEFT(data->leftList[i])) {
-	    data->leftIndex = i + 1;
-	}
-	if ((data->realY + data->winHeight) < WTOP(data->topList[i])) {
-	    data->topIndex = i + 1;
-	}
+        if (data->realY > WBOTTOM(data->bottomList[i])) {
+            data->bottomIndex = i + 1;
+        }
+        if (data->realX > WRIGHT(data->rightList[i])) {
+            data->rightIndex = i + 1;
+        }
+        if ((data->realX + data->winWidth) < WLEFT(data->leftList[i])) {
+            data->leftIndex = i + 1;
+        }
+        if ((data->realY + data->winHeight) < WTOP(data->topList[i])) {
+            data->topIndex = i + 1;
+        }
     }
 }
 
@@ -716,13 +812,13 @@
 freeMoveData(MoveData *data)
 {
     if (data->topList)
-	wfree(data->topList);
+        wfree(data->topList);
     if (data->leftList)
-	wfree(data->leftList);
+        wfree(data->leftList);
     if (data->rightList)
-	wfree(data->rightList);
+        wfree(data->rightList);
     if (data->bottomList)
-	wfree(data->bottomList);
+        wfree(data->bottomList);
 }
 
 
@@ -736,36 +832,35 @@
     data->count = 0;
     tmp = scr->focused_window;
     while (tmp) {
-	if (tmp != wwin && scr->current_workspace == tmp->frame->workspace
-	    && !tmp->flags.miniaturized
-	    && !tmp->flags.hidden
-	    && !tmp->flags.obscured
-        && !WFLAGP(tmp, sunken)) {
-	    data->topList[data->count] = tmp;
-	    data->leftList[data->count] = tmp;
-	    data->rightList[data->count] = tmp;
-	    data->bottomList[data->count] = tmp;
-	    data->count++;
-	}
-	tmp = tmp->prev;
+        if (tmp != wwin && scr->current_workspace == tmp->frame->workspace
+            && !tmp->flags.miniaturized
+            && !tmp->flags.hidden
+            && !tmp->flags.obscured
+            && !WFLAGP(tmp, sunken)) {
+            data->topList[data->count] = tmp;
+            data->leftList[data->count] = tmp;
+            data->rightList[data->count] = tmp;
+            data->bottomList[data->count] = tmp;
+            data->count++;
+        }
+        tmp = tmp->prev;
     }
 
     if (data->count == 0) {
-	data->topIndex = 0;
-	data->leftIndex = 0;
-	data->rightIndex = 0;
-	data->bottomIndex = 0;	
-	return;
+        data->topIndex = 0;
+        data->leftIndex = 0;
+        data->rightIndex = 0;
+        data->bottomIndex = 0;
+        return;
     }
 
-    /*
-     * order from closest to the border of the screen to farthest
-     */
+    /* order from closest to the border of the screen to farthest */
+
     qsort(data->topList, data->count, sizeof(WWindow**), compareWTop);
     qsort(data->leftList, data->count, sizeof(WWindow**), compareWLeft);
     qsort(data->rightList, data->count, sizeof(WWindow**), compareWRight);
     qsort(data->bottomList, data->count, sizeof(WWindow**), compareWBottom);
-    
+
     /* figure the position of the window relative to the others */
 
     data->topIndex = -1;
@@ -774,30 +869,30 @@
     data->bottomIndex = -1;
 
     if (WTOP(wwin) < WBOTTOM(data->bottomList[0])) {
-	data->bottomIndex = 0;
+        data->bottomIndex = 0;
     }
     if (WLEFT(wwin) < WRIGHT(data->rightList[0])) {
-	data->rightIndex = 0;
+        data->rightIndex = 0;
     }
     if (WRIGHT(wwin) > WLEFT(data->leftList[0])) {
-	data->leftIndex = 0;
+        data->leftIndex = 0;
     }
     if (WBOTTOM(wwin) > WTOP(data->topList[0])) {
-	data->topIndex = 0;
+        data->topIndex = 0;
     }
     for (i = 0; i < data->count; i++) {
-	if (WTOP(wwin) >= WBOTTOM(data->bottomList[i])) {
-	    data->bottomIndex = i + 1;
-	}
-	if (WLEFT(wwin) >= WRIGHT(data->rightList[i])) {
-	    data->rightIndex = i + 1;
-	}
-	if (WRIGHT(wwin) <= WLEFT(data->leftList[i])) {
-	    data->leftIndex = i + 1;
-	}
-	if (WBOTTOM(wwin) <= WTOP(data->topList[i])) {
-	    data->topIndex = i + 1;
-	}
+        if (WTOP(wwin) >= WBOTTOM(data->bottomList[i])) {
+            data->bottomIndex = i + 1;
+        }
+        if (WLEFT(wwin) >= WRIGHT(data->rightList[i])) {
+            data->rightIndex = i + 1;
+        }
+        if (WRIGHT(wwin) <= WLEFT(data->leftList[i])) {
+            data->leftIndex = i + 1;
+        }
+        if (WBOTTOM(wwin) <= WTOP(data->topList[i])) {
+            data->topIndex = i + 1;
+        }
     }
 }
 
@@ -810,17 +905,17 @@
 
     memset(data, 0, sizeof(MoveData));
 
-    for (i = 0, tmp = wwin->screen_ptr->focused_window; 
-	 tmp != NULL;
-	 tmp = tmp->prev, i++);
+    for (i = 0, tmp = wwin->screen_ptr->focused_window;
+         tmp != NULL;
+         tmp = tmp->prev, i++);
 
     if (i > 1) {
-	data->topList = wmalloc(sizeof(WWindow*) * i);
-	data->leftList = wmalloc(sizeof(WWindow*) * i);
-	data->rightList = wmalloc(sizeof(WWindow*) * i);
-	data->bottomList = wmalloc(sizeof(WWindow*) * i);
+        data->topList = wmalloc(sizeof(WWindow*) * i);
+        data->leftList = wmalloc(sizeof(WWindow*) * i);
+        data->rightList = wmalloc(sizeof(WWindow*) * i);
+        data->bottomList = wmalloc(sizeof(WWindow*) * i);
 
-	updateMoveData(wwin, data);
+        updateMoveData(wwin, data);
     }
 
     data->realX = wwin->frame_x;
@@ -828,8 +923,10 @@
     data->calcX = wwin->frame_x;
     data->calcY = wwin->frame_y;
 
-    data->winWidth = wwin->frame->core->width + 2;
-    data->winHeight = wwin->frame->core->height + 2;
+    data->winWidth = wwin->frame->core->width +
+        (HAS_BORDER(wwin) ? 2*FRAME_BORDER_WIDTH : 0);
+    data->winHeight = wwin->frame->core->height +
+        (HAS_BORDER(wwin) ? 2*FRAME_BORDER_WIDTH : 0);
 }
 
 
@@ -840,68 +937,68 @@
     Bool changed = False;
 
     if (data->mouseX <= 1) {
-	if (scr->current_workspace > 0) {
+        if (scr->current_workspace > 0) {
 
-	    crossWorkspace(scr, wwin, opaqueMove, scr->current_workspace - 1,
-			   True);
-	    changed = True;
-	    data->rubCount = 0;
-
-	} else if (scr->current_workspace == 0 && wPreferences.ws_cycle) {
-
-	    crossWorkspace(scr, wwin, opaqueMove, scr->workspace_count - 1,
-			   True);
-	    changed = True;
-	    data->rubCount = 0;
-	}
+            crossWorkspace(scr, wwin, opaqueMove, scr->current_workspace - 1,
+                           True);
+            changed = True;
+            data->rubCount = 0;
+
+        } else if (scr->current_workspace == 0 && wPreferences.ws_cycle) {
+
+            crossWorkspace(scr, wwin, opaqueMove, scr->workspace_count - 1,
+                           True);
+            changed = True;
+            data->rubCount = 0;
+        }
     } else if (data->mouseX >= scr->scr_width - 2) {
 
-	if (scr->current_workspace == scr->workspace_count - 1) {
+        if (scr->current_workspace == scr->workspace_count - 1) {
+
+            if (wPreferences.ws_cycle
+                || scr->workspace_count == MAX_WORKSPACES) {
 
-	    if (wPreferences.ws_cycle
-		|| scr->workspace_count == MAX_WORKSPACES) {
+                crossWorkspace(scr, wwin, opaqueMove, 0, False);
+                changed = True;
+                data->rubCount = 0;
+            }
+            /* if user insists on trying to go to next workspace even when
+             * it's already the last, create a new one */
+            else if (data->omouseX == data->mouseX
+                     && wPreferences.ws_advance) {
 
-		crossWorkspace(scr, wwin, opaqueMove, 0, False);
-		changed = True;
-		data->rubCount = 0;
-	    }
-	    /* if user insists on trying to go to next workspace even when
-	     * it's already the last, create a new one */
-	    else if (data->omouseX == data->mouseX 
-		     && wPreferences.ws_advance) {
-
-		/* detect user "rubbing" the window against the edge */
-		if (data->rubCount > 0 
-		    && data->omouseY - data->mouseY > MOVE_THRESHOLD) {
-
-		    data->rubCount = -(data->rubCount + 1);
-
-		} else if (data->rubCount <= 0
-			   && data->mouseY - data->omouseY > MOVE_THRESHOLD) {
-
-		    data->rubCount = -data->rubCount + 1;
-		}
-	    }
-	    /* create a new workspace */
-	    if (abs(data->rubCount) > 2) {
-		/* go to next workspace */
-		wWorkspaceNew(scr);
-		
-		crossWorkspace(scr, wwin, opaqueMove, 
-			       scr->current_workspace+1, False);
-		changed = True;
-		data->rubCount = 0;
-	    }
-	} else if (scr->current_workspace < scr->workspace_count) {
-
-	    /* go to next workspace */
-	    crossWorkspace(scr, wwin, opaqueMove, 
-			   scr->current_workspace+1, False);
-	    changed = True;
-	    data->rubCount = 0;
-	}
+                /* detect user "rubbing" the window against the edge */
+                if (data->rubCount > 0
+                    && data->omouseY - data->mouseY > MOVE_THRESHOLD) {
+
+                    data->rubCount = -(data->rubCount + 1);
+
+                } else if (data->rubCount <= 0
+                           && data->mouseY - data->omouseY > MOVE_THRESHOLD) {
+
+                    data->rubCount = -data->rubCount + 1;
+                }
+            }
+            /* create a new workspace */
+            if (abs(data->rubCount) > 2) {
+                /* go to next workspace */
+                wWorkspaceNew(scr);
+
+                crossWorkspace(scr, wwin, opaqueMove,
+                               scr->current_workspace+1, False);
+                changed = True;
+                data->rubCount = 0;
+            }
+        } else if (scr->current_workspace < scr->workspace_count) {
+
+            /* go to next workspace */
+            crossWorkspace(scr, wwin, opaqueMove,
+                           scr->current_workspace+1, False);
+            changed = True;
+            data->rubCount = 0;
+        }
     } else {
-	data->rubCount = 0;
+        data->rubCount = 0;
     }
 
     return changed;
@@ -910,7 +1007,7 @@
 
 static void
 updateWindowPosition(WWindow *wwin, MoveData *data, Bool doResistance,
-		     Bool opaqueMove, int newMouseX, int newMouseY)
+                     Bool opaqueMove, int newMouseX, int newMouseY)
 {
     WScreen *scr = wwin->screen_ptr;
     int dx, dy;			       /* how much mouse moved */
@@ -943,267 +1040,274 @@
     newY = data->realY;
 
     if (doResistance) {
-	int l_edge, r_edge;
-	int edge_l, edge_r;
-	int t_edge, b_edge;
-	int edge_t, edge_b;
-	int resist;
-
-	resist = WIN_RESISTANCE(wPreferences.edge_resistance);
-	attract = wPreferences.attract;
-	/* horizontal movement: check horizontal edge resistances */
-	if (dx || dy) {
-	    int i;
-	    /* window is the leftmost window: check against screen edge */
-	    l_edge = scr->totalUsableArea.x1;
-	    r_edge = scr->totalUsableArea.x2 + resist;
-	    edge_l = scr->totalUsableArea.x1 - resist;
-	    edge_r = scr->totalUsableArea.x2;
-
-        /* 1 */
-	    if ((data->rightIndex >= 0) && (data->rightIndex <= data->count)) {
-		WWindow *looprw;
-                        
-		for (i = data->rightIndex - 1; i >= 0; i--) {
-		    looprw = data->rightList[i];
-		    if (!(data->realY > WBOTTOM(looprw) 
-			  || (data->realY + data->winHeight) < WTOP(looprw))) {
-			if (attract 
-			    || ((data->realX < (WRIGHT(looprw) + 2)) && dx < 0)) {
-			    l_edge = WRIGHT(looprw) + 1;
-			    resist = WIN_RESISTANCE(wPreferences.edge_resistance);
-			}
-			break;
-		    }
-		}
-		
-		if (attract) {
-		    for (i = data->rightIndex; i < data->count; i++) {
-			looprw = data->rightList[i];
-			if(!(data->realY > WBOTTOM(looprw) 
-			     || (data->realY + data->winHeight) < WTOP(looprw))) {
-			    r_edge = WRIGHT(looprw) + 1;
-			    resist = WIN_RESISTANCE(wPreferences.edge_resistance);
-			    break;
-			}
-		    }
-		}
-	    }
-	    
-	    if ((data->leftIndex >= 0) && (data->leftIndex <= data->count)) {
-		WWindow *looprw;
-                        
-		for (i = data->leftIndex - 1; i >= 0; i--) {
-		    looprw = data->leftList[i];
-		    if (!(data->realY > WBOTTOM(looprw) 
-			  || (data->realY + data->winHeight) < WTOP(looprw))) {
-			if (attract 
-			    || (((data->realX + data->winWidth) > (WLEFT(looprw) - 1)) && dx > 0)) {
-			    edge_r = WLEFT(looprw);
-			    resist = WIN_RESISTANCE(wPreferences.edge_resistance);
-			}
-			break;
-		    }
-		}
-		
-		if (attract)
-		    for (i = data->leftIndex; i < data->count; i++) {
-			looprw = data->leftList[i];
-			if(!(data->realY > WBOTTOM(looprw) 
-			     || (data->realY + data->winHeight) < WTOP(looprw))) {
-			    edge_l = WLEFT(looprw);
-			    resist = WIN_RESISTANCE(wPreferences.edge_resistance);
-			    break;
-			}
-		    }
-	    }
-	    
-	    /*
-        printf("%d %d\n",winL,winR);
-        printf("l_ %d r_ %d _l %d _r %d\n",l_edge,r_edge,edge_l,edge_r);
-        */
-
-	    if ((winL - l_edge) < (r_edge - winL)) {
-		if (resist > 0) {
-		    if ((attract && winL <= l_edge + resist && winL >= l_edge - resist)
-			|| (dx < 0 && winL <= l_edge && winL >= l_edge - resist)) {
-			newX = l_edge;
-			hresist = True;
-		    }
-		}
-	    } else {
-		if (resist > 0 && attract && winL >= r_edge - resist && winL <= r_edge + resist) {
-		    newX = r_edge;
-		    hresist = True;
-		}
-	    }
-	    
-	    if ((winR - edge_l) < (edge_r - winR)) {
-		if (resist > 0 && attract && winR <= edge_l + resist && winR >= edge_l - resist) {
-		    newX = edge_l - data->winWidth;
-		    hresist = True;
-		}
-	    } else {
-		if (resist > 0) {
-		    if ((attract && winR >= edge_r - resist && winR <= edge_r + resist) 
-			|| (dx > 0 && winR >= edge_r && winR <= edge_r + resist)) {
-			newX = edge_r - data->winWidth;
-			hresist = True;
-		    }
-		}
-	    }
-
-	    /* VeRT */
-	    t_edge = scr->totalUsableArea.y1;
-	    b_edge = scr->totalUsableArea.y2 + resist;
-	    edge_t = scr->totalUsableArea.y1 - resist;
-	    edge_b = scr->totalUsableArea.y2;
-
-	    if ((data->bottomIndex >= 0) && (data->bottomIndex <= data->count)) {
-		WWindow *looprw;
-		
-		for (i = data->bottomIndex - 1; i >= 0; i--) {
-		    looprw = data->bottomList[i];
-		    if (!(data->realX > WRIGHT(looprw) 
-			  || (data->realX + data->winWidth) < WLEFT(looprw))) {
-			if (attract 
-			    || ((data->realY < (WBOTTOM(looprw) + 2)) && dy < 0)) {
-			    t_edge = WBOTTOM(looprw) + 1;
-			    resist = WIN_RESISTANCE(wPreferences.edge_resistance);
-			}
-			break;
-		    }
-		}
-		
-		if (attract) {
-		    for (i = data->bottomIndex; i < data->count; i++) {
-			looprw = data->bottomList[i];
-			if(!(data->realX > WRIGHT(looprw) 
-			     || (data->realX + data->winWidth) < WLEFT(looprw))) {
-			    b_edge = WBOTTOM(looprw) + 1;
-			    resist = WIN_RESISTANCE(wPreferences.edge_resistance);
-			    break;
-			}
-		    }
-		}
-	    }
-	    
-	    if ((data->topIndex >= 0) && (data->topIndex <= data->count)) {
-		WWindow *looprw;
-		
-		for (i = data->topIndex - 1; i >= 0; i--) {
-		    looprw = data->topList[i];
-		    if (!(data->realX > WRIGHT(looprw) 
-			  || (data->realX + data->winWidth) < WLEFT(looprw))) {
-			if (attract 
-			    || (((data->realY + data->winHeight) > (WTOP(looprw) - 1)) && dy > 0)) {
-			    edge_b = WTOP(looprw);
-			    resist = WIN_RESISTANCE(wPreferences.edge_resistance);
-			}
-			break;
-		    }
-		}
-		
-		if (attract)
-		    for (i = data->topIndex; i < data->count; i++) {
-			looprw = data->topList[i];
-			if(!(data->realX > WRIGHT(looprw) 
-			     || (data->realX + data->winWidth) < WLEFT(looprw))) {
-			    edge_t = WTOP(looprw);
-			    resist = WIN_RESISTANCE(wPreferences.edge_resistance);
-			    break;
-			}
-		    }
-	    }
-	    
-	    if ((winT - t_edge) < (b_edge - winT)) {
-		if (resist > 0) {
-		    if ((attract && winT <= t_edge + resist && winT >= t_edge - resist)
-			|| (dy < 0 && winT <= t_edge && winT >= t_edge - resist)) {
-			newY = t_edge;
-			vresist = True;
-		    }
-		}
-	    }
-	    else {
-		if (resist > 0 && attract && winT >= b_edge - resist && winT <= b_edge + resist) {
-		    newY = b_edge;
-		    vresist = True;
-		}
-	    }
-	    
-	    if ((winB - edge_t) < (edge_b - winB)) {
-		if (resist > 0 && attract && winB <= edge_t + resist && winB >= edge_t - resist) {
-		    newY = edge_t - data->winHeight;
-		    vresist = True;
-		}
-	    }
-	    else {
-		if (resist > 0) {
-		    if ((attract && winB >= edge_b - resist && winB <= edge_b + resist) 
-			|| (dy > 0 && winB >= edge_b && winB <= edge_b + resist)) {
-			newY = edge_b - data->winHeight;
-			vresist = True;
-		    }
-		}
-	    }
-	}
-	/* END VeRT */
-	
+        int l_edge, r_edge;
+        int edge_l, edge_r;
+        int t_edge, b_edge;
+        int edge_t, edge_b;
+        int resist;
+
+        resist = WIN_RESISTANCE(wPreferences.edge_resistance);
+        attract = wPreferences.attract;
+        /* horizontal movement: check horizontal edge resistances */
+        if (dx || dy) {
+            WMRect rect;
+            int i, head;
+            /* window is the leftmost window: check against screen edge */
+
+            /* Add inter head resistance 1/2 (if needed) */
+	    head = wGetHeadForPointerLocation(scr);
+            rect = wGetRectForHead(scr, head);
+
+            l_edge = WMAX(scr->totalUsableArea[head].x1, rect.pos.x);
+            edge_l = l_edge - resist;
+            edge_r = WMIN(scr->totalUsableArea[head].x2, rect.pos.x + rect.size.width);
+            r_edge = edge_r + resist;
+
+            /* 1 */
+            if ((data->rightIndex >= 0) && (data->rightIndex <= data->count)) {
+                WWindow *looprw;
+
+                for (i = data->rightIndex - 1; i >= 0; i--) {
+                    looprw = data->rightList[i];
+                    if (!(data->realY > WBOTTOM(looprw)
+                          || (data->realY + data->winHeight) < WTOP(looprw))) {
+                        if (attract
+                            || ((data->realX < (WRIGHT(looprw) + 2)) && dx < 0)) {
+                            l_edge = WRIGHT(looprw) + 1;
+                            resist = WIN_RESISTANCE(wPreferences.edge_resistance);
+                        }
+                        break;
+                    }
+                }
+
+                if (attract) {
+                    for (i = data->rightIndex; i < data->count; i++) {
+                        looprw = data->rightList[i];
+                        if(!(data->realY > WBOTTOM(looprw)
+                             || (data->realY + data->winHeight) < WTOP(looprw))) {
+                            r_edge = WRIGHT(looprw) + 1;
+                            resist = WIN_RESISTANCE(wPreferences.edge_resistance);
+                            break;
+                        }
+                    }
+                }
+            }
+
+            if ((data->leftIndex >= 0) && (data->leftIndex <= data->count)) {
+                WWindow *looprw;
+
+                for (i = data->leftIndex - 1; i >= 0; i--) {
+                    looprw = data->leftList[i];
+                    if (!(data->realY > WBOTTOM(looprw)
+                          || (data->realY + data->winHeight) < WTOP(looprw))) {
+                        if (attract
+                            || (((data->realX + data->winWidth) > (WLEFT(looprw) - 1)) && dx > 0)) {
+                            edge_r = WLEFT(looprw);
+                            resist = WIN_RESISTANCE(wPreferences.edge_resistance);
+                        }
+                        break;
+                    }
+                }
+
+                if (attract)
+                    for (i = data->leftIndex; i < data->count; i++) {
+                        looprw = data->leftList[i];
+                        if(!(data->realY > WBOTTOM(looprw)
+                             || (data->realY + data->winHeight) < WTOP(looprw))) {
+                            edge_l = WLEFT(looprw);
+                            resist = WIN_RESISTANCE(wPreferences.edge_resistance);
+                            break;
+                        }
+                    }
+            }
+
+            /*
+             printf("%d %d\n",winL,winR);
+             printf("l_ %d r_ %d _l %d _r %d\n",l_edge,r_edge,edge_l,edge_r);
+             */
+
+            if ((winL - l_edge) < (r_edge - winL)) {
+                if (resist > 0) {
+                    if ((attract && winL <= l_edge + resist && winL >= l_edge - resist)
+                        || (dx < 0 && winL <= l_edge && winL >= l_edge - resist)) {
+                        newX = l_edge;
+                        hresist = True;
+                    }
+                }
+            } else {
+                if (resist > 0 && attract && winL >= r_edge - resist && winL <= r_edge + resist) {
+                    newX = r_edge;
+                    hresist = True;
+                }
+            }
+
+            if ((winR - edge_l) < (edge_r - winR)) {
+                if (resist > 0 && attract && winR <= edge_l + resist && winR >= edge_l - resist) {
+                    newX = edge_l - data->winWidth;
+                    hresist = True;
+                }
+            } else {
+                if (resist > 0) {
+                    if ((attract && winR >= edge_r - resist && winR <= edge_r + resist)
+                        || (dx > 0 && winR >= edge_r && winR <= edge_r + resist)) {
+                        newX = edge_r - data->winWidth;
+                        hresist = True;
+                    }
+                }
+            }
+
+            /* VeRT */
+            /* Add inter head resistance 2/2 (if needed) */
+            t_edge = WMAX(scr->totalUsableArea[head].y1, rect.pos.y);
+            edge_t = t_edge - resist;
+            edge_b = WMIN(scr->totalUsableArea[head].y2, rect.pos.y + rect.size.height);
+            b_edge = edge_b + resist;
+
+            if ((data->bottomIndex >= 0) && (data->bottomIndex <= data->count)) {
+                WWindow *looprw;
+
+                for (i = data->bottomIndex - 1; i >= 0; i--) {
+                    looprw = data->bottomList[i];
+                    if (!(data->realX > WRIGHT(looprw)
+                          || (data->realX + data->winWidth) < WLEFT(looprw))) {
+                        if (attract
+                            || ((data->realY < (WBOTTOM(looprw) + 2)) && dy < 0)) {
+                            t_edge = WBOTTOM(looprw) + 1;
+                            resist = WIN_RESISTANCE(wPreferences.edge_resistance);
+                        }
+                        break;
+                    }
+                }
+
+                if (attract) {
+                    for (i = data->bottomIndex; i < data->count; i++) {
+                        looprw = data->bottomList[i];
+                        if(!(data->realX > WRIGHT(looprw)
+                             || (data->realX + data->winWidth) < WLEFT(looprw))) {
+                            b_edge = WBOTTOM(looprw) + 1;
+                            resist = WIN_RESISTANCE(wPreferences.edge_resistance);
+                            break;
+                        }
+                    }
+                }
+            }
+
+            if ((data->topIndex >= 0) && (data->topIndex <= data->count)) {
+                WWindow *looprw;
+
+                for (i = data->topIndex - 1; i >= 0; i--) {
+                    looprw = data->topList[i];
+                    if (!(data->realX > WRIGHT(looprw)
+                          || (data->realX + data->winWidth) < WLEFT(looprw))) {
+                        if (attract
+                            || (((data->realY + data->winHeight) > (WTOP(looprw) - 1)) && dy > 0)) {
+                            edge_b = WTOP(looprw);
+                            resist = WIN_RESISTANCE(wPreferences.edge_resistance);
+                        }
+                        break;
+                    }
+                }
+
+                if (attract)
+                    for (i = data->topIndex; i < data->count; i++) {
+                        looprw = data->topList[i];
+                        if(!(data->realX > WRIGHT(looprw)
+                             || (data->realX + data->winWidth) < WLEFT(looprw))) {
+                            edge_t = WTOP(looprw);
+                            resist = WIN_RESISTANCE(wPreferences.edge_resistance);
+                            break;
+                        }
+                    }
+            }
+
+            if ((winT - t_edge) < (b_edge - winT)) {
+                if (resist > 0) {
+                    if ((attract && winT <= t_edge + resist && winT >= t_edge - resist)
+                        || (dy < 0 && winT <= t_edge && winT >= t_edge - resist)) {
+                        newY = t_edge;
+                        vresist = True;
+                    }
+                }
+            }
+            else {
+                if (resist > 0 && attract && winT >= b_edge - resist && winT <= b_edge + resist) {
+                    newY = b_edge;
+                    vresist = True;
+                }
+            }
+
+            if ((winB - edge_t) < (edge_b - winB)) {
+                if (resist > 0 && attract && winB <= edge_t + resist && winB >= edge_t - resist) {
+                    newY = edge_t - data->winHeight;
+                    vresist = True;
+                }
+            }
+            else {
+                if (resist > 0) {
+                    if ((attract && winB >= edge_b - resist && winB <= edge_b + resist)
+                        || (dy > 0 && winB >= edge_b && winB <= edge_b + resist)) {
+                        newY = edge_b - data->winHeight;
+                        vresist = True;
+                    }
+                }
+            }
+        }
+        /* END VeRT */
+
     }
-    
+
     /* update window position */
     data->calcX += dx;
     data->calcY += dy;
-    
+
     if (((dx > 0 && data->calcX - data->realX > 0)
-	 || (dx < 0 && data->calcX - data->realX < 0)) && !hresist)
-	newX = data->calcX;
-    
+         || (dx < 0 && data->calcX - data->realX < 0)) && !hresist)
+        newX = data->calcX;
+
     if (((dy > 0 && data->calcY - data->realY > 0)
-	 || (dy < 0 && data->calcY - data->realY < 0)) && !vresist)
-	newY = data->calcY;
-    
+         || (dy < 0 && data->calcY - data->realY < 0)) && !vresist)
+        newY = data->calcY;
+
     if (data->realX != newX || data->realY != newY) {
-	
-	if (wPreferences.move_display == WDIS_NEW
-	    && !scr->selected_windows) {
-	    showPosition(wwin, data->realX, data->realY);
-	}
-	if (opaqueMove) {
-	    doWindowMove(wwin, scr->selected_windows,
-			 newX - wwin->frame_x,
-			 newY - wwin->frame_y);
-	} else {
-	    /* erase frames */
-	    drawFrames(wwin, scr->selected_windows, 
-		       data->realX - wwin->frame_x,
-		       data->realY - wwin->frame_y);
-	}
-	
-	if (!scr->selected_windows
-	    && wPreferences.move_display == WDIS_FRAME_CENTER) {
-	    
-	    moveGeometryDisplayCentered(scr, newX + data->winWidth/2, 
-					newY + data->winHeight/2);
-	}
-	
-	if (!opaqueMove) {
-	    /* draw frames */
-	    drawFrames(wwin, scr->selected_windows, 
-		       newX - wwin->frame_x,
-		       newY - wwin->frame_y);
-	}
-	
-	if (!scr->selected_windows) {
-	    showPosition(wwin, newX, newY);
-	}
+
+        if (wPreferences.move_display == WDIS_NEW
+            && !scr->selected_windows) {
+            showPosition(wwin, data->realX, data->realY);
+        }
+        if (opaqueMove) {
+            doWindowMove(wwin, scr->selected_windows,
+                         newX - wwin->frame_x,
+                         newY - wwin->frame_y);
+        } else {
+            /* erase frames */
+            drawFrames(wwin, scr->selected_windows,
+                       data->realX - wwin->frame_x,
+                       data->realY - wwin->frame_y);
+        }
+
+        if (!scr->selected_windows
+            && wPreferences.move_display == WDIS_FRAME_CENTER) {
+
+            moveGeometryDisplayCentered(scr, newX + data->winWidth/2,
+                                        newY + data->winHeight/2);
+        }
+
+        if (!opaqueMove) {
+            /* draw frames */
+            drawFrames(wwin, scr->selected_windows,
+                       newX - wwin->frame_x,
+                       newY - wwin->frame_y);
+        }
+
+        if (!scr->selected_windows) {
+            showPosition(wwin, newX, newY);
+        }
     }
-    
-    
+
+
     /* recalc relative window position */
     if (doResistance && (data->realX != newX || data->realY != newY)) {
-	updateResistance(wwin, data, newX, newY);
+        updateResistance(wwin, data, newX, newY);
     }
 
     data->realX = newX;
@@ -1247,8 +1351,8 @@
     }
     XGrabServer(dpy);
     XGrabPointer(dpy, scr->root_win, True, PointerMotionMask
-		 |ButtonReleaseMask|ButtonPressMask, GrabModeAsync,
-		 GrabModeAsync, None, wCursor[WCUR_DEFAULT], CurrentTime);
+                 |ButtonReleaseMask|ButtonPressMask, GrabModeAsync,
+                 GrabModeAsync, None, wCursor[WCUR_DEFAULT], CurrentTime);
 
     if (wwin->flags.shaded || scr->selected_windows) {
         if(scr->selected_windows)
@@ -1257,18 +1361,18 @@
         if(!scr->selected_windows)
             mapPositionDisplay(wwin, src_x, src_y, w, h);
     } else {
-    	drawTransparentFrame(wwin, src_x+off_x, src_y+off_y, w, h);
+        drawTransparentFrame(wwin, src_x+off_x, src_y+off_y, w, h);
     }
     ww=w;
     wh=h;
     while(1) {
         /*
-           looper.ox=off_x;
-           looper.oy=off_y;
+         looper.ox=off_x;
+         looper.oy=off_y;
          */
         do {
-            WMMaskEvent(dpy, KeyPressMask | ButtonReleaseMask 
-                    | ButtonPressMask | ExposureMask, &event);
+            WMMaskEvent(dpy, KeyPressMask | ButtonReleaseMask
+                        | ButtonPressMask | ExposureMask, &event);
             if (event.type == Expose) {
                 WMHandleEvent(&event);
             }
@@ -1292,147 +1396,147 @@
         XSync(dpy, False);
 
         switch (event.type) {
-            case KeyPress:
-                /* accelerate */
-                if (event.xkey.time - lastTime > 50) {
-                    kspeed/=(1 + (event.xkey.time - lastTime)/100);
-                } else {
-                    if (kspeed < 20) {
-                        kspeed++;
-                    }
+        case KeyPress:
+            /* accelerate */
+            if (event.xkey.time - lastTime > 50) {
+                kspeed/=(1 + (event.xkey.time - lastTime)/100);
+            } else {
+                if (kspeed < 20) {
+                    kspeed++;
                 }
-                if (kspeed < _KS) kspeed = _KS;
-                lastTime = event.xkey.time;
+            }
+            if (kspeed < _KS) kspeed = _KS;
+            lastTime = event.xkey.time;
 
-                if (event.xkey.state & ControlMask && !wwin->flags.shaded) {
-                    ctrlmode=1;
-                    wUnselectWindows(scr);
-                }
-                else {
-                    ctrlmode=0;
-                }
-                if (event.xkey.keycode == shiftl || event.xkey.keycode == shiftr) {
-                    if (ctrlmode)
-                        cycleGeometryDisplay(wwin, src_x+off_x, src_y+off_y, ww, wh, 0);
-                    else
-                        cyclePositionDisplay(wwin, src_x+off_x, src_y+off_y, ww, wh);
-                }
-                else {
+            if (event.xkey.state & ControlMask && !wwin->flags.shaded) {
+                ctrlmode=1;
+                wUnselectWindows(scr);
+            }
+            else {
+                ctrlmode=0;
+            }
+            if (event.xkey.keycode == shiftl || event.xkey.keycode == shiftr) {
+                if (ctrlmode)
+                    cycleGeometryDisplay(wwin, src_x+off_x, src_y+off_y, ww, wh, 0);
+                else
+                    cyclePositionDisplay(wwin, src_x+off_x, src_y+off_y, ww, wh);
+            }
+            else {
 
-                    keysym = XLookupKeysym(&event.xkey, 0);
-                    switch (keysym) {
-                        case XK_Return:
-                            done=2;
-                            break;
-                        case XK_Escape:
-                            done=1;
-                            break;
-                        case XK_Up:
+                keysym = XLookupKeysym(&event.xkey, 0);
+                switch (keysym) {
+                case XK_Return:
+                    done=2;
+                    break;
+                case XK_Escape:
+                    done=1;
+                    break;
+                case XK_Up:
 #ifdef XK_KP_Up
-                        case XK_KP_Up:
+                case XK_KP_Up:
 #endif
-                        case XK_k:
-                            if (ctrlmode){
-                                if (moment != UP)
-                                    h = wh;
-                                h-=kspeed;
-                                moment = UP;
-                                if (h < 1) h = 1;
-                            }
-                            else off_y-=kspeed;
-                            break;
-                        case XK_Down:
+                case XK_k:
+                    if (ctrlmode){
+                        if (moment != UP)
+                            h = wh;
+                        h-=kspeed;
+                        moment = UP;
+                        if (h < 1) h = 1;
+                    }
+                    else off_y-=kspeed;
+                    break;
+                case XK_Down:
 #ifdef XK_KP_Down
-                        case XK_KP_Down:
+                case XK_KP_Down:
 #endif
-                        case XK_j:
-                            if (ctrlmode){
-                                if (moment != DOWN)
-                                    h = wh;
-                                h+=kspeed;
-                                moment = DOWN;
-                            }
-                            else off_y+=kspeed;
-                            break;
-                        case XK_Left:
+                case XK_j:
+                    if (ctrlmode){
+                        if (moment != DOWN)
+                            h = wh;
+                        h+=kspeed;
+                        moment = DOWN;
+                    }
+                    else off_y+=kspeed;
+                    break;
+                case XK_Left:
 #ifdef XK_KP_Left
-                        case XK_KP_Left:
+                case XK_KP_Left:
 #endif
-                        case XK_h:
-                            if (ctrlmode) {
-                                if (moment != LEFT)
-                                    w = ww;
-                                w-=kspeed;
-                                if (w < 1) w = 1;
-                                moment = LEFT;
-                            }
-                            else off_x-=kspeed;
-                            break;
-                        case XK_Right:
+                case XK_h:
+                    if (ctrlmode) {
+                        if (moment != LEFT)
+                            w = ww;
+                        w-=kspeed;
+                        if (w < 1) w = 1;
+                        moment = LEFT;
+                    }
+                    else off_x-=kspeed;
+                    break;
+                case XK_Right:
 #ifdef XK_KP_Right
-                        case XK_KP_Right:
+                case XK_KP_Right:
 #endif
-                        case XK_l:
-                            if (ctrlmode) {
-                                if (moment != RIGHT)
-                                    w = ww;
-                                w+=kspeed;
-                                moment = RIGHT;
-                            }
-                            else off_x+=kspeed;
-                            break;
+                case XK_l:
+                    if (ctrlmode) {
+                        if (moment != RIGHT)
+                            w = ww;
+                        w+=kspeed;
+                        moment = RIGHT;
                     }
+                    else off_x+=kspeed;
+                    break;
+                }
 
-                    ww=w;wh=h;
-                    wh-=vert_border;
-                    wWindowConstrainSize(wwin, &ww, &wh);
-                    wh+=vert_border;
-
-                    if (wPreferences.ws_cycle){
-                        if (src_x + off_x + ww < 20){
-                            if(!scr->current_workspace) {
-                                wWorkspaceChange(scr, scr->workspace_count-1);
-                            }
-                            else wWorkspaceChange(scr, scr->current_workspace-1);
-                            off_x += scr_width;
-                        }
-                        else if (src_x + off_x + 20 > scr_width){
-                            if(scr->current_workspace == scr->workspace_count-1) {
-                                wWorkspaceChange(scr, 0);
-                            }
-                            else wWorkspaceChange(scr, scr->current_workspace+1);
-                            off_x -= scr_width;
+                ww=w;wh=h;
+                wh-=vert_border;
+                wWindowConstrainSize(wwin, &ww, &wh);
+                wh+=vert_border;
+
+                if (wPreferences.ws_cycle){
+                    if (src_x + off_x + ww < 20){
+                        if(!scr->current_workspace) {
+                            wWorkspaceChange(scr, scr->workspace_count-1);
                         }
+                        else wWorkspaceChange(scr, scr->current_workspace-1);
+                        off_x += scr_width;
                     }
-                    else {
-                        if (src_x + off_x + ww < 20)
-                            off_x = 20 - ww - src_x;
-                        else if (src_x + off_x + 20 > scr_width)
-                            off_x = scr_width - 20 - src_x;
-                    }
-
-                    if (src_y + off_y + wh < 20) {
-                        off_y = 20 - wh - src_y;
-                    }
-                    else if (src_y + off_y + 20 > scr_height) {
-                        off_y = scr_height - 20 - src_y;
+                    else if (src_x + off_x + 20 > scr_width){
+                        if(scr->current_workspace == scr->workspace_count-1) {
+                            wWorkspaceChange(scr, 0);
+                        }
+                        else wWorkspaceChange(scr, scr->current_workspace+1);
+                        off_x -= scr_width;
                     }
                 }
-                break;
-            case ButtonPress:
-            case ButtonRelease:
-                done=1;
-                break;
-            case Expose:
-                WMHandleEvent(&event);
-                while (XCheckTypedEvent(dpy, Expose, &event)) {
-                    WMHandleEvent(&event);
+                else {
+                    if (src_x + off_x + ww < 20)
+                        off_x = 20 - ww - src_x;
+                    else if (src_x + off_x + 20 > scr_width)
+                        off_x = scr_width - 20 - src_x;
                 }
-                break;
 
-            default:
+                if (src_y + off_y + wh < 20) {
+                    off_y = 20 - wh - src_y;
+                }
+                else if (src_y + off_y + 20 > scr_height) {
+                    off_y = scr_height - 20 - src_y;
+                }
+            }
+            break;
+        case ButtonPress:
+        case ButtonRelease:
+            done=1;
+            break;
+        case Expose:
+            WMHandleEvent(&event);
+            while (XCheckTypedEvent(dpy, Expose, &event)) {
                 WMHandleEvent(&event);
-                break;
+            }
+            break;
+
+        default:
+            WMHandleEvent(&event);
+            break;
         }
 
         XGrabServer(dpy);
@@ -1453,7 +1557,7 @@
         if (wwin->flags.shaded || scr->selected_windows) {
             if (scr->selected_windows)
                 drawFrames(wwin,scr->selected_windows,off_x,off_y);
-            else 
+            else
                 drawTransparentFrame(wwin, src_x+off_x, src_y+off_y, w, h);
         } else {
             drawTransparentFrame(wwin, src_x+off_x, src_y+off_y, ww, wh);
@@ -1469,7 +1573,7 @@
         if (done) {
             scr->keymove_tick=0;
             /*
-               WMDeleteTimerWithClientData(&looper);
+             WMDeleteTimerWithClientData(&looper);
              */
             if (wwin->flags.shaded || scr->selected_windows) {
                 if(scr->selected_windows)
@@ -1512,8 +1616,8 @@
                     if (wwin->client.height != wh - vert_border)
                         wwin->flags.user_changed_height = 1;
 
-                    wWindowConfigure(wwin, src_x+off_x, src_y+off_y, 
-                            ww, wh - vert_border);
+                    wWindowConfigure(wwin, src_x+off_x, src_y+off_y,
+                                     ww, wh - vert_border);
                     wWindowSynthConfigureNotify(wwin);
                 }
                 wWindowChangeWorkspace(wwin, scr->current_workspace);
@@ -1526,7 +1630,7 @@
 
 
 /*
- *---------------------------------------------------------------------- 
+ *----------------------------------------------------------------------
  * wMouseMoveWindow--
  * 	Move the named window and the other selected ones (if any),
  * interactively. Also shows the position of the window, if only one
@@ -1535,15 +1639,15 @@
  * windows are deselected.
  * 	If shift is pressed during the operation, the position display
  * is changed to another type.
- * 
+ *
  * Returns:
  * 	True if the window was moved, False otherwise.
- * 
+ *
  * Side effects:
- * 	The window(s) position is changed, and the client(s) are 
+ * 	The window(s) position is changed, and the client(s) are
  * notified about that.
  * 	The position display configuration may be changed.
- *---------------------------------------------------------------------- 
+ *----------------------------------------------------------------------
  */
 int
 wMouseMoveWindow(WWindow *wwin, XEvent *ev)
@@ -1560,17 +1664,17 @@
     MoveData moveData;
 #ifdef GHOST_WINDOW_MOVE
     RImage *rimg;
-    
+
     rimg = InitGhostWindowMove(scr);
 #endif
 
 
     if (wPreferences.opaque_move && !wPreferences.use_saveunders) {
-	XSetWindowAttributes attr;
+        XSetWindowAttributes attr;
 
-	attr.save_under = True;
-	XChangeWindowAttributes(dpy, wwin->frame->core->window,
-				CWSaveUnder, &attr);
+        attr.save_under = True;
+        XChangeWindowAttributes(dpy, wwin->frame->core->window,
+                                CWSaveUnder, &attr);
     }
 
 
@@ -1580,8 +1684,8 @@
     moveData.mouseY = ev->xmotion.y_root;
 
     if (!wwin->flags.selected) {
-	/* this window is not selected, unselect others and move only wwin */
-	wUnselectWindows(scr);
+        /* this window is not selected, unselect others and move only wwin */
+        wUnselectWindows(scr);
     }
 #ifdef DEBUG
     puts("Moving window");
@@ -1589,214 +1693,214 @@
     shiftl = XKeysymToKeycode(dpy, XK_Shift_L);
     shiftr = XKeysymToKeycode(dpy, XK_Shift_R);
     while (!done) {
-	if (warped) {
+        if (warped) {
             int junk;
             Window junkw;
 
-	    /* XWarpPointer() doesn't seem to generate Motion events, so
-	     we've got to simulate them */
-	    XQueryPointer(dpy, root, &junkw, &junkw, &event.xmotion.x_root,
-			  &event.xmotion.y_root, &junk, &junk,
-			  (unsigned *) &junk);
-	} else {
-	    WMMaskEvent(dpy, KeyPressMask | ButtonMotionMask
-			| PointerMotionHintMask
-			| ButtonReleaseMask | ButtonPressMask | ExposureMask,
-			&event);
-	    
-	    if (event.type == MotionNotify) {
-		/* compress MotionNotify events */
-		while (XCheckMaskEvent(dpy, ButtonMotionMask, &event)) ;
-		if (!checkMouseSamplingRate(&event))
-		    continue;
-	    }
-	}
-	switch (event.type) {
-	 case KeyPress:
-	    if ((event.xkey.keycode == shiftl || event.xkey.keycode == shiftr)
-		&& started && !scr->selected_windows) {
+            /* XWarpPointer() doesn't seem to generate Motion events, so
+             * we've got to simulate them */
+            XQueryPointer(dpy, root, &junkw, &junkw, &event.xmotion.x_root,
+                          &event.xmotion.y_root, &junk, &junk,
+                          (unsigned *) &junk);
+        } else {
+            WMMaskEvent(dpy, KeyPressMask | ButtonMotionMask
+                        | PointerMotionHintMask
+                        | ButtonReleaseMask | ButtonPressMask | ExposureMask,
+                        &event);
+
+            if (event.type == MotionNotify) {
+                /* compress MotionNotify events */
+                while (XCheckMaskEvent(dpy, ButtonMotionMask, &event)) ;
+                if (!checkMouseSamplingRate(&event))
+                    continue;
+            }
+        }
+        switch (event.type) {
+        case KeyPress:
+            if ((event.xkey.keycode == shiftl || event.xkey.keycode == shiftr)
+                && started && !scr->selected_windows) {
+
+                if (!opaqueMove) {
+                    drawFrames(wwin, scr->selected_windows,
+                               moveData.realX - wwin->frame_x,
+                               moveData.realY - wwin->frame_y);
+                }
+
+                if (wPreferences.move_display == WDIS_NEW
+                    && !scr->selected_windows) {
+                    showPosition(wwin, moveData.realX, moveData.realY);
+                    XUngrabServer(dpy);
+                }
+                cyclePositionDisplay(wwin, moveData.realX, moveData.realY,
+                                     moveData.winWidth, moveData.winHeight);
+
+                if (wPreferences.move_display == WDIS_NEW
+                    && !scr->selected_windows) {
+                    XGrabServer(dpy);
+                    showPosition(wwin, moveData.realX, moveData.realY);
+                }
 
-		if (!opaqueMove) {
+                if (!opaqueMove) {
                     drawFrames(wwin, scr->selected_windows,
                                moveData.realX - wwin->frame_x,
-			       moveData.realY - wwin->frame_y);
-		}
+                               moveData.realY - wwin->frame_y);
+                }
+                /*} else {
+                 WMHandleEvent(&event); this causes problems needs fixing */
+            }
+            break;
+
+        case MotionNotify:
+            if (started) {
+                updateWindowPosition(wwin, &moveData,
+                                     scr->selected_windows == NULL
+                                     && wPreferences.edge_resistance > 0,
+                                     opaqueMove,
+                                     event.xmotion.x_root,
+                                     event.xmotion.y_root);
+
+                if (!warped && !wPreferences.no_autowrap) {
+                    int oldWorkspace = scr->current_workspace;
+
+                    if (wPreferences.move_display == WDIS_NEW
+                        && !scr->selected_windows) {
+                        showPosition(wwin, moveData.realX, moveData.realY);
+                        XUngrabServer(dpy);
+                    }
+                    if (!opaqueMove) {
+                        drawFrames(wwin, scr->selected_windows,
+                                   moveData.realX - wwin->frame_x,
+                                   moveData.realY - wwin->frame_y);
+                    }
+                    if (checkWorkspaceChange(wwin, &moveData, opaqueMove)) {
+                        if (scr->current_workspace != oldWorkspace
+                            && wPreferences.edge_resistance > 0
+                            && scr->selected_windows == NULL)
+                            updateMoveData(wwin, &moveData);
+                        warped = 1;
+                    }
+                    if (!opaqueMove) {
+                        drawFrames(wwin, scr->selected_windows,
+                                   moveData.realX - wwin->frame_x,
+                                   moveData.realY - wwin->frame_y);
+                    }
+                    if (wPreferences.move_display == WDIS_NEW
+                        && !scr->selected_windows) {
+                        XSync(dpy, False);
+                        showPosition(wwin, moveData.realX, moveData.realY);
+                        XGrabServer(dpy);
+                    }
+                } else {
+                    warped = 0;
+                }
+            } else if (abs(ev->xmotion.x_root - event.xmotion.x_root) >= MOVE_THRESHOLD
+                       || abs(ev->xmotion.y_root - event.xmotion.y_root) >= MOVE_THRESHOLD) {
+
+                XChangeActivePointerGrab(dpy, ButtonMotionMask
+                                         | ButtonReleaseMask | ButtonPressMask,
+                                         wCursor[WCUR_MOVE], CurrentTime);
+                started = 1;
+                XGrabKeyboard(dpy, root, False, GrabModeAsync, GrabModeAsync,
+                              CurrentTime);
+
+                if (!scr->selected_windows)
+                    mapPositionDisplay(wwin, moveData.realX, moveData.realY,
+                                       moveData.winWidth, moveData.winHeight);
+
+                if (started && !opaqueMove)
+                    drawFrames(wwin, scr->selected_windows, 0, 0);
+
+                if (!opaqueMove || (wPreferences.move_display==WDIS_NEW
+                                    && !scr->selected_windows)) {
+                    XGrabServer(dpy);
+                    if (wPreferences.move_display==WDIS_NEW)
+                        showPosition(wwin, moveData.realX, moveData.realY);
+                }
+            }
+            break;
+
+        case ButtonPress:
+            break;
 
-		if (wPreferences.move_display == WDIS_NEW
-		    && !scr->selected_windows) {
-		    showPosition(wwin, moveData.realX, moveData.realY);
-		    XUngrabServer(dpy);
-		}
-		cyclePositionDisplay(wwin, moveData.realX, moveData.realY,
-				     moveData.winWidth, moveData.winHeight);
-
-		if (wPreferences.move_display == WDIS_NEW
-		    && !scr->selected_windows) {
-		    XGrabServer(dpy);
-		    showPosition(wwin, moveData.realX, moveData.realY);
-		}
+        case ButtonRelease:
+            if (event.xbutton.button != ev->xbutton.button)
+                break;
 
-		if (!opaqueMove) {
+            if (started) {
+                XEvent e;
+                if (!opaqueMove) {
                     drawFrames(wwin, scr->selected_windows,
                                moveData.realX - wwin->frame_x,
-			       moveData.realY - wwin->frame_y);
-		}
-	    /*} else {
-		WMHandleEvent(&event); this causes problems needs fixing */
-	    }
-	    break;
-
-	 case MotionNotify:
-	    if (started) {
-		updateWindowPosition(wwin, &moveData,
-				     scr->selected_windows == NULL
-				     && wPreferences.edge_resistance > 0,
-				     opaqueMove, 
-				     event.xmotion.x_root,
-				     event.xmotion.y_root);
-
-		if (!warped && !wPreferences.no_autowrap) {
-		    int oldWorkspace = scr->current_workspace;
-
-		    if (wPreferences.move_display == WDIS_NEW
-			&& !scr->selected_windows) {
-			showPosition(wwin, moveData.realX, moveData.realY);
-			XUngrabServer(dpy);
-		    }
-		    if (!opaqueMove) {
-			drawFrames(wwin, scr->selected_windows, 
-				   moveData.realX - wwin->frame_x,
-				   moveData.realY - wwin->frame_y);
-		    }
-		    if (checkWorkspaceChange(wwin, &moveData, opaqueMove)) {
-			if (scr->current_workspace != oldWorkspace
-			    && wPreferences.edge_resistance > 0
-			    && scr->selected_windows == NULL)
-			    updateMoveData(wwin, &moveData);
-			warped = 1;
-		    }
-		    if (!opaqueMove) {
-			drawFrames(wwin, scr->selected_windows, 
-				   moveData.realX - wwin->frame_x,
-				   moveData.realY - wwin->frame_y);
-		    }
-		    if (wPreferences.move_display == WDIS_NEW
-			&& !scr->selected_windows) {
-			XSync(dpy, False);
-			showPosition(wwin, moveData.realX, moveData.realY);
-			XGrabServer(dpy);
-		    }
-		} else {
-		    warped = 0;
-		}
-	    } else if (abs(ev->xmotion.x_root - event.xmotion.x_root) >= MOVE_THRESHOLD
-		       || abs(ev->xmotion.y_root - event.xmotion.y_root) >= MOVE_THRESHOLD) {
-
-		XChangeActivePointerGrab(dpy, ButtonMotionMask
-					 | ButtonReleaseMask | ButtonPressMask,
-					 wCursor[WCUR_MOVE], CurrentTime);
-		started = 1;
-		XGrabKeyboard(dpy, root, False, GrabModeAsync, GrabModeAsync,
-			      CurrentTime);
-
-		if (!scr->selected_windows)
-		    mapPositionDisplay(wwin, moveData.realX, moveData.realY,
-				       moveData.winWidth, moveData.winHeight);
-
-		if (started && !opaqueMove)
-		    drawFrames(wwin, scr->selected_windows, 0, 0);
-
-		if (!opaqueMove || (wPreferences.move_display==WDIS_NEW
-				    && !scr->selected_windows)) {
-		    XGrabServer(dpy);
-		    if (wPreferences.move_display==WDIS_NEW)
-			showPosition(wwin, moveData.realX, moveData.realY);
-		}
-	    }
-	    break;
-
-	 case ButtonPress:
-	    break;
-	    
-	 case ButtonRelease:
-	    if (event.xbutton.button != ev->xbutton.button)
-		break;
-
-	    if (started) {
-		XEvent e;
-		if (!opaqueMove) {
-		    drawFrames(wwin, scr->selected_windows,
-			       moveData.realX - wwin->frame_x,
-			       moveData.realY - wwin->frame_y);
-		    XSync(dpy, 0);
-		    doWindowMove(wwin, scr->selected_windows,
-				 moveData.realX - wwin->frame_x,
-				 moveData.realY - wwin->frame_y);
-		}
+                               moveData.realY - wwin->frame_y);
+                    XSync(dpy, 0);
+                    doWindowMove(wwin, scr->selected_windows,
+                                 moveData.realX - wwin->frame_x,
+                                 moveData.realY - wwin->frame_y);
+                }
 #ifndef CONFIGURE_WINDOW_WHILE_MOVING
-		wWindowSynthConfigureNotify(wwin);
+                wWindowSynthConfigureNotify(wwin);
 #endif
-		XUngrabKeyboard(dpy, CurrentTime);
-		XUngrabServer(dpy);
-		if (!opaqueMove) {
-		    wWindowChangeWorkspace(wwin, scr->current_workspace);
-		    wSetFocusTo(scr, wwin);
-		}
-		if (wPreferences.move_display == WDIS_NEW)
-		    showPosition(wwin, moveData.realX, moveData.realY);
-		
-		/* discard all enter/leave events that happened until
-		 * the time the button was released */
-		while (XCheckTypedEvent(dpy, EnterNotify, &e)) {
-		    if (e.xcrossing.time > event.xbutton.time) {
-			XPutBackEvent(dpy, &e);
-			break;
-		    } 
-		}
-		while (XCheckTypedEvent(dpy, LeaveNotify, &e)) {
-		    if (e.xcrossing.time > event.xbutton.time) {
-			XPutBackEvent(dpy, &e);
-			break;
-		    }
-		}
-
-		if (!scr->selected_windows) {
-		    /* get rid of the geometry window */
-		    WMUnmapWidget(scr->gview);
-		}
-	    }
+                XUngrabKeyboard(dpy, CurrentTime);
+                XUngrabServer(dpy);
+                if (!opaqueMove) {
+                    wWindowChangeWorkspace(wwin, scr->current_workspace);
+                    wSetFocusTo(scr, wwin);
+                }
+                if (wPreferences.move_display == WDIS_NEW)
+                    showPosition(wwin, moveData.realX, moveData.realY);
+
+                /* discard all enter/leave events that happened until
+                 * the time the button was released */
+                while (XCheckTypedEvent(dpy, EnterNotify, &e)) {
+                    if (e.xcrossing.time > event.xbutton.time) {
+                        XPutBackEvent(dpy, &e);
+                        break;
+                    }
+                }
+                while (XCheckTypedEvent(dpy, LeaveNotify, &e)) {
+                    if (e.xcrossing.time > event.xbutton.time) {
+                        XPutBackEvent(dpy, &e);
+                        break;
+                    }
+                }
+
+                if (!scr->selected_windows) {
+                    /* get rid of the geometry window */
+                    WMUnmapWidget(scr->gview);
+                }
+            }
 #ifdef DEBUG
-	    puts("End move window");
+            puts("End move window");
 #endif
-	    done = True;
-	    break;
+            done = True;
+            break;
 
-	 default:
-	    if (started && !opaqueMove) {
-		drawFrames(wwin, scr->selected_windows, 
-			   moveData.realX - wwin->frame_x, 
-			   moveData.realY - wwin->frame_y);
-		XUngrabServer(dpy);
-		WMHandleEvent(&event);
-		XSync(dpy, False);
-		XGrabServer(dpy);
-		drawFrames(wwin, scr->selected_windows,
-			   moveData.realX - wwin->frame_x,
-			   moveData.realY - wwin->frame_y);
-	    } else {
-		WMHandleEvent(&event);
-	    }
-	    break;
-	}
+        default:
+            if (started && !opaqueMove) {
+                drawFrames(wwin, scr->selected_windows,
+                           moveData.realX - wwin->frame_x,
+                           moveData.realY - wwin->frame_y);
+                XUngrabServer(dpy);
+                WMHandleEvent(&event);
+                XSync(dpy, False);
+                XGrabServer(dpy);
+                drawFrames(wwin, scr->selected_windows,
+                           moveData.realX - wwin->frame_x,
+                           moveData.realY - wwin->frame_y);
+            } else {
+                WMHandleEvent(&event);
+            }
+            break;
+        }
     }
 
     if (wPreferences.opaque_move && !wPreferences.use_saveunders) {
-	XSetWindowAttributes attr;
+        XSetWindowAttributes attr;
 
 
-	attr.save_under = False;
-	XChangeWindowAttributes(dpy, wwin->frame->core->window,
-				CWSaveUnder, &attr);
+        attr.save_under = False;
+        XChangeWindowAttributes(dpy, wwin->frame->core->window,
+                                CWSaveUnder, &attr);
 
     }
 
@@ -1810,51 +1914,51 @@
 #define HCONSTRAIN	2
 
 static int
-getResizeDirection(WWindow *wwin, int x, int y, int dx, int dy, 
-		   int flags)
+getResizeDirection(WWindow *wwin, int x, int y, int dx, int dy,
+                   int flags)
 {
     int w = wwin->frame->core->width - 1;
     int cw = wwin->frame->resizebar_corner_width;
     int dir;
-    
+
     /* if not resizing through the resizebar */
     if (!(flags & RESIZEBAR)) {
-	int xdir = (abs(x) < (wwin->client.width/2)) ? LEFT : RIGHT;
-	int ydir = (abs(y) < (wwin->client.height/2)) ? UP : DOWN;
-	if (abs(dx) < 2 || abs(dy) < 2) {
-	    if (abs(dy) > abs(dx))
-		xdir = 0;
-	    else
-		ydir = 0;
-	}
-	return (xdir | ydir);
+        int xdir = (abs(x) < (wwin->client.width/2)) ? LEFT : RIGHT;
+        int ydir = (abs(y) < (wwin->client.height/2)) ? UP : DOWN;
+        if (abs(dx) < 2 || abs(dy) < 2) {
+            if (abs(dy) > abs(dx))
+                xdir = 0;
+            else
+                ydir = 0;
+        }
+        return (xdir | ydir);
     }
-    
+
     /* window is too narrow. allow diagonal resize */
     if (cw * 2 >= w) {
-	int ydir;
+        int ydir;
 
-	if (flags & HCONSTRAIN)
-	    ydir = 0;
-	else
-	    ydir = DOWN;
-	if (x < cw)
-	    return (LEFT | ydir);
-	else
-	    return (RIGHT | ydir);
+        if (flags & HCONSTRAIN)
+            ydir = 0;
+        else
+            ydir = DOWN;
+        if (x < cw)
+            return (LEFT | ydir);
+        else
+            return (RIGHT | ydir);
     }
     /* vertical resize */
     if ((x > cw) && (x < w - cw))
-	return DOWN;
-    
+        return DOWN;
+
     if (x < cw)
-	dir = LEFT;
-    else 
-	dir = RIGHT;
-    
+        dir = LEFT;
+    else
+        dir = RIGHT;
+
     if ((abs(dy) > 0) && !(flags & HCONSTRAIN))
-	dir |= DOWN;
-    
+        dir |= DOWN;
+
     return dir;
 }
 
@@ -1871,7 +1975,7 @@
     int fx = wwin->frame_x;
     int fy = wwin->frame_y;
     int is_resizebar = (wwin->frame->resizebar
-			&& ev->xany.window==wwin->frame->resizebar->window);
+                        && ev->xany.window==wwin->frame->resizebar->window);
     int orig_x, orig_y;
     int started;
     int dw, dh;
@@ -1884,19 +1988,19 @@
     int orig_fy = fy;
     int orig_fw = fw;
     int orig_fh = fh;
-    
+
     if (wwin->flags.shaded) {
-	wwarning("internal error: tryein");
-	return;
+        wwarning("internal error: tryein");
+        return;
     }
     orig_x = ev->xbutton.x_root;
     orig_y = ev->xbutton.y_root;
-    
+
     started = 0;
 #ifdef DEBUG
     puts("Resizing window");
 #endif
-    
+
     wUnselectWindows(scr);
     rx1 = fx;
     rx2 = fx + fw - 1;
@@ -1905,185 +2009,185 @@
     shiftl = XKeysymToKeycode(dpy, XK_Shift_L);
     shiftr = XKeysymToKeycode(dpy, XK_Shift_R);
     if (!WFLAGP(wwin, no_titlebar))
-    	h = WMFontHeight(wwin->screen_ptr->title_font) + (wPreferences.window_title_clearance + TITLEBAR_EXTEND_SPACE) * 2;
+        h = WMFontHeight(wwin->screen_ptr->title_font) + (wPreferences.window_title_clearance + TITLEBAR_EXTEND_SPACE) * 2;
     else
-	h = 0;
+        h = 0;
     while (1) {
-	WMMaskEvent(dpy, KeyPressMask | ButtonMotionMask 
-		   | ButtonReleaseMask | PointerMotionHintMask
-		   | ButtonPressMask | ExposureMask, &event);
-	if (!checkMouseSamplingRate(&event))
-	    continue;
-
-	switch (event.type) {
-	 case KeyPress:
-	    showGeometry(wwin, fx, fy, fx + fw, fy + fh, res);
-	    if ((event.xkey.keycode == shiftl || event.xkey.keycode == shiftr)
-		&& started) {
-		drawTransparentFrame(wwin, fx, fy, fw, fh);
-		cycleGeometryDisplay(wwin, fx, fy, fw, fh, res);
-		drawTransparentFrame(wwin, fx, fy, fw, fh);
-	    }
-	    showGeometry(wwin, fx, fy, fx + fw, fy + fh, res);
-	    break;
-	    
-	 case MotionNotify:
-	    if (started) {
-		while (XCheckMaskEvent(dpy, ButtonMotionMask, &event)) ;
-		
-		dw = 0;
-		dh = 0;
-		
-		orig_fx = fx;
-		orig_fy = fy;
-		orig_fw = fw;
-		orig_fh = fh;
-		
-		if (res & LEFT)
-		    dw = orig_x - event.xmotion.x_root;
-		else if (res & RIGHT)
-		    dw = event.xmotion.x_root - orig_x;
-		if (res & UP)
-		    dh = orig_y - event.xmotion.y_root;
-		else if (res & DOWN)
-		    dh = event.xmotion.y_root - orig_y;
-		
-		orig_x = event.xmotion.x_root;
-		orig_y = event.xmotion.y_root;
-		
-		rw += dw;
-		rh += dh;
-		fw = rw;
-		fh = rh - vert_border;
-		wWindowConstrainSize(wwin, &fw, &fh);
-		fh += vert_border;
-		if (res & LEFT)
-		    fx = rx2 - fw + 1;
-		else if (res & RIGHT)
-		    fx = rx1;
-		if (res & UP)
-		    fy = ry2 - fh + 1;
-		else if (res & DOWN)
-		    fy = ry1;
-	    } else if (abs(orig_x - event.xmotion.x_root) >= MOVE_THRESHOLD
-		       || abs(orig_y - event.xmotion.y_root) >= MOVE_THRESHOLD) {
-		int tx, ty;
-		Window junkw;
-		int flags;
-		
-		XTranslateCoordinates(dpy, root, wwin->frame->core->window,
-				      orig_x, orig_y, &tx, &ty, &junkw);
-		
-		/* check if resizing through resizebar */
-		if (is_resizebar)
-		    flags = RESIZEBAR;
-		else
-		    flags = 0;
-
-		if (is_resizebar && ((ev->xbutton.state & ShiftMask)
-		    || abs(orig_y - event.xmotion.y_root) < HRESIZE_THRESHOLD))
-		    flags |= HCONSTRAIN;
-
-		res = getResizeDirection(wwin, tx, ty,
-					 orig_x - event.xmotion.x_root,
-					 orig_y - event.xmotion.y_root, flags);
-
-        if (res == (UP|LEFT))
-            XChangeActivePointerGrab(dpy, ButtonMotionMask
-                    | ButtonReleaseMask | ButtonPressMask,
-                    wCursor[WCUR_TOPLEFTRESIZE], CurrentTime);
-        else if (res == (UP|RIGHT))
-            XChangeActivePointerGrab(dpy, ButtonMotionMask
-                    | ButtonReleaseMask | ButtonPressMask,
-                    wCursor[WCUR_TOPRIGHTRESIZE], CurrentTime);
-        else if (res == (DOWN|LEFT))
-            XChangeActivePointerGrab(dpy, ButtonMotionMask
-                    | ButtonReleaseMask | ButtonPressMask,
-                    wCursor[WCUR_BOTTOMLEFTRESIZE], CurrentTime);
-        else if (res == (DOWN|RIGHT))
-            XChangeActivePointerGrab(dpy, ButtonMotionMask
-                    | ButtonReleaseMask | ButtonPressMask,
-                    wCursor[WCUR_BOTTOMRIGHTRESIZE], CurrentTime);
-        else if (res == DOWN || res == UP)
-            XChangeActivePointerGrab(dpy, ButtonMotionMask
-                    | ButtonReleaseMask | ButtonPressMask,
-                    wCursor[WCUR_VERTICALRESIZE], CurrentTime);
-        else if (res & (DOWN|UP))
-            XChangeActivePointerGrab(dpy, ButtonMotionMask
-                    | ButtonReleaseMask | ButtonPressMask,
-                    wCursor[WCUR_VERTICALRESIZE], CurrentTime);
-        else if (res & (LEFT|RIGHT))
-            XChangeActivePointerGrab(dpy, ButtonMotionMask
-                    | ButtonReleaseMask | ButtonPressMask,
-                    wCursor[WCUR_HORIZONRESIZE], CurrentTime);
-        
-		XGrabKeyboard(dpy, root, False, GrabModeAsync, GrabModeAsync, 
-			      CurrentTime);
-
-		XGrabServer(dpy);
-
-		/* Draw the resize frame for the first time. */
-		mapGeometryDisplay(wwin, fx, fy, fw, fh);
-		
-		drawTransparentFrame(wwin, fx, fy, fw, fh);
-		
-		showGeometry(wwin, fx, fy, fx + fw, fy + fh, res);
-		
-		started = 1;
-	    }
-	    if (started) {
-		if (wPreferences.size_display == WDIS_FRAME_CENTER) {
-		    drawTransparentFrame(wwin, orig_fx, orig_fy,
-					 orig_fw, orig_fh);
-		    moveGeometryDisplayCentered(scr, fx + fw / 2, fy + fh / 2);
-		    drawTransparentFrame(wwin, fx, fy, fw, fh);
-		} else {
-		    drawTransparentFrame(wwin, orig_fx, orig_fy,
-					 orig_fw, orig_fh);
-		    drawTransparentFrame(wwin, fx, fy, fw, fh);
-		}
-		if (fh != orig_fh || fw != orig_fw) {
-		    if (wPreferences.size_display == WDIS_NEW) {
-			showGeometry(wwin, orig_fx, orig_fy, orig_fx + orig_fw, 
-				     orig_fy + orig_fh, res);
-		    }
-		    showGeometry(wwin, fx, fy, fx + fw, fy + fh, res);
-		}
-	    }
-	    break;
-
-	 case ButtonPress:
-	    break;
-
- 	 case ButtonRelease:
-	    if (event.xbutton.button != ev->xbutton.button)
-		break;
-
-	    if (started) {
-		showGeometry(wwin, fx, fy, fx + fw, fy + fh, res);
-
-		drawTransparentFrame(wwin, fx, fy, fw, fh);
-
-		XUngrabKeyboard(dpy, CurrentTime);
-		WMUnmapWidget(scr->gview);
-		XUngrabServer(dpy);
-		
-		if (wwin->client.width != fw)
-		    wwin->flags.user_changed_width = 1;
+        WMMaskEvent(dpy, KeyPressMask | ButtonMotionMask
+                    | ButtonReleaseMask | PointerMotionHintMask
+                    | ButtonPressMask | ExposureMask, &event);
+        if (!checkMouseSamplingRate(&event))
+            continue;
+
+        switch (event.type) {
+        case KeyPress:
+            showGeometry(wwin, fx, fy, fx + fw, fy + fh, res);
+            if ((event.xkey.keycode == shiftl || event.xkey.keycode == shiftr)
+                && started) {
+                drawTransparentFrame(wwin, fx, fy, fw, fh);
+                cycleGeometryDisplay(wwin, fx, fy, fw, fh, res);
+                drawTransparentFrame(wwin, fx, fy, fw, fh);
+            }
+            showGeometry(wwin, fx, fy, fx + fw, fy + fh, res);
+            break;
+
+        case MotionNotify:
+            if (started) {
+                while (XCheckMaskEvent(dpy, ButtonMotionMask, &event)) ;
+
+                dw = 0;
+                dh = 0;
+
+                orig_fx = fx;
+                orig_fy = fy;
+                orig_fw = fw;
+                orig_fh = fh;
+
+                if (res & LEFT)
+                    dw = orig_x - event.xmotion.x_root;
+                else if (res & RIGHT)
+                    dw = event.xmotion.x_root - orig_x;
+                if (res & UP)
+                    dh = orig_y - event.xmotion.y_root;
+                else if (res & DOWN)
+                    dh = event.xmotion.y_root - orig_y;
+
+                orig_x = event.xmotion.x_root;
+                orig_y = event.xmotion.y_root;
+
+                rw += dw;
+                rh += dh;
+                fw = rw;
+                fh = rh - vert_border;
+                wWindowConstrainSize(wwin, &fw, &fh);
+                fh += vert_border;
+                if (res & LEFT)
+                    fx = rx2 - fw + 1;
+                else if (res & RIGHT)
+                    fx = rx1;
+                if (res & UP)
+                    fy = ry2 - fh + 1;
+                else if (res & DOWN)
+                    fy = ry1;
+            } else if (abs(orig_x - event.xmotion.x_root) >= MOVE_THRESHOLD
+                       || abs(orig_y - event.xmotion.y_root) >= MOVE_THRESHOLD) {
+                int tx, ty;
+                Window junkw;
+                int flags;
+
+                XTranslateCoordinates(dpy, root, wwin->frame->core->window,
+                                      orig_x, orig_y, &tx, &ty, &junkw);
+
+                /* check if resizing through resizebar */
+                if (is_resizebar)
+                    flags = RESIZEBAR;
+                else
+                    flags = 0;
+
+                if (is_resizebar && ((ev->xbutton.state & ShiftMask)
+                                     || abs(orig_y - event.xmotion.y_root) < HRESIZE_THRESHOLD))
+                    flags |= HCONSTRAIN;
+
+                res = getResizeDirection(wwin, tx, ty,
+                                         orig_x - event.xmotion.x_root,
+                                         orig_y - event.xmotion.y_root, flags);
+
+                if (res == (UP|LEFT))
+                    XChangeActivePointerGrab(dpy, ButtonMotionMask
+                                             | ButtonReleaseMask | ButtonPressMask,
+                                             wCursor[WCUR_TOPLEFTRESIZE], CurrentTime);
+                else if (res == (UP|RIGHT))
+                    XChangeActivePointerGrab(dpy, ButtonMotionMask
+                                             | ButtonReleaseMask | ButtonPressMask,
+                                             wCursor[WCUR_TOPRIGHTRESIZE], CurrentTime);
+                else if (res == (DOWN|LEFT))
+                    XChangeActivePointerGrab(dpy, ButtonMotionMask
+                                             | ButtonReleaseMask | ButtonPressMask,
+                                             wCursor[WCUR_BOTTOMLEFTRESIZE], CurrentTime);
+                else if (res == (DOWN|RIGHT))
+                    XChangeActivePointerGrab(dpy, ButtonMotionMask
+                                             | ButtonReleaseMask | ButtonPressMask,
+                                             wCursor[WCUR_BOTTOMRIGHTRESIZE], CurrentTime);
+                else if (res == DOWN || res == UP)
+                    XChangeActivePointerGrab(dpy, ButtonMotionMask
+                                             | ButtonReleaseMask | ButtonPressMask,
+                                             wCursor[WCUR_VERTICALRESIZE], CurrentTime);
+                else if (res & (DOWN|UP))
+                    XChangeActivePointerGrab(dpy, ButtonMotionMask
+                                             | ButtonReleaseMask | ButtonPressMask,
+                                             wCursor[WCUR_VERTICALRESIZE], CurrentTime);
+                else if (res & (LEFT|RIGHT))
+                    XChangeActivePointerGrab(dpy, ButtonMotionMask
+                                             | ButtonReleaseMask | ButtonPressMask,
+                                             wCursor[WCUR_HORIZONRESIZE], CurrentTime);
+
+                XGrabKeyboard(dpy, root, False, GrabModeAsync, GrabModeAsync,
+                              CurrentTime);
+
+                XGrabServer(dpy);
+
+                /* Draw the resize frame for the first time. */
+                mapGeometryDisplay(wwin, fx, fy, fw, fh);
+
+                drawTransparentFrame(wwin, fx, fy, fw, fh);
+
+                showGeometry(wwin, fx, fy, fx + fw, fy + fh, res);
+
+                started = 1;
+            }
+            if (started) {
+                if (wPreferences.size_display == WDIS_FRAME_CENTER) {
+                    drawTransparentFrame(wwin, orig_fx, orig_fy,
+                                         orig_fw, orig_fh);
+                    moveGeometryDisplayCentered(scr, fx + fw / 2, fy + fh / 2);
+                    drawTransparentFrame(wwin, fx, fy, fw, fh);
+                } else {
+                    drawTransparentFrame(wwin, orig_fx, orig_fy,
+                                         orig_fw, orig_fh);
+                    drawTransparentFrame(wwin, fx, fy, fw, fh);
+                }
+                if (fh != orig_fh || fw != orig_fw) {
+                    if (wPreferences.size_display == WDIS_NEW) {
+                        showGeometry(wwin, orig_fx, orig_fy, orig_fx + orig_fw,
+                                     orig_fy + orig_fh, res);
+                    }
+                    showGeometry(wwin, fx, fy, fx + fw, fy + fh, res);
+                }
+            }
+            break;
+
+        case ButtonPress:
+            break;
+
+        case ButtonRelease:
+            if (event.xbutton.button != ev->xbutton.button)
+                break;
+
+            if (started) {
+                showGeometry(wwin, fx, fy, fx + fw, fy + fh, res);
+
+                drawTransparentFrame(wwin, fx, fy, fw, fh);
+
+                XUngrabKeyboard(dpy, CurrentTime);
+                WMUnmapWidget(scr->gview);
+                XUngrabServer(dpy);
+
+                if (wwin->client.width != fw)
+                    wwin->flags.user_changed_width = 1;
 
-		if (wwin->client.height != fh - vert_border)
-		    wwin->flags.user_changed_height = 1;
+                if (wwin->client.height != fh - vert_border)
+                    wwin->flags.user_changed_height = 1;
 
-		wWindowConfigure(wwin, fx, fy, fw, fh - vert_border);
-	    }
+                wWindowConfigure(wwin, fx, fy, fw, fh - vert_border);
+            }
 #ifdef DEBUG
-	    puts("End resize window");
+            puts("End resize window");
 #endif
-	    return;
-	    
-	 default:
-	    WMHandleEvent(&event);
-	}
+            return;
+
+        default:
+            WMHandleEvent(&event);
+        }
     }
 }
 
@@ -2102,14 +2206,14 @@
     WWindow *wwin;
 
     if (!scr->selected_windows)
-	return;
-    
+        return;
+
     while (WMGetArrayItemCount(scr->selected_windows)) {
-	wwin = WMGetFromArray(scr->selected_windows, 0);
+        wwin = WMGetFromArray(scr->selected_windows, 0);
         if (wwin->flags.miniaturized && wwin->icon && wwin->icon->selected)
             wIconSelect(wwin->icon);
 
-	wSelectWindow(wwin, False);
+        wSelectWindow(wwin, False);
     }
     WMFreeArray(scr->selected_windows);
     scr->selected_windows = NULL;
@@ -2120,20 +2224,20 @@
 selectWindowsInside(WScreen *scr, int x1, int y1, int x2, int y2)
 {
     WWindow *tmpw;
-    
+
     /* select the windows and put them in the selected window list */
     tmpw = scr->focused_window;
     while (tmpw != NULL) {
-	if (!(tmpw->flags.miniaturized || tmpw->flags.hidden)) {
-	    if ((tmpw->frame->workspace == scr->current_workspace
-		 || IS_OMNIPRESENT(tmpw))
-		&& (tmpw->frame_x >= x1) && (tmpw->frame_y >= y1) 
-		&& (tmpw->frame->core->width + tmpw->frame_x <= x2)
-		&& (tmpw->frame->core->height + tmpw->frame_y <= y2)) {
-		wSelectWindow(tmpw, True);
-	    }
-	}
-	tmpw = tmpw->prev;
+        if (!(tmpw->flags.miniaturized || tmpw->flags.hidden)) {
+            if ((tmpw->frame->workspace == scr->current_workspace
+                 || IS_OMNIPRESENT(tmpw))
+                && (tmpw->frame_x >= x1) && (tmpw->frame_y >= y1)
+                && (tmpw->frame->core->width + tmpw->frame_x <= x2)
+                && (tmpw->frame->core->height + tmpw->frame_y <= y2)) {
+                wSelectWindow(tmpw, True);
+            }
+        }
+        tmpw = tmpw->prev;
     }
 }
 
@@ -2148,78 +2252,78 @@
     int yp = ev->xbutton.y_root;
     int w = 0, h = 0;
     int x = xp, y = yp;
-    
+
 #ifdef DEBUG
     puts("Selecting windows");
 #endif
     if (XGrabPointer(dpy, scr->root_win, False, ButtonMotionMask
-		     | ButtonReleaseMask | ButtonPressMask, GrabModeAsync,
-		     GrabModeAsync, None, wCursor[WCUR_DEFAULT],
-		     CurrentTime) != Success) {
-	return;
+                     | ButtonReleaseMask | ButtonPressMask, GrabModeAsync,
+                     GrabModeAsync, None, wCursor[WCUR_DEFAULT],
+                     CurrentTime) != Success) {
+        return;
     }
     XGrabServer(dpy);
-    
+
     wUnselectWindows(scr);
-    
+
     XDrawRectangle(dpy, root, gc, xp, yp, w, h);
     while (1) {
-	WMMaskEvent(dpy, ButtonReleaseMask | PointerMotionMask
-		    | ButtonPressMask, &event);
-	
-	switch (event.type) {
-	 case MotionNotify:
-	    XDrawRectangle(dpy, root, gc, x, y, w, h);
-	    x = event.xmotion.x_root;
-	    if (x < xp) {
-		w = xp - x;
-	    } else {
-		w = x - xp;
-		x = xp;
-	    }
-	    y = event.xmotion.y_root;
-	    if (y < yp) {
-		h = yp - y;
-	    } else {
-		h = y - yp;
-		y = yp;
-	    }
-	    XDrawRectangle(dpy, root, gc, x, y, w, h);
-	    break;
-
-	 case ButtonPress:
-	    break;
-
-	 case ButtonRelease:
-	    if (event.xbutton.button != ev->xbutton.button)
-		break;
-
-	    XDrawRectangle(dpy, root, gc, x, y, w, h);
-	    XUngrabServer(dpy);
-	    XUngrabPointer(dpy, CurrentTime);
-	    selectWindowsInside(scr, x, y, x + w, y + h);
-	   
+        WMMaskEvent(dpy, ButtonReleaseMask | PointerMotionMask
+                    | ButtonPressMask, &event);
+
+        switch (event.type) {
+        case MotionNotify:
+            XDrawRectangle(dpy, root, gc, x, y, w, h);
+            x = event.xmotion.x_root;
+            if (x < xp) {
+                w = xp - x;
+            } else {
+                w = x - xp;
+                x = xp;
+            }
+            y = event.xmotion.y_root;
+            if (y < yp) {
+                h = yp - y;
+            } else {
+                h = y - yp;
+                y = yp;
+            }
+            XDrawRectangle(dpy, root, gc, x, y, w, h);
+            break;
+
+        case ButtonPress:
+            break;
+
+        case ButtonRelease:
+            if (event.xbutton.button != ev->xbutton.button)
+                break;
+
+            XDrawRectangle(dpy, root, gc, x, y, w, h);
+            XUngrabServer(dpy);
+            XUngrabPointer(dpy, CurrentTime);
+            selectWindowsInside(scr, x, y, x + w, y + h);
+
 #ifdef KWM_HINTS
-	    wKWMSelectRootRegion(scr, xp, yp, w, h, 
-				 event.xbutton.state & ControlMask);
+            wKWMSelectRootRegion(scr, xp, yp, w, h,
+                                 event.xbutton.state & ControlMask);
 #endif /* KWM_HINTS */
 
 #ifdef DEBUG
-	    puts("End window selection");
+            puts("End window selection");
 #endif
-	    return;
-	    
-	 default:
-	    WMHandleEvent(&event);
-	    break;
-	}
+            return;
+
+        default:
+            WMHandleEvent(&event);
+            break;
+        }
     }
 }
 #endif /* !LITE */
 
 void
 InteractivePlaceWindow(WWindow *wwin, int *x_ret, int *y_ret,
-		       unsigned width, unsigned height)
+                       unsigned width, unsigned height)
 {
     WScreen *scr = wwin->screen_ptr;
     Window root = scr->root_win;
@@ -2228,79 +2332,79 @@
     KeyCode shiftl, shiftr;
     Window junkw;
     int junk;
-    
+
     if (XGrabPointer(dpy, root, True, PointerMotionMask | ButtonPressMask,
-		     GrabModeAsync, GrabModeAsync, None, 
-		     wCursor[WCUR_DEFAULT], CurrentTime) != Success) {
-	*x_ret = 0;
-	*y_ret = 0;
-	return;
+                     GrabModeAsync, GrabModeAsync, None,
+                     wCursor[WCUR_DEFAULT], CurrentTime) != Success) {
+        *x_ret = 0;
+        *y_ret = 0;
+        return;
     }
     if (!WFLAGP(wwin, no_titlebar)) {
-	h = WMFontHeight(scr->title_font) + (wPreferences.window_title_clearance + TITLEBAR_EXTEND_SPACE) * 2;
-	height += h;
+        h = WMFontHeight(scr->title_font) + (wPreferences.window_title_clearance + TITLEBAR_EXTEND_SPACE) * 2;
+        height += h;
     }
     if (!WFLAGP(wwin, no_resizebar)) {
-	height += RESIZEBAR_HEIGHT;
+        height += RESIZEBAR_HEIGHT;
     }
     XGrabKeyboard(dpy, root, False, GrabModeAsync, GrabModeAsync, CurrentTime);
-    XQueryPointer(dpy, root, &junkw, &junkw, &x, &y, &junk, &junk, 
-		  (unsigned *) &junk);
+    XQueryPointer(dpy, root, &junkw, &junkw, &x, &y, &junk, &junk,
+                  (unsigned *) &junk);
     mapPositionDisplay(wwin, x - width/2, y - h/2, width, height);
-    
+
     drawTransparentFrame(wwin, x - width/2, y - h/2, width, height);
-    
+
     shiftl = XKeysymToKeycode(dpy, XK_Shift_L);
     shiftr = XKeysymToKeycode(dpy, XK_Shift_R);
     while (1) {
-	WMMaskEvent(dpy, PointerMotionMask|ButtonPressMask|ExposureMask|KeyPressMask,
-		   &event);
-	
-	if (!checkMouseSamplingRate(&event))
+        WMMaskEvent(dpy, PointerMotionMask|ButtonPressMask|ExposureMask|KeyPressMask,
+                    &event);
+
+        if (!checkMouseSamplingRate(&event))
             continue;
-	
-	switch (event.type) {
-	 case KeyPress:
-	    if ((event.xkey.keycode == shiftl) 
-		|| (event.xkey.keycode == shiftr)) {
-		drawTransparentFrame(wwin,
-				     x - width/2, y - h/2, width, height);
-		cyclePositionDisplay(wwin,
-				     x - width/2, y - h/2, width, height);
-		drawTransparentFrame(wwin,
-				     x - width/2, y - h/2, width, height);
-	    }
-	    break;
-	    
-	 case MotionNotify:
-	    drawTransparentFrame(wwin, x - width/2, y - h/2, width, height);
-	    
-	    x = event.xmotion.x_root;
-	    y = event.xmotion.y_root;
-	    
-	    if (wPreferences.move_display == WDIS_FRAME_CENTER)
-		moveGeometryDisplayCentered(scr, x, y + (height - h) / 2);
-	    
-	    showPosition(wwin, x - width/2, y - h/2);
-	    
-	    drawTransparentFrame(wwin, x - width/2, y - h/2, width, height);
-	    
-	    break;
-	    
-	 case ButtonPress:
-	    drawTransparentFrame(wwin, x - width/2, y - h/2, width, height);
-	    XSync(dpy, 0);
-	    *x_ret = x - width/2;
-	    *y_ret = y - h/2;
-	    XUngrabPointer(dpy, CurrentTime);
-	    XUngrabKeyboard(dpy, CurrentTime);
-	    /* get rid of the geometry window */
-	    WMUnmapWidget(scr->gview);
-	    return;
-	    
-	 default:
-	    WMHandleEvent(&event);
-	    break;
-	}
+
+        switch (event.type) {
+        case KeyPress:
+            if ((event.xkey.keycode == shiftl)
+                || (event.xkey.keycode == shiftr)) {
+                drawTransparentFrame(wwin,
+                                     x - width/2, y - h/2, width, height);
+                cyclePositionDisplay(wwin,
+                                     x - width/2, y - h/2, width, height);
+                drawTransparentFrame(wwin,
+                                     x - width/2, y - h/2, width, height);
+            }
+            break;
+
+        case MotionNotify:
+            drawTransparentFrame(wwin, x - width/2, y - h/2, width, height);
+
+            x = event.xmotion.x_root;
+            y = event.xmotion.y_root;
+
+            if (wPreferences.move_display == WDIS_FRAME_CENTER)
+                moveGeometryDisplayCentered(scr, x, y + (height - h) / 2);
+
+            showPosition(wwin, x - width/2, y - h/2);
+
+            drawTransparentFrame(wwin, x - width/2, y - h/2, width, height);
+
+            break;
+
+        case ButtonPress:
+            drawTransparentFrame(wwin, x - width/2, y - h/2, width, height);
+            XSync(dpy, 0);
+            *x_ret = x - width/2;
+            *y_ret = y - h/2;
+            XUngrabPointer(dpy, CurrentTime);
+            XUngrabKeyboard(dpy, CurrentTime);
+            /* get rid of the geometry window */
+            WMUnmapWidget(scr->gview);
+            return;
+
+        default:
+            WMHandleEvent(&event);
+            break;
+        }
     }
 }
diff -Naur WindowMaker-0.80.2/src/openlook.c wm-xft2/src/openlook.c
--- WindowMaker-0.80.2/src/openlook.c	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/openlook.c	2003-10-22 14:08:38.000000000 +0400
@@ -3,7 +3,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -352,6 +352,9 @@
 
 	    menuType = MT_LIMITED;
 
+            /* this is a transient-like window */
+            wwin->client_flags.olwm_transient = 1;
+
 	} else if (hints.winType == WT_NOTICE) {
 
 	    decoration = OL_DECORATION_ICONNAME;
@@ -397,11 +400,6 @@
     else
 	wwin->flags.olwm_limit_menu = 1;
 
-    /* this is a transient-like window */
-    if (hints.winType == WT_CMD) {
-	wwin->client_flags.olwm_transient = 1;
-    }
-
     /*
      * Emulate olwm pushpin.
      * If the initial state of the pin is in, then put the normal close
diff -Naur WindowMaker-0.80.2/src/openlook.h wm-xft2/src/openlook.h
--- WindowMaker-0.80.2/src/openlook.h	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/openlook.h	2003-10-22 14:08:38.000000000 +0400
@@ -3,7 +3,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/pixmap.c wm-xft2/src/pixmap.c
--- WindowMaker-0.80.2/src/pixmap.c	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/pixmap.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/pixmap.h wm-xft2/src/pixmap.h
--- WindowMaker-0.80.2/src/pixmap.h	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/pixmap.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/placement.c wm-xft2/src/placement.c
--- WindowMaker-0.80.2/src/placement.c	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/placement.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -39,15 +39,16 @@
 #include "application.h"
 #include "appicon.h"
 #include "dock.h"
+#include "xinerama.h"
 
 
 extern WPreferences wPreferences;
 
 
-#define X_ORIGIN(scr) WMAX((scr)->totalUsableArea.x1,\
+#define X_ORIGIN(scr) WMAX(usableArea.x1,\
 				wPreferences.window_place_origin.x)
 
-#define Y_ORIGIN(scr) WMAX((scr)->totalUsableArea.y1,\
+#define Y_ORIGIN(scr) WMAX(usableArea.y1,\
 				wPreferences.window_place_origin.y)
 
 
@@ -123,7 +124,7 @@
 
 
 void
-PlaceIcon(WScreen *scr, int *x_ret, int *y_ret)
+PlaceIcon(WScreen *scr, int *x_ret, int *y_ret, int head)
 {
     int pf;			       /* primary axis */
     int sf;			       /* secondary axis */
@@ -140,23 +141,30 @@
     int isize = wPreferences.icon_size;
     int done = 0;
     WMBagIterator iter;
+    WArea area = wGetUsableAreaForHead(scr, head, NULL, False);
 
-    /*
-     * Find out screen boundaries.
-     */
-    sx1 = 0;
-    sy1 = 0;
-    sx2 = scr->scr_width;
-    sy2 = scr->scr_height;
+    /* Find out screen boundaries. */
+
+    /* Allows each head to have miniwindows */
+
+    sx1 = area.x1;
+    sy1 = area.y1;
+    sx2 = area.x2;
+    sy2 = area.y2;
+    sw = sx2-sx1;
+    sh = sy2-sy1;
+
+#if 0
     if (scr->dock) {
 	if (scr->dock->on_right_side)
             sx2 -= isize + DOCK_EXTRA_SPACE;
 	else
 	    sx1 += isize + DOCK_EXTRA_SPACE;
     }
+#endif
 
-    sw = isize * (scr->scr_width/isize);
-    sh = isize * (scr->scr_height/isize);
+    sw = isize * (sw/isize);
+    sh = isize * (sh/isize);
     fullW = (sx2-sx1)/isize;
     fullH = (sy2-sy1)/isize;
 
@@ -284,9 +292,10 @@
 /*
  * This function calculates the area of the intersection of two rectangles.
  */
-static int
+
+int
 calcIntersectionArea(int x1, int y1, int w1, int h1,
-                                int x2, int y2, int w2, int h2)
+		     int x2, int y2, int w2, int h2)
 {
     return calcIntersectionLength(x1, w1, x2, w2)
            * calcIntersectionLength(y1, h1, y2, h2);
@@ -337,7 +346,8 @@
 
 static void
 smartPlaceWindow(WWindow *wwin, int *x_ret, int *y_ret,
-                 unsigned int width, unsigned int height)
+                 unsigned int width, unsigned int height,
+		 WArea usableArea)
 {
     WScreen *scr = wwin->screen_ptr;
     int test_x = 0, test_y = Y_ORIGIN(scr);
@@ -346,7 +356,6 @@
     int min_isect, min_isect_x, min_isect_y;
     int sum_isect;
     int extra_height;
-    WArea usableArea = scr->totalUsableArea;
 
     if (wwin->frame)
 	extra_height = wwin->frame->top_width + wwin->frame->bottom_width;
@@ -370,7 +379,7 @@
             sum_isect = calcSumOfCoveredAreas(wwin, test_x, test_y,
                                               width, height);
 
-	    if ( sum_isect < min_isect ) {
+	    if (sum_isect < min_isect) {
 	        min_isect = sum_isect;
 	        min_isect_x = test_x;
 	        min_isect_y = test_y;
@@ -398,7 +407,7 @@
             sum_isect = calcSumOfCoveredAreas(wwin, test_x, test_y,
                                               width, height);
 
-	    if ( sum_isect < min_isect ) {
+	    if (sum_isect < min_isect) {
 	        min_isect = sum_isect;
 	        min_isect_x = test_x;
 	        min_isect_y = test_y;
@@ -413,7 +422,8 @@
 
 static Bool
 autoPlaceWindow(WWindow *wwin, int *x_ret, int *y_ret,
-                unsigned int width, unsigned int height, int tryCount)
+                unsigned int width, unsigned int height, int tryCount,
+		WArea usableArea)
 {
     WScreen *scr = wwin->screen_ptr;
     int test_x = 0, test_y = Y_ORIGIN(scr);
@@ -421,7 +431,7 @@
     int swidth, sx;
     WWindow *test_window;
     int extra_height;
-    WArea usableArea = scr->totalUsableArea;
+
     
     if (wwin->frame)
 	extra_height = wwin->frame->top_width + wwin->frame->bottom_width + 2;
@@ -435,8 +445,7 @@
 
     height += extra_height;
 
-    while (((test_y + height) < (scr->scr_height)) && (!loc_ok)) {
-
+    while (((test_y + height) < (usableArea.y2 - usableArea.y1)) && !loc_ok) {
 	test_x = sx;
 
 	while (((test_x + width) < swidth) && (!loc_ok)) {
@@ -527,10 +536,11 @@
 
 static void 
 cascadeWindow(WScreen *scr, WWindow *wwin, int *x_ret, int *y_ret,
-              unsigned int width, unsigned int height, int h)
+              unsigned int width, unsigned int height, int h,
+	      WArea usableArea)
 {
     unsigned int extra_height;
-    WArea usableArea = scr->totalUsableArea;
+
 
     if (wwin->frame)
 	extra_height = wwin->frame->top_width + wwin->frame->bottom_width;
@@ -549,26 +559,53 @@
 }
 
 
+static void
+randomPlaceWindow(WScreen *scr, WWindow *wwin, int *x_ret, int *y_ret,
+		  unsigned int width, unsigned int height,
+		  WArea usableArea)
+{
+    int w, h, extra_height;
+    
+    if (wwin->frame)
+	extra_height = wwin->frame->top_width + wwin->frame->bottom_width + 2;
+    else
+	extra_height = 24; /* random value */
+    
+    w = ((usableArea.x2-X_ORIGIN(scr)) - width);
+    h = ((usableArea.y2-Y_ORIGIN(scr)) - height - extra_height);
+    if (w<1) w = 1;
+    if (h<1) h = 1;
+    *x_ret = X_ORIGIN(scr) + rand()%w;
+    *y_ret = Y_ORIGIN(scr) + rand()%h;
+}
+
+
+
 void
 PlaceWindow(WWindow *wwin, int *x_ret, int *y_ret,
             unsigned width, unsigned height)
 {
     WScreen *scr = wwin->screen_ptr;
     int h = WMFontHeight(scr->title_font) + (wPreferences.window_title_clearance + TITLEBAR_EXTEND_SPACE) * 2;
-
+    WArea usableArea = wGetUsableAreaForHead(scr, 
+					     wGetHeadForPointerLocation(scr),
+					     NULL, True);
+   
     switch (wPreferences.window_placement) {
      case WPM_MANUAL:
 	InteractivePlaceWindow(wwin, x_ret, y_ret, width, height);
 	break;
 
      case WPM_SMART:
-	smartPlaceWindow(wwin, x_ret, y_ret, width, height);
+	smartPlaceWindow(wwin, x_ret, y_ret, width, height, usableArea);
 	break;
 
      case WPM_AUTO:
-	if (autoPlaceWindow(wwin, x_ret, y_ret, width, height, 0)) {
+	if (autoPlaceWindow(wwin, x_ret, y_ret, width, height, 0,
+			    usableArea)) {
 	    break;
-	} else if (autoPlaceWindow(wwin, x_ret, y_ret, width, height, 1)) {
+	} else if (autoPlaceWindow(wwin, x_ret, y_ret, width, height, 1,
+				   usableArea)) {
 	    break;
 	}
 	/* there isn't a break here, because if we fail, it should fall
@@ -579,32 +616,17 @@
         if (wPreferences.window_placement == WPM_AUTO)
             scr->cascade_index++;
 
-	cascadeWindow(scr, wwin, x_ret, y_ret, width, height, h);
+	cascadeWindow(scr, wwin, x_ret, y_ret, width, height, h, usableArea);
 
         if (wPreferences.window_placement == WPM_CASCADE)
             scr->cascade_index++;
 	break;
 
      case WPM_RANDOM:
-	{
-	    int w, h, extra_height;
-	    WArea usableArea = scr->totalUsableArea;
-
-            if (wwin->frame)
-                extra_height = wwin->frame->top_width + wwin->frame->bottom_width + 2;
-            else
-                extra_height = 24; /* random value */
-
-	    w = ((usableArea.x2-X_ORIGIN(scr)) - width);
-	    h = ((usableArea.y2-Y_ORIGIN(scr)) - height - extra_height);
-	    if (w<1) w = 1;
-	    if (h<1) h = 1;
-	    *x_ret = X_ORIGIN(scr) + rand()%w;
-	    *y_ret = Y_ORIGIN(scr) + rand()%h;
-	}
+	randomPlaceWindow(scr, wwin, x_ret, y_ret, width, height, usableArea);
 	break;
 
-#ifdef DEBUG	
+#ifdef DEBUG
      default:
 	puts("Invalid window placement!!!");
 	*x_ret = 0;
@@ -612,15 +634,20 @@
 #endif
     }
     
-    if (*x_ret + width > scr->scr_width)
-	*x_ret = scr->scr_width - width;
-    if (*x_ret < 0)
-        *x_ret = 0;
-
-    if (*y_ret + height > scr->scr_height)
-	*y_ret = scr->scr_height - height;
-    if (*y_ret < 0)
-        *y_ret = 0;
+    /*
+     * clip to usableArea instead of full screen
+     * this will also take dock/clip etc.. into account
+     * aswell as being xinerama friendly
+     */
+    if (*x_ret + width > usableArea.x2)
+	*x_ret = usableArea.x2 - width;
+    if (*x_ret < usableArea.x1)
+        *x_ret = usableArea.x1;
+
+    if (*y_ret + height > usableArea.y2)
+	*y_ret = usableArea.y2 - height;
+    if (*y_ret < usableArea.y1)
+        *y_ret = usableArea.y1;
 }
 
 
diff -Naur WindowMaker-0.80.2/src/properties.c wm-xft2/src/properties.c
--- WindowMaker-0.80.2/src/properties.c	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/properties.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/properties.h wm-xft2/src/properties.h
--- WindowMaker-0.80.2/src/properties.h	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/properties.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/resources.c wm-xft2/src/resources.c
--- WindowMaker-0.80.2/src/resources.c	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/resources.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/resources.h wm-xft2/src/resources.h
--- WindowMaker-0.80.2/src/resources.h	2002-01-08 16:45:13.000000000 +0300
+++ wm-xft2/src/resources.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/rootmenu.c wm-xft2/src/rootmenu.c
--- WindowMaker-0.80.2/src/rootmenu.c	2002-02-21 14:28:48.000000000 +0300
+++ wm-xft2/src/rootmenu.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,8 +2,8 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
- *  Copyright (c) 1998-2002 Dan Pascu
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Dan Pascu
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -362,8 +362,7 @@
 static char*
 getLocalizedMenuFile(char *menu)
 {
-    char *buffer;
-    char *ptr;
+    char *buffer, *ptr, *locale;
     int len;
 
     if (!Locale)
@@ -377,8 +376,12 @@
     if (access(buffer, F_OK)==0) {
 	return buffer;
     }
+
+    /* position of locale in our buffer */
+    locale = buffer + strlen(menu) + 1;
+
     /* check if it is in the form aa_bb.encoding and check for aa_bb */
-    ptr = strchr(Locale, '.');
+    ptr = strchr(locale, '.');
     if (ptr) {
 	*ptr = 0;
 	if (access(buffer, F_OK)==0) {
@@ -386,7 +389,7 @@
 	}
     }
     /* now check for aa */
-    ptr = strchr(buffer, '_');
+    ptr = strchr(locale, '_');
     if (ptr) {
 	*ptr = 0;
 	if (access(buffer, F_OK)==0) {
@@ -394,6 +397,8 @@
 	}
     }
 
+    wfree(buffer);
+
     return NULL;
 }
 
@@ -1094,7 +1099,7 @@
     char params[MAXLINE];
     char *line;
     
-    while (!IsEof(file)) {
+    while (!feof(file)) {
 	int lsize, ok;
 	
 	ok = 0;
@@ -1120,7 +1125,7 @@
 	    } else {
 		ok=1;
 	    }
-	} while (!ok && !IsEof(file));
+	} while (!ok && !feof(file));
 	if (ok==2)
 	  continue;
 	
@@ -1207,14 +1212,14 @@
 #endif /* USECPP */
 
     if (!file) {
-	file = fopen(file_name, "r");
+	file = fopen(file_name, "rb");
 	if (!file) {
 	    wsyserror(_("%s:could not open menu file"), file_name);
 	    return NULL;
 	}
     }
     
-    while (!IsEof(file)) {
+    while (!feof(file)) {
 	if (!fgets(linebuf, MAXLINE, file))
 	    break;
 	line = cropline(linebuf);
@@ -1257,6 +1262,7 @@
     return menu;
 }
 
+
 /************    Menu Configuration From Pipe      *************/
 
 static WMenu*
@@ -1309,7 +1315,7 @@
 #endif /* USECPP */
 
     if (!file) {
-       file = popen(filename, "r");
+       file = popen(filename, "rb");
 
        if (!file) {
            wsyserror(_("%s:could not open menu file"), filename);
@@ -1317,7 +1323,7 @@
        }
     }
 
-    while (!IsEof(file)) {
+    while (!feof(file)) {
 	if (!fgets(linebuf, MAXLINE, file))
 	    break;
 	line = cropline(linebuf);
@@ -1663,7 +1669,7 @@
 	if (!scr->root_menu || stat_buf.st_mtime > scr->root_menu->timestamp
 	    /* if the pointer in WMRootMenu has changed */
 	    || WDRootMenu->timestamp > scr->root_menu->timestamp) {
-	    
+
 	    if (menu_is_default) {
 		wwarning(_("using default menu file \"%s\" as the menu referenced in WMRootMenu could not be found "),
 			 path);
@@ -1694,7 +1700,7 @@
 	return NULL;
     }
     mtitle = WMGetFromPLString(elem);
-    
+
     menu = wMenuCreate(scr, mtitle, False);
     menu->on_destroy = removeShortcutsForMenu;
 
@@ -1773,12 +1779,6 @@
 }
 
 
-
-
-
-
-
-
 /*
  *---------------------------------------------------------------------- 
  * OpenRootMenu--
@@ -1807,7 +1807,7 @@
 	domain = WMCreatePLString("WMRootMenu");
     }
      */
-    
+
     scr->flags.root_menu_changed_shortcuts = 0;
     scr->flags.added_workspace_menu = 0;
     scr->flags.added_windows_menu = 0;
diff -Naur WindowMaker-0.80.2/src/rootmenu.h wm-xft2/src/rootmenu.h
--- WindowMaker-0.80.2/src/rootmenu.h	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/src/rootmenu.h	2003-10-22 14:08:38.000000000 +0400
@@ -0,0 +1,42 @@
+/* rootmenu.h- user defined menu 
+ * 
+ *  Window Maker window manager
+ * 
+ *  Copyright (c) 2000-2003 Alfredo K. Kojima
+ * 
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the GNU General Public License as published by
+ *  the Free Software Foundation; either version 2 of the License, or
+ *  (at your option) any later version.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License
+ *  along with this program; if not, write to the Free Software
+ *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, 
+ *  USA.
+ */
+
+
+#include "WindowMaker.h"
+
+
+typedef void *WRootMenuData;
+
+
+typedef struct _WRootMenuReader {
+    Bool (*checkMenuChange)(char *path, time_t lastAccessTime);
+
+    WRootMenuData (*openMenuFile)(char *path);
+    Bool (*hasMoreData)(WRootMenuData *data);
+    Bool (*nextCommand)(WRootMenuData *data,
+			char **title,
+			char **command,
+			char **parameter,
+			char **shortcut);
+    void (*closeMenuFile)(WRootMenuData *data);
+} WRootMenuReader;
+
diff -Naur WindowMaker-0.80.2/src/screen.c wm-xft2/src/screen.c
--- WindowMaker-0.80.2/src/screen.c	2002-02-21 14:28:48.000000000 +0300
+++ wm-xft2/src/screen.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -266,7 +266,6 @@
 {
     XGCValues gcv;
     XColor color;
-    unsigned long mtextcolor;
     int gcm;
 
     scr->stipple_bitmap = 
@@ -291,7 +290,7 @@
     gcv.dash_offset = 0;
     gcv.dashes      = 4;
     gcv.graphics_exposures = False;
-   
+
     gcm = GCFunction | GCGraphicsExposures;
     gcm |= GCForeground | GCBackground;
     gcm |= GCLineWidth | GCLineStyle;
@@ -300,30 +299,11 @@
 
     scr->icon_select_gc = XCreateGC(dpy, scr->w_win, gcm, &gcv);
 
-    gcm = GCForeground|GCGraphicsExposures;
-    
-    scr->menu_title_pixel[0] = scr->white_pixel;
-    gcv.foreground = scr->white_pixel;
-    gcv.graphics_exposures = False;
-    scr->menu_title_gc = XCreateGC(dpy, scr->w_win, gcm, &gcv);
-
-    scr->mtext_pixel = scr->black_pixel;
-    mtextcolor = gcv.foreground = scr->black_pixel;
-    scr->menu_entry_gc = XCreateGC(dpy, scr->w_win, gcm, &gcv);
-
-    /* selected menu entry GC */
-    gcm = GCForeground|GCBackground|GCGraphicsExposures;
-    gcv.foreground = scr->white_pixel;
-    gcv.background = scr->white_pixel;
-    gcv.graphics_exposures = False;
-    scr->select_menu_gc = XCreateGC(dpy, scr->w_win, gcm, &gcv);
+    scr->menu_title_color[0] = WMRetainColor(scr->white);
 
-    /* disabled menu entry GC */
-    scr->dtext_pixel = scr->black_pixel;
-    gcm = GCForeground|GCBackground|GCStipple|GCGraphicsExposures;
-    gcv.stipple = scr->stipple_bitmap;
-    gcv.graphics_exposures = False;
-    scr->disabled_menu_entry_gc = XCreateGC(dpy, scr->w_win, gcm, &gcv);
+    /* don't retain scr->black here because we may alter its alpha */
+    scr->mtext_color = WMCreateRGBColor(scr->wmscreen, 0, 0, 0, True);
+    scr->dtext_color = WMCreateRGBColor(scr->wmscreen, 0, 0, 0, True);
 
     /* frame GC */
     wGetColor(scr, DEF_FRAME_COLOR, &color);
@@ -359,11 +339,11 @@
     gcv.cap_style = CapRound;
     gcv.graphics_exposures = False;
     gcm = GCForeground|GCFunction|GCSubwindowMode|GCLineWidth|GCCapStyle
-	|GCGraphicsExposures;
+        |GCGraphicsExposures;
     scr->line_gc = XCreateGC(dpy, scr->root_win, gcm, &gcv);
 
     scr->line_pixel = gcv.foreground;
-    
+
     /* copy GC */
     gcv.foreground = scr->white_pixel;
     gcv.background = scr->black_pixel;
@@ -371,29 +351,14 @@
     scr->copy_gc = XCreateGC(dpy, scr->w_win, GCForeground|GCBackground
 			     |GCGraphicsExposures, &gcv);
 
-    /* window title text GC */
-    gcv.graphics_exposures = False;
-    scr->window_title_gc = XCreateGC(dpy, scr->w_win,GCGraphicsExposures,&gcv);
-
-    /* icon title GC */
-    scr->icon_title_gc = XCreateGC(dpy, scr->w_win, GCGraphicsExposures, &gcv);
-
-    /* clip title GC */
-    scr->clip_title_gc = XCreateGC(dpy, scr->w_win, GCGraphicsExposures, &gcv);
-
-    /* move/size display GC */
-    gcv.graphics_exposures = False;
-    gcm = GCGraphicsExposures;
-    scr->info_text_gc = XCreateGC(dpy, scr->w_win, gcm, &gcv);
-    
     /* misc drawing GC */
     gcv.graphics_exposures = False;
     gcm = GCGraphicsExposures;
     scr->draw_gc = XCreateGC(dpy, scr->w_win, gcm, &gcv);
 
     assert (scr->stipple_bitmap!=None);
-    
-	
+
+
     /* mono GC */
     scr->mono_gc = XCreateGC(dpy, scr->stipple_bitmap, gcm, &gcv);
 }
@@ -640,8 +605,8 @@
     RContextAttributes rattr;
     extern int wVisualID;
     long event_mask;
-    WMColor *color;
     XErrorHandler oldHandler;
+    int i;
 
     scr = wmalloc(sizeof(WScreen));
     memset(scr, 0, sizeof(WScreen));
@@ -657,10 +622,18 @@
     scr->scr_width = WidthOfScreen(ScreenOfDisplay(dpy, screen_number));
     scr->scr_height = HeightOfScreen(ScreenOfDisplay(dpy, screen_number));
 
-    scr->usableArea.x2 = scr->scr_width;
-    scr->usableArea.y2 = scr->scr_height;
-    scr->totalUsableArea.x2 = scr->scr_width;
-    scr->totalUsableArea.y2 = scr->scr_height;
+    wInitXinerama(scr);
+
+    scr->usableArea = (WArea *)wmalloc(sizeof(WArea)*wXineramaHeads(scr));
+    scr->totalUsableArea = (WArea *)wmalloc(sizeof(WArea)*wXineramaHeads(scr));
+
+    for (i=0; i<wXineramaHeads(scr); ++i) {
+	WMRect rect = wGetRectForHead(scr, i);
+	scr->usableArea[i].x1 = scr->totalUsableArea[i].x1 = rect.pos.x;
+	scr->usableArea[i].y1 = scr->totalUsableArea[i].y1 = rect.pos.y;
+	scr->usableArea[i].x2 = scr->totalUsableArea[i].x2 = rect.pos.x + rect.size.width;
+	scr->usableArea[i].y2 = scr->totalUsableArea[i].y2 = rect.pos.y + rect.size.height;
+    }
 
     scr->fakeGroupLeaders = WMCreateArray(16);
 
@@ -701,11 +674,6 @@
 	return NULL;
     }
     
-#ifdef XINERAMA
-    wInitXinerama(scr);
-#endif
-    
-
     XDefineCursor(dpy, scr->root_win, wCursor[WCUR_ROOT]);
 
     /* screen descriptor for raster graphic library */
@@ -767,26 +735,24 @@
     scr->w_depth = scr->rcontext->depth;
     scr->w_colormap = scr->rcontext->cmap;
 
-    scr->black_pixel = scr->rcontext->black;
-    scr->white_pixel = scr->rcontext->white;    
-
     /* create screen descriptor for WINGs */
     scr->wmscreen = WMCreateScreenWithRContext(dpy, screen_number,
 					       scr->rcontext);
 
     if (!scr->wmscreen) {
-	wfatal(_("could not do initialization of WINGs widget set"));
-
+	wfatal(_("could not initialize WINGs widget set"));
 	return NULL;
     }
 
-    color = WMGrayColor(scr->wmscreen);
-    scr->light_pixel = WMColorPixel(color);
-    WMReleaseColor(color);
-
-    color = WMDarkGrayColor(scr->wmscreen);
-    scr->dark_pixel = WMColorPixel(color);
-    WMReleaseColor(color);
+    scr->black    = WMBlackColor(scr->wmscreen);
+    scr->white    = WMWhiteColor(scr->wmscreen);
+    scr->gray     = WMGrayColor(scr->wmscreen);
+    scr->darkGray = WMDarkGrayColor(scr->wmscreen);
+
+    scr->black_pixel = WMColorPixel(scr->black); /*scr->rcontext->black;*/
+    scr->white_pixel = WMColorPixel(scr->white); /*scr->rcontext->white;*/
+    scr->light_pixel = WMColorPixel(scr->gray);
+    scr->dark_pixel  = WMColorPixel(scr->darkGray);
 
     {
 	XColor xcol;
@@ -798,7 +764,6 @@
     /* create GCs with default values */
     allocGCs(scr);
 
-    
     /* for our window manager info notice board. Need to
      * create before reading the defaults, because it will be used there. 
      */
@@ -853,9 +818,12 @@
     /* initialize balloon text stuff */
     wBalloonInitialize(scr);
 #endif
-    
+
     scr->info_text_font = WMBoldSystemFontOfSize(scr->wmscreen, 12);
-					     
+
+    scr->tech_draw_font = WMCreateFontWithFlags(scr->wmscreen,
+                                                "BoldSystemFont-12",
+                                                WFNotAntialiased);
 
     scr->gview = WCreateGeometryView(scr->wmscreen);
     WMRealizeWidget(scr->gview);
@@ -866,23 +834,157 @@
 }
 
 
-
-static WArea subtractRectangle(WArea area, WArea rect)
+void
+wScreenUpdateUsableArea(WScreen *scr)
 {
-    WArea result = area;
-    
-    
-}
+    /*
+     * scr->totalUsableArea[] will become the usableArea used for Windowplacement,
+     * scr->usableArea[] will be used for iconplacement, hence no iconyard nor
+     * border.
+     */
 
+    int i;
+    unsigned long best_area = 0, tmp_area;
+    WArea area;
+    int dock_head = scr->xine_info.primary_head;
+
+    if (scr->dock) {
+        WMRect rect;
+        rect.pos.x = scr->dock->x_pos;
+        rect.pos.y = scr->dock->y_pos;
+        rect.size.width  = wPreferences.icon_size;
+        rect.size.height = wPreferences.icon_size;
+	dock_head = wGetHeadForRect(scr, rect);
+    }
+    
+    for (i=0; i<wXineramaHeads(scr); ++i) {
+	WMRect rect = wGetRectForHead(scr, i);
+        scr->totalUsableArea[i].x1 = rect.pos.x;
+        scr->totalUsableArea[i].y1 = rect.pos.y;
+        scr->totalUsableArea[i].x2 = rect.pos.x + rect.size.width;
+        scr->totalUsableArea[i].y2 = rect.pos.y + rect.size.height;
+
+	if (scr->dock && dock_head==i &&
+            (!scr->dock->lowered || wPreferences.no_window_over_dock)) {
+	    int offset = wPreferences.icon_size + DOCK_EXTRA_SPACE;
 
+	    if (scr->dock->on_right_side) {
+		scr->totalUsableArea[i].x2 -= offset;
+	    } else {
+		scr->totalUsableArea[i].x1 += offset;
+	    }
+	}
+
+#ifdef NETWM_HINTS
+        {
+	    WArea area;
+	    if (wNETWMGetUsableArea(scr, i, &area)) {
+		scr->totalUsableArea[i].x1 = WMAX(scr->totalUsableArea[i].x1, area.x1);
+		scr->totalUsableArea[i].y1 = WMAX(scr->totalUsableArea[i].y1, area.y1);
+		scr->totalUsableArea[i].x2 = WMIN(scr->totalUsableArea[i].x2, area.x2);
+		scr->totalUsableArea[i].y2 = WMIN(scr->totalUsableArea[i].y2, area.y2);
+	    }
+	}
+#endif
+
+#ifdef GNOME_STUFF
+	{
+	    WArea area;
+	    if (wGNOMEGetUsableArea(scr, i, &area)) {
+		scr->totalUsableArea[i].x1 = WMAX(scr->totalUsableArea[i].x1, area.x1);
+		scr->totalUsableArea[i].y1 = WMAX(scr->totalUsableArea[i].y1, area.y1);
+		scr->totalUsableArea[i].x2 = WMIN(scr->totalUsableArea[i].x2, area.x2);
+		scr->totalUsableArea[i].y2 = WMIN(scr->totalUsableArea[i].y2, area.y2);
+	    }
+	}
+#endif
+
+#ifdef KWM_HINTS
+	{
+	    WArea area;
+	    if (wKWMGetUsableArea(scr, i, &area)) {
+		scr->totalUsableArea[i].x1 = WMAX(scr->totalUsableArea[i].x1, area.x1);
+		scr->totalUsableArea[i].y1 = WMAX(scr->totalUsableArea[i].y1, area.y1);
+		scr->totalUsableArea[i].x2 = WMIN(scr->totalUsableArea[i].x2, area.x2);
+		scr->totalUsableArea[i].y2 = WMIN(scr->totalUsableArea[i].y2, area.y2);
+	    }
+	}
+#endif
+
+	scr->usableArea[i] = scr->totalUsableArea[i];
+
+#if 0
+	printf("usableArea[%d]: %d %d %d %d\n", i,
+               scr->usableArea[i].x1, scr->usableArea[i].x2,
+               scr->usableArea[i].y1, scr->usableArea[i].y2);
+#endif
+
+	if (wPreferences.no_window_over_icons) {
+	    if (wPreferences.icon_yard & IY_VERT) {
+		if (wPreferences.icon_yard & IY_RIGHT) {
+		    scr->totalUsableArea[i].x2 -= wPreferences.icon_size;
+		} else {
+		    scr->totalUsableArea[i].x1 += wPreferences.icon_size;
+		}
+	    } else {
+		if (wPreferences.icon_yard & IY_TOP) {
+		    scr->totalUsableArea[i].y1 += wPreferences.icon_size;
+		} else {
+		    scr->totalUsableArea[i].y2 -= wPreferences.icon_size;
+		}
+	    }
+	}
+
+	if (scr->totalUsableArea[i].x2 - scr->totalUsableArea[i].x1 < rect.size.width/2) {
+	    scr->totalUsableArea[i].x1 = rect.pos.x;
+	    scr->totalUsableArea[i].x2 = rect.pos.x + rect.size.width;
+        }
+
+	if (scr->totalUsableArea[i].y2 - scr->totalUsableArea[i].y1 < rect.size.height/2) {
+	    scr->totalUsableArea[i].y1 = rect.pos.y;
+	    scr->totalUsableArea[i].y2 = rect.pos.y + rect.size.height;
+	}
+
+	tmp_area = (scr->totalUsableArea[i].x2 - scr->totalUsableArea[i].x1) * 
+	    (scr->totalUsableArea[i].y2 - scr->totalUsableArea[i].y1);
+
+	if (tmp_area > best_area) {
+	    best_area = tmp_area;
+	    area = scr->totalUsableArea[i];
+	}
+
+	{
+	    unsigned size = wPreferences.workspace_border_size;
+	    unsigned position = wPreferences.workspace_border_position;
+
+	    if (size>0 && position!=WB_NONE) {
+		if (position & WB_LEFTRIGHT) {
+		    scr->totalUsableArea[i].x1 += size;
+		    scr->totalUsableArea[i].x2 -= size;
+		}
+		if (position & WB_TOPBOTTOM) {
+		    scr->totalUsableArea[i].y1 += size;
+		    scr->totalUsableArea[i].y2 -= size;
+		}
+	    }
+	}
+    }
+
+#ifdef NETWM_HINTS
+    wNETWMUpdateWorkarea(scr, area);
+#endif
+
+    if (wPreferences.auto_arrange_icons) {
+        wArrangeIcons(scr, True);
+    }
+}
+
+#if 0
 void
 wScreenUpdateUsableArea(WScreen *scr)
 {
-    WReservedArea *area;
-
     scr->totalUsableArea = scr->usableArea;
 
-
     if (scr->dock && (!scr->dock->lowered 
 		      || wPreferences.no_window_over_dock)) {
 
@@ -928,46 +1030,48 @@
 #endif
 
 #ifdef GNOME_STUFF
-    area = scr->reservedAreas;    
+    {
+        WReservedArea *area = scr->reservedAreas;
 
-    while (area) {
-	int th, bh;
-	int lw, rw;
-	int w, h;
-
-	w = area->area.x2 - area->area.x1;
-	h = area->area.y2 - area->area.y1;
-
-	th = area->area.y1;
-	bh = scr->scr_height - area->area.y2;
-	lw = area->area.x1;
-	rw = scr->scr_width - area->area.x2;
-
-	if (WMIN(th, bh) <= WMIN(lw, rw)) {
-	    /* horizontal */
-	    if (th < bh) {
-		/* on top */
-		if (scr->totalUsableArea.y1 < area->area.y2)
-		    scr->totalUsableArea.y1 = area->area.y2;
-	    } else {
-		/* on bottom */
-		if (scr->totalUsableArea.y2 > area->area.y1)
-		    scr->totalUsableArea.y2 = area->area.y1;
-	    }
-	} else {
-	    /* vertical */
-	    if (lw < rw) {
-		/* on left */
-		if (scr->totalUsableArea.x1 < area->area.x2)
-		    scr->totalUsableArea.x1 = area->area.x2;
-	    } else {
-		/* on right */
-		if (scr->totalUsableArea.x2 > area->area.x1)
-		    scr->totalUsableArea.x2 = area->area.x1;
-	    }
-	}
+        while (area) {
+            int th, bh;
+            int lw, rw;
+            int w, h;
+
+            w = area->area.x2 - area->area.x1;
+            h = area->area.y2 - area->area.y1;
+
+            th = area->area.y1;
+            bh = scr->scr_height - area->area.y2;
+            lw = area->area.x1;
+            rw = scr->scr_width - area->area.x2;
+
+            if (WMIN(th, bh) <= WMIN(lw, rw)) {
+                /* horizontal */
+                if (th < bh) {
+                    /* on top */
+                    if (scr->totalUsableArea.y1 < area->area.y2)
+                        scr->totalUsableArea.y1 = area->area.y2;
+                } else {
+                    /* on bottom */
+                    if (scr->totalUsableArea.y2 > area->area.y1)
+                        scr->totalUsableArea.y2 = area->area.y1;
+                }
+            } else {
+                /* vertical */
+                if (lw < rw) {
+                    /* on left */
+                    if (scr->totalUsableArea.x1 < area->area.x2)
+                        scr->totalUsableArea.x1 = area->area.x2;
+                } else {
+                    /* on right */
+                    if (scr->totalUsableArea.x2 > area->area.x1)
+                        scr->totalUsableArea.x2 = area->area.x1;
+                }
+            }
 
-	area = area->next;
+            area = area->next;
+        }
     }
 #endif /* GNOME_STUFF */
 
@@ -1008,7 +1112,11 @@
         }
     }
 
+    if (wPreferences.auto_arrange_icons) {
+        wArrangeIcons(scr, True);
+    }
 }
+#endif
 
 
 void
@@ -1017,7 +1125,7 @@
     WMPropList *state;
     char *path;
 
-    
+
 #ifndef LITE
     OpenRootMenu(scr, -10000, -10000, False);
     wMenuUnmap(scr->root_menu);
@@ -1154,7 +1262,46 @@
 {
     int moved = 0;
     int tol_w, tol_h;
+    /*
+     * With respect to the head that contains most of the window.
+     */
+    int sx1, sy1, sx2, sy2;
+
+    WMRect rect;
+    int head, flags;
 
+    rect.pos.x = *x;
+    rect.pos.y = *y;
+    rect.size.width = width;
+    rect.size.height = height;
+
+    head = wGetRectPlacementInfo(scr, rect, &flags);
+    rect = wGetRectForHead(scr, head);
+
+    sx1 = rect.pos.x;
+    sy1 = rect.pos.y;
+    sx2 = sx1 + rect.size.width;
+    sy2 = sy1 + rect.size.height;
+
+#if 0 /* NOTE: gives funky group movement */
+    if (flags & XFLAG_MULTIPLE) {
+	/*
+	 * since we span multiple heads, pull window totaly inside
+	 */
+	if (*x < sx1)
+	    *x = sx1, moved = 1;
+	else if (*x + width > sx2)
+	    *x = sx2 - width, moved = 1;
+
+	if (*y < sy1)
+	    *y = sy1, moved = 1;
+	else if (*y + height > sy2)
+	    *y = sy2 - height, moved = 1;
+
+	return moved;
+    }
+#endif
+    
     if (width > 20)
 	tol_w = width/2;
     else
@@ -1165,15 +1312,51 @@
     else
 	tol_h = 20;
 
-    if (*x+width < 10)
-	*x = -tol_w, moved = 1;
-    else if (*x >= scr->scr_width - 10)
-	*x = scr->scr_width - tol_w - 1, moved = 1;
-
-    if (*y < -height + 10)
-	*y = -tol_h, moved = 1;
-    else if (*y >= scr->scr_height - 10)
-	*y = scr->scr_height - tol_h - 1, moved = 1;
+    if (*x + width < sx1 + 10)
+	*x = sx1 - tol_w, moved = 1;
+    else if (*x >= sx2 - 10)
+	*x = sx2 - tol_w - 1, moved = 1;
+
+    if (*y < sy1 - height + 10)
+	*y = sy1 - tol_h, moved = 1;
+    else if (*y >= sy2 - 10)
+	*y = sy2 - tol_h - 1, moved = 1;
+
+    return moved;
+}
+
+
+
+int
+wScreenKeepInside(WScreen *scr, int *x, int *y, int width, int height)
+{
+    int moved = 0;
+    int sx1, sy1, sx2, sy2;
+    WMRect rect;
+    int head;
+
+    rect.pos.x = *x;
+    rect.pos.y = *y;
+    rect.size.width = width;
+    rect.size.height = height;
+
+    head = wGetHeadForRect(scr, rect);
+    rect = wGetRectForHead(scr, head);
+
+    sx1 = rect.pos.x;
+    sy1 = rect.pos.y;
+    sx2 = sx1 + rect.size.width;
+    sy2 = sy1 + rect.size.height;
+
+    if (*x < sx1)
+	*x = sx1, moved = 1;
+    else if (*x + width > sx2)
+	*x = sx2 - width, moved = 1;
+
+    if (*y < sy1)
+	*y = sy1, moved = 1;
+    else if (*y + height > sy2)
+	*y = sy2 - height, moved = 1;
 
     return moved;
 }
diff -Naur WindowMaker-0.80.2/src/screen.h wm-xft2/src/screen.h
--- WindowMaker-0.80.2/src/screen.h	2002-02-21 14:28:48.000000000 +0300
+++ wm-xft2/src/screen.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -28,10 +28,6 @@
 
 #include <WINGs/WUtil.h>
 
-#ifdef XINERAMA
-#include <X11/extensions/Xinerama.h>
-#endif
-
 
 #define WTB_LEFT	0
 #define WTB_RIGHT	1
@@ -42,6 +38,15 @@
 #define WTB_MENU 6
 
 
+
+typedef struct {
+    WMRect *screens;
+    int count;                 /* screen count, 0 = inactive */
+    int primary_head;	       /* main working screen */
+} WXineramaInfo;
+
+
+
 /* an area of the screen reserved by some window */
 typedef struct WReservedArea {
     WArea area;
@@ -92,12 +97,8 @@
     Visual *w_visual;
     int  w_depth;
     Colormap w_colormap;	       /* our colormap */
-    
-#ifdef XINERAMA
-    XineramaScreenInfo *xine_screens;
-    int xine_count;		       /* 0 means not active */
-    int xine_primary_head;	       /* main working screen */
-#endif
+
+    WXineramaInfo xine_info;
 
     Window no_focus_win;	       /* window to get focus when nobody
 					* else can do it */
@@ -134,16 +135,20 @@
 
     WReservedArea *reservedAreas;      /* used to build totalUsableArea */
 
-    WArea usableArea;		       /* area of the workspace where
+    WArea *usableArea;		       /* area of the workspace where
 					* we can put windows on, as defined
 					* by other clients (not us) */
-    WArea totalUsableArea;	       /* same as above, but including
+    WArea *totalUsableArea;	       /* same as above, but including
 					* the dock and other stuff */
-    
 
+    WMColor *black;
+    WMColor *white;
+    WMColor *gray;
+    WMColor *darkGray;
+
+    /* shortcuts for the pixels of the above colors. just for convenience */
     WMPixel black_pixel;
     WMPixel white_pixel;
-    
     WMPixel light_pixel;
     WMPixel dark_pixel;
 
@@ -157,16 +162,19 @@
     WMFont *clip_title_font;	       /* for clip titles */
     WMFont *info_text_font;	       /* text on things like geometry
 					* hint boxes */
+    WMFont *tech_draw_font;
+
     WMFont *workspace_name_font;
 
-    WMPixel select_pixel;
-    WMPixel select_text_pixel;
+    WMColor *select_color;
+    WMColor *select_text_color;
     /* foreground colors */
-    WMPixel window_title_pixel[3];     /* window titlebar text (foc, unfoc, pfoc)*/
-    WMPixel menu_title_pixel[3];       /* menu titlebar text */
-    WMPixel clip_title_pixel[2];       /* clip title text */
-    WMPixel mtext_pixel;	        /* menu item text */
-    WMPixel dtext_pixel;	        /* disabled menu item text */
+    WMColor *window_title_color[3];    /* window titlebar text (foc, unfoc, pfoc)*/
+    WMColor *menu_title_color[3];      /* menu titlebar text */
+    WMColor *clip_title_color[2];      /* clip title text */
+    WMColor *mtext_color;	       /* menu item text */
+    WMColor *dtext_color;	       /* disabled menu item text */
+
     WMPixel line_pixel;
     WMPixel frame_border_pixel;	       /* frame border */
 
@@ -180,20 +188,14 @@
     struct WTexSolid *menu_item_auxtexture; /* additional texture to draw menu
 					* cascade arrows */
     struct WTexSolid *icon_title_texture;/* icon titles */
-    
+
     struct WTexSolid *widget_texture;
 
     struct WTexSolid *icon_back_texture; /* icon back color for shadowing */
 
-    GC window_title_gc;		       /* window title text GC */
-    GC menu_title_gc;		       /* menu titles */
-    
-    GC icon_title_gc;		       /* icon title background */
-    GC clip_title_gc;		       /* clip title */
-    GC menu_entry_gc;		       /* menu entries */
-    GC select_menu_gc;		       /* selected menu entries */
-    GC disabled_menu_entry_gc;	       /* disabled menu entries */
-    GC info_text_gc;		       /* for size/position display */
+
+    WMColor *icon_title_color;	       /* icon title color */
+
     GC icon_select_gc;
 
     GC frame_gc;		       /* gc for resize/move frame (root) */
@@ -300,7 +302,7 @@
     Window kwm_dock;
 #endif
     
-#ifdef NET_HINTS
+#ifdef NETWM_HINTS
     struct NetData *netdata;
 #endif
 
@@ -347,6 +349,8 @@
 void wScreenRestoreState(WScreen *scr);
 
 int wScreenBringInside(WScreen *scr, int *x, int *y, int width, int height);
+int wScreenKeepInside(WScreen *scr, int *x, int *y, int width, int height);
+
 
 /* in startup.c */
 WScreen *wScreenWithNumber(int i);
diff -Naur WindowMaker-0.80.2/src/session.c wm-xft2/src/session.c
--- WindowMaker-0.80.2/src/session.c	2002-02-21 14:28:50.000000000 +0300
+++ wm-xft2/src/session.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /* session.c - session state handling and R6 style session management
  *
- *  Copyright (c) 1998-2002 Dan Pascu
- *  Copyright (c) 1998-2002 Alfredo Kojima
+ *  Copyright (c) 1998-2003 Dan Pascu
+ *  Copyright (c) 1998-2003 Alfredo Kojima
  *
  *  Window Maker window manager
  *
@@ -289,7 +289,7 @@
                 for(i=0; i<scr->workspace_count; i++)
                     if(scr->workspaces[i]->clip == wapp->app_icon->dock)
                         break;
-                assert( i < scr->workspace_count);
+                assert(i < scr->workspace_count);
                 /*n = i+1;*/
                 name = scr->workspaces[i]->name;
             }
diff -Naur WindowMaker-0.80.2/src/session.h wm-xft2/src/session.h
--- WindowMaker-0.80.2/src/session.h	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/src/session.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,6 +1,6 @@
 /*  session.h
  *
- *  Copyright (c) 1999-2002 Alfredo K. Kojima
+ *  Copyright (c) 1999-2003 Alfredo K. Kojima
  *
  *  Window Maker window manager
  *
diff -Naur WindowMaker-0.80.2/src/shutdown.c wm-xft2/src/shutdown.c
--- WindowMaker-0.80.2/src/shutdown.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/src/shutdown.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/stacking.c wm-xft2/src/stacking.c
--- WindowMaker-0.80.2/src/stacking.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/src/stacking.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
- *  Copyright (c) 1998-2002 Dan Pascu
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Dan Pascu
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -208,10 +208,12 @@
 	frame->stacking->under->stacking->above = frame->stacking->above;
     if (frame->stacking->above)
 	frame->stacking->above->stacking->under = frame->stacking->under;
-	
+
     frame->stacking->above = NULL;
     frame->stacking->under = WMGetFromBag(scr->stacking_list, level);
-    frame->stacking->under->stacking->above = frame;
+    if (frame->stacking->under) {
+        frame->stacking->under->stacking->above = frame;
+    }
     WMSetInBag(scr->stacking_list, level, frame);
 
     /* raise transients under us from bottom to top 
@@ -325,9 +327,9 @@
     wlist = WMGetFromBag(scr->stacking_list, level);
 
     /* look for place to put this window */
-    {
+    if (wlist) {
 	WCoreWindow *owner = frame->stacking->child_of;
-	
+
 	if (owner != wlist) {
 	    while (wlist->stacking->under) {
 		/* if this is a transient, it should not be placed under 
@@ -337,13 +339,17 @@
 		wlist = wlist->stacking->under;
 	    }
 	}
-    } 
+    }
     /* insert under the place found */
     frame->stacking->above = wlist;
-    frame->stacking->under = wlist->stacking->under;
-    if (wlist->stacking->under)
-	wlist->stacking->under->stacking->above = frame;
-    wlist->stacking->under = frame;
+    if (wlist) {
+        frame->stacking->under = wlist->stacking->under;
+        if (wlist->stacking->under)
+            wlist->stacking->under->stacking->above = frame;
+        wlist->stacking->under = frame;
+    } else {
+        frame->stacking->under = NULL;
+    }
 
     if (frame->stacking->above == NULL) {
 	WMBagIterator iter;
diff -Naur WindowMaker-0.80.2/src/stacking.h wm-xft2/src/stacking.h
--- WindowMaker-0.80.2/src/stacking.h	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/src/stacking.h	2003-10-22 14:08:37.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/stamp-h.in wm-xft2/src/stamp-h.in
--- WindowMaker-0.80.2/src/stamp-h.in	2002-03-26 13:55:21.000000000 +0300
+++ wm-xft2/src/stamp-h.in	1970-01-01 03:00:00.000000000 +0300
@@ -1 +0,0 @@
-timestamp
diff -Naur WindowMaker-0.80.2/src/startup.c wm-xft2/src/startup.c
--- WindowMaker-0.80.2/src/startup.c	2002-02-21 14:28:50.000000000 +0300
+++ wm-xft2/src/startup.c	2003-10-22 14:08:37.000000000 +0400
@@ -1,8 +1,8 @@
 /*
  *  Window Maker window manager
  *
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
- *  Copyright (c) 1998-2002 Dan Pascu
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Dan Pascu
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -902,6 +902,7 @@
 	wwarning(_("could not read domain \"%s\" from defaults database"),
 		 "WMRootMenu");
     }
+    wDefaultsMergeGlobalMenus(WDRootMenu);
 
     WDWindowAttributes = wDefaultsInitDomain("WMWindowAttributes", True);
     if (!WDWindowAttributes->dictionary) {
@@ -951,6 +952,10 @@
 	wScreenCount++;
     }
 
+#ifndef LITE
+    InitializeSwitchMenu();
+#endif
+
     /* initialize/restore state for the screens */
     for (j = 0; j < wScreenCount; j++) {
         int crashed;
diff -Naur WindowMaker-0.80.2/src/superfluous.c wm-xft2/src/superfluous.c
--- WindowMaker-0.80.2/src/superfluous.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/src/superfluous.c	2003-10-22 14:08:37.000000000 +0400
@@ -1,8 +1,8 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
- *  Copyright (c) 1998-2002 Dan Pascu
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Dan Pascu
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -492,7 +492,7 @@
     RImage *image;
     Pixmap d[12];
 
-    f = fopen(PKGDATADIR"/xtree.dat", "r");
+    f = fopen(PKGDATADIR"/xtree.dat", "rb");
     if (!f)
 	return False;
 
diff -Naur WindowMaker-0.80.2/src/superfluous.h wm-xft2/src/superfluous.h
--- WindowMaker-0.80.2/src/superfluous.h	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/src/superfluous.h	2003-10-22 14:08:37.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/switchmenu.c wm-xft2/src/switchmenu.c
--- WindowMaker-0.80.2/src/switchmenu.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/src/switchmenu.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  *  Window Maker window manager
  * 
  *  Copyright (c) 1997      Shige Abe
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -46,6 +46,9 @@
 extern Time LastTimestamp;
 
 
+static int initialized = 0;
+
+
 static void observer(void *self, WMNotification *notif);
 static void wsobserver(void *self, WMNotification *notif);
 
@@ -84,7 +87,28 @@
 	wWindowConfigure(wwin, x, y, wwin->client.width, wwin->client.height);
     }
 }
- 
+
+
+void
+InitializeSwitchMenu()
+{
+    if (!initialized) {
+        initialized = 1;
+
+        WMAddNotificationObserver(observer, NULL, WMNManaged, NULL);
+        WMAddNotificationObserver(observer, NULL, WMNUnmanaged, NULL);
+        WMAddNotificationObserver(observer, NULL, WMNChangedWorkspace, NULL);
+        WMAddNotificationObserver(observer, NULL, WMNChangedState, NULL);
+        WMAddNotificationObserver(observer, NULL, WMNChangedFocus, NULL);
+        WMAddNotificationObserver(observer, NULL, WMNChangedStacking, NULL);
+        WMAddNotificationObserver(observer, NULL, WMNChangedName, NULL);
+
+        WMAddNotificationObserver(wsobserver, NULL, WMNWorkspaceChanged, NULL);
+        WMAddNotificationObserver(wsobserver, NULL, WMNWorkspaceNameChanged, NULL);
+    }
+}
+
+
 /*
  *
  * Open switch menu 
@@ -95,22 +119,6 @@
 {
     WMenu *switchmenu = scr->switch_menu;
     WWindow *wwin;
-    static int initialized = 0;
-    
-    if (!initialized) {
-	initialized = 1;
-
-	WMAddNotificationObserver(observer, NULL, WMNManaged, NULL);
-	WMAddNotificationObserver(observer, NULL, WMNUnmanaged, NULL);
-	WMAddNotificationObserver(observer, NULL, WMNChangedWorkspace, NULL);
-	WMAddNotificationObserver(observer, NULL, WMNChangedState, NULL);
-	WMAddNotificationObserver(observer, NULL, WMNChangedFocus, NULL);
-	WMAddNotificationObserver(observer, NULL, WMNChangedStacking, NULL);
-	WMAddNotificationObserver(observer, NULL, WMNChangedName, NULL);
-
-	WMAddNotificationObserver(wsobserver, NULL, WMNWorkspaceChanged, NULL);
-	WMAddNotificationObserver(wsobserver, NULL, WMNWorkspaceNameChanged, NULL);	
-    }
 
     if (switchmenu) {
 	if (switchmenu->flags.mapped) {
@@ -400,24 +408,27 @@
 }
 
 
-static void observer(void *self, WMNotification *notif)
+static void
+observer(void *self, WMNotification *notif)
 {
     WWindow *wwin = (WWindow*)WMGetNotificationObject(notif);
     const char *name = WMGetNotificationName(notif);
     void *data = WMGetNotificationClientData(notif);
 
-    if (strcmp(name, WMNManaged) == 0 && wwin)
+    if (!wwin)
+        return;
+
+    if (strcmp(name, WMNManaged) == 0)
 	UpdateSwitchMenu(wwin->screen_ptr, wwin, ACTION_ADD);
-    else if (strcmp(name, WMNUnmanaged) == 0 && wwin)
+    else if (strcmp(name, WMNUnmanaged) == 0)
 	UpdateSwitchMenu(wwin->screen_ptr, wwin, ACTION_REMOVE);
-    else if (strcmp(name, WMNChangedWorkspace) == 0 && wwin)
+    else if (strcmp(name, WMNChangedWorkspace) == 0)
 	UpdateSwitchMenu(wwin->screen_ptr, wwin, ACTION_CHANGE_WORKSPACE);
-    else if (strcmp(name, WMNChangedFocus) == 0 && wwin)
+    else if (strcmp(name, WMNChangedFocus) == 0)
 	UpdateSwitchMenu(wwin->screen_ptr, wwin, ACTION_CHANGE_STATE);
-    else if (strcmp(name, WMNChangedName) == 0 && wwin)
+    else if (strcmp(name, WMNChangedName) == 0)
 	UpdateSwitchMenu(wwin->screen_ptr, wwin, ACTION_CHANGE);
-    else if (strcmp(name, WMNChangedState) == 0 && wwin) {
-
+    else if (strcmp(name, WMNChangedState) == 0) {
 	if (strcmp((char*)data, "omnipresent") == 0) {
 	    UpdateSwitchMenu(wwin->screen_ptr, wwin, ACTION_CHANGE_WORKSPACE);
 	} else {
@@ -427,7 +438,8 @@
 }
 
 
-static void wsobserver(void *self, WMNotification *notif)
+static void
+wsobserver(void *self, WMNotification *notif)
 {
     WScreen *scr = (WScreen*)WMGetNotificationObject(notif);
     const char *name = WMGetNotificationName(notif);
diff -Naur WindowMaker-0.80.2/src/text.c wm-xft2/src/text.c
--- WindowMaker-0.80.2/src/text.c	2001-10-04 04:59:51.000000000 +0400
+++ wm-xft2/src/text.c	2003-10-22 14:08:38.000000000 +0400
@@ -322,66 +322,64 @@
  * Global: dpy    - the display                                     *
 \********************************************************************/
 static void
-textRefresh( WTextInput *wtext )
-  {
-  int  x1,x2,y1,y2;
-  char *ptr = wtext->text.txt;
-  
-  /* x1,y1 is the upper left corner of the text box */
-  x1 = wtext->xOffset;
-  y1 = wtext->yOffset;
-  /* x2,y2 is the lower right corner of the text box */
-  x2 = wtext->core->width - wtext->xOffset;
-  y2 = wtext->core->height - wtext->yOffset;
-
-  /* Fill in the text field.  Use the invGC to draw the rectangle, 
-   * becuase then it will be the background color */
-  XFillRectangle( dpy, wtext->core->window, wtext->invGC,
-                x1, y1, x2-x1, y2-y1 );
-
-  /* Draw the text normally */
-  WMDrawString(wtext->core->screen_ptr->wmscreen, wtext->core->window, 
-	       wtext->regGC, wtext->font, x1, y1, ptr, wtext->text.length);
+textRefresh(WTextInput *wtext)
+{
+    WScreen *scr = wtext->core->screen_ptr;
+    char *ptr = wtext->text.txt;
+    int  x1,x2,y1,y2;
+
+    /* x1,y1 is the upper left corner of the text box */
+    x1 = wtext->xOffset;
+    y1 = wtext->yOffset;
+    /* x2,y2 is the lower right corner of the text box */
+    x2 = wtext->core->width - wtext->xOffset;
+    y2 = wtext->core->height - wtext->yOffset;
+
+    /* Fill in the text field.  Use the invGC to draw the rectangle,
+     * becuase then it will be the background color */
+    XFillRectangle(dpy, wtext->core->window, wtext->invGC,
+                   x1, y1, x2-x1, y2-y1);
+
+    /* Draw the text normally */
+    WMDrawImageString(scr->wmscreen, wtext->core->window,
+                      scr->black, scr->white, wtext->font, x1, y1, ptr,
+                      wtext->text.length);
+
+    /* Draw the selected text */
+    if (wtext->text.startPos != wtext->text.endPos) {
+        int sp,ep;
+        /* we need sp < ep */
+        if (wtext->text.startPos > wtext->text.endPos) {
+            sp = wtext->text.endPos;
+            ep = wtext->text.startPos;
+        } else {
+            sp = wtext->text.startPos;
+            ep = wtext->text.endPos;
+        }
 
-  /* Draw the selected text */
-  if( wtext->text.startPos != wtext->text.endPos )
-    {
-    int sp,ep;
-    /* we need sp < ep */
-    if( wtext->text.startPos > wtext->text.endPos )
-      {
-      sp = wtext->text.endPos;
-      ep = wtext->text.startPos;
-      }
-    else
-      {
-      sp = wtext->text.startPos;
-      ep = wtext->text.endPos;
-      }
-    
-    /* x1,y1 is now the upper-left of the selected area */
-    x1 += WMWidthOfString( wtext->font, ptr, sp );
-    /* and x2,y2 is the lower-right of the selected area */
-    ptr += sp * sizeof(char);
-    x2 = x1 + WMWidthOfString( wtext->font, ptr, (ep - sp) );
-    /* Fill in the area  where the selected text will go:     *
-     * use the regGC to draw the rectangle, becuase then it   *
-     * will be the color of the non-selected text             */
-    XFillRectangle( dpy, wtext->core->window, wtext->regGC,
-                  x1, y1, x2-x1, y2-y1 );
-    
-    /* Draw the selected text... use invGC so it will be the
-     * opposite color as the filled rectangle */
-    WMDrawString(wtext->core->screen_ptr->wmscreen, wtext->core->window, 
-		 wtext->invGC, wtext->font, x1, y1, ptr, (ep - sp));
+        /* x1,y1 is now the upper-left of the selected area */
+        x1 += WMWidthOfString(wtext->font, ptr, sp);
+        /* and x2,y2 is the lower-right of the selected area */
+        ptr += sp * sizeof(char);
+        x2 = x1 + WMWidthOfString(wtext->font, ptr, (ep - sp));
+        /* Fill in the area  where the selected text will go:     *
+         * use the regGC to draw the rectangle, becuase then it   *
+         * will be the color of the non-selected text             */
+        XFillRectangle(dpy, wtext->core->window, wtext->regGC,
+                       x1, y1, x2-x1, y2-y1);
+
+        /* Draw the selected text. Inverse bg and fg colors for selection */
+        WMDrawImageString(scr->wmscreen, wtext->core->window,
+                          scr->white, scr->black, wtext->font, x1, y1, ptr,
+                          (ep - sp));
     }
-  
-  /* And draw a quick little line for the cursor position */
-  x1 = WMWidthOfString( wtext->font, wtext->text.txt, wtext->text.endPos )
-       + wtext->xOffset;
-  XDrawLine( dpy, wtext->core->window, wtext->regGC, x1, 2, x1, 
-	     wtext->core->height - 3 );
-  }
+
+    /* And draw a quick little line for the cursor position */
+    x1 = WMWidthOfString(wtext->font, wtext->text.txt, wtext->text.endPos)
+        + wtext->xOffset;
+    XDrawLine(dpy, wtext->core->window, wtext->regGC, x1, 2, x1,
+              wtext->core->height - 3);
+}
 
 
 /********************************************************************\
diff -Naur WindowMaker-0.80.2/src/texture.c wm-xft2/src/texture.c
--- WindowMaker-0.80.2/src/texture.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/src/texture.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/texture.h wm-xft2/src/texture.h
--- WindowMaker-0.80.2/src/texture.h	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/src/texture.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/usermenu.c wm-xft2/src/usermenu.c
--- WindowMaker-0.80.2/src/usermenu.c	2001-10-04 04:59:51.000000000 +0400
+++ wm-xft2/src/usermenu.c	2003-10-22 14:08:38.000000000 +0400
@@ -355,7 +355,7 @@
     char buffer[100];
     char *path = NULL;
     char *tmp;
-    if ( wwin->wm_instance && wwin->wm_class ) {
+    if (wwin->wm_instance && wwin->wm_class) {
 	int len = strlen(wwin->wm_instance)+strlen(wwin->wm_class)+7;
         tmp=wmalloc(len);
         snprintf(tmp,len,"%s.%s.menu",wwin->wm_instance,wwin->wm_class);
diff -Naur WindowMaker-0.80.2/src/wconfig.h wm-xft2/src/wconfig.h
--- WindowMaker-0.80.2/src/wconfig.h	2002-07-02 04:38:54.000000000 +0400
+++ wm-xft2/src/wconfig.h	1970-01-01 03:00:00.000000000 +0300
@@ -1,607 +0,0 @@
-/*
- * wconfig.h- default configuration and definitions + compile time options
- * 
- *  WindowMaker window manager
- * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
- * 
- *  This program is free software; you can redistribute it and/or modify
- *  it under the terms of the GNU General Public License as published by
- *  the Free Software Foundation; either version 2 of the License, or
- *  (at your option) any later version.
- *
- *  This program is distributed in the hope that it will be useful,
- *  but WITHOUT ANY WARRANTY; without even the implied warranty of
- *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
- *  GNU General Public License for more details.
- *
- *  You should have received a copy of the GNU General Public License
- *  along with this program; if not, write to the Free Software
- *  Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
- */
-
-#ifndef WMCONFIG_H_
-#define WMCONFIG_H_
-
-#include "config.h"
-
-/*** Change this file (wconfig.h) *after* you ran configure ***/
-
-/*
- *--------------------------------------------------------------------
- * 			Feature Selection
- * 
- * 	Comment out the following #defines if you want to 
- * disable a feature. 
- * 	Also check the features you can enable through configure.
- *--------------------------------------------------------------------
- */
-
-
-/*
- * #undefine if you dont want texture plugin support or your system have
- * some sort of problem with them.
- */
-#define TEXTURE_PLUGIN
-
-#ifdef TEXTURE_PLUGIN
-#undef DRAWSTRING_PLUGIN
-#endif
-
-
-/* undefine ANIMATIONS if you don't want animations for iconification,
- * shading, icon arrangement etc. */
-#define ANIMATIONS
-
-
-/*
- * undefine USECPP if you don't want your config files to be preprocessed
- * by cpp
- */
-#define USECPP
-
-/* #define CPP_PATH /usr/bin/cpp */
-
-/*
- * support for OffiX DND drag and drop in the Dock
- */
-#define OFFIX_DND
-
-/*
- * support for XDND drop in the Dock. Experimental
- */
-#ifdef GNOME_STUFF
-#define XDND
-#endif
-
-/*
- * support for Motif window manager (mwm) window hints
- */
-#define MWM_HINTS
-
-
-/*
- * Undefine BALLOON_TEXT if you don't want balloons for showing extra
- * information, like window titles that are not fully visible.
- */
-#define BALLOON_TEXT
-
-/*
- * If balloons should be shaped or be simple rectangles.
- * The X server must support the shape extensions and it's support
- * must be enabled (default).
- */
-#define SHAPED_BALLOON
-
-
-/*
- * Define NO_EMERGENCY_AUTORESTART if you don't want another window manager
- * automatically started when WindowMaker crashes. The X session will die
- * in some cases if wmaker crashes and autorestart is disabled.
- */
-#undef NO_EMERGENCY_AUTORESTART
-
-/* 
- * The window manager that is autorestarted
- */
-#define FALLBACK_WINDOWMANAGER "blackbox"
-
-/*
- * Turn on a hack to make mouse and keyboard actions work even if
- * the NumLock or ScrollLock modifiers are turned on. They might
- * inflict a performance/memory penalty.
- *
- * If you're an X expert (knows the implementation of XGrabKey() in X)
- * and knows that the penalty is small (or not), please tell me.
- */
-#define NUMLOCK_HACK
-
-
-
-/*
- * define OPTIMIZE_SHAPE if you want the shape setting code to be optimized
- * for applications that change their shape frequently (like xdaliclock
- * -shape), removing flickering. If wmaker and your display are on
- * different machines and the network connection is slow, it is not
- * recommended. 
- */
-#undef OPTIMIZE_SHAPE
-
-/* define CONFIGURE_WINDOW_WHILE_MOVING if you want WindowMaker to send
- * the synthetic ConfigureNotify event to windows while moving at every
- * single movement. Default is to send a synthetic ConfigureNotify event
- * only at the end of window moving, which improves performance.
- */
-#undef CONFIGURE_WINDOW_WHILE_MOVING
-
-
-/*
- * disable/enable workspace indicator in the dock
- */
-#undef WS_INDICATOR 
-
-
-/*
- * define HIDDENDOT if you want a dot to be shown in the application icon
- * of applications that are hidden.
- */
-#define HIDDENDOT
-
-
-/*
- * Ignores the PPosition hint from clients. This is needed for some
- * programs that have buggy implementations of such hint and place
- * themselves in strange locations.
- */
-#undef IGNORE_PPOSITION
-
-
-/*
- * Do not scale application icon and miniwindow icon images.
- */
-#undef DONT_SCALE_ICONS
-
-
-
-
-
-
-#define SILLYNESS
-
-
-
-
-
-/*
- *..........................................................................
- * The following options WILL NOT BE MADE RUN-TIME. Please do not request.
- * They will only add unneeded bloat.
- *..........................................................................
- */
-
-/*
- * define SHADOW_RESIZEBAR if you want a resizebar with shadows like in
- * AfterStep, instead of the default Openstep look.
- * NEXTSTEP 3.3 also does not have these shadows.
- */
-#undef SHADOW_RESIZEBAR
-
-/*
- * Define DEMATERIALIZE_ICON if you want the undocked icon animation
- * to be a progressive disaparison animation.
- * This will cause all application icons to be created with Save Under
- * enable.
- */
-#undef DEMATERIALIZE_ICON
-
-/*
- * Define ICON_KABOOM_EXTRA if you want extra fancy icon undocking
- * explosion animation.
- */
-#undef ICON_KABOOM_EXTRA
-
-/*
- * #define if you want the window creation animation when superfluous
- * is enabled. Only enable one of them.
- */
-#undef WINDOW_BIRTH_ZOOM
-
-#undef WINDOW_BIRTH_ZOOM2
-
-/*
- * whether arrow drawing in clip buttons should be gradiented
- */
-#undef GRADIENT_CLIP_ARROWS
-
-
-/*
- *--------------------------------------------------------------------
- * 			Default Configuration
- * 
- * 	Some of the following options can be configured in
- * the preference files, but if for some reason, they can't
- * be used, these defaults will be.
- * 	There are also some options that can only be configured here,
- * at compile time.
- *--------------------------------------------------------------------
- */
-
-/* list of paths to look for the config files, searched in order 
- * of appearance */
-#define DEF_CONFIG_PATHS \
-"~/GNUstep/Library/WindowMaker:"PKGDATADIR
-
-#define DEF_MENU_FILE	"menu"
-
-/* name of the script to execute at startup */
-#define DEF_INIT_SCRIPT "autostart"
-
-#define DEF_EXIT_SCRIPT "exitscript"
-
-#define DEFAULTS_DIR "Defaults"
-
-#ifdef USE_TIFF
-#define DEF_BUTTON_IMAGES PKGDATADIR"/buttons.tiff"
-#else
-#define DEF_BUTTON_IMAGES PKGDATADIR"/buttons.xpm"
-#endif
-
-/* the file of the system wide submenu to be forced into the main menu */
-/* remove the comments if you want it */
-/*
-#define GLOBAL_SUBMENU_FILE PKGDATADIR"/GlobalMenu"
-*/
-
-/* pixmap path */
-#define DEF_PIXMAP_PATHS \
-"(\"~/pixmaps\",\"~/GNUstep/Library/WindowMaker/Pixmaps\",\""PIXMAPDIR"\")"
-
-#ifdef USER_MENU
-#define GLOBAL_USER_MENU_PATH PKGDATADIR"/UserMenus"
-#define DEF_USER_MENU_PATHS \
-"~/GNUstep/Library/WindowMaker/UserMenus:"GLOBAL_USER_MENU_PATH
-#endif
-
-/* icon path */
-#define DEF_ICON_PATHS \
-"(\"~/pixmaps\",\"~/GNUstep/Library/Icons\",\"/usr/include/X11/pixmaps/\",\""PIXMAPDIR"\")"
-
-
-/* window title to use for untitled windows */
-#define DEF_WINDOW_TITLE "Untitled"
-
-/* default style */
-#define DEF_FRAME_COLOR   "white"
-
-
-#ifdef I18N
-#define DEF_TITLE_FONT "\"-*-*-medium-r-normal--14-*\""
-#define DEF_MENU_TITLE_FONT "\"-*-*-medium-r-normal--14-*\""
-#define DEF_MENU_ENTRY_FONT "\"-*-*-medium-r-normal--14-*\""
-#define DEF_ICON_TITLE_FONT "\"-*-*-medium-r-normal--10-*\""
-#define DEF_CLIP_TITLE_FONT "\"-*-*-medium-r-normal--10-*\""
-#define DEF_INFO_TEXT_FONT "\"-*-*-medium-r-normal--14-*\""
-#define DEF_ADDITONAL_FONT "-*-*-medium-r-normal--12-*"
-
-#define DEF_WORKSPACE_NAME_FONT "\"-*-*-medium-r-normal--24-*\""
-#else /* !I18N */
-#define DEF_TITLE_FONT "\"-*-helvetica-bold-r-normal-*-12-*-*-*-*-*-*-*\""
-#define DEF_MENU_TITLE_FONT "\"-*-helvetica-bold-r-normal-*-12-*-*-*-*-*-*-*\""
-#define DEF_MENU_ENTRY_FONT "\"-*-helvetica-medium-r-normal-*-12-*-*-*-*-*-*-*\""
-#define DEF_ICON_TITLE_FONT "\"-*-helvetica-medium-r-normal-*-8-*-*-*-*-*-*-*\""
-#define DEF_CLIP_TITLE_FONT "\"-*-helvetica-bold-r-normal-*-10-*-*-*-*-*-*-*\""
-#define DEF_INFO_TEXT_FONT "\"-*-helvetica-medium-r-normal-*-12-*-*-*-*-*-*-*\""
-
-#define DEF_WORKSPACE_NAME_FONT "\"-*-lucida-bold-r-*-*-24-*-*-*-*-*-*-*\""
-#endif /* !I18N */
-
-#define HELVETICA10_FONT "-*-helvetica-medium-r-normal-*-10-*-*-*-*-*-*-*"
-
-#define DEF_FRAME_THICKNESS 1	       /* linewidth of the move/resize frame */
-
-#define DEF_WINDOW_TITLE_EXTEND_SPACE	"0"
-#define DEF_MENU_TITLE_EXTEND_SPACE	"0"
-#define DEF_MENU_TEXT_EXTEND_SPACE	"0"
-#define TITLEBAR_EXTEND_SPACE 4
-
-#define DEF_XPM_CLOSENESS	40000 
-
-/* default position of application menus */
-#define DEF_APPMENU_X		10
-#define DEF_APPMENU_Y		10
-
-/* calculate window edge resistance from edge resistance */
-#define WIN_RESISTANCE(x)	(((x)*20)/30)
-
-/* Window level where icons reside */
-#define NORMAL_ICON_LEVEL WMNormalLevel
-
-/* do not divide main menu and submenu in different tiers, 
- * opposed to OpenStep */
-#define SINGLE_MENULEVEL
-
-/* max. time to spend doing animations in seconds. If the animation
- * time exceeds this value, it is immediately finished. Usefull for
- * moments of high-load.
- */
-#define MAX_ANIMATION_TIME	1
-
-/* Zoom animation */
-#define MINIATURIZE_ANIMATION_FRAMES_Z   5
-#define MINIATURIZE_ANIMATION_STEPS_Z    12
-#define MINIATURIZE_ANIMATION_DELAY_Z    500
-/* Twist animation */
-#define MINIATURIZE_ANIMATION_FRAMES_T   12
-#define MINIATURIZE_ANIMATION_STEPS_T    16
-#define MINIATURIZE_ANIMATION_DELAY_T    1000
-#define MINIATURIZE_ANIMATION_TWIST_T    0.5
-/* Flip animation */
-#define MINIATURIZE_ANIMATION_FRAMES_F   12
-#define MINIATURIZE_ANIMATION_STEPS_F    16
-#define MINIATURIZE_ANIMATION_DELAY_F    1000
-#define MINIATURIZE_ANIMATION_TWIST_F    0.5
-  
-
-#define HIDE_ANIMATION_STEPS (MINIATURIZE_ANIMATION_STEPS*2/3)
-
-/* delay before balloon is showed */
-#define BALLOON_DELAY	1000
-
-/* delay for menu item selection hysteresis */
-#define MENU_SELECT_DELAY 200
-
-/* delay for jumpback of scrolled menus */
-#define MENU_JUMP_BACK_DELAY 	400
-
-/* *** animation speed constants *** */
-
-/* icon slide */
-#define ICON_SLIDE_SLOWDOWN_UF	1
-#define ICON_SLIDE_DELAY_UF	0
-#define ICON_SLIDE_STEPS_UF	50
-
-#define ICON_SLIDE_SLOWDOWN_F	3
-#define ICON_SLIDE_DELAY_F	0
-#define ICON_SLIDE_STEPS_F	50
-
-#define ICON_SLIDE_SLOWDOWN_M	5
-#define ICON_SLIDE_DELAY_M	0
-#define ICON_SLIDE_STEPS_M	30
-
-#define ICON_SLIDE_SLOWDOWN_S	10
-#define ICON_SLIDE_DELAY_S	0
-#define ICON_SLIDE_STEPS_S	20
-
-#define ICON_SLIDE_SLOWDOWN_US	20
-#define ICON_SLIDE_DELAY_US	1
-#define ICON_SLIDE_STEPS_US	10
-
-/* menu scrolling */
-#define MENU_SCROLL_STEPS_UF	14
-#define MENU_SCROLL_DELAY_UF	1
-
-#define MENU_SCROLL_STEPS_F	10
-#define MENU_SCROLL_DELAY_F	5
-
-#define MENU_SCROLL_STEPS_M	6
-#define MENU_SCROLL_DELAY_M	5
-
-#define MENU_SCROLL_STEPS_S	4
-#define MENU_SCROLL_DELAY_S	6
-
-#define MENU_SCROLL_STEPS_US	1
-#define MENU_SCROLL_DELAY_US	8
-
-
-/* shade animation */
-#define SHADE_STEPS_UF		5
-#define SHADE_DELAY_UF		0
-
-#define SHADE_STEPS_F		10
-#define SHADE_DELAY_F		0
-
-#define SHADE_STEPS_M		15
-#define SHADE_DELAY_M		0
-
-#define SHADE_STEPS_S		30
-#define SHADE_DELAY_S		0
-
-#define SHADE_STEPS_US		40
-#define SHADE_DELAY_US		10
-
-
-/* workspace name on switch display */
-#define WORKSPACE_NAME_FADE_DELAY 30
-
-#ifdef VIRTUAL_DESKTOP 
-/* workspace virtual edge speed */
-#define VIRTUALEDGE_SCROLL_VSTEP 30
-#define VIRTUALEDGE_SCROLL_HSTEP 30
-#endif
-
-#define WORKSPACE_NAME_DELAY	400
-
-/* window birth animation steps (DO NOT MAKE IT RUN-TIME) */
-#define WINDOW_BIRTH_STEPS	20
-
-/* number of steps for icon dematerialization. */
-#define DEMATERIALIZE_STEPS	16
-
-/* Delay when cycling colors of selected icons. */
-#define COLOR_CYCLE_DELAY	200
-
-/* size of the pieces in the undocked icon explosion */
-#define ICON_KABOOM_PIECE_SIZE 4
-
-
-/* Position increment for smart placement. >= 1  raise these values if it's
- * too slow for you */
-#define PLACETEST_HSTEP	8
-#define PLACETEST_VSTEP	8
-
-
-#define DOCK_EXTRA_SPACE	0
-
-/* Vicinity in which an icon can be attached to the clip */
-#define CLIP_ATTACH_VICINITY	1
-
-#define CLIP_BUTTON_SIZE  23
-
-
-/* The amount of space (in multiples of the icon size)
- * a docked icon must be dragged out to detach it */
-#define DOCK_DETTACH_THRESHOLD	3
-
-/* Delay (in ms) after which the clip will autocollapse when leaved */
-#define AUTO_COLLAPSE_DELAY     1000
-
-/* Delay (in ms) after which the clip will autoexpand when entered.
- * Set this to zero if you want instant expanding. */
-#define AUTO_EXPAND_DELAY       600
-
-/* Delay (in ms) after which the clip will be lowered when leaved */
-#define AUTO_LOWER_DELAY        1000
-
-/* Delay (in ms) after which the clip will be raised when entered.
- * Set this to zero if you want instant raise. */
-#define AUTO_RAISE_DELAY        600
-
-
-/* Max. number of icons the clip can have */
-#define CLIP_MAX_ICONS		32
-
-/* blink interval when invoking a menu item */
-#define MENU_BLINK_DELAY	60000
-#define MENU_BLINK_COUNT	2
-
-#define CURSOR_BLINK_RATE	300
-
-#define MOVE_THRESHOLD	5 /* how many pixels to move before dragging windows
-			   * and other objects */
-
-#define KEY_CONTROL_WINDOW_WEIGHT 1
-
-#define HRESIZE_THRESHOLD	3
-
-#define MAX_WORKSPACENAME_WIDTH	16
-#define MAX_WINDOWLIST_WIDTH	160     /* max width of window title in
-					 * window list */
-
-#define DEFAULTS_CHECK_INTERVAL 2000	/* how often wmaker will check for
-					 * changes in the config files */
-
-/* if your keyboard don't have arrow keys */
-#undef ARROWLESS_KBD
-
-
-/* don't put titles in miniwindows */
-#undef NO_MINIWINDOW_TITLES
-
-
-#define FRAME_BORDER_COLOR "black"
-
-
-/* for boxes with high mouse sampling rates (SGI) */
-#define DELAY_BETWEEN_MOUSE_SAMPLING  10
-
-
-/*
- *----------------------------------------------------------------------
- * You should not modify the following values, unless you know
- * what you're doing.
- *----------------------------------------------------------------------
- */
-
-
-/* number of window shortcuts */
-#define MAX_WINDOW_SHORTCUTS 10
-
-
-#define WM_PI 3.14159265358979323846
-
-#define FRAME_BORDER_WIDTH 1	       /* width of window border for frames */
-
-#define RESIZEBAR_HEIGHT 8	       /* height of the resizebar */
-#define RESIZEBAR_MIN_WIDTH 20	       /* min. width of handles-corner_width */
-#define RESIZEBAR_CORNER_WIDTH 28      /* width of the corner of resizebars */
-
-#define MENU_INDICATOR_SPACE	12
-
-/* minimum size for windows */
-#define MIN_WINDOW_SIZE	5
-
-#define MIN_TITLEFONT_HEIGHT(h)   ((h)>14 ? (h) : 14)
-
-#define ICON_WIDTH	64	       /* size of the icon window */
-#define ICON_HEIGHT	64
-#define ICON_BORDER_WIDTH 2
-
-#define MAX_ICON_WIDTH	60	       /* size of the icon pixmap */
-#define MAX_ICON_HEIGHT 48
-
-/* KDE may have problems with more than 32 workspaces */
-#ifdef KWM_HINTS
-# define MAX_WORKSPACES 32
-#else
-# define MAX_WORKSPACES  100
-#endif
-
-#define MAX_MENU_TEXT_LENGTH 512
-
-#define MAX_RESTART_ARGS	16
-
-#define MAX_COMMAND_SIZE	1024
-
-#define MAX_DEAD_PROCESSES	128
-
-
-#define MAXLINE		1024
-
-
-#ifdef _MAX_PATH
-# define DEFAULT_PATH_MAX	_MAX_PATH
-#else
-# define DEFAULT_PATH_MAX	512
-#endif
-
-
-#define DEBUG0
-
-/* some rules */
-
-#ifndef SHAPE
-#undef SHAPED_BALLOON
-#endif
-
-#ifdef XKB_MODELOCK
-#define KEEP_XKB_LOCK_STATUS
-/* This is a hidden feature.
- * Choose just one of LANGUAGE_* hints.
- * Icon can be changed in def_pixmaps.h.
- * More icons are welcome.
- */
-#define XKB_BUTTON_HINT
-#undef LANGUAGE_TH
-#undef LANGUAGE_SK
-#endif
-
-#ifndef DEMATERIALIZE_ICON
-# define NORMAL_ICON_KABOOM
-#endif
-
-#if defined(HAVE_LIBINTL_H) && defined(I18N)
-# include <libintl.h>
-# define _(text) gettext(text)
-#else
-# define _(text) (text)
-#endif
-
-
-#if defined(__GNUC__) && !defined(__STRICT_ANSI__)
-# define INLINE inline
-#else
-# define INLINE
-#endif
-
-#endif /* WMCONFIG_H_ */
-
diff -Naur WindowMaker-0.80.2/src/wconfig.h.in wm-xft2/src/wconfig.h.in
--- WindowMaker-0.80.2/src/wconfig.h.in	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/src/wconfig.h.in	2003-10-22 14:08:38.000000000 +0400
@@ -3,7 +3,7 @@
  * 
  *  WindowMaker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -247,10 +247,9 @@
 #endif
 
 /* the file of the system wide submenu to be forced into the main menu */
-/* remove the comments if you want it */
-/*
-#define GLOBAL_SUBMENU_FILE PKGDATADIR"/GlobalMenu"
-*/
+#define GLOBAL_PREAMBLE_MENU_FILE "GlobalMenu.pre"
+#define GLOBAL_EPILOGUE_MENU_FILE "GlobalMenu.post"
+
 
 /* pixmap path */
 #define DEF_PIXMAP_PATHS \
@@ -295,8 +294,6 @@
 #define DEF_WORKSPACE_NAME_FONT "\"-*-lucida-bold-r-*-*-24-*-*-*-*-*-*-*\""
 #endif /* !I18N */
 
-#define HELVETICA10_FONT "-*-helvetica-medium-r-normal-*-10-*-*-*-*-*-*-*"
-
 #define DEF_FRAME_THICKNESS 1	       /* linewidth of the move/resize frame */
 
 #define DEF_WINDOW_TITLE_EXTEND_SPACE	"0"
@@ -483,7 +480,7 @@
 
 #define HRESIZE_THRESHOLD	3
 
-#define MAX_WORKSPACENAME_WIDTH	16
+#define MAX_WORKSPACENAME_WIDTH	32
 #define MAX_WINDOWLIST_WIDTH	160     /* max width of window title in
 					 * window list */
 
diff -Naur WindowMaker-0.80.2/src/wcore.c wm-xft2/src/wcore.c
--- WindowMaker-0.80.2/src/wcore.c	2002-02-21 14:28:50.000000000 +0300
+++ wm-xft2/src/wcore.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/wcore.h wm-xft2/src/wcore.h
--- WindowMaker-0.80.2/src/wcore.h	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/src/wcore.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/wdefaults.c wm-xft2/src/wdefaults.c
--- WindowMaker-0.80.2/src/wdefaults.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/src/wdefaults.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/wdefaults.h wm-xft2/src/wdefaults.h
--- WindowMaker-0.80.2/src/wdefaults.h	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/src/wdefaults.h	2003-10-22 14:08:37.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/window.c wm-xft2/src/window.c
--- WindowMaker-0.80.2/src/window.c	2002-07-02 04:30:25.000000000 +0400
+++ wm-xft2/src/window.c	2003-10-22 14:29:48.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -53,6 +53,7 @@
 #include "stacking.h"
 #include "defaults.h"
 #include "workspace.h"
+#include "xinerama.h"
 
 
 #ifdef MWM_HINTS
@@ -474,33 +475,27 @@
      */
     if (wwin->user_flags.no_appicon && wwin->defined_user_flags.no_appicon)
 	wwin->user_flags.emulate_appicon = 0;
-        /*//WSETUFLAG(wwin, emulate_appicon, 0);*/
 
     if (wwin->main_window!=None) {
 	WApplication *wapp = wApplicationOf(wwin->main_window);
 	if (wapp && !wapp->flags.emulated)
 	    wwin->user_flags.emulate_appicon = 0;
-            /*//WSETUFLAG(wwin, emulate_appicon, 0);*/
     }
 
     if (wwin->transient_for!=None
 	&& wwin->transient_for!=wwin->screen_ptr->root_win)
 	wwin->user_flags.emulate_appicon = 0;
-        /*//WSETUFLAG(wwin, emulate_appicon, 0);*/
 
     if (wwin->user_flags.sunken && wwin->defined_user_flags.sunken
 	&& wwin->user_flags.floating && wwin->defined_user_flags.floating)
 	wwin->user_flags.sunken = 0;
-        /*//WSETUFLAG(wwin, sunken, 0);*/
 
     WSETUFLAG(wwin, no_shadeable, WFLAGP(wwin, no_titlebar));
     
     
     /* windows that have takefocus=False shouldn't take focus at all */
     if (wwin->focus_mode == WFM_NO_INPUT) {
-	/* dont use WSETUFLAG, since this was not an attribute change 
-	 * made by the user */
-	wwin->user_flags.no_focusable = 1;
+	wwin->client_flags.no_focusable = 1;
     }
 }
 
@@ -778,6 +773,8 @@
     /* get geometry stuff */
     wClientGetNormalHints(wwin, &wattribs, True, &x, &y, &width, &height);
 
+/*    printf("wManageWindow: %d %d %d %d\n", x, y, width, height);*/
+
     /* get colormap windows */
     GetColormapWindows(wwin);
 
@@ -1103,27 +1100,114 @@
 	    
 	    if (transientOwner && transientOwner->flags.mapped) {
 		int offs = WMAX(20, 2*transientOwner->frame->top_width);
+		WMRect rect;
+		int head;
 		
 		x = transientOwner->frame_x + 
 		    abs((transientOwner->frame->core->width - width)/2) + offs;
 		y = transientOwner->frame_y +
 		    abs((transientOwner->frame->core->height - height)/3) + offs;
 
-		if (x < 0)
-		    x = 0;
-		else if (x + width > scr->scr_width)
-		    x = scr->scr_width - width;
-
-		if (y < 0)
-		    y = 0;
-		else if (y + height > scr->scr_height)
-		    y = scr->scr_height - height;
+		/*
+		 * limit transient windows to be inside their parent's head
+		 */
+		rect.pos.x = transientOwner->frame_x;
+		rect.pos.y = transientOwner->frame_y;
+		rect.size.width = transientOwner->frame->core->width;
+		rect.size.height = transientOwner->frame->core->height;
+		
+		head = wGetHeadForRect(scr, rect);
+		rect = wGetRectForHead(scr, head);
+		
+		if (x < rect.pos.x)
+		    x = rect.pos.x;
+		else if (x + width > rect.pos.x + rect.size.width)
+		    x = rect.pos.x + rect.size.width - width;
+		
+		if (y < rect.pos.y)
+		    y = rect.pos.y;
+		else if (y + height > rect.pos.y + rect.size.height)
+		    y = rect.pos.y + rect.size.height - height;
+
 	    } else {
 		PlaceWindow(wwin, &x, &y, width, height);
 	    }
-	    if (wPreferences.window_placement == WPM_MANUAL)
-		dontBring = True;
-	} 
+            if (wPreferences.window_placement == WPM_MANUAL) {
+                dontBring = True;
+            }
+        } else if (scr->xine_info.count &&
+                   (wwin->normal_hints->flags & PPosition)) {
+	    int head, flags;
+	    WMRect rect;
+	    int reposition = 0;
+	    
+	    /*
+	     * Make spash screens come out in the center of a head
+	     * trouble is that most splashies never get here
+	     * they are managed trough atoms but god knows where.
+	     * Dan, do you know ?
+	     * 
+	     * Most of them are not managed, they are set
+	     * OverrideRedirect, which means we can't do anything about
+	     * them. -alfredo
+	     */
+#if 0
+	    printf("xinerama PPosition: x: %d %d\n", x, (scr->scr_width - width)/2);
+	    printf("xinerama PPosition: y: %d %d\n", y, (scr->scr_height - height)/2);
+
+	    if ((unsigned)(x + (width - scr->scr_width)/2 + 10) < 20 &&
+                (unsigned)(y + (height - scr->scr_height)/2 + 10) < 20) {
+
+		reposition = 1;
+
+	    } else 
+#endif
+	    {
+		/*
+		 * xinerama checks for: across head and dead space
+		 */
+		rect.pos.x = x;
+		rect.pos.y = y;
+		rect.size.width = width;
+		rect.size.height = height;
+
+		head = wGetRectPlacementInfo(scr, rect, &flags);
+
+		if (flags & XFLAG_DEAD)
+		    reposition = 1;
+
+		if (flags & XFLAG_MULTIPLE)
+		    reposition = 2;
+	    }
+	    
+	    switch (reposition) {
+	     case 1:
+		head = wGetHeadForPointerLocation(scr);
+		rect = wGetRectForHead(scr, head);
+		
+		x = rect.pos.x + (x * rect.size.width)/scr->scr_width;
+		y = rect.pos.y + (y * rect.size.height)/scr->scr_height;
+		break;
+		
+	     case 2:
+		rect = wGetRectForHead(scr, head);
+		
+		if (x < rect.pos.x)
+		    x = rect.pos.x;
+		else if (x + width > rect.pos.x + rect.size.width)
+		    x = rect.pos.x + rect.size.width - width;
+		
+		if (y < rect.pos.y)
+		    y = rect.pos.y;
+		else if (y + height > rect.pos.y + rect.size.height)
+		    y = rect.pos.y + rect.size.height - height;
+		
+		break;
+		
+	     default:
+		break;
+	    }
+	}
 
 	if (WFLAGP(wwin, dont_move_off) && dontBring)
 	    wScreenBringInside(scr, &x, &y, width, height);
@@ -1158,8 +1242,7 @@
 				     &wPreferences.window_title_clearance, foo,
 				     scr->window_title_texture,
 				     scr->resizebar_texture,
-				     scr->window_title_pixel, 
-				     &scr->window_title_gc, 
+				     scr->window_title_color,
 				     &scr->title_font);
 
     wwin->frame->flags.is_client_window_frame = 1;
@@ -1518,8 +1601,7 @@
                      &wPreferences.window_title_clearance, foo,
 				     scr->window_title_texture,
 				     scr->resizebar_texture,
-				     scr->window_title_pixel, 
-				     &scr->window_title_gc, 
+				     scr->window_title_color,
 				     &scr->title_font);
     
     XSaveContext(dpy, window, wWinContext, (XPointer)&wwin->client_descriptor);
@@ -2421,7 +2503,7 @@
 #endif
 	if (!WFLAGP(wwin, no_titlebar))
 	    flags |= WFF_TITLEBAR;
-	if (!WFLAGP(wwin, no_resizebar))
+	if (!WFLAGP(wwin, no_resizebar) && !WFLAGP(wwin, no_resizable))
 	    flags |= WFF_RESIZEBAR;
 	if (!WFLAGP(wwin, no_border))
 	    flags |= WFF_BORDER;
@@ -2923,8 +3005,10 @@
 void
 wWindowSetOmnipresent(WWindow *wwin, Bool flag)
 {
+    if (wwin->flags.omnipresent == flag)
+        return;
+
     wwin->flags.omnipresent = flag;
-    
     WMPostNotificationName(WMNChangedState, wwin, "omnipresent");
 }
 
@@ -3012,10 +3096,12 @@
 	    /* maximize window */
 	    if (dir!=0 && !WFLAGP(wwin, no_resizable)) {
 		int ndir = dir ^ wwin->flags.maximized;
-		if (wwin->flags.maximized != 0)
-		    wUnmaximizeWindow(wwin);
-		if (ndir != 0)
-		    wMaximizeWindow(wwin, ndir);
+
+                if (ndir != 0) {
+                    wMaximizeWindow(wwin, ndir);
+                } else {
+                    wUnmaximizeWindow(wwin);
+                }
 	    }
 	}
     } else if (event->xbutton.button==Button3) {
@@ -3063,7 +3149,7 @@
 	}
 	if (event->xbutton.button == Button3 && !WFLAGP(wwin, no_resizable))
 	    wMouseResizeWindow(wwin, event);
-	else 
+	else if (event->xbutton.button==Button1 || event->xbutton.button==Button2)
 	    wMouseMoveWindow(wwin, event);
 	XUngrabPointer(dpy, CurrentTime);
     }
diff -Naur WindowMaker-0.80.2/src/window.h wm-xft2/src/window.h
--- WindowMaker-0.80.2/src/window.h	2002-02-21 14:28:50.000000000 +0300
+++ wm-xft2/src/window.h	2003-10-22 14:08:37.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/WindowMaker.h wm-xft2/src/WindowMaker.h
--- WindowMaker-0.80.2/src/WindowMaker.h	2002-02-21 14:28:48.000000000 +0300
+++ wm-xft2/src/WindowMaker.h	2003-10-22 14:08:37.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/winmenu.c wm-xft2/src/winmenu.c
--- WindowMaker-0.80.2/src/winmenu.c	2002-04-15 15:08:06.000000000 +0400
+++ wm-xft2/src/winmenu.c	2003-10-22 14:08:37.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -240,11 +240,13 @@
 	    if (strcmp(menu->entries[i]->text,scr->workspaces[i]->name)!=0) {
 		wfree(menu->entries[i]->text);
 		strncpy(title, scr->workspaces[i]->name, MAX_WORKSPACENAME_WIDTH);
+		title[MAX_WORKSPACENAME_WIDTH] = 0;
 		menu->entries[i]->text = wstrdup(title);
 		menu->flags.realized = 0;
 	    }
 	} else {
 	    strncpy(title, scr->workspaces[i]->name, MAX_WORKSPACENAME_WIDTH);
+	    title[MAX_WORKSPACENAME_WIDTH] = 0;
 
 	    wMenuAddCallback(menu, title, switchWSCommand, NULL);
 	    
diff -Naur WindowMaker-0.80.2/src/winspector.c wm-xft2/src/winspector.c
--- WindowMaker-0.80.2/src/winspector.c	2002-02-21 14:28:50.000000000 +0300
+++ wm-xft2/src/winspector.c	2003-10-22 14:08:37.000000000 +0400
@@ -2,8 +2,8 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
- *  Copyright (c) 1998-2002 Dan Pascu
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Dan Pascu
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -748,7 +748,7 @@
 	    }
             wDockAttachIcon(clip, wapp->app_icon, x, y);
         } else {
-            PlaceIcon(scr, &x, &y);
+            PlaceIcon(scr, &x, &y, wGetHeadForWindow(wapp->main_window_desc));
 	    wAppIconMove(wapp->app_icon, x, y);
         }
         if (!clip || !wapp->app_icon->attracted || !clip->collapsed)
diff -Naur WindowMaker-0.80.2/src/winspector.h wm-xft2/src/winspector.h
--- WindowMaker-0.80.2/src/winspector.h	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/src/winspector.h	2003-10-22 14:08:37.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/wmspec.c wm-xft2/src/wmspec.c
--- WindowMaker-0.80.2/src/wmspec.c	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/src/wmspec.c	2003-10-22 14:08:37.000000000 +0400
@@ -0,0 +1,456 @@
+/*  wmspec.c-- support for the wm-spec Hints
+ * 
+ *  Window Maker window manager
+ * 
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
+ * 
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the GNU General Public License as published by
+ *  the Free Software Foundation; either version 2 of the License, or
+ *  (at your option) any later version.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License
+ *  along with this program; if not, write to the Free Software
+ *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, 
+ *  USA.
+ */
+
+
+#include "wconfig.h"
+
+#include <X11/Xlib.h>
+#include <X11/Xatom.h>
+
+#include "WindowMaker.h"
+#include "window.h"
+#include "screen.h"
+#include "framewin.h"
+#include "actions.h"
+
+
+static Atom net_supported;
+static Atom net_client_list;
+static Atom net_client_list_stacking;
+static Atom net_number_of_desktops;
+static Atom net_desktop_geometry;
+static Atom net_desktop_viewport;
+static Atom net_current_desktop;
+static Atom net_active_window;
+static Atom net_workarea;
+static Atom net_supporting_wm_check;
+/* net_virtual_roots N/A */
+/* TODO
+ * _NET_WM_NAME
+ * _NET_WM_VISIBLE_NAME
+ * _NET_WM_ICON_NAME
+ * _NET_WM_VISIBLE_ICON_NAME
+ * _NET_WM_WINDOW_TYPE
+ */
+static Atom net_wm_desktop;
+static Atom net_wm_state;
+
+static Atom net_wm_strut;
+/*
+ * _NET_WM_ICON_GEOMETRY
+ * _NET_WM_ICON
+ * _NET_WM_PID
+ * _NET_WM_HANDLED_ICONS
+ * 
+ */
+
+static Atom net_wm_state_modal;
+static Atom net_wm_state_sticky;
+static Atom net_wm_state_maximized_vert;
+static Atom net_wm_state_maximized_horz;
+static Atom net_wm_state_shaded;
+static Atom net_wm_state_skip_taskbar;
+static Atom net_wm_state_skip_pager;
+
+
+
+/* states */
+
+
+static char *atomNames[] = {
+    "_NET_SUPPORTED",
+	"_NET_CLIENT_LIST",
+	"_NET_NUMBER_OF_DESKTOPS",
+	"_NET_DESKTOP_GEOMETRY",
+	"_NET_DESKTOP_VIEWPORT",
+	"_NET_CURRENT_DESKTOP",
+	"_NET_ACTIVE_WINDOW",
+	"_NET_WORKAREA",
+	"_NET_SUPPORTING_WM_CHECK",
+	"_NET_WM_DESKTOP",
+	"_NET_WM_STATE",
+	"_NET_WM_STRUT",
+	
+	
+	
+	"_NET_WM_STATE_MODAL",
+	"_NET_WM_STATE_STICKY",
+	"_NET_WM_STATE_MAXIMIZED_VERT",
+	"_NET_WM_STATE_MAXIMIZED_HORZ",
+	"_NET_WM_STATE_SHADED",
+	"_NET_WM_STATE_SKIP_TASKBAR",
+	"_NET_WM_STATE_SKIP_PAGER"
+};
+
+static void observer(void *self, WMNotification *notif);
+static void wsobserver(void *self, WMNotification *notif);
+
+
+typedef struct NetData {
+    WScreen *scr;
+    Window *client_windows;
+    int client_count;
+    int client_size;
+} NetData;
+
+
+
+
+
+static void setSupportedHints(WScreen *scr)
+{
+    Atom atom[32];
+    int i = 0;
+    unsigned int sizes[2];
+    
+    /* set supported hints list */
+    
+    atom[i++] = net_client_list;
+
+    
+    XChangeProperty(dpy, scr->root_win, 
+		    net_supported, XA_ATOM, 32,
+		    PropModeReplace, (unsigned char*)atom, i);
+    
+    /* set supporting wm hint */
+    XChangeProperty(dpy, scr->root_win,
+		    net_supporting_wm_check, XA_WINDOW, 32,
+		    PropModeReplace, 
+		    (unsigned char*)&scr->info_window, 1);
+
+    XChangeProperty(dpy, scr->info_window, 
+		    net_supporting_wm_check, XA_WINDOW, 32,
+		    PropModeReplace, 
+		    (unsigned char*)&scr->info_window, 1);
+    
+    
+    /* set desktop geometry. dynamic change is not supported */
+    sizes[0] = scr->scr_width;
+    sizes[1] = scr->scr_height;
+
+    XChangeProperty(dpy, scr->root_win,
+		    net_desktop_geometry, XA_CARDINAL, 32,
+		    PropModeReplace,
+		    (unsigned char*)&sizes, 2);
+    
+    /* set desktop viewport. dynamic change is not supported */
+    sizes[0] = 0;
+    sizes[1] = 0;
+
+    XChangeProperty(dpy, scr->root_win,
+		    net_desktop_viewport, XA_CARDINAL, 32,
+		    PropModeReplace,
+		    (unsigned char*)&sizes, 2);
+
+}
+
+
+void netwmInitialize(WScreen *scr)
+{
+    NetData *data;
+    Atom atom[32];
+
+#ifdef HAVE_XINTERNATOMS
+    XInternAtoms(dpy, atomNames, sizeof(atomNames)/sizeof(char*),
+		 False, atom);
+#else
+    {
+	int i;
+	for (i = 0; i < sizeof(atomNames)/sizeof(char*); i++) {
+	    atom[i] = XInternAtom(dpy, atomNames[i], False);
+	}
+    }
+#endif
+    net_supported = atom[0];
+    net_client_list = atom[1];
+    
+    setSupportedHints(scr);
+    
+    data = wmalloc(sizeof(NetData));
+    data->scr = scr;
+    data->client_windows = NULL;
+    data->client_count = 0;
+    data->client_size = 0;
+
+    WMAddNotificationObserver(observer, data, WMNManaged, NULL);
+    WMAddNotificationObserver(observer, data, WMNUnmanaged, NULL);
+    WMAddNotificationObserver(observer, data, WMNChangedWorkspace, NULL);
+    WMAddNotificationObserver(observer, data, WMNChangedState, NULL);
+    WMAddNotificationObserver(observer, data, WMNChangedFocus, NULL);
+    WMAddNotificationObserver(observer, data, WMNChangedStacking, NULL);
+    WMAddNotificationObserver(observer, data, WMNChangedName, NULL);
+
+    WMAddNotificationObserver(wsobserver, data, WMNWorkspaceCreated, NULL);
+    WMAddNotificationObserver(wsobserver, data, WMNWorkspaceDestroyed, NULL);
+    WMAddNotificationObserver(wsobserver, data, WMNWorkspaceChanged, NULL);
+    WMAddNotificationObserver(wsobserver, data, WMNWorkspaceNameChanged, NULL);
+}
+
+
+void
+netwmUpdateWorkarea(WScreen *scr)
+{
+    unsigned int area[4];
+    
+    /* XXX */
+
+    XChangeProperty(dpy, scr->root_win, net_workarea, XA_CARDINAL, 32,
+		    PropModeReplace,
+		    (unsigned char*)area, 4);
+}
+
+
+
+static void
+updateClientList(WScreen *scr, WWindow *wwin, Bool added)
+{
+    NetData *data = scr->netdata;
+
+    if (added) {
+	if (data->client_count == data->client_size) {
+	    data->client_size += 20;
+	    data->client_windows = wrealloc(data->client_windows, 
+					    sizeof(Window)*data->client_size);
+	}
+
+	data->client_windows[data->client_count++] = wwin->client_win;
+
+	XChangeProperty(dpy, scr->root_win, net_client_list, XA_WINDOW, 32,
+			PropModeAppend,	(unsigned char*)&wwin->client_win, 1);
+    } else {
+	int i;
+	for (i = 0; i < data->client_count; i++) {
+	    if (data->client_windows[i] == wwin->client_win) {
+		if (data->client_count-1 > i) {
+		    memmove(data->client_windows+i,
+			    data->client_windows+i+1,
+			    (data->client_count-i-1)*sizeof(Window));
+		}
+		data->client_count--;
+		break;
+	    }
+	}
+
+	/* update client list */
+	XChangeProperty(dpy, scr->root_win, net_client_list, XA_WINDOW, 32,
+			PropModeReplace,
+			(unsigned char *)data->client_windows,
+			data->client_count);
+    }
+    XFlush(dpy);
+}
+
+
+
+static void
+updateClientListStacking(WScreen *scr)
+{
+    WWindow *wwin;
+    Window *client_list;
+    int client_count;
+    WCoreWindow *tmp;
+    WMBagIterator iter;
+
+    /* update client list */
+    
+    client_list = (Window*)malloc(sizeof(Window)*scr->window_count);
+    if (!client_list) {
+	wwarning(_("out of memory while updating wm hints"));
+	return;
+    }
+
+    WM_ETARETI_BAG(scr->stacking_list, tmp, iter) {
+	while (tmp) {
+	    client_list[client_count++] = tmp->window;
+	    tmp = tmp->stacking->under;
+	}
+    }
+
+    XChangeProperty(dpy, scr->root_win, 
+		    net_client_list_stacking, XA_WINDOW, 32,
+		    PropModeReplace, 
+		    (unsigned char *)client_list, client_count);
+
+    wfree(client_list);
+
+    XFlush(dpy);
+}
+
+
+
+static void
+updateWorkspaceCount(WScreen *scr) /* changeable */
+{
+    unsigned int count = scr->workspace_count;
+    
+    XChangeProperty(dpy, scr->root_win,
+		    net_number_of_desktops, XA_CARDINAL, 32,
+		    PropModeReplace,
+		    (unsigned char*)&count, 1);
+}
+
+
+static void
+updateCurrentWorkspace(WScreen *scr) /* changeable */
+{
+    unsigned int count = scr->current_workspace;
+    
+    XChangeProperty(dpy, scr->root_win,
+		    net_current_desktop, XA_CARDINAL, 32,
+		    PropModeReplace,
+		    (unsigned char*)&count, 1);
+}
+
+
+static void
+updateWorkspaceNames(WScreen *scr, int workspace)
+{
+    /* XXX UTF 8 */
+}
+
+
+static void
+updateFocusHint(WScreen *scr, WWindow *wwin) /* changeable */
+{
+    Window window = None;
+    
+    if (wwin)
+	window = wwin->client_win;
+    
+    XChangeProperty(dpy, scr->root_win,
+		    net_active_window, XA_WINDOW, 32,
+		    PropModeReplace,
+		    (unsigned char*)&window, 1);
+}
+
+
+static void
+updateWorkspaceHint(WWindow *wwin, Bool del)
+{
+    if (del) {
+	XDeleteProperty(dpy, wwin->client_win, net_wm_desktop);
+    } else {
+	XChangeProperty(dpy, wwin->screen_ptr->root_win,
+			net_wm_desktop, XA_CARDINAL, 32,
+			PropModeReplace,
+			(unsigned char*)&wwin->frame->workspace, 1);
+    }
+}
+
+
+static void
+updateStateHint(WWindow *wwin, Bool del) /* changeable */
+{
+    if (del) {
+	if (!wwin->flags.net_state_from_client)
+	    XDeleteProperty(dpy, wwin->client_win, net_wm_state);
+    } else {
+	Atom state[8];
+	int i = 0;
+	
+	if (wwin->flags.omnipresent)
+	    state[i++] = net_wm_state_sticky;
+	if (wwin->flags.maximized & MAX_HORIZONTAL)
+	    state[i++] = net_wm_state_maximized_horz;
+	if (wwin->flags.maximized & MAX_VERTICAL)
+	    state[i++] = net_wm_state_maximized_vert;
+	if (wwin->flags.shaded)
+	    state[i++] = net_wm_state_shaded;
+	if (WFLAGP(wwin, skip_window_list) || wwin->flags.net_skip_taskbar)
+	    state[i++] = net_wm_state_skip_taskbar;
+	if (wwin->flags.net_skip_pager)
+	    state[i++] = net_wm_state_skip_pager;
+    }
+}
+
+
+static void
+updateStrut(WWindow *wwin, Bool adding)
+{
+    if (adding) { 
+//	XGetWindowProperty(dpy, wwin->client_win, 
+			   
+	/* XXX add property observer */
+    } else {
+    }
+}
+
+
+static void
+observer(void *self, WMNotification *notif)
+{
+    WWindow *wwin = (WWindow*)WMGetNotificationObject(notif);
+    const char *name = WMGetNotificationName(notif);
+    void *data = WMGetNotificationClientData(notif);
+    NetData *ndata = (NetData*)self;
+    
+    
+    if (strcmp(name, WMNManaged) == 0 && wwin) {
+	updateClientList(wwin->screen_ptr, wwin, True);
+	
+	updateStrut(wwin, True);
+
+    } else if (strcmp(name, WMNUnmanaged) == 0 && wwin) {
+	updateClientList(wwin->screen_ptr, wwin, False);
+	updateWorkspaceHint(wwin, True);
+	updateStateHint(wwin, True);
+	
+	updateStrut(wwin, False);
+	
+    } else if (strcmp(name, WMNResetStacking) == 0 && wwin) {
+	updateClientListStacking(wwin->screen_ptr);
+	
+    } else if (strcmp(name, WMNChangedStacking) == 0 && wwin) {
+	updateClientListStacking(wwin->screen_ptr);
+	
+    } else if (strcmp(name, WMNChangedFocus) == 0) {
+	updateFocusHint(ndata->scr, wwin);
+	
+    } else if (strcmp(name, WMNChangedWorkspace) == 0 && wwin) {
+	updateWorkspaceHint(wwin, False);
+	
+    } else if (strcmp(name, WMNChangedState) == 0 && wwin) {
+	updateStateHint(wwin, False);
+    }
+}
+
+
+static void
+wsobserver(void *self, WMNotification *notif)
+{
+    WScreen *scr = (WScreen*)WMGetNotificationObject(notif);
+    const char *name = WMGetNotificationName(notif);
+    void *data = WMGetNotificationClientData(notif);
+
+    if (strcmp(name, WMNWorkspaceCreated) == 0) {
+	updateWorkspaceCount(scr);
+    } else if (strcmp(name, WMNWorkspaceDestroyed) == 0) {
+	updateWorkspaceCount(scr);
+    } else if (strcmp(name, WMNWorkspaceChanged) == 0) {
+	updateCurrentWorkspace(scr);
+    } else if (strcmp(name, WMNWorkspaceNameChanged) == 0) {
+	updateWorkspaceNames(scr, (int)data);
+    }
+}
+
+
+
diff -Naur WindowMaker-0.80.2/src/wmspec.h wm-xft2/src/wmspec.h
--- WindowMaker-0.80.2/src/wmspec.h	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/src/wmspec.h	2003-10-22 14:08:37.000000000 +0400
@@ -0,0 +1,30 @@
+/*  wmspec.h-- support for the wm-spec Hints
+ * 
+ *  Window Maker window manager
+ * 
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
+ * 
+ *  This program is free software; you can redistribute it and/or modify
+ *  it under the terms of the GNU General Public License as published by
+ *  the Free Software Foundation; either version 2 of the License, or
+ *  (at your option) any later version.
+ *
+ *  This program is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ *  GNU General Public License for more details.
+ *
+ *  You should have received a copy of the GNU General Public License
+ *  along with this program; if not, write to the Free Software
+ *  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, 
+ *  USA.
+ */
+
+
+
+#ifndef _WMSPEC_H_
+#define _WMSPEC_H_
+
+
+
+#endif
diff -Naur WindowMaker-0.80.2/src/workspace.c wm-xft2/src/workspace.c
--- WindowMaker-0.80.2/src/workspace.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/src/workspace.c	2003-10-22 14:08:37.000000000 +0400
@@ -2,7 +2,7 @@
  *
  *  Window Maker window manager
  *
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -50,8 +50,6 @@
 #include "kwm.h"
 #endif
 
-#include <WINGs/WUtil.h>
-
 
 extern WPreferences wPreferences;
 extern XContext wWinContext;
@@ -227,7 +225,7 @@
 
 
 static void
-hideWorkpaceName(void *data)
+hideWorkspaceName(void *data)
 {
     WScreen *scr = (WScreen*)data;
 
@@ -248,7 +246,7 @@
 	Pixmap pix;
 
 	scr->workspace_name_timer =
-	    WMAddTimerHandler(WORKSPACE_NAME_FADE_DELAY, hideWorkpaceName,
+	    WMAddTimerHandler(WORKSPACE_NAME_FADE_DELAY, hideWorkspaceName,
 			      scr);
 
 	RCombineImagesWithOpaqueness(img, scr->workspace_name_data->text,
@@ -291,7 +289,7 @@
 	XFlush(dpy);
     }
     scr->workspace_name_timer = WMAddTimerHandler(WORKSPACE_NAME_DELAY,
-						  hideWorkpaceName, scr);
+						  hideWorkspaceName, scr);
 
     if (scr->workspace_name_data) {
 	RReleaseImage(scr->workspace_name_data->back);
@@ -341,27 +339,34 @@
     text = XCreatePixmap(dpy, scr->w_win, w+4, h+4, scr->w_depth);
     mask = XCreatePixmap(dpy, scr->w_win, w+4, h+4, 1);
 
-    XSetForeground(dpy, scr->draw_gc, scr->black_pixel);
-    XFillRectangle(dpy, text, scr->draw_gc, 0, 0, w+4, h+4);
+    /*XSetForeground(dpy, scr->mono_gc, 0);
+    XFillRectangle(dpy, mask, scr->mono_gc, 0, 0, w+4, h+4);*/
 
-    XSetForeground(dpy, scr->mono_gc, 0);
-    XFillRectangle(dpy, mask, scr->mono_gc, 0, 0, w+4, h+4);
+    XFillRectangle(dpy, text, WMColorGC(scr->black), 0, 0, w+4, h+4);
 
-    XSetForeground(dpy, scr->mono_gc, 1);
     for (x = 0; x <= 4; x++) {
 	for (y = 0; y <= 4; y++) {
-	    WMDrawString(scr->wmscreen, mask, scr->mono_gc,
-			 scr->workspace_name_font, x, y, name, len);
-	}
+	    WMDrawString(scr->wmscreen, text, scr->white,
+	        	 scr->workspace_name_font, x, y, name, len);
+        }
     }
 
-    XSetForeground(dpy, scr->draw_gc, scr->white_pixel);
-    WMDrawString(scr->wmscreen, text, scr->draw_gc, scr->workspace_name_font,
-		 2, 2, scr->workspaces[workspace]->name,
-		 strlen(scr->workspaces[workspace]->name));
+    XSetForeground(dpy, scr->mono_gc, 1);
+    XSetBackground(dpy, scr->mono_gc, 0);
+
+    XCopyPlane(dpy, text, mask, scr->mono_gc, 0, 0, w+4, h+4, 0, 0, 1<<(scr->w_depth-1));
+
+    /*XSetForeground(dpy, scr->mono_gc, 1);*/
+    XSetBackground(dpy, scr->mono_gc, 1);
+
+    XFillRectangle(dpy, text, WMColorGC(scr->black), 0, 0, w+4, h+4);
+
+    WMDrawString(scr->wmscreen, text, scr->white, scr->workspace_name_font,
+                 2, 2, name, len);
+
 #ifdef SHAPE
     XShapeCombineMask(dpy, scr->workspace_name, ShapeBounding, 0, 0, mask,
-		      ShapeSet);
+        	      ShapeSet);
 #endif
     XSetWindowBackgroundPixmap(dpy, scr->workspace_name, text);
     XClearWindow(dpy, scr->workspace_name);
@@ -420,7 +425,7 @@
 
     scr->workspace_name_timer = WMAddTimerHandler(WORKSPACE_NAME_DELAY +
 						  10*WORKSPACE_NAME_FADE_DELAY,
-						  hideWorkpaceName, scr);
+						  hideWorkspaceName, scr);
 }
 
 
@@ -604,6 +609,10 @@
         }
     }
 
+#ifdef KWM_HINTS
+    wScreenUpdateUsableArea(scr);
+#endif
+
     showWorkspaceName(scr, workspace);
 
     WMPostNotificationName(WMNWorkspaceChanged, scr, (void*)workspace);
diff -Naur WindowMaker-0.80.2/src/workspace.h wm-xft2/src/workspace.h
--- WindowMaker-0.80.2/src/workspace.h	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/src/workspace.h	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/src/xinerama.c wm-xft2/src/xinerama.c
--- WindowMaker-0.80.2/src/xinerama.c	2002-02-16 07:53:33.000000000 +0300
+++ wm-xft2/src/xinerama.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2001 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -23,96 +23,139 @@
 #include "wconfig.h"
 
 
-#ifdef XINERAMA
-
-
 #include "xinerama.h"
 
 #include "screen.h"
 #include "window.h"
 #include "framewin.h"
 #include "wcore.h"
+#include "funcs.h"
 
-#include <X11/extensions/Xinerama.h>
+#ifdef XINERAMA
+# ifdef SOLARIS_XINERAMA /* sucks */
+#  include <X11/extensions/xinerama.h>
+# else
+#  include <X11/extensions/Xinerama.h>
+# endif
+#endif
 
+extern WPreferences wPreferences;
 
-void wInitXinerama(WScreen *scr)
+void
+wInitXinerama(WScreen *scr)
 {
-    scr->xine_screens = XineramaQueryScreens(dpy, &scr->xine_count);
-
-    scr->xine_primary_head = 0;
+    scr->xine_info.primary_head = 0;
+    scr->xine_info.screens = NULL;
+    scr->xine_info.count = 0;
+#ifdef XINERAMA
+# ifdef SOLARIS_XINERAMA
+    if (XineramaGetState(dpy, scr->screen)) {
+        WXineramaInfo *info = &scr->xine_info;
+        XRectangle head[MAXFRAMEBUFFERS];
+        unsigned char hints[MAXFRAMEBUFFERS];
+        int i;
+
+        if (XineramaGetInfo(dpy, scr->screen, head, hints, &info->count)) {
+
+            info->screens = wmalloc(sizeof(WMRect)*(info->count+1));
+
+            for (i=0; i<info->count; i++) {
+                info->screens[i].pos.x = head[i].x;
+                info->screens[i].pos.y = head[i].y;
+                info->screens[i].size.width = head[i].width;
+                info->screens[i].size.height = head[i].height;
+            }
+        }
+    }
+# else /* !SOLARIS_XINERAMA */
+    if (XineramaIsActive(dpy)) {
+        XineramaScreenInfo *xine_screens;
+        WXineramaInfo *info = &scr->xine_info;
+        int i;
+        
+        xine_screens = XineramaQueryScreens(dpy, &info->count);
+
+        info->screens = wmalloc(sizeof(WMRect)*(info->count+1));
+        
+        for (i=0; i<info->count; i++) {
+            info->screens[i].pos.x = xine_screens[i].x_org;
+            info->screens[i].pos.y = xine_screens[i].y_org;
+            info->screens[i].size.width = xine_screens[i].width;
+            info->screens[i].size.height = xine_screens[i].height;
+        }
+        XFree(xine_screens);
+    }
+# endif /* !SOLARIS_XINERAMA */
+#endif /* XINERAMA */
 }
 
 
-/*
- * intersect_rectangles-
- *     Calculate the rectangle that results from the intersection of
- *     2 rectangles.
- * 
- * Returns:
- *     0 if the rectangles do not intersect, 1 otherwise.
- */
+int
+wGetRectPlacementInfo(WScreen *scr, WMRect rect, int *flags)
+{
+    int best;
+    unsigned long area, totalArea;
+    int i;
+    int rx = rect.pos.x;
+    int ry = rect.pos.y;
+    int rw = rect.size.width;
+    int rh = rect.size.height;
 
-typedef struct {
-    int x1, y1, x2, y2;
-} _Rectangle;
-
-int intersect_rectangles(_Rectangle *rect1,
-			 _Rectangle *rect2,
-			 _Rectangle *result)
-{
-    if (rect1->x1 < rect2->x1)
-	result->x1 = rect2->x1;
-    else
-	result->x1 = rect1->x1;
-    
-    if (rect1->x2 > rect2->x2)
-	result->x2 = rect2->x2;
-    else
-	result->x2 = rect1->x2;
-    
-    if (rect1->y1 < rect2->y1)
-	result->y1 = rect2->y1;
-    else
-	result->y1 = rect1->y1;
-    
-    if (rect1->y2 > rect2->y2)
-	result->y2 = rect2->y2;
-    else
-	result->y2 = rect1->y2;
-    
-    if (result->x2 < result->x1)
-	return 0;
-    if (result->y2 < result->y1)
-	return 0;
+    wassertrv(flags!=NULL, 0);
 
-    return 1;
-}
+    best = -1;
+    area = 0;
+    totalArea = 0;
 
-static int intersectArea(int x1, int y1, int w1, int h1,
-			 int x2, int y2, int w2, int h2)
-{
-    _Rectangle rect1, rect2, result;
-    
-    rect1.x1 = x1;
-    rect1.y1 = y1;
-    rect1.x2 = x1+w1;
-    rect1.x2 = y1+w1;
-    
-    rect2.x1 = x2;
-    rect2.y1 = y2;
-    rect2.x2 = x2+w2;
-    rect2.x2 = y2+w2;
-    
-    if (intersect_rectangles(&rect1, &rect2, &result))
-	return (result.x2-result.x1)*(result.y2-result.y1);
-    else
-	return 0;
+    *flags = XFLAG_NONE;
+
+    if (scr->xine_info.count <= 1) {
+	unsigned long a;
+
+	a = calcIntersectionArea(rx, ry, rw, rh,
+				 0, 0, scr->scr_width, scr->scr_height);
+
+	if (a == 0) {
+	    *flags |= XFLAG_DEAD;
+	} else if (a != rw*rh) {
+	    *flags |= XFLAG_PARTIAL;
+	}
+	
+	return scr->xine_info.primary_head;
+    }
+
+    for (i = 0; i < wXineramaHeads(scr); i++) {
+	unsigned long a;
+
+	a = calcIntersectionArea(rx, ry, rw, rh,
+				 scr->xine_info.screens[i].pos.x,
+				 scr->xine_info.screens[i].pos.y,
+				 scr->xine_info.screens[i].size.width,
+				 scr->xine_info.screens[i].size.height);
+
+	totalArea += a;
+	if (a > area) {
+	    if (best != -1)
+		*flags |= XFLAG_MULTIPLE;
+	    area = a;
+	    best = i;
+	}
+    }
+
+    if (best == -1) {
+	*flags |= XFLAG_DEAD;
+	best = wGetHeadForPointerLocation(scr);
+    } else if (totalArea != rw*rh)
+	*flags |= XFLAG_PARTIAL;
+
+    return best;
 }
+ 
 
 
 /* get the head that covers most of the rectangle */
-int wGetHeadForRect(WScreen *scr, WMRect rect)
+int
+wGetHeadForRect(WScreen *scr, WMRect rect)
 {
     int best;
     unsigned long area;
@@ -122,32 +165,67 @@
     int rw = rect.size.width;
     int rh = rect.size.height;
 
+    if (!scr->xine_info.count)
+	return scr->xine_info.primary_head;
+
     best = -1;
     area = 0;
-    
-    for (i = 0; i < scr->xine_count; i++) {
+
+    for (i = 0; i < wXineramaHeads(scr); i++) {
 	unsigned long a;
-	
-	a = intersectArea(rx, ry, rw, rh,
-			  scr->xine_screens[i].x_org,
-			  scr->xine_screens[i].y_org,
-			  scr->xine_screens[i].width,
-			  scr->xine_screens[i].height);
-	
+
+	a = calcIntersectionArea(rx, ry, rw, rh,
+				 scr->xine_info.screens[i].pos.x,
+				 scr->xine_info.screens[i].pos.y,
+				 scr->xine_info.screens[i].size.width,
+				 scr->xine_info.screens[i].size.height);
+
 	if (a > area) {
 	    area = a;
 	    best = i;
 	}
     }
 
+    /*
+     * in case rect is in dead space, return valid head
+     */
+    if (best == -1)
+	best = wGetHeadForPointerLocation(scr);
+
     return best;
 }
 
 
-int wGetHeadForWindow(WWindow *wwin)
+Bool
+wWindowTouchesHead(WWindow *wwin, int head)
+{
+    WScreen * scr;
+    WMRect rect;
+    int a;
+
+    if (!wwin || !wwin->frame)
+        return False;
+
+    scr = wwin->screen_ptr;
+    rect = wGetRectForHead(scr, head);
+    a = calcIntersectionArea(wwin->frame_x, wwin->frame_y,
+                             wwin->frame->core->width,
+                             wwin->frame->core->height,
+                             rect.pos.x, rect.pos.y,
+                             rect.size.width, rect.size.height);
+
+    return (a != 0);
+}
+
+
+int
+wGetHeadForWindow(WWindow *wwin)
 {
     WMRect rect;
 
+    if (wwin == NULL || wwin->frame == NULL)
+        return 0;
+
     rect.pos.x = wwin->frame_x;
     rect.pos.y = wwin->frame_y;
     rect.size.width = wwin->frame->core->width;
@@ -157,85 +235,136 @@
 }
 
 
-int wGetHeadForPoint(WScreen *scr, WMPoint point)
+/*
+int
+wGetHeadForPoint(WScreen *scr, WMPoint point, int *flags)
 {
     int i;	
 
-    for (i = 0; i < scr->xine_count; i++) {
+    // paranoia
+    if (flags == NULL) {
+	static int tmp;
+	flags = &tmp;
+    }
+    *flags = XFLAG_NONE;
+    
+    for (i = 0; i < scr->xine_info.count; i++) {
+#if 0
 	int yy, xx;
 	
-	xx = scr->xine_screens[i].x_org + scr->xine_screens[i].width;
-	yy = scr->xine_screens[i].y_org + scr->xine_screens[i].height;
-	if (point.x >= scr->xine_screens[i].x_org &&
-	    point.y >= scr->xine_screens[i].y_org &&
+	xx = scr->xine_info.screens[i].pos.x + scr->xine_info.screens[i].size.width;
+	yy = scr->xine_info.screens[i].pos.y + scr->xine_info.screens[i].size.height;
+	if (point.x >= scr->xine_info.screens[i].pos.x &&
+	    point.y >= scr->xine_info.screens[i].pos.y &&
 	    point.x < xx && point.y < yy) {
 	    return i;
 	}
+#else
+	XineramaScreenInfo *xsi = &scr->xine_info.screens[i];
+
+	if ((unsigned)(point.x - xsi->x_org) < xsi->width &&
+	    (unsigned)(point.y - xsi->y_org) < xsi->height)
+	    return i;
+#endif
     }
+
+    *flags |= XFLAG_DEAD;
     
     return scr->xine_primary_head;
 }
+*/
 
 
-int wGetHeadForPointerLocation(WScreen *scr)
+
+int
+wGetHeadForPoint(WScreen *scr, WMPoint point)
+{
+    int i;	
+
+    for (i = 0; i < scr->xine_info.count; i++) {
+	WMRect *rect = &scr->xine_info.screens[i];
+
+	if ((unsigned)(point.x - rect->pos.x) < rect->size.width &&
+	    (unsigned)(point.y - rect->pos.y) < rect->size.height)
+	    return i;
+    }
+    return scr->xine_info.primary_head;
+}
+
+
+int
+wGetHeadForPointerLocation(WScreen *scr)
 {
     WMPoint point;
     Window bla;
     int ble;
     unsigned int blo;
 
-    
+    if (!scr->xine_info.count)
+	return scr->xine_info.primary_head;
+
     if (!XQueryPointer(dpy, scr->root_win, &bla, &bla,
 		       &point.x, &point.y,
 		       &ble, &ble,
 		       &blo))
-	return scr->xine_primary_head;
+	return scr->xine_info.primary_head;
 
     return wGetHeadForPoint(scr, point);
 }
 
 /* get the dimensions of the head */
-WMRect wGetRectForHead(WScreen *scr, int head)
+WMRect
+wGetRectForHead(WScreen *scr, int head)
 {
     WMRect rect;
 
-    if (head < scr->xine_count) {
-	rect.pos.x = scr->xine_screens[head].x_org;
-	rect.pos.y = scr->xine_screens[head].y_org;
-	rect.size.width = scr->xine_screens[head].width;
-	rect.size.height = scr->xine_screens[head].height;	
-
-	return rect;
+    if (head < scr->xine_info.count) {
+	rect.pos.x = scr->xine_info.screens[head].pos.x;
+	rect.pos.y = scr->xine_info.screens[head].pos.y;
+	rect.size.width = scr->xine_info.screens[head].size.width;
+        rect.size.height = scr->xine_info.screens[head].size.height;
     } else {
-	
 	rect.pos.x = 0;
 	rect.pos.y = 0;
 	rect.size.width = scr->scr_width;
 	rect.size.height = scr->scr_height;
-	
-	return rect;
     }
+
+    return rect;
 }
 
 
-WMRect wGetUsableRectForHead(WScreen *scr, int head)
+WArea
+wGetUsableAreaForHead(WScreen *scr, int head, WArea *totalAreaPtr, Bool noicons)
 {
-    if (head < scr->xine_count) {
-	rect.pos.x = scr->xine_screens[head].x_org;
-	rect.pos.y = scr->xine_screens[head].y_org;
-	rect.size.width = scr->xine_screens[head].width;
-	rect.size.height = scr->xine_screens[head].height;	
+    WArea totalArea, usableArea;
+    WMRect rect = wGetRectForHead(scr, head);
 
-	return rect;
-    } else {
-	
-	rect.pos.x = 0;
-	rect.pos.y = 0;
-	rect.size.width = scr->scr_width;
-	rect.size.height = scr->scr_height;
-	
-	return rect;
-    }
+    totalArea.x1 = rect.pos.x;
+    totalArea.y1 = rect.pos.y;
+    totalArea.x2 = totalArea.x1 + rect.size.width;
+    totalArea.y2 = totalArea.y1 + rect.size.height;
+
+    if (totalAreaPtr != NULL) *totalAreaPtr = totalArea;
+
+    if (head < wXineramaHeads(scr)) {
+	usableArea = noicons ? scr->totalUsableArea[head] : scr->usableArea[head];
+    } else
+	usableArea = totalArea;
+
+    return usableArea;
+}
+
+
+WMPoint
+wGetPointToCenterRectInHead(WScreen *scr, int head, int width, int height)
+{
+    WMPoint p;
+    WMRect rect = wGetRectForHead(scr, head);
+
+    p.x = rect.pos.x + (rect.size.width - width)/2;
+    p.y = rect.pos.y + (rect.size.height - height)/2;
+
+    return p;
 }
 
-#endif 
diff -Naur WindowMaker-0.80.2/src/xinerama.h wm-xft2/src/xinerama.h
--- WindowMaker-0.80.2/src/xinerama.h	2002-02-16 07:53:33.000000000 +0300
+++ wm-xft2/src/xinerama.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,4 +1,3 @@
-
 /*
  *  Window Maker window manager
  * 
@@ -20,8 +19,8 @@
  *  USA.
  */
 
-#ifndef _XINERAMA_H_
-#define _XINERAMA_H_
+#ifndef _WMXINERAMA_H_
+#define _WMXINERAMA_H_
 
 #include "screen.h"
 #include "window.h"
@@ -29,6 +28,15 @@
 
 void wInitXinerama(WScreen *scr);
 
+#define wXineramaHeads(scr) ((scr)->xine_info.count ? (scr)->xine_info.count : 1)
+
+#define XFLAG_NONE	0x00
+#define XFLAG_DEAD	0x01
+#define XFLAG_MULTIPLE	0x02
+#define XFLAG_PARTIAL	0x04
+
+int wGetRectPlacementInfo(WScreen *scr, WMRect rect, int *flags);
+
 int wGetHeadForRect(WScreen *scr, WMRect rect);
 
 int wGetHeadForWindow(WWindow *wwin);
@@ -39,7 +47,11 @@
 
 WMRect wGetRectForHead(WScreen *scr, int head);
 
-WMRect wGetUsableRectForHead(WScreen *scr, int head);
+WArea wGetUsableAreaForHead(WScreen *scr, int head, WArea *totalAreaPtr, Bool noicons);
+
+WMPoint wGetPointToCenterRectInHead(WScreen *scr, int head, int width, int height);
+
+Bool wWindowTouchesHead(WWindow *wwin, int head);
 
 #endif
 
diff -Naur WindowMaker-0.80.2/src/xutil.c wm-xft2/src/xutil.c
--- WindowMaker-0.80.2/src/xutil.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/src/xutil.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  WindowMaker miscelaneous functions
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/TODO wm-xft2/TODO
--- WindowMaker-0.80.2/TODO	2002-07-02 04:30:25.000000000 +0400
+++ wm-xft2/TODO	2003-10-22 14:08:34.000000000 +0400
@@ -14,6 +14,8 @@
 
 Need to do:
 ===========
+- impelment a generic pixmap type, which receives attributes
+  (scaled/maxscaled/centered/tiled, smoothed, size/position, ...)
 - allow user to select/restore default root menu from wprefs
 - support for X11R6.4 extension for getting extra visual info in wrlib's
   automatic best context guessing
diff -Naur WindowMaker-0.80.2/util/directjpeg.c wm-xft2/util/directjpeg.c
--- WindowMaker-0.80.2/util/directjpeg.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/util/directjpeg.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  *
  *  WindowMaker window manager
  * 
- *  Copyright (c) 1999-2002 Alfredo K. Kojima
+ *  Copyright (c) 1999-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -133,7 +133,7 @@
     if (!canLoad(rc))
 	return None;
 
-    file = fopen(file_name, "r");
+    file = fopen(file_name, "rb");
     if (!file) {
 	return None;
     }
diff -Naur WindowMaker-0.80.2/util/geticonset.c wm-xft2/util/geticonset.c
--- WindowMaker-0.80.2/util/geticonset.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/util/geticonset.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  *
  *  Window Maker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/util/getstyle.c wm-xft2/util/getstyle.c
--- WindowMaker-0.80.2/util/getstyle.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/util/getstyle.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  *
  *  WindowMaker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/util/Makefile.am wm-xft2/util/Makefile.am
--- WindowMaker-0.80.2/util/Makefile.am	2001-10-10 04:14:03.000000000 +0400
+++ wm-xft2/util/Makefile.am	2003-10-22 14:08:38.000000000 +0400
@@ -15,10 +15,7 @@
 	@HEADER_SEARCH_PATH@ \
 	-DETCDIR=\"sysconfdir\" -DDATADIR=\"pkgdatadir\"
 
-# X_EXTRA_LIBS is for libproplist in systems that need -lsocket
-# remove after we require lPL 0.10.2 which automatically resolves its
-# library dependancies using the libPropList.la file
-liblist= @LIBRARY_SEARCH_PATH@ @X_EXTRA_LIBS@ @INTLIBS@
+liblist= @LIBRARY_SEARCH_PATH@ @INTLIBS@
 
 wdwrite_LDADD = $(top_builddir)/WINGs/libWUtil.a $(liblist)
 
@@ -41,17 +38,17 @@
 wmagnify_LDADD = \
 	$(top_builddir)/WINGs/libWINGs.a \
 	$(top_builddir)/wrlib/libwraster.la \
-	@INTLIBS@ @DLLIBS@
+	@XFTLIBS@ @INTLIBS@ @DLLIBS@
 
 wmsetup_LDADD = \
 	$(top_builddir)/WINGs/libWINGs.a \
 	$(top_builddir)/wrlib/libwraster.la \
-	@INTLIBS@ @DLLIBS@
+	@XFTLIBS@ @INTLIBS@ @DLLIBS@
 
 wmsetbg_LDADD = \
 	$(top_builddir)/WINGs/libWINGs.a \
 	$(top_builddir)/wrlib/libwraster.la \
-	@INTLIBS@ @DLLIBS@
+	@XFTLIBS@ @INTLIBS@ @DLLIBS@
 
 CLEANFILES = wmaker.inst wmchlocale
 
diff -Naur WindowMaker-0.80.2/util/seticons.c wm-xft2/util/seticons.c
--- WindowMaker-0.80.2/util/seticons.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/util/seticons.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  *
  *  WindowMaker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/util/setstyle.c wm-xft2/util/setstyle.c
--- WindowMaker-0.80.2/util/setstyle.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/util/setstyle.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  *
  *  WindowMaker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -595,7 +595,7 @@
     char buffer[128], char token[128];
     WMPropList *style, *p;
 
-    f = fopen(path, "r");
+    f = fopen(path, "rb");
     if (!f) {
 	perror(path);
 	return NULL;
diff -Naur WindowMaker-0.80.2/util/wdread.c wm-xft2/util/wdread.c
--- WindowMaker-0.80.2/util/wdread.c	2002-02-28 16:26:10.000000000 +0300
+++ wm-xft2/util/wdread.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  *
  *  WindowMaker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  *  (cowardly remade from wdwrite.c; by judas@hell on Jan 26 2001)
  * 
  *  This program is free software; you can redistribute it and/or modify
diff -Naur WindowMaker-0.80.2/util/wdwrite.c wm-xft2/util/wdwrite.c
--- WindowMaker-0.80.2/util/wdwrite.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/util/wdwrite.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  *
  *  WindowMaker window manager
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/util/wmsetbg.c wm-xft2/util/wmsetbg.c
--- WindowMaker-0.80.2/util/wmsetbg.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/util/wmsetbg.c	2003-10-22 14:08:38.000000000 +0400
@@ -3,8 +3,8 @@
  *
  *  WindowMaker window manager
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
- *  Copyright (c) 1998-2002 Dan Pascu
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Dan Pascu
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -25,7 +25,6 @@
 /*
  * TODO: rewrite, too dirty
  */
-
 #include <stdio.h>
 #include <stdlib.h>
 #include <unistd.h>
@@ -40,6 +39,15 @@
 
 #include "../src/config.h"
 
+#ifdef XINERAMA
+# ifdef SOLARIS_XINERAMA /* sucks */
+#  include <X11/extensions/xinerama.h>
+# else
+#  include <X11/extensions/Xinerama.h>
+# endif
+#endif
+
+
 #ifdef HAVE_DLFCN_H
 #include <dlfcn.h>
 #endif
@@ -50,7 +58,13 @@
 #include <wraster.h>
 
 
-#define PROG_VERSION	"wmsetbg (Window Maker) 2.7"
+typedef struct {
+    WMRect *screens;
+    int count;                 /* screen count, 0 = inactive */
+} WXineramaInfo;
+
+
+#define PROG_VERSION	"wmsetbg (Window Maker) 2.8"
 
 
 #define WORKSPACE_COUNT (MAX_WORKSPACES+1)
@@ -62,7 +76,10 @@
 int scr;
 int scrWidth;
 int scrHeight;
+int scrX, scrY;
+
 
+WXineramaInfo xineInfo;
 
 Bool smooth = False;
 
@@ -89,6 +106,53 @@
 
 
 
+void
+initXinerama()
+{
+    xineInfo.screens = NULL;
+    xineInfo.count = 0;
+#ifdef XINERAMA
+# ifdef SOLARIS_XINERAMA
+    if (XineramaGetState(dpy, scr)) {
+        XRectangle head[MAXFRAMEBUFFERS];
+        unsigned char hints[MAXFRAMEBUFFERS];
+        int i;
+
+        if (XineramaGetInfo(dpy, scr, head, hints, 
+                            &xineInfo.count)) {
+
+            xineInfo.screens = wmalloc(sizeof(WMRect)*(xineInfo.count+1));
+        
+            for (i=0; i<xineInfo.count; i++) {
+                xineInfo.screens[i].pos.x = head[i].x;
+                xineInfo.screens[i].pos.y = head[i].y;
+                xineInfo.screens[i].size.width = head[i].width;
+                xineInfo.screens[i].size.height = head[i].height;
+            }
+        }
+    }
+# else /* !SOLARIS_XINERAMA */
+    if (XineramaIsActive(dpy)) {
+        XineramaScreenInfo *xine_screens;
+        int i;
+        
+        xine_screens = XineramaQueryScreens(dpy, &xineInfo.count);
+
+        xineInfo.screens = wmalloc(sizeof(WMRect)*(xineInfo.count+1));
+        
+        for (i=0; i<xineInfo.count; i++) {
+            xineInfo.screens[i].pos.x = xine_screens[i].x_org;
+            xineInfo.screens[i].pos.y = xine_screens[i].y_org;
+            xineInfo.screens[i].size.width = xine_screens[i].width;
+            xineInfo.screens[i].size.height = xine_screens[i].height;
+        }
+        XFree(xine_screens);
+    }
+# endif /* !SOLARIS_XINERAMA */
+#endif /* XINERAMA */
+}
+
+
 RImage*
 loadImage(RContext *rc, char *file)
 {
@@ -116,6 +180,90 @@
 }
 
 
+static void
+applyImage(RContext *rc, BackgroundTexture *texture, RImage *image, char type,
+           int x, int y, int width, int height)
+{
+    int w, h;
+    Bool fimage = False;
+
+    switch (toupper(type)) {
+    case 'S':
+    case 'M':
+        if (toupper(type) == 'S') {
+            w = width;
+            h = height;
+        } else {
+            if (image->width*height > image->height*width) {
+                w = width;
+                h = (width*image->height) / image->width;
+            } else {
+                w = (height*image->width) / image->height;
+                h = height;
+            }
+        }
+
+        if (w != image->width || h != image->height) {
+            RImage * simage;
+
+            if (smooth) {
+                simage = RSmoothScaleImage(image, w, h);
+            } else {
+                simage = RScaleImage(image, w, h);
+            }
+
+            if (!simage) {
+                wwarning("could not scale image:%s", RMessageForError(RErrorCode));
+                return;
+            }
+            fimage = True;
+            image = simage;
+        }
+
+        /* fall through */
+    case 'C':
+        {
+            Pixmap pixmap;
+
+            if (!RConvertImage(rc, image, &pixmap)) {
+                wwarning("could not convert texture:%s", RMessageForError(RErrorCode));
+                return;
+            }
+
+            if (image->width != width || image->height != height) {
+                int sx, sy, w, h;
+
+                if (image->height < height) {
+                    h = image->height;
+                    y += (height - h) / 2;
+                    sy = 0;
+                } else {
+                    sy = (image->height - height) / 2;
+                    h = height;
+                }
+                if (image->width < width) {
+                    w = image->width;
+                    x += (width - w) / 2;
+                    sx = 0;
+                } else {
+                    sx = (image->width - width) / 2;
+                    w = width;
+                }
+
+                XCopyArea(dpy, pixmap, texture->pixmap, DefaultGC(dpy, scr), sx, sy, w, h, x, y);
+            } else
+                XCopyArea(dpy, pixmap, texture->pixmap, DefaultGC(dpy, scr), 0, 0, width, height, x, y);
+
+            XFreePixmap(dpy, pixmap);
+            if (fimage) {
+                RReleaseImage( image);
+            }
+        }
+        break;
+    }
+}
+
+
 BackgroundTexture*
 parseTexture(RContext *rc, char *text)
 {
@@ -401,97 +549,40 @@
 	    }
 	    if (image)
 		RReleaseImage(image);
+            
+            texture->pixmap = pixmap;
+            texture->color = color;
 	    break;
 	 case 'S':
 	 case 'M':
-	    if (toupper(type[0])=='S') {
-		w = scrWidth;
-		h = scrHeight;
-	    } else {
-		if (iwidth*scrHeight > iheight*scrWidth) {
-		    w = scrWidth;
-		    h = (scrWidth*iheight)/iwidth;
-		} else {
-		    h = scrHeight;
-		    w = (scrHeight*iwidth)/iheight;
-		}
-	    }
-	    if (w != image->width || h != image->height) {
-		RImage *simage;
-
-		if (smooth)
-		    simage = RSmoothScaleImage(image, w, h);
-		else
-		    simage = RScaleImage(image, w, h);
-		if (!simage) {
-		    wwarning("could not scale image:%s", 
-			     RMessageForError(RErrorCode));
-		    RReleaseImage(image);
-		    goto error;
-		}
-		RReleaseImage(image);
-		image = simage;
-	    }
-	    iwidth = image->width;
-	    iheight = image->height;
-
-	    /* fall through */
-	 case 'C':
+         case 'C':
 	    {
-		Pixmap cpixmap;
-
-		if (!pixmap && !RConvertImage(rc, image, &pixmap)) {
-		    wwarning("could not convert texture:%s", 
-			     RMessageForError(RErrorCode));
-		    RReleaseImage(image);
-		    goto error;
-		}
-
-		if (iwidth != scrWidth || iheight != scrHeight) {
-		    int x, y, sx, sy, w, h;
-
-		    cpixmap = XCreatePixmap(dpy, root, scrWidth, scrHeight,
-					    DefaultDepth(dpy, scr));
-
-		    XSetForeground(dpy, DefaultGC(dpy, scr), color.pixel);
-		    XFillRectangle(dpy, cpixmap, DefaultGC(dpy, scr),
-				   0, 0, scrWidth, scrHeight);
-
-		    if (iheight < scrHeight) {
-			h = iheight;
-			y = (scrHeight - h)/2;
-			sy = 0;
-		    } else {
-			sy = (iheight - scrHeight)/2;
-			y = 0;
-			h = scrHeight;
-		    }
-		    if (iwidth < scrWidth) {
-			w = iwidth;
-			x = (scrWidth - w)/2;
-			sx = 0;
-		    } else {
-			sx = (iwidth - scrWidth)/2;
-			x = 0;
-			w = scrWidth;
-		    }
-
-		    XCopyArea(dpy, pixmap, cpixmap, DefaultGC(dpy, scr),
-			      sx, sy, w, h, x, y);
-		    XFreePixmap(dpy, pixmap);
-		    pixmap = cpixmap;
-		}
-		if (image)
-		    RReleaseImage(image);
+		Pixmap tpixmap = XCreatePixmap( dpy, root, scrWidth, scrHeight, DefaultDepth(dpy, scr));
+		XFillRectangle(dpy, tpixmap, DefaultGC(dpy, scr), 0, 0, scrWidth, scrHeight);
 
+		texture->pixmap = tpixmap;
+		texture->color = color;
 		texture->width = scrWidth;
 		texture->height = scrHeight;
+
+#ifdef XINERAMA
+		if (xineInfo.count) {
+                    int i;
+		    for (i=0; i<xineInfo.count; ++i) {
+                        applyImage(rc, texture, image, type[0],
+                                   xineInfo.screens[i].pos.x, xineInfo.screens[i].pos.y,
+                                   xineInfo.screens[i].size.width, xineInfo.screens[i].size.height);
+		    }
+		} else {
+		    applyImage(rc, texture, image, type[0], 0, 0, scrWidth, scrHeight);
+                }
+#else /* !XINERAMA */
+                applyImage(rc, texture, image, type[0], 0, 0, scrWidth, scrHeight);
+#endif /* !XINERAMA */
+		RReleaseImage(image);
 	    }
 	    break;
 	}
-
-	texture->pixmap = pixmap;
-	texture->color = color;
     } else if (strcasecmp(type, "thgradient")==0
 	       || strcasecmp(type, "tvgradient")==0
 	       || strcasecmp(type, "tdgradient")==0) {
@@ -774,7 +865,7 @@
 {
     Display *tmpDpy;
     Pixmap copyP;
-
+    
     /* must open a new display or the RetainPermanent will
      * leave stuff allocated in RContext unallocated after exit */
     tmpDpy = XOpenDisplay(display);
@@ -1390,7 +1481,7 @@
 	WMPropList *val;
 #if 0 /* some problem with Alpha... TODO: check if its right */
 	val = WMGetFromPLDictionary(domain, 
-				   WMCreatePLString("SmoothWorkspaceBack"));
+                                    WMCreatePLString("SmoothWorkspaceBack"));
 #else
 	val = getValueForKey(domain, "SmoothWorkspaceBack");
 #endif
@@ -1414,6 +1505,10 @@
     
     scrWidth = WidthOfScreen(DefaultScreenOfDisplay(dpy));
     scrHeight = HeightOfScreen(DefaultScreenOfDisplay(dpy));
+    scrX = scrY = 0;
+
+    initXinerama();
+
 
     if (!obey_user && DefaultDepth(dpy, scr) <= 8)
         render_mode = RDitheredRendering;
diff -Naur WindowMaker-0.80.2/util/wmsetup.c wm-xft2/util/wmsetup.c
--- WindowMaker-0.80.2/util/wmsetup.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/util/wmsetup.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /* wmsetup.c- create wmaker config file dir structure and copy default
  * 	config files.
  * 
- *  Copyright (c) 2000-2002 Alfredo K. Kojima
+ *  Copyright (c) 2000-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -296,7 +296,7 @@
 
     sprintf(path, "%s/USER_FILES", DATADIR);
     
-    f = fopen(path, "r");
+    f = fopen(path, "rb");
     while (!feof(f)) {
 	if (!fgets(file, 255, f)) {
 	    break;
@@ -319,7 +319,7 @@
     
     sprintf(path, "%s/USER_FILES", ETCDIR);
 
-    f = fopen(path, "r");
+    f = fopen(path, "rb");
     while (!feof(f)) {
 	if (!fgets(path, 255, f)) {
 	    break;
diff -Naur WindowMaker-0.80.2/util/wsetfont wm-xft2/util/wsetfont
--- WindowMaker-0.80.2/util/wsetfont	2002-02-21 14:28:54.000000000 +0300
+++ wm-xft2/util/wsetfont	2003-10-22 14:08:38.000000000 +0400
@@ -12,6 +12,11 @@
 #  -argument --locale=?? takes locale code (ja, sk, ...)
 # )
 #
+# improved by Mike FABIAN <mfabian@suse.de> on April 23th 20003
+# - use 'locale charmap' to find out the encoding of the locale
+#   simulate 'locale charmap' on systems which lack it.
+# - add a few fontsets, especially a generic one which hopefully works almost always
+#
 # [Special Thanks To]
 # Korean fontset info from: 
 #     Byeong-Chan, Kim <redhands@linux.sarang.net> 
@@ -27,6 +32,8 @@
 #     CHOI Junho <junker@jazz.snu.ac.kr>
 # Ukrainian fontset info from: 
 #     Bohdan Vlasyuk <bohdan@vstu.edu.ua>
+# CP1251 and isocyr fontset info from:
+#     Anton Zinoviev <zinoviev@debian.org>
 
 VERSION="Version 0.6  2002/01/12"
 
@@ -42,30 +49,43 @@
         $PROGRAM [--nodef] [--auto] <font_family>
 -----------------------------------------------------------------------
 [font_fam]  [Fontset]                    [Font Information]
- default    helvetica                    
- latin1     helvetica(iso8859-1)
- latin2     helvetica(iso8859-2)          See *Note1.
+ default    helvetica                     See *Note1.
+ generic    helvetica/efont/gnu-unifont/* See *Note2.
+ efontuni   efont(iso10646-1)             See *Note1.
+ gnuuni     gnu-unicode(iso10646-1)       See *Note1.
+ unicode    helvetica(iso10646-1)         Included in XFree86
+ latin1     helvetica(iso8859-1)          Included in XFree86
+ latin2     helvetica(iso8859-2)          Included in XFree86
+ latin9     helvetica(iso8859-15)         Included in XFree86
  greek      helvetica(iso8859-7)          See *Note1.
  japanese   helvetica/-*-fixed(jisx02XX)  Included in X11R6/XFree86("fnon" pkg)
  korean     helvetica/-*-kodig(ksc5601)   See *Note1.
  korean2    helvetica/daewoo(ksc5601)     Included in X11R6/XFree86("fnon" pkg)
  russian    helvetica(koi8-r)             Included in X11R6/XFree86("fcyr" pkg)
  ukrainian  helvetica(koi8-u)             See *Note1.
- turkish    unknown                       See *Note2.
+ cp1251     helvetica(microsoft-cp1251)
+ isocyr     helvetica(iso8859-5)
+ turkish    helvetica(iso8859-9)          Included in XFree86
+ sans       generic alias for use with Xft
+ serif      generic alias for use with Xft
+ monospace  generic alias for use with Xft
 -----------------------------------------------------------------------
 Latin1 Languages: Danish/Dutch/English/Finnish/French/Galician/German/
                   Italian/Norwegian/Portuguese/Spanish/Swedish/...
 Latin2 Languages: Croatian/Czech/Polish/Romanian/Slovenian/...
+Latin9 Languages: same languages as Latin1 but with Euro symbol.
+CP1251 Languages: Belarusian/Bulgarian
 
 *Note1: Not included in X11R6/XFree86. You can download them from ...
- Latin2 X fonts packages:    http://sizif.mf.uni-lj.si/linux/cee/iso8859-2.html
+ efontuni:                   http://openlab.ring.gr.jp/efont/
+ gnuuni:                     http://czyborra.com/unifont/
  Greek X fonts packages:     ftp://argeas.argos.hol.gr/pub/unix/linux/GREEK/fonts/
                              ftp://ftp.ntua.gr/pub/fonts/X11/
  Korean X fonts packages:    ftp://linux.sarang.net  (Linux RPM)
                              ftp://ftp.kaist.ac.kr/pub/hangul/fonts
  Ukrainian X fonts packages: http://www.inp.nsk.su/~bolkhov/files/fonts/cyr-rfx/
-*Note2: please let me know appropriate font setting for WMGLOBAL/WindowMaker,
-        and the fonts' URL to download. mail-to: manome@itlb.te.noda.sut.ac.jp
+*Note2: generic fontset which hopefully works with most locales
+        in most circumstances
 EOF
     exit
 }
@@ -99,23 +119,11 @@
 #
 
 #
-# For --auto and --locale= switch...
-#
-all_codings="latin1 latin2 greek japanese korean2 russian ukrainian"
-latin1="ca da de gl nl fi fr de is it no pt es sv se"
-latin2="hr cz cs hu pl ro sk sl"
-greek="el"
-japanese="ja"
-korean2="ko"
-russian="ru bg"
-ukrainian="uk" # note that it's really uk, not ua.
-
-#
 # These are lists of all domains and keys we're gonna change...
 #
 DomainNames="WMGLOBAL WindowMaker"
 DomainWMGLOBAL="SystemFont BoldSystemFont MultiByteText"
-DomainWindowMaker="WindowTitleFont MenuTitleFont MenuTextFont IconTitleFont ClipTitleFont DisplayFont"
+DomainWindowMaker="WindowTitleFont MenuTitleFont MenuTextFont IconTitleFont ClipTitleFont DisplayFont LargeDisplayFont"
 
 for i in $DomainNames; do
     tmp="Domain$i"
@@ -129,27 +137,36 @@
 
 #
 # Elements of $NodefUnable will always have fonts set to defaults, while those
-# of $NonedefAble will have changed only coding part of font name (if --nodef
+# of $NodefAble will have changed only coding part of font name (if --nodef
 # command line argument is used).
 #
-NodefAble="default latin1 latin2 greek russian ukrainian"
-NodefUnable="japanese korean korean2"
+NodefAble="default unicode latin1 latin2 latin5 latin9 greek russian ukrainian cp1251 isocyr"
+NodefUnable="generic efontuni gnuuni japanese korean korean2 sans serif monospace"
 Supported="$NodefAble $NodefUnable"
 
-defaultCoding="*-*"
- latin1Coding="iso8859-1"
- latin2Coding="iso8859-2"
-  greekCoding="iso8859-7"
-russianCoding="koi8-r"
+  defaultCoding="*-*"
+  unicodeCoding="iso10646-1"
+   latin1Coding="iso8859-1"
+   latin2Coding="iso8859-2"
+   latin5Coding="iso8859-9"
+   latin9Coding="iso8859-15"
+    greekCoding="iso8859-7"
+  russianCoding="koi8-r"
 ukrainianCoding="koi8-u"
+   cp1251Coding="microsoft-cp1251"
+   isocyrCoding="iso8859-5"
 
-defaultMultiByteText="AUTO"
- latin1MultiByteText="NO"
- latin2MultiByteText="YES"
-  greekMultiByteText="YES"
-russianMultiByteText="YES"
+  defaultMultiByteText="AUTO"
+  unicodeMultiByteText="YES"
+   latin1MultiByteText="NO"
+   latin2MultiByteText="YES"
+   latin5MultiByteText="YES"
+   latin9MultiByteText="YES"
+    greekMultiByteText="YES"
+  russianMultiByteText="YES"
 ukrainianMultiByteText="YES"
-
+   cp1251MultiByteText="YES"
+   isocyrMultiByteText="YES"
 
 #
 # Default WindowMaker fonts for NodefAble font families (part telling us
@@ -163,11 +180,48 @@
 DefaultIconTitleFont="-*-helvetica-medium-r-normal-*-8-*-*-*-*-*-"
 DefaultClipTitleFont="-*-helvetica-bold-r-normal-*-10-*-*-*-*-*-"
 DefaultDisplayFont="-*-helvetica-medium-r-normal-*-12-*-*-*-*-*-"
+DefaultLargeDisplayFont="-*-helvetica-medium-r-normal-*-12-*-*-*-*-*-"
 DefaultMultiByteText="AUTO"
 
 #
 # NodefUnable have to give full font descriptions...
 #
+
+genericSystemFont="-*-helvetica-medium-r-normal-*-%d-*-*-*-iso8859-*,-efont-biwidth-medium-r-normal-*-%d-*-*-*-*-*-*-*,-efont-biwidth-medium-r-normal-*-*-*-*-*-*-*-*-*,-gnu-unifont-medium-r-normal-*-16-*-*-*-*-*-*-*,-baekmuk-gulim-medium-r-normal-*-%d-*-*-*-*-*-ksc5601.1987-*,-shinonome-gothic-medium-r-normal-*-%d-*,-*-*-medium-r-normal-*-%d-*,-*-*-medium-r-normal-*-*-*"
+genericBoldSystemFont="-*-helvetica-bold-r-normal-*-%d-*-*-*-iso8859-*,-efont-biwidth-bold-r-normal-*-%d-*-*-*-*-*-*-*,-efont-biwidth-bold-r-normal-*-*-*-*-*-*-*-*-*,-gnu-unifont-medium-r-normal-*-16-*-*-*-*-*-*-*,-baekmuk-gulim-bold-r-normal-*-%d-*-*-*-*-*-ksc5601.1987-*,-shinonome-gothic-bold-r-normal-*-%d-*,-*-*-bold-r-normal-*-%d-*,-*-*-bold-r-normal-*-*-*"
+genericWindowTitleFont="-*-helvetica-bold-r-normal-*-12-*-*-*-iso8859-*,-efont-biwidth-bold-r-normal-*-12-*-*-*-*-*-*-*,-gnu-unifont-medium-r-normal-*-16-*-*-*-*-*-*-*,-baekmuk-gulim-medium-r-normal-*-12-*-*-*-*-*-ksc5601.1987-*,-*-*-medium-r-normal-*-12-*,-*-*-medium-r-normal-*-14-*,-*-*-medium-r-normal-*-*-*"
+genericMenuTitleFont="-*-helvetica-bold-r-normal-*-12-*-*-*-iso8859-*,-efont-biwidth-bold-r-normal-*-12-*-*-*-*-*-*-*,-gnu-unifont-medium-r-normal-*-16-*-*-*-*-*-*-*,-baekmuk-gulim-bold-r-normal-*-12-*-*-*-*-*-ksc5601.1987-*,-shinonome-gothic-bold-r-normal-*-12-*,-*-*-bold-r-normal-*-12-*,-*-*-bold-r-normal-*-14-*,-*-*-bold-r-normal-*-*-*"
+genericMenuTextFont="-*-helvetica-medium-r-normal-*-12-*-*-*-iso8859-*,-efont-biwidth-medium-r-normal-*-12-*-*-*-*-*-*-*,-gnu-unifont-medium-r-normal-*-16-*-*-*-*-*-*-*,-baekmuk-gulim-medium-r-normal-*-12-*-*-*-*-*-ksc5601.1987-*,-shinonome-gothic-medium-r-normal-*-12-*,-*-*-medium-r-normal-*-12-*,-*-*-medium-r-normal-*-14-*,-*-*-medium-r-normal-*-*-*"
+genericIconTitleFont="-*-helvetica-medium-r-normal-*-8-*-*-*-iso8859-*,-efont-biwidth-medium-r-normal-*-8-*-*-*-*-*-*-*,-efont-biwidth-medium-r-normal-*-10-*-*-*-*-*-*-*,-gnu-unifont-medium-r-normal-*-16-*-*-*-*-*-*-*,-baekmuk-gulim-medium-r-normal-*-8-*-*-*-*-*-ksc5601.1987-*,-baekmuk-gulim-medium-r-normal-*-10-*-*-*-*-*-ksc5601.1987-*,-shinonome-gothic-medium-r-normal-*-8-*,-shinonome-gothic-medium-r-normal-*-10-*,-shinonome-gothic-medium-r-normal-*-12-*,-*-*-medium-r-normal-*-8-*,-*-*-medium-r-normal-*-10-*,-*-*-medium-r-normal-*-12-*,-*-*-medium-r-normal-*-14-*,-*-*-medium-r-normal-*-*-*"
+genericClipTitleFont="-*-helvetica-bold-r-normal-*-10-*-*-*-iso8859-*,-efont-biwidth-bold-r-normal-*-10-*-*-*-*-*-*-*,-gnu-unifont-medium-r-normal-*-16-*-*-*-*-*-*-*,-baekmuk-gulim-medium-r-normal-*-10-*-*-*-*-*-ksc5601.1987-*,-shinonome-gothic-medium-r-normal-*-10-*,-shinonome-gothic-medium-r-normal-*-12-*,-*-*-medium-r-normal-*-10-*,-*-*-medium-r-normal-*-12-*,-*-*-medium-r-normal-*-14-*,-*-*-medium-r-normal-*-*-*"
+genericDisplayFont="-*-helvetica-medium-r-normal-*-12-*-*-*-iso8859-*,-efont-biwidth-medium-r-normal-*-12-*-*-*-*-*-*-*,-gnu-unifont-medium-r-normal-*-16-*-*-*-*-*-*-*,-baekmuk-gulim-medium-r-normal-*-12-*-*-*-*-*-ksc5601.1987-*,-shinonome-gothic-medium-r-normal-*-12-*,-*-*-medium-r-normal-*-12-*,-*-*-medium-r-normal-*-14-*,-*-*-medium-r-normal-*-*-*"
+genericLargeDisplayFont="-*-helvetica-medium-r-normal-*-24-*-*-*-iso8859-*,-efont-biwidth-medium-r-normal-*-24-*-*-*-*-*-*-*,-gnu-unifont-medium-r-normal-*-16-*-*-*-*-*-*-*,-baekmuk-gulim-medium-r-normal-*-24-*-*-*-*-*-ksc5601.1987-*,-shinonome-gothic-medium-r-normal-*-24-*,-*-*-medium-r-normal-*-24-*,-*-*-medium-r-normal-*-*-*"
+genericMultiByteText="YES"
+
+efontuniSystemFont="-efont-biwidth-medium-r-normal-*-%d-*-*-*-*-*-*-*,-efont-biwidth-medium-r-normal-*-*-*-*-*-*-*-*-*"
+efontuniBoldSystemFont="-efont-biwidth-bold-r-normal-*-%d-*-*-*-*-*-*-*,-efont-biwidth-bold-r-normal-*-*-*-*-*-*-*-*-*"
+efontuniWindowTitleFont="-efont-biwidth-bold-r-normal-*-12-*-*-*-*-*-*-*"
+efontuniMenuTitleFont="-efont-biwidth-bold-r-normal-*-12-*-*-*-*-*-*-*"
+efontuniMenuTextFont="-efont-biwidth-medium-r-normal-*-12-*-*-*-*-*-*-*"
+efontuniIconTitleFont="-efont-biwidth-medium-r-normal-*-8-*-*-*-*-*-*-*,-efont-biwidth-medium-r-normal-*-10-*-*-*-*-*-*-*"
+efontuniClipTitleFont="-efont-biwidth-bold-r-normal-*-10-*-*-*-*-*-*-*"
+efontuniDisplayFont="-efont-biwidth-medium-r-normal-*-12-*-*-*-*-*-*-*"
+efontuniLargeDisplayFont="-efont-biwidth-medium-r-normal-*-24-*-*-*-*-*-*-*"
+efontuniMultiByteText="YES"
+
+# Unless scaling of bitmap fonts is allowed (usually disabled nowadays),
+# the GNU-Unifont is only available in 16 pixel height.
+gnuuniSystemFont="-gnu-unifont-medium-r-normal-*-16-*-*-*-*-*-*-*"
+gnuuniBoldSystemFont="-gnu-unifont-bold-r-normal-*-16-*-*-*-*-*-*-*"
+gnuuniWindowTitleFont="-gnu-unifont-bold-r-normal-*-16-*-*-*-*-*-*-*"
+gnuuniMenuTitleFont="-gnu-unifont-bold-r-normal-*-16-*-*-*-*-*-*-*"
+gnuuniMenuTextFont="-gnu-unifont-medium-r-normal-*-16-*-*-*-*-*-*-*"
+gnuuniIconTitleFont="-gnu-unifont-medium-r-normal-*-16-*-*-*-*-*-*-*"
+gnuuniClipTitleFont="-gnu-unifont-bold-r-normal-*-16-*-*-*-*-*-*-*"
+gnuuniDisplayFont="-gnu-unifont-medium-r-normal-*-16-*-*-*-*-*-*-*"
+gnuuniLargeDisplayFont="-gnu-unifont-medium-r-normal-*-16-*-*-*-*-*-*-*"
+gnuuniMultiByteText="YES"
+
 japaneseSystemFont="-*-helvetica-medium-r-normal-*-%d-*-*-*-*-*-*-*,-*-*-medium-r-normal-*-%d-*,-*-*-medium-r-normal-*-*-*"
 japaneseBoldSystemFont="-*-helvetica-bold-r-normal-*-%d-*-*-*-*-*-*-*,-*-*-medium-r-normal-*-%d-*,-*-*-medium-r-normal-*-*-*"
 japaneseWindowTitleFont="-*-helvetica-bold-r-normal-*-12-*-*-*-*-*-*-*,-*-*-medium-r-normal-*-14-*,-*-*-medium-r-normal-*-*-*"
@@ -176,6 +230,7 @@
 japaneseIconTitleFont="-*-helvetica-medium-r-normal-*-8-*-*-*-*-*-*-*,-*-*-medium-r-normal-*-12-*,-*-*-medium-r-normal-*-*-*"
 japaneseClipTitleFont="-*-helvetica-bold-r-normal-*-10-*-*-*-*-*-*-*,-*-*-medium-r-normal-*-12-*,-*-*-medium-r-normal-*-*-*"
 japaneseDisplayFont="-*-helvetica-medium-r-normal-*-12-*-*-*-*-*-*-*,-*-*-medium-r-normal-*-14-*,-*-*-medium-r-normal-*-*-*"
+japaneseLargeDisplayFont="-*-helvetica-medium-r-normal-*-24-*-*-*-*-*-*-*,-*-*-medium-r-normal-*-24-*,-*-*-medium-r-normal-*-16-*,-*-*-medium-r-normal-*-*-*"
 japaneseMultiByteText="YES"
 
 koreanSystemFont="-*-helvetica-medium-r-normal-*-%d-*-*-*-*-*-*-*,-*-kodig-medium-r-normal--%d-*-*-*-*-*-*-*,*-*-medium-r-normal-*-%d-*-*-*-*-*-*-*,*-*-*-*-*--%d-*-*-*-*-*-*-*,*"
@@ -186,6 +241,7 @@
 koreanIconTitleFont="-*-helvetica-medium-r-normal-*-8-*-*-*-*-*-*-*,-*-kodig-medium-r-normal--10-*-*-*-*-*-*-*,*-*-medium-r-normal--10-*-*-*-*-*-*-*,*-*-medium-r-normal--*-*-*-*-*-*-*-*,*-*-*-r-normal--*-*-*-*-*-*-*-*,*"
 koreanClipTitleFont="-*-helvetica-bold-r-normal-*-10-*-*-*-*-*-*-*,-*-kodig-medium-r-normal--10-*-*-*-*-*-*-*,*-*-medium-r-normal--10-*-*-*-*-*-*-*,*-*-medium-r-normal--*-*-*-*-*-*-*-*,*-*-*-r-normal--*-*-*-*-*-*-*-*,*"
 koreanDisplayFont="-*-helvetica-medium-r-normal-*-12-*-*-*-*-*-*-*,-*-kodig-medium-r-normal--12-*-*-*-*-*-*-*,*-*-medium-r-normal--12-*-*-*-*-*-*-*,*-*-medium-r-normal--*-*-*-*-*-*-*-*,*-*-*-r-normal--*-*-*-*-*-*-*-*,*"
+koreanLargeDisplayFont="-*-helvetica-medium-r-normal-*-24-*-*-*-*-*-*-*,-*-kodig-medium-r-normal--24-*-*-*-*-*-*-*,*-*-medium-r-normal--24-*-*-*-*-*-*-*,*-*-medium-r-normal--*-*-*-*-*-*-*-*,*-*-*-r-normal--*-*-*-*-*-*-*-*,*"
 koreanMultiByteText="YES"
 
 korean2SystemFont="-*-helvetica-medium-r-normal-*-%d-*-*-*-*-*-*-*,-*-medium-r-normal-*-%d-*,-*-medium-r-normal-*"
@@ -193,11 +249,135 @@
 korean2WindowTitleFont="7x14,-*-gothic-medium-r-normal-*-16-*-*-*-*-*-ksc5601.1987-*"
 korean2MenuTitleFont="7x14,-*-gothic-medium-r-normal-*-16-*-*-*-*-*-ksc5601.1987-*"
 korean2MenuTextFont="7x14,-*-gothic-medium-r-normal-*-16-*-*-*-*-*-ksc5601.1987-*"
-korean2IconTitleFont="-*-helvetica-medium-r-normal-*-10-*-*-*-*-*-*-*,-*-gothic-medium-r-normal-*-12-*-*-*-*-*-ksc5601.1987-*"
-korean2ClipTitleFont="-*-helvetica-bold-r-normal-*-10-*-*-*-*-*-*-*,-*-gothic-medium-r-normal-*-12-*-*-*-*-*-ksc5601.1987-*"
+korean2IconTitleFont="-*-helvetica-medium-r-normal-*-10-*-*-*-*-*-*-*,-*-gothic-medium-r-normal-*-12-*-*-*-*-*-ksc5601.1987-*,-*-gothic-medium-r-normal-*-16-*-*-*-*-*-ksc5601.1987-*"
+korean2ClipTitleFont="-*-helvetica-bold-r-normal-*-10-*-*-*-*-*-*-*,-*-gothic-medium-r-normal-*-12-*-*-*-*-*-ksc5601.1987-*,-*-gothic-medium-r-normal-*-16-*-*-*-*-*-ksc5601.1987-*"
 korean2DisplayFont="-*-helvetica-medium-r-normal-*-12-*-*-*-*-*-*-*,-*-gothic-medium-r-normal-*-16-*-*-*-*-*-ksc5601.1987-*"
+korean2LargeDisplayFont="-*-helvetica-medium-r-normal-*-24-*-*-*-*-*-*-*,-*-gothic-medium-r-normal-*-24-*-*-*-*-*-ksc5601.1987-*,-*-*-medium-r-normal-*-24-*-*-*-*-*-ksc5601.1987-*"
 korean2MultiByteText="YES"
 
+# Entries for use with Xft2:
+#
+# WindowMaker uses the XftFontOpenXlfd() function to open fonts via Xft2.
+#
+# 1. If the XLFD doesn't have all its fields present will fail and
+#    return NULL (I added a fallback to load "sans" in that case to wfont.c).
+#
+# 2. If all fields are present, but hold invalid values then it will:
+#    a. If family is invalid, will load the default "sans-serif" font.
+#    b. If the font size is invalid (non-numerical) it will fail and
+#       return NULL.
+#    c. If other fields are invalid, will load the font specified by
+#       the valid family name, ignoring any invalid fields. It will
+#       use a default medium weight and a default roman slant if they
+#       are invalid.
+# 
+# I believe the three generic aliases "sans", "serif", and "monospace"
+# are especially good default values for the family name because these
+# 3 font aliases are guaranteed to work in Xft. A font named "sans"
+# doesn't really exist but the "sans" alias automatically resolves to
+# the "best" installed sans serif font which supports the language
+# from the current locale according to the rules in /etc/fonts/fonts.conf.
+# For exammple, if you are running in en_US locale, the first font from the 
+# list of the "prefer" aliases for "sans-serif" in /etc/fonts/fonts.conf
+# which is installed and contains all necessary glyphs for English
+# will be used. If you are running in a ja_JP locale (ja_JP.eucJP, ja_JP.SJIS,
+# or ja_JP.UTF-8), the first installed font from this list which has
+# all glyphs for Japanese is used. I.e. if /etc/fonts/fonts.conf contains
+#
+#       ...
+# 	<alias>
+# 		<family>sans-serif</family>
+# 		<prefer>
+#                       ...
+# 			<family>Luxi Sans</family>
+#                       ...
+# 			<family>Kochi Gothic</family>
+#                       ...
+# 		</prefer>
+# 	</alias>
+#       ...
+#
+# "Luxi Sans" will be used for English and "Kochi Gothic" for
+# Japanese (if no other fonts supporting Japanese or English fonts
+# are higher in the list).
+#
+# Therefore, using the generic aliases "sans", "serif", or "monospace"
+# is an easy way to support many languages automatically.
+#
+# These aliases also make it especially easy for the user to
+# get a consistent look throughout his system because he
+# can easily choose his preferred "sans-serif", "serif" and
+# "monospace" fonts by writing something like the following
+# in his personal ~/.fonts.conf:
+#
+# --- snip ---
+# <?xml version="1.0"?>
+# <!DOCTYPE fontconfig SYSTEM "/etc/fonts/fonts.dtd">
+# <fontconfig>
+# 	<alias>
+# 		<family>serif</family>
+#               <prefer>
+# 			<family>Luxi Serif</family>
+# 			<family>Kochi Mincho</family>
+# 		</prefer>
+# 	</alias>
+# 	<alias>
+# 		<family>sans-serif</family>
+# 		<prefer>
+# 			<family>Luxi Sans</family>
+# 			<family>Kochi Gothic</family>
+# 		</prefer>
+# 	</alias>
+# 	<alias>
+# 		<family>monospace</family>
+# 		<prefer>
+# 			<family>Luxi Mono</family>
+# 			<family>Kochi Gothic</family>
+# 		</prefer>
+# 	</alias>
+# </fontconfig>
+# --- snip ---
+#
+# By changing ~/.fonts.conf the user can thus easily change 
+# the look of all applications which just specify these generic aliases
+# instead of specific font names at once.
+#
+# As Xft doesn't care for the foundry, the following font settings
+# just have "xftdummy" in the foundry.
+
+sansSystemFont="-xftdummy-sans-medium-r-normal-*-%d-*-*-*-*-*-*-*"
+sansBoldSystemFont="-xftdummy-sans-bold-r-normal-*-%d-*-*-*-*-*-*-*"
+sansWindowTitleFont="-xftdummy-sans-bold-r-normal-*-12-*-*-*-*-*-*-*"
+sansMenuTitleFont="-xftdummy-sans-bold-r-normal-*-12-*-*-*-*-*-*-*"
+sansMenuTextFont="-xftdummy-sans-medium-r-normal-*-12-*-*-*-*-*-*-*"
+sansIconTitleFont="-xftdummy-sans-medium-r-normal-*-8-*-*-*-*-*-*-*"
+sansClipTitleFont="-xftdummy-sans-bold-r-normal-*-10-*-*-*-*-*-*-*"
+sansDisplayFont="-xftdummy-sans-medium-r-normal-*-12-*-*-*-*-*-*-*"
+sansLargeDisplayFont="-xftdummy-sans-medium-r-normal-*-12-*-*-*-*-*-*-*"
+sansMultiByteText="YES"
+
+serifSystemFont="-xftdummy-serif-medium-r-normal-*-%d-*-*-*-*-*-*-*"
+serifBoldSystemFont="-xftdummy-serif-bold-r-normal-*-%d-*-*-*-*-*-*-*"
+serifWindowTitleFont="-xftdummy-serif-bold-r-normal-*-12-*-*-*-*-*-*-*"
+serifMenuTitleFont="-xftdummy-serif-bold-r-normal-*-12-*-*-*-*-*-*-*"
+serifMenuTextFont="-xftdummy-serif-medium-r-normal-*-12-*-*-*-*-*-*-*"
+serifIconTitleFont="-xftdummy-serif-medium-r-normal-*-8-*-*-*-*-*-*-*"
+serifClipTitleFont="-xftdummy-serif-bold-r-normal-*-10-*-*-*-*-*-*-*"
+serifDisplayFont="-xftdummy-serif-medium-r-normal-*-12-*-*-*-*-*-*-*"
+serifLargeDisplayFont="-xftdummy-serif-medium-r-normal-*-12-*-*-*-*-*-*-*"
+serifMultiByteText="YES"
+
+monospaceSystemFont="-xftdummy-monospace-medium-r-normal-*-%d-*-*-*-*-*-*-*"
+monospaceBoldSystemFont="-xftdummy-monospace-bold-r-normal-*-%d-*-*-*-*-*-*-*"
+monospaceWindowTitleFont="-xftdummy-monospace-bold-r-normal-*-12-*-*-*-*-*-*-*"
+monospaceMenuTitleFont="-xftdummy-monospace-bold-r-normal-*-12-*-*-*-*-*-*-*"
+monospaceMenuTextFont="-xftdummy-monospace-medium-r-normal-*-12-*-*-*-*-*-*-*"
+monospaceIconTitleFont="-xftdummy-monospace-medium-r-normal-*-8-*-*-*-*-*-*-*"
+monospaceClipTitleFont="-xftdummy-monospace-bold-r-normal-*-10-*-*-*-*-*-*-*"
+monospaceDisplayFont="-xftdummy-monospace-medium-r-normal-*-12-*-*-*-*-*-*-*"
+monospaceLargeDisplayFont="-xftdummy-monospace-medium-r-normal-*-12-*-*-*-*-*-*-*"
+monospaceMultiByteText="YES"
+
 #
 # End of area meant to hold everything you could need to modify...
 ################################################################################
@@ -205,29 +385,211 @@
 #
 # Get current locale automaticaly (--auto).
 #
+
+# helper function to determine the encoding used by the current locale
+# as portable as possible:
+
+locale_charmap () {
+   if type -p locale > /dev/null 2>&1
+   then
+       # if the 'locale' command is available, the easiest way to
+       # determine the encoding used in the current locale is
+       # to call 'locale charmap'. It is available at least on
+       #    Linux
+       #    Solaris 8
+       #    AIX
+       #    HP-UX
+       LOCALE_CHARMAP=`locale charmap 2>/dev/null`
+   else
+      # emulate 'locale charmap' on systems which don't have it (*BSD)
+      # see also
+      #     http://www.cl.cam.ac.uk/~mgk25/ucs/langinfo.c
+      #
+      # First determine the LC_CTYPE locale category setting
+      ctype="C"
+      if test x$LC_ALL != x ; then
+         ctype=$LC_ALL
+      elif test x$LC_CTYPE != x ; then
+         ctype=$LC_CTYPE
+      elif test x$LANG != x ; then
+         ctype=$LANG
+      fi
+      
+      # the value of LC_CTYPE should have the following syntax:
+      #     [language[_territory][.codeset][@modifier]]
+      # (see also http://www.opengroup.org/onlinepubs/007904975/basedefs/xbd_chap08.html)
+      case $ctype in
+          C|POSIX)
+	     LOCALE_CHARMAP=US-ASCII
+	     ;;
+	  *[Uu][Tt][Ff]*)
+	     LOCALE_CHARMAP=UTF-8
+	     ;;
+          *@euro)
+	     # all @euro locales use ISO-8859-15 encoding
+	     # (apart from .UTF-8@euro locales of course, which exist
+	     # on Solaris 8).
+             LOCALE_CHARMAP=ISO-8859-15
+             ;;
+          *[Kk][Oo][Ii]8-[Rr]*)
+             LOCALE_CHARMAP=KOI8-R
+	     ;;
+          *[Kk][Oo][Ii]8-[Uu]*)
+             LOCALE_CHARMAP=KOI8-U
+	     ;;
+	  *620*)
+	     LOCALE_CHARMAP=TIS-620
+	     ;;
+	  *2312*)
+	     LOCALE_CHARMAP=GB2312
+	     ;;
+	  *[Hh][Kk][Ss][Cc][Ss]*)
+  	     LOCALE_CHARMAP=Big5HKSCS
+	     ;;
+	  *[Bb][Ii][Gg]*)
+	     LOCALE_CHARMAP=Big5
+	     ;;
+	  *[Gg][Bb][Kk]*)
+	     LOCALE_CHARMAP=GBK
+	     ;;
+	  *18030*)
+	     LOCALE_CHARMAP=GB18030
+	     ;;
+	  *Shift_JIS*|*[Ss][Jj][Ii][Ss]*)
+	     LOCALE_CHARMAP=SHIFT_JIS
+	     ;;
+	  # make sure to run 'sed' and 'cut' in POSIX locale, otherwise
+	  # one might get unexpected results, for example in vi_VN.tcvn
+	  # locale the following 'sed' and 'cut' commands fail.
+	  *.*@*)
+             # if it contains a '.' and an '@' the encoding can be found between
+	     # the '.' and the '@'.
+             LOCALE_CHARMAP=`echo $ctype | LC_ALL=C sed -e 's/.*\.\([^.@]\+\)@.*/\1/g' `
+             ;;
+	  *.*)
+             # if it contains only a '.' and no '@', everything behind the '.'
+	     # is the encoding:
+             LOCALE_CHARMAP=`echo $ctype | LC_ALL=C cut -d '.' -f 2 `
+             ;;
+	  # no encoding could be found in LC_CTYPE, try the language
+	  # and/or country codes as a fallback.
+	  zh_TW*)
+             LOCALE_CHARMAP=Big5
+	     ;;
+  	  zh_HK*)
+             LOCALE_CHARMAP=Big5HKSCS
+	     ;;
+	  zh*)
+             LOCALE_CHARMAP=GB2312
+	     ;;
+	  ja*)
+             LOCALE_CHARMAP=EUC-JP
+	     ;;
+	  ko*)
+             LOCALE_CHARMAP=EUC-KR
+	     ;;
+	  ru*)
+             LOCALE_CHARMAP=KOI8-R
+	     ;;
+	  uk*)
+             LOCALE_CHARMAP=KOI8-U
+	     ;;
+	  pl*|hr*|hu*|cs*|sk*|sl*)
+             LOCALE_CHARMAP=ISO-8859-2
+	     ;;
+	  eo*|mt*)
+             LOCALE_CHARMAP=ISO-8859-3
+	     ;;
+	  el*)
+             LOCALE_CHARMAP=ISO-8859-7
+	     ;;
+	  he*)
+             LOCALE_CHARMAP=ISO-8859-8
+	     ;;
+	  tr*)
+             LOCALE_CHARMAP=ISO-8859-9
+	     ;;
+	  th*)
+             LOCALE_CHARMAP=TIS-620      # or ISO-8859-11
+	     ;;
+	  lt*)
+             LOCALE_CHARMAP=ISO-8859-13
+	     ;;
+	  cy*)
+             LOCALE_CHARMAP=ISO-8859-14
+	     ;;
+	  ro*)
+             LOCALE_CHARMAP=ISO-8859-14  # or ISO-8859-16
+	     ;;
+	  am*|vi*)
+             LOCALE_CHARMAP=UTF-8
+	     ;;
+          *)
+             LOCALE_CHARMAP=ISO-8859-1
+             ;;
+      esac
+   fi
+   # The exact spelling of the value of LOCALE_CHARMAP may differ a little
+   # bit on different systems. 
+   # Converting it to lowercase and removing '-' and '_' characters hopefully
+   # gives the same results on most systems though and should make matching
+   # encodings easier.
+   # Attention!: make sure that tr is running in POSIX locale when doing the
+   # conversion to lowercase, otherwise one might run into locale dependent
+   # problems. For example in tr_TR locale, the lowercase version of 'I'
+   # is U+0131 (LATIN SMALL LETTER DOTLESS I), i.e. it doesn't have a dot
+   # like the lowercase version of 'I' in most other locales.
+   LOCALE_CHARMAP=`echo $LOCALE_CHARMAP | LC_ALL=C tr '[:upper:]' '[:lower:]' | tr -d '_-'`
+}
+
 if [ -z "$family" ]; then
     if [ -n "$new_locale" ]; then
-	locale="$new_locale"
-    else
-	locale=$LANG
-	if [ -z "$locale" ]; then
-	    locale=$LC_ALL
-	fi
+	export LC_ALL="$new_locale"
     fi
 
-    if [ -z "$locale" ]; then
-	family="default"
-    else
-	for i in $all_codings; do
-	    eval _i="\$$i"
-	    for j in ${_i}; do
-		if [ "$j" = "${locale%_*}" ]; then
-		    family="$i"
-		    break 2
-		fi
-	    done
-	done
-    fi
+    locale_charmap;
+    case "$LOCALE_CHARMAP" in
+        utf8)
+	    family="generic"
+	    ;;
+        eucjp)
+	    family="japanese"
+	    ;;
+	euckr)
+	    family="korean2"
+	    ;;
+	iso88591)
+	    family="latin1"
+	    ;;
+	iso88592)
+	    family="latin2"
+	    ;;
+	iso88599)
+	    family="latin5"
+	    ;;
+	iso885915)
+	    family="latin9"
+	    ;;
+	iso88597)
+	    family="greek"
+	    ;;
+	koi8u)
+	    family="ukrainian"
+	    ;;
+	koi8r)
+	    family="russian"
+	    ;;
+	cp1251)
+	    family="cp1251"
+	    ;;
+	iso88595)
+	    family="isocyr"
+	    ;;
+	*)
+            family="default"
+	    ;;
+    esac
+    echo "using family=$family ..."
 fi
 
 #
diff -Naur WindowMaker-0.80.2/util/wxcopy.c wm-xft2/util/wxcopy.c
--- WindowMaker-0.80.2/util/wxcopy.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/util/wxcopy.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,6 +1,6 @@
 /* wxcopy.c- copy stdin or file into cutbuffer
  *
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -120,7 +120,7 @@
 	}
     }
     if (filename) {
-	file = fopen(filename, "r");
+	file = fopen(filename, "rb");
 	if (!file) {
 	    char line[1024];
 	    sprintf(line, "%s: could not open \"%s\"", argv[0], filename);
diff -Naur WindowMaker-0.80.2/util/wxpaste.c wm-xft2/util/wxpaste.c
--- WindowMaker-0.80.2/util/wxpaste.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/util/wxpaste.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,6 +1,6 @@
 /* wxpaste.c- paste contents of cutbuffer to stdout
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WindowMaker/Defaults/WindowMaker.in wm-xft2/WindowMaker/Defaults/WindowMaker.in
--- WindowMaker-0.80.2/WindowMaker/Defaults/WindowMaker.in	2002-02-21 14:28:41.000000000 +0300
+++ wm-xft2/WindowMaker/Defaults/WindowMaker.in	2003-10-22 14:08:36.000000000 +0400
@@ -57,7 +57,7 @@
   AutoArrangeIcons = NO;
   AdvanceToNewWorkspace = NO;
   CycleWorkspaces = NO;
-  ResizeDisplay = line;
+  ResizeDisplay = center;
   MoveDisplay = floating;
   OpaqueMove = YES;
   IconPosition = "blh";
diff -Naur WindowMaker-0.80.2/WindowMaker/Defaults/WMGLOBAL wm-xft2/WindowMaker/Defaults/WMGLOBAL
--- WindowMaker-0.80.2/WindowMaker/Defaults/WMGLOBAL	2002-03-29 14:14:17.000000000 +0300
+++ wm-xft2/WindowMaker/Defaults/WMGLOBAL	2003-10-22 14:08:36.000000000 +0400
@@ -1,9 +1,12 @@
 {
   SystemFont = "-*-helvetica-medium-r-normal-*-%d-*-*-*-*-*-*-*,-*-*-medium-r-normal-*-%d-*,-*-*-medium-r-normal-*-*-*";
   BoldSystemFont = "-*-helvetica-bold-r-normal-*-%d-*-*-*-*-*-*-*,-*-*-bold-r-normal-*-%d-*,-*-*-medium-r-normal-*-*-*";
+  AntialiasedSystemFont = "-*-trebuchet ms-medium-r-normal-*-%d-*-*-*-*-*-*-*";
+  AntialiasedBoldSystemFont = "-*-trebuchet ms-bold-r-normal-*-%d-*-*-*-*-*-*-*";
   DefaultFontSize = 12;
-  FloppyPath = "/floppy";
+  AntialiasedText = No;
   MultiByteText = AUTO;
+  FloppyPath = "/floppy";
   DoubleClickTime = 250;
   MouseWheelUp = Button4;
   MouseWheelDown = Button5;
diff -Naur WindowMaker-0.80.2/WindowMaker/Defaults/WMWindowAttributes.in wm-xft2/WindowMaker/Defaults/WMWindowAttributes.in
--- WindowMaker-0.80.2/WindowMaker/Defaults/WMWindowAttributes.in	2002-01-08 16:44:43.000000000 +0300
+++ wm-xft2/WindowMaker/Defaults/WMWindowAttributes.in	2003-10-22 14:08:36.000000000 +0400
@@ -29,6 +29,22 @@
     Omnipresent = Yes;
     KeepInsideScreen = Yes;
   };
+  Kinput2 = { 
+   NoTitlebar = Yes; 
+   NoResizebar = Yes; 
+   NotClosable = Yes; 
+   NotMiniaturizable = Yes; 
+   KeepOnTop = Yes; 
+   Omnipresent = Yes; 
+   SkipWindowList = Yes; 
+   NoHideOthers = Yes; 
+   NoKeyBindings = Yes; 
+   NoMouseBindings = Yes; 
+   KeepInsideScreen = Yes; 
+   NoAppIcon = Yes; 
+   Unfocusable = Yes; 
+   DontSaveSession = Yes; 
+  }; 
   bookmarks.Netscape = {NoAppIcon = YES;};
   xcalc = {AlwaysUserIcon = Yes;Icon = "HP-16C-48.xpm";};
   Netscape = {Icon = Netscape.xpm;};
diff -Naur WindowMaker-0.80.2/WindowMaker/Icons/Ear.png wm-xft2/WindowMaker/Icons/Ear.png
--- WindowMaker-0.80.2/WindowMaker/Icons/Ear.png	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/WindowMaker/Icons/Ear.png	2003-10-22 14:08:36.000000000 +0400
@@ -0,0 +1,35 @@
+PNG
+
+   IHDR   @   @   ªiqÞ   bKGD ñ ¼ §áó­   	pHYs    ù¥   tIMEÒÿ{¬    IDATx»IeÉç÷;ÇÌîðw÷dR]ÝZ$@i¥}}íô!ºÑ+	6zÓÐ]%RCÉ$$1øøÆ{¯G»îÉâFð ÂÇgfÇÎùOW>ýàÅ¾|ó®Ë¥,ÌléTÁ»îâdÝ|üâ¹7ÄIÞ\]su·&xÖ¿xõ/.Î9Æ(ã¹Ýí¹Ùm¹ºÝp·?ÐxÏS`f´!°^ôüàÕ¼¹¹åv»#åÌÝî@Ûþ«þ3Ï¿üÝq «Í1FÌ åÌ¾Ì©RÌ8Y.øäÅ3öãh?ÎËOmÆ¼9óþp.N×íovû½r@d'òÏ]»X-úÕÉb¹~zq¶*9/rNíÝaðxûÞMÓ$M²l[DðªÈ4%öÓÀ0Fÿÿ f ªxçP ëv#SÊ¬ú\
+9Tq wJp¦iH)r"xX.6ØR,Ëf8xçvÞ»mNy§ªùá'ýÍ8«×ï¯Oû&S<Í%¯b.Qq÷ª¢KÆ;G<ªJIöÃH.å,Þ;%å ªBðDp*,¬Î9:ßÐuM´Á3NËÛ;Æ)¥sBr1_Ñ\ÛÃÀß¾r.äR,ÜWYQÜµM,fCÂ.rSº)ßÙÎü«ÿê×kNo÷GÀ	f="­.å¢*&I)Æ2¹DbJJAEyñÅRaÑ·ôMÃÙzÉùzÍÇ/ñÙGpqvB×Td.b£\2)¦)r·Ýñúý5_¿¿äv»ã÷oÞpy{Ëë5pªäRo÷¿ñï-»ÎrÉå8Å|âXJ9Ç©üý[ðÿïo¿XlÆ)uñfv&"K§ÚzU/HÊ&1%\l&6t1{(o§J×4¼|vÁ«gOyõâ)?{ÂóSÎNÖ®Oèºç*uÞ+N0x½"F.Æq»MÝ_¿~Ãßþüü§_þã8ýéí2¨=bJÉãhó"ïËù{SB|´^esî÷Ã°(ÅV"r¢Âªè
+¬K¥'¢Î9	ÁSAã(¥îþÃÎ,zÎÏNùÞÏùËWõ¤^sqvÊÉjÅjµ¤ëïp
+Nj¥­×Cµþ_çr2Ì äÂ8E>úð9}øüÿÝõ5ÿþg¿àû»ßoÙýaØüQ"Â`F£"Uå¸ZôÝqüÍf:ÚeßuSÊ}Ìi9MqeuAúÖ¹Ð4A÷2N1SàN&xÚ¶ádÑó¯¾ÃþãïóäÑ«~ÁùÙ	''§¬VkBÓ|À¤àÅa®Ã9GJ¶sä!ã£[£]t,VëóG¼øÎ»»=ñÉGüðüÿý?p³ÝÙc­¬ñÎjYô]|~þ(¼¾¼âvwJ)»\èn6ÛÖ9þ¿þëæÿñw_úÝ8 ÚÉÚ¶R:§ÚµmÖËÛír0V}÷^jÙ:}ËÉbÉ¿ûþýOyñøÓÕn±`½:auzBÓö8u"rIYF¤^çêxBQMm ó¨,8;Ç-V,W+<:çãOøþõÿlo.¯8]¼³ußÙÍn7û£ûüË¯-æZÖ 3O.Þ·M«NÅ5NýdÙ÷MðÓ4yõ!8uaÕ÷aG7Æ(*"}ßÓOñN¹8[óÁÅ/=åÇß}ÅÏrº^³>9eyrJ¿\¢.`ûrxO!2åL)Æ9Dñú¡ñ&4!á´8ºÕÒ\Ûâúÿ2þ{°ÿñßþ¯\ÞÝñúòÎr)ffzçoµÞ8QQ?ÄIwºL¼ªÆ¸àÁ;07ÆìDDÖËNV}wb&}Óp±^óòÙ~ôé+>~ñ§O²:9¡?9ÅùÝíIñãxà0&RLäb@ÅE
+ä!bÇb*ª¦ÁGPÏÙº£ÕÂ¢Ùá¤¡uäÚZ=eÍ_ÿà3û«ï}Äÿôþ#)gSRÌà ' Î9qNuIüÕí¦ÁéQrÎ`&mÓH×ñÎË³,úVNYô=90õ¢ãÕóÇ|ïÃç¼zñçOóèéSÚ~F¡l6ì{iäpI1áTqBÎã4QR¢þí?CMû8ïØìZÖÓ²âÑ©§¤L,-Xò¯þ¿á×oøÙç_0ÆDpNr)ó¬­ó­ÀJû*²1®s)'*²òÎ/à;U¦ir¢ªË®eßKPçä£OåG|"ß{ùB^<ÇOH¯pØI²=nds8È4F)9:LTLqhIDEDU÷â¼3Äû7]Lâå8sçDÚÅJEb¸X·âTåz³ç0ìÑ$§:-Úö Â¾ÛRvÞù£ÿñw?âoÞáTQU¡k+RÓDpVe×ñhµ"¥Ìqh~ðï¾|Ê?¾ Å(ã%G®·ûq¡"TñêXç="!XÉ¤)QRÀR¢¤LL<OÛ·Ûêm<ZÑD¥4¥ïðyâ_þð{ü/ûwÂ¢mQJ)3ºÌ8UhVð'«Æ[ú¶*>ïB åLqJ1G×Q±dË<9;áÃ'Ox´^óøÑ)}È¤É9r³Øí'Ì¢|ð! ª¨:ÄÕz¼#-q$-ß~`¥%Ûý7Wp² ÜxLO­ùô;Ïùùç¿ã0N¨
+à½cbwðWßýO)"§¼1Ì$8'«åBz¹Þo$åÂùéïô¡<>;åâìÕ"3Ùû!A ^hº÷L ¥H<DÒ13&Wê×±ºhÌ(µ]CDÉ©6
+8§4E1²*Á~úýOø·ÿîoÄ©¯*Ù²&Á;Y/z)ËO¾û±øÁ9ÙYKÊ4F(ÆbÑàUØ÷Ð÷Ù£s>ýÎ3?¾àé£+VÚ0rwÈP¯WÚ¾Á9OÎÜÉ1Ad©4À!
+æ+Qê&ÌTº2Á[Göû#MÓÍ­­B¿ÏðO_ò÷¿ú}ãiB`½XÐµA¸ÚlÙìïøO¿ø¯ÞÑ÷u^kßQ'È¤¬«EÏ¢k1uÄ\8Yz¾÷ò>~þ'g'ä"X6rN¢Bh"qÓ«'<÷Cú~lfs`Îa¹¶Üc[+¨p?I©°Ý8Y/©[ãÕq~ºæ¿üé¹Ý)ffÇÄë«kRÎ-üàå¼zö_r©ü;çz:¥î»÷E¨ÔwJ)GTÏóÙËïðôü<¥Tfsa,Vçvp¨s JN"6Eñ8¯Á¢B.`*åLuZñÄR(\ÀQðÎcVÃþÈbÑcbxï9Yt<:9áÍÍSÊtÞÓ5ï<~ÌÏ¹Ûx{}Ã¯¿~¦XÅ\Mã03Vmf¤QU}ÇËgOyòèï«l°$¦£¾¥dRäTpb´>Ðô'Ð7mÛ¢¢SJaJLc$'@ÉCÈÅQJF0rÕ ¨*Ó8°J!«EË?ûìSn7;~÷Í[b*¤räç¿ùíáXoþéÙ)o®nÈ¥vG'B6@+F«ÐÚÀªë8].ÞÍwÒPuÄXY
+yJd)V]ð¸¾ålÑ¼§	TP+ÐL×aäF:*I'"¶$©ïÉÌ(EñÞ!J*ä8rÁÑ7-ÏÏÎxúè_þþSd?LÄUÑRüÉ²çÝÍ-Ñ3ÈÔÝ]öÎ)}ß±^.xrvÂÅÙ}×¢:Ï(ÑJaÕáL(ÅH¹PJ¡×t'«­÷,[²æ:QÔ9¬bÆ7¦¥=$¦9nÁdbÊÂqLVzÌÜ¨+Ò:¢a6BlâÄöxä×_½æÝÍ*27Tþ¬ï~¾kI)á¤îÊÒ×¼²\ô´mÇ'¬8?]Ó5fKÕÃi=ÍT"©J¦Öq"Î¢ Z.f"µ¾	t]¥ÌfÜ,I)SÄÌªEÎâ§m<aEHÃ)Ó)v¿ôºxQ­là½Ã/ûq(¥VA+U=_Ò5ÏÏ8]­8Y.Y/{| Tn¯BBëç,1ÅH6Ã4s¢KíÞ)êiLT(©0UeB×ÂTÖõ.ã¤e­#É;¬r\àl Ï(YCÕ|5Ä{Jd+lGT·b B<!x)2N¼Ã9O
+Ù
+£*ý|ÊêÕ¶¬Kº¦EUh| iC5¬"9´2¹®éX-Xu
+"LSæxÙd2P¬ÎøG¥gT!OwìV'7¦«e
+Ñ^°c'!@æ ÌWÁ«TD¡`)127ZïN®m13ÎONÞáK)¨ëEOÛxÌußKAU9]­X-{ºÐÒuMíª¨÷3ZTðæ8Uu,ûõÅcbØ¶Ã7H"=)%vJÊÂðÍ7d×Ð®9wÑç{eàØ)q0FÒwTQ)Ø¬#: äß¾yK6£E×ðêéS¶ÇÛãaJ\ÞÞ¼Ç¯ú68bÈ¾ïÕÇçg4¡A½Î¸AR6Ôyï=4Mà'b,U\8ÆÄñ8°¶ÃTEÎÍ¶-®hÄã³2àSaÚ¸ÒÈ£ÎÀÂ¢I<N(Ñ&Vn=¢@.8W¡òtÝnä¯ð]þøîíáÈïß¼å8ÄiBàl½¬
+²ªÐJ![ÅÖ÷4mËó'ç,»ÁQKe*K	u¾²V3L¡Õ>L#ÅXÊ0²'Ç#ûCÄzOá d8Y·4!à4Sl6åtÍÒ	Hh]@u-UêI³\sæêî¿ÿü7üê¯Ùî°ìÚb¼½¾eÑµxïë8¢RR®²ïh»64¨s"w-!J)\(Îãê<AÈ8<Y ¨¶Æéxä0MlÇýa`È:ØíãD¶B×uw<iÎPçéÛqÜî'Î5âSGin5Ä47 E(óXËÃ¹Ùì9#1fÌê4ë)&V}ÏÙjÉqj\ö=ápÒwøà¹Þ¯¶mh'¾ièÚGê3*÷6É#®_¢-eJKb
+CLd#ãÀö0p8Äéãq"ãéÙÁò%ÌÒTWåºöYM´TÁqØd)gv§%Ï/q²\2N#ÇqBeDUùíë7°ZtøÇ''Ü
+ôMínöÎNOX­Bý(¡b1DA]©I!gJÛq8Ü2Lb¤ÆÆãoÞ_s»Û1L	cÕ÷qBJáôô,ã¸#O#Þ¯hT¡Q¶a:L,º^
+A×¤iS Õ+0>s|ýî=m0ÁÉb÷'g§ìGürÑS(GÊÜùC¬W+Ú¶AQ] uu¬¡N:/XªPX­¢±HáÅFZ×Ñ/Ì
+C¹Ý·,¤çòfË7×þðæ=ªÊÉzzOC\¥ÓnfC«§Õuà=MãPñLÇR*ÛF¾|{ÉÏ~ý;¾¾¼b³?Ð·«EÏé%ªÆ¯¾|ÍÝîÀ7×L)á»&0þ[q¡m«ddFå"ÐxOðuÙÃ¬Þçã!²he|(£#BFÁZg§NúÅé#~ôæß~ý~ñÕ{~e¯ÙG¦q`¸¾Û°
+Ú¼x|ÛÐôrâ¥pÒwté}O-"wD ¦ËÛ;¾øæ¯¯®HÅX´-ê=Ã4ñÍÕw»iÖ×îTï´ÂØ¦­~Ý²ïQQ6Ð6Íl9>*/Ýsv+º:LA=yL5¨¬Z}ÃjÑÑ,:¤dÖÏ/ø¬ót«CyssË{<%f¶Lz)°9à§¬]¢¸]3 nÄM9föÇË»Ww;¦9O0ÓÄ#%kåÍ^â£§Å{O×6 J~.{}3©¶Ô-f0_BFJÂ£øÆ´c±P:çhTÑ1CµìB|øøñßço.ùòÝ{Æ9!¢Ú\$¤L^Ï4
+*ÚH %¥	wLbÇ)q·ÛóËßÿ÷×wª«1ÅÈò?áúRßú®ÃZêHuXcÎÇR;gÔWÌ:vÌª^W%*ó$ç1ç:ÔW¬¥võV2êñ£^¢¢Bß8ýÀfw¯Ï$S44ô#8G¶ÅiJS¶ÓÄåfË»-ûqbÊÕ|9N±ÀhB¨ùg/ïBÃXË[àÞ,e^¬Çfx\OÞ«Î ¨Jb¦bH2S$e¤ñUÅIß¢´RTjå8^~È³³5f¦8ñXL>ZÖ©Ô®ñjXLàF¤9Å¦)Ò4<M#_¾»â¿ÿß}õãH3c)Vö§§ßxOLiõêà=ÎÕÈ
+bxÅ×Ý@D©Ê\mVæÅÛì`#ß	f,ÍÉ--îÁI9c³ â°^-¹¼ÝR2Å³3ÎZeuvBxüÜ¼£sómåqdJGr,Qxóþÿû7àï?ÿÝSÎä±¹¹·¡a? ÿTI%#êèÚCN4¾vûB+8P¡º8­Pk3EltVo¥p5¸DÎ ªú*Ædì[
+}ëÓÈúäW§8=Dóâ{XÊ`ÇÈÍNÉÃaâ÷o/ù/¾äòö\
+]ÛÐµÝ<1ibw8Öê-ßÖB>LÌ©Îp Åb´MSó7A@Õ=ÑC¦T£ÊÖÌð%Ïê®à¬ ÎÏÁ(Å(PdVxëÍ÷·r*/×|ðø}öGíþÅ`ùêKMäf£ÄT2I21e6Ç=¿ùê5·wqªå~'¦T%ÿ®myv~Æj±à«·ïbe­«¾ÃçÆ	ïRêYï<ÎDªó4àÛIõìO¶Å¤ÆZ!¸é,y7¬D¹ÝüöË¯ùåoÿzÇ÷?þ¿üôc­×ØzMtùªC»Àkisø_Ì×o¯øúí;îv{S"ÎrÜýKD§ãX«À9åQ·âf»åònWUf/2Ï76y E3þ¡XÍõ<üY£S¬6M+@fåÆûúûD=äL.»k~ùåWì6G~ôÃùÁ«Y?ÆVÈryÍÎe8ïQ· ;^ãç;²¾ººæÿüå¯ùõë·ìÇe×b"O²Ùx|vÊqbÂ;e{8p·ÝÑ@	¿è!¬É1UßªðRF½"óÜ½Z¾Zw­ûðReÖ=æRÝxpA½!â¹º¼á÷7öüõ«yôW¬](vÜ`=·&`ÂÐu°^Ò]_íÅÂí-ÿÇÿõüíÿó9·=«9xÍØí8u|ðä1×Û·Û=tMCÛ4|öêCÃÈëËk|2Pß4¤)SÍÃêÆ«ø}«3¾5Û*K?ô!45C¨ÃyE$Ö8ÝínÇ×ß\2æÈ^~ÊêÃ¬OÎÈñ@º»«Q9+Äñ}êè¡yG¶d»áÈ?|þÿþçÿÈ»ÛmCÛ´lÃaG.?¼}ÌáJ­NRÅÓß|ý1&VË%~JÍÜÈk[¼¯rõ}ÔÊ«>,ÖûP7gõÊÏãP¥ýAq® 0r¤ÝÄ»«ùÎãgôÝñÇ»[ÒaCqÈ.Óö=]ßaMßßBíèy}Å?üî+ÞÞÞÑûÅr 7»]qVW^ëAf+a¦£Ê¥ðßþô'ø.4(UË§ØÙsHãjm N¹WØÍêÑß_Z÷çªî¯^S6ÆhÄb¡MK	BÚ(ñj`´LÓwtmEïh-
+ØRÉ*lïüáÍ{þøþà\LÛÃÌÉÑ®iæ­Ý'I+[U÷Ü|þøÍîoC@Ìð®¶Áû¬©8ò'½Þ¬ÌÚàlRP°RùB)µ8_ß}8jU£º~ICy¨|ß×s·hh P?NX+c7lùúÝ_|ý1F?>'ÅBL¾	tm`Ñ65[ Sc9ïÈ±Æpiâ8~ö«_rÁ{­]^y zVno÷	Äoík+VGÜ¬':§V»'¸K¡ ^dÕñsM. FhZôpMâTý¸çÝû>ÿò+vcäâôqLZg½åÂ¢ë)¹<8Sãã½ç."BÊëÍ¦z MÀWR3§¶æïÇIõùAÈä:æ/S,%ìÁ¬¬s² Ùj^ dd'VË}þÐú	!'´^YáÑX2Rc¸¾¹ã÷oÞquwWOëJ1ò¬¹àY6JË2NB×6çR®(²Ô1þälÅñÓ¿ÂÛ\àògDI¤ÎñjDùÍÛÜò²=÷Ûgó/o«i)Bh)S-:RUñÎã½£mMðäàiPTv<2y#«Ä}ysÇË+
+SÀÝ¿¿2SÜ*Þf0tFöãH¾Çq"WY©d¨æ­yÈýùf0ßÛB$±ÙI¦4Np¾&:ÑDN	iÀ9cÕyB,d|Q}o:tÈ	ds$iqbJGnn7\m6d«ÚbB£ì<ËNIÙBë'´ï8NûtíÆRJu¾µæú¶å0¼¹¾ÅËV`&ÎÌpÝê­³hõåÌ
+Åj¸¡nÕ-%+Î¥éÉ¥ÁIdw´xâ!Ê%4hwÉq ÄænË»«kãH¼7!9%ÓlvætÅG¦T(f^Å¦-»Þmcw£µMc/\XðÎü0%wÕüP}Pæ¢x(q³ûh³:Tæ *Äs+¥uRÚ²@Ì0S¬DÊXPQPfáÑI)Þ4ií!y»g»¯Æã>½VhÕ½VUR	ïýqàjSáÚ#C4Á³ì<¿xÄ0¨
+«¾åñÙiV9gSD¬r³økvoÙÃ¨«£ÌâÉ+ÏnCCR,kk ¬1$]âÜÞam¦L´H9v·lö[n÷{
+Z
+¢yd.x¦IkÇ*f¹s{¦¦R}É.´­\åD_½»äâä\2¾äª,%j3ª¯Í×@j[OÕ	*¬«Þ ÑcVÚÎ¼Újf² 8¶%=º
+-zØ°9l(7;v;Þ]ß°Ûí+&©£&'¼w,»n> ðN­ï:Vý6´öøÑmGËÅlýú¯íÉé	§k{syÍ«.NWø¦&ªH=d«N¤Ö¶Î½Ù|¨U/38ª¥_ÌÈrJôªxghêX£ÊmÒy,tHÛàÇ-¤9¹ÝsL[Ê°ãp¼ãúnËífO6j\ômÃr± äLNèk| [á§ùgÛýÎ^_ÝØq¦É¹³§Î8»Ýmb4ïÄ­A²ªôeTÔÌPÑû¨E
+÷¦Ê·S$[ÚÈà!tøÆáR®A0çÑvõx·B[òî¸ÝQí0°;Q¯c.3h=«¾£o¦fkNÉ¥X2ÏZLÑ^üÕóü_å¯./³xyÑue½XX´RÇÁ¼wRTÉÉ¡É(	$±æ<3ÕG,gÁ@Ì îu¹-
+7#mçYºívR3v8¢ÎCÈDÜ Óî|µeÚÜ6;vØnö¤bð®¢ÌX×À¢méºöá;§³]6	ËÞ¼S;;Yç¿øøeüw÷³x»;¤O^<I¦/¾ú&9ÕBS¼WI*D°QÌê%dQ³ReN"äY<1´T\câòr÷ÊÙbcB½áiÐë-ys$¥ÓqÄñÙ§Ì»Ën÷Ç§aQº¶¡qù9 ÷trÏîÌÚVX¤E×ZÎÅÌJ9Y¯âßüô'ÃÛë»áÇçãë÷×ãóÇçÝ\ò½  øIDATñ«·ïÓcòÙ,:et(ÆQ`/* J4qL*óÃrª"¥Ta$ÏÙ<¨ã4òîýaY/ZV>GgM®yÀ!Wön¹¹Û±9³ü6«Ô xZïqÎÍ¤Mf®R+Á,[©¼B=±w7wåv»«¶'n·^,öÃñøêéãa{<ÇËëèfÒØNDzU	 Ê¤"­·UED³T¹@X#K8¢J)¡ ªìal-«nbÕ×øzÊÃTT
+c8ipâ@í!ãj®\÷±Ù25À½to¹¼(÷vÚ/Ì{_®7»TFÂ>§|Û¿9]­vÿÙw?9ìè9æ(ÄáÍ¢ìY3P3ÃDE³´,XæÁ,û*n,bILÈþpäÒ¹b)²ÕD¢ÚI5Ê&õ¶é¬&;§3»Å?×*¼Î ©m]f¬/miËÑl¤ãÍ´ß¤oRIwE¿ûäÃoØNª¶§¥DI"r´bA(9;æ(3ô­Òpí6C5p]ÔÙé*PJbÄ\Ê50­fZJYNji;äañ:§Åk(K¿æêóESª)uçï3&ª%SÎqwå°óÁßîÎO×[î¼Ê|)Î¥pÀ¬o+Å*Ë¹f³{ó±NÏ¹0eþTMâÙ2ÞÏ¬Í	&õÉ!¢¨zÄÕ¡KIXÉÙüô>HòJWdz©Q1ß*aæü¡if	À¬kÛ$DÆÍöÐ7awº\lO«Ý4Åw¡Ò4ÎÙJE¤!á0\Ê¹>ØbH¾ÆóØ·Wñ¡1©ÊC¤/Z=@N]µÆæÐ@yR,uæûß1:÷¤þ8E7Õúô¹UÛËæ7f@rÂ´\ößýÓónoÆ!x?üY(Êéð§¬    IEND®B`
\ No newline at end of file
diff -Naur WindowMaker-0.80.2/WindowMaker/Icons/Magnify.tiff wm-xft2/WindowMaker/Icons/Magnify.tiff
--- WindowMaker-0.80.2/WindowMaker/Icons/Magnify.tiff	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/WindowMaker/Icons/Magnify.tiff	2003-10-22 14:08:36.000000000 +0400
@@ -0,0 +1,31 @@
+II* ~    P8$BaP¸d6DbQ8¤V-FcQ¸äv=HdR9$M'JeR¹d¶]/LfS9¤Öm7NgS¹äö}Ã Ah´N
+D a¨FA@ÝòþzÁN·ë¡Öñ~ºîÇûºä|µ\.WÓ}Æè~6 oéýÖZ	Å$Áð0ÂS"L@	Àoë ÿ ?à@(  ²ð, = >à@7Óýæù~¼§»=lÀy*LÇªÑÔí~¸îÛ¸ÈX JÉ(z)`cü ;A ¢([BÐ
+ ª  Ïø9Ï×ãØ óu¹ Wó Q=`Çó»gáè~IBWäEÇÃJ¬·)@hà4 ü	 RxfÉØ{öàØà @ 2`  Å #> ;È±ÇáòÐ*ÉðyÈnG(¨Â.~à 	<æÀ}äù\wEÙz  A40"âî{  }rÁÖºÌZ @ `` 
+G  À è=Ë1<È3ÈÏÇáø~ÌÈzgÐ xx {@ t¦IÊGÈ|Fà& 1ìD§`ìRA¬ÔS@!7¥ã'aåJFX °`Ç< ²PÊ \j1³4  ¯52ò3,¬M Lþ@CDz¡â«Uò[BzÕÇ±ÊeCJj86NvÄñXwöZb8@,/	ÀÎw¹.h©æ
+À©æÑN(ï²àHÊ÷E$E XJSÉyÚTØç³ì{.}HÕ~° `qð}à5¸{LÁÈf Ne	À@Bd*uÅiryPà0¢N éX}GØ`a!ì_¨u×	£¼--¦Í·³Ê$ÛÊ w6<O;ÌóLû<çjLÿÕT{R9ó±vèøÈÇ¼zõp
+ug0ìBÈ|(Æ<biåÕÛÒDY ÑÆà@8l ¨ T:åéÖ`mUE C(Å<à,Ù<7\ÛÉÍ®ýäÊgý3>L¹O 	©ºÃëÀjãí#»#DíÝ4&÷d ÇÙþ
+@d`^ûÜKa0:Ã{Ö#À´P*Ä¨ Äs¤q"58¿à³Ü¢GO¯E0õ< $¯SÀWÌH2àLu=@\`º/óÖÀµ 8~@ØhGì.´x"=ÆÀí`Üe?Æhec&æ?Ì*#Ô'ÁVÃ(
+q§,5¨·3ÈW©Î hù¨?êy"cKróE5ó&Ì¹<`ò `\ ¦=ªÆqì J£ ä}"èGG@x à5À}Q9²ÃÌRÈ"0"à@.p>4Çkâc@¡Ð> Ê(ÅI¥5+#î2¯é÷Ê³/*© ]n Ð)÷LêMuf`ÈP8@ØùËü Aè×Í`X àâ	|ç8F±ÔÄ£Â
+kqÀú	Á\ Q°ÌÀ ¡@ÄeòÈ f@ÍI¨OÐ2æz ÅX¢½9ÏjgAÔIÈ	+gqÎGð©E ?P	sUc¾Ó° ôÐ  £Ì °N.à#4Bmá%Ç`s¤¤XM >ÁÀGsuÆ'FH.£}@?Q¢úuXÅ@9äf¨WÅUì¦'Ì¯©s½!/cÐs¨\´ 	"ðU;.Èyà=xæ ðn ,8¬Ga6;«s"ø' ±²ÂÀH(á 1 ð¿Ø±ä?l t2¥9X±ÉçÅgUiæªSõ!I5*²?2ñåH ÐøHà}Ö@¦	@6`dtPs@aüM
+ÁåI.
+@Ä	Æ@pnàÎ u Ñc(k¨?@ï F6XP´edÙ£2æ0óôçåâ\¤º#é^fäá§Æ«V@øØà0Þ@PAö=Ío¨01=[Î"@tv%i@Ä@iE ðD@ æ x 
+!Pà(ÔºT09t:$¯ôò?×±¨qCó6¿4ä3		ÔæÒz¡¾Èî  xúÃð3Ñ¾¨iRàG7cl}¬ÄEXÀ
+@pÎ 0(¡¤ òi@Qè¢ø³G9¢:f~sÓc½.Ê@%©ÐÐ:½K @@ õTÀ Öp\@Êyt9º!¾>Iër2
+ ¸¡Ü$ÁRih`i¢üà<Àr1ø XÃèË¢¥+&¡e]®f1²¡²Æ­Ø£¡ EUø6àK£à@:Ð22!îª¯X] %=·#PðØ`X
+ g:aShR 	gÀ£æo\:K¡àèóÑð¥Gõ<èð*TcZ¡æJ¤p&Îp¼|¾=BÐ3 ÓÜü´å à0¦Ð%Øî  m±Ø8`!Xlò3 ëDd°n áÃ7C7`< _&¢¸çPº	Ð=ÂbäJÇ ü2  ôÚ®Õt½vØøÀh
+Ç 5 h|°"
+ÌP9À(ÒF;îà¯¤t@kÆ¤aÀ!îáæAáðAæwe^÷b$  
+
+ f á
+À` Ò  C3äXO í 
+i%è¨¦ùãRh / ¬à Áö*$±ü4CàHå*¥F<áú¡J+®Å	æG db¡¶ªÌd Ô
+ðá¶ÆáXêúßa¿*`P ÀÔ x!Là~CÌ3Ð`©à@ùCÂC:< èR¥ôãÄj ¨¬cDÇvdòáÞ9ÁèÓà @"R¡üUEfp²ç(Ë
+ AÂò¢îáxAðÁÒáüð"*À¾@ x	º GäS.^È2±. Zìd1( ( ÒhSCSK"ì.Î.ÌÂè XF¡ôÈÊzÉaô£ÎíC.à2à2DZ£PÎ!ØUAÒdF|¡ðÁÈ¡üõgu"&À" @dÂ``À)Öu+ÃGãàðjh«Ô¼IÞj#@4£$¡ÆÁÀ¡Ê &Á¶àþF|ä8 !*È¡Ì@s B;¤l£ÀqÛaö9ÁäBè&! !!Ô!O ¬$$Y bÀ
+à\` FÀà: `0À.0àfO.\¡¡Ú¬Ò£p¡¸!ø!¡ö¡¡ò"¤ O$2@ 0 aB
+ t |á¾Á1äà¡C@4F (c(v"èFãÀNåU,Å<Fj® Áþ!ÀúáZ¡ä¡°áöp    P8$BaP¸d6 @ Ð0 ?¢b " 	À`$DT@   D À [õþ ±p,Yìù~ OËù¸ä{½n×Ò|å|_w¬>­W¬VkUºåv
+Â³#ä4BäÓþ#/-@X â@,úö~OÀÖ÷À½o×ëèh§Ú.òû¡ìþl@è5ìæw=ÐCÀÁpH1
+ à0D áà0~¾æáì_  e°ÜÁSS¹öë\7^hõûì}FZçw½ß«¢ÂpX
+u eD­[ 7ôÜ1µÖKÀ©d.ð'ö GÁø|9òYlÞy'ùÔÁÃë8  H8 C8X	²ÀçËt-IJ» Ü ¡  Àp nX {·@ÐvÀë"ö_f©â?§ökÊ	ÞÃô½/Ì@6#(Ö`8a  Á,HÃl jî½HÁô §Iî Ú5  ~opÅ)Ú{ÆóëÌ4í=/è°£1C@b 0 ³P @P $  2	&@40v2Ð @JXìáeÁ´yfùâ~¶C·OÛËB¢ÁL   ´À  `ýÌ@à DÇàëD4'^IGò º
+±®uæ±nldÉ¤vEemcÊ¬¢@¨*Òõà! )`Lþ|¦À % @4  øN®ùãvD( °sçq¢ÆaÐ|qðÄ5jª¢@°DcXV C¹éA/È V  Ú¥)aß xF B$v)$­BK'¡t%9r#¾XËz·Åêá ` ÀHeé`:¼ ¸"À"B÷& Zv´Öz0',²~¡øfð'	ÓÆwêu°Þ9c[9@ èå¯)
+°QÀ pÉÌ7^lçÙ<h'Øì©}ó÷Ñ 1"¨P	 8-26 ÎÀ?¨ät¹í@óC`g¡ö$FàîE¤ÑÝê pà*3~fÛO@|·ñø ×ÈÿãyÑV¢ÇO¤ Wô XÁ`¸ðÄþ EÄÜËáî:ÚxRãüe.ÆèïiE ãâÄ OP&ð û 8ú5ò GXò`.(É #½§$1bÌyèÀ2ºâú¹Ø""<p÷â|¡@×zPÉt@ãÈ
+C4Er ä¡DJ¥Ò@@ þ              <       5       h                    p      ~                          "             ¤      ¬         (       =       R               Magnify.tiff  Created with The GIMP    ö  î       H      H   
\ No newline at end of file
diff -Naur WindowMaker-0.80.2/WindowMaker/Icons/Magnify.xpm wm-xft2/WindowMaker/Icons/Magnify.xpm
--- WindowMaker-0.80.2/WindowMaker/Icons/Magnify.xpm	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/WindowMaker/Icons/Magnify.xpm	2003-10-22 14:08:36.000000000 +0400
@@ -0,0 +1,911 @@
+/* XPM */
+static char * Magnify_xpm[] = {
+"60 53 855 2",
+"  	c None",
+". 	c #C3A11E",
+"+ 	c #C9A71F",
+"@ 	c #D7B120",
+"# 	c #D7B21F",
+"$ 	c #D4AC1F",
+"% 	c #D0AB1F",
+"& 	c #BC951B",
+"* 	c #C6A01E",
+"= 	c #CFAA22",
+"- 	c #D6AF25",
+"; 	c #D4AD25",
+"> 	c #D3AC24",
+", 	c #D1AB28",
+"' 	c #D4AE2B",
+") 	c #D5B02E",
+"! 	c #D5B032",
+"~ 	c #D6B133",
+"{ 	c #D7B12E",
+"] 	c #D7B428",
+"^ 	c #D6B727",
+"/ 	c #D2B425",
+"( 	c #C09A1E",
+"_ 	c #CCA621",
+": 	c #D0A921",
+"< 	c #CEA823",
+"[ 	c #BCAA33",
+"} 	c #85AC7F",
+"| 	c #7EB098",
+"1 	c #87B69E",
+"2 	c #8FB7A2",
+"3 	c #94BBA4",
+"4 	c #98BDA6",
+"5 	c #9EBDA4",
+"6 	c #9AB798",
+"7 	c #95AA80",
+"8 	c #9AA55E",
+"9 	c #C3A83A",
+"0 	c #CFA628",
+"a 	c #D4AD23",
+"b 	c #DCBB27",
+"c 	c #C9A520",
+"d 	c #D0A41F",
+"e 	c #CE9F21",
+"f 	c #8CAA50",
+"g 	c #7DAA8E",
+"h 	c #77AD96",
+"i 	c #5DB5B4",
+"j 	c #6BBBC0",
+"k 	c #8BCACE",
+"l 	c #9FD3D7",
+"m 	c #A4D5D8",
+"n 	c #AAD7D8",
+"o 	c #ACD7D6",
+"p 	c #ABD2CD",
+"q 	c #A4C9BF",
+"r 	c #9AB9A6",
+"s 	c #89A170",
+"t 	c #B2A03B",
+"u 	c #C99C22",
+"v 	c #D5AE24",
+"w 	c #DEBE28",
+"x 	c #C79C1D",
+"y 	c #D4B023",
+"z 	c #CBA624",
+"A 	c #9CAA47",
+"B 	c #78AA93",
+"C 	c #5DADA7",
+"D 	c #4FADB0",
+"E 	c #5FB7BA",
+"F 	c #80C5C9",
+"G 	c #99CED2",
+"H 	c #ABD8DA",
+"I 	c #B4DBDC",
+"J 	c #B7DCDE",
+"K 	c #B7DEDF",
+"L 	c #BDE0E0",
+"M 	c #C0E1E1",
+"N 	c #C1E0E0",
+"O 	c #BBDEDF",
+"P 	c #ADD7D7",
+"Q 	c #9AC8C2",
+"R 	c #8FB4A3",
+"S 	c #829C6C",
+"T 	c #9CA048",
+"U 	c #CE9F1F",
+"V 	c #DBBB26",
+"W 	c #C49B1D",
+"X 	c #D3AC22",
+"Y 	c #BF9E28",
+"Z 	c #78A16D",
+"` 	c #65A89C",
+" .	c #4CAAAD",
+"..	c #4AAAB2",
+"+.	c #5BB2B7",
+"@.	c #68B7BD",
+"#.	c #86C5C9",
+"$.	c #9AD1D2",
+"%.	c #A3D3D6",
+"&.	c #ADD8DA",
+"*.	c #B2DADC",
+"=.	c #B6DCDC",
+"-.	c #B7DCDC",
+";.	c #B7DBDB",
+">.	c #B6D8D7",
+",.	c #ADD5D1",
+"'.	c #9FD0CE",
+").	c #8CC4C5",
+"!.	c #81BAB5",
+"~.	c #7BAC9F",
+"{.	c #7B9B66",
+"].	c #C8921D",
+"^.	c #D9B526",
+"/.	c #C0991C",
+"(.	c #BD9C28",
+"_.	c #779A66",
+":.	c #5AA39F",
+"<.	c #49A2AA",
+"[.	c #4CA4AF",
+"}.	c #52ABB2",
+"|.	c #5DB2B7",
+"1.	c #70BBBD",
+"2.	c #82C3C5",
+"3.	c #90CACD",
+"4.	c #9ACED1",
+"5.	c #9FD1D5",
+"6.	c #A7D5D8",
+"7.	c #ACD7D8",
+"8.	c #AFD8DA",
+"9.	c #ADD7D8",
+"0.	c #ADD7D6",
+"a.	c #ABD3D2",
+"b.	c #A3CEC9",
+"c.	c #98C7C4",
+"d.	c #8AC2C3",
+"e.	c #80BBBF",
+"f.	c #77B6BA",
+"g.	c #69AAA8",
+"h.	c #799874",
+"i.	c #C8911B",
+"j.	c #DBBB25",
+"k.	c #D4B123",
+"l.	c #CD9A1E",
+"m.	c #939B44",
+"n.	c #609990",
+"o.	c #4596A2",
+"p.	c #4A9EAA",
+"q.	c #4FA3AD",
+"r.	c #58ABB1",
+"s.	c #62AFB4",
+"t.	c #6EB7B9",
+"u.	c #7DBFC2",
+"v.	c #87C7C9",
+"w.	c #91C9CE",
+"x.	c #98CED1",
+"y.	c #9FD0D3",
+"z.	c #A3D2D6",
+"A.	c #A6D3D7",
+"B.	c #A7D5D6",
+"C.	c #A6D3D5",
+"D.	c #A3D2D1",
+"E.	c #9ECAC9",
+"F.	c #91C3C0",
+"G.	c #89BEBB",
+"H.	c #80B9BB",
+"I.	c #7BB7BA",
+"J.	c #6EACB6",
+"K.	c #60A1A1",
+"L.	c #76996B",
+"M.	c #C79B24",
+"N.	c #DEBF29",
+"O.	c #C79E1D",
+"P.	c #AC9D37",
+"Q.	c #719580",
+"R.	c #4F969A",
+"S.	c #4896A4",
+"T.	c #53A1AA",
+"U.	c #57A4AC",
+"V.	c #5DAAAF",
+"W.	c #64B0B2",
+"X.	c #6BB5B7",
+"Y.	c #75BABF",
+"Z.	c #80C0C5",
+"`.	c #89C3CA",
+" +	c #90C8CD",
+".+	c #94C9CE",
+"++	c #99CCD2",
+"@+	c #9CD0D3",
+"#+	c #9ECED3",
+"$+	c #9DCED2",
+"%+	c #9CCDCE",
+"&+	c #96CACA",
+"*+	c #8FC4C2",
+"=+	c #87BDBB",
+"-+	c #7EB7B7",
+";+	c #79B5B6",
+">+	c #73AFB6",
+",+	c #62A2AD",
+"'+	c #669C96",
+")+	c #A39D40",
+"!+	c #D6B223",
+"~+	c #D6B624",
+"{+	c #D8B425",
+"]+	c #C99B1E",
+"^+	c #78945C",
+"/+	c #529195",
+"(+	c #45919F",
+"_+	c #4C96A4",
+":+	c #559FA8",
+"<+	c #57A3AA",
+"[+	c #5DA6AC",
+"}+	c #62ACB1",
+"|+	c #6AB1B7",
+"1+	c #72B7BD",
+"2+	c #78BBC3",
+"3+	c #7EBDC5",
+"4+	c #83C3C9",
+"5+	c #8BC5CC",
+"6+	c #8EC5CD",
+"7+	c #93C8CE",
+"8+	c #91C8CD",
+"9+	c #91C9CA",
+"0+	c #90C7C9",
+"a+	c #86BDBD",
+"b+	c #7CB5B7",
+"c+	c #77B1B2",
+"d+	c #70ADB1",
+"e+	c #70ACAF",
+"f+	c #5899A1",
+"g+	c #799C79",
+"h+	c #D2A721",
+"i+	c #D4B628",
+"j+	c #AE7511",
+"k+	c #BD9726",
+"l+	c #74957F",
+"m+	c #458C9C",
+"n+	c #4591A4",
+"o+	c #4C95A3",
+"p+	c #4F9AA4",
+"q+	c #529CA7",
+"r+	c #58A2AB",
+"s+	c #5DAAB1",
+"t+	c #62ACB5",
+"u+	c #6AB4BB",
+"v+	c #6EB6BF",
+"w+	c #75B7C2",
+"x+	c #79BDC5",
+"y+	c #7EBDC7",
+"z+	c #83C0C8",
+"A+	c #85C0C8",
+"B+	c #86C3C9",
+"C+	c #87C0C8",
+"D+	c #87C2C5",
+"E+	c #86C0C3",
+"F+	c #83BDBE",
+"G+	c #77B2B6",
+"H+	c #72ADB2",
+"I+	c #69A6AC",
+"J+	c #66A6AD",
+"K+	c #5699A4",
+"L+	c #6A9A91",
+"M+	c #C49C23",
+"N+	c #DEBE27",
+"O+	c #9A680F",
+"P+	c #D8B825",
+"Q+	c #ABA53A",
+"R+	c #629489",
+"S+	c #448A9A",
+"T+	c #4791A4",
+"U+	c #4A95A3",
+"V+	c #4E96A3",
+"W+	c #4F99A4",
+"X+	c #55A3AA",
+"Y+	c #58AAB0",
+"Z+	c #5DAAB4",
+"`+	c #62ADB7",
+" @	c #66B2BB",
+".@	c #6AB2BD",
+"+@	c #6FB7BF",
+"@@	c #72B7C0",
+"#@	c #75B9C3",
+"$@	c #79BBC4",
+"%@	c #7BBBC4",
+"&@	c #7CBDC3",
+"*@	c #7DBBC2",
+"=@	c #7EBDC0",
+"-@	c #7EBBBF",
+";@	c #7EBBBB",
+">@	c #75B2B5",
+",@	c #73B1B2",
+"'@	c #64A2AA",
+")@	c #65A4AA",
+"!@	c #5696A4",
+"~@	c #5F9698",
+"{@	c #BC9B29",
+"]@	c #E3C228",
+"^@	c #896010",
+"/@	c #D5B626",
+"(@	c #ADA93A",
+"_@	c #629187",
+":@	c #45899A",
+"<@	c #4591A3",
+"[@	c #4990A2",
+"}@	c #4C94A1",
+"|@	c #4F96A3",
+"1@	c #55A2AA",
+"2@	c #57A4AD",
+"3@	c #58A6B1",
+"4@	c #5BA8B4",
+"5@	c #5DAAB6",
+"6@	c #62ADB9",
+"7@	c #66B0BB",
+"8@	c #69AFBB",
+"9@	c #6BB1BE",
+"0@	c #70B5BF",
+"a@	c #70B6BE",
+"b@	c #74B7BD",
+"c@	c #75B9BD",
+"d@	c #78B7BB",
+"e@	c #79B9BA",
+"f@	c #75B2B2",
+"g@	c #629DAA",
+"h@	c #66A1A8",
+"i@	c #5591A4",
+"j@	c #669894",
+"k@	c #BC9F2D",
+"l@	c #E3BD24",
+"m@	c #9D6A10",
+"n@	c #D3B024",
+"o@	c #B9A732",
+"p@	c #749782",
+"q@	c #498793",
+"r@	c #458E9F",
+"s@	c #4C91A1",
+"t@	c #4F95A2",
+"u@	c #529FA7",
+"v@	c #55A3AD",
+"w@	c #56A4B1",
+"x@	c #58A4B2",
+"y@	c #5AA7B5",
+"z@	c #5CABB7",
+"A@	c #5FADB7",
+"B@	c #64ACB9",
+"C@	c #66ADB9",
+"D@	c #68B0B9",
+"E@	c #6BB2B9",
+"F@	c #6FB4B7",
+"G@	c #72B5B7",
+"H@	c #73B2B6",
+"I@	c #75B5B2",
+"J@	c #74B0B1",
+"K@	c #66A4AA",
+"L@	c #6AA3A7",
+"M@	c #58919A",
+"N@	c #78966A",
+"O@	c #CCA325",
+"P@	c #E2C127",
+"Q@	c #DCB620",
+"R@	c #945B0C",
+"S@	c #C1911C",
+"T@	c #D3B528",
+"U@	c #84A25D",
+"V@	c #558C91",
+"W@	c #438AA2",
+"X@	c #4891A3",
+"Y@	c #4A90A1",
+"Z@	c #4A939F",
+"`@	c #4F98A3",
+" #	c #529CA6",
+".#	c #53A1AC",
+"+#	c #55A1AF",
+"@#	c #55A3B1",
+"##	c #56A4B2",
+"$#	c #57A8B4",
+"%#	c #58A6B4",
+"&#	c #5CA8B2",
+"*#	c #5DA8B4",
+"=#	c #61ABB4",
+"-#	c #66ABB2",
+";#	c #6AAFB4",
+">#	c #6BB0B2",
+",#	c #6DB1B2",
+"'#	c #70B1AD",
+")#	c #6FADAD",
+"!#	c #6EAAAB",
+"~#	c #669FA2",
+"{#	c #6B9991",
+"]#	c #A89D3B",
+"^#	c #DBB624",
+"/#	c #DEBD23",
+"(#	c #90560A",
+"_#	c #B57A14",
+":#	c #C4AE33",
+"<#	c #7EA18B",
+"[#	c #498C9F",
+"}#	c #458EA4",
+"|#	c #49919F",
+"1#	c #4A919F",
+"2#	c #4F99A1",
+"3#	c #539DA6",
+"4#	c #519EAC",
+"5#	c #4F9FAD",
+"6#	c #4FA1AF",
+"7#	c #4FA2B1",
+"8#	c #52A2B1",
+"9#	c #55A2B0",
+"0#	c #57A3AD",
+"a#	c #5CA4AF",
+"b#	c #5DA8AF",
+"c#	c #62AAAF",
+"d#	c #62AAAD",
+"e#	c #66ACAD",
+"f#	c #6AADAC",
+"g#	c #6AABAA",
+"h#	c #6AA4A4",
+"i#	c #6D9A95",
+"j#	c #849651",
+"k#	c #CFA422",
+"l#	c #E3C126",
+"m#	c #DEB821",
+"n#	c #B27011",
+"o#	c #C48A19",
+"p#	c #B9B540",
+"q#	c #739F93",
+"r#	c #4A8C9F",
+"s#	c #488CA3",
+"t#	c #4C919D",
+"u#	c #4E949E",
+"v#	c #519AA3",
+"w#	c #4F98A4",
+"x#	c #4E9CA7",
+"y#	c #4C9AAB",
+"z#	c #4D9EAC",
+"A#	c #4C9CAD",
+"B#	c #4E9FAD",
+"C#	c #529FAB",
+"D#	c #559FAB",
+"E#	c #56A2AB",
+"F#	c #58A3AA",
+"G#	c #5DA6AA",
+"H#	c #61AAAA",
+"I#	c #64A7A4",
+"J#	c #62A3A1",
+"K#	c #6A9A95",
+"L#	c #809658",
+"M#	c #CAA123",
+"N#	c #DFBE26",
+"O#	c #E5BE24",
+"P#	c #E2BC23",
+"Q#	c #A5630D",
+"R#	c #B97411",
+"S#	c #C7901A",
+"T#	c #AEB547",
+"U#	c #80AA93",
+"V#	c #5D9A9D",
+"W#	c #4D909E",
+"X#	c #4E8F9D",
+"Y#	c #56989F",
+"Z#	c #5A9FA4",
+"`#	c #5CA4A7",
+" $	c #4A96AA",
+".$	c #4A9AAB",
+"+$	c #4A9DAC",
+"@$	c #4C9AAA",
+"#$	c #4E9AAA",
+"$$	c #4F9AA7",
+"%$	c #559EA4",
+"&$	c #5BA2A2",
+"*$	c #6A9D93",
+"=$	c #759C8B",
+"-$	c #889A52",
+";$	c #DDBC26",
+">$	c #E5B922",
+",$	c #E1BB22",
+"'$	c #AA660F",
+")$	c #BC7613",
+"!$	c #D2AF23",
+"~$	c #C5BD3A",
+"{$	c #8BB16C",
+"]$	c #86AD95",
+"^$	c #6FA699",
+"/$	c #5C9FA1",
+"($	c #5B9FA4",
+"_$	c #62AAA7",
+":$	c #58A1A4",
+"<$	c #4A98A6",
+"[$	c #499AA8",
+"}$	c #4999AA",
+"|$	c #4A9AAA",
+"1$	c #4A96A7",
+"2$	c #4A96A4",
+"3$	c #4A95A2",
+"4$	c #569A9F",
+"5$	c #609D9A",
+"6$	c #759D87",
+"7$	c #809B59",
+"8$	c #AEA53D",
+"9$	c #D2B027",
+"0$	c #DEBE2B",
+"a$	c #E4B821",
+"b$	c #E3B822",
+"c$	c #B0680D",
+"d$	c #BE7813",
+"e$	c #CC9D1F",
+"f$	c #D0AF29",
+"g$	c #CEBE35",
+"h$	c #A3BA4E",
+"i$	c #8CB191",
+"j$	c #8AB198",
+"k$	c #75AA9A",
+"l$	c #5D9FA2",
+"m$	c #4991A4",
+"n$	c #4494AB",
+"o$	c #4195AD",
+"p$	c #4193AD",
+"q$	c #4193AB",
+"r$	c #4D919C",
+"s$	c #659F9A",
+"t$	c #7EA088",
+"u$	c #7C9F62",
+"v$	c #B4A637",
+"w$	c #D0B32D",
+"x$	c #D5B72A",
+"y$	c #DBBC2A",
+"z$	c #E2C851",
+"A$	c #EAD16D",
+"B$	c #E3BF32",
+"C$	c #D9B022",
+"D$	c #9B5E0D",
+"E$	c #B26B0F",
+"F$	c #BB7112",
+"G$	c #BD7714",
+"H$	c #C68B19",
+"I$	c #CD9E1E",
+"J$	c #D3B126",
+"K$	c #CABE37",
+"L$	c #B5BD45",
+"M$	c #89AF72",
+"N$	c #89AD91",
+"O$	c #79A896",
+"P$	c #83AA91",
+"Q$	c #86AA8E",
+"R$	c #86A78C",
+"S$	c #82A684",
+"T$	c #83A674",
+"U$	c #9EAF4C",
+"V$	c #BFB73C",
+"W$	c #D0BB31",
+"X$	c #D5BC30",
+"Y$	c #DFBF2A",
+"Z$	c #D7BC28",
+"`$	c #DABF51",
+" %	c #EAD995",
+".%	c #DFBC42",
+"+%	c #CC9E23",
+"@%	c #B88520",
+"#%	c #9A5716",
+"$%	c #9F5F0C",
+"%%	c #B4680F",
+"&%	c #BA7011",
+"*%	c #C9921C",
+"=%	c #D4B227",
+"-%	c #D6C02F",
+";%	c #D2C135",
+">%	c #CBC63E",
+",%	c #D1C136",
+"'%	c #D4BF33",
+")%	c #D5C032",
+"!%	c #D8BE2D",
+"~%	c #D7BD30",
+"{%	c #DABF29",
+"]%	c #E0BF25",
+"^%	c #DCBC27",
+"/%	c #D9B522",
+"(%	c #CFAD22",
+"_%	c #CCAA23",
+":%	c #CFAF2E",
+"<%	c #D0AA45",
+"[%	c #C5852A",
+"}%	c #B96B1E",
+"|%	c #AC5F1B",
+"1%	c #994814",
+"2%	c #9B4B16",
+"3%	c #924313",
+"4%	c #B0660F",
+"5%	c #B66D0F",
+"6%	c #BE7311",
+"7%	c #C27B15",
+"8%	c #CB8F1A",
+"9%	c #D1A11E",
+"0%	c #D29D1F",
+"a%	c #D5A420",
+"b%	c #D7AA20",
+"c%	c #DAAC21",
+"d%	c #DBB222",
+"e%	c #DDB322",
+"f%	c #DDB824",
+"g%	c #DEB31F",
+"h%	c #E0B41D",
+"i%	c #D9AF1E",
+"j%	c #C89E1D",
+"k%	c #BC951D",
+"l%	c #C6A623",
+"m%	c #C4A023",
+"n%	c #AC7B1B",
+"o%	c #A45419",
+"p%	c #AC5019",
+"q%	c #AE5119",
+"r%	c #AD551A",
+"s%	c #A9531A",
+"t%	c #954414",
+"u%	c #82370E",
+"v%	c #A9660D",
+"w%	c #BF7412",
+"x%	c #C37B14",
+"y%	c #C88315",
+"z%	c #CB8916",
+"A%	c #CF9016",
+"B%	c #D39716",
+"C%	c #D69A19",
+"D%	c #D8A019",
+"E%	c #D9A51A",
+"F%	c #DAA71B",
+"G%	c #DCA81B",
+"H%	c #DBA71C",
+"I%	c #DBAC1C",
+"J%	c #CFA21A",
+"K%	c #B98A18",
+"L%	c #9F7016",
+"M%	c #BF9C20",
+"N%	c #B9921C",
+"O%	c #894F10",
+"P%	c #833C12",
+"Q%	c #964215",
+"R%	c #A54D18",
+"S%	c #BE5F1F",
+"T%	c #B3581C",
+"U%	c #994416",
+"V%	c #853910",
+"W%	c #722E0C",
+"X%	c #AD6611",
+"Y%	c #C27A13",
+"Z%	c #C78214",
+"`%	c #CA8815",
+" &	c #D19218",
+".&	c #D39818",
+"+&	c #D59E18",
+"@&	c #D79F18",
+"#&	c #D7A01A",
+"$&	c #D19F18",
+"%&	c #C79519",
+"&&	c #936C14",
+"*&	c #63430A",
+"=&	c #967313",
+"-&	c #AD861C",
+";&	c #7C470F",
+">&	c #692D0C",
+",&	c #76330F",
+"'&	c #974616",
+")&	c #B0531B",
+"!&	c #9B3C12",
+"~&	c #9D4012",
+"{&	c #903B11",
+"]&	c #82350F",
+"^&	c #792F0C",
+"/&	c #B46A10",
+"(&	c #B66E10",
+"_&	c #BB7412",
+":&	c #C27D10",
+"<&	c #C78112",
+"[&	c #CA8713",
+"}&	c #CD8E14",
+"|&	c #CC8E16",
+"1&	c #CE8F16",
+"2&	c #D29616",
+"3&	c #452E05",
+"4&	c #865D0D",
+"5&	c #774D0E",
+"6&	c #643209",
+"7&	c #562507",
+"8&	c #4F2006",
+"9&	c #813A10",
+"0&	c #954514",
+"a&	c #913F12",
+"b&	c #AA4B17",
+"c&	c #A14111",
+"d&	c #9B3F12",
+"e&	c #9E4A17",
+"f&	c #A45517",
+"g&	c #9D4C18",
+"h&	c #4B1C04",
+"i&	c #401803",
+"j&	c #461C05",
+"k&	c #70330B",
+"l&	c #70300D",
+"m&	c #813B10",
+"n&	c #883B11",
+"o&	c #933810",
+"p&	c #BA5C1D",
+"q&	c #BF6122",
+"r&	c #B55A1E",
+"s&	c #984B17",
+"t&	c #79310E",
+"u&	c #7A300D",
+"v&	c #542303",
+"w&	c #602807",
+"x&	c #5A2709",
+"y&	c #652A0A",
+"z&	c #7D3910",
+"A&	c #A04F19",
+"B&	c #AF561A",
+"C&	c #B75B1E",
+"D&	c #B4511B",
+"E&	c #9E4113",
+"F&	c #893810",
+"G&	c #80330D",
+"H&	c #964617",
+"I&	c #552305",
+"J&	c #582507",
+"K&	c #6A2F0B",
+"L&	c #7A3A0F",
+"M&	c #894212",
+"N&	c #863D11",
+"O&	c #A54014",
+"P&	c #A04113",
+"Q&	c #A24C19",
+"R&	c #A5561C",
+"S&	c #9B4A19",
+"T&	c #602B08",
+"U&	c #612908",
+"V&	c #5B2708",
+"W&	c #672D0A",
+"X&	c #672C0C",
+"Y&	c #6A2A0B",
+"Z&	c #A64515",
+"`&	c #BF5C20",
+" *	c #BD6422",
+".*	c #AE571D",
+"+*	c #A45119",
+"@*	c #A2511B",
+"#*	c #502206",
+"$*	c #4C2005",
+"%*	c #451B04",
+"&*	c #542107",
+"**	c #793710",
+"=*	c #742F0C",
+"-*	c #CA6B25",
+";*	c #C16624",
+">*	c #9E4E19",
+",*	c #A4551A",
+"'*	c #381403",
+")*	c #371502",
+"!*	c #5A2509",
+"~*	c #7C3B0F",
+"{*	c #864011",
+"]*	c #954814",
+"^*	c #AA551D",
+"/*	c #B96120",
+"(*	c #C66525",
+"_*	c #BA5D1F",
+":*	c #9F4616",
+"<*	c #934114",
+"[*	c #A5551B",
+"}*	c #A05217",
+"|*	c #391602",
+"1*	c #5F2908",
+"2*	c #6B310A",
+"3*	c #5C2808",
+"4*	c #692F0C",
+"5*	c #954916",
+"6*	c #9D4D18",
+"7*	c #B65F1F",
+"8*	c #BC5E1F",
+"9*	c #A84615",
+"0*	c #A64917",
+"a*	c #A85219",
+"b*	c #A2501A",
+"c*	c #572306",
+"d*	c #421905",
+"e*	c #4D1F04",
+"f*	c #5E2807",
+"g*	c #7D3C10",
+"h*	c #7D3710",
+"i*	c #9F4E18",
+"j*	c #B0581D",
+"k*	c #A44917",
+"l*	c #AC4B17",
+"m*	c #984213",
+"n*	c #AC561D",
+"o*	c #9C4C17",
+"p*	c #431904",
+"q*	c #552406",
+"r*	c #602A09",
+"s*	c #72330D",
+"t*	c #9A4D19",
+"u*	c #9C4917",
+"v*	c #A64E19",
+"w*	c #A14214",
+"x*	c #A44715",
+"y*	c #B65B1F",
+"z*	c #AA541B",
+"A*	c #8B3E13",
+"B*	c #823A10",
+"C*	c #492205",
+"D*	c #522205",
+"E*	c #542207",
+"F*	c #843C11",
+"G*	c #924715",
+"H*	c #984717",
+"I*	c #873710",
+"J*	c #B65A1D",
+"K*	c #BF621E",
+"L*	c #AB4F18",
+"M*	c #903F13",
+"N*	c #7A370F",
+"O*	c #6E310D",
+"P*	c #3F1903",
+"Q*	c #351401",
+"R*	c #441A05",
+"S*	c #562307",
+"T*	c #73320E",
+"U*	c #8A4313",
+"V*	c #984513",
+"W*	c #833910",
+"X*	c #662C0A",
+"Y*	c #381603",
+"Z*	c #7C380F",
+"`*	c #884111",
+" =	c #974814",
+".=	c #9C4B15",
+"+=	c #904213",
+"@=	c #71330E",
+"#=	c #5D290A",
+"$=	c #562708",
+"%=	c #582506",
+"&=	c #5A2806",
+"*=	c #6E300B",
+"==	c #79360E",
+"-=	c #74350F",
+";=	c #672F0A",
+">=	c #471F06",
+",=	c #4E2105",
+"'=	c #522107",
+")=	c #502107",
+"!=	c #5F2B08",
+"~=	c #451C04",
+"{=	c #481E05",
+"]=	c #411904",
+"^=	c #391702",
+"/=	c #3C1A01",
+"(=	c #481E02",
+"_=	c #431900",
+":=	c #381401",
+"<=	c #250D00",
+"[=	c #2C1201",
+"                                                                                                                        ",
+"                                                                                                                        ",
+"                                                                                                                        ",
+"                                                                                                                        ",
+"                                                                                                                        ",
+"                                                                                                                        ",
+"                                                                                                                        ",
+"                                                                                                                        ",
+"                                . + @ # # $ %                                                                           ",
+"                        & * = - ; > , ' ) ! ~ { ] ^ /                                                                   ",
+"                    ( _ : < [ } | 1 2 3 4 5 6 7 8 9 0 a b                                                               ",
+"                  c d e f g h i j k l m m n o p q r s t u v w                                                           ",
+"              x y z A B C D E F G H I J K L M N O P Q R S T U V                                                         ",
+"            W X Y Z `  ...+.@.#.$.%.n &.*.=.-.;.>.,.'.).!.~.{.].^.                                                      ",
+"          /.: (._.:.<.[.}.|.1.2.3.4.5.6.7.8.9.0.a.b.c.d.e.f.g.h.i.j.                                                    ",
+"          k.l.m.n.o.p.q.r.s.t.u.v.w.x.y.z.A.B.C.D.E.F.G.H.I.J.K.L.M.N.                                                  ",
+"        O.X P.Q.R.S.T.U.V.W.X.Y.Z.`. +.+++@+#+$+%+&+*+=+-+;+>+,+'+)+!+~+                                                ",
+"        {+]+^+/+(+_+:+<+[+}+|+1+2+3+4+5+6+w.7+8+9+0+).a+b+c+d+e+f+g+h+i+                                                ",
+"      j+{+k+l+m+n+o+p+q+r+s+t+u+v+w+x+y+z+A+B+C+D+D+E+F+G+H+I+J+K+L+M+N+                                                ",
+"      O+P+Q+R+S+T+U+V+W+X+Y+Z+`+ @.@+@@@#@$@%@&@*@=@-@;@>@,@'@)@!@~@{@]@                                                ",
+"      ^@/@(@_@:@<@[@}@|@1@2@3@4@5@6@7@8@9@v+0@a@b@c@d@e@>@f@g@h@i@j@k@]@l@                                              ",
+"      m@n@o@p@q@r@[@s@t@u@v@v@w@x@y@z@A@6@B@C@D@E@F@G@H@I@J@K@L@M@N@O@P@Q@                                              ",
+"      R@S@T@U@V@W@X@Y@Z@`@ #T..#+#@###$#%#&#*#=#-#;#>#,#'#)#!#~#{#]#^#/#                                                ",
+"      (#_#a :#<#[#}#[@|#1#2#3#T.4#5#6#7#8#9#0#a#b#c#d#e#f#g#h#i#j#k#l#m#                                                ",
+"        n#o#X p#q#r#s#|#t#u#v#w#x#y#z#A#B#5#C#D#E#F#G#H#I#J#K#L#M#N#O#P#                                                ",
+"        Q#R#S#X T#U#V#W#X#Y#Z#`#W+ $.$.$+$@$#$$$q+3#%$&$*$=$-$O@;$O#>$,$                                                ",
+"          '$)$S#!$~${$]$^$/$($_$:$<$[$}$|$1$<$2$3$4$5$6$7$8$9$0$P@a$b$                                                  ",
+"            c$d$o#e$f$g$h$i$j$k$l$m$n$o$p$q$n+r$s$t$u$v$w$x$y$z$A$B$C$                                                  ",
+"            D$E$F$G$H$I$J$K$g$L$M$N$O$P$Q$R$S$T$U$V$W$X$Y$Z$> `$ %.%+%@%#%                                              ",
+"              $%%%&%F$d$o#*%U =%-%;%>%,%'%'%)%!%~%{%]%^%/%(%_%:%<%[%}%|%1%2%3%                                          ",
+"                  4%5%&%F$6%7%8%9%0%a%b%c%d%e%e%f%g%h%i%j%k%l%m%n%o%p%q%r%s%t%u%                                        ",
+"                    v%E$&%&%w%x%y%z%A%B%C%D%E%F%G%H%I%J%K%L%M%N%O%P%Q%R%S%T%U%V%W%                                      ",
+"                        X%%%&%6%Y%Z%`%A% &.&+&@&D%#&$&%&&&*&=&-&;&>&,&'&)&!&~&{&]&^&                                    ",
+"                              /&(&_&:&<&[&}&|&1&2&        3&4&5&6&7&8&9&0&a&b&c&d&e&f&g&                                ",
+"                                                                h&i&j&k&l&m&n&o&p&q&r&s&t&u&                            ",
+"                                                                    v&w&x&y&z&A&B&C&D&E&F&G&H&                          ",
+"                                                                      I&J&K&L&M&N&Q%d&O&P&Q&R&S&                        ",
+"                                                                        T&U&V&W&X&Y&]&{&Z&`& *.*+*@*                    ",
+"                                                                            #*$*%*&***=*s%q&-*;*s%>*,*                  ",
+"                                                                              '*)*!*~*{*]*^*/*(*_*:*<*[*}*              ",
+"                                                                                |*1*2*3*4*5*6*7*8*9*0*a*+*b*            ",
+"                                                                                  c*d*e*f*g*h*i*j*k*C&l*m*n*o*          ",
+"                                                                                      p*q*W&r*s*t*u*v*w*x*y*z*A*B*      ",
+"                                                                                        C*D*j&E*F*G*H*I*J*K*L*M*N*O*    ",
+"                                                                                          P*Q*R*S*T*U*H*s%p%V*W*4*X*    ",
+"                                                                                              Y*r*k&Z*`* =.=+=@=#=$=    ",
+"                                                                                                %=&=3*W&*===~*-=;=      ",
+"                                                                                                  >=,=7&7&'=)=!=        ",
+"                                                                                                      ~={=]=^=/=        ",
+"                                                                                                        (=_=:=Y*        ",
+"                                                                                                            <=<=[=      ",
+"                                                                                                                        ",
+"                                                                                                                        "};
diff -Naur WindowMaker-0.80.2/WindowMaker/Icons/Mouth.png wm-xft2/WindowMaker/Icons/Mouth.png
--- WindowMaker-0.80.2/WindowMaker/Icons/Mouth.png	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/WindowMaker/Icons/Mouth.png	2003-10-22 14:08:36.000000000 +0400
@@ -0,0 +1,40 @@
+PNG
+
+   IHDR   @   @   ªiqÞ   gAMA  ±üa   bKGD ÿ ÿ ÿ ½§   	pHYs    ù¥   tIMEÒÇG{  ¢IDATxkv#Ù?<N2«º×ýç)x´§äa¸Ý]HF þÌ¬ºÝ6×RJIRb ½ò¿þçÿøï
+×}Ëï¢ò×¬Ü²°Ì²*PUQEÕpÆæ2Üê$	ÇqPdAÆ¤Ô ¸qW¾Ý6T}ßÄBl3Ã0ÅM±aP¹À¤R'J& dÌ
+Ì¬ÈÌ öñ¬Ï¨ú¬¯x¸&×BÞJê
+ß3ò[Â[	JÁ
+QBU É,*Ì	Z9PÅ<v2aJRZí¤ÇAuGçd$³H|&B2Ð* *$Ê)ZbZíS¬fUI©UTÉ´äYª_d	¸â!¼A}Ëäw)~ø½2¿%r ¦Z*¨  Ef*Ô²='ÆPÁÄ q's²ÇÌ¨v	Ïqpe\«B%¢F" $HT%%VªªrdåCA©*I ^ðM«¾üRÿPä_Cô7ºrÄ@QQiãYÖ«
+j¢¢¨vNù|PÕNAaG¢è3¿nd(P[pßLyfûÁÅ&WØRÔ&¥*T¥I"ñLá.ÈMQ/TRRpÉ|ÑoIüNò¯%üá_@Þ«¸¢¬f¶g¥¢"m(>`NÃáxî¤hô×Ó
+³AU	ÕQÑyÜ)³¹SôkG	¦Ee2,èh*²¤(AFYÍ ,-ÓæLó§E|Y# AfF32UoRòå·Bþª-áª\)FÕª)U@×ªuÐßÍ("*ZEfösÒÐÁER%ml*ÖCT Uì³º8ªN+¡s*)ªªJK9G¢ËÈ¸È!»gÖH¸PuEäVÔ;*ßú.¢7¤R%t±¡àFVadG23ç<Ø£8ªÐ\'mÚÆ
+t°wÔ(ÙÞE*IQTRI«HBD*©$°0Ä¤*¥L?U	¢»ÿ¨«D]P.Ê@äBqAäJÉUúû²"ª>g*SÄ*¨*)0g²?w#ÈL$ÛiY®`tÕ75TÕ%Õ©Q&RlS(ÈLÔäü½êÂ(É!e"GQÊº ÃxíêUJS¸ªS5!R*[é/ UT$eQU1ç1¹ÁÅ1£óÄ*d"ý´®ë®î%(Ñá-XL:"¨,"
+U)´@27UW¤{¢oqøÜ6?ÃY¦Û¡n¦U«¬iX!VIu¬8+SunK%ÂÁãìûd Äq jwÑ¬¤
+U]- USËI1;»«°ÂD JÀ 3«ª¤`ë 21Rr³-uIJ8¢Rµ¸Nû¤ªLé+ÖþuJªËV6p(ûäs<¾"IAeG­#©¨o9Sà,É¾Äª"B0D]WQ¾
+B«#ö¡-ÛUÀb"Zâj ºPE.x!'¶Ðîú ZtT
+"dt&ÅÅÁþ|0cµ¨gý0¤O=ó,`ÝAdB°¨ÇBëwsoZj"b¸{§QfGÒ¨S§¨!".¥)ZNYP{ Ö\}µº½y)ýNQPéöQy°pÌà¾?y<TDC[U¤qC;ÑLÌUG¢Ì²
+ÕÆ{3IÁKCb$
+0¤°ÀR¨,3«ÖnÇUØÄvÁ}(3Vp'dIWáWuñc
+phA&{ÀûóÉ××¹OÆÅQNÓ¸>§'Uf¬ºè
+QEU¢jlæ`äëë
+"«#@úpr&biw) +½ú
+£¢(¥»Iõ¡¸¨
+R%R¨TÄózFæÃE0ÌÜ#øº?øz<xÜw¾mãªp¾u(ÊYT@)°ÁXE²ª¸?TwT¤ê#6^í¼uaVÊEpLal"U]ß¤ÑwxÛ:$«ìp¥²G7
+Ym¹´ 
+*()1ù¼ßùñuçñØyÆ¸^0SB3]8[h¦PÞÀhÎÄÇDDG &¸Ã»#!sóV"SìT¥LÑêRî"D0\:ûÄÝµá}2ýA¬®Ä*Fç¿«æg´³¾¾|~ÞÜéâ²LLëù#¨ ²*Ð2Õ¬ER*¨+Ë ÑÏ'{LæâÙ¡ 28¨¬W%Y|bLÖëÄ]»24L­s¯÷ãàñ<çÁcß¹½]ðK_0Ùíx»²*çýLE]*ò8píá©ªØÌ/Js£ö'³ bï°Ú+AsÇ³'ÔVÔ1»	Á³¥`"8QÙU¶@«Ãê>4¾'Ñe%pÁs|Þï|=|íß6"È£çÎ1Eh, A]ºØF#n£`YäL´Û;_º³Êu»âS#yð8âÎ¦;lÞCº2çDî`U] ¶B¬;WóWd@Vk]¯û4££"#*f$Ç<x<wÇNEåÁó~çq» cP<þãþ|¿Þ¨÷7LHEfwmµ%3`*ÐÎId2ßß.o_ûÎ8ÊIº®â·qQaíBÕÉì5~é:ï¨¹={¾>ùì¬X2«8æd?#à²f\Ø3ùøzà¿AíÂ£ÿøøàãþà÷ËÌßÞ¹9pÝ°è¾]¡¤ÀÉ<vûÁ?>ùÚw"Íüþ«;?Oþüzpsã¦§­CkÚDJ	í9%µ#ÛfÚS©Fâj]õªDÎáCÎÉªYMZf±g2gR·Ï?¿ø·|}}b|Ü¿øóÏ/þøºó'?øñ<Øcò/ß¿ñVÉ¡ýùÉó8øñuçÿüñÁ|<¸¿»±;·Û;õx¢n
+ÐÁ1á@ñc,8¹ajêmÙö
+.!¸B¢$bÝòªÙ²Õfvøç19ÍSá¶Y|í;GÏ¸
+¿Ý®¨	ûsçÿÛ¿³?wÞo.ÇDÔxæÁ}>?î|Üï|> \ó+GÛÆeðîmòSÂ^Ó}ìº[ãâÝàú{*(YHO`µ5«[QdÄwèÐ¯äÁÌffÊÖQë¥¡ïtgrÌ÷w*ûw{F?ïûÚä¨4r+árÝ¸Ý6þ{óó}l¼¿ßãÂÛækhÊêÐà,!i=Ì C(öøT$zÐR7ÁT)mV+×«ºõTYAD1a}xe1DÈë 3Ù¸¢L2»XÂN²gÝ±®ÒçY°ms¶1P7´
+_D««°mc6SÆfh	³'ûx·ï*æI*iR(QÏ]ôx»aN\ÍðJllD=è¦§]¥ù¿ÈÎûL^¬­à 6p	RÂf)bEhAR	·ë2§qsÃÍ1S6wÌTqQ¬ç]¬7_èPÑRLý8²%}söçËdX³98yÎàcß?>¸^¯¼½]ñ®z­¸¬Ñÿ}ëU"ûÔE¤½]ËÉÔ/Ø"2NbÔ| KX¦ø5%ÖÝÛÈ¦ÐhòÓ5g¼O\ûZWhVúÚcÉ±HÜ®²fë1üãøK
+bÏZïâDÉ?ÓâDÈVMOi>PlÍÒÒ·«
+Õv¨2|¼0í®ºrS¿Tæ©v¸2ÜÚ!RTuç°ÅÓôu¦¬cë1Á´¹È¥J5®ëä*î1sBµnÒE¦=|òþ©f÷RÍVWjÅP#Í¢¬IT13LsCEyt}5¶â4#¬(æÆe» ªý{ZJÍ%!,`©ªÂDzX«vÆimFüK´Ó(Ú¤"ªä:±ÅTåRÛ{)ñÖçrµÕS)ê¡=®¸f~f4©²Zm¨ [HÑ¤å¢äó
+¤ÖûF1Õ¼E?ªßÃO¨],g)K´Ö`mP¼]66sÜÊ-eóAÅÎ!Ù¹¿òþY¤ÛasÍ²È9»G¶ÁÅbROêãÁ!HR6Ð«#Û1¹\0
+Élb#'uLL,öRdrøeCccô×¥äEÚyÊM±vd-:ÎÝÙ|ÀWf#2ÑUlög÷û=f;þ£5;ä"
+²Ãªb!É($Ùüq0p|ý]¾(y@	zÃÖ-cv{µ2Â¡F\7ê¶ÁíBnncµoá/I®ÓoÐÔÆ0ÆfD=©üý+Édû+Ðò''~æÈ\4WyLö_ÌöÏ/æs§TfÝâ¶:
+wØ¦8s6ü9Ñ­&5AÇà8Vµç>äòÕúÛ^6üâ¨ys¢dN*qÙp7$+C²­¬Äg£@YùlrKªZÝ9W¨Í@#ÇÁñx2ï|ûÿCñì?*8$±u2mÑ9<³'¿®3Å3óÕ&uß» ÛÀ6'Ì|&CþpüÍ±ë­ëÅ7¢}ßAá½]u¢+ôJ$ÁkiìÝ;¼®è|?hùæÅ
+ìãkçþã|îÌ}GG ;³YÚûTÙüÞ¶ApT-Róg»ûj­
+l¾a»5t>k.ÉúOÃ¯?ðáÈføØHW"#"læ\oÞ(¥tEÆxl'é¶Æ2þñõ`ÆD'XqF²}ñx<È}b5g+ÇA}Âq<ÑÕ&î÷&-¼ÓÀDðÍ|!ÇGôæÉÝÍþÚrF´t.?½8£7G¯Çßß8O=pízmz_Z7¨¼¬ÅK!rRRÄÌÜMmZêÏ`>Ìçãæc'÷Ï}ÂÜyBÉKô¨Wxô\äÈbíº¡Úpøèz£JDt*8°¹3FSÚc\Poé|îIYài0ÁoÞ Ë­[¼÷ÊØ¼ÙæEuûó95Q³{fU!Ul¢ÞE¹½óüóùC8êÑüþóGwÃeüó8H3*ÇÜ±Ew´í+¿sµZß÷ÕäÜÆhýË½'X®Þ"lê-G`ÃmôénnÊöíÊö~ÅokÜo\.¿V¦V[÷ÖÙS¥5üµ|`éÀ#HK2a'ámCö©Qîèû;rLòÌØù¼?º]nÎ[m<cªÒ'¬ªÜh5rÎ ²å(3c¨2ÆàRÅ¶õFÙ&Áu»°]¯Äu#·½9×·+cÜ~»±]·Ö'¶ÁÕ7Ææç¼Rðc-wi~®u3eF¡&TÍÖSìÛµi%Uj85ÞÝçÎÁ÷ÇÇãN=ÄÊí¹OÒµÙdnÃ¨CÆ0.6ØV7z_uCµÃÞ}ãízáv»0Æ2åáÆssÞ¾_¹ÜnøekUê207®Û¶¢OP5Ôxá3bµöÂ%R½§×,)ÖK¢Î."QµÁ)zRÇÁbãäû÷oüC¯ÏOåy<áãûÎóí"cMc¿ c]øóÉ¶]¹]¯Øí'¤Yã'òöû7¶uòcº&G3á2Fk
+Òt¸ÕRg5À¬þxJ"TLNÅDèM®IbH82 ÂýóÞy%½23U÷wÞßÞx»ßïß0x%ç\.-¨D@N.ÖKÛmCÇÆU "»êr>ùØw 6Çn®ßnmÃ¶6ÜµñÃp5ÔWÆTFÏKZº@ÑdGe?Mt´5`P¢ßz¬}GÞÁü|ðÉ}N6Udö¯äyðæ`ïßþàòý»ÝçÁñùÉ·ooØØíÆ¨ýÉ}?8î;Ï9UÈÛËoo\.Ì.-¡µñî©p¹Î¥-9W è9jZÍýl¿¯ÛK,'×KFR3Ú<ÎÀßççæÎ1[ºKP=ÄZÞúüìúzKÑ5ëðßLxÞÜ?>Þ?32e|{ãòÛ;ãvA6C¶QÍ[O<ùÕµÅÚ®>ËëWAfµÖðöügéZ¬½þ*B,²dF¡ëÍ5JYiòÖ«o¦ô´(Ù#×"wòëly-RðyÿdôrÕ	ÒÛßÞÙ¾ÝÐ£îl·6¬ÝÙ9­-Öµkó?'ÛeÓ_ðr½éÚééof6â£°J{­-µÙAy`m{v[¬ý`Î&þÔª.°O10¨ÙÄëT!ma*|Û¸}Û¸^»¯o[óÛíºäó;ku·÷­[i-jïeð/Æç?9àåé©PèÖÊ¤á©º¿ôÂÍÑË4uÝÐËÀö@æ1XÛ&kµ(rñ².Ì½O6èÅjÖñÉ	^.ÛVóõÔÚ<AÀºCh)ÍtdþË0kì¿r@³; Ã[MA.<KyÖÉúYbuéj,µ&Nï57áM |0¤Y$÷Nè­¯^Ì6mlªkÈ¼Ô]YlÓ	zéçkIKéÉóDÍý°azêMnD!DWvSâ9©¨ ±@Sÿíç²9CY"ÌûzJlµIwo§¢¶QH»KG¼="0aivU|ûÿ¥z!®F,'û´03Í©ýè¥&a«¦ÎÄ¢Q¶­1=®]´Nu3§"pé~?ÌºE/V£­8¹´3D}¿P´&Ì­jHN&­FÛKdÙv>ZûO¾NY ÖIya!Dû´o*;ÅÂÖ¦÷Pm·-Òm[sû
+ÃF¯_pÙÆYë}§ðÑZ^´ö/ó+íè#!µÈÐÊDkÇ­Z2QëÍQ]«êòÿ8;°bÖæßK 1leÞ<®½ânª¨	ñÉt*ãíº½Öæ|sªªh,P½@¥GåÏ õózjÕèÀÉÖ43É<¹´\¨ÕäÜüú¿FÀÿ÷QgSàÜ iXAnE sõÛf*££Ý¸Þ®,Õ­÷rÆFk/´J)âÍû5-sIò¿
+È§@L^¯s+mÝ¢£º±Ïñ÷ïæÿ³êïõ"ú¡jíåÒYll«rÚ!+OT«N$æÏnÚ>ÚmdøPé¡©Õ²àñå½½ØÈ.Ð­FU.ÂE:3ËDËTKDz{ü¯6¾ð«Ñ?o¬kÁN KþZ@í'ØDk­Àw¹VÝVÅº õ"-[	­¨¶*Ôí«RÃFqÉ>ÿzåçY+Ê¬½(=9ÊÔÊU;ïa-Oÿ³­§òïñ/}õÀ^ îBS"*­¿	ÑPW-1éa²IÙ÷0¡¤ Î}À­[cìGßÇb¢êl@Ñ»ó\¶¦'¸VGô4^õ´áW~µµü£çß¾VºñÂÙ¾q­ªÈÚøÚXZ¼
+«[XóóôX<âÕÐÛTû[PnÈ¬Wî×6P9^;'ª;*{ö-¦,ãk,úàïöþ7ëëiÑ#Í¹:».¦eØHÙ/¬ÝB®&Lz×¼ÕÜëøYv"XÂ`?|&Ç//ê°@Ò:iÖ7bvi"+Éý ©ri5ÙÚø¢KÒ±ìyübßË!þáà|®d½6 }Ý?p>NP¼È]aÃ·Òé-í%q¿?ª¥+LQ}Óö¦¨Æ$
+8x}ÌheÉDÊl-V5L$ùéeÛýg¾ØÖnË`¸ÐòuÛÜk¢:ûÑùÎ`­Òï¨x³És3¼~Âá¿?¦0VX÷e	Ä¹å±0 T/[çµÂï"¥?ÿxWþÎÆ¹ýþøsÙúÜ}ý`Ëð3>õ¦ËzídåW®_pEKñ'*}í4K¢Ðwu"Ã~èÝCZzI²nÍó³~ÒCQ©ü%8_)@çúsôÀ¿Nðõ¼Äfæzóu9åW¼>´/ä¼Í¦gy¤oYÉ12Þ/¸[:sSµ'Ù¢J­?¶´¥VkaëÅZwÔß¯íoø5þX_?3~µáXÏá®þÿZ½¨2{=]À(Ü=°]º¨%½EnúbÊl±¿DÜk_WÑýÜÈ_/ç³Ã=]§ñ¢úå¿þ!³-ãOð9á¿xn¥êÚ2M`Ý®|lÒ7>ÐUåµÝS½0ÑÆj%«å¾hÎ%ùÿëã±'èö kÁ§¨~Èãÿ¼Ì¢y    IEND®B`
\ No newline at end of file
diff -Naur WindowMaker-0.80.2/WindowMaker/Icons/Wine.png wm-xft2/WindowMaker/Icons/Wine.png
--- WindowMaker-0.80.2/WindowMaker/Icons/Wine.png	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/WindowMaker/Icons/Wine.png	2003-10-22 14:08:36.000000000 +0400
@@ -0,0 +1,26 @@
+PNG
+
+   IHDR   @   @   ªiqÞ   gAMA  ±üa   bKGD      ùC»   	pHYs    d_   tIMEÒõ¡ê    IDATxm»IeWr&hfg¸÷Ý7ùìáÁ #Ed)Õ­ÌÊ, ½ÑB ­µÑVíôCj% F÷¢ PU«
+h´ºª²*»)LNÁ`>ûó7Ýácf½xçE²ºÃÝßàþß÷]ü¿ù^QÎ9çÙ©ª1 @Û¶Z×µ¶m+!©ë  ¼÷  ÀÌºX,d:òÉÉ	×uÍ§§§:ÍÔWWWê Õ¥ùëû~ï¹ÿÑã  ¸¿¿  "[[[°¹¹ioÞ¼i677mUU¦,K¬ª
+ «ªÂ^¯DÞ{ "1ÆÅb§Ói8::JvooÏÕu]Xk)UÕ9ç(ÆÆpÎpJQ @Û¶c ¨ªc¢s.ÎçóÄÌ<µ®k(ËRË%þ³â?3Âú9øg¯A  {÷îùíííj8ö«ªªÁHUq6-ONNÎªªjÈsÎÙ¢(µ¼÷ä½UEDfÖ£¤1¦2Åzï^¯×ëº®ODU±L)ï YkcÓ4 @Ddï=:km;HQ½÷bffUÙl9
+þGðÆû|ðÁ`{{{§ßïïìíí]»víÚhggÆã±«ª¢p"RÎçóòéÓ§òÙg}Õ4ÍlñÆk­5DdTRJ¢ªBDm×uÐucÄc<"öq#cLR²"ªªD$D1£1ED U9¥,3£ªRY""ÌÌÉZRUÕu-³ÙìûéeYâ~xpóæÍûÛÛÛÛûûûÜï÷»Ñh¨¶Ö6ÞûFU	 Ì<F£ýýý­ÃÃÃßüû¿ÿûÿ ÿIDÊÆÎZkiuAQD$¥ºü9¹ëºÈÌlÙGÄ+"êclJ	 @³#"DÖZQU°Öªªµ6äTaç¤ÄZËÞûcÔ^¯G!-ËR¬µÜëõXDèúõë{«kÿþýû;ï¾ûîh<cÌ¯Ú¶mCÙlÖ8ÀÌÜK)-T5F#sýúõ[·nm<~üø?ùäé`08BDODÅ:%HUC!¥DººbY­ª­j²å|JÉ«ªËFEd§DDb!\¹UT5GDµÖ² µVQH¢ Dc½óÎ;wîß¿ðöÛoÃá0F£+çÜ7MÓL¦ÓéâââbþòåËîââ",&¢´±±AÃáÐÇã¡1fÞu]\.Á ···ÇEQü @ñ=#X"cLBD$"QÕh­uÆc40[SJC¸ºÀ£ÖZEDÈ¹¥Ì"BÆã³"¢ÌlDDsÊÌZEõèÑ£ññÇïÞ¹sÇmllÔÆ3¹X.WÅbòüùóùéééâÛo¿M¯^½âíímøè£Ì£GìíÛ·cd>s×u¦,K`f©ªÊÇãæóù/ûý~`fÌi"Bh¬µY 0EQ ]0WKÍ_oê]]Bà0³¤8¥¤"Bªjrdµsdéüà½÷Þ»ÿü mmm]Zk1ÆÉÕÕÕÕt:_\\L¾þúëæèè¨===åËËKù¿øóóÿÜxï}¿ß/z½^i­-¦Ó©óÞ÷êºöDDu]ÛªªüÎÎÎ[Ï=»RúUQº®cfFc®ÏÖ9g1$"$"d 1ô}#Ä5·æn  Ì,1ÆµTUÑ9:PD0Æ;;;¿ùÁ¼÷î»ïv[[[§Æ¦i®¦ÓéòòòrzzzÚÏ?Þ,=::?ú£?Òßÿýßw?üá©(
+tÙu]¡ª¾,ËjkkËc3sÏ{_Þºu«<::úù|>a­mhüÀÌdk-""ch]À{½Ø®_  Æ9gBº>dö4§DD4w  tÎaJ	 ¹wxxøÃÿøÇ[×®];uÎ·m{9LW¯^-OOOëÙl¦I§§§|íÚ5ýË¿üKüðÃÍîî.9ç
+cL Î9êºÎEa`Üëõöy \×u²¹¹iîß¿ÿøÓO?ýý~ÿßæHDcÌÚûjQfü¤Ðf¯""¢µ1d23ÇS!å|k­ÉÞ UEUçÄßzôèÑÞÿý¸±±ñ]×ugÉäìââ¢>::uggg¡i@DÐuÿèG?þô§ôÃþ¶¶¶s®DÄu{ö¹¦èUuä»o©ê^UU~¿ßÅï½õÖ[ÃËËËýk×®§"*"JþìÛ¸ZkÕ:ç ç=ä\yÎTUB©ëºB`Ñìå7h.Æ¨¨)¥²ªªßù­ßú-wpp0!¢ËÓÓÓùÑÑQ}uu¦ÓiâÕU~òèþáÒG}DÞ{Q]µö|.d}±)¥±sî ßBÄ·Ê²|pzzú·m»1vãñøÞ8>>þ)3ÿo9ümv¨ª8ç$§µ23ØuØuÕõòÏ +((M­sQ@18ÍÞ¾wïÞÛ? Àåryzyyùêüü|vyyYO&°\.CÓ4cdff?û³?Ã÷ß?üðCòÞ»Ü¶zùð6àTÕ¤Dto{ïßñÑÑÑ?Öu}±\.Óéô´mÛ£ÝÝÝÝ¿ÿ_}öÙgÿùîÝ»ß!":çè{µò9  àM
+¬SÉtí%Î­Nß¼ w	Uù|^.ËüñÍ7n<!<½¼¼|yrrr9LæÉ¤Y,1ÆÈu]§£¨*xïáOþäOðOÿôOÁZKÖZkñKøåÏ¦]×Ì<TÕkÖÚ;ÖÚGx½,Ë­ÒÅb1!´Ëåòâõë×Onß¾½qûöíõÕW¿Õ¶í @³ÂÇ´>C>/cÐ ÷néº»®]×Ñr¹cÊ< ÖvX,1æþÉO~ÁàëårùÍññññÉÉÉÙd2YÎçó&ÀËå3RDDï½üñÿ1üÁüYkÑ9GHh»®+rîc¡^]×}kí¡µö>½CD·½÷{ßL§ÓË¶m®ëf)¥óù|'ÉýýýÞ~ûí=yòäßìììt¹KÁº¯ÓÝv]'Ùóo]Ö}~]ørÞ# Èt:{ïÿ§?þxYåËÉdòäøøøõñññåt:]ÖuÝÖuB ¬ªëÊ«¿ýÛ¿?Æ~¿Þ{DDL)£'"RcRªRJÞûÆÆûÎ¹Û½^ow:^Ôu=!´)¥@DWÌ<Ïçîùóç_ÃÏ>úôÓOÿeÓ4ÿÖ9!£Y2B«ª "+¾¦@D Ì8am 8::zxëÖ­÷ïß?õÞ{uuõíÅÅÅñr¹¼$¢¥s®5Æ¤¢(R½÷ÀÌ0uww¶¶¶ÐMÓ`Y=#¶m[ÅªºSå]cÌ=cÌçÜõ|ø³¦i®dåB$¢ëº®;cLxýúõñh4úÅÃï¼óÎ;ÿË_~ù_Ê²¼ÈìV33 P[v]ÖZTU²ÖRJÉXk%­ª*¼|ùò½Þ½uëÖkcÌóù|þ¼i#"ºìõzK	)¥DDêã23Æ`0àÍ7 IU3;D´ªZ¤ú)¥"îey îXkoWUuüÅÅÅg]×qn¿8¥Ä!	!`×uËgÏ}¹··÷Ë[·nýìÉ'¿cü_¢àÜÒÙÃ1F ±Á`]$LÛ¶ ¬¬yÁðÈÑÑÑ½¾óÖ[o½6Æ|×4Í9¶Ö^TUµDÄÙ#MÓHYÐu23t]EQÀöö6¨ªN§$"4mQ^D"z8ç®[koÀíªª@uyyùÿµm;O)ªZZkÑZ«eYöDDÛ¶ÕÅb!óù¦1xõòåËÏ?~üðÎ;?~úôé¿7ÆzïYD8N1`¢   »Â  1FDD_½zukÿwïÞ=³Ö¾1¨ê)]zïÆNUÙZ«Æèº¬µÀÌ`­Å¢(È{ `Ë¥uÎù\øzÆ~Q;ùðªzØëõ>8==ý&01^¥ÊÊªª<Ü6mQ4Ëårº®¼º{÷î?>xðàgÏ=ûyJéoTõZ"óçþç; ÐSÕªöTµDD~ûí·wwvv>~ôèÑ¤,Ë§"r,"/èÂZ» ¢ RV[Þ0ÅÌÂ@UÉ{oªª²ý~ßF£²,ËÒZ[ªêÆÞûçÜMïýMÙ_,æüüüUÛ¶ç]×]Äfîº®U¥¢(HD""²ª&UåcB9ò¨ëºè×®]Û6Æ¼ÿôéÓÿÜëõf D$ @PÕdsÑ[SÞµÈ£ß|óÍµÁ`ðwïÞeùRUÏà1æÂZ;.ÆÈ(ÆÍ	""dGè¬µ4Üh4rEQÖÚ1fè½¯¼÷C"Ú2Æl/j±XtÌ<WÕZDÚó1k1¥d×ÑDDuÂáp8õz½¶®ëncc...Ú/_Þ¸qãó[·n~ñÅ¿ ÿzuYQlîºæÆ(BëºöËåò£wß}WÃáµöè
+% ¬ôµÚ¶U¥¶m©m[o±UUù~¿ïA5£ÑhPE¿("Û¶í/ár¹Q°ÖÆchFRJ1ÀmÛªªòx<îYk£1Æå¢½^¯Fýv6¥c""N§Ó/^|÷Þ{ï}óàÁ¿ùæÿ}ccãÜZ  mÛÂZÀµt¼nÏ=»ûàÁáöööë¢(ÎTõÔ97!¢ MNÖ4ØdóùÜ¥1ÆEáÃass³¿»»;ç\ß3h¦¸ºº²]×1 eYg)çóyÌbZ.µÇùõë× ¶½÷Ã^¯ç ¢peY£Ñ¨ÜØØÉdÑjýêÕ«£ë×¯qóæÍ½Ï?ÿü! ÄW@¨,KÐÆªj¾üòË½ñxüþÁÁÁ¬,ËK"ºTÕ¹1¦ñÞwHXU51FqÎár¹D1]×+Ë²(Ë²7û£Ñh´³³Ó«ªjdzWWWîìì,0óQ¯×Óªª"3Ã|>mÛòJ\X×5.K³áÑhdC±õÞãh4êµm[Íf³Æ{Ùi>}úé§ÿèG?ºvxxø§§§ÿ­ßïÏÖuÎ­%£µcONNî=zôÈÃ+cÌDUç[ pCVM×uBÀ¦ilJÉWUU:çªÑh4Fcç\AD½¦izËå²uuef³ÙµvQE Ó|>!UÕcä®ë Ø¢(LÑZk]¡¹¼¼¼ðÞCQXE¦,Ëb0TÃáp¹»»këºnÚ¶M!p||üôÅÛ÷îÝûñ·ß~û1æße=SlnS`AçL&} ¸¹¹¹EQ¤Lu+UÝÌ ¦5æ"¥äRJ)ÆèVõÏ_UÕ ×ëõs#q!uuUt]×]õûý¦ßïG èÊ²D M)Rj3´Þ{Àãæ?!ôÊ²,1Þ9WTUUVUUlooÉd)"©®kíº.Ý¾}ûøààà½gÏý{"bï½Xk-dksÚ¶çÜÀ9§ÖZÏÌ=cLcDé¥ªv"Ò0sKDÞ9ÃáÐ ¢wÎYDì1ó`>ÛËËKsuuæóùl0L777Õ{sâ Ð@`æ®i EDqÎ!"&¢(UÅ¦imÛÖý~¿""GD®×ëU;;;1Æxqq±¼ººÈ"ÇÇÇ§óùüËwÞyçî³gÏîv]wÖ¶­Ø²,Á{Î9-Ìüj:Þê÷û[YFª¬µ­ÔÆVUë¸K AD1b'L&v>ÇüÅµk×ºªª¡ªªä½Î¹1Ç~bf&¢54gUå¬1ªªb¦á<oXúÞûs®×ï÷¹ßï×ãªªBÁc mÛÅ/.Þ~ûíÑ½{÷}òÉ'¿DÄÖüÕ_ýÕNY÷¾´Ö:"Â^¯wüOÿôOoß¸q£,¢ïÑÀZ[QÇ"]×Ár¹³³3xùòe×¶í´(å`0ÍÞÞ^ÒëõÔ{¯UU%ç\rÎ­¬µIUiY`1y¾·èÖ´@½÷¦,Ë²(è 2®Á¶me±X1Æ ".xíÚµj<ë·ß~{Ö4Í¥ùë¿þëm"*1V¤_vwwç¿øÅ/R¯×»^U!¢K)IJ)¦B×u©mÛ¸\.WWWæøø¸^.³íííùõë×Óx<Æáp½^Osê½mj­MÆh	ë¾á7cLUU¶ª*SÉÄ! jQ¾ªª1¦pÎUYK0 1Fm&µmÌa¡íºÎÜ¾}{¼\.õÅOlµªUm2¬ßû½ßûO÷ww?H)¦i!iaºX,®¦¹Z,Ëc»µµ777e4YD,SJuÃµàªD¤ °(SÎé ì½g Ð¢(hE(ÈY§@Æk=çóy=ÖÚ¾1¦)Ë²Ê3Â{_Ãj4Åõôüü|2Í¶÷÷÷û)%oUu=àkéÃÃÃÃ`ù?<yòã·ß~ÛcÚÂ|¹\´m{2ÍNg³ÙBDÂõë×Óææ¦ÝÙÙqÌÜëº.e)²Y×ÌÇSº1qQû2ch=ÝÍÃÌ2½¦´ë:mÛVQÛ¶Ëå²1Æ´Î¹ ªµÖUUÕÇË­­­z6ÂÙ6þùüÎ;xçÎ][×µ2³d¦ÄH"b¢ ßùßyö·û·{{{ãñ8:ç x¹X,NËå¼×ë5½^Oúý>nll  swMÓ`ö$"¢5Æ¬GêBDfefìõzd­5 `UÄ±ªB £¦HV×JÁfæÅ|W½^ ¢d­í¬µuQ ÐZkªª*F£QYUÕb>'Dä¢(Êcì÷ûúÞ{ïm²I `­µ^UMJ	ùîÝ»¿~ýº?l¿ßcxñâEÃÌ<¨,KÇÌyí¡®ëlV_)³DÊzæß17 &´íjj£êXÄ"I1@×ukï ·Û¨iºººbUí¨FDo­]GycL¯×ësËÜÅHDp±Xàþþ¾±y¸i²"Û^JÉ03@ºsçNýÿðÇMÓnnn`§,ËI»b'4ÀZ)%!`ò°ÕÆÝZ^Ë½­µJkITA¬0{qªJy<JÄ¡®Mj®Cl[)A´1^]TM½²ÖÚeî
+¾®ë2¼÷\¥/Ë²I)5V999	7nÜ KD- ªZH?/<@1ÇãæÞ½{ß>þ|{oo¯_ÅÍó¦iNúý¾Í§<WÀ©ªSUËÌ.«KÌÌÇf&`IÄ[k¥V%ë=xï	=§äSSSbÔ¦®M×4>¥$*b ¥4(B1Ær1¢(hY,Ì¤"""k-@Sx=e ã½ï-Ë¦m[°]×QV< "ÒRÒ<5»»»óW¯^½L&×®]ííímÊ<åíg%Ba+dØ¬"bRJ *Ì&¤d¬1@ RÒBCèÅv` )9ñÜ¶Çè%F«"QR²Iu¬ªIH¼%ZDf^.ÜµÓÓÓ4è÷ýþÁÁx4mZæ¶=fæ©µÖxçEàr>¯fæ®áDÄ¥4@YØH7oÞ|õôéÓýÍÍMFÃáp81ÖÅBbBÀ<M"Uµf¥"Dt1F/ÌTA´M£Ôu#K`>¹år\N§û6¾Á¶í¶-!ÆRBev R@¡ &Z÷)EÓyÐu''ïõ`1*îìË¢ ¾s;{Þ*ÑD¶x<EQóós´ëIIþúï$bõ_~y:LFûûûñx¼·\.'Ý|±píº®L)õ@µ ¢³¶DÄBE|êº±°[L&7zÓéh³®»QÛÀ¦1Æ«ªÕ :1BdÔZcò¢Cþ%¢Ð
+E0­÷«Pyý:ñå¥J¯§´»;,SÚÞ`®âéy"DßN§b¦UÕÜjÞÄ³!   ¦âÖ­['~úép<{³éôU$1Æ~±æ>l5Ì4¥É`o2ÙÚX,
+PuàPÈ rJÁ 1 B´ÞPQVE@Y*T µdTQ,¤`PÛ¥$¶iXêZÀìYAµôÖQÄ jcõdHó¡×{ ,"AVûA«}Ý4ÍÉë×¯wïÝ»7îtz:f/)õ9Cîº÷m]?Ú9>íO&DY^-c9`vºjDbD  D"U$URPDU D"@ Ìë+QQPÀ ïÙHøº®Ð{¦ª5D£ùÕ)³ØÉd"Þû i}x]1#9Éé`SJd­|ñÅ;ûûû£ñhtÝ9·hX××l]ÿ®»ºú`÷ä¤?L(ª!2 àÑ¢CDc®¤
+wiíuÐ·óáÐ@U c#´VSÞlç ¡CqNÑZ`UTcÐx/»ó¹Ý»¼tÓ~ßFÃuííb±`k-[kSVI Òz,aêºNº®ï}M§¯<yòî;Ú­­-~ù«_ýññÇßÜ¸¸Ø « ÌN Y2Æ¢%"cV(EQ`E~PEPSV]uõ(¶Î  " kWòÔ
+_ «B8F#ó9¡÷ÊèSr â6&a¿,ÉÖu-y«³ÎÎ´ZTDDft]Ç1FÃÌ4O¾úê«ñht¿°ÖnZ»Á§§×WW+D4*bIÕ!EDBÂnÅVÐ¬tÙÛU¸@È¡M`òãßc^*ÄUº0"¦1£eÃ1bÿê
+l]×ë5R1Æ0 0sN³¾/)%1J.¶m[òÖ~óùgÝôàÁñþ~q1D¹¼À³W GÆd2°Î])%PpÙS*â*ÔÀ­Sf0Ö]¥"XæÕî­(¬
+du  D° ¨)­vºNcÛY3ÓÆh®¦S²³ÙÖc0ïý¬Ó!wGü"ªJ9Î¿yòäÍÍÍ6Ã-w÷.^]^OéTûÑÒ*Wóh=ïÝ1få]" |HDPaÅÉ!suÀ)*Æ¹Õ{  UßDqe°@ ±BJ mÕwJ"R" BBår©ý~_RJ¤åÞÅÜ!ÖÙEñù¿úÕ?ø`XÈÕÎÎyÏgâ EXmT qî×ák8cÞ²SpJï! §&18Á@Êa«Èa]m©k`ç@ê:UmP× (´Ø9´ÖÚµ¼­ë¼Ï¼YSJoöiDBkcH±yõúõÿµ¹¹ù»wµ¸{W¯_ômD,ÌªâÚS "3"¨µ Æ¬ª;¬.d$ ãØ¼ÍAª`ÖK\!¼ymR.F®3÷Ð­ª9H×¦J`hæý­1hëºV ¢(t­¥­"Ua5õ À­±´mËÒ«_ýêWÏw¶¶[[m½»{ÚÕõE_µÌUATsxCõ¼ ²ZfE«
+I@òÖ$f0Ö­1×PÊf\dõÿVLÒVÿG*$ ÀñÈZ»©4O_Öa.yDå×ËÒRâ®ëâb±à¦i¬O¦ÓÿúâåK¬66J=<ìæeùj b4æM1#ÕUÞ¬"  * 3P2DÍBc [UÔZ°êÿ DÀD  ß«9:8Ð UEETWÈVÊ¤º®¡m[!H1eÁ3u]òÎÐz¯VFÈÜAå  ñIDAT\^a£Ç¯¿úæ ÛÞzkë,sÊr+äuøõ%¹*hîñ¥Ì 9%p¥*Z»ú{yã3õ´P  @+<IB~,(#ÂÒÚ¸õÖ[`SJÒucÄ¢(B½Í:÷sDpÎÖkrª¯µÞÿ?_}ýõ»·öà N§/ýr9FUçT¬´çsõìqQ´xÒ  D`Wð8%@c@EÞHWÊaÏ9ôº#Ñê1D`U@ DDæk×xÿ½÷ÄÎf3)ËR9ÅC×usVÑùfAz½Fò¢ã; ­Vý~÷äùó_Çã¸ÍMY'm»i0FU²Î3QÔu«ÿ? ååE2R?
+ d-@ÍxDÈPZb&8åú¡"+`¸"mí=|h»»jëºÖ<>bIÎ¹I ÈõcBHyb³^51yZÃñøo={÷½®u{{ÓéôéVÛöY¤´½Ä¼
+Ý|PYEÄ7(OrxTuuU Ì4ç}ÎgHß{W8yec EÀXQUÚ½½ùõ÷ÞS°Vl¥ª*^¥Ä¬ÞjÖæ4ÆbQáz:CyhupzzúÙåbq8¾u«¼:??½~ýÒ"È"#¢UÑË¡ÿýKAsß¾¼ËÀZ ¨
+Qdåõº²YÖY¡GçºêÝw£½=Îf²ÆþFÏÞÎi¸ºß&¯¡qAòÊ²4EQØ¢(¬_]¥µ¶·µµuüâõë#êõ6äúu9÷
+ ÈL£®FD 5®1*ªÊ¹È$UeM D41ë®ÆWÐë!¢ê¿ÍÆ¨)¬ê¨1íÑhôËÛ®ªôìü¼¶ñIaÍ¤,Ë¿Ì5½\°òÔs`Y½÷8 |~|~¾ëÁáÅt:§ï¾û®LÉ:f"YYv­$nk.°òZ.n°ö|Rë~Ds¾sÆëôÈ·Á ©5óªúº|÷]·±·M|zv6³ÉDó
+y"¢}Q¼ú«:\­AFFï=zïÉ9gsèÃ¼þò/¾Â¢xX=~,/»Ú;=}Õ_,"%` WFV  1ÈÐuÀÕÆ­ÓbÞTw"H+6©Âè×wd£´ª+1ÅQØÝ½ß¸Ñ+æìâ",fn¢ÜâR!8çªÚXk) å%CÌdI²ÆOÎ9ÌÚ;ä§ôÞýû_¼:>þèßøjtýz<{fÚ¯¿~18=mª®ÛRÕãÀUeÏýß þzÍnV©°ÊoÄ§Ußx@D4óDJÆL»WîæÍÅöÁA_Tgggÿï'töüü\¬µlùPãW:}ÊÃ5GxÃ(³;cEa¢à¢(L6 ÙØØ|÷Ýw¿8½¸øÑ[·nÍím>ÝÙ	/^ÔO\øº[kûàkË ®cD	\¨PJª+Z¾æ$Êæ²*¤HAUp]¿ ¼ ©(^êÖÖWvgÆ»»¦éºKxõÙgEwøS]×!ßa¥cÑê¾Ì«íë;°   ß^Î9ã½7Î9É""Ý½{÷?<}ú´·±±±¿½¹ÉûwïòpoÏoo·ù"©],
+Lq>Gªk UUBX-_Ä¨"¢iE×AVüd%Ì")	0 rGõÕZ«ê?¦ïÐûúÁ¢íºW¾,EQ¨].¼^kíºNsì½1Fêºn}2æv·&Eo®<Í]×7OÆ!ïü|òÉ»7nÜÀþh¤ÕãÇQTÂt
+<¡NÁ 6XUfMM#£¤¶©kUfÐWäHtðDRbKÄ*ÒMbüì§7ë½wãÆx´±1wMsêÎÏÓ;wÐ>þ\sPUe©MÓpYf6QUUBÀõ)x1ßmF9ìIU2}Í"¸~ýú¬ëºW'''óóóÍÝÝÝb{<¦A¿O½^È94DHÆ»ysky¹TªkÅ4µ­r"ÌI!¨¦¤Ýló×¯¡ùî;M£È	qY·íÕ8??û¯)Åñx?ÍêÝ¸ñK"
+ °ÜÞÞß¹sþÂ5ý.    IEND®B`
\ No newline at end of file
diff -Naur WindowMaker-0.80.2/WindowMaker/plmenu.zh_TW.Big5 wm-xft2/WindowMaker/plmenu.zh_TW.Big5
--- WindowMaker-0.80.2/WindowMaker/plmenu.zh_TW.Big5	2002-01-08 16:44:43.000000000 +0300
+++ wm-xft2/WindowMaker/plmenu.zh_TW.Big5	2003-10-22 14:08:36.000000000 +0400
@@ -91,7 +91,7 @@
    ("¹Ï¤ù", OPEN_MENU, "-noext #wmdatadir#/Backgrounds $HOME/GNUstep/Library/WindowMaker/Backgrounds WITH wmsetbg -u -t")
    ),
   ("Àx¦s¥DÃD", SHEXEC, "getstyle -t $HOME/GNUstep/Library/WindowMaker/Themes/%a(¥DÃD¦WºÙ)"),
-  ("Àx¦s¹Ï¥Ü¶°", SHEXEC, "geticonset $HOME/GNUstep/Library/WindowMaker/IconSets/%a(¹Ï¥Ü¶°¦WºÙ)")
+  ("Àx¦s¹Ï¥Ü¶°", SHEXEC, "geticonset $HOME/GNUstep/Library/WindowMaker/IconSets/%a(¹Ï¥Ü¶°¦WºÙ)"),
   ("°¾¦n³]©w¤½¥Îµ{¦¡", EXEC, "/usr/local/GNUstep/Apps/WPrefs.app/WPrefs")
   ),
  ("Â÷¶}",
@@ -99,6 +99,6 @@
   ("±Ò°Ê BlackBox", RESTART, blackbox),
   ("±Ò°Ê kwm", RESTART, kwm),
   ("±Ò°Ê IceWM", RESTART, icewm),
-  ("Â÷¶}...", EXIT),
+  ("Â÷¶}...", EXIT)
  )
 )
diff -Naur WindowMaker-0.80.2/WINGs/array.c wm-xft2/WINGs/array.c
--- WindowMaker-0.80.2/WINGs/array.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/array.c	2003-10-22 14:08:34.000000000 +0400
@@ -274,7 +274,9 @@
 void
 WMSortArray(WMArray *array, WMCompareDataProc *comparer)
 {
-    qsort(array->items, array->itemCount, sizeof(void*), comparer);
+    if (array->itemCount > 1) { /* Don't sort empty or single element arrays */
+        qsort(array->items, array->itemCount, sizeof(void*), comparer);
+    }
 }
 
 
diff -Naur WindowMaker-0.80.2/WINGs/ChangeLog wm-xft2/WINGs/ChangeLog
--- WindowMaker-0.80.2/WINGs/ChangeLog	2002-04-05 13:24:26.000000000 +0400
+++ wm-xft2/WINGs/ChangeLog	2003-10-22 14:29:40.000000000 +0400
@@ -1,3 +1,72 @@
+Changes since wmaker 0.80.1:
+............................
+
+- added WMSetConnectionShutdownOnClose()
+- added an extra member to the ConnectionDelegate: canResumeSending
+  see NEWS for details.
+- WMDrawString() and WMDrawImageString() now take WMColor instead of GC as
+  arguments. WMDrawImageString() receives 2 colors (text & background).
+  This is to allow easy extension for Xft/Xrender and hide X low level details
+  Read NEWS for details since this will break backward compatibility.
+- Added alpha channel to WMColor. 2 new functions also:
+  WMCreateRGBAColor() and WMSetColorAlpha()
+- Miscelaneous code cleanups in wtext.c
+- Added Xft support in WINGs (for drawing antialiased fonts with transparency).
+- Added a new function: WMCreateAntialiasedFont() to create a font which will
+  be drawn antialiased using Xft (if available, else function returns NULL)
+- New options in WMGLOBAL: AntialiasedText, AntialiasedSystemFont and
+  AntialiasedBoldSystemFont. Check NEWS for details.
+- Fixed some improper calls to snprintf in wfont.c
+- Added double buffering when drawing a WMFrame title with an antialiased font
+  to avoid flickering.
+- Added double buffering when drawing WMList items to avoid flickering.
+  Double buffering for list also works for user drawn lists. Read NEWS for
+  details and incompatibilities introduced by this change.
+- Added WMIsAntialiasedFont(WMFont *font) to check if a font is antialiased.
+- Added WMGetColorAlpha(WMColor *color)
+- Better outline when drawing balloons.
+- Added WMCreateFontWithFlags()
+- You can now pass "SystemFont", "BoldSystemFont", "SystemFont-##" or
+  "BoldSystemFont-##", with ## being the font size to any font creating
+  function to create a font with the (bold) system font font specification.
+- Added WMCreateAntialiasedFontSet() (like WMCreateAntialiasedFont() but for
+  languages with multibyte text). Note however that these specific font
+  creating functions (as well as WMCreateNormalFont() and WMCreateFontSet())
+  are not meant to be called directly except in very special cases.
+  The more generic WMCreateFont() or WMCreateFontWithFlags() should be used.
+- Multibyte languages can now render antialiased text too (only tested on
+  russian since this is the only multibyte language I can test).
+- Added WMCopyFontWithChanges(). This is a more generic and powerful function
+  meant to replaces the obsoleted WMEmphasizeFont(), WMNormalizeFont(),
+  WMStrenghtenFont() and the other similar functions. To get the same effect
+  you pass some predefined structs to it: WFANormal, WFABold, WFAEmphasized,
+  etc which are declared in WINGs.h).
+- Fixed a bug with empty frame titles (Alexey Voinov <voins@voins.program.ru>)
+- Added WMGetWidgetBackgroundColor()
+- Code cleanup in wtext.c
+- Fixed a memory leak in wfontpanel.c
+- Added a check that only %d is used in a font specification in WMGLOBAL and at
+  most once for each font in a fontset (eliminates a possible security exploit)
+- Fixed WMGetTextDefaultColor() not to retain the returned color. It returns
+  only a reference to the internal color, which you shouldn't release
+- Added wstrndup()
+- Added WMGetFontName()
+- Added fontpanel callback
+- Added WMSetTableViewHasHorizontalScroller()
+- Fixed bug that could cause SIGSEGV by accessing beyond the end of text in
+  a WINGs textfield widget.
+- Fixed small memory leak in the font panel code.
+- Fixed call to qsort in WMSortArray.
+- Fixed a memleak in the file panel.
+- Double/triple-click selection in text widgets (Vitaly Ovtchinnikov
+  <ov@rbcmail.ru>)
+- fixed bug in tableview (clicked row callback got incorrect row) (Carlos Torres 
+  <vlaadbrain@operamail.com>)
+- Fixed bug in resizing a scrollview
+- Fixed bug with wrong text wrapping (Alexey Voinov <voins@voins.program.ru>)
+- Added wmkrect()
+
+
 Changes since wmaker 0.80.0:
 ............................
 
@@ -204,7 +273,8 @@
   as a result the shaded windows didn't go away when closed. The non-shaded
   windows were unmapped on close but not destroyed either so they only
   apparently went away, but continued to use memory).
-
+- Fixed a bug in the hashtable code which free'd the whole item instead of
+  just the item key in WMResetHashTable() (possible source of SIGSEGVs)
 
 
 changes since wmaker 0.62.0:
diff -Naur WindowMaker-0.80.2/WINGs/configuration.c wm-xft2/WINGs/configuration.c
--- WindowMaker-0.80.2/WINGs/configuration.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/configuration.c	2003-10-22 14:29:40.000000000 +0400
@@ -1,6 +1,7 @@
 
 
 #include "WINGsP.h"
+#include "wconfig.h"
 
 #include <X11/Xlocale.h>
 
@@ -13,6 +14,10 @@
 
 #define BOLD_SYSTEM_FONT "-*-helvetica-bold-r-normal-*-%d-*-*-*-*-*-*-*,-*-*-bold-r-*-*-%d-*-*-*-*-*-*-*"
 
+#define XFTSYSTEM_FONT "-*-arial-medium-r-normal-*-%d-*-*-*-*-*-*-*"
+
+#define XFTBOLD_SYSTEM_FONT "-*-arial-bold-r-normal-*-%d-*-*-*-*-*-*-*"
+
 #define FLOPPY_PATH "/floppy"
 
 
@@ -40,6 +45,51 @@
 }
 
 
+static Bool
+missingOrInvalidXLFD(char *xlfd)
+{
+    char *ptr = xlfd;
+    Bool broken = False;
+    int count = 0;
+
+    if (!xlfd)
+        return True;
+
+    while (*ptr) {
+        if (*ptr=='%') {
+            ptr++;
+            if ((*ptr=='d' || *ptr=='i') && count==0) {
+                count++;
+            } else {
+                broken = True;
+                break;
+            }
+        } else if (*ptr==',') {
+            count = 0;
+        }
+        ptr++;
+    }
+
+    if (broken) {
+        if (xlfd == WINGsConfiguration.systemFont) {
+            ptr = "system font";
+        } else if (xlfd == WINGsConfiguration.boldSystemFont) {
+            ptr = "bold system font";
+        } else if (xlfd == WINGsConfiguration.antialiasedSystemFont) {
+            ptr = "antialiased system font";
+        } else if (xlfd == WINGsConfiguration.antialiasedBoldSystemFont) {
+            ptr = "antialiased bold system font";
+        } else {
+            ptr = "Unknown System Font";
+        }
+        wwarning(_("Invalid %s specification: '%s' (only %%d is allowed and "
+                   "at most once for each font in a fontset)."), ptr, xlfd);
+    }
+
+    return broken;
+}
+
+
 void
 W_ReadConfigurations(void)
 {
@@ -60,6 +110,19 @@
 	WINGsConfiguration.boldSystemFont = 
 	    WMGetUDStringForKey(defaults, "BoldSystemFont");
 
+	WINGsConfiguration.antialiasedSystemFont =
+	    WMGetUDStringForKey(defaults, "AntialiasedSystemFont");
+
+	WINGsConfiguration.antialiasedBoldSystemFont =
+	    WMGetUDStringForKey(defaults, "AntialiasedBoldSystemFont");
+
+#ifdef XFT
+	WINGsConfiguration.antialiasedText =
+            WMGetUDBoolForKey(defaults, "AntialiasedText");
+#else
+        WINGsConfiguration.antialiasedText = False;
+#endif
+
 	WINGsConfiguration.useMultiByte = False;
 	str = WMGetUDStringForKey(defaults, "MultiByteText");
 	if (str) {
@@ -74,6 +137,7 @@
 		if (locale != NULL 
 		    && (strncmp(locale, "ja", 2) == 0
 			|| strncmp(locale, "zh", 2) == 0
+			|| strncmp(locale, "ru", 2) == 0
 			|| strncmp(locale, "ko", 2) == 0)) {
 
 		    WINGsConfiguration.useMultiByte = True;
@@ -114,13 +178,18 @@
             WMGetUDIntegerForKey(defaults, "DefaultFontSize");
     }
 
-
-    if (!WINGsConfiguration.systemFont) {
-	WINGsConfiguration.systemFont = SYSTEM_FONT;
+    if (missingOrInvalidXLFD(WINGsConfiguration.systemFont)) {
+        WINGsConfiguration.systemFont = SYSTEM_FONT;
     }
-    if (!WINGsConfiguration.boldSystemFont) {
+    if (missingOrInvalidXLFD(WINGsConfiguration.boldSystemFont)) {
 	WINGsConfiguration.boldSystemFont = BOLD_SYSTEM_FONT;
     }
+    if (missingOrInvalidXLFD(WINGsConfiguration.antialiasedSystemFont)) {
+	WINGsConfiguration.antialiasedSystemFont = XFTSYSTEM_FONT;
+    }
+    if (missingOrInvalidXLFD(WINGsConfiguration.antialiasedBoldSystemFont)) {
+	WINGsConfiguration.antialiasedBoldSystemFont = XFTBOLD_SYSTEM_FONT;
+    }
     if (!WINGsConfiguration.floppyPath) {
 	WINGsConfiguration.floppyPath = FLOPPY_PATH;
     }
diff -Naur WindowMaker-0.80.2/WINGs/connection.c wm-xft2/WINGs/connection.c
--- WindowMaker-0.80.2/WINGs/connection.c	2002-03-29 14:14:17.000000000 +0300
+++ wm-xft2/WINGs/connection.c	2003-10-22 14:08:34.000000000 +0400
@@ -1,8 +1,8 @@
 /*
  *  WINGs WMConnection function library
- * 
- *  Copyright (c) 1999-2002 Dan Pascu
- * 
+ *
+ *  Copyright (c) 1999-2003 Dan Pascu
+ *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
  *  the Free Software Foundation; either version 2 of the License, or
@@ -121,6 +121,7 @@
     char *protocol;
 
     Bool closeOnRelease;
+    Bool shutdownOnClose;
     Bool wasNonBlocking;
     Bool isNonBlocking;
 
@@ -192,9 +193,10 @@
         return;
 
     if ((mask & WIWriteMask)) {
+        int result;
+
         if (cPtr->state == WCInProgress) {
             Bool failed;
-            int	result;
             int len = sizeof(result);
 
             WCErrorCode = 0;
@@ -228,7 +230,10 @@
             if (failed)
                 return;
         } else if (cPtr->state == WCConnected) {
-            WMFlushConnection(cPtr);
+            result = WMFlushConnection(cPtr);
+            if (result>0 && cPtr->delegate && cPtr->delegate->canResumeSending) {
+                (*cPtr->delegate->canResumeSending)(cPtr->delegate, cPtr);
+            }
         }
     }
 
@@ -376,6 +381,7 @@
     cPtr->sendTimeout.timeout = DefaultTimeout;
     cPtr->sendTimeout.handler = NULL;
     cPtr->closeOnRelease = closeOnRelease;
+    cPtr->shutdownOnClose = 1;
     cPtr->outputQueue =
         WMCreateArrayWithDestructor(16, (WMFreeDataProc*)WMReleaseData);
     cPtr->state = WCNotConnected;
@@ -412,7 +418,7 @@
 
     /* some way to find out if it is connected, and binded. can't find
        if it listens though!!!
-    */  
+    */
 
     size = sizeof(clientname);
     n = getpeername(sock, (struct sockaddr*) &clientname, &size);
@@ -627,7 +633,9 @@
 WMDestroyConnection(WMConnection *cPtr)
 {
     if (cPtr->closeOnRelease && cPtr->sock>=0) {
-        shutdown(cPtr->sock, SHUT_RDWR);
+        if (cPtr->shutdownOnClose) {
+            shutdown(cPtr->sock, SHUT_RDWR);
+        }
         close(cPtr->sock);
     }
 
@@ -648,7 +656,9 @@
 WMCloseConnection(WMConnection *cPtr)
 {
     if (cPtr->sock>=0) {
-        shutdown(cPtr->sock, SHUT_RDWR);
+        if (cPtr->shutdownOnClose) {
+            shutdown(cPtr->sock, SHUT_RDWR);
+        }
         close(cPtr->sock);
         cPtr->sock = -1;
     }
@@ -743,10 +753,18 @@
 }
 
 
+/*
+ * Return value:
+ * -1 - not connected or connection died while sending
+ *  0 - couldn't send the data (or part of it). data is saved in a queue
+ *      and will be sent when possible. after it is sent the canResumeSending
+ *      callback will be called.
+ *  1 - data was succesfully sent
+ */
 int
 WMSendConnectionData(WMConnection *cPtr, WMData *data)
 {
-    int bytes, pos, len, totalTransfer;
+    int bytes, pos, len;
     TimeoutData *tPtr = &cPtr->sendTimeout;
     const unsigned char *dataBytes;
 
@@ -767,8 +785,6 @@
             return 0;
     }
 
-    totalTransfer = 0;
-
     while (WMGetArrayItemCount(cPtr->outputQueue) > 0) {
         data = WMGetFromArray(cPtr->outputQueue, 0);
         dataBytes = (const unsigned char *)WMDataBytes(data);
@@ -793,7 +809,7 @@
                             WMAddInputHandler(cPtr->sock, WIWriteMask,
                                               inputHandler, cPtr);
                     }
-                    return totalTransfer;
+                    return 0;
                 default:
                     WCErrorCode = errno;
                     cPtr->state = WCDied;
@@ -804,7 +820,6 @@
                 }
             }
             pos += bytes;
-            totalTransfer += bytes;
         }
         WMDeleteFromArray(cPtr->outputQueue, 0);
         cPtr->bufPos = 0;
@@ -812,13 +827,18 @@
             WMDeleteTimerHandler(tPtr->handler);
             tPtr->handler = NULL;
         }
-        if (cPtr->handler.write) {
+        /*if (cPtr->handler.write) {
             WMDeleteInputHandler(cPtr->handler.write);
             cPtr->handler.write = NULL;
-        }
+        }*/
     }
 
-    return totalTransfer;
+    if (cPtr->handler.write) {
+        WMDeleteInputHandler(cPtr->handler.write);
+        cPtr->handler.write = NULL;
+    }
+
+    return 1;
 }
 
 
@@ -952,6 +972,13 @@
 }
 
 
+void
+WMSetConnectionShutdownOnClose(WMConnection *cPtr, Bool flag)
+{
+    cPtr->shutdownOnClose = ((flag==0) ? 0 : 1);
+}
+
+
 void*
 WMGetConnectionClientData(WMConnection *cPtr)
 {
diff -Naur WindowMaker-0.80.2/WINGs/data.c wm-xft2/WINGs/data.c
--- WindowMaker-0.80.2/WINGs/data.c	2002-01-08 16:44:33.000000000 +0300
+++ wm-xft2/WINGs/data.c	2003-10-22 14:08:34.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  WINGs WMData function library
  * 
- *  Copyright (c) 1999-2002 Dan Pascu
+ *  Copyright (c) 1999-2003 Dan Pascu
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WINGs/error.c wm-xft2/WINGs/error.c
--- WindowMaker-0.80.2/WINGs/error.c	2002-01-08 16:44:33.000000000 +0300
+++ wm-xft2/WINGs/error.c	2003-10-22 14:08:34.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker miscelaneous function library
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WINGs/Examples/connect.c wm-xft2/WINGs/Examples/connect.c
--- WindowMaker-0.80.2/WINGs/Examples/connect.c	2002-01-08 16:44:33.000000000 +0300
+++ wm-xft2/WINGs/Examples/connect.c	2003-10-22 14:08:34.000000000 +0400
@@ -1,12 +1,13 @@
 /*
  *  WINGs connect.c: example how to create a network client using WMConnection
  * 
- *  Copyright (c) 1999-2002 Dan Pascu
+ *  Copyright (c) 1999-2003 Dan Pascu
  * 
  */
 
 
 #include <stdio.h>
+#include <stdlib.h>
 #include <unistd.h>
 #include <string.h>
 
@@ -28,6 +29,7 @@
 
 static ConnectionDelegate socketDelegate = {
     NULL,              /* data */
+    NULL,              /* canResumeSending */
     NULL,              /* didCatchException */
     connectionDidDie,  /* didDie */
     didInitialize,     /* didInitialize */
diff -Naur WindowMaker-0.80.2/WINGs/Examples/fontl.c wm-xft2/WINGs/Examples/fontl.c
--- WindowMaker-0.80.2/WINGs/Examples/fontl.c	2002-01-08 16:44:33.000000000 +0300
+++ wm-xft2/WINGs/Examples/fontl.c	2003-10-22 14:08:34.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  * WINGs demo: font lister
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WINGs/Examples/Makefile.am wm-xft2/WINGs/Examples/Makefile.am
--- WindowMaker-0.80.2/WINGs/Examples/Makefile.am	2001-10-10 04:14:03.000000000 +0400
+++ wm-xft2/WINGs/Examples/Makefile.am	2003-10-22 14:08:34.000000000 +0400
@@ -7,7 +7,7 @@
 
 
 LDADD= $(top_builddir)/WINGs/libWINGs.a $(top_builddir)/wrlib/libwraster.la \
-	@INTLIBS@
+	@XFTLIBS@ @INTLIBS@
 
 
 fontl_DEPENDENCIES = $(top_builddir)/WINGs/libWINGs.a
diff -Naur WindowMaker-0.80.2/WINGs/Examples/server.c wm-xft2/WINGs/Examples/server.c
--- WindowMaker-0.80.2/WINGs/Examples/server.c	2002-01-08 16:44:33.000000000 +0300
+++ wm-xft2/WINGs/Examples/server.c	2003-10-22 14:08:34.000000000 +0400
@@ -1,12 +1,13 @@
 /*
  *  WINGs server.c: example how to create a network server using WMConnection
  *
- *  Copyright (c) 2001-2002 Dan Pascu
+ *  Copyright (c) 2001-2003 Dan Pascu
  *
  */
 
 
 #include <stdio.h>
+#include <stdlib.h>
 #include <unistd.h>
 #include <string.h>
 
@@ -42,6 +43,7 @@
 
 static ConnectionDelegate socketDelegate = {
     NULL,                 /* client data */
+    NULL,                 /* canResumeSending */
     NULL,                 /* didCatchException */
     connectionDidDie,     /* didDie */
     NULL,                 /* didInitialize */
diff -Naur WindowMaker-0.80.2/WINGs/Extras/Makefile.am wm-xft2/WINGs/Extras/Makefile.am
--- WindowMaker-0.80.2/WINGs/Extras/Makefile.am	2001-10-10 04:14:03.000000000 +0400
+++ wm-xft2/WINGs/Extras/Makefile.am	2003-10-22 14:08:34.000000000 +0400
@@ -27,7 +27,7 @@
 	-DRESOURCE_PATH=\"$(datadir)/WINGs\" @HEADER_SEARCH_PATH@ -DDEBUG
 
 LDADD= $(top_builddir)/WINGs/libWINGs.a $(top_builddir)/wrlib/libwraster.la \
-	@INTLIBS@
+	@XFTLIBS@ @INTLIBS@
 
 test_LDADD = wtableview.o wtabledelegates.o $(LDADD)
 
diff -Naur WindowMaker-0.80.2/WINGs/Extras/test.c wm-xft2/WINGs/Extras/test.c
--- WindowMaker-0.80.2/WINGs/Extras/test.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/Extras/test.c	2003-10-22 14:08:34.000000000 +0400
@@ -94,6 +94,7 @@
     WMMapWidget(win);
     
     table = WMCreateTableView(win);
+    WMSetTableViewHasHorizontalScroller(table, 0);
     WMSetViewExpandsToParent(WMWidgetView(table), 10, 10, 10, 10);
     WMSetTableViewBackgroundColor(table, WMWhiteColor(scr));
     /*WMSetTableViewGridColor(table, WMGrayColor(scr));*/
diff -Naur WindowMaker-0.80.2/WINGs/Extras/wtabledelegates.c wm-xft2/WINGs/Extras/wtabledelegates.c
--- WindowMaker-0.80.2/WINGs/Extras/wtabledelegates.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/Extras/wtabledelegates.c	2003-10-22 14:08:34.000000000 +0400
@@ -11,7 +11,7 @@
     WMFont *font;
     GC gc;
     GC selGC;
-    GC textGC;
+    WMColor *textColor;
 } StringData;
 
 
@@ -28,7 +28,7 @@
     WMFont *font;
     GC gc;
     GC selGC;
-    GC textGC;
+    WMColor *textColor;
 } StringEditorData;
 
 
@@ -40,7 +40,7 @@
     int count;    
     GC gc;
     GC selGC;
-    GC textGC;
+    WMColor *textColor;
 } EnumSelectorData;
 
 
@@ -57,8 +57,8 @@
 
 
 
-static void stringDraw(WMScreen *scr, Drawable d, GC gc,
-		       GC sgc, GC stgc, WMFont *font, void *data,
+static void stringDraw(WMScreen *scr, Drawable d, GC gc, GC sgc,
+                       WMColor *textColor, WMFont *font, void *data,
 		       WMRect rect, Bool selected)
 {
     int x, y;
@@ -76,13 +76,13 @@
     
     if (!selected) {
 	XFillRectangles(dpy, d, gc, rects, 1);
-	
-	WMDrawString(scr, d, stgc, font, x, y, 
+
+	WMDrawString(scr, d, textColor, font, x, y,
 		     data, strlen(data));	
     } else {
 	XFillRectangles(dpy, d, sgc, rects, 1);
-    
-	WMDrawString(scr, d, stgc, font, x, y, 
+
+	WMDrawString(scr, d, textColor, font, x, y,
 		     data, strlen(data));
     }
     
@@ -142,7 +142,7 @@
     WMTableView *table = WMGetTableColumnTableView(column);
     
     stringDraw(WMWidgetScreen(table), d,
-	       strdata->gc, strdata->selGC, strdata->textGC, strdata->font,
+	       strdata->gc, strdata->selGC, strdata->textColor, strdata->font,
 	       WMTableViewDataForCell(table, column, row),
 	       WMTableViewRectForCell(table, column, row),
 	       False);
@@ -156,7 +156,7 @@
     WMTableView *table = WMGetTableColumnTableView(column);
     
     stringDraw(WMWidgetScreen(table), d,
-	       strdata->gc, strdata->selGC, strdata->textGC, strdata->font,
+	       strdata->gc, strdata->selGC, strdata->textColor, strdata->font,
 	       WMTableViewDataForCell(table, column, row),
 	       WMTableViewRectForCell(table, column, row),
 	       True);
@@ -203,9 +203,9 @@
 		   0, 0);
     data->table = parent;
     data->font = WMSystemFontOfSize(scr, 12);
-    data->selGC = WMColorGC(WMCreateNamedColor(scr, SelectionColor, False));
-    data->textGC = WMColorGC(WMBlackColor(scr));
     data->gc = WMColorGC(WMWhiteColor(scr));
+    data->selGC = WMColorGC(WMCreateNamedColor(scr, SelectionColor, False));
+    data->textColor = WMBlackColor(scr);
     
     delegate->data = data;
     delegate->drawCell = SECellPainter;
@@ -229,7 +229,7 @@
     int i = (int)WMTableViewDataForCell(table, column, row);
     
     stringDraw(WMWidgetScreen(table), d,
-	       strdata->gc, strdata->selGC, strdata->textGC, strdata->font,
+	       strdata->gc, strdata->selGC, strdata->textColor, strdata->font,
 	       strdata->options[i],
 	       WMTableViewRectForCell(table, column, row), 
 	       False);
@@ -244,7 +244,7 @@
     int i = (int)WMTableViewDataForCell(table, column, row);
     
     stringDraw(WMWidgetScreen(table), d,
-	       strdata->gc, strdata->selGC, strdata->textGC, strdata->font,
+	       strdata->gc, strdata->selGC, strdata->textColor, strdata->font,
 	       strdata->options[i], 
 	       WMTableViewRectForCell(table, column, row), 
 	       True);
@@ -294,9 +294,9 @@
 		   0, 0);
     data->table = parent;
     data->font = WMSystemFontOfSize(scr, 12);
-    data->selGC = WMColorGC(WMCreateNamedColor(scr, SelectionColor, False));
-    data->textGC = WMColorGC(WMBlackColor(scr));
     data->gc = WMColorGC(WMWhiteColor(scr));
+    data->selGC = WMColorGC(WMCreateNamedColor(scr, SelectionColor, False));
+    data->textColor = WMBlackColor(scr);
     data->count = 0;
     data->options = NULL;
     
@@ -444,7 +444,7 @@
     WMTableView *table = WMGetTableColumnTableView(column);
     
     stringDraw(WMWidgetScreen(table), d,
-	       strdata->gc, strdata->selGC, strdata->textGC, strdata->font,
+	       strdata->gc, strdata->selGC, strdata->textColor, strdata->font,
 	       WMTableViewDataForCell(table, column, row),
 	       WMTableViewRectForCell(table, column, row),
 	       False);
@@ -458,7 +458,7 @@
     WMTableView *table = WMGetTableColumnTableView(column);
     
     stringDraw(WMWidgetScreen(table), d,
-	       strdata->gc, strdata->selGC, strdata->textGC, strdata->font,
+	       strdata->gc, strdata->selGC, strdata->textColor, strdata->font,
 	       WMTableViewDataForCell(table, column, row),
 	       WMTableViewRectForCell(table, column, row),
 	       True);
@@ -473,9 +473,9 @@
     
     data->table = parent;
     data->font = WMSystemFontOfSize(scr, 12);
-    data->selGC = WMColorGC(WMCreateNamedColor(scr, SelectionColor, False));
-    data->textGC = WMColorGC(WMBlackColor(scr));
     data->gc = WMColorGC(WMWhiteColor(scr));
+    data->selGC = WMColorGC(WMCreateNamedColor(scr, SelectionColor, False));
+    data->textColor = WMBlackColor(scr);
     
     delegate->data = data;
     delegate->drawCell = SCellPainter;
@@ -525,8 +525,8 @@
     StringData *data = wmalloc(sizeof(StringData));
     
     data->table = table;
-    data->selGC = WMColorGC(WMCreateNamedColor(scr, SelectionColor, False));
     data->gc = WMColorGC(WMWhiteColor(scr));
+    data->selGC = WMColorGC(WMCreateNamedColor(scr, SelectionColor, False));
     
     delegate->data = data;
     delegate->drawCell = PCellPainter;
@@ -561,22 +561,21 @@
     
     if (pix) {
 	int owidth = rect.size.width;
-	
+
 	size = WMGetPixmapSize(pix);
 	rect.size.width = size.width;
-	
+
 	pixmapDraw(WMWidgetScreen(table),
 		   WMViewXID(WMGetTableViewDocumentView(table)),
 		   strdata->gc, strdata->selGC, pix, rect, 
 		   selected);
-    
+
 	rect.pos.x += size.width-1;
 	rect.size.width = owidth-size.width+1;
     }
     
-    stringDraw(WMWidgetScreen(table), d,
-	       strdata->gc, strdata->selGC, strdata->textGC, strdata->font,
-	       str, rect, selected);    
+    stringDraw(WMWidgetScreen(table), d, strdata->gc, strdata->selGC,
+               strdata->textColor, strdata->font, str, rect, selected);
 }
 
 
@@ -602,9 +601,9 @@
     
     data->table = parent;
     data->font = WMSystemFontOfSize(scr, 12);
-    data->selGC = WMColorGC(WMCreateNamedColor(scr, SelectionColor, False));
-    data->textGC = WMColorGC(WMBlackColor(scr));
     data->gc = WMColorGC(WMWhiteColor(scr));
+    data->selGC = WMColorGC(WMCreateNamedColor(scr, SelectionColor, False));
+    data->textColor = WMBlackColor(scr);
     
     delegate->data = data;
     delegate->drawCell = PSCellPainter;
@@ -614,3 +613,5 @@
 
     return delegate;
 }
+
+
diff -Naur WindowMaker-0.80.2/WINGs/Extras/wtableview.c wm-xft2/WINGs/Extras/wtableview.c
--- WindowMaker-0.80.2/WINGs/Extras/wtableview.c	2002-03-29 14:14:17.000000000 +0300
+++ wm-xft2/WINGs/Extras/wtableview.c	2003-10-22 14:08:34.000000000 +0400
@@ -26,7 +26,6 @@
 };
 
 
-
 static void handleResize(W_ViewDelegate *self, WMView *view);
 
 static void rearrangeHeader(WMTableView *table);
@@ -168,6 +167,9 @@
     unsigned canSelectRow:1;
     unsigned canSelectMultiRows:1;
     unsigned canDeselectRow:1;
+
+    unsigned int hasVScroller:1;
+    unsigned int hasHScroller:1;
 };
 
 static W_Class tableClass = 0;
@@ -183,6 +185,7 @@
 
 
 
+static void reorganizeInterior(WMTableView *table);
 
 
 static void handleEvents(XEvent *event, void *data);
@@ -216,11 +219,21 @@
     WMSize size = getTotalSize(table);
     WMRect rect;
     
-    rect.size.height = size.height * WMGetScrollerKnobProportion(table->vscroll);
-    rect.size.width = size.width * WMGetScrollerKnobProportion(table->hscroll);
-
-    rect.pos.x = (size.width - rect.size.width) * WMGetScrollerValue(table->hscroll);
-    rect.pos.y = (size.height - rect.size.height) * WMGetScrollerValue(table->vscroll);
+    if (table->vscroll) {
+        rect.size.height = size.height * WMGetScrollerKnobProportion(table->vscroll);
+        rect.pos.y = (size.height - rect.size.height) * WMGetScrollerValue(table->vscroll);
+    } else {
+        rect.size.height = size.height;
+        rect.pos.y = 0;
+    }
+    
+    if (table->hscroll) {
+        rect.size.width = size.width * WMGetScrollerKnobProportion(table->hscroll);
+        rect.pos.x = (size.width - rect.size.width) * WMGetScrollerValue(table->hscroll);
+    } else {
+        rect.size.width = size.width;
+        rect.pos.x = 0;
+    }
 
     return rect;
 }
@@ -232,28 +245,30 @@
     int i;
     float value, prop;
     
-    if (size.width > W_VIEW_WIDTH(table->tableView)) {
-	prop = (float)W_VIEW_WIDTH(table->tableView) / (float)size.width;
-	value = (float)x / (float)(size.width - W_VIEW_WIDTH(table->tableView));
-    } else {
-	prop = 1.0;
-	value = 0.0;
-    }
-    WMSetScrollerParameters(table->hscroll, value, prop);
+    if (table->hscroll) {
+        if (size.width > W_VIEW_WIDTH(table->tableView)) {
+            prop = (float)W_VIEW_WIDTH(table->tableView) / (float)size.width;
+            value = (float)x / (float)(size.width - W_VIEW_WIDTH(table->tableView));
+        } else {
+            prop = 1.0;
+            value = 0.0;
+        }
+        WMSetScrollerParameters(table->hscroll, value, prop);
+    }
+
+    if (table->vscroll) {
+        if (size.height > W_VIEW_HEIGHT(table->tableView)) {
+            prop = (float)W_VIEW_HEIGHT(table->tableView) / (float)size.height;
+            value = (float)y / (float)(size.height - W_VIEW_HEIGHT(table->tableView));
+        } else {
+            prop = 1.0;
+            value = 0.0;
+        }
 
-    
-    if (size.height > W_VIEW_HEIGHT(table->tableView)) {
-	prop = (float)W_VIEW_HEIGHT(table->tableView) / (float)size.height;
-	value = (float)y / (float)(size.height - W_VIEW_HEIGHT(table->tableView));
-    } else {
-	prop = 1.0;
-	value = 0.0;
+        WMSetScrollerParameters(table->vscroll, value, prop);
     }
 
-    WMSetScrollerParameters(table->vscroll, value, prop);
-    
-    
-    
+
     if (table->editingRow >= 0) {
 	for (i = 0; i < WMGetArrayItemCount(table->columns); i++) {
 	    WMTableColumn *column;
@@ -277,34 +292,37 @@
     float prop, value;
     float oprop, ovalue;
 
-    if (size.width <= vsize.width) {
-	value = 0.0;
-	prop = 1.0;
-    } else {
-	oprop = WMGetScrollerKnobProportion(table->hscroll);
-	if (oprop == 0.0)
-	    oprop = 1.0;
-	ovalue = WMGetScrollerValue(table->hscroll);
-
-	prop = (float)vsize.width/(float)size.width;
-	value = prop*ovalue / oprop;
-    }
-    WMSetScrollerParameters(table->hscroll, value, prop);
-
-    if (size.height <= vsize.height) {
-	value = 0.0;
-	prop = 1.0;
-    } else {
-	oprop = WMGetScrollerKnobProportion(table->vscroll);
-	oprop = WMGetScrollerKnobProportion(table->hscroll);
-	if (oprop == 0.0)
-	    oprop = 1.0;	
-	ovalue = WMGetScrollerValue(table->vscroll);
-
-	prop = (float)vsize.height/(float)size.height;	
-	value = prop*ovalue / oprop;	
+    if (table->hscroll) {
+        if (size.width <= vsize.width) {
+            value = 0.0;
+            prop = 1.0;
+        } else {
+            oprop = WMGetScrollerKnobProportion(table->hscroll);
+            if (oprop == 0.0)
+                oprop = 1.0;
+            ovalue = WMGetScrollerValue(table->hscroll);
+            
+            prop = (float)vsize.width/(float)size.width;
+            value = prop*ovalue / oprop;
+        }
+        WMSetScrollerParameters(table->hscroll, value, prop);
+    }
+
+    if (table->vscroll) {
+        if (size.height <= vsize.height) {
+            value = 0.0;
+            prop = 1.0;
+        } else {
+            oprop = WMGetScrollerKnobProportion(table->vscroll);
+            if (oprop == 0.0)
+                oprop = 1.0;	
+            ovalue = WMGetScrollerValue(table->vscroll);
+            
+            prop = (float)vsize.height/(float)size.height;	
+            value = prop*ovalue / oprop;	
+        }
+        WMSetScrollerParameters(table->vscroll, value, prop);
     }
-    WMSetScrollerParameters(table->vscroll, value, prop);
 }
 
 
@@ -499,13 +517,16 @@
     WMMoveWidget(table->hscroll, 1, 2+table->headerHeight);
     WMMapWidget(table->hscroll);
 
+    table->hasHScroller = 1;
+
     table->vscroll = WMCreateScroller(table);
     WMSetScrollerArrowsPosition(table->vscroll, WSAMaxEnd);
     WMSetScrollerAction(table->vscroll, doScroll, table);
     WMMoveWidget(table->vscroll, 1, 2+table->headerHeight);
     WMMapWidget(table->vscroll);
-    
-    
+
+    table->hasVScroller = 1;
+
     table->header = WMCreateFrame(table);
     WMMoveWidget(table->header, 22, 2);
     WMMapWidget(table->header);
@@ -733,6 +754,76 @@
 }
 
 
+
+void WMSetTableViewHasHorizontalScroller(WMTableView *tPtr, Bool flag)
+{
+    if (flag) {
+	if (tPtr->hasHScroller)
+	    return;
+	tPtr->hasHScroller = 1;
+	
+	tPtr->hscroll = WMCreateScroller(tPtr);
+	WMSetScrollerAction(tPtr->hscroll, doScroll, tPtr);
+	WMSetScrollerArrowsPosition(tPtr->hscroll, WSAMaxEnd);
+	/* make it a horiz. scroller */
+	WMResizeWidget(tPtr->hscroll, 1, 2);
+
+	if (W_VIEW_REALIZED(tPtr->view)) {
+	    WMRealizeWidget(tPtr->hscroll);
+	}
+
+	reorganizeInterior(tPtr);
+
+	WMMapWidget(tPtr->hscroll);
+    } else {
+	if (!tPtr->hasHScroller)
+	    return;
+	tPtr->hasHScroller = 0;
+	
+	WMUnmapWidget(tPtr->hscroll);
+	WMDestroyWidget(tPtr->hscroll);
+	tPtr->hscroll = NULL;
+
+	reorganizeInterior(tPtr);
+    }
+}
+
+#if 0
+/* not supported by now */
+void WMSetTableViewHasVerticalScroller(WMTableView *tPtr, Bool flag)
+{
+    if (flag) {
+	if (tPtr->hasVScroller)
+	    return;
+	tPtr->hasVScroller = 1;
+	
+	tPtr->vscroll = WMCreateScroller(tPtr);
+	WMSetScrollerAction(tPtr->vscroll, doScroll, tPtr);
+	WMSetScrollerArrowsPosition(tPtr->vscroll, WSAMaxEnd);
+	/* make it a vert. scroller */
+	WMResizeWidget(tPtr->vscroll, 1, 2);
+
+	if (W_VIEW_REALIZED(tPtr->view)) {
+	    WMRealizeWidget(tPtr->vscroll);
+	}
+
+	reorganizeInterior(tPtr);
+	
+	WMMapWidget(tPtr->vscroll);
+    } else {
+	if (!tPtr->hasVScroller)
+	    return;
+	tPtr->hasVScroller = 0;
+	
+	WMUnmapWidget(tPtr->vscroll);
+	WMDestroyWidget(tPtr->vscroll);
+	tPtr->vscroll = NULL;
+
+	reorganizeInterior(tPtr);
+    }
+}
+#endif
+
 void WMSetTableViewBackgroundColor(WMTableView *table, WMColor *color)
 {
     W_SetViewBackgroundColor(table->tableView, color);
@@ -846,27 +937,28 @@
 static WMRange columnsInRect(WMTableView *table, WMRect rect)
 {
     WMTableColumn *column;
-    int width;
-    int i , j;
+    int pos;
+    int i, found;
     int totalColumns = WMGetArrayItemCount(table->columns);
     WMRange range;
     
-    j = 0;
-    width = 0;
+    pos = 0;
+    found = 0;
     for (i = 0; i < totalColumns; i++) {
 	column = WMGetFromArray(table->columns, i);
-	if (j == 0) {
-	    if (width <= rect.pos.x && width + column->width > rect.pos.x) {
-		range.position = i;
-		j = 1;
+	if (!found) {
+	    if (rect.pos.x >= pos && rect.pos.x < pos + column->width) {
+                range.position = i;
+                range.count = 1;
+                found = 1;
 	    }
 	} else {
+            if (pos > rect.pos.x + rect.size.width) {
+                break;
+            }
 	    range.count++;
-	    if (width > rect.pos.x + rect.size.width) {
-		break;
-	    }
 	}
-	width += column->width;
+	pos += column->width;
     }
     range.count = WMAX(1, WMIN(range.count, totalColumns - range.position));
     return range;
@@ -1066,12 +1158,11 @@
     WMEmptyArray(table->selectedRows);
     
     if (table->clickedRow >= 0) {
-	table->clickedRow = -1;
-
 	if (table->action)
 	    (*table->action)(table, table->clientData);
 	WMPostNotificationName(WMTableViewSelectionDidChangeNotification,
 			       table, NULL);
+	table->clickedRow = -1;
     }
 
     if (table->delegate && table->delegate->numberOfRows) {
@@ -1160,11 +1251,23 @@
 
 static void handleResize(W_ViewDelegate *self, WMView *view)
 {
+    reorganizeInterior(view->self);
+}
+
+
+static void reorganizeInterior(WMTableView *table)
+{
     int width;
     int height;
-    WMTableView *table = view->self;
     WMSize size = getTotalSize(table);
+    WMView *view = table->view;
     int vw, vh;
+    int hsThickness, vsThickness;
+
+    if (table->vscroll)
+        vsThickness = WMWidgetWidth(table->vscroll);
+    if (table->hscroll)
+        hsThickness = WMWidgetHeight(table->hscroll);
 
     width = W_VIEW_WIDTH(view) - 2;
     height = W_VIEW_HEIGHT(view) - 3;
@@ -1176,25 +1279,28 @@
 
     WMMoveWidget(table->vscroll, 1, table->headerHeight + 1);
     WMResizeWidget(table->vscroll, 20, height + 1);
-    
-    WMMoveWidget(table->hscroll, 20, W_VIEW_HEIGHT(view) - 20 - 1);
-    WMResizeWidget(table->hscroll, width-20+1, 20);
-    
+
+    if (table->hscroll) {
+        WMMoveWidget(table->hscroll, vsThickness, W_VIEW_HEIGHT(view) - hsThickness - 1);
+        WMResizeWidget(table->hscroll, width-(vsThickness+1), hsThickness);
+    }
+
     if (table->header)
-	WMResizeWidget(table->header, width - 21, table->headerHeight);
+	WMResizeWidget(table->header, width-(vsThickness+1), table->headerHeight);
     
     if (table->viewBuffer) {
 	WMReleasePixmap(table->viewBuffer);
 	table->viewBuffer = NULL;
     }
 
-    width -= 20;
-    height -= 20;
+    width -= vsThickness;
+    height -= hsThickness;
+
 
     vw = WMIN(size.width, width);
     vh = WMIN(size.height, height);
 
-    W_MoveView(table->tableView, 21, 1+table->headerHeight+1);
+    W_MoveView(table->tableView, vsThickness+1, 1+table->headerHeight+1);
     W_ResizeView(table->tableView, WMAX(vw, 1), WMAX(vh, 1)+1);
     
     adjustScrollers(table);
diff -Naur WindowMaker-0.80.2/WINGs/Extras/wtableview.h wm-xft2/WINGs/Extras/wtableview.h
--- WindowMaker-0.80.2/WINGs/Extras/wtableview.h	2001-05-18 03:02:11.000000000 +0400
+++ wm-xft2/WINGs/Extras/wtableview.h	2003-10-22 14:08:34.000000000 +0400
@@ -108,7 +108,11 @@
     
 void WMNoteTableViewNumberOfRowsChanged(WMTableView *table);
     
-void WMScrollTableViewRowToVisible(WMTableView *table, int row);    
+void WMScrollTableViewRowToVisible(WMTableView *table, int row);
+    
+void WMSetTableViewHasHorizontalScroller(WMTableView *tPtr, Bool flag);
+
+
 #ifdef __cplusplus
 }
 #endif
diff -Naur WindowMaker-0.80.2/WINGs/findfile.c wm-xft2/WINGs/findfile.c
--- WindowMaker-0.80.2/WINGs/findfile.c	2002-01-08 16:44:33.000000000 +0300
+++ wm-xft2/WINGs/findfile.c	2003-10-22 14:08:34.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker miscelaneous function library
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WINGs/handlers.c wm-xft2/WINGs/handlers.c
--- WindowMaker-0.80.2/WINGs/handlers.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/handlers.c	2003-10-22 14:29:40.000000000 +0400
@@ -603,7 +603,6 @@
 
     W_FlushASAPNotificationQueue();
 
-    /* --oldway-- return ((inputfd < 0) ? (count > 0) : FD_ISSET(inputfd, &rset));*/
     return (count > 0);
 #else /* not HAVE_SELECT, not HAVE_POLL */
     Neither select nor poll. You lose.
diff -Naur WindowMaker-0.80.2/WINGs/hashtable.c wm-xft2/WINGs/hashtable.c
--- WindowMaker-0.80.2/WINGs/hashtable.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/hashtable.c	2003-10-22 14:08:34.000000000 +0400
@@ -148,7 +148,7 @@
 	item = table->table[i];
 	while (item) {
 	    tmp = item->next;
-	    RELKEY(table, item);
+	    RELKEY(table, item->key);
 	    wfree(item);
 	    item = tmp;
 	}
@@ -477,24 +477,24 @@
 
 const WMHashTableCallbacks WMIntHashCallbacks = {
     NULL,
-	NULL,
-	NULL,
-	NULL
+    NULL,
+    NULL,
+    NULL
 };
 
 const WMHashTableCallbacks WMStringHashCallbacks = {
     (hashFunc)hashString,
-	(isEqualFunc)compareStrings,
-	(retainFunc)wstrdup,
-	(releaseFunc)wfree
+    (isEqualFunc)compareStrings,
+    (retainFunc)wstrdup,
+    (releaseFunc)wfree
 };
 
 
 
 const WMHashTableCallbacks WMStringPointerHashCallbacks = {
     (hashFunc)hashString,
-	(isEqualFunc)compareStrings,
-	NULL,
-	NULL
+    (isEqualFunc)compareStrings,
+    NULL,
+    NULL
 };
 
diff -Naur WindowMaker-0.80.2/WINGs/host.c wm-xft2/WINGs/host.c
--- WindowMaker-0.80.2/WINGs/host.c	2002-03-29 14:14:17.000000000 +0300
+++ wm-xft2/WINGs/host.c	2003-10-22 14:08:34.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  WINGs WMHost function library
  *
- *  Copyright (c) 1999-2002 Dan Pascu
+ *  Copyright (c) 1999-2003 Dan Pascu
  *
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WINGs/Makefile.am wm-xft2/WINGs/Makefile.am
--- WindowMaker-0.80.2/WINGs/Makefile.am	2001-10-03 13:01:41.000000000 +0400
+++ wm-xft2/WINGs/Makefile.am	2003-10-22 14:08:34.000000000 +0400
@@ -16,7 +16,9 @@
 LDADD= libWINGs.a $(top_builddir)/wrlib/libwraster.la @INTLIBS@
 
 
-EXTRA_DIST = BUGS
+EXTRA_DIST = BUGS python/Makefile python/README python/WINGs.i \
+	python/WINGs.py python/setup.py python/test.py
+
 
 # wbutton.c 
 libWINGs_a_SOURCES = 	\
@@ -108,8 +110,20 @@
 CPPFLAGS = @CPPFLAGS@ -DLOCALEDIR=\"$(NLSDIR)\"
 
 INCLUDES = -I$(top_srcdir)/WINGs/WINGs -I$(top_srcdir)/wrlib -I$(top_srcdir)/src \
-	-DRESOURCE_PATH=\"$(datadir)/WINGs\" @HEADER_SEARCH_PATH@ -DDEBUG
+	-DRESOURCE_PATH=\"$(datadir)/WINGs\" @XFTFLAGS@ @HEADER_SEARCH_PATH@ -DDEBUG
 
 
 wcolorpanel.o: wcolorpanel.c
 	$(COMPILE) -c -DRGBTXT="\"@X_LIBRARY_PATH@/X11/rgb.txt\"" $<
+
+DISTCLEANFILES = WINGs.pc
+
+install-exec-local:
+	@$(NORMAL_INSTALL)
+	$(mkinstalldirs) $(DESTDIR)$(libdir)/pkgconfig
+	@list='WINGs.pc'; for p in $$list; do \
+	  if test -f $$p; then \
+	    echo "$(INSTALL_DATA) $$p $(DESTDIR)$(libdir)/pkgconfig/"; \
+	    $(INSTALL_DATA) $$p $(DESTDIR)$(libdir)/pkgconfig/; \
+	  else :; fi; \
+	done
diff -Naur WindowMaker-0.80.2/WINGs/memory.c wm-xft2/WINGs/memory.c
--- WindowMaker-0.80.2/WINGs/memory.c	2002-01-08 16:44:33.000000000 +0300
+++ wm-xft2/WINGs/memory.c	2003-10-22 14:08:34.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  Window Maker miscelaneous function library
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ *  Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WINGs/NEWS wm-xft2/WINGs/NEWS
--- WindowMaker-0.80.2/WINGs/NEWS	2001-10-05 03:22:45.000000000 +0400
+++ wm-xft2/WINGs/NEWS	2003-10-22 14:08:34.000000000 +0400
@@ -1,3 +1,255 @@
+*** Mon Oct 14 19:42:42 EEST 2002 - Dan
+
+Double buffering
+----------------
+
+To avoid flickering caused by redrawing the widgets on Expose events, a
+double buffering tehnique was implemented for most of the widgets.
+This flickering effect has gotten more vizible with the introduction
+of antialiased text. If with normal text one can redraw the text over the
+old one over and over again without any degradation of the text (new pixels
+simply overwrite old pixels), with antialiased text the situation is
+different.
+The pixels that constitute the antialias around the text are partially
+transparent pixels, which let part of the background be visible through them.
+If antialiased text is drawn over and over again, whithout first erasing the
+old one, the partially transparent pixels of the antialias will no longer
+see the background through them, but some of them will see the old pixels of
+the antialias around the old text that was there before. This for example
+will make a black antialiased text over a white background get thicker as
+the pixels of the antialias around it, combine with semitransparent black
+pixels of the old antialias instead of combining with the white background.
+The result is that the antialias will get darker (in this case) and the text
+will be altered.
+
+Because of this the area where text is drawn needs to be cleared before
+antialiased text can be drawn again. But between the moment whent he area is
+cleared and the moment when the text is drawn again there is a small time
+gap that results in flickering. This doesn't happen with normal text where
+one doesn't need to clear the area before drawing the text, but instead can
+simply draw over and over again.
+
+To avoid this situation, a double buffering tehnique was used. Instead of
+drawing directly in the wisget's window (which is mapped and will flicker as
+described above), we draw in a pixmap (unmapped) and after all is done we
+XCopyArea() from that pixmap to the real window.
+Since all this takes place off-screen, no flickering will be observed in
+this case.
+
+This is a change that that will be automatically available for your
+applications and will require no change from you.
+However there is an exception from this in case of WMList if you delegate
+the drawing of items to userspace (read below for the compelte details).
+
+
+*** Mon Oct 14 22:07:42 EEST 2002 - Dan
+
+WMList change
+-------------
+
+In case of WMList there is the posibility to delegate the drawing of the
+list items to the application that is linked with WINGs, and this code will
+not be inside the WINGs library, but in userland. Since we use the double
+buffering tehnique in this case too (to allow all widgets based on WMList
+and the ones that draw their list items by themselves to benefit from the
+double buffering advantage automatically), we no longer pass the window to
+the user code doing item drawing, but instead pass this pixmap in which we
+draw before copying to the real window.
+
+Since one cannot use XClearWindow() or XClearArea() on pixmaps, but only on
+windows, if your list item drawing code used to contain these to clear the
+item area before drawing it needs to change, else the application will die
+when it tires to XClearArea() on a pixmap.
+
+This means that in your application if you ever used WMSetListUserDrawProc()
+so set a userspace routine which draws WMList items in a particular fashion,
+you need to make sure your function will not call XClearArea() or
+XClearWindow() on the drawable that was passed to draw in.
+
+Instead you should use XFillRectangle().
+
+This change also means that you no longer need to do double buffering in
+your code, if you ever used to do. It is not done by WINGs and you benefit
+from it automatically.
+
+
+*** Mon Oct 14 19:28:35 EEST 2002 - Dan
+
+API change
+----------
+
+WMDrawString() and WMDrawImageString() no longer take a GC as argument.
+Instead WMDrawString() takes a WMColor* as the color for the string to be
+drawn, while WMDrawImageString() takes 2 WMColor* arguments in place of the
+old GC: first for text color and second for background color.
+
+This change is required to support extending WMFont to allow it to handle
+antialiased fonts through the XFree86 Xft extension.
+
+This also has the advantage of hiding low level X11 details and use WINGs
+internat objects instead.
+
+To fix your old code to work with the new WINGs API you need to replace the
+GC passed to WMDraw***String() in your code with a WMColor*.
+Most of the old code used to be like this:
+
+WMDrawString(screen, window, WMColorGC(color), font, x, y, txt, len);
+
+for the new API it should be replaced by:
+
+WMDrawString(screen, window, color, font, x, y, txt, len);
+
+However if you used a particular GC created by yourself to suit your special
+needs, you need to pass a color which is the same as the foreground color of
+that gc.
+
+For WMDrawImageString(), from:
+
+WMDrawImageString(screen, window, gc, font, x, y, txt, len);
+
+becomes
+
+WMDrawImageString(screen, window, textColor, backColor, font, x, y, txt, len);
+
+where textColor and backColor are declared like:
+
+WMColor *textColor, *backColor;
+
+and have the color of the foreground respective the background of the old gc.
+
+
+
+*** Wed Oct  9 07:10:04 EEST 2002 - Dan
+
+Xft support in WINGs
+--------------------
+
+If Xft is detected when configure it is run, support for drawing antialiased
+fonts with transparency will be compiled into WINGs.
+You need at least Xfree86 version 4.0.x for this but at least 4.1.x is
+recommended.
+
+For Xft support there are 2 new functions to create a font that will render
+using antialiasing and transparency: WMCreateAntialiasedFont() and
+WMCreateAntialiasedFontSet(). Later is for multibyte languages.
+Passing such a font to WMDrawString() or WMDrawImageString() will result
+in antialiased text displayed on screen. Modifying the alpha value for the
+WMColor passed to WMDrawString() or WMDrawImageString() will result in text
+being displayed with the appropriate transparency.
+
+To control antialiased font behavior, there are 3 new options that go into
+WMGLOBAL. Two of them are to set the system font used when an antialiased
+font is required. They operate in a similar way as SystemFont and
+BoldSystemFont, just they are used when antialiased fonts are requested.
+They are named AntialiasedSystemFont respectively AntialiasedBoldSystemFont.
+They are kept separate from SystemFont and BoldSystemFont because the same
+fonts don't render well as both normal and antialiased if they are not
+TrueType fonts. Even though you can specify any font in the XLFD format for
+these new options, it is recomended to use TrueType fonts for the antialiased
+case since other fonts (standard X fonts)  don't render well and give ugly
+results.
+
+The third option is an option that globally controls if WINGs uses or not
+antialiased fonts. It is named AntialiasedText and it has a boolean Yes/No
+value. If set to Yes, WINGs will try to use antialiased fonts (if support
+was compiled in, and antialiased fonts can be found) then revert to normal
+fonts if not possible. Note that this applies if WMCreateFont(),
+WMSystemFont(), WMSystemFontOfSize(), WMBoldSystemFont() or
+WMBoldSystemFontOFize() are used. If any of the direct creation functions
+are used, such as WMCreateAntialiasedFont() or WMCreateNormalFont(), then
+that kind of font is returned independently of the value of AntialiasedText.
+(However note that an antialiased font cannot be created if Xft support was
+no compiled into WINGs, even if you call WMCreateAntialiasedFont() directly.
+In this case WMCreateAntialiasedFont() will always return NULL)
+
+These 3 options from WMGLOBAL (which apply to all WINGs applications) can be
+overwritten on a per application basis by putting them in the application's 
+specific domain file (usually ~/GNUstep/Defaults/application_name).
+
+There is also another new font creation function available.
+WMCreateFontWithFlags(screen, fontName, flags)
+
+flags will specify what kind of font to create. They are defined in WINGs.h
+as an enum: WMFontFlags
+
+If WFDefaultFont is passed then the function will work exactly like 
+WMCreateFont() by creating a font according to the options from the
+configuration.
+However if some specific flag is passed than that option will be altered. All
+the other options will keep their default values.
+
+There are 2 font options available (at this time):
+1. Font type (if a normal font or a font set)
+2. Font antialiasing (if it's an antialiased font or not)
+
+If flags specifies a value for each of the available options then a specific
+font which only takes into account those flag values will be created and all
+the font options specified in the configuration (like MultiByte or Antialiasing)
+will be ignored.
+However if only some of the options are specified, then for the missing options
+the default values from the configuration will be used.
+
+For example if antialiasing is enabled in the configuration and you pass
+WFNotAntialiased as the flag, then a font with all the properties defined in
+the configuration (except antialiasing) will be created. This means that if 
+MultiByte is defined a fontset will be created, else a normal font will be 
+created and you don't have to worry about the rest of the flags you didn't
+specify.
+
+
+
+*** Mon Sep 09 06:58:30 EEST 2002 - Dan
+
+New delegate for the WMConnection class
+---------------------------------------
+
+ConnectionDelegate structure has a new member: canResumeSending.
+The purpose of this callback is to notify you that you can resume sending
+data over a WMConnection.
+It works in the following manner:
+
+WMSendConnectionData() can return 3 values: -1, 0, 1
+
+-1 - means that the connection has died. you should stop sending data and
+     close the connection ASAP.
+ 1 - means that the data was succesfully sent
+ 0 - means that the data (or part of it) was not sent. however, it was saved
+     in a queue and the library will try to send it later when possible.
+
+if the return value is 1, you can continue to send the next message, and so
+on, until the return value of such a send call will be 0.
+After it returns 0 you can continue sending, however, the data will not be
+sent over the connection because the operating system cannot accept any more
+data for the moment. Instead it will be queued inside the library, making your
+program's memory footprint increase. If the ammount of data you need to
+send is limited and not too big, this shouldn't be a problem, because your
+data will be queued and sent when the operating system will notify the
+library that sending is possible again.
+If this is the case you can just ignore the output of WMSendConnectionData()
+and not set a callback for canResumeSending.
+
+However, if the ammount of data you have to send is undetermined and you
+also want to keep a small memory footprint for your program (so that it
+won't grow until it uses all your available memory ;) ), you will have to
+stop sending data over the connection as soon as WMSendConnectionData()
+returns with 0. Then you should somehow mark this situation in your program
+to avoid it trying to send anymore data until notified that it can resume.
+(You should have also set a canResumeSending callback when you initialized
+your WMConnection object because else you cannot be notified when to resume.)
+
+Now, when you receive such a 0 from the send operation, your last sent data
+is put in a queue inside the library. At a later time when the operating
+system notifies the library that sending is possible again, the library will
+resume to send the data that is saved in the queue. After it will be able to
+send all the data in the queue, the canResumeSending callback will be
+called, letting you know that not only you can resume sending because the
+operating system is again able to send data, but also that the queue was
+completely flushed.
+
+From the canResumeSending callback, you should again update the status of
+your program marking that it can send again, and then resume sending the
+data from where you were left.
+
 
 *** Thu Oct 04 06:00:09 EEST 2001 -Dan
 
diff -Naur WindowMaker-0.80.2/WINGs/po/bg.po wm-xft2/WINGs/po/bg.po
--- WindowMaker-0.80.2/WINGs/po/bg.po	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/WINGs/po/bg.po	2003-10-22 14:08:35.000000000 +0400
@@ -0,0 +1,660 @@
+# Message catalog for WINGs
+# Copyright (C) 2003 Free Software Foundation, Inc.
+# Anton Zinoviev <zinoviev@debian.org>, 2003
+#
+msgid ""
+msgstr ""
+"Project-Id-Version: WINGs 0.80.0\n"
+"POT-Creation-Date: 2003-02-08 21:42+0200\n"
+"PO-Revision-Date: 2003-02-09 12:10+0200\n"
+"Last-Translator: Anton Zinoviev <zinoviev@debian.org>\n"
+"Language-Team: Bulgarian <dict@linux.zonebg.com>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=CP1251\n"
+"Content-Transfer-Encoding: 8bit\n"
+
+#: ../../WINGs/connection.c:461 ../../WINGs/connection.c:526
+#: ../../WINGs/connection.c:569
+msgid "Bad address-service-protocol combination"
+msgstr "Íåïðàâèëíà êîìáèíàöèÿ àäðåñ-óñëóãà-ïðîòîêîë"
+
+#: ../../WINGs/error.c:54
+#, c-format
+msgid "Unknown error %d"
+msgstr "Íåïîçíàòà ãðåøêà %d"
+
+#: ../../WINGs/error.c:59
+#, c-format
+msgid "Error %d"
+msgstr "Ãðåøêà %d"
+
+#: ../../WINGs/error.c:110
+msgid " warning: "
+msgstr "âíèìàíèå: "
+
+#: ../../WINGs/error.c:137
+msgid " fatal error: "
+msgstr " êðèòè÷íà ãðåøêà: "
+
+#: ../../WINGs/error.c:163 ../../WINGs/error.c:192
+msgid " error: "
+msgstr " ãðåøêà: "
+
+#: ../../WINGs/findfile.c:48
+#, c-format
+msgid "could not get password entry for UID %i"
+msgstr "íå ìîæå äà ñå ïîëó÷è çàïèñúò çà ïàðîëà íà ïîòðåáèòåë ñ íîìåð %i"
+
+#: ../../WINGs/findfile.c:66
+#, c-format
+msgid "could not get password entry for user %s"
+msgstr "íå ìîæå äà ñå ïîëó÷è çàïèñúò çà ïàðîëà íà ïîòðåáèòåë %s<"
+
+#: ../../WINGs/host.c:114
+msgid "Cannot get current host name"
+msgstr "Íå ìîæå äà ñå ïîëó÷è èìåòî íà õîñòà"
+
+#: ../../WINGs/proplist.c:91
+#, c-format
+msgid "syntax error in %s %s, line %i: %s"
+msgstr "ñèíòàêòè÷íà ãðåøêà â %s %s, ðåä %i: %s"
+
+#: ../../WINGs/proplist.c:150
+msgid "Only string or data is supported for a proplist dictionary key"
+msgstr "Êàòî êëþ÷ çà äîñòúï äî proplist ñå ïîääúðæàò ñàìî íèçîâå èëè äàííè"
+
+#: ../../WINGs/proplist.c:184 ../../WINGs/proplist.c:236
+#: ../../WINGs/proplist.c:394 ../../WINGs/proplist.c:474
+#: ../../WINGs/proplist.c:1075 ../../WINGs/proplist.c:1127
+#: ../../WINGs/proplist.c:1293 ../../WINGs/proplist.c:1372
+#: ../../WINGs/proplist.c:1493 ../../WINGs/proplist.c:1540
+msgid "Used proplist functions on non-WMPropLists objects"
+msgstr "Ïîëçâàò ñå proplist-ôóíêöèè çà îáåêòè, êîèòî íå ñà îò òèï WMPropLists"
+
+#: ../../WINGs/proplist.c:630
+msgid "unterminated PropList string"
+msgstr "íåçàâúðøåí íèç PropList"
+
+#: ../../WINGs/proplist.c:670
+msgid "unterminated PropList data"
+msgstr "íåçàâúðøåíè äàííè PropList"
+
+#: ../../WINGs/proplist.c:678
+msgid "unterminated PropList data (missing hexdigit)"
+msgstr "íåçàâúðøåíè äàííè PropList (ëèïñâà øåñòíàäåñåòè÷íî ÷èñëî)"
+
+#: ../../WINGs/proplist.c:690 ../../WINGs/proplist.c:695
+msgid "non hexdigit character in PropList data"
+msgstr "çíàê, êîéòî íå å øåñòíàäåñåòè÷íî ÷èñëî, â äàííè PropList"
+
+#: ../../WINGs/proplist.c:729
+msgid "unterminated PropList array"
+msgstr "íåçàâúðøåí ìàñèâ PropList"
+
+#: ../../WINGs/proplist.c:737
+msgid "missing or unterminated PropList array"
+msgstr "ëèïñâàù èëè íåçàâúðøåí ìàñèâ Proplist"
+
+#: ../../WINGs/proplist.c:747
+msgid "could not get PropList array element"
+msgstr "íå ìîæå äà ñå ïîëó÷è åëåìåíò îò ìàñèâ PropList"
+
+#: ../../WINGs/proplist.c:776
+msgid "unterminated PropList dictionary"
+msgstr "íåçàâúðøåí ðå÷íèê PropList"
+
+#: ../../WINGs/proplist.c:793
+msgid "missing PropList dictionary key"
+msgstr "ëèïñâàù êëþ÷ çà äîñòúï äî PropList"
+
+#: ../../WINGs/proplist.c:795
+msgid "missing PropList dictionary entry key or unterminated dictionary"
+msgstr "ëèïñâàù êëþ÷ çà äîñòúï äî PropList èëè íåçàâúðøåí ðå÷íèê"
+
+#: ../../WINGs/proplist.c:803
+msgid "error parsing PropList dictionary key"
+msgstr "ãðåøêà ïðè ðàçáîð íà êëþ÷ â PropList"
+
+#: ../../WINGs/proplist.c:811
+msgid "missing = in PropList dictionary entry"
+msgstr "ëèïñâà çíàê çà ðàâåíñòâî â åëåìåíò íà PropList"
+
+#: ../../WINGs/proplist.c:819
+msgid "error parsing PropList dictionary entry value"
+msgstr "ãðåøêà ïðè ðàçáîð íà ñòîéíîñò íà åëåìåíò â PropList"
+
+#: ../../WINGs/proplist.c:827
+msgid "missing ; in PropList dictionary entry"
+msgstr "ëèïñâà çíàê òî÷êà è çàïåòàÿ â åëåìåíò íà PropList"
+
+#: ../../WINGs/proplist.c:888
+msgid ""
+"was expecting a string, data, array or dictionary. If it's a string, try "
+"enclosing it with \"."
+msgstr "î÷àêâàõà ñå íèç, äàííè, ìàñèâ èëè ðå÷íèê. Àêî å ðå÷íèê, ïðîáâàéòå äà ãî îãðàäèòå ñ \"."
+
+#: ../../WINGs/proplist.c:892
+msgid "Comments are not allowed inside WindowMaker owned domain files."
+msgstr "Íå ñå ïîçâîëÿâàò êîìåíòàðè âúâ ôàéëîâå ñ îáëàñòè, ñîáñòâåíîñò íà Óèíäîó Ìåéêúð"
+
+#: ../../WINGs/proplist.c:1563 ../../WINGs/proplist.c:1628
+msgid "extra data after end of property list"
+msgstr "äàííè â ïîâå÷å ñëåä êðàÿ íà ñïèñúê ñâîéñòâà"
+
+#: ../../WINGs/proplist.c:1606
+#, c-format
+msgid "could not get size for file '%s'"
+msgstr "íå ìîæå äà ñå ïîëó÷è ðàçìåðúò çà ôàéë \"%s\""
+
+#: ../../WINGs/proplist.c:1618
+#, c-format
+msgid "error reading from file '%s'"
+msgstr "ãðåøêà ïðè ÷åòåíå îò ôàéë \"%s\""
+
+#: ../../WINGs/proplist.c:1669
+#, c-format
+msgid "mkstemp (%s) failed"
+msgstr "mkstemp (%s) íå óñïÿ"
+
+#: ../../WINGs/proplist.c:1680
+#, c-format
+msgid "mktemp (%s) failed"
+msgstr "mktemp (%s) íå óñïÿ"
+
+#: ../../WINGs/proplist.c:1691
+#, c-format
+msgid "open (%s) failed"
+msgstr "open (%s) íå óñïÿ"
+
+#: ../../WINGs/proplist.c:1698
+#, c-format
+msgid "writing to file: %s failed"
+msgstr "çàïèñúò âúâ ôàéë %s íå óñïÿ"
+
+#: ../../WINGs/proplist.c:1706
+#, c-format
+msgid "fclose (%s) failed"
+msgstr "fclose (%s) íå óñïÿ"
+
+#: ../../WINGs/proplist.c:1715
+#, c-format
+msgid "rename ('%s' to '%s') failed"
+msgstr "ïðåèìåíóâàíåòî (îò \"%s\" íà \"%s\") íå óñïÿ"
+
+#. something happened with the file. just overwrite it
+#: ../../WINGs/userdefaults.c:192 ../../WINGs/userdefaults.c:208
+#, c-format
+msgid "cannot read domain from file '%s' when syncing"
+msgstr "íå ìîæå äà ñå ïðî÷åòå îáëàñòòà îò ôàéë \"%s\" ïðè ñèíõðîíèçèðàíå"
+
+#: ../../WINGs/wcolor.c:198 ../../WINGs/wcolor.c:211 ../../WINGs/wcolor.c:250
+#: ../../WINGs/wcolor.c:291
+#, c-format
+msgid "could not allocate %s color"
+msgstr "íå ìîæå äà ñå çàäåëè öâÿò %s"
+
+#: ../../WINGs/wcolor.c:198
+msgid "white"
+msgstr "áÿë"
+
+#: ../../WINGs/wcolor.c:211
+msgid "black"
+msgstr "÷åðåí"
+
+#: ../../WINGs/wcolor.c:250
+msgid "gray"
+msgstr "ñèâ"
+
+#: ../../WINGs/wcolor.c:291
+msgid "dark gray"
+msgstr "òúìíîñèâ"
+
+#: ../../WINGs/wcolorpanel.c:415
+msgid "Colors"
+msgstr "Öâåòîâå"
+
+#: ../../WINGs/wcolorpanel.c:605 ../../WINGs/wcolorpanel.c:2824
+msgid "Brightness"
+msgstr "ßðêîñò"
+
+#: ../../WINGs/wcolorpanel.c:607 ../../WINGs/wcolorpanel.c:683
+#: ../../WINGs/wcolorpanel.c:716 ../../WINGs/wcolorpanel.c:750
+#: ../../WINGs/wcolorpanel.c:810 ../../WINGs/wcolorpanel.c:844
+#: ../../WINGs/wcolorpanel.c:878 ../../WINGs/wcolorpanel.c:913
+#: ../../WINGs/wcolorpanel.c:2164 ../../WINGs/wcolorpanel.c:2826
+#: ../../WINGs/wcolorpanel.c:2862 ../../WINGs/wcolorpanel.c:2898
+#: ../../WINGs/wcolorpanel.c:3746
+msgid "Color Panel: Could not allocate memory"
+msgstr "Color Panel: íå ìîæå äà ñå çàäåëè ïàìåò"
+
+#: ../../WINGs/wcolorpanel.c:680 ../../WINGs/wcolorpanel.c:681
+msgid "Red"
+msgstr "×åðâåí"
+
+#: ../../WINGs/wcolorpanel.c:713 ../../WINGs/wcolorpanel.c:714
+msgid "Green"
+msgstr "Çåëåí"
+
+#: ../../WINGs/wcolorpanel.c:747 ../../WINGs/wcolorpanel.c:748
+msgid "Blue"
+msgstr "Ñèí"
+
+#: ../../WINGs/wcolorpanel.c:807 ../../WINGs/wcolorpanel.c:808
+msgid "Cyan"
+msgstr "Ñèíüîçåëåí"
+
+#: ../../WINGs/wcolorpanel.c:841 ../../WINGs/wcolorpanel.c:842
+msgid "Magenta"
+msgstr "Ïóðïóðåí"
+
+#: ../../WINGs/wcolorpanel.c:875 ../../WINGs/wcolorpanel.c:876
+msgid "Yellow"
+msgstr "Æúëò"
+
+#: ../../WINGs/wcolorpanel.c:910 ../../WINGs/wcolorpanel.c:911
+msgid "Black"
+msgstr "×åðåí"
+
+#: ../../WINGs/wcolorpanel.c:991
+msgid "Spectrum"
+msgstr "Ñïåêòúð"
+
+#: ../../WINGs/wcolorpanel.c:1021
+msgid "Palette"
+msgstr "Ïàëèòðà"
+
+#: ../../WINGs/wcolorpanel.c:1027
+msgid "New from File..."
+msgstr "Íîâà îò ôàéë..."
+
+#: ../../WINGs/wcolorpanel.c:1028 ../../WINGs/wcolorpanel.c:1076
+#: ../../WINGs/wcolorpanel.c:1093
+msgid "Rename..."
+msgstr "Ïðåèìåíóâàé..."
+
+#: ../../WINGs/wcolorpanel.c:1029 ../../WINGs/wcolorpanel.c:1077
+#: ../../WINGs/wcolorpanel.c:1094 ../../WINGs/wcolorpanel.c:3321
+msgid "Remove"
+msgstr "Ïðåìàõíè"
+
+#: ../../WINGs/wcolorpanel.c:1030
+msgid "Copy"
+msgstr "Êîïèðàé"
+
+#: ../../WINGs/wcolorpanel.c:1031
+#, fuzzy
+msgid "New from Clipboard"
+msgstr "Íîâà îò Clipboard"
+
+#: ../../WINGs/wcolorpanel.c:1052
+msgid "X11-Colors"
+msgstr "Öâåòîâå îò X11"
+
+#: ../../WINGs/wcolorpanel.c:1069
+msgid "Color"
+msgstr "Öâÿò"
+
+#: ../../WINGs/wcolorpanel.c:1075
+msgid "Add..."
+msgstr "Äîáàâè..."
+
+#: ../../WINGs/wcolorpanel.c:1085
+msgid "List"
+msgstr "Ñïèñúê"
+
+#: ../../WINGs/wcolorpanel.c:1092
+msgid "New..."
+msgstr "Íîâ..."
+
+#: ../../WINGs/wcolorpanel.c:1231
+#, c-format
+msgid ""
+"Color Panel: Could not create directory %s needed to store configurations"
+msgstr "Color Panel: Íå ìîæå äà ñå ñúçäàäå äèðåêòîðèÿ %s, íåîáõîäèìà çà äà ñå çàïàçÿò íàñòðîéêèòå"
+
+#. Delete the file, it doesn't belong here
+#: ../../WINGs/wcolorpanel.c:1237 ../../WINGs/wcolorpanel.c:3207
+#: ../../WINGs/wcolorpanel.c:3211
+msgid "File Error"
+msgstr "Ôàéëîâà ãðåøêà"
+
+#: ../../WINGs/wcolorpanel.c:1238
+msgid "Could not create ColorPanel configuration directory"
+msgstr "Íå ìîæå äà ñå ñúçäàäå êîíôèãóðàöèîííà äèðåêòîðèÿ çà ColorPanel"
+
+#: ../../WINGs/wcolorpanel.c:1239 ../../WINGs/wcolorpanel.c:3208
+#: ../../WINGs/wcolorpanel.c:3213 ../../WINGs/wcolorpanel.c:3240
+#: ../../WINGs/wfilepanel.c:250 ../../WINGs/wfilepanel.c:647
+#: ../../WINGs/wfilepanel.c:659 ../../WINGs/wfilepanel.c:760
+#: ../../WINGs/wfilepanel.c:971 ../../WINGs/wfontpanel.c:709
+msgid "OK"
+msgstr "Ïðèåìàì"
+
+#: ../../WINGs/wcolorpanel.c:1245 ../../WINGs/wcolorpanel.c:1281
+#: ../../WINGs/wcolorpanel.c:1299
+msgid "Color Panel: Could not find file"
+msgstr "Color Panel: Íå ìîæå äà ñå îòêðèå ôàéëà"
+
+#: ../../WINGs/wcolorpanel.c:1486 ../../WINGs/wcolorpanel.c:1551
+#: ../../WINGs/wcolorpanel.c:1615
+msgid "Color Panel: X failed request"
+msgstr "Color Panel: íå óñïÿ çàÿâêà êúì X"
+
+#: ../../WINGs/wcolorpanel.c:2860
+msgid "Saturation"
+msgstr "Íàñèòåíîñò"
+
+#: ../../WINGs/wcolorpanel.c:2896
+msgid "Hue"
+msgstr "Íþàíñ"
+
+#: ../../WINGs/wcolorpanel.c:3146
+msgid "Open Palette"
+msgstr "Îòâàðÿíå íà ïàëèòðà"
+
+#: ../../WINGs/wcolorpanel.c:3208
+msgid "Invalid file format !"
+msgstr "Íåïðàâèëåí ôàéëîâ ôîðìàò!"
+
+#: ../../WINGs/wcolorpanel.c:3210
+#, c-format
+msgid "can't remove file %s"
+msgstr "íå ìîæå äà ñå èçòðèå ôàéëúò %s"
+
+#: ../../WINGs/wcolorpanel.c:3212
+msgid "Couldn't remove file from Configuration Directory !"
+msgstr "Íå ìîæå äà ñå èçòðèå ôàéë îò äèðåêòîðèÿòà çà íàñòðîéêè!"
+
+#: ../../WINGs/wcolorpanel.c:3239
+msgid "Rename"
+msgstr "Ïðåèìåíóâàíå"
+
+#: ../../WINGs/wcolorpanel.c:3239
+msgid "Rename palette to:"
+msgstr "Ïðåèìåíóâàé ïàëèòðàòà íà "
+
+#: ../../WINGs/wcolorpanel.c:3240 ../../WINGs/wfilepanel.c:259
+#: ../../WINGs/wfilepanel.c:659 ../../WINGs/wfilepanel.c:760
+msgid "Cancel"
+msgstr "Îòìåíÿì"
+
+#. Careful, this palette exists already
+#: ../../WINGs/wcolorpanel.c:3256 ../../WINGs/wfilepanel.c:760
+msgid "Warning"
+msgstr "Âíèìàíèå"
+
+#: ../../WINGs/wcolorpanel.c:3257
+msgid ""
+"Palette already exists !\n"
+"\n"
+"Overwrite ?"
+msgstr ""
+"Òàêàâà ïàëèòðà âå÷å ñúùåñòâóâà!\n"
+"\n"
+"Äà áúäå ëè çàìåíåíà ñ íîâàòà?"
+
+#: ../../WINGs/wcolorpanel.c:3257 ../../WINGs/wcolorpanel.c:3321
+msgid "No"
+msgstr "Íå"
+
+#: ../../WINGs/wcolorpanel.c:3257 ../../WINGs/wcolorpanel.c:3321
+msgid "Yes"
+msgstr "Äà"
+
+#: ../../WINGs/wcolorpanel.c:3289
+#, c-format
+msgid "Couldn't rename palette %s to %s\n"
+msgstr "Ïàëèòðàòà %s íå ìîæå äà ñå ïðåèìåíóâà íà %s\n"
+
+#: ../../WINGs/wcolorpanel.c:3315
+msgid "This will permanently remove the palette "
+msgstr "Òîâà ùå îòñòðàíè ïàëèòðàòà íåîáðàòèìî "
+
+#: ../../WINGs/wcolorpanel.c:3318
+msgid ""
+".\n"
+"\n"
+"Are you sure you want to remove this palette ?"
+msgstr ""
+".\n"
+"\n"
+"Óáåäåíè ëè ñòå, ÷å èñêàòå äà îòñòðàíèòå òàçè ïàëèòðà?"
+
+#: ../../WINGs/wcolorpanel.c:3343
+#, c-format
+msgid "Couldn't remove palette %s\n"
+msgstr "Ïàëèòðàòà %s íå ìîæå äà áúäå îòñòðàíåíà\n"
+
+#: ../../WINGs/wcolorpanel.c:3648
+#, c-format
+msgid "Could not open %s"
+msgstr "Íå ìîæå äà áúäå îòâîðåí %s"
+
+#: ../../WINGs/wcolorpanel.c:3655
+#, c-format
+msgid "Could not create %s"
+msgstr "Íå ìîæå äà áúäå ñúçäàäåí %s"
+
+#: ../../WINGs/wcolorpanel.c:3666
+#, c-format
+msgid "Write error on file %s"
+msgstr "Ãðåøêà ïðè çàïèñ âúâ ôàéë %s"
+
+#: ../../WINGs/wcolorpanel.c:3711
+msgid "Color Panel: Color unspecified"
+msgstr "Color Panel: Íå å ïîñî÷åí öâÿò"
+
+#: ../../WINGs/wfilepanel.c:235
+msgid "Name:"
+msgstr "Èìå:"
+
+#: ../../WINGs/wfilepanel.c:332 ../../WINGs/wfilepanel.c:396
+msgid "Open"
+msgstr "Îòâîðè"
+
+#: ../../WINGs/wfilepanel.c:350 ../../WINGs/wfilepanel.c:402
+msgid "Save"
+msgstr "Çàïàçè"
+
+#: ../../WINGs/wfilepanel.c:562
+#, c-format
+msgid "WINGs: could not open directory %s\n"
+msgstr "WINGs: äèðåêòîðèÿòà %s íå ìîæå äà ñå îòâîðè\n"
+
+#: ../../WINGs/wfilepanel.c:580
+#, c-format
+msgid "WINGs: could not stat %s\n"
+msgstr "WINGs: íå ìîãàò äà ñå ïîëó÷àò àòðèáóòèòå (stat) çà %s\n"
+
+#: ../../WINGs/wfilepanel.c:647 ../../WINGs/wfilepanel.c:970
+#: ../../WINGs/wfontpanel.c:708
+msgid "Error"
+msgstr "Ãðåøêà"
+
+#: ../../WINGs/wfilepanel.c:658
+msgid "Create Directory"
+msgstr "Ñúçäàâàíå íà äèðåêòîðèÿ"
+
+#: ../../WINGs/wfilepanel.c:659
+msgid "Enter directory name"
+msgstr "Âúâåäåòå èìåòî íà äèðåêòîðèÿòà"
+
+#: ../../WINGs/wfilepanel.c:695 ../../WINGs/wfilepanel.c:734
+#: ../../WINGs/wfilepanel.c:765 ../../WINGs/wfilepanel.c:793
+msgid "Permission denied."
+msgstr "Îòêàçàí äîñòúï"
+
+#: ../../WINGs/wfilepanel.c:698
+#, c-format
+msgid "'%s' already exists."
+msgstr "âå÷å ñúùåñòâóâà \"%s\"."
+
+#: ../../WINGs/wfilepanel.c:701
+msgid "Path does not exist."
+msgstr "Ïúòÿò íå ñúùåñòâóâà."
+
+#: ../../WINGs/wfilepanel.c:731 ../../WINGs/wfilepanel.c:790
+#, c-format
+msgid "'%s' does not exist."
+msgstr "Íå ñúùåñòâóâà \"%s\"."
+
+#: ../../WINGs/wfilepanel.c:738 ../../WINGs/wfilepanel.c:797
+msgid "Insufficient memory available."
+msgstr "Íå å äîñòúïíà äîñòàòú÷íî ïàìåò."
+
+#: ../../WINGs/wfilepanel.c:742 ../../WINGs/wfilepanel.c:801
+#, c-format
+msgid "'%s' is on a read-only filesystem."
+msgstr "\"%s\" ñå íàìèðà âúâ ôàéëîâà ñèñòåìà ñ äîñòúï ñàìî çà ÷åòåíå."
+
+#: ../../WINGs/wfilepanel.c:745 ../../WINGs/wfilepanel.c:777
+#: ../../WINGs/wfilepanel.c:804
+#, c-format
+msgid "Can not delete '%s'."
+msgstr "\"%s\" íå ìîæå äà áúäå èçòðèò."
+
+#: ../../WINGs/wfilepanel.c:752
+#, c-format
+msgid "Delete directory %s ?"
+msgstr "Äà ñå èçòðèå ëè äèðåêòîðèÿòà %s?"
+
+#: ../../WINGs/wfilepanel.c:756
+#, c-format
+msgid "Delete file %s ?"
+msgstr "Äà ñå èçòðèå ëè ôàéëúò %s?"
+
+#: ../../WINGs/wfilepanel.c:768
+#, c-format
+msgid "Directory '%s' does not exist."
+msgstr "Äèðåêòîðèÿòà \"%s\" íå ñúùåñòâóâà."
+
+#: ../../WINGs/wfilepanel.c:771
+#, c-format
+msgid "Directory '%s' is not empty."
+msgstr "Äèðåêòîðèÿòà \"%s\" íå å ïðàçíà."
+
+#: ../../WINGs/wfilepanel.c:774
+#, c-format
+msgid "Directory '%s' is busy."
+msgstr "Äèðåêòîðèÿòà \"%s å çàåòà."
+
+#: ../../WINGs/wfilepanel.c:787
+#, c-format
+msgid "'%s' is a directory."
+msgstr "\"%s\" å äèðåêòîðèÿ."
+
+#: ../../WINGs/wfilepanel.c:829
+#, c-format
+msgid "An error occured browsing '%s'."
+msgstr "Íàñòúïè ãðåøêà ïðè ïîêàçâàíå íà \"%s\"."
+
+#: ../../WINGs/wfilepanel.c:833
+#, c-format
+msgid "'%s' is not a directory."
+msgstr "\"%s\" íå å äèðåêòîðèÿ."
+
+#: ../../WINGs/wfilepanel.c:970
+msgid "File does not exist."
+msgstr "Ôàéëúò íå ñúùåñòâóâà."
+
+#: ../../WINGs/wfont.c:129
+#, c-format
+msgid "the following character sets are missing in %s:"
+msgstr "â %s ëèïñâàò ñëåäíèòå êîäèðàíèÿ:"
+
+#: ../../WINGs/wfont.c:136
+#, c-format
+msgid ""
+"the string \"%s\" will be used in place of any characters from those sets."
+msgstr "Âìåñòî êîé äà å ñèìâîë îò òåçè êîäèðàíèÿ ùå ñå èçïîëçâà íèçúò \"%s\"."
+
+#: ../../WINGs/wfont.c:300 ../../WINGs/wfont.c:336
+#, c-format
+msgid "could not load font set %s. Trying fixed."
+msgstr "íå ìîæå äà ñå çàðåäè øðèôòîâà êîìáèíàöèÿ %s. Îïèò çà øðèôò fixed."
+
+#: ../../WINGs/wfont.c:306 ../../WINGs/wfont.c:342
+#, c-format
+msgid "could not load font %s. Trying fixed."
+msgstr "íå ìîæå äà ñå çàðåäè øðèôò %s. Îïèò çà øðèôò fixed."
+
+#: ../../WINGs/wfont.c:310 ../../WINGs/wfont.c:346
+msgid "could not load fixed font!"
+msgstr "íå ìîæå äà ñå çàðåäè øðèôòúò fixed!"
+
+#: ../../WINGs/wfont.c:441
+#, c-format
+msgid "font description %s is too large."
+msgstr "øðèôòîâîòî îïèñàíèå %s å òâúðäå äúëãî."
+
+#: ../../WINGs/wfontpanel.c:205
+msgid "Test!!!"
+msgstr "Ïðîáà!!! Test!!!"
+
+#: ../../WINGs/wfontpanel.c:211
+msgid "Family"
+msgstr "Ãàðíèòóðà"
+
+#: ../../WINGs/wfontpanel.c:222
+msgid "Typeface"
+msgstr "Ñòèë"
+
+#: ../../WINGs/wfontpanel.c:233
+msgid "Size"
+msgstr "Ðàçìåð"
+
+#: ../../WINGs/wfontpanel.c:252
+msgid "Set"
+msgstr "Óñòàíîâè"
+
+#: ../../WINGs/wfontpanel.c:257
+msgid "Revert"
+msgstr "Ïðåäèøíîòî"
+
+#: ../../WINGs/wfontpanel.c:709
+msgid "Could not retrieve font list"
+msgstr "Íå ìîæå äà ñå ïîëó÷è ñïèñúêà îò øðèôòîâå"
+
+#: ../../WINGs/wfontpanel.c:721
+#, c-format
+msgid "font name %s is longer than 256, which is invalid."
+msgstr "èìåòî íà øðèôòà %s å ïî-äúëãî îò 256 ñèìâîëà, êîåòî å íåäîïóñòèìî."
+
+#: ../../WINGs/wfontpanel.c:868
+msgid "Roman"
+msgstr "Èçïðàâåí"
+
+#: ../../WINGs/wfontpanel.c:871
+msgid "Italic"
+msgstr "Êóðñèâ"
+
+#: ../../WINGs/wfontpanel.c:873
+msgid "Oblique"
+msgstr "Íàêëîíåí"
+
+#: ../../WINGs/wfontpanel.c:875
+msgid "Rev Italic"
+msgstr "Îáðàòåí êóðñèâ"
+
+#: ../../WINGs/wfontpanel.c:877
+msgid "Rev Oblique"
+msgstr "Îáðàòíî íàêëîíåí"
+
+#: ../../WINGs/wfontpanel.c:883
+msgid "Normal"
+msgstr "Íîðìàëåí"
+
+#: ../../WINGs/widgets.c:415
+#, c-format
+msgid "WINGs: could not load widget images file: %s"
+msgstr "WINGs: íå ìîæå äà ñå çàðåäè èçîáðàæåíèåòî %s íà áèáëèîòåêàòà."
+
+#: ../../WINGs/widgets.c:763
+msgid ""
+"could not load any fonts. Make sure your font installation and locale "
+"settings are correct."
+msgstr "íå ìîæå äà ñå çàðåäè íèêàêúâ øðèôò. Óáåäåòå ñå, ÷å èìàòå ïðàâèëíî èíñòàëèðàíè øðèôòîâå è ïîñî÷åí åçèêîâ ëîêàë."
+
+#: ../../WINGs/wruler.c:189
+msgid "0   inches"
+msgstr "0   öîëà"
diff -Naur WindowMaker-0.80.2/WINGs/po/ca.po wm-xft2/WINGs/po/ca.po
--- WindowMaker-0.80.2/WINGs/po/ca.po	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/WINGs/po/ca.po	2003-10-22 14:29:41.000000000 +0400
@@ -0,0 +1,675 @@
+# Catalan messages for WINGs.
+# Copyright (C) 2003 Free Software Foundation, Inc.
+# This file is distributed under the same license as GNU Window Maker.
+# Ernest Adrogué <eadrogue@gmx.net>, 2003.
+#
+# Version history:
+# 	WM-ver	author			email			date
+# 	0.80.2	Ernest Adrogué		eadrogue@gmx.net	23 Feb 2003
+#
+msgid ""
+msgstr ""
+"Project-Id-Version: WINGs 0.80.2\n"
+"POT-Creation-Date: 2003-02-23 16:54+0100\n"
+"PO-Revision-Date: 2002-12-06 14:15+0100\n"
+"Last-Translator: Ernest Adrogué <eadrogue@gmx.net>\n"
+"Language-Team: Catalan <ca@dodds.net>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=iso-8859-1\n"
+"Content-Transfer-Encoding: 8bit\n"
+
+#: ../../WINGs/connection.c:461 ../../WINGs/connection.c:526
+#: ../../WINGs/connection.c:569
+msgid "Bad address-service-protocol combination"
+msgstr "Combinació adreça-servei-protocol incorrecta"
+
+#: ../../WINGs/error.c:54
+#, c-format
+msgid "Unknown error %d"
+msgstr "Error no identificat %d"
+
+#: ../../WINGs/error.c:59
+#, c-format
+msgid "Error %d"
+msgstr "Error %d"
+
+#: ../../WINGs/error.c:110
+msgid " warning: "
+msgstr " atenció: "
+
+#: ../../WINGs/error.c:137
+msgid " fatal error: "
+msgstr " error fatal: "
+
+#: ../../WINGs/error.c:163 ../../WINGs/error.c:192
+msgid " error: "
+msgstr " error: "
+
+#: ../../WINGs/findfile.c:48
+#, c-format
+msgid "could not get password entry for UID %i"
+msgstr "no s'ha pogut obtenir l'informació d'usuari per l'UID %i"
+
+#: ../../WINGs/findfile.c:66
+#, c-format
+msgid "could not get password entry for user %s"
+msgstr "no s'ha pogut obtenir l'informació d'usuari per l'usuari %s"
+
+#: ../../WINGs/host.c:114
+msgid "Cannot get current host name"
+msgstr "No s'ha pogut obtenir el nom de host actual"
+
+#: ../../WINGs/proplist.c:91
+#, c-format
+msgid "syntax error in %s %s, line %i: %s"
+msgstr "error de sintaxi en %s %s, línia %i: %s"
+
+#: ../../WINGs/proplist.c:150
+msgid "Only string or data is supported for a proplist dictionary key"
+msgstr ""
+"Les entrades de diccionari PropList només poden contenir dades o una cadena"
+
+#: ../../WINGs/proplist.c:184 ../../WINGs/proplist.c:236
+#: ../../WINGs/proplist.c:394 ../../WINGs/proplist.c:474
+#: ../../WINGs/proplist.c:1075 ../../WINGs/proplist.c:1127
+#: ../../WINGs/proplist.c:1293 ../../WINGs/proplist.c:1372
+#: ../../WINGs/proplist.c:1493 ../../WINGs/proplist.c:1540
+msgid "Used proplist functions on non-WMPropLists objects"
+msgstr "S'han usat funcions proplist en objectes no-WMPropLists"
+
+#: ../../WINGs/proplist.c:630
+msgid "unterminated PropList string"
+msgstr "cadena PropList incompleta"
+
+#: ../../WINGs/proplist.c:670
+msgid "unterminated PropList data"
+msgstr "dades PropList incompletes"
+
+#: ../../WINGs/proplist.c:678
+msgid "unterminated PropList data (missing hexdigit)"
+msgstr "Dades PropList incompletes (falta un digit hexadecimal)"
+
+#: ../../WINGs/proplist.c:690 ../../WINGs/proplist.c:695
+msgid "non hexdigit character in PropList data"
+msgstr "cap digit hexadecimal a les dades PropList"
+
+#: ../../WINGs/proplist.c:729
+msgid "unterminated PropList array"
+msgstr "matriu PropList incompleta"
+
+#: ../../WINGs/proplist.c:737
+msgid "missing or unterminated PropList array"
+msgstr "matriu PropList incompleta o inexistent"
+
+#: ../../WINGs/proplist.c:747
+msgid "could not get PropList array element"
+msgstr "no s'ha pogut obtenir un element de la matriu PropList"
+
+#: ../../WINGs/proplist.c:776
+msgid "unterminated PropList dictionary"
+msgstr "diccionari PropList incomplet"
+
+#: ../../WINGs/proplist.c:793
+msgid "missing PropList dictionary key"
+msgstr "falta una entrada PropList de diccionari"
+
+#: ../../WINGs/proplist.c:795
+msgid "missing PropList dictionary entry key or unterminated dictionary"
+msgstr "falta una entrada PropList de diccionari o bé està incompleta"
+
+#: ../../WINGs/proplist.c:803
+msgid "error parsing PropList dictionary key"
+msgstr "error analitzant l'entrada PropList de diccionari"
+
+#: ../../WINGs/proplist.c:811
+msgid "missing = in PropList dictionary entry"
+msgstr "falta un \"=\" a l'entrada de diccionari PropList"
+
+#: ../../WINGs/proplist.c:819
+msgid "error parsing PropList dictionary entry value"
+msgstr "error analitzant el valor de l'entrada de diccionari PropList"
+
+#: ../../WINGs/proplist.c:827
+msgid "missing ; in PropList dictionary entry"
+msgstr "falta un \";\" en l'entrada de diccionari PropList"
+
+#: ../../WINGs/proplist.c:888
+msgid ""
+"was expecting a string, data, array or dictionary. If it's a string, try "
+"enclosing it with \"."
+msgstr ""
+"s'esperava una cadena, dada, matriu o diccionari. Si es tractava d'una\n"
+"cadena proveu d'escriure-la \"entre cometes\"."
+
+#: ../../WINGs/proplist.c:892
+msgid "Comments are not allowed inside WindowMaker owned domain files."
+msgstr "No es permeten comentaris en els fitxers de domini de Window Maker."
+
+#: ../../WINGs/proplist.c:1563 ../../WINGs/proplist.c:1628
+msgid "extra data after end of property list"
+msgstr "sobren dades després de la llista de propietats"
+
+#: ../../WINGs/proplist.c:1606
+#, c-format
+msgid "could not get size for file '%s'"
+msgstr "no s'ha pogut obtenir la mida de \"%s\""
+
+#: ../../WINGs/proplist.c:1618
+#, c-format
+msgid "error reading from file '%s'"
+msgstr "error llegint el fitxer \"%s\""
+
+#: ../../WINGs/proplist.c:1669
+#, c-format
+msgid "mkstemp (%s) failed"
+msgstr "la rutina mkstemp (%s) ha fallat"
+
+#: ../../WINGs/proplist.c:1680
+#, c-format
+msgid "mktemp (%s) failed"
+msgstr "la rutina mktemp (%s) ha fallat"
+
+#: ../../WINGs/proplist.c:1691
+#, c-format
+msgid "open (%s) failed"
+msgstr "la rutina open (%s) ha fallat"
+
+#: ../../WINGs/proplist.c:1698
+#, c-format
+msgid "writing to file: %s failed"
+msgstr "l'escriptura del fitxer \"%s\" ha fallat"
+
+#: ../../WINGs/proplist.c:1706
+#, c-format
+msgid "fclose (%s) failed"
+msgstr "la rutina fclose (%s) ha fallat"
+
+#: ../../WINGs/proplist.c:1715
+#, c-format
+msgid "rename ('%s' to '%s') failed"
+msgstr "el canvi de nom (\"%s\" a \"%s\") ha fallat"
+
+#. something happened with the file. just overwrite it
+#: ../../WINGs/userdefaults.c:192 ../../WINGs/userdefaults.c:208
+#, c-format
+msgid "cannot read domain from file '%s' when syncing"
+msgstr "no s'ha pogut llegir un domini del fitxer \"%s\" quan es sincronitzava"
+
+#: ../../WINGs/wcolor.c:198 ../../WINGs/wcolor.c:211 ../../WINGs/wcolor.c:250
+#: ../../WINGs/wcolor.c:291
+#, c-format
+msgid "could not allocate %s color"
+msgstr "no s'ha pogut assignar espai pel color \"%s\""
+
+#: ../../WINGs/wcolor.c:198
+msgid "white"
+msgstr "blanc"
+
+#: ../../WINGs/wcolor.c:211
+msgid "black"
+msgstr "negre"
+
+#: ../../WINGs/wcolor.c:250
+msgid "gray"
+msgstr "gris"
+
+#: ../../WINGs/wcolor.c:291
+msgid "dark gray"
+msgstr "gris fosc"
+
+#: ../../WINGs/wcolorpanel.c:415
+msgid "Colors"
+msgstr "Colors"
+
+#: ../../WINGs/wcolorpanel.c:605 ../../WINGs/wcolorpanel.c:2824
+msgid "Brightness"
+msgstr "Claror"
+
+#: ../../WINGs/wcolorpanel.c:607 ../../WINGs/wcolorpanel.c:683
+#: ../../WINGs/wcolorpanel.c:716 ../../WINGs/wcolorpanel.c:750
+#: ../../WINGs/wcolorpanel.c:810 ../../WINGs/wcolorpanel.c:844
+#: ../../WINGs/wcolorpanel.c:878 ../../WINGs/wcolorpanel.c:913
+#: ../../WINGs/wcolorpanel.c:2164 ../../WINGs/wcolorpanel.c:2826
+#: ../../WINGs/wcolorpanel.c:2862 ../../WINGs/wcolorpanel.c:2898
+#: ../../WINGs/wcolorpanel.c:3746
+msgid "Color Panel: Could not allocate memory"
+msgstr "Panell de color: No s'ha pogut assignar memòria"
+
+#: ../../WINGs/wcolorpanel.c:680 ../../WINGs/wcolorpanel.c:681
+msgid "Red"
+msgstr "Roig"
+
+#: ../../WINGs/wcolorpanel.c:713 ../../WINGs/wcolorpanel.c:714
+msgid "Green"
+msgstr "Verd"
+
+#: ../../WINGs/wcolorpanel.c:747 ../../WINGs/wcolorpanel.c:748
+msgid "Blue"
+msgstr "Blau"
+
+#: ../../WINGs/wcolorpanel.c:807 ../../WINGs/wcolorpanel.c:808
+msgid "Cyan"
+msgstr "Cian"
+
+#: ../../WINGs/wcolorpanel.c:841 ../../WINGs/wcolorpanel.c:842
+msgid "Magenta"
+msgstr "Magenta"
+
+#: ../../WINGs/wcolorpanel.c:875 ../../WINGs/wcolorpanel.c:876
+msgid "Yellow"
+msgstr "Groc"
+
+#: ../../WINGs/wcolorpanel.c:910 ../../WINGs/wcolorpanel.c:911
+msgid "Black"
+msgstr "Negre"
+
+#: ../../WINGs/wcolorpanel.c:991
+msgid "Spectrum"
+msgstr "Espectre"
+
+#: ../../WINGs/wcolorpanel.c:1021
+msgid "Palette"
+msgstr "Paleta"
+
+#: ../../WINGs/wcolorpanel.c:1027
+msgid "New from File..."
+msgstr "Obté d'un fitxer..."
+
+#: ../../WINGs/wcolorpanel.c:1028 ../../WINGs/wcolorpanel.c:1076
+#: ../../WINGs/wcolorpanel.c:1093
+msgid "Rename..."
+msgstr "Reanomena..."
+
+#: ../../WINGs/wcolorpanel.c:1029 ../../WINGs/wcolorpanel.c:1077
+#: ../../WINGs/wcolorpanel.c:1094 ../../WINGs/wcolorpanel.c:3321
+msgid "Remove"
+msgstr "Elimina"
+
+#: ../../WINGs/wcolorpanel.c:1030
+msgid "Copy"
+msgstr "Copia"
+
+#: ../../WINGs/wcolorpanel.c:1031
+msgid "New from Clipboard"
+msgstr "Obté del porta-retalls..."
+
+#: ../../WINGs/wcolorpanel.c:1052
+msgid "X11-Colors"
+msgstr "Colors-X11"
+
+#: ../../WINGs/wcolorpanel.c:1069
+msgid "Color"
+msgstr "Color"
+
+#: ../../WINGs/wcolorpanel.c:1075
+msgid "Add..."
+msgstr "Afegeix..."
+
+#: ../../WINGs/wcolorpanel.c:1085
+msgid "List"
+msgstr "Llista"
+
+#: ../../WINGs/wcolorpanel.c:1092
+msgid "New..."
+msgstr "Nou..."
+
+#: ../../WINGs/wcolorpanel.c:1231
+#, c-format
+msgid ""
+"Color Panel: Could not create directory %s needed to store configurations"
+msgstr ""
+"Panell de color: No s'ha pogut crear el directori \"%s\" necessari per desar "
+"la configuració"
+
+#. Delete the file, it doesn't belong here
+#: ../../WINGs/wcolorpanel.c:1237 ../../WINGs/wcolorpanel.c:3207
+#: ../../WINGs/wcolorpanel.c:3211
+msgid "File Error"
+msgstr "Error de fitxer"
+
+#: ../../WINGs/wcolorpanel.c:1238
+msgid "Could not create ColorPanel configuration directory"
+msgstr "No s'ha pogut crear el directori de configuració del Panell de color"
+
+#: ../../WINGs/wcolorpanel.c:1239 ../../WINGs/wcolorpanel.c:3208
+#: ../../WINGs/wcolorpanel.c:3213 ../../WINGs/wcolorpanel.c:3240
+#: ../../WINGs/wfilepanel.c:250 ../../WINGs/wfilepanel.c:647
+#: ../../WINGs/wfilepanel.c:659 ../../WINGs/wfilepanel.c:760
+#: ../../WINGs/wfilepanel.c:971 ../../WINGs/wfontpanel.c:709
+msgid "OK"
+msgstr "D'acord"
+
+#: ../../WINGs/wcolorpanel.c:1245 ../../WINGs/wcolorpanel.c:1281
+#: ../../WINGs/wcolorpanel.c:1299
+msgid "Color Panel: Could not find file"
+msgstr "Panell de color: No s'ha trobat el fitxer"
+
+#: ../../WINGs/wcolorpanel.c:1486 ../../WINGs/wcolorpanel.c:1551
+#: ../../WINGs/wcolorpanel.c:1615
+msgid "Color Panel: X failed request"
+msgstr "Panell de color: petició X fallida"
+
+#: ../../WINGs/wcolorpanel.c:2860
+msgid "Saturation"
+msgstr "Saturació"
+
+#: ../../WINGs/wcolorpanel.c:2896
+msgid "Hue"
+msgstr "Matís"
+
+#: ../../WINGs/wcolorpanel.c:3146
+msgid "Open Palette"
+msgstr "Obrir paleta"
+
+#: ../../WINGs/wcolorpanel.c:3208
+msgid "Invalid file format !"
+msgstr "El format del fitxer no és vàlid !"
+
+#: ../../WINGs/wcolorpanel.c:3210
+#, c-format
+msgid "can't remove file %s"
+msgstr "no s'ha pogut eliminar el fitxer \"%s\""
+
+#: ../../WINGs/wcolorpanel.c:3212
+msgid "Couldn't remove file from Configuration Directory !"
+msgstr "No s'ha pogut eliminar el fitxer del directori de configuració !"
+
+#: ../../WINGs/wcolorpanel.c:3239
+msgid "Rename"
+msgstr "Reanomena"
+
+#: ../../WINGs/wcolorpanel.c:3239
+msgid "Rename palette to:"
+msgstr "Reanomenar la paleta a:"
+
+#: ../../WINGs/wcolorpanel.c:3240 ../../WINGs/wfilepanel.c:259
+#: ../../WINGs/wfilepanel.c:659 ../../WINGs/wfilepanel.c:760
+msgid "Cancel"
+msgstr "Cancel·la"
+
+#. Careful, this palette exists already
+#: ../../WINGs/wcolorpanel.c:3256 ../../WINGs/wfilepanel.c:760
+msgid "Warning"
+msgstr "Atenció"
+
+#: ../../WINGs/wcolorpanel.c:3257
+msgid ""
+"Palette already exists !\n"
+"\n"
+"Overwrite ?"
+msgstr ""
+"La paleta existeix!\n"
+"\n"
+"La voleu sobreescriure?"
+
+#: ../../WINGs/wcolorpanel.c:3257 ../../WINGs/wcolorpanel.c:3321
+msgid "No"
+msgstr "No"
+
+#: ../../WINGs/wcolorpanel.c:3257 ../../WINGs/wcolorpanel.c:3321
+msgid "Yes"
+msgstr "Sí"
+
+#: ../../WINGs/wcolorpanel.c:3289
+#, c-format
+msgid "Couldn't rename palette %s to %s\n"
+msgstr "No s'ha pogut reanomenar la paleta %s a %s\n"
+
+#: ../../WINGs/wcolorpanel.c:3315
+msgid "This will permanently remove the palette "
+msgstr "Això eliminarà la paleta per sempre "
+
+#: ../../WINGs/wcolorpanel.c:3318
+msgid ""
+".\n"
+"\n"
+"Are you sure you want to remove this palette ?"
+msgstr ""
+".\n"
+"\n"
+"Esteu segurs que voleu eliminar aquesta paleta?"
+
+#: ../../WINGs/wcolorpanel.c:3343
+#, c-format
+msgid "Couldn't remove palette %s\n"
+msgstr "No s'ha pogut eliminar la paleta %s\n"
+
+#: ../../WINGs/wcolorpanel.c:3648
+#, c-format
+msgid "Could not open %s"
+msgstr "No s'ha pogut obrir %s"
+
+#: ../../WINGs/wcolorpanel.c:3655
+#, c-format
+msgid "Could not create %s"
+msgstr "No s'ha pogut crear %s"
+
+#: ../../WINGs/wcolorpanel.c:3666
+#, c-format
+msgid "Write error on file %s"
+msgstr "Error d'escriptura en el fitxer %s"
+
+#: ../../WINGs/wcolorpanel.c:3711
+msgid "Color Panel: Color unspecified"
+msgstr "Panell de color: Color no especificat"
+
+#: ../../WINGs/wfilepanel.c:235
+msgid "Name:"
+msgstr "Nom:"
+
+#: ../../WINGs/wfilepanel.c:332 ../../WINGs/wfilepanel.c:396
+msgid "Open"
+msgstr "Obre"
+
+#: ../../WINGs/wfilepanel.c:350 ../../WINGs/wfilepanel.c:402
+msgid "Save"
+msgstr "Desa"
+
+#: ../../WINGs/wfilepanel.c:562
+#, c-format
+msgid "WINGs: could not open directory %s\n"
+msgstr "WINGs: no s'ha pogut obrir el directori %s\n"
+
+#: ../../WINGs/wfilepanel.c:580
+#, c-format
+msgid "WINGs: could not stat %s\n"
+msgstr "WINGs: no s'ha pogut determinar l'estat de %s\n"
+
+#: ../../WINGs/wfilepanel.c:647 ../../WINGs/wfilepanel.c:970
+#: ../../WINGs/wfontpanel.c:708
+msgid "Error"
+msgstr "Error"
+
+#: ../../WINGs/wfilepanel.c:658
+msgid "Create Directory"
+msgstr "Crear directori"
+
+#: ../../WINGs/wfilepanel.c:659
+msgid "Enter directory name"
+msgstr "Entreu el nom del directori"
+
+#: ../../WINGs/wfilepanel.c:695 ../../WINGs/wfilepanel.c:734
+#: ../../WINGs/wfilepanel.c:765 ../../WINGs/wfilepanel.c:793
+msgid "Permission denied."
+msgstr "Permís denegat."
+
+#: ../../WINGs/wfilepanel.c:698
+#, c-format
+msgid "'%s' already exists."
+msgstr "\"%s\" existia prèviament."
+
+#: ../../WINGs/wfilepanel.c:701
+msgid "Path does not exist."
+msgstr "El camí no existeix."
+
+#: ../../WINGs/wfilepanel.c:731 ../../WINGs/wfilepanel.c:790
+#, c-format
+msgid "'%s' does not exist."
+msgstr "\"%s\" no existeix."
+
+#: ../../WINGs/wfilepanel.c:738 ../../WINGs/wfilepanel.c:797
+msgid "Insufficient memory available."
+msgstr "No hi ha prou memòria disponible."
+
+#: ../../WINGs/wfilepanel.c:742 ../../WINGs/wfilepanel.c:801
+#, c-format
+msgid "'%s' is on a read-only filesystem."
+msgstr "\"%s\" es troba en un sistema de fitxers de només lectura."
+
+#: ../../WINGs/wfilepanel.c:745 ../../WINGs/wfilepanel.c:777
+#: ../../WINGs/wfilepanel.c:804
+#, c-format
+msgid "Can not delete '%s'."
+msgstr "No s'ha pogut eliminar \"%s\"."
+
+#: ../../WINGs/wfilepanel.c:752
+#, c-format
+msgid "Delete directory %s ?"
+msgstr "Eliminar el directori %s ?"
+
+#: ../../WINGs/wfilepanel.c:756
+#, c-format
+msgid "Delete file %s ?"
+msgstr "Eliminar el fitxer %s ?"
+
+#: ../../WINGs/wfilepanel.c:768
+#, c-format
+msgid "Directory '%s' does not exist."
+msgstr "El directori \"%s\" no existeix."
+
+#: ../../WINGs/wfilepanel.c:771
+#, c-format
+msgid "Directory '%s' is not empty."
+msgstr "El directori \"%s\" no està buit."
+
+#: ../../WINGs/wfilepanel.c:774
+#, c-format
+msgid "Directory '%s' is busy."
+msgstr "El directori \"%s\" es troba ocupat."
+
+#: ../../WINGs/wfilepanel.c:787
+#, c-format
+msgid "'%s' is a directory."
+msgstr "\"%s\" és un directori."
+
+#: ../../WINGs/wfilepanel.c:829
+#, c-format
+msgid "An error occured browsing '%s'."
+msgstr "S'ha produït un error mentre s'explorava \"%s\"."
+
+#: ../../WINGs/wfilepanel.c:833
+#, c-format
+msgid "'%s' is not a directory."
+msgstr "\"%s\" no és un directori."
+
+#: ../../WINGs/wfilepanel.c:970
+msgid "File does not exist."
+msgstr "El fitxer no existeix."
+
+#: ../../WINGs/wfont.c:129
+#, c-format
+msgid "the following character sets are missing in %s:"
+msgstr "els següents conjunts de caràcters falten a %s:"
+
+#: ../../WINGs/wfont.c:136
+#, c-format
+msgid ""
+"the string \"%s\" will be used in place of any characters from those sets."
+msgstr ""
+"la cadena \"%s\" s'usarà en lloc dels caràcters d'aquests conjunts de "
+"caràcters."
+
+#: ../../WINGs/wfont.c:300 ../../WINGs/wfont.c:336
+#, c-format
+msgid "could not load font set %s. Trying fixed."
+msgstr "no s'ha pogut carregar el tipus de lletra %s. Provant amb \"fixed\"."
+
+#: ../../WINGs/wfont.c:306 ../../WINGs/wfont.c:342
+#, c-format
+msgid "could not load font %s. Trying fixed."
+msgstr "no s'ha pogut carregar el tipus de lletra %s. Provant amb \"fixed\"."
+
+#: ../../WINGs/wfont.c:310 ../../WINGs/wfont.c:346
+msgid "could not load fixed font!"
+msgstr "no s'ha pogut carregar el tipus de lletra \"fixed\" !"
+
+#: ../../WINGs/wfont.c:441
+#, c-format
+msgid "font description %s is too large."
+msgstr "la descripció de tipus de lletra %s és massa gran."
+
+#: ../../WINGs/wfontpanel.c:205
+msgid "Test!!!"
+msgstr "Prova!!!"
+
+#: ../../WINGs/wfontpanel.c:211
+msgid "Family"
+msgstr "Familia"
+
+#: ../../WINGs/wfontpanel.c:222
+msgid "Typeface"
+msgstr "Fosa"
+
+#: ../../WINGs/wfontpanel.c:233
+msgid "Size"
+msgstr "Mida"
+
+#: ../../WINGs/wfontpanel.c:252
+msgid "Set"
+msgstr "Conjunt"
+
+#: ../../WINGs/wfontpanel.c:257
+msgid "Revert"
+msgstr "Torna"
+
+#: ../../WINGs/wfontpanel.c:709
+msgid "Could not retrieve font list"
+msgstr "No s'ha pogut obtenir la llista de tipus de lletra"
+
+#: ../../WINGs/wfontpanel.c:721
+#, c-format
+msgid "font name %s is longer than 256, which is invalid."
+msgstr ""
+"el nom de tipus de lletra %s ocupa més de 256 caràcters, per tant no és "
+"vàlid."
+
+#: ../../WINGs/wfontpanel.c:868
+msgid "Roman"
+msgstr "Romana"
+
+#: ../../WINGs/wfontpanel.c:871
+msgid "Italic"
+msgstr "Itàlica"
+
+#: ../../WINGs/wfontpanel.c:873
+msgid "Oblique"
+msgstr "Obliqua"
+
+#: ../../WINGs/wfontpanel.c:875
+msgid "Rev Italic"
+msgstr "Itàlica rev"
+
+#: ../../WINGs/wfontpanel.c:877
+msgid "Rev Oblique"
+msgstr "Obliqua rev"
+
+#: ../../WINGs/wfontpanel.c:883
+msgid "Normal"
+msgstr "Normal"
+
+#: ../../WINGs/widgets.c:415
+#, c-format
+msgid "WINGs: could not load widget images file: %s"
+msgstr "WINGs: no s'ha pogut carregar el fitxer d'imatges dels elements: %s"
+
+#: ../../WINGs/widgets.c:763
+msgid ""
+"could not load any fonts. Make sure your font installation and locale "
+"settings are correct."
+msgstr ""
+"no s'ha pogut carregar cap font. Assegureu-vos que l'instal·lació dels tipus "
+"de lletra i la configuració del local és adquada."
+
+#: ../../WINGs/wruler.c:189
+msgid "0   inches"
+msgstr "0   polzades"
diff -Naur WindowMaker-0.80.2/WINGs/po/fr.po wm-xft2/WINGs/po/fr.po
--- WindowMaker-0.80.2/WINGs/po/fr.po	2002-02-26 17:57:24.000000000 +0300
+++ wm-xft2/WINGs/po/fr.po	2003-10-22 14:08:35.000000000 +0400
@@ -3,11 +3,10 @@
 # Copyright (C) YEAR Free Software Foundation, Inc.
 # FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
 #
-#, fuzzy
 msgid ""
 msgstr ""
 "Project-Id-Version: WINGs 0.80.0\n"
-"POT-Creation-Date: 2002-01-09 21:06+0100\n"
+"POT-Creation-Date: 2003-05-02 15:39+0200\n"
 "PO-Revision-Date: 2002-01-09 21:20+0100\n"
 "Last-Translator: Emmanuel Benoit <tseeker@neptune.fr>\n"
 "Language-Team: Français <fr@li.org>\n"
@@ -15,10 +14,10 @@
 "Content-Type: text/plain; charset=ISO-8859-1\n"
 "Content-Transfer-Encoding: unknown\n"
 
-#: ../../WINGs/connection.c:461 ../../WINGs/connection.c:526
-#: ../../WINGs/connection.c:569
+#: ../../WINGs/connection.c:467 ../../WINGs/connection.c:532
+#: ../../WINGs/connection.c:575
 msgid "Bad address-service-protocol combination"
-msgstr "Mauvaise combinaison Adresse-Service-Protocole"
+msgstr "Mauvaise combinaison adresse-service-protocole"
 
 #: ../../WINGs/error.c:54
 #, c-format
@@ -32,42 +31,49 @@
 
 #: ../../WINGs/error.c:110
 msgid " warning: "
-msgstr " Avertissement: "
+msgstr " Avertissement : "
 
 #: ../../WINGs/error.c:137
 msgid " fatal error: "
-msgstr " erreur fatale: "
+msgstr " erreur fatale : "
 
 #: ../../WINGs/error.c:163 ../../WINGs/error.c:192
 msgid " error: "
-msgstr " erreur: "
+msgstr " erreur : "
 
 #: ../../WINGs/findfile.c:48
 #, c-format
 msgid "could not get password entry for UID %i"
-msgstr "Impossible de lire l'entrée password pour l'UID %i"
+msgstr "Impossible de lire le mot de passe de l'UID %i"
 
 #: ../../WINGs/findfile.c:66
 #, c-format
 msgid "could not get password entry for user %s"
-msgstr "Impossible de lire l'entrée password pour l'utilisateur %s"
+msgstr "Impossible de lire le mot de passe de l'utilisateur %i"
 
 #: ../../WINGs/host.c:114
 msgid "Cannot get current host name"
-msgstr "Impossible de déterminer le nom de machine actuel"
+msgstr "Impossible de déterminer le nom de la machine"
+
+# TODO pas de traduction correcte possible, cf source.
+#: ../../WINGs/proplist.c:91
+#, c-format
+msgid "syntax error in %s %s, line %i: %s"
+msgstr "Faute de syntaxe dans %s %s, ligne %i : %s"
 
 #: ../../WINGs/proplist.c:150
 msgid "Only string or data is supported for a proplist dictionary key"
 msgstr ""
-"Seuls string ou data sont supportés pour une clée de dictionnaire proplist"
+"Seuls les types string ou data sont supportés pour une clé de dictionnaire "
+"Proplist"
 
 #: ../../WINGs/proplist.c:184 ../../WINGs/proplist.c:236
 #: ../../WINGs/proplist.c:394 ../../WINGs/proplist.c:474
-#: ../../WINGs/proplist.c:1071 ../../WINGs/proplist.c:1123
-#: ../../WINGs/proplist.c:1289 ../../WINGs/proplist.c:1368
-#: ../../WINGs/proplist.c:1489 ../../WINGs/proplist.c:1536
+#: ../../WINGs/proplist.c:1075 ../../WINGs/proplist.c:1127
+#: ../../WINGs/proplist.c:1293 ../../WINGs/proplist.c:1372
+#: ../../WINGs/proplist.c:1493 ../../WINGs/proplist.c:1540
 msgid "Used proplist functions on non-WMPropLists objects"
-msgstr "Une fonction proplist a été utilisée sur des objets non-WMPropList"
+msgstr "Une fonction Proplist a été utilisée sur des objets non-WMPropList"
 
 #: ../../WINGs/proplist.c:630
 msgid "unterminated PropList string"
@@ -81,52 +87,52 @@
 msgid "unterminated PropList data (missing hexdigit)"
 msgstr "données PropList sans fin (il manque un chiffre hexadécimal)"
 
-#: ../../WINGs/proplist.c:690
+#: ../../WINGs/proplist.c:690 ../../WINGs/proplist.c:695
 msgid "non hexdigit character in PropList data"
 msgstr "caractère non-hexadécimal dans les données PropList"
 
-#: ../../WINGs/proplist.c:725
+#: ../../WINGs/proplist.c:729
 msgid "unterminated PropList array"
 msgstr "tableau PropList sans fin"
 
-#: ../../WINGs/proplist.c:733
+#: ../../WINGs/proplist.c:737
 msgid "missing or unterminated PropList array"
 msgstr "tableau PropList manquant ou sans fin"
 
-#: ../../WINGs/proplist.c:743
+#: ../../WINGs/proplist.c:747
 msgid "could not get PropList array element"
 msgstr "impossible de lire l'élément du tableau PropList"
 
-#: ../../WINGs/proplist.c:772
+#: ../../WINGs/proplist.c:776
 msgid "unterminated PropList dictionary"
 msgstr "dictionnaire PropList sans fin"
 
-#: ../../WINGs/proplist.c:789
+#: ../../WINGs/proplist.c:793
 msgid "missing PropList dictionary key"
 msgstr "clef du dictionnaire PropList manquante"
 
-#: ../../WINGs/proplist.c:791
+#: ../../WINGs/proplist.c:795
 msgid "missing PropList dictionary entry key or unterminated dictionary"
 msgstr "clef du dictionnaire PropList manquante ou dictionnaire sans fin"
 
-#: ../../WINGs/proplist.c:799
+#: ../../WINGs/proplist.c:803
 msgid "error parsing PropList dictionary key"
 msgstr "erreur lors de l'analyse de la clef de dictionnaire PropList"
 
-#: ../../WINGs/proplist.c:807
+#: ../../WINGs/proplist.c:811
 msgid "missing = in PropList dictionary entry"
 msgstr "signe '=' manquant dans l'entrée du dictionnaire PropList"
 
-#: ../../WINGs/proplist.c:815
+#: ../../WINGs/proplist.c:819
 msgid "error parsing PropList dictionary entry value"
 msgstr ""
 "erreur lors de l'analyse de la valeur de l'entrée du dictionnaire PropList"
 
-#: ../../WINGs/proplist.c:823
+#: ../../WINGs/proplist.c:827
 msgid "missing ; in PropList dictionary entry"
 msgstr "signe ';' manquant dans l'entrée du dictionnaire PropList"
 
-#: ../../WINGs/proplist.c:884
+#: ../../WINGs/proplist.c:888
 msgid ""
 "was expecting a string, data, array or dictionary. If it's a string, try "
 "enclosing it with \"."
@@ -134,264 +140,264 @@
 "une chaine, des données, un tableau ou un dictionnaire étaient attendus. "
 "S'il s'agit d'une chaîne, essayez de la délimiter grâce à '\"'."
 
-#: ../../WINGs/proplist.c:888
+#: ../../WINGs/proplist.c:892
 msgid "Comments are not allowed inside WindowMaker owned domain files."
 msgstr ""
-"Les commentaires ne sont pas autorisés dans les fichiers appartenant au"
-"domaine de WindowMaker."
+"Les commentaires ne sont pas autorisés dans les fichiers appartenant au "
+"domaine de Window Maker."
 
-#: ../../WINGs/proplist.c:1559 ../../WINGs/proplist.c:1624
+#: ../../WINGs/proplist.c:1563 ../../WINGs/proplist.c:1628
 msgid "extra data after end of property list"
 msgstr "données excédentaires après la fin de la liste de propriétés"
 
-#: ../../WINGs/proplist.c:1602
+#: ../../WINGs/proplist.c:1606
 #, c-format
 msgid "could not get size for file '%s'"
 msgstr "impossible de déterminer la taille du fichier '%s'"
 
-#: ../../WINGs/proplist.c:1614
+#: ../../WINGs/proplist.c:1618
 #, c-format
 msgid "error reading from file '%s'"
 msgstr "erreur pendant la lecture du fichier '%s'"
 
-#: ../../WINGs/proplist.c:1665
+#: ../../WINGs/proplist.c:1669
 #, c-format
 msgid "mkstemp (%s) failed"
 msgstr "mkstemp (%s) a échoué"
 
-#: ../../WINGs/proplist.c:1676
+#: ../../WINGs/proplist.c:1680
 #, c-format
 msgid "mktemp (%s) failed"
 msgstr "mktemp (%s) a échoué"
 
-#: ../../WINGs/proplist.c:1687
+#: ../../WINGs/proplist.c:1691
 #, c-format
 msgid "open (%s) failed"
 msgstr "open (%s) a échoué"
 
-#: ../../WINGs/proplist.c:1694
+#: ../../WINGs/proplist.c:1698
 #, c-format
 msgid "writing to file: %s failed"
 msgstr "erreur pendant l'écriture dans le fichier '%s'"
 
-#: ../../WINGs/proplist.c:1702
+#: ../../WINGs/proplist.c:1706
 #, c-format
 msgid "fclose (%s) failed"
 msgstr "erreur lors de la fermeture du fichier '%s'"
 
-#: ../../WINGs/proplist.c:1711
+#: ../../WINGs/proplist.c:1715
 #, c-format
 msgid "rename ('%s' to '%s') failed"
 msgstr "impossible de renommer '%s' en '%s'"
 
 #. something happened with the file. just overwrite it
-#: ../../WINGs/userdefaults.c:192 ../../WINGs/userdefaults.c:208
+#: ../../WINGs/userdefaults.c:188 ../../WINGs/userdefaults.c:204
 #, c-format
 msgid "cannot read domain from file '%s' when syncing"
 msgstr ""
 "impossible de lire le domaine depuis le fichier '%s' pendant la "
 "synchronisation"
 
-#: ../../WINGs/wcolor.c:198 ../../WINGs/wcolor.c:211 ../../WINGs/wcolor.c:250
-#: ../../WINGs/wcolor.c:291
+#: ../../WINGs/wcolor.c:224 ../../WINGs/wcolor.c:236 ../../WINGs/wcolor.c:275
+#: ../../WINGs/wcolor.c:316
 #, c-format
 msgid "could not allocate %s color"
 msgstr "impossible d'allouer la couleur %s"
 
-#: ../../WINGs/wcolor.c:198
+#: ../../WINGs/wcolor.c:224
 msgid "white"
 msgstr "blanc"
 
-#: ../../WINGs/wcolor.c:211
+#: ../../WINGs/wcolor.c:236
 msgid "black"
 msgstr "noir"
 
-#: ../../WINGs/wcolor.c:250
+#: ../../WINGs/wcolor.c:275
 msgid "gray"
 msgstr "gris"
 
-#: ../../WINGs/wcolor.c:291
+#: ../../WINGs/wcolor.c:316
 msgid "dark gray"
 msgstr "gris sombre"
 
-#: ../../WINGs/wcolorpanel.c:415
+#: ../../WINGs/wcolorpanel.c:420
 msgid "Colors"
 msgstr "Couleurs"
 
-#: ../../WINGs/wcolorpanel.c:605 ../../WINGs/wcolorpanel.c:2824
+#: ../../WINGs/wcolorpanel.c:610 ../../WINGs/wcolorpanel.c:2829
 msgid "Brightness"
 msgstr "Luminosité"
 
-#: ../../WINGs/wcolorpanel.c:607 ../../WINGs/wcolorpanel.c:683
-#: ../../WINGs/wcolorpanel.c:716 ../../WINGs/wcolorpanel.c:750
-#: ../../WINGs/wcolorpanel.c:810 ../../WINGs/wcolorpanel.c:844
-#: ../../WINGs/wcolorpanel.c:878 ../../WINGs/wcolorpanel.c:913
-#: ../../WINGs/wcolorpanel.c:2164 ../../WINGs/wcolorpanel.c:2826
-#: ../../WINGs/wcolorpanel.c:2862 ../../WINGs/wcolorpanel.c:2898
-#: ../../WINGs/wcolorpanel.c:3746
+#: ../../WINGs/wcolorpanel.c:612 ../../WINGs/wcolorpanel.c:688
+#: ../../WINGs/wcolorpanel.c:721 ../../WINGs/wcolorpanel.c:755
+#: ../../WINGs/wcolorpanel.c:815 ../../WINGs/wcolorpanel.c:849
+#: ../../WINGs/wcolorpanel.c:883 ../../WINGs/wcolorpanel.c:918
+#: ../../WINGs/wcolorpanel.c:2169 ../../WINGs/wcolorpanel.c:2831
+#: ../../WINGs/wcolorpanel.c:2867 ../../WINGs/wcolorpanel.c:2903
+#: ../../WINGs/wcolorpanel.c:3745
 msgid "Color Panel: Could not allocate memory"
 msgstr "Panneau de Sélection des Couleur: impossible d'allouer la mémoire"
 
-#: ../../WINGs/wcolorpanel.c:680 ../../WINGs/wcolorpanel.c:681
+#: ../../WINGs/wcolorpanel.c:685 ../../WINGs/wcolorpanel.c:686
 msgid "Red"
 msgstr "Rouge"
 
-#: ../../WINGs/wcolorpanel.c:713 ../../WINGs/wcolorpanel.c:714
+#: ../../WINGs/wcolorpanel.c:718 ../../WINGs/wcolorpanel.c:719
 msgid "Green"
 msgstr "Vert"
 
-#: ../../WINGs/wcolorpanel.c:747 ../../WINGs/wcolorpanel.c:748
+#: ../../WINGs/wcolorpanel.c:752 ../../WINGs/wcolorpanel.c:753
 msgid "Blue"
 msgstr "Bleu"
 
-#: ../../WINGs/wcolorpanel.c:807 ../../WINGs/wcolorpanel.c:808
+#: ../../WINGs/wcolorpanel.c:812 ../../WINGs/wcolorpanel.c:813
 msgid "Cyan"
-msgstr ""
+msgstr "Cyan"
 
-#: ../../WINGs/wcolorpanel.c:841 ../../WINGs/wcolorpanel.c:842
+#: ../../WINGs/wcolorpanel.c:846 ../../WINGs/wcolorpanel.c:847
 msgid "Magenta"
-msgstr ""
+msgstr "Magenta"
 
-#: ../../WINGs/wcolorpanel.c:875 ../../WINGs/wcolorpanel.c:876
+#: ../../WINGs/wcolorpanel.c:880 ../../WINGs/wcolorpanel.c:881
 msgid "Yellow"
 msgstr "Jaune"
 
-#: ../../WINGs/wcolorpanel.c:910 ../../WINGs/wcolorpanel.c:911
+#: ../../WINGs/wcolorpanel.c:915 ../../WINGs/wcolorpanel.c:916
 msgid "Black"
 msgstr "Noir"
 
-#: ../../WINGs/wcolorpanel.c:991
+#: ../../WINGs/wcolorpanel.c:996
 msgid "Spectrum"
 msgstr "Spectre"
 
-#: ../../WINGs/wcolorpanel.c:1021
+#: ../../WINGs/wcolorpanel.c:1026
 msgid "Palette"
-msgstr ""
+msgstr "Palette"
 
-#: ../../WINGs/wcolorpanel.c:1027
+#: ../../WINGs/wcolorpanel.c:1032
 msgid "New from File..."
 msgstr "Nouveau d'après le fichier..."
 
-#: ../../WINGs/wcolorpanel.c:1028 ../../WINGs/wcolorpanel.c:1076
-#: ../../WINGs/wcolorpanel.c:1093
+#: ../../WINGs/wcolorpanel.c:1033 ../../WINGs/wcolorpanel.c:1081
+#: ../../WINGs/wcolorpanel.c:1098
 msgid "Rename..."
 msgstr "Renommer..."
 
-#: ../../WINGs/wcolorpanel.c:1029 ../../WINGs/wcolorpanel.c:1077
-#: ../../WINGs/wcolorpanel.c:1094 ../../WINGs/wcolorpanel.c:3321
+#: ../../WINGs/wcolorpanel.c:1034 ../../WINGs/wcolorpanel.c:1082
+#: ../../WINGs/wcolorpanel.c:1099 ../../WINGs/wcolorpanel.c:3326
 msgid "Remove"
 msgstr "Supprimer"
 
-#: ../../WINGs/wcolorpanel.c:1030
+#: ../../WINGs/wcolorpanel.c:1035
 msgid "Copy"
 msgstr "Copier"
 
-#: ../../WINGs/wcolorpanel.c:1031
+#: ../../WINGs/wcolorpanel.c:1036
 msgid "New from Clipboard"
-msgstr "Nouveau d'après le Presse-Papier"
+msgstr "Nouveau d'après le presse-papier"
 
-#: ../../WINGs/wcolorpanel.c:1052
+#: ../../WINGs/wcolorpanel.c:1057
 msgid "X11-Colors"
 msgstr "Couleurs X11"
 
-#: ../../WINGs/wcolorpanel.c:1069
+#: ../../WINGs/wcolorpanel.c:1074
 msgid "Color"
 msgstr "Couleur"
 
-#: ../../WINGs/wcolorpanel.c:1075
+#: ../../WINGs/wcolorpanel.c:1080
 msgid "Add..."
 msgstr "Ajouter..."
 
-#: ../../WINGs/wcolorpanel.c:1085
+#: ../../WINGs/wcolorpanel.c:1090
 msgid "List"
 msgstr "Liste"
 
-#: ../../WINGs/wcolorpanel.c:1092
+#: ../../WINGs/wcolorpanel.c:1097
 msgid "New..."
 msgstr "Nouveau..."
 
-#: ../../WINGs/wcolorpanel.c:1231
+#: ../../WINGs/wcolorpanel.c:1236
 #, c-format
 msgid ""
 "Color Panel: Could not create directory %s needed to store configurations"
 msgstr ""
-"Panneau de Sélection des Couleurs: impossible de créer le répertoire %s "
-"requis pour enregistrer les configurations"
+"Panneau de sélection des couleurs : impossible de créer le répertoire %s "
+"requis pour enregistrer les configurations."
 
 #. Delete the file, it doesn't belong here
-#: ../../WINGs/wcolorpanel.c:1237 ../../WINGs/wcolorpanel.c:3207
-#: ../../WINGs/wcolorpanel.c:3211
+#: ../../WINGs/wcolorpanel.c:1242 ../../WINGs/wcolorpanel.c:3212
+#: ../../WINGs/wcolorpanel.c:3216
 msgid "File Error"
 msgstr "Erreur de fichier"
 
-#: ../../WINGs/wcolorpanel.c:1238
+#: ../../WINGs/wcolorpanel.c:1243
 msgid "Could not create ColorPanel configuration directory"
 msgstr ""
-"Impossible de créer le répertoire de configuration pour le Panneau "
-"de configuration des couleurs"
+"Impossible de créer le répertoire pour la configuration du panneau de "
+"sélection des couleurs."
 
-#: ../../WINGs/wcolorpanel.c:1239 ../../WINGs/wcolorpanel.c:3208
-#: ../../WINGs/wcolorpanel.c:3213 ../../WINGs/wcolorpanel.c:3240
-#: ../../WINGs/wfilepanel.c:250 ../../WINGs/wfilepanel.c:647
-#: ../../WINGs/wfilepanel.c:659 ../../WINGs/wfilepanel.c:760
-#: ../../WINGs/wfilepanel.c:971 ../../WINGs/wfontpanel.c:709
+#: ../../WINGs/wcolorpanel.c:1244 ../../WINGs/wcolorpanel.c:3213
+#: ../../WINGs/wcolorpanel.c:3218 ../../WINGs/wcolorpanel.c:3245
+#: ../../WINGs/wfilepanel.c:250 ../../WINGs/wfilepanel.c:650
+#: ../../WINGs/wfilepanel.c:662 ../../WINGs/wfilepanel.c:763
+#: ../../WINGs/wfilepanel.c:974 ../../WINGs/wfontpanel.c:751
 msgid "OK"
 msgstr "OK"
 
-#: ../../WINGs/wcolorpanel.c:1245 ../../WINGs/wcolorpanel.c:1281
-#: ../../WINGs/wcolorpanel.c:1299
+#: ../../WINGs/wcolorpanel.c:1250 ../../WINGs/wcolorpanel.c:1286
+#: ../../WINGs/wcolorpanel.c:1304
 msgid "Color Panel: Could not find file"
-msgstr "Panneau de Sélection des Couleurs: Impossible de trouver le fichier"
+msgstr "Panneau de sélection des couleurs : Impossible de trouver le fichier."
 
-#: ../../WINGs/wcolorpanel.c:1486 ../../WINGs/wcolorpanel.c:1551
-#: ../../WINGs/wcolorpanel.c:1615
+#: ../../WINGs/wcolorpanel.c:1491 ../../WINGs/wcolorpanel.c:1556
+#: ../../WINGs/wcolorpanel.c:1620
 msgid "Color Panel: X failed request"
-msgstr "Panneau de Sélection des Couleurs: échec d'une requête X"
+msgstr "Panneau de sélection des couleurs : échec d'une requête X"
 
-#: ../../WINGs/wcolorpanel.c:2860
+#: ../../WINGs/wcolorpanel.c:2865
 msgid "Saturation"
-msgstr ""
+msgstr "Saturation"
 
-#: ../../WINGs/wcolorpanel.c:2896
+#: ../../WINGs/wcolorpanel.c:2901
 msgid "Hue"
 msgstr "Teinte"
 
-#: ../../WINGs/wcolorpanel.c:3146
+#: ../../WINGs/wcolorpanel.c:3151
 msgid "Open Palette"
 msgstr "Ouvrir une palette"
 
-#: ../../WINGs/wcolorpanel.c:3208
+#: ../../WINGs/wcolorpanel.c:3213
 msgid "Invalid file format !"
-msgstr "Format de fichier invalide!"
+msgstr "Format de fichier invalide !"
 
-#: ../../WINGs/wcolorpanel.c:3210
+#: ../../WINGs/wcolorpanel.c:3215
 #, c-format
 msgid "can't remove file %s"
-msgstr "impossible de supprimer le fichier %s"
+msgstr "Impossible de supprimer le fichier %s."
 
-#: ../../WINGs/wcolorpanel.c:3212
+#: ../../WINGs/wcolorpanel.c:3217
 msgid "Couldn't remove file from Configuration Directory !"
 msgstr "Impossible de supprimer le fichier du répertoire de configuration !"
 
-#: ../../WINGs/wcolorpanel.c:3239
+#: ../../WINGs/wcolorpanel.c:3244
 msgid "Rename"
 msgstr "Renommer"
 
-#: ../../WINGs/wcolorpanel.c:3239
+#: ../../WINGs/wcolorpanel.c:3244
 msgid "Rename palette to:"
 msgstr "Renommer la palette en :"
 
-#: ../../WINGs/wcolorpanel.c:3240 ../../WINGs/wfilepanel.c:259
-#: ../../WINGs/wfilepanel.c:659 ../../WINGs/wfilepanel.c:760
+#: ../../WINGs/wcolorpanel.c:3245 ../../WINGs/wfilepanel.c:259
+#: ../../WINGs/wfilepanel.c:662 ../../WINGs/wfilepanel.c:763
 msgid "Cancel"
 msgstr "Annuler"
 
 #. Careful, this palette exists already
-#: ../../WINGs/wcolorpanel.c:3256 ../../WINGs/wfilepanel.c:760
+#: ../../WINGs/wcolorpanel.c:3261 ../../WINGs/wfilepanel.c:763
 msgid "Warning"
 msgstr "Avertissement"
 
-#: ../../WINGs/wcolorpanel.c:3257
+#: ../../WINGs/wcolorpanel.c:3262
 msgid ""
 "Palette already exists !\n"
 "\n"
@@ -401,24 +407,24 @@
 "\n"
 "Écraser ?"
 
-#: ../../WINGs/wcolorpanel.c:3257 ../../WINGs/wcolorpanel.c:3321
+#: ../../WINGs/wcolorpanel.c:3262 ../../WINGs/wcolorpanel.c:3326
 msgid "No"
 msgstr "Non"
 
-#: ../../WINGs/wcolorpanel.c:3257 ../../WINGs/wcolorpanel.c:3321
+#: ../../WINGs/wcolorpanel.c:3262 ../../WINGs/wcolorpanel.c:3326
 msgid "Yes"
 msgstr "Oui"
 
-#: ../../WINGs/wcolorpanel.c:3289
+#: ../../WINGs/wcolorpanel.c:3294
 #, c-format
 msgid "Couldn't rename palette %s to %s\n"
-msgstr "Impossible de renommer la palette %s en %s\n"
+msgstr "Impossible de renommer la palette %s en %s.\n"
 
-#: ../../WINGs/wcolorpanel.c:3315
+#: ../../WINGs/wcolorpanel.c:3320
 msgid "This will permanently remove the palette "
-msgstr "Cela va détruire la palette irrécupérablement "
+msgstr "Ceci détruira définitivement la palette "
 
-#: ../../WINGs/wcolorpanel.c:3318
+#: ../../WINGs/wcolorpanel.c:3323
 msgid ""
 ".\n"
 "\n"
@@ -426,31 +432,31 @@
 msgstr ""
 ".\n"
 "\n"
-"Êtes-vous sur de vouloir supprimer cette palette ?"
+"Êtes-vous sûr de vouloir supprimer cette palette ?"
 
-#: ../../WINGs/wcolorpanel.c:3343
+#: ../../WINGs/wcolorpanel.c:3348
 #, c-format
 msgid "Couldn't remove palette %s\n"
-msgstr "Impossible de détruire la palette %s\n"
+msgstr "Impossible de détruire la palette %s.\n"
 
-#: ../../WINGs/wcolorpanel.c:3648
+#: ../../WINGs/wcolorpanel.c:3647
 #, c-format
 msgid "Could not open %s"
-msgstr "Impossible d'ouvrir %s"
+msgstr "Impossible d'ouvrir %s."
 
-#: ../../WINGs/wcolorpanel.c:3655
+#: ../../WINGs/wcolorpanel.c:3654
 #, c-format
 msgid "Could not create %s"
-msgstr "Impossible de créer %s"
+msgstr "Impossible de créer %s."
 
-#: ../../WINGs/wcolorpanel.c:3666
+#: ../../WINGs/wcolorpanel.c:3665
 #, c-format
 msgid "Write error on file %s"
-msgstr "Erreur d'écriture dans le fichier %s"
+msgstr "Erreur d'écriture dans le fichier %s."
 
-#: ../../WINGs/wcolorpanel.c:3711
+#: ../../WINGs/wcolorpanel.c:3710
 msgid "Color Panel: Color unspecified"
-msgstr "Panneau de Sélection des Couleurs: couleur non spécifiée"
+msgstr "Panneau de sélection des couleurs: couleur non spécifiée."
 
 #: ../../WINGs/wfilepanel.c:235
 msgid "Name:"
@@ -462,211 +468,272 @@
 
 #: ../../WINGs/wfilepanel.c:350 ../../WINGs/wfilepanel.c:402
 msgid "Save"
-msgstr "Sauvegarder"
+msgstr "Enregistrer"
 
-#: ../../WINGs/wfilepanel.c:562
+#: ../../WINGs/wfilepanel.c:565
 #, c-format
 msgid "WINGs: could not open directory %s\n"
-msgstr "WINGs: Impossible d'ouvrir le répertoire %s\n"
+msgstr "WINGs : Impossible d'ouvrir le répertoire %s.\n"
 
-#: ../../WINGs/wfilepanel.c:580
+#: ../../WINGs/wfilepanel.c:583
 #, c-format
 msgid "WINGs: could not stat %s\n"
-msgstr "WINGs: impossible de lire l'état du fichier %s\n"
+msgstr "WINGs : impossible de lire l'état du fichier %s.\n"
 
-#: ../../WINGs/wfilepanel.c:647 ../../WINGs/wfilepanel.c:970
-#: ../../WINGs/wfontpanel.c:708
+#: ../../WINGs/wfilepanel.c:650 ../../WINGs/wfilepanel.c:973
+#: ../../WINGs/wfontpanel.c:750
 msgid "Error"
 msgstr "Erreur"
 
-#: ../../WINGs/wfilepanel.c:658
+#: ../../WINGs/wfilepanel.c:661
 msgid "Create Directory"
 msgstr "Créer un répertoire"
 
-#: ../../WINGs/wfilepanel.c:659
+#: ../../WINGs/wfilepanel.c:662
 msgid "Enter directory name"
 msgstr "Saisissez le nom du répertoire"
 
-#: ../../WINGs/wfilepanel.c:695 ../../WINGs/wfilepanel.c:734
-#: ../../WINGs/wfilepanel.c:765 ../../WINGs/wfilepanel.c:793
+#: ../../WINGs/wfilepanel.c:698 ../../WINGs/wfilepanel.c:737
+#: ../../WINGs/wfilepanel.c:768 ../../WINGs/wfilepanel.c:796
 msgid "Permission denied."
 msgstr "Permission refusée."
 
-#: ../../WINGs/wfilepanel.c:698
+#: ../../WINGs/wfilepanel.c:701
 #, c-format
 msgid "'%s' already exists."
 msgstr "'%s' existe déjà."
 
-#: ../../WINGs/wfilepanel.c:701
+#: ../../WINGs/wfilepanel.c:704
 msgid "Path does not exist."
 msgstr "Le chemin n'existe pas."
 
-#: ../../WINGs/wfilepanel.c:731 ../../WINGs/wfilepanel.c:790
+#: ../../WINGs/wfilepanel.c:734 ../../WINGs/wfilepanel.c:793
 #, c-format
 msgid "'%s' does not exist."
 msgstr "'%s' n'existe pas."
 
-#: ../../WINGs/wfilepanel.c:738 ../../WINGs/wfilepanel.c:797
+#: ../../WINGs/wfilepanel.c:741 ../../WINGs/wfilepanel.c:800
 msgid "Insufficient memory available."
 msgstr "Mémoire disponible insuffisante."
 
-#: ../../WINGs/wfilepanel.c:742 ../../WINGs/wfilepanel.c:801
+#: ../../WINGs/wfilepanel.c:745 ../../WINGs/wfilepanel.c:804
 #, c-format
 msgid "'%s' is on a read-only filesystem."
 msgstr "'%s' est sur un système de fichiers en lecture seule."
 
-#: ../../WINGs/wfilepanel.c:745 ../../WINGs/wfilepanel.c:777
-#: ../../WINGs/wfilepanel.c:804
+#: ../../WINGs/wfilepanel.c:748 ../../WINGs/wfilepanel.c:780
+#: ../../WINGs/wfilepanel.c:807
 #, c-format
 msgid "Can not delete '%s'."
 msgstr "Impossible de supprimer '%s'."
 
-#: ../../WINGs/wfilepanel.c:752
+#: ../../WINGs/wfilepanel.c:755
 #, c-format
 msgid "Delete directory %s ?"
 msgstr "Supprimer le répertoire %s ?"
 
-#: ../../WINGs/wfilepanel.c:756
+#: ../../WINGs/wfilepanel.c:759
 #, c-format
 msgid "Delete file %s ?"
 msgstr "Supprimer le fichier %s ?"
 
-#: ../../WINGs/wfilepanel.c:768
+#: ../../WINGs/wfilepanel.c:771
 #, c-format
 msgid "Directory '%s' does not exist."
 msgstr "Le répertoire '%s' n'existe pas."
 
-#: ../../WINGs/wfilepanel.c:771
+#: ../../WINGs/wfilepanel.c:774
 #, c-format
-msgid "Le répertoire '%s' n'est pas vide."
-msgstr "Verzeichnis '%s' ist nicht leer."
+msgid "Directory '%s' is not empty."
+msgstr "Le répertoire '%s' n'est pas vide."
 
-#: ../../WINGs/wfilepanel.c:774
+#: ../../WINGs/wfilepanel.c:777
 #, c-format
 msgid "Directory '%s' is busy."
 msgstr "Le répertoire '%s' est occupé."
 
-#: ../../WINGs/wfilepanel.c:787
+#: ../../WINGs/wfilepanel.c:790
 #, c-format
 msgid "'%s' is a directory."
 msgstr "'%s' est un répertoire."
 
-#: ../../WINGs/wfilepanel.c:829
+#: ../../WINGs/wfilepanel.c:832
 #, c-format
 msgid "An error occured browsing '%s'."
 msgstr "Une erreur s'est produite pendant le parcours de '%s'."
 
-#: ../../WINGs/wfilepanel.c:833
+#: ../../WINGs/wfilepanel.c:836
 #, c-format
 msgid "'%s' is not a directory."
 msgstr "'%s' n'est pas un répertoire."
 
-#: ../../WINGs/wfilepanel.c:970
+#: ../../WINGs/wfilepanel.c:973
 msgid "File does not exist."
 msgstr "Le fichier n'existe pas."
 
-#: ../../WINGs/wfont.c:129
+#: ../../WINGs/wfont.c:133 ../../WINGs/wfont.c:143
+#, c-format
+msgid "Invalid size specification '%s' in %s. Using default %d\n"
+msgstr ""
+"Taille invalide dans %2$s : '%1$s'. Utilisation de la valeur par défaut %3"
+"$d\n"
+
+#: ../../WINGs/wfont.c:187
 #, c-format
 msgid "the following character sets are missing in %s:"
-msgstr "les jeux de caractères suivants manquent dans %s:"
+msgstr "Les jeux de caractères suivants manquent dans %s :"
 
-#: ../../WINGs/wfont.c:136
+#: ../../WINGs/wfont.c:193
 #, c-format
 msgid ""
 "the string \"%s\" will be used in place of any characters from those sets."
 msgstr ""
-"la chaîne \"%s\" sera utilisée à la place de tous les caractères de ces jeux."
+"La chaîne « %s » sera utilisée à la place de tous les caractères de ces jeux."
 
-#: ../../WINGs/wfont.c:287 ../../WINGs/wfont.c:323
+#. is arial a good fallback for multibyte?
+#: ../../WINGs/wfont.c:599 ../../WINGs/wfont.c:614
 #, c-format
-msgid "could not load font set %s. Trying fixed."
-msgstr "impossible de charger le jeu de fontes %s, essai du jeu 'fixed'."
+msgid "could not load font %s. Trying arial."
+msgstr ""
+"Impossible de charger la police de caractères %s, essai de la police "
+"« arial »."
+
+#: ../../WINGs/wfont.c:606
+msgid "could not load antialiased font set. Reverting to standard font sets."
+msgstr ""
+"Impossible de charger les polices lissées, utilisation des polices normales."
+
+#: ../../WINGs/wfont.c:609
+#, c-format
+msgid "could not load FontSet %s. Trying fixed."
+msgstr ""
+"Impossible de charger la famille de polices %s, essai de la famille "
+"« fixed »."
 
-#: ../../WINGs/wfont.c:293 ../../WINGs/wfont.c:329
+#: ../../WINGs/wfont.c:621
+msgid "could not load antialiased fonts. Reverting to normal fonts."
+msgstr ""
+"Impossible de charger les polices lissées, utilisation des polices normales."
+
+#: ../../WINGs/wfont.c:624 ../../WINGs/wfont.c:635
 #, c-format
 msgid "could not load font %s. Trying fixed."
-msgstr "impossible de charger la fonte %s, essai de la fonte 'fixed'."
+msgstr ""
+"Impossible de charger la police de caractères %s, essai de la police "
+"« fixed »."
+
+#: ../../WINGs/wfont.c:629
+#, c-format
+msgid "could not load font set %s. Trying fixed."
+msgstr ""
+"Impossible de charger la famille de polices %s, essai de la famille "
+"« fixed »."
 
-#: ../../WINGs/wfont.c:297 ../../WINGs/wfont.c:333
+#: ../../WINGs/wfont.c:639
 msgid "could not load fixed font!"
-msgstr "impossible de charger la fonte 'fixed' !"
+msgstr "Impossible de charger la police de caractères « fixed » !"
+
+#: ../../WINGs/wfont.c:704 ../../WINGs/wfont.c:765 ../../WINGs/wfont.c:836
+#, c-format
+msgid ""
+"Conversion to widechar failed (possible invalid multibyte sequence): '%s':"
+"(pos %d)\n"
+msgstr ""
+"Échec de la conversion en widechar (probablement une séquence d'octets "
+"erronée) : « %s » (pos %d)\n"
 
-#: ../../WINGs/wfont.c:428
+#: ../../WINGs/wfont.c:887
 #, c-format
 msgid "font description %s is too large."
-msgstr "description de fonte %s trop grosse"
+msgstr "La description de la police de caractères %s est trop volumineuse."
+
+#. // remove warning later. or maybe not
+#: ../../WINGs/wfont.c:935
+#, c-format
+msgid "Invalid font specification: '%s'\n"
+msgstr "Déclaration de police invalide : « %s »\n"
 
-#: ../../WINGs/wfontpanel.c:205
+#: ../../WINGs/wfontpanel.c:235
 msgid "Test!!!"
-msgstr ""
+msgstr "Test !"
 
-#: ../../WINGs/wfontpanel.c:211
+#: ../../WINGs/wfontpanel.c:241
 msgid "Family"
 msgstr "Famille"
 
-#: ../../WINGs/wfontpanel.c:222
+#: ../../WINGs/wfontpanel.c:252
 msgid "Typeface"
-msgstr ""
+msgstr "Caractère"
 
-#: ../../WINGs/wfontpanel.c:233
+#: ../../WINGs/wfontpanel.c:263
 msgid "Size"
 msgstr "Taille"
 
-#: ../../WINGs/wfontpanel.c:252
+#: ../../WINGs/wfontpanel.c:282
 msgid "Set"
-msgstr ""
+msgstr "Famille"
 
-#: ../../WINGs/wfontpanel.c:257
+#: ../../WINGs/wfontpanel.c:288
 msgid "Revert"
 msgstr "Revenir"
 
-#: ../../WINGs/wfontpanel.c:709
+#: ../../WINGs/wfontpanel.c:751
 msgid "Could not retrieve font list"
-msgstr "Impossible de lire la liste des fontes"
+msgstr "Impossible de lire la liste des polices de caractères."
 
-#: ../../WINGs/wfontpanel.c:721
+#: ../../WINGs/wfontpanel.c:765
 #, c-format
 msgid "font name %s is longer than 256, which is invalid."
 msgstr ""
-"Le nom de fonte %s a plus de 256 caractères et est par conséquent invalide."
+"Le nom de police %s a plus de 256 caractères et est par conséquent invalide."
 
-#: ../../WINGs/wfontpanel.c:868
+#: ../../WINGs/wfontpanel.c:913
 msgid "Roman"
 msgstr "Roman"
 
-#: ../../WINGs/wfontpanel.c:871
+#: ../../WINGs/wfontpanel.c:916
 msgid "Italic"
 msgstr "Italique"
 
-#: ../../WINGs/wfontpanel.c:873
+#: ../../WINGs/wfontpanel.c:918
 msgid "Oblique"
-msgstr ""
+msgstr "Penché"
 
-#: ../../WINGs/wfontpanel.c:875
+#: ../../WINGs/wfontpanel.c:920
 msgid "Rev Italic"
-msgstr ""
+msgstr "Italique inverse"
 
-#: ../../WINGs/wfontpanel.c:877
+#: ../../WINGs/wfontpanel.c:922
 msgid "Rev Oblique"
-msgstr ""
+msgstr "Penché inverse"
 
-#: ../../WINGs/wfontpanel.c:883
+#: ../../WINGs/wfontpanel.c:928
 msgid "Normal"
 msgstr "Normal"
 
-#: ../../WINGs/widgets.c:415
+#: ../../WINGs/widgets.c:419
 #, c-format
 msgid "WINGs: could not load widget images file: %s"
-msgstr "WINGs: impossible de charger le fichier d'images de widget '%s'."
+msgstr "WINGs : impossible de charger le fichier d'images de widget '%s'."
+
+#: ../../WINGs/widgets.c:770
+msgid ""
+"Text antialiasing is enabled in the configuration but the X server doesn't "
+"have the required capabilities (missing RENDER extension). Disabling text "
+"antialiasing."
+msgstr ""
+"Le lissage du texte est activé dans la configuration mais le serveur X ne "
+"dispose pas de l'extension adéquate (extension RENDER). Desactivation du "
+"lissage."
 
-#: ../../WINGs/widgets.c:763
+#: ../../WINGs/widgets.c:787
 msgid ""
-"could not load any fonts. Make sure your font installationand locale "
+"could not load any fonts. Make sure your font installation and locale "
 "settings are correct."
 msgstr ""
-"Aucune fonte n'a pu être chargée. Veuillez vérifier que votre installation "
-"et vos paramètres d'installation sont corrects."
+"Aucune police n'a pu être chargée. Veuillez vérifier que vos polices sont "
+"correctement installées et que votre langue est bien configurée."
 
-#: ../../WINGs/wruler.c:189
+#: ../../WINGs/wruler.c:192
 msgid "0   inches"
 msgstr "0   pouces"
diff -Naur WindowMaker-0.80.2/WINGs/po/Makefile.am wm-xft2/WINGs/po/Makefile.am
--- WindowMaker-0.80.2/WINGs/po/Makefile.am	2002-02-28 16:26:09.000000000 +0300
+++ wm-xft2/WINGs/po/Makefile.am	2003-10-22 14:08:35.000000000 +0400
@@ -4,7 +4,7 @@
 
 CLEANFILES = $(CATALOGS) WINGs.pot
 
-EXTRA_DIST = cs.po de.po sk.po fr.po
+EXTRA_DIST = bg.po ca.po cs.po de.po fr.po sk.po
 
 POTFILES  = \
 	$(top_builddir)/WINGs/connection.c \
@@ -27,6 +27,8 @@
 	msgfmt -o $@ $<
 
 
+all-local: $(CATALOGS)
+
 WINGs.pot: $(POTFILES)
 	xgettext --default-domain=WINGs \
 	--add-comments --keyword=_ $(POTFILES)
diff -Naur WindowMaker-0.80.2/WINGs/po/README wm-xft2/WINGs/po/README
--- WindowMaker-0.80.2/WINGs/po/README	2002-02-28 16:26:09.000000000 +0300
+++ wm-xft2/WINGs/po/README	2003-10-22 14:08:35.000000000 +0400
@@ -4,10 +4,13 @@
 
 File	Language	Note	Current Maintainer
 ------------------------------------------------------------------------------
+ca.po	Catalan			Ernest Adrogué <eadrogue@gmx.net>
 cs.po	Czech		1	Jiri Hnidek <Jiri.Hnidek@vslib.cz
 de.po	German		1	Guido Scholz <guido.scholz@bayernline.de>
-sk.po	Slovak		1	Jan 'judas' Tomka <judas@linux.sk>
 fr.po	French			Emmanuel Benoit <tseeker@neptune.fr>
+				Antoine Hulin <antoine@origan.fdn.org>
+sk.po	Slovak		1	Jan 'judas' Tomka <judas@linux.sk>
+bg.po	Bulgarian		Anton Zinoviev <zinoviev@debian.org>
 
 Notes
 -----
diff -Naur WindowMaker-0.80.2/WINGs/proplist.c wm-xft2/WINGs/proplist.c
--- WindowMaker-0.80.2/WINGs/proplist.c	2002-02-21 14:28:36.000000000 +0300
+++ wm-xft2/WINGs/proplist.c	2003-10-22 14:08:34.000000000 +0400
@@ -1593,7 +1593,7 @@
     struct stat stbuf;
     size_t length;
 
-    f = fopen(file, "r");
+    f = fopen(file, "rb");
     if (!f) {
         /* let the user print the error message if he really needs to */
         /*wsyserror(_("could not open domain file '%s' for reading"), file);*/
@@ -1615,7 +1615,9 @@
     pldata->lineNumber = 1;
 
     if (fread(pldata->ptr, length, 1, f) != 1) {
-        wsyserror(_("error reading from file '%s'"), file);
+        if (ferror(f)) {
+            wsyserror(_("error reading from file '%s'"), file);
+        }
         plist = NULL;
         goto cleanup;
     }
@@ -1672,7 +1674,7 @@
         mask = umask(0);
         umask(mask);
         fchmod(fd, 0644 & ~mask);
-        if ((theFile = fdopen(fd, "w")) == NULL) {
+        if ((theFile = fdopen(fd, "wb")) == NULL) {
             close(fd);
         }
 #else
diff -Naur WindowMaker-0.80.2/WINGs/python/Makefile wm-xft2/WINGs/python/Makefile
--- WindowMaker-0.80.2/WINGs/python/Makefile	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/WINGs/python/Makefile	2003-10-22 14:08:35.000000000 +0400
@@ -0,0 +1,17 @@
+
+all: WINGs.c
+	python setup.py build
+	ln -sf `find build/ -name wings.so` .
+
+install: WINGs.c
+	python setup.py install
+
+clean:
+	rm -rf build dist WINGs.c *.o *~ *.so MANIFEST wings.py *.pyc *.pyo core
+
+dist:
+	python setup.py sdist
+
+WINGs.c: WINGs.i
+	swig -python -noproxy `get-wings-flags --cflags` -I.. -o WINGs.c WINGs.i
+
diff -Naur WindowMaker-0.80.2/WINGs/python/README wm-xft2/WINGs/python/README
--- WindowMaker-0.80.2/WINGs/python/README	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/WINGs/python/README	2003-10-22 14:08:35.000000000 +0400
@@ -0,0 +1,21 @@
+
+This is a python wrapper for the WINGs library. With it you can write python
+based programs which will have WINGs based graphic interfaces.
+
+This module in not built by default. To build it you need python2.1 or later
+and swig-1.3.14 or later.
+
+To build it, first compile and install WINGs. after that run 'make' in this
+directory. 'make install' will install the python module into the python tree.
+
+run test.py or even WINGs.py for an example.
+
+the code is not yet finished and probably won't do everything you expect it
+to do.
+
+Note: currently the module expects WINGs installed to build. it won't take
+the WINGs libraries and header files from the source tree. You need to
+install WINGs first. Even if an old version of WINGs is already installed,
+you still need to nstall the newly built WINGs, else the python module will
+be built against the old version
+
diff -Naur WindowMaker-0.80.2/WINGs/python/setup.py wm-xft2/WINGs/python/setup.py
--- WindowMaker-0.80.2/WINGs/python/setup.py	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/WINGs/python/setup.py	2003-10-22 14:08:35.000000000 +0400
@@ -0,0 +1,74 @@
+#!/usr/bin/env python
+
+"""Setup script for the WINGs module distribution."""
+
+import os, sys
+from distutils.core import setup
+from distutils.extension import Extension
+
+## Get the include dirs
+wings = os.popen("get-wings-flags --cflags", "r")
+lines = [x.strip() for x in wings.readlines()]
+flags = reduce(lambda x,y: x+y, [x.split() for x in lines if x])
+include_dirs = [x[2:] for x in flags]
+#include_dirs += [".."]
+wings.close()
+
+## Get the library dirs
+wings = os.popen("get-wings-flags --ldflags", "r")
+lines = [x.strip() for x in wings.readlines()]
+flags = reduce(lambda x,y: x+y, [x.split() for x in lines if x])
+library_dirs = [x[2:] for x in flags]
+#library_dirs += [".."]
+wings.close()
+
+## Get the libraries
+wings = os.popen("get-wings-flags --libs", "r")
+lines = [x.strip() for x in wings.readlines()]
+flags = reduce(lambda x,y: x+y, [x.split() for x in lines if x])
+libraries = [x[2:] for x in flags]
+wings.close()
+
+runtime_library_dirs = []
+extra_objects = []
+extra_compile_args = ['-Wno-strict-prototypes', '-Wno-unused']
+
+long_description = \
+"""Python interface to the WINGs library
+
+Python WINGs is an interface to WINGs, a small widget set with the
+N*XTSTEP look and feel. It's API is inspired in OpenStep and it's
+implementation borrows some ideas from Tk. It has a reasonable set of
+widgets, sufficient for building small applications (like a CDPlayer
+or hacking something like rxvt). It also has other functions that are
+usefull for applications, like a User Defaults alike configuration
+manager and a notification system.
+
+"""
+
+setup (# Distribution meta-data
+        name = "Python-WINGs",
+        version = "0.81.0",
+        description = "A python interface to WINGs",
+        long_description=long_description,
+        author = "Dan Pascu",
+        author_email = "dan@windowmaker.org",
+        license = "GPL",
+        platforms = "ALL",
+        url = "http://windowmaker.org/",
+
+        # Description of the modules and packages in the distribution
+
+        py_modules = ["WINGs"],
+
+        ext_modules = [Extension(
+                name='wings',
+                sources=['WINGs.c'],
+                include_dirs=include_dirs,
+                library_dirs=library_dirs,
+                runtime_library_dirs=runtime_library_dirs,
+                libraries=libraries,
+                extra_objects=extra_objects,
+                extra_compile_args=extra_compile_args,
+                )],
+)
diff -Naur WindowMaker-0.80.2/WINGs/python/test.py wm-xft2/WINGs/python/test.py
--- WindowMaker-0.80.2/WINGs/python/test.py	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/WINGs/python/test.py	2003-10-22 14:08:35.000000000 +0400
@@ -0,0 +1,159 @@
+#!/usr/bin/env python
+
+import sys
+from WINGs import *
+
+if __name__ == "__main__":
+    def quit(obj, data):
+        #sys.exit()
+        scr.breakMainLoop()
+
+    def click(btn, list):
+        print win.width(), win.height()
+        print list.selectedItemRow()
+        win2.show()
+        scr.runModalLoop(win2.view())
+        print txt2.text()
+
+    def sayhi(btn, data):
+        print "hi"
+
+    def breakLoop(btn, data):
+        #sys.exit()
+        scr.breakModalLoop()
+        win2.hide()
+
+    def dc(object, data, action):
+        print "didChange:", object, data, action
+
+    def dbe(object, data, action):
+        print "didBeginEditing:", object, data, action
+
+    def dee(object, data, action):
+        if action == wings.WMReturnTextMovement:
+            if object == txt:
+                object.setFocusTo(txt2)
+            else:
+                object.setFocusTo(txt)
+        print "didEndEditing:", object, data, action, object.text()
+
+    def tcb(one):
+        old = list.selectedItemRow()
+        list.selectItem(list.index)
+        list.unselectItem(old)
+        list.index = (list.index+1) % 3
+        #print one
+
+    scr = WMScreen("foobar")
+    win = WMWindow(scr, "aWindow")
+    win.setCloseAction(quit)
+    win.setTitle("test window")
+    win.resize(400, 180)
+    win.setInitialPosition((scr.width-win.width())/2, (scr.height-win.height())/2)
+
+    btn = WMCommandButton(win)
+    btn.setText("Click Me")
+    btn.resize(100, 25)
+    btn.move(20, 20)
+    btn.show()
+
+    sw = WMSwitchButton(win)
+    sw.setText("Some option")
+    sw.resize(100, 25)
+    sw.move(20, 50)
+    sw.show()
+
+    radios = []
+    r = None
+    j = 0
+    for i in ["One", "Two", "Four"]:
+        r = WMRadioButton(win, r)
+        radios.append(r)
+        r.show()
+        r.setText(i)
+        r.move(20, 70+j*25)
+        r.resize(100, 25)
+        j=j+1
+
+    sw.setAction(sayhi)
+
+    list = WMList(win)
+    list.resize(100,100)
+    list.move(130, 20)
+    list.addItem("one")
+    list.addItem("two")
+    list.addItem("three")
+    list.allowMultipleSelection(1)
+    list.show()
+    list.index = 0
+
+    txtdel = WMTextFieldDelegate()
+    txtdel.data = 'mydata'
+    txtdel.didBeginEditing = dbe
+    txtdel.didEndEditing = dee
+    txtdel.didChange = dc
+
+    txt = WMTextField(win)
+    txt.resize(95, 20)
+    txt.move(295, 20)
+    txt.setDelegate(txtdel)
+    txt.show()
+    txt2 = WMTextField(win, "01234567890")
+    txt2.resize(95, 20)
+    txt2.move(295, 45)
+    txt2.setDelegate(txtdel)
+    txt2.show()
+
+    txt.setNextText(txt2)
+    txt2.setNextText(txt)
+
+    label = WMLabel(win, "Text1:")
+    label.setTextAlignment(WARight)
+    label.move(240, 20)
+    label.resize(55, 20)
+    label.show()
+
+    label2 = WMLabel(win, "mytext2:")
+    label2.setTextAlignment(WARight)
+    label2.move(240, 45)
+    label2.resize(55, 20)
+    label2.show()
+    
+    btn.setAction(click, list)
+    
+    frame = WMFrame(win, "My Frame")
+    frame.resize(150, 50)
+    frame.move(240, 70)
+    #frame.setRelief(WRPushed)
+    frame.show()
+    
+    ebtn = WMCommandButton(win)
+    ebtn.setText("Exit")
+    ebtn.resize(100, 25)
+    ebtn.move(290, 147)
+    ebtn.setAction(quit)
+    ebtn.show()
+
+    win.realize()
+    win.show()
+
+    timer = WMPersistentTimer(1000, tcb, win)
+    #del(timer)
+    #timer.delete()
+    
+    win2 = WMPanel(win, "anotherWindow", WMTitledWindowMask)
+    win2.setTitle("transient test window")
+    win2.resize(150, 50)
+    win2.setInitialPosition((scr.width-win2.width())/2, (scr.height-win2.height())/2)
+
+    btn7 = WMCommandButton(win2)
+    btn7.setText("Dismiss")
+    btn7.resize(100, 25)
+    btn7.move(27, 10)
+    btn7.show()
+    btn7.setAction(breakLoop)
+
+    win2.realize()
+    
+    scr.mainLoop()
+
diff -Naur WindowMaker-0.80.2/WINGs/python/WINGs.i wm-xft2/WINGs/python/WINGs.i
--- WindowMaker-0.80.2/WINGs/python/WINGs.i	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/WINGs/python/WINGs.i	2003-10-22 14:08:35.000000000 +0400
@@ -0,0 +1,699 @@
+%module wings
+%{
+#include "WINGs/WINGsP.h"
+%}
+
+%include typemaps.i
+
+// This tells SWIG to treat char ** as a special case
+%typemap(python, in) char ** {
+    /* Check if is a list */
+    if (PyList_Check($input)) {
+        int size = PyList_Size($input);
+        int i = 0;
+        $1 = (char **) wmalloc((size+1)*sizeof(char *));
+        for (i = 0; i < size; i++) {
+            PyObject *o = PyList_GetItem($input, i);
+            if (PyString_Check(o))
+                $1[i] = PyString_AsString(PyList_GetItem($input, i));
+            else {
+                PyErr_SetString(PyExc_TypeError, "list must contain strings");
+                wfree($1);
+                return NULL;
+            }
+        }
+        $1[i] = 0;
+    } else {
+        PyErr_SetString(PyExc_TypeError, "not a list");
+        return NULL;
+    }
+}
+// This cleans up the char ** array we malloc-ed before the function call
+%typemap(python, freearg) char ** {
+    wfree($1);
+}
+// This allows a C function to return a char ** as a Python list
+%typemap(python, out) char ** {
+    int len,i;
+    len = 0;
+    while ($1[len]) len++;
+    $result = PyList_New(len);
+    for (i = 0; i < len; i++) {
+        PyList_SetItem($result, i, PyString_FromString($1[i]));
+    }
+}
+
+// Now for some callbacks
+%typemap(python, in) PyObject *pyacArgs {
+    if (PyTuple_Check($input)) {
+        if (PyTuple_Size($input) != 3) {
+            PyErr_SetString(PyExc_ValueError,
+                            "wrong number of parameters in tuple. should be 3.");
+            return NULL;
+        } else {
+            PyObject *func = PyTuple_GetItem($input, 1);
+            if (func!=Py_None && !PyCallable_Check(func)) {
+                PyErr_SetString(PyExc_TypeError,
+                                "'action' needs to be a callable object!");
+                return NULL;
+            }
+        }
+    } else {
+        PyErr_SetString(PyExc_TypeError, "2nd argument not a tuple!");
+        return NULL;
+    }
+    $1 = $input;
+}
+
+%typemap(python, in) PyObject *pycArgs {
+    if (PyTuple_Check($input)) {
+        if (PyTuple_Size($input) != 2) {
+            PyErr_SetString(PyExc_ValueError,
+                            "wrong number of parameters in tuple. should be 2.");
+            return NULL;
+        } else {
+            PyObject *func = PyTuple_GetItem($input, 0);
+            if (func!=Py_None && !PyCallable_Check(func)) {
+                PyErr_SetString(PyExc_TypeError,
+                                "'action' needs to be a callable object!");
+                return NULL;
+            }
+        }
+    } else {
+        PyErr_SetString(PyExc_TypeError, "2nd argument not a tuple!");
+        return NULL;
+    }
+    $1 = $input;
+}
+
+// Type mapping for grabbing a FILE * from Python
+%typemap(python, in) FILE * {
+    if (!PyFile_Check($input)) {
+        PyErr_SetString(PyExc_TypeError, "Need a file!");
+        return NULL;
+    }
+    $1 = PyFile_AsFile($input);
+}
+
+/* These are for free-ing the return of functions that need to be freed
+ * before returning control to python. */
+%typemap(python, ret) char* WMGetTextFieldText { wfree($1); };
+
+
+%include exception.i
+
+%exception pyWMScreenMainLoop {
+    $function
+    if (PyErr_Occurred())
+        return NULL;
+}
+
+%exception pyWMRunModalLoop {
+    $function
+    if (PyErr_Occurred())
+        return NULL;
+}
+
+%{
+    static int mainLoopDone = 0;
+%}
+
+
+%inline %{
+    WMScreen *pyWMOpenScreen(const char *display, int simpleapp)
+    {
+        Display *dpy = XOpenDisplay(display);
+
+        if (!dpy) {
+            wwarning("WINGs: could not open display %s", XDisplayName(display));
+            return NULL;
+        }
+
+        if (simpleapp) {
+            return WMCreateSimpleApplicationScreen(dpy);
+        } else {
+            return WMCreateScreen(dpy, DefaultScreen(dpy));
+        }
+    }
+
+    void pyWMScreenMainLoop(WMScreen *scr)
+    {
+        XEvent event;
+
+        while (!PyErr_Occurred() && !mainLoopDone) {
+            WMNextEvent(((W_Screen*)scr)->display, &event);
+            WMHandleEvent(&event);
+        }
+    }
+
+    void pyWMBreakScreenMainLoop(WMScreen *scr)
+    {
+        mainLoopDone = 1;
+    }
+
+    void pyWMRunModalLoop(WMScreen *scr, WMView *view)
+    {
+        int oldModalLoop = scr->modalLoop;
+        WMView *oldModalView = scr->modalView;
+
+        scr->modalView = view;
+
+        scr->modalLoop = 1;
+        while (!PyErr_Occurred() && scr->modalLoop) {
+            XEvent event;
+
+            WMNextEvent(scr->display, &event);
+            WMHandleEvent(&event);
+        }
+
+        scr->modalView = oldModalView;
+        scr->modalLoop = oldModalLoop;
+    }
+%}
+
+
+//%rename WMScreenMainLoop _WMScreenMainLoop;
+//%rename(_WMScreenMainLoop) WMScreenMainLoop;
+//%rename WMRunModalLoop _WMRunModalLoop;
+
+
+%{
+    /* These functions match the prototypes of the normal C callback
+     * functions. However, we use the clientdata pointer for holding a
+     * reference to a Python tuple containing (object, funct, clientData).
+     */
+    static void PythonWMActionCallback(WMWidget *widget, void *cdata)
+    {
+        PyObject *pyobj, *func, *pydata, *arglist, *tuple, *result;
+
+        tuple = (PyObject*) cdata;
+        pyobj = PyTuple_GetItem(tuple, 0);
+        func = PyTuple_GetItem(tuple, 1);
+        if (func && func!=Py_None) {
+            pydata = PyTuple_GetItem(tuple, 2);
+            arglist = Py_BuildValue("(OO)", pyobj, pydata);
+            result = PyEval_CallObject(func, arglist);
+            Py_DECREF(arglist);
+            Py_XDECREF(result);
+        }
+    }
+
+    static void PythonWMCallback(void *data)
+    {
+        PyObject *func, *pydata, *arglist, *tuple, *result;
+
+        tuple = (PyObject*) data;
+        func = PyTuple_GetItem(tuple, 0);
+        if (func && func!=Py_None) {
+            pydata = PyTuple_GetItem(tuple, 1);
+            arglist = Py_BuildValue("(O)", pydata);
+            result = PyEval_CallObject(func, arglist);
+            Py_DECREF(arglist);
+            Py_XDECREF(result);
+        }
+    }
+
+    static void
+    pyTextFieldDidBeginEditing(WMTextFieldDelegate *self, WMNotification *notif)
+    {
+        PyObject *pyobj, *delegate, *func, *pydata, *arglist, *tuple, *result;
+        int action;
+
+        tuple = (PyObject*) self->data;
+        pyobj = PyTuple_GetItem(tuple, 0);
+        delegate = PyTuple_GetItem(tuple, 1);
+        if (delegate != Py_None) {
+            // should we call PyObject_HasAttrString()?? rather not and let
+            // python raise an exception because the object doesn't has the
+            // attribute
+            func = PyObject_GetAttrString(delegate, "didBeginEditing");
+            if (func!=NULL && func!=Py_None) {
+                pydata = PyObject_GetAttrString(delegate, "data");
+                if (!pydata) {
+                    Py_INCREF(Py_None);
+                    pydata = Py_None;
+                }
+                action = (int)WMGetNotificationClientData(notif);
+                arglist = Py_BuildValue("(OOi)", pyobj, pydata, action);
+                result = PyEval_CallObject(func, arglist);
+                Py_DECREF(pydata);
+                Py_DECREF(arglist);
+                Py_XDECREF(result);
+            }
+            Py_XDECREF(func);
+        }
+    }
+
+    static void
+    pyTextFieldDidChange(WMTextFieldDelegate *self, WMNotification *notif)
+    {
+        PyObject *pyobj, *delegate, *func, *pydata, *arglist, *tuple, *result;
+        int action;
+
+        tuple = (PyObject*) self->data;
+        pyobj = PyTuple_GetItem(tuple, 0);
+        delegate = PyTuple_GetItem(tuple, 1);
+        if (delegate != Py_None) {
+            func = PyObject_GetAttrString(delegate, "didChange");
+            if (func!=NULL && func!=Py_None) {
+                pydata = PyObject_GetAttrString(delegate, "data");
+                if (!pydata) {
+                    Py_INCREF(Py_None);
+                    pydata = Py_None;
+                }
+                action = (int)WMGetNotificationClientData(notif);
+                arglist = Py_BuildValue("(OOi)", pyobj, pydata, action);
+                result = PyEval_CallObject(func, arglist);
+                Py_DECREF(pydata);
+                Py_DECREF(arglist);
+                Py_XDECREF(result);
+            }
+            Py_XDECREF(func);
+        }
+    }
+
+    static void
+    pyTextFieldDidEndEditing(WMTextFieldDelegate *self, WMNotification *notif)
+    {
+        PyObject *pyobj, *delegate, *func, *pydata, *arglist, *tuple, *result;
+        int action;
+
+        tuple = (PyObject*) self->data;
+        pyobj = PyTuple_GetItem(tuple, 0);
+        delegate = PyTuple_GetItem(tuple, 1);
+        if (delegate != Py_None) {
+            func = PyObject_GetAttrString(delegate, "didEndEditing");
+            if (func!=NULL && func!=Py_None) {
+                pydata = PyObject_GetAttrString(delegate, "data");
+                if (!pydata) {
+                    Py_INCREF(Py_None);
+                    pydata = Py_None;
+                }
+                action = (int)WMGetNotificationClientData(notif);
+                arglist = Py_BuildValue("(OOi)", pyobj, pydata, action);
+                result = PyEval_CallObject(func, arglist);
+                Py_DECREF(pydata);
+                Py_DECREF(arglist);
+                Py_XDECREF(result);
+            }
+            Py_XDECREF(func);
+        }
+    }
+
+    static Bool
+    pyTextFieldShouldBeginEditing(WMTextFieldDelegate *self, WMTextField *tPtr)
+    {
+        PyObject *pyobj, *delegate, *func, *pydata, *arglist, *tuple, *result;
+        Bool retval = False;
+
+        tuple = (PyObject*) self->data;
+        pyobj = PyTuple_GetItem(tuple, 0);
+        delegate = PyTuple_GetItem(tuple, 1);
+        if (delegate != Py_None) {
+            func = PyObject_GetAttrString(delegate, "shouldBeginEditing");
+            if (func!=NULL && func!=Py_None) {
+                pydata = PyObject_GetAttrString(delegate, "data");
+                if (!pydata) {
+                    Py_INCREF(Py_None);
+                    pydata = Py_None;
+                }
+                arglist = Py_BuildValue("(OO)", pyobj, pydata);
+                result = PyEval_CallObject(func, arglist);
+                if (result!=Py_None && PyInt_AsLong(result)!=0) {
+                    retval = True;
+                }
+                Py_DECREF(pydata);
+                Py_DECREF(arglist);
+                Py_XDECREF(result);
+            }
+            Py_XDECREF(func);
+        }
+
+        return retval;
+    }
+
+    static Bool
+    pyTextFieldShouldEndEditing(WMTextFieldDelegate *self, WMTextField *tPtr)
+    {
+        PyObject *pyobj, *delegate, *func, *pydata, *arglist, *tuple, *result;
+        Bool retval = False;
+
+        tuple = (PyObject*) self->data;
+        pyobj = PyTuple_GetItem(tuple, 0);
+        delegate = PyTuple_GetItem(tuple, 1);
+        if (delegate != Py_None) {
+            func = PyObject_GetAttrString(delegate, "shouldEndEditing");
+            if (func!=NULL && func!=Py_None) {
+                pydata = PyObject_GetAttrString(delegate, "data");
+                if (!pydata) {
+                    Py_INCREF(Py_None);
+                    pydata = Py_None;
+                }
+                arglist = Py_BuildValue("(OO)", pyobj, pydata);
+                result = PyEval_CallObject(func, arglist);
+                if (result!=Py_None && PyInt_AsLong(result)!=0) {
+                    retval = True;
+                }
+                Py_DECREF(pydata);
+                Py_DECREF(arglist);
+                Py_XDECREF(result);
+            }
+            Py_XDECREF(func);
+        }
+
+        return retval;
+    }
+%}
+
+%inline %{
+    void pyWMSetWindowCloseAction(WMWindow *win, PyObject *pyacArgs) {
+        WMSetWindowCloseAction(win, PythonWMActionCallback, (void*)pyacArgs);
+        Py_INCREF(pyacArgs);
+    }
+
+    void pyWMSetButtonAction(WMButton *bPtr, PyObject *pyacArgs) {
+        WMSetButtonAction(bPtr, PythonWMActionCallback, (void*)pyacArgs);
+        Py_INCREF(pyacArgs);
+    }
+
+    void pyWMSetScrollerAction(WMScroller *sPtr, PyObject *pyacArgs) {
+        WMSetScrollerAction(sPtr, PythonWMActionCallback, (void*)pyacArgs);
+        Py_INCREF(pyacArgs);
+    }
+
+    void pyWMSetListAction(WMList *lPtr, PyObject *pyacArgs) {
+        WMSetListAction(lPtr, PythonWMActionCallback, (void*)pyacArgs);
+        Py_INCREF(pyacArgs);
+    }
+
+    void pyWMSetListDoubleAction(WMList *lPtr, PyObject *pyacArgs) {
+        WMSetListDoubleAction(lPtr, PythonWMActionCallback, (void*)pyacArgs);
+        Py_INCREF(pyacArgs);
+    }
+
+    void pyWMSetBrowserAction(WMBrowser *bPtr, PyObject *pyacArgs) {
+        WMSetBrowserAction(bPtr, PythonWMActionCallback, (void*)pyacArgs);
+        Py_INCREF(pyacArgs);
+    }
+
+    void pyWMSetBrowserDoubleAction(WMBrowser *bPtr, PyObject *pyacArgs) {
+        WMSetBrowserDoubleAction(bPtr, PythonWMActionCallback, (void*)pyacArgs);
+        Py_INCREF(pyacArgs);
+    }
+
+    void pyWMSetMenuItemAction(WMMenuItem *miPtr, PyObject *pyacArgs) {
+        WMSetMenuItemAction(miPtr, PythonWMActionCallback, (void*)pyacArgs);
+        Py_INCREF(pyacArgs);
+    }
+
+    void pyWMSetPopUpButtonAction(WMPopUpButton *pPtr, PyObject *pyacArgs) {
+        WMSetPopUpButtonAction(pPtr, PythonWMActionCallback, (void*)pyacArgs);
+        Py_INCREF(pyacArgs);
+    }
+
+    void pyWMSetSliderAction(WMSlider *sPtr, PyObject *pyacArgs) {
+        WMSetSliderAction(sPtr, PythonWMActionCallback, (void*)pyacArgs);
+        Py_INCREF(pyacArgs);
+    }
+
+    void pyWMSetRulerMoveAction(WMRuler *rPtr, PyObject *pyacArgs) {
+        WMSetRulerMoveAction(rPtr, PythonWMActionCallback, (void*)pyacArgs);
+        Py_INCREF(pyacArgs);
+    }
+
+    void pyWMSetRulerReleaseAction(WMRuler *rPtr, PyObject *pyacArgs) {
+        WMSetRulerReleaseAction(rPtr, PythonWMActionCallback, (void*)pyacArgs);
+        Py_INCREF(pyacArgs);
+    }
+
+    void pyWMSetColorPanelAction(WMColorPanel *panel, PyObject *pyacArgs) {
+        WMSetColorPanelAction(panel, (WMAction2*)PythonWMActionCallback, (void*)pyacArgs);
+        Py_INCREF(pyacArgs);
+    }
+
+    void* pyWMAddTimerHandler(int miliseconds, PyObject *pycArgs) {
+        Py_INCREF(pycArgs);
+        return (void*)WMAddTimerHandler(miliseconds, PythonWMCallback,
+                                        (void*)pycArgs);
+    }
+
+    void* pyWMAddPersistentTimerHandler(int miliseconds, PyObject *pycArgs) {
+        Py_INCREF(pycArgs);
+        return (void*)WMAddPersistentTimerHandler(miliseconds, PythonWMCallback,
+                                                  (void*)pycArgs);
+    }
+
+    /* this doesn't work. we pass (func, data) as cdata at creation time, but
+     * only data at destruction, so it won't find it unless we change
+     * WMDeleteTimerWithClientData() to extract data from the tuple, and this
+     * requires access to the internals of WINGs
+    void pyWMDeleteTimerWithClientData(PyObject *pycData) {
+        WMDeleteTimerWithClientData((void*)pycData);
+    }*/
+
+    void pyWMDeleteTimerHandler(void *handlerID) {
+        WMDeleteTimerHandler((WMHandlerID)handlerID);
+    }
+
+    void* pyWMAddIdleHandler(PyObject *pycArgs) {
+        Py_INCREF(pycArgs);
+        return (void*)WMAddIdleHandler(PythonWMCallback, (void*)pycArgs);
+    }
+
+    void pyWMDeleteIdleHandler(void *handlerID) {
+        WMDeleteIdleHandler((WMHandlerID)handlerID);
+    }
+
+%}
+
+
+%exception pyWMSetTextFieldDelegate {
+    $function
+    if (PyErr_Occurred()) {
+        return NULL;
+    }
+}
+
+%inline %{
+    void pyWMSetTextFieldDelegate(WMTextField *tPtr, PyObject *txtArgs) {
+        WMTextFieldDelegate *td;
+
+        if (!txtArgs || !PyTuple_Check(txtArgs) || PyTuple_Size(txtArgs)!=2) {
+            PyErr_SetString(PyExc_TypeError, "invalid setting of WMTextField "
+                            "delegate. Should be '(self, delegate)'");
+            return;
+        }
+        // how do I check if txtArgs[1] is an instance of WMTextFieldDelegate?
+        td = WMGetTextFieldDelegate(tPtr);
+        if (!td) {
+            td = (WMTextFieldDelegate*)wmalloc(sizeof(WMTextFieldDelegate));
+            td->didBeginEditing    = pyTextFieldDidBeginEditing;
+            td->didChange          = pyTextFieldDidChange;
+            td->didEndEditing      = pyTextFieldDidEndEditing;
+            td->shouldBeginEditing = pyTextFieldShouldBeginEditing;
+            td->shouldEndEditing   = pyTextFieldShouldEndEditing;
+        } else {
+            Py_XDECREF((PyObject*)td->data);
+        }
+        Py_INCREF(txtArgs);
+        td->data = txtArgs;
+        WMSetTextFieldDelegate(tPtr, td);
+    }
+%}
+
+
+%inline %{
+    PyObject* pyWMGetTextFieldDelegate(WMTextField *tPtr) {
+        WMTextFieldDelegate *td;
+        PyObject *result, *tuple;
+
+        td = WMGetTextFieldDelegate(tPtr);
+        if (!td) {
+            Py_INCREF(Py_None);
+            return Py_None;
+        }
+
+        tuple = (PyObject*)td->data;
+        if (!tuple || !PyTuple_Check(tuple) || PyTuple_Size(tuple)!=2) {
+            PyErr_SetString(PyExc_TypeError, "invalid TextField delegate");
+            return NULL;
+        }
+
+        result = PyTuple_GetItem(tuple, 1);
+        if (!result)
+            result = Py_None;
+
+        Py_INCREF(result);
+
+        return result;
+    }
+%}
+
+
+/* ignore structures we will not use */
+%ignore ConnectionDelegate;
+
+/* ignore functions we don't need */
+// should we ignore vararg functions, or just convert them to functions with
+// a fixed number of parameters?
+%varargs(char*) wmessage;
+//%ignore wmessage;
+%ignore wwarning;
+%ignore wfatal;
+%ignore wsyserror;
+%ignore wsyserrorwithcode;
+%ignore WMCreatePLArray;
+%ignore WMCreatePLDictionary;
+
+%apply int *INPUT { int *argc };
+
+#define Bool int
+
+%include "WINGs/WUtil.h"
+
+/* ignore structures we will not use */
+
+/* ignore functions we don't need */
+
+%include "WINGs/WINGs.h"
+
+
+%{
+void
+WHandleEvents()
+{
+    /* Check any expired timers */
+    W_CheckTimerHandlers();
+
+    /* Do idle and timer stuff while there are no input events */
+    /* Do not wait for input here. just peek to se if input is available */
+    while (!W_HandleInputEvents(False, -1) && W_CheckIdleHandlers()) {
+        /* dispatch timer events */
+        W_CheckTimerHandlers();
+    }
+
+    W_HandleInputEvents(True, -1);
+
+    /* Check any expired timers */
+    W_CheckTimerHandlers();
+}
+%}
+
+
+/* rewrite functions originally defined as macros */
+%inline %{
+#undef WMDuplicateArray
+WMArray* WMDuplicateArray(WMArray* array) {
+    return WMCreateArrayWithArray(array);
+}
+
+#undef WMPushInArray
+void WMPushInArray(WMArray *array, void *item) {
+    WMAddToArray(array, item);
+}
+
+#undef WMSetInArray
+void* WMSetInArray(WMArray *array, int index, void *item) {
+    return WMReplaceInArray(array, index, item);
+}
+
+#undef WMRemoveFromArray
+int WMRemoveFromArray(WMArray *array, void *item) {
+    return WMRemoveFromArrayMatching(array, NULL, item);
+}
+
+#undef WMGetFirstInArray
+int WMGetFirstInArray(WMArray *array, void *item) {
+    return WMFindInArray(array, NULL, item);
+}
+
+#undef WMCreateBag
+WMBag* WMCreateBag(int size) {
+    return WMCreateTreeBag();
+}
+
+#undef WMCreateBagWithDestructor
+WMBag* WMCreateBagWithDestructor(int size, WMFreeDataProc *destructor) {
+    return WMCreateTreeBagWithDestructor(destructor);
+}
+
+#undef WMSetInBag
+void* WMSetInBag(WMBag *bag, int index, void *item) {
+    return WMReplaceInBag(bag, index, item);
+}
+
+#undef WMAddItemToTree
+WMTreeNode* WMAddItemToTree(WMTreeNode *parent, void *item) {
+    return WMInsertItemInTree(parent, -1, item);
+}
+
+#undef WMAddNodeToTree
+WMTreeNode* WMAddNodeToTree(WMTreeNode *parent, WMTreeNode *aNode) {
+    return WMInsertNodeInTree(parent, -1, aNode);
+}
+
+#undef WMGetFirstInTree
+/* Returns first tree node that has data == cdata */
+WMTreeNode* WMGetFirstInTree(WMTreeNode *aTree, void *cdata) {
+    return WMFindInTree(aTree, NULL, cdata);
+}
+
+#undef WMFlushConnection
+int WMFlushConnection(WMConnection *cPtr) {
+    return WMSendConnectionData(cPtr, NULL);
+}
+
+#undef WMGetConnectionQueuedData
+WMArray* WMGetConnectionQueuedData(WMConnection *cPtr) {
+    return WMGetConnectionUnsentData(cPtr);
+}
+
+#undef WMWidgetClass
+W_Class WMWidgetClass(WMWidget *widget) {
+    return (((W_WidgetType*)(widget))->widgetClass);
+}
+
+#undef WMWidgetView
+WMView* WMWidgetView(WMWidget *widget) {
+    return (((W_WidgetType*)(widget))->view);
+}
+
+#undef WMCreateCommandButton
+WMButton* WMCreateCommandButton(WMWidget *parent) {
+    return WMCreateCustomButton(parent, WBBSpringLoadedMask|WBBPushInMask
+                                |WBBPushLightMask|WBBPushChangeMask);
+}
+
+#undef WMCreateRadioButton
+WMButton* WMCreateRadioButton(WMWidget *parent) {
+    return WMCreateButton(parent, WBTRadio);
+}
+
+#undef WMCreateSwitchButton
+WMButton* WMCreateSwitchButton(WMWidget *parent) {
+    return WMCreateButton(parent, WBTSwitch);
+}
+
+#undef WMAddListItem
+WMListItem* WMAddListItem(WMList *lPtr, char *text)
+{
+    return WMInsertListItem(lPtr, -1, text);
+}
+
+#undef WMCreateText
+WMText* WMCreateText(WMWidget *parent) {
+    return WMCreateTextForDocumentType(parent, NULL, NULL);
+}
+
+#undef WMRefreshText
+void WMRefreshText(WMText *tPtr) {
+    return WMThawText(tPtr);
+}
+
+#undef WMClearText
+void WMClearText(WMText *tPtr) {
+    return WMAppendTextStream(tPtr, NULL);
+}
+%}
+
+
diff -Naur WindowMaker-0.80.2/WINGs/python/WINGs.py wm-xft2/WINGs/python/WINGs.py
--- WindowMaker-0.80.2/WINGs/python/WINGs.py	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/WINGs/python/WINGs.py	2003-10-22 14:08:35.000000000 +0400
@@ -0,0 +1,631 @@
+#!/usr/bin/env python
+
+import sys
+import wings
+
+# Some useful constants
+
+False = 0
+True = 1
+
+# check about None as action for buttonAction/windowCloseAction ...
+
+################################################################################
+# Exceptions
+################################################################################
+from exceptions import Exception, StandardError
+
+class Error(StandardError):
+    pass
+
+del Exception, StandardError
+
+class WMTimer:
+    def __init__(self, milliseconds, callback, cdata=None, persistent=False):
+        if persistent:
+            self._o = wings.pyWMAddPersistentTimerHandler(milliseconds, (callback, cdata))
+        else:
+            self._o = wings.pyWMAddTimerHandler(milliseconds, (callback, cdata))
+
+    def __del__(self):
+        wings.pyWMDeleteTimerHandler(self._o)
+    #delete = __del__
+
+class WMPersistentTimer(WMTimer):
+    def __init__(self, milliseconds, callback, cdata=None):
+        WMTimer.__init__(self, milliseconds, callback, cdata, persistent=True)
+
+
+class WMScreen:
+    __readonly = ('display', 'width', 'height', 'depth')
+
+    def __init__(self, appname, display="", simpleapp=False):
+        wings.WMInitializeApplication(appname, len(sys.argv), sys.argv)	
+        self._o = wings.pyWMOpenScreen(display, simpleapp)
+        if not self._o:
+            raise Error, "Cannot open display %s" % display
+        self.__dict__['display'] = wings.WMScreenDisplay(self._o)
+        self.__dict__['width'] = wings.WMScreenWidth(self._o)
+        self.__dict__['height'] = wings.WMScreenHeight(self._o)
+        self.__dict__['depth'] = wings.WMScreenDepth(self._o)
+
+    def __setattr__(self, name ,value):
+        if name in self.__readonly:
+            #raise AttributeError, "'%s' is a read-only WMScreen attribute" % name
+            raise Error, "'%s' is a read-only WMScreen attribute" % name
+        self.__dict__[name] = value
+
+    def mainLoop(self):
+        wings.pyWMScreenMainLoop(self._o)
+
+    def breakMainLoop(self):
+        wings.pyWMBreakScreenMainLoop(self._o)
+
+    def runModalLoop(self, view):
+        wings.pyWMRunModalLoop(self._o, view)
+
+    def breakModalLoop(self):
+        wings.WMBreakModalLoop(self._o)
+
+    def size(self):
+        return (self.width, self.height)
+
+
+class WMView:
+    pass
+
+
+class WMWidget(WMView):
+    def __init__(self):
+        self._o = None
+        if self.__class__ == WMWidget:
+            raise Error, "a WMWidget can't be instantiated directly"
+
+    def __del__(self):
+        if (self._o != None):
+            wings.WMDestroyWidget(self._o)
+    
+    def resize(self, width, height):
+        wings.WMResizeWidget(self._o, width, height)
+
+    def move(self, x, y):
+        wings.WMMoveWidget(self._o, x, y)
+
+    def realize(self):
+        wings.WMRealizeWidget(self._o)
+
+    def show(self):
+        wings.WMMapWidget(self._o)
+
+    def hide(self):
+        wings.WMUnmapWidget(self._o)
+
+    def redisplay(self):
+        wings.WMRedisplayWidget(self._o)
+    
+    def width(self):
+        return wings.WMWidgetWidth(self._o)
+    
+    def height(self):
+        return wings.WMWidgetHeight(self._o)
+
+    def screen(self):
+        return wings.WMWidgetScreen(self._o)
+
+    def view(self):
+        return wings.WMWidgetView(self._o)
+
+    def setFocusTo(self, other):
+        wings.WMSetFocusToWidget(other._o)
+
+
+class WMWindow(WMWidget):
+    def __init__(self, screen, name, style=wings.WMTitledWindowMask
+                 |wings.WMClosableWindowMask|wings.WMMiniaturizableWindowMask
+                 |wings.WMResizableWindowMask):
+        WMWidget.__init__(self)
+        self._o = wings.WMCreateWindowWithStyle(screen._o, name, style)
+    
+    def setMinSize(self, minWidth, minHeight):
+        wings.WMSetWindowMinSize(self._o, minWidth, minHeight)
+    
+    def setMaxSize(self, maxWidth, maxHeight):
+        wings.WMSetWindowMaxSize(self._o, maxWidth, maxHeight)
+    
+    def setInitialPosition(self, x, y):
+        wings.WMSetWindowInitialPosition(self._o, x, y)
+    
+    def setTitle(self, title):
+        wings.WMSetWindowTitle(self._o, title)
+
+    def setCloseAction(self, action, data=None):
+        if action!=None and (not callable(action)):
+            raise Error, "action needs to be a callable object or None"
+        wings.pyWMSetWindowCloseAction(self._o, (self, action, data))
+
+
+class WMPanel(WMWindow):
+    def __init__(self, owner, name, style=wings.WMTitledWindowMask
+                 |wings.WMClosableWindowMask|wings.WMResizableWindowMask):
+        WMWidget.__init__(self)
+        self._o = wings.WMCreatePanelWithStyleForWindow(owner._o, name, style)
+
+class WMFrame(WMWidget):
+    def __init__(self, parent, title=None):
+        WMWidget.__init__(self)
+        self._o = wings.WMCreateFrame(parent._o)
+        self.setTitle(title)
+
+    def setRelief(self, relief):
+        wings.WMSetFrameRelief(self._o, relief)
+
+    def setTitle(self, title=""):
+        wings.WMSetFrameTitle(self._o, title)
+
+    def setTitlePosition(self, position):
+        wings.WMSetFrameTitlePosition(self._o, position)
+
+class WMLabel(WMWidget):
+    def __init__(self, parent, text=None):
+        WMWidget.__init__(self)
+        self._o = wings.WMCreateLabel(parent._o)
+        self.setText(text)
+
+    def setWraps(self, flag):
+        # bool(flag) for python2.2
+        wings.WMSetLabelWraps(self._o, flag)
+
+    def setRelief(self, relief):
+        wings.WMSetLabelRelief(self._o, relief)
+
+    def setText(self, text=""):
+        wings.WMSetLabelText(self._o, text)
+
+    def setTextColor(self, color):
+        wings.WMSetLabelTextColor(self._o, color)
+
+    def setFont(self, font):
+        wings.WMSetLabelFont(self._o, font)
+
+    def setTextAlignment(self, alignment):
+        wings.WMSetLabelTextAlignment(self._o, alignment)
+
+    def setImage(self, image):
+        wings.WMSetLabelImage(self._o, image)
+
+    def setImagePosition(self, position):
+        wings.WMSetLabelImagePosition(self._o, position)
+
+    def text(self):
+        return wings.WMGetLabelText(self._o)
+
+    def font(self):
+        return wings.WMGetLabelFont(self._o)
+
+    def image(self):
+        return wings.WMGetLabelImage(self._o)
+
+
+class WMBox(WMWidget):
+    def __init__(self, parent):
+        WMWidget.__init__(self)
+        self._o = wings.WMCreateBox(parent._o)
+
+    def setHorizontal(self, flag):
+        # bool(flag) for python2.2
+        wings.WMSetBoxHorizontal(self._o, flag)
+
+    def setBorderWidth(self, width):
+        wings.WMSetBoxBorderWidth(self._o, width)
+
+    def addSubview(self, view, expand, fill, minSize, maxSize, space):
+        wings.WMAddBoxSubview(self._o, view, expand, fill, minSize, maxSixe, space)
+
+    def addSubviewAtEnd(self, view, expand, fill, minSize, maxSize, space):
+        wings.WMAddBoxSubviewAtEnd(self._o, view, expand, fill, minSize, maxSixe, space)
+
+    def removeSubview(self, view):
+        wings.WMRemoveBoxSubview(self._o, view)
+
+
+class WMButton(WMWidget): # not for user instantiation
+    def __init__(self, parent):
+        WMWidget.__init__(self)
+        if self.__class__ == WMButton:
+            raise Error, "a WMButton can't be instantiated directly"
+
+
+    def setText(self, text=""):
+        wings.WMSetButtonText(self._o, text)
+
+    def setAction(self, action, data=None):
+        if action!=None and (not callable(action)):
+            raise Error, "action needs to be a callable object or None"
+        wings.pyWMSetButtonAction(self._o, (self, action, data))
+
+    def performClick(self):
+        wings.WMPerformButtonClick(self._o)
+
+    def setEnabled(self, flag):
+        # bool(flag) for python2.2
+        wings.WMSetButtonEnabled(self._o, flag)
+
+    def isEnabled(self):
+        return wings.WMGetButtonEnabled(self._o)
+
+    def setImageDimsWhenDisabled(self, flag):
+        # bool(flag)
+        wings.WMSetButtonImageDimsWhenDisabled(self._o, flag)
+    
+    def setImage(self, image):
+        wings.WMSetButtonImage(self_.o, image)
+    
+    def setAlternateImage(self, image):
+        wings.WMSetButtonAltImage(self._o, image)
+    
+    def setImagePosition(self, position):
+        wings.WMSetButtonImagePosition(self._o, position)
+    
+    def setImageDefault(self):
+        wings.WMSetButtonImageDefault(self._o)
+    
+
+class WMCommandButton(WMButton):
+    def __init__(self, parent):
+        WMButton.__init__(self, parent)
+        self._o = wings.WMCreateCommandButton(parent._o)
+
+
+class WMSwitchButton(WMButton):
+    def __init__(self, parent):
+        WMButton.__init__(self, parent)
+        self._o = wings.WMCreateSwitchButton(parent._o)
+
+
+class WMRadioButton(WMButton):
+    def __init__(self, parent, group=None):
+        WMButton.__init__(self, parent)
+        self._o = wings.WMCreateRadioButton(parent._o)
+        if group:
+            wings.WMGroupButtons(group._o, self._o)
+
+
+class WMListItem:
+    pass
+
+
+class WMList(WMWidget):
+    def __init__(self, parent):
+        WMWidget.__init__(self)
+        self._o = wings.WMCreateList(parent._o)
+
+    def allowEmptySelection(self, flag):
+        # bool(flag)
+        wings.WMSetListAllowEmptySelection(self._o, flag)
+
+    def allowMultipleSelection(self, flag):
+        # bool(flag)
+        wings.WMSetListAllowMultipleSelection(self._o, flag)
+
+    def addItem(self, item):
+        wings.WMAddListItem(self._o, item)
+
+    def insertItem(self, row, item):
+        wings.WMInsertListItem(self._o, row, item)
+
+    def sortItems(self):
+        wings.WMSortListItems(self._o)
+
+    def rowWithTitle(self, title):
+        return wings.WMFindRowOfListItemWithTitle(self._o, title)
+
+    def selectedItemRow(self):
+        return wings.WMGetListSelectedItemRow(self._o)
+
+    def selectedItem(self):
+        return wings.WMGetListSelectedItem(self._o)
+
+    def removeItem(self, index):
+        wings.WMRemoveListItem(self._o, index)
+
+    def selectItem(self, index):
+        wings.WMSelectListItem(self._o, index)
+
+    def unselectItem(self, index):
+        wings.WMUnselectListItem(self._o, index)
+
+
+class WMTextFieldDelegate:
+    __callbacks = ('didBeginEditing', 'didChange', 'didEndEditing',
+                   'shouldBeginEditing', 'shouldEndEditing')
+
+    def __init__(self):
+        self.__dict__['data'] = None
+        self.__dict__['didBeginEditing'] = None
+        self.__dict__['didChange'] = None
+        self.__dict__['didEndEditing'] = None
+        self.__dict__['shouldBeginEditing'] = None
+        self.__dict__['shouldEndEditing'] = None
+ 
+    def __setattr__(self, name ,value):
+        if name in self.__callbacks and value!=None and (not callable(value)):
+            #raise AttributeError, "%s.%s needs to be a callable object or None" % (self.__class__.__name__, name)
+            raise Error, "%s.%s needs to be a callable object or None" % (self.__class__.__name__, name)
+        else:
+            self.__dict__[name] = value
+
+
+class WMTextField(WMWidget):
+    def __init__(self, parent, text=""):
+        WMWidget.__init__(self)
+        self._o = wings.WMCreateTextField(parent._o)
+        wings.WMSetTextFieldText(self._o, text)
+
+    def setDelegate(self, delegate):
+        if delegate.__class__ != WMTextFieldDelegate:
+            raise Error, "textfield delegate must be of type 'WMTextFieldDelegate'"
+        wings.pyWMSetTextFieldDelegate(self._o, (self, delegate))
+
+    def delegate(self):
+        return wings.pyWMGetTextFieldDelegate(self._o)
+
+    def text(self):
+        return wings.WMGetTextFieldText(self._o)
+
+    def setEditable(self, flag):
+        # bool(flag)
+        wings.WMSetTextFieldEditable(self._o, flag)
+
+    def setBordered(self, flag):
+        # bool(flag)
+        wings.WMSetTextFieldBordered(self._o, flag)
+
+    def setBeveled(self, flag):
+        # bool(flag)
+        wings.WMSetTextFieldBeveled(self._o, flag)
+
+    def setSecure(self, flag):
+        # bool(flag)
+        wings.WMSetTextFieldSecure(self._o, flag)
+
+    def setCursorPosition(self, position):
+        wings.WMSetTextFieldCursorPosition(self._o, position)
+
+    def setNextText(self, next):
+        wings.WMSetTextFieldNextTextField(self._o, next._o)
+
+    def setPreviousText(self, previous):
+        wings.WMSetTextFieldPrevTextField(self._o, previous._o)
+
+    def setTextAlignment(self, alignment):
+        wings.WMSetTextFieldAlignment(self._o, alignment)
+
+    def isEditable(self):
+        return wings.WMGetTextFieldEditable(self._o)
+
+    def insertText(self, text, position):
+        wings.WMInsertTextFieldText(self._o, text, position)
+
+    def deleteText(self, start, count):
+        wings.WMDeleteTextFieldRange(self._o, wings.wmkrange(start, count))
+
+    def selectText(self, start, count):
+        wings.WMSelectTextFieldRange(self._o, wings.wmkrange(start, count))
+
+    def setFont(self, font):
+        wings.WMSetTextFieldFont(self._o, font)
+
+    def font(self):
+        return wings.WMGetTextFieldFont(self._o)
+
+
+################################################################################
+# wrap the WINGs constants so we don't need wings.constant_name
+################################################################################
+
+# WMWindow title style
+WMTitledWindowMask         = wings.WMTitledWindowMask
+WMClosableWindowMask       = wings.WMClosableWindowMask
+WMMiniaturizableWindowMask = wings.WMMiniaturizableWindowMask
+WMResizableWindowMask      = wings.WMResizableWindowMask
+
+# WMFrame title positions
+WTPNoTitle     = wings.WTPNoTitle
+WTPAboveTop    = wings.WTPAboveTop
+WTPAtTop       = wings.WTPAtTop
+WTPBelowTop    = wings.WTPBelowTop
+WTPAboveBottom = wings.WTPAboveBottom
+WTPAtBottom    = wings.WTPAtBottom
+WTPBelowBottom = wings.WTPBelowBottom
+
+# Alingments
+WALeft      = wings.WALeft
+WACenter    = wings.WACenter
+WARight     = wings.WARight
+WAJustified = wings.WAJustified	# not valid for textfields
+
+# Image positions
+WIPNoImage   = wings.WIPNoImage
+WIPImageOnly = wings.WIPImageOnly
+WIPLeft      = wings.WIPLeft
+WIPRight     = wings.WIPRight
+WIPBelow     = wings.WIPBelow
+WIPAbove     = wings.WIPAbove
+WIPOverlaps  = wings.WIPOverlaps
+
+# Relief types
+WRFlat   = wings.WRFlat
+WRSimple = wings.WRSimple
+WRRaised = wings.WRRaised
+WRSunken = wings.WRSunken
+WRGroove = wings.WRGroove
+WRRidge  = wings.WRRidge
+WRPushed = wings.WRPushed
+
+
+# TextField events
+WMReturnTextMovement  = wings.WMReturnTextMovement
+WMEscapeTextMovement  = wings.WMEscapeTextMovement
+WMIllegalTextMovement = wings.WMIllegalTextMovement
+WMTabTextMovement     = wings.WMTabTextMovement
+WMBacktabTextMovement = wings.WMBacktabTextMovement
+WMLeftTextMovement    = wings.WMLeftTextMovement
+WMRightTextMovement   = wings.WMRightTextMovement
+WMUpTextMovement      = wings.WMUpTextMovement
+WMDownTextMovement    = wings.WMDownTextMovement
+
+
+if __name__ == "__main__":
+    def quit(obj, data):
+        #sys.exit()
+        scr.breakMainLoop()
+
+    def click(btn, list):
+        print win.width(), win.height()
+        print list.selectedItemRow()
+        win2.show()
+        scr.runModalLoop(win2.view())
+        print txt2.text()
+
+    def sayhi(btn, data):
+        print "hi"
+
+    def breakLoop(btn, data):
+        #sys.exit()
+        scr.breakModalLoop()
+        win2.hide()
+
+    def dc(object, data, action):
+        print "didChange:", object, data, action
+
+    def dbe(object, data, action):
+        print "didBeginEditing:", object, data, action
+
+    def dee(object, data, action):
+        if action == wings.WMReturnTextMovement:
+            if object == txt:
+                object.setFocusTo(txt2)
+            else:
+                object.setFocusTo(txt)
+        print "didEndEditing:", object, data, action, object.text()
+
+    def tcb(one):
+        old = list.selectedItemRow()
+        list.selectItem(list.index)
+        list.unselectItem(old)
+        list.index = (list.index+1) % 3
+        #print one
+
+    scr = WMScreen("foobar")
+    win = WMWindow(scr, "aWindow")
+    win.setCloseAction(quit)
+    win.setTitle("test window")
+    win.resize(400, 180)
+    win.setInitialPosition((scr.width-win.width())/2, (scr.height-win.height())/2)
+
+    btn = WMCommandButton(win)
+    btn.setText("Click Me")
+    btn.resize(100, 25)
+    btn.move(20, 20)
+    btn.show()
+
+    sw = WMSwitchButton(win)
+    sw.setText("Some option")
+    sw.resize(100, 25)
+    sw.move(20, 50)
+    sw.show()
+
+    radios = []
+    r = None
+    j = 0
+    for i in ["One", "Two", "Four"]:
+        r = WMRadioButton(win, r)
+        radios.append(r)
+        r.show()
+        r.setText(i)
+        r.move(20, 70+j*25)
+        r.resize(100, 25)
+        j=j+1
+
+    sw.setAction(sayhi)
+
+    list = WMList(win)
+    list.resize(100,100)
+    list.move(130, 20)
+    list.addItem("one")
+    list.addItem("two")
+    list.addItem("three")
+    list.allowMultipleSelection(1)
+    list.show()
+    list.index = 0
+
+    txtdel = WMTextFieldDelegate()
+    txtdel.data = 'mydata'
+    txtdel.didBeginEditing = dbe
+    txtdel.didEndEditing = dee
+    txtdel.didChange = dc
+
+    txt = WMTextField(win, "abc")
+    txt.resize(95, 20)
+    txt.move(295, 20)
+    txt.setDelegate(txtdel)
+    txt.show()
+    txt2 = WMTextField(win, "01234567890")
+    txt2.resize(95, 20)
+    txt2.move(295, 45)
+    txt2.setDelegate(txtdel)
+    txt2.show()
+
+    txt.setNextText(txt2)
+    txt2.setNextText(txt)
+
+    label = WMLabel(win, "Text1:")
+    label.setTextAlignment(WARight)
+    label.move(240, 20)
+    label.resize(55, 20)
+    label.show()
+
+    label2 = WMLabel(win, "mytext2:")
+    label2.setTextAlignment(WARight)
+    label2.move(240, 45)
+    label2.resize(55, 20)
+    label2.show()
+    
+    btn.setAction(click, list)
+    
+    frame = WMFrame(win, "My Frame")
+    frame.resize(150, 50)
+    frame.move(240, 70)
+    #frame.setRelief(WRPushed)
+    frame.show()
+    
+    ebtn = WMCommandButton(win)
+    ebtn.setText("Exit")
+    ebtn.resize(100, 25)
+    ebtn.move(290, 147)
+    ebtn.setAction(quit)
+    ebtn.show()
+
+    win.realize()
+    win.show()
+
+    timer = WMPersistentTimer(1000, tcb, win)
+    #del(timer)
+    #timer.delete()
+
+    win2 = WMPanel(win, "anotherWindow", WMTitledWindowMask)
+    win2.setTitle("transient test window")
+    win2.resize(150, 50)
+    win2.setInitialPosition((scr.width-win2.width())/2, (scr.height-win2.height())/2)
+
+    btn7 = WMCommandButton(win2)
+    btn7.setText("Dismiss")
+    btn7.resize(100, 25)
+    btn7.move(27, 10)
+    btn7.show()
+    btn7.setAction(breakLoop)
+
+    win2.realize()
+    
+    scr.mainLoop()
+
diff -Naur WindowMaker-0.80.2/WINGs/README wm-xft2/WINGs/README
--- WindowMaker-0.80.2/WINGs/README	2000-09-29 11:16:58.000000000 +0400
+++ wm-xft2/WINGs/README	2003-10-22 14:08:34.000000000 +0400
@@ -13,7 +13,7 @@
 from Tk. It has a reasonable set of widgets, sufficient for building
 small applications (like a CDPlayer or hacking something like rxvt). It
 also has other functions that are usefull for applications, like a
-User Defaults like configuration manager and a notification system.
+User Defaults alike configuration manager and a notification system.
 
    The library is limited and it's design is a little sloppy, 
 so it's not intended to build large or complex applications, like 
diff -Naur WindowMaker-0.80.2/WINGs/snprintf.c wm-xft2/WINGs/snprintf.c
--- WindowMaker-0.80.2/WINGs/snprintf.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/snprintf.c	2003-10-22 14:08:34.000000000 +0400
@@ -35,9 +35,9 @@
  *    original.  Also, there is now a builtin-test, just compile with:
  *           gcc -DTEST_SNPRINTF -o snprintf snprintf.c -lm
  *    and run snprintf for results.
- * 
+ *
  *  Thomas Roessler <roessler@guug.de> 01/27/98 for mutt 0.89i
- *    The PGP code was using unsigned hexadecimal formats. 
+ *    The PGP code was using unsigned hexadecimal formats.
  *    Unfortunately, unsigned formats simply didn't work.
  *
  *  Michael Elkins <me@cs.hmc.edu> 03/05/98 for mutt 0.90.8
@@ -78,8 +78,8 @@
 #if defined(HAVE_SNPRINTF) && defined(HAVE_VSNPRINTF) && defined(HAVE_C99_VSNPRINTF)
 /* only include stdio.h if we are not re-defining snprintf or vsnprintf */
 #include <stdio.h>
- /* make the compiler happy with an empty file */
- void dummy_snprintf(void) {} 
+/* make the compiler happy with an empty file */
+void dummy_snprintf(void) {}
 #else
 
 #ifdef HAVE_LONG_DOUBLE
@@ -94,14 +94,14 @@
 #define LLONG long
 #endif
 
-static size_t dopr(char *buffer, size_t maxlen, const char *format, 
-		   va_list args);
+static size_t dopr(char *buffer, size_t maxlen, const char *format,
+                   va_list args);
 static void fmtstr(char *buffer, size_t *currlen, size_t maxlen,
-		    char *value, int flags, int min, int max);
+                   char *value, int flags, int min, int max);
 static void fmtint(char *buffer, size_t *currlen, size_t maxlen,
-		    long value, int base, int min, int max, int flags);
+                   long value, int base, int min, int max, int flags);
 static void fmtfp(char *buffer, size_t *currlen, size_t maxlen,
-		   LDOUBLE fvalue, int min, int max, int flags);
+                  LDOUBLE fvalue, int min, int max, int flags);
 static void dopr_outch(char *buffer, size_t *currlen, size_t maxlen, char c);
 
 /*
@@ -140,798 +140,798 @@
 
 static size_t dopr(char *buffer, size_t maxlen, const char *format, va_list args)
 {
-	char ch;
-	LLONG value;
-	LDOUBLE fvalue;
-	char *strvalue;
-	int min;
-	int max;
-	int state;
-	int flags;
-	int cflags;
-	size_t currlen;
-	
-	state = DP_S_DEFAULT;
-	currlen = flags = cflags = min = 0;
-	max = -1;
-	ch = *format++;
-	
-	while (state != DP_S_DONE) {
-		if (ch == '\0') 
-			state = DP_S_DONE;
-
-		switch(state) {
-		case DP_S_DEFAULT:
-			if (ch == '%') 
-				state = DP_S_FLAGS;
-			else 
-				dopr_outch (buffer, &currlen, maxlen, ch);
-			ch = *format++;
-			break;
-		case DP_S_FLAGS:
-			switch (ch) {
-			case '-':
-				flags |= DP_F_MINUS;
-				ch = *format++;
-				break;
-			case '+':
-				flags |= DP_F_PLUS;
-				ch = *format++;
-				break;
-			case ' ':
-				flags |= DP_F_SPACE;
-				ch = *format++;
-				break;
-			case '#':
-				flags |= DP_F_NUM;
-				ch = *format++;
-				break;
-			case '0':
-				flags |= DP_F_ZERO;
-				ch = *format++;
-				break;
-			default:
-				state = DP_S_MIN;
-				break;
-			}
-			break;
-		case DP_S_MIN:
-			if (isdigit((unsigned char)ch)) {
-				min = 10*min + char_to_int (ch);
-				ch = *format++;
-			} else if (ch == '*') {
-				min = va_arg (args, int);
-				ch = *format++;
-				state = DP_S_DOT;
-			} else {
-				state = DP_S_DOT;
-			}
-			break;
-		case DP_S_DOT:
-			if (ch == '.') {
-				state = DP_S_MAX;
-				ch = *format++;
-			} else { 
-				state = DP_S_MOD;
-			}
-			break;
-		case DP_S_MAX:
-			if (isdigit((unsigned char)ch)) {
-				if (max < 0)
-					max = 0;
-				max = 10*max + char_to_int (ch);
-				ch = *format++;
-			} else if (ch == '*') {
-				max = va_arg (args, int);
-				ch = *format++;
-				state = DP_S_MOD;
-			} else {
-				state = DP_S_MOD;
-			}
-			break;
-		case DP_S_MOD:
-			switch (ch) {
-			case 'h':
-				cflags = DP_C_SHORT;
-				ch = *format++;
-				break;
-			case 'l':
-				cflags = DP_C_LONG;
-				ch = *format++;
-				if (ch == 'l') {	/* It's a long long */
-					cflags = DP_C_LLONG;
-					ch = *format++;
-				}
-				break;
-			case 'L':
-				cflags = DP_C_LDOUBLE;
-				ch = *format++;
-				break;
-			default:
-				break;
-			}
-			state = DP_S_CONV;
-			break;
-		case DP_S_CONV:
-			switch (ch) {
-			case 'd':
-			case 'i':
-				if (cflags == DP_C_SHORT) 
-					value = va_arg (args, int);
-				else if (cflags == DP_C_LONG)
-					value = va_arg (args, long int);
-				else if (cflags == DP_C_LLONG)
-					value = va_arg (args, LLONG);
-				else
-					value = va_arg (args, int);
-				fmtint (buffer, &currlen, maxlen, value, 10, min, max, flags);
-				break;
-			case 'o':
-				flags |= DP_F_UNSIGNED;
-				if (cflags == DP_C_SHORT)
-					value = va_arg (args, unsigned int);
-				else if (cflags == DP_C_LONG)
-					value = (long)va_arg (args, unsigned long int);
-				else if (cflags == DP_C_LLONG)
-					value = (long)va_arg (args, unsigned LLONG);
-				else
-					value = (long)va_arg (args, unsigned int);
-				fmtint (buffer, &currlen, maxlen, value, 8, min, max, flags);
-				break;
-			case 'u':
-				flags |= DP_F_UNSIGNED;
-				if (cflags == DP_C_SHORT)
-					value = va_arg (args, unsigned int);
-				else if (cflags == DP_C_LONG)
-					value = (long)va_arg (args, unsigned long int);
-				else if (cflags == DP_C_LLONG)
-					value = (LLONG)va_arg (args, unsigned LLONG);
-				else
-					value = (long)va_arg (args, unsigned int);
-				fmtint (buffer, &currlen, maxlen, value, 10, min, max, flags);
-				break;
-			case 'X':
-				flags |= DP_F_UP;
-			case 'x':
-				flags |= DP_F_UNSIGNED;
-				if (cflags == DP_C_SHORT)
-					value = va_arg (args, unsigned int);
-				else if (cflags == DP_C_LONG)
-					value = (long)va_arg (args, unsigned long int);
-				else if (cflags == DP_C_LLONG)
-					value = (LLONG)va_arg (args, unsigned LLONG);
-				else
-					value = (long)va_arg (args, unsigned int);
-				fmtint (buffer, &currlen, maxlen, value, 16, min, max, flags);
-				break;
-			case 'f':
-				if (cflags == DP_C_LDOUBLE)
-					fvalue = va_arg (args, LDOUBLE);
-				else
-					fvalue = va_arg (args, double);
-				/* um, floating point? */
-				fmtfp (buffer, &currlen, maxlen, fvalue, min, max, flags);
-				break;
-			case 'E':
-				flags |= DP_F_UP;
-			case 'e':
-				if (cflags == DP_C_LDOUBLE)
-					fvalue = va_arg (args, LDOUBLE);
-				else
-					fvalue = va_arg (args, double);
-				break;
-			case 'G':
-				flags |= DP_F_UP;
-			case 'g':
-				if (cflags == DP_C_LDOUBLE)
-					fvalue = va_arg (args, LDOUBLE);
-				else
-					fvalue = va_arg (args, double);
-				break;
-			case 'c':
-				dopr_outch (buffer, &currlen, maxlen, va_arg (args, int));
-				break;
-			case 's':
-				strvalue = va_arg (args, char *);
-				if (max == -1) {
-					max = strlen(strvalue);
-				}
-				if (min > 0 && max >= 0 && min > max) max = min;
-				fmtstr (buffer, &currlen, maxlen, strvalue, flags, min, max);
-				break;
-			case 'p':
-				strvalue = va_arg (args, void *);
-				fmtint (buffer, &currlen, maxlen, (long) strvalue, 16, min, max, flags);
-				break;
-			case 'n':
-				if (cflags == DP_C_SHORT) {
-					short int *num;
-					num = va_arg (args, short int *);
-					*num = currlen;
-				} else if (cflags == DP_C_LONG) {
-					long int *num;
-					num = va_arg (args, long int *);
-					*num = (long int)currlen;
-				} else if (cflags == DP_C_LLONG) {
-					LLONG *num;
-					num = va_arg (args, LLONG *);
-					*num = (LLONG)currlen;
-				} else {
-					int *num;
-					num = va_arg (args, int *);
-					*num = currlen;
-				}
-				break;
-			case '%':
-				dopr_outch (buffer, &currlen, maxlen, ch);
-				break;
-			case 'w':
-				/* not supported yet, treat as next char */
-				ch = *format++;
-				break;
-			default:
-				/* Unknown, skip */
-				break;
-			}
-			ch = *format++;
-			state = DP_S_DEFAULT;
-			flags = cflags = min = 0;
-			max = -1;
-			break;
-		case DP_S_DONE:
-			break;
-		default:
-			/* hmm? */
-			break; /* some picky compilers need this */
-		}
-	}
-	if (maxlen != 0) {
-		if (currlen < maxlen - 1) 
-			buffer[currlen] = '\0';
-		else if (maxlen > 0) 
-			buffer[maxlen - 1] = '\0';
-	}
-	
-	return currlen;
+    char ch;
+    LLONG value;
+    LDOUBLE fvalue;
+    char *strvalue;
+    int min;
+    int max;
+    int state;
+    int flags;
+    int cflags;
+    size_t currlen;
+
+    state = DP_S_DEFAULT;
+    currlen = flags = cflags = min = 0;
+    max = -1;
+    ch = *format++;
+
+    while (state != DP_S_DONE) {
+        if (ch == '\0')
+            state = DP_S_DONE;
+
+        switch(state) {
+        case DP_S_DEFAULT:
+            if (ch == '%')
+                state = DP_S_FLAGS;
+            else
+                dopr_outch (buffer, &currlen, maxlen, ch);
+            ch = *format++;
+            break;
+        case DP_S_FLAGS:
+            switch (ch) {
+            case '-':
+                flags |= DP_F_MINUS;
+                ch = *format++;
+                break;
+            case '+':
+                flags |= DP_F_PLUS;
+                ch = *format++;
+                break;
+            case ' ':
+                flags |= DP_F_SPACE;
+                ch = *format++;
+                break;
+            case '#':
+                flags |= DP_F_NUM;
+                ch = *format++;
+                break;
+            case '0':
+                flags |= DP_F_ZERO;
+                ch = *format++;
+                break;
+            default:
+                state = DP_S_MIN;
+                break;
+            }
+            break;
+        case DP_S_MIN:
+            if (isdigit((unsigned char)ch)) {
+                min = 10*min + char_to_int (ch);
+                ch = *format++;
+            } else if (ch == '*') {
+                min = va_arg (args, int);
+                ch = *format++;
+                state = DP_S_DOT;
+            } else {
+                state = DP_S_DOT;
+            }
+            break;
+        case DP_S_DOT:
+            if (ch == '.') {
+                state = DP_S_MAX;
+                ch = *format++;
+            } else {
+                state = DP_S_MOD;
+            }
+            break;
+        case DP_S_MAX:
+            if (isdigit((unsigned char)ch)) {
+                if (max < 0)
+                    max = 0;
+                max = 10*max + char_to_int (ch);
+                ch = *format++;
+            } else if (ch == '*') {
+                max = va_arg (args, int);
+                ch = *format++;
+                state = DP_S_MOD;
+            } else {
+                state = DP_S_MOD;
+            }
+            break;
+        case DP_S_MOD:
+            switch (ch) {
+            case 'h':
+                cflags = DP_C_SHORT;
+                ch = *format++;
+                break;
+            case 'l':
+                cflags = DP_C_LONG;
+                ch = *format++;
+                if (ch == 'l') {	/* It's a long long */
+                    cflags = DP_C_LLONG;
+                    ch = *format++;
+                }
+                break;
+            case 'L':
+                cflags = DP_C_LDOUBLE;
+                ch = *format++;
+                break;
+            default:
+                break;
+            }
+            state = DP_S_CONV;
+            break;
+        case DP_S_CONV:
+            switch (ch) {
+            case 'd':
+            case 'i':
+                if (cflags == DP_C_SHORT)
+                    value = va_arg (args, int);
+                else if (cflags == DP_C_LONG)
+                    value = va_arg (args, long int);
+                else if (cflags == DP_C_LLONG)
+                    value = va_arg (args, LLONG);
+                else
+                    value = va_arg (args, int);
+                fmtint (buffer, &currlen, maxlen, value, 10, min, max, flags);
+                break;
+            case 'o':
+                flags |= DP_F_UNSIGNED;
+                if (cflags == DP_C_SHORT)
+                    value = va_arg (args, unsigned int);
+                else if (cflags == DP_C_LONG)
+                    value = (long)va_arg (args, unsigned long int);
+                else if (cflags == DP_C_LLONG)
+                    value = (long)va_arg (args, unsigned LLONG);
+                else
+                    value = (long)va_arg (args, unsigned int);
+                fmtint (buffer, &currlen, maxlen, value, 8, min, max, flags);
+                break;
+            case 'u':
+                flags |= DP_F_UNSIGNED;
+                if (cflags == DP_C_SHORT)
+                    value = va_arg (args, unsigned int);
+                else if (cflags == DP_C_LONG)
+                    value = (long)va_arg (args, unsigned long int);
+                else if (cflags == DP_C_LLONG)
+                    value = (LLONG)va_arg (args, unsigned LLONG);
+                else
+                    value = (long)va_arg (args, unsigned int);
+                fmtint (buffer, &currlen, maxlen, value, 10, min, max, flags);
+                break;
+            case 'X':
+                flags |= DP_F_UP;
+            case 'x':
+                flags |= DP_F_UNSIGNED;
+                if (cflags == DP_C_SHORT)
+                    value = va_arg (args, unsigned int);
+                else if (cflags == DP_C_LONG)
+                    value = (long)va_arg (args, unsigned long int);
+                else if (cflags == DP_C_LLONG)
+                    value = (LLONG)va_arg (args, unsigned LLONG);
+                else
+                    value = (long)va_arg (args, unsigned int);
+                fmtint (buffer, &currlen, maxlen, value, 16, min, max, flags);
+                break;
+            case 'f':
+                if (cflags == DP_C_LDOUBLE)
+                    fvalue = va_arg (args, LDOUBLE);
+                else
+                    fvalue = va_arg (args, double);
+                /* um, floating point? */
+                fmtfp (buffer, &currlen, maxlen, fvalue, min, max, flags);
+                break;
+            case 'E':
+                flags |= DP_F_UP;
+            case 'e':
+                if (cflags == DP_C_LDOUBLE)
+                    fvalue = va_arg (args, LDOUBLE);
+                else
+                    fvalue = va_arg (args, double);
+                break;
+            case 'G':
+                flags |= DP_F_UP;
+            case 'g':
+                if (cflags == DP_C_LDOUBLE)
+                    fvalue = va_arg (args, LDOUBLE);
+                else
+                    fvalue = va_arg (args, double);
+                break;
+            case 'c':
+                dopr_outch (buffer, &currlen, maxlen, va_arg (args, int));
+                break;
+            case 's':
+                strvalue = va_arg (args, char *);
+                if (max == -1) {
+                    max = strlen(strvalue);
+                }
+                if (min > 0 && max >= 0 && min > max) max = min;
+                fmtstr (buffer, &currlen, maxlen, strvalue, flags, min, max);
+                break;
+            case 'p':
+                strvalue = va_arg (args, void *);
+                fmtint (buffer, &currlen, maxlen, (long) strvalue, 16, min, max, flags);
+                break;
+            case 'n':
+                if (cflags == DP_C_SHORT) {
+                    short int *num;
+                    num = va_arg (args, short int *);
+                    *num = currlen;
+                } else if (cflags == DP_C_LONG) {
+                    long int *num;
+                    num = va_arg (args, long int *);
+                    *num = (long int)currlen;
+                } else if (cflags == DP_C_LLONG) {
+                    LLONG *num;
+                    num = va_arg (args, LLONG *);
+                    *num = (LLONG)currlen;
+                } else {
+                    int *num;
+                    num = va_arg (args, int *);
+                    *num = currlen;
+                }
+                break;
+            case '%':
+                dopr_outch (buffer, &currlen, maxlen, ch);
+                break;
+            case 'w':
+                /* not supported yet, treat as next char */
+                ch = *format++;
+                break;
+            default:
+                /* Unknown, skip */
+                break;
+            }
+            ch = *format++;
+            state = DP_S_DEFAULT;
+            flags = cflags = min = 0;
+            max = -1;
+            break;
+        case DP_S_DONE:
+            break;
+        default:
+            /* hmm? */
+            break; /* some picky compilers need this */
+        }
+    }
+    if (maxlen != 0) {
+        if (currlen < maxlen - 1)
+            buffer[currlen] = '\0';
+        else if (maxlen > 0)
+            buffer[maxlen - 1] = '\0';
+    }
+
+    return currlen;
 }
 
 static void fmtstr(char *buffer, size_t *currlen, size_t maxlen,
-		    char *value, int flags, int min, int max)
+                   char *value, int flags, int min, int max)
 {
-	int padlen, strln;     /* amount to pad */
-	int cnt = 0;
+    int padlen, strln;     /* amount to pad */
+    int cnt = 0;
 
 #ifdef DEBUG_SNPRINTF
-	printf("fmtstr min=%d max=%d s=[%s]\n", min, max, value);
+    printf("fmtstr min=%d max=%d s=[%s]\n", min, max, value);
 #endif
-	if (value == 0) {
-		value = "<NULL>";
-	}
-
-	for (strln = 0; value[strln]; ++strln); /* strlen */
-	padlen = min - strln;
-	if (padlen < 0) 
-		padlen = 0;
-	if (flags & DP_F_MINUS) 
-		padlen = -padlen; /* Left Justify */
-	
-	while ((padlen > 0) && (cnt < max)) {
-		dopr_outch (buffer, currlen, maxlen, ' ');
-		--padlen;
-		++cnt;
-	}
-	while (*value && (cnt < max)) {
-		dopr_outch (buffer, currlen, maxlen, *value++);
-		++cnt;
-	}
-	while ((padlen < 0) && (cnt < max)) {
-		dopr_outch (buffer, currlen, maxlen, ' ');
-		++padlen;
-		++cnt;
-	}
+    if (value == 0) {
+        value = "<NULL>";
+    }
+
+    for (strln = 0; value[strln]; ++strln); /* strlen */
+    padlen = min - strln;
+    if (padlen < 0)
+        padlen = 0;
+    if (flags & DP_F_MINUS)
+        padlen = -padlen; /* Left Justify */
+
+    while ((padlen > 0) && (cnt < max)) {
+        dopr_outch (buffer, currlen, maxlen, ' ');
+        --padlen;
+        ++cnt;
+    }
+    while (*value && (cnt < max)) {
+        dopr_outch (buffer, currlen, maxlen, *value++);
+        ++cnt;
+    }
+    while ((padlen < 0) && (cnt < max)) {
+        dopr_outch (buffer, currlen, maxlen, ' ');
+        ++padlen;
+        ++cnt;
+    }
 }
 
 /* Have to handle DP_F_NUM (ie 0x and 0 alternates) */
 
 static void fmtint(char *buffer, size_t *currlen, size_t maxlen,
-		    long value, int base, int min, int max, int flags)
+                   long value, int base, int min, int max, int flags)
 {
-	int signvalue = 0;
-	unsigned long uvalue;
-	char convert[20];
-	int place = 0;
-	int spadlen = 0; /* amount to space pad */
-	int zpadlen = 0; /* amount to zero pad */
-	int caps = 0;
-	
-	if (max < 0)
-		max = 0;
-	
-	uvalue = value;
-	
-	if(!(flags & DP_F_UNSIGNED)) {
-		if( value < 0 ) {
-			signvalue = '-';
-			uvalue = -value;
-		} else {
-			if (flags & DP_F_PLUS)  /* Do a sign (+/i) */
-				signvalue = '+';
-			else if (flags & DP_F_SPACE)
-				signvalue = ' ';
-		}
-	}
-  
-	if (flags & DP_F_UP) caps = 1; /* Should characters be upper case? */
-
-	do {
-		convert[place++] =
-			(caps? "0123456789ABCDEF":"0123456789abcdef")
-			[uvalue % (unsigned)base  ];
-		uvalue = (uvalue / (unsigned)base );
-	} while(uvalue && (place < 20));
-	if (place == 20) place--;
-	convert[place] = 0;
-
-	zpadlen = max - place;
-	spadlen = min - MAX (max, place) - (signvalue ? 1 : 0);
-	if (zpadlen < 0) zpadlen = 0;
-	if (spadlen < 0) spadlen = 0;
-	if (flags & DP_F_ZERO) {
-		zpadlen = MAX(zpadlen, spadlen);
-		spadlen = 0;
-	}
-	if (flags & DP_F_MINUS) 
-		spadlen = -spadlen; /* Left Justifty */
+    int signvalue = 0;
+    unsigned long uvalue;
+    char convert[20];
+    int place = 0;
+    int spadlen = 0; /* amount to space pad */
+    int zpadlen = 0; /* amount to zero pad */
+    int caps = 0;
+
+    if (max < 0)
+        max = 0;
+
+    uvalue = value;
+
+    if(!(flags & DP_F_UNSIGNED)) {
+        if( value < 0 ) {
+            signvalue = '-';
+            uvalue = -value;
+        } else {
+            if (flags & DP_F_PLUS)  /* Do a sign (+/i) */
+                signvalue = '+';
+            else if (flags & DP_F_SPACE)
+                signvalue = ' ';
+        }
+    }
+
+    if (flags & DP_F_UP) caps = 1; /* Should characters be upper case? */
+
+    do {
+        convert[place++] =
+            (caps? "0123456789ABCDEF":"0123456789abcdef")
+            [uvalue % (unsigned)base  ];
+        uvalue = (uvalue / (unsigned)base );
+    } while(uvalue && (place < 20));
+    if (place == 20) place--;
+    convert[place] = 0;
+
+    zpadlen = max - place;
+    spadlen = min - MAX (max, place) - (signvalue ? 1 : 0);
+    if (zpadlen < 0) zpadlen = 0;
+    if (spadlen < 0) spadlen = 0;
+    if (flags & DP_F_ZERO) {
+        zpadlen = MAX(zpadlen, spadlen);
+        spadlen = 0;
+    }
+    if (flags & DP_F_MINUS)
+        spadlen = -spadlen; /* Left Justifty */
 
 #ifdef DEBUG_SNPRINTF
-	printf("zpad: %d, spad: %d, min: %d, max: %d, place: %d\n",
-	       zpadlen, spadlen, min, max, place);
+    printf("zpad: %d, spad: %d, min: %d, max: %d, place: %d\n",
+           zpadlen, spadlen, min, max, place);
 #endif
 
-	/* Spaces */
-	while (spadlen > 0) {
-		dopr_outch (buffer, currlen, maxlen, ' ');
-		--spadlen;
-	}
-
-	/* Sign */
-	if (signvalue) 
-		dopr_outch (buffer, currlen, maxlen, signvalue);
-
-	/* Zeros */
-	if (zpadlen > 0) {
-		while (zpadlen > 0) {
-			dopr_outch (buffer, currlen, maxlen, '0');
-			--zpadlen;
-		}
-	}
-
-	/* Digits */
-	while (place > 0) 
-		dopr_outch (buffer, currlen, maxlen, convert[--place]);
-  
-	/* Left Justified spaces */
-	while (spadlen < 0) {
-		dopr_outch (buffer, currlen, maxlen, ' ');
-		++spadlen;
-	}
+    /* Spaces */
+    while (spadlen > 0) {
+        dopr_outch (buffer, currlen, maxlen, ' ');
+        --spadlen;
+    }
+
+    /* Sign */
+    if (signvalue)
+        dopr_outch (buffer, currlen, maxlen, signvalue);
+
+    /* Zeros */
+    if (zpadlen > 0) {
+        while (zpadlen > 0) {
+            dopr_outch (buffer, currlen, maxlen, '0');
+            --zpadlen;
+        }
+    }
+
+    /* Digits */
+    while (place > 0)
+        dopr_outch (buffer, currlen, maxlen, convert[--place]);
+
+    /* Left Justified spaces */
+    while (spadlen < 0) {
+        dopr_outch (buffer, currlen, maxlen, ' ');
+        ++spadlen;
+    }
 }
 
 static LDOUBLE abs_val(LDOUBLE value)
 {
-	LDOUBLE result = value;
+    LDOUBLE result = value;
+
+    if (value < 0)
+        result = -value;
 
-	if (value < 0)
-		result = -value;
-	
-	return result;
+    return result;
 }
 
 static LDOUBLE POW10(int exp)
 {
-	LDOUBLE result = 1;
-	
-	while (exp) {
-		result *= 10;
-		exp--;
-	}
-  
-	return result;
+    LDOUBLE result = 1;
+
+    while (exp) {
+        result *= 10;
+        exp--;
+    }
+
+    return result;
 }
 
 static LLONG ROUND(LDOUBLE value)
 {
-	LLONG intpart;
+    LLONG intpart;
+
+    intpart = (LLONG)value;
+    value = value - intpart;
+    if (value >= 0.5) intpart++;
 
-	intpart = (LLONG)value;
-	value = value - intpart;
-	if (value >= 0.5) intpart++;
-	
-	return intpart;
+    return intpart;
 }
 
 /* a replacement for modf that doesn't need the math library. Should
-   be portable, but slow */
+ be portable, but slow */
 static double my_modf(double x0, double *iptr)
 {
-	int i;
-	long l;
-	double x = x0;
-	double f = 1.0;
-
-	for (i=0;i<100;i++) {
-		l = (long)x;
-		if (l <= (x+1) && l >= (x-1)) break;
-		x *= 0.1;
-		f *= 10.0;
-	}
-
-	if (i == 100) {
-		/* yikes! the number is beyond what we can handle. What do we do? */
-		(*iptr) = 0;
-		return 0;
-	}
-
-	if (i != 0) {
-		double i2;
-		double ret;
-
-		ret = my_modf(x0-l*f, &i2);
-		(*iptr) = l*f + i2;
-		return ret;
-	} 
+    int i;
+    long l;
+    double x = x0;
+    double f = 1.0;
+
+    for (i=0;i<100;i++) {
+        l = (long)x;
+        if (l <= (x+1) && l >= (x-1)) break;
+        x *= 0.1;
+        f *= 10.0;
+    }
+
+    if (i == 100) {
+        /* yikes! the number is beyond what we can handle. What do we do? */
+        (*iptr) = 0;
+        return 0;
+    }
+
+    if (i != 0) {
+        double i2;
+        double ret;
+
+        ret = my_modf(x0-l*f, &i2);
+        (*iptr) = l*f + i2;
+        return ret;
+    }
 
-	(*iptr) = l;
-	return x - (*iptr);
+    (*iptr) = l;
+    return x - (*iptr);
 }
 
 
 static void fmtfp (char *buffer, size_t *currlen, size_t maxlen,
-		   LDOUBLE fvalue, int min, int max, int flags)
+                   LDOUBLE fvalue, int min, int max, int flags)
 {
-	int signvalue = 0;
-	double ufvalue;
-	char iconvert[311];
-	char fconvert[311];
-	int iplace = 0;
-	int fplace = 0;
-	int padlen = 0; /* amount to pad */
-	int zpadlen = 0; 
-	int caps = 0;
-	int index;
-	double intpart;
-	double fracpart;
-	double temp;
-  
-	/* 
-	 * AIX manpage says the default is 0, but Solaris says the default
-	 * is 6, and sprintf on AIX defaults to 6
-	 */
-	if (max < 0)
-		max = 6;
-
-	ufvalue = abs_val (fvalue);
-
-	if (fvalue < 0) {
-		signvalue = '-';
-	} else {
-		if (flags & DP_F_PLUS) { /* Do a sign (+/i) */
-			signvalue = '+';
-		} else {
-			if (flags & DP_F_SPACE)
-				signvalue = ' ';
-		}
-	}
+    int signvalue = 0;
+    double ufvalue;
+    char iconvert[311];
+    char fconvert[311];
+    int iplace = 0;
+    int fplace = 0;
+    int padlen = 0; /* amount to pad */
+    int zpadlen = 0;
+    int caps = 0;
+    int index;
+    double intpart;
+    double fracpart;
+    double temp;
+
+    /*
+     * AIX manpage says the default is 0, but Solaris says the default
+     * is 6, and sprintf on AIX defaults to 6
+     */
+    if (max < 0)
+        max = 6;
+
+    ufvalue = abs_val (fvalue);
+
+    if (fvalue < 0) {
+        signvalue = '-';
+    } else {
+        if (flags & DP_F_PLUS) { /* Do a sign (+/i) */
+            signvalue = '+';
+        } else {
+            if (flags & DP_F_SPACE)
+                signvalue = ' ';
+        }
+    }
 
 #if 0
-	if (flags & DP_F_UP) caps = 1; /* Should characters be upper case? */
+    if (flags & DP_F_UP) caps = 1; /* Should characters be upper case? */
 #endif
 
 #if 0
-	 if (max == 0) ufvalue += 0.5; /* if max = 0 we must round */
+    if (max == 0) ufvalue += 0.5; /* if max = 0 we must round */
 #endif
 
-	/* 
-	 * Sorry, we only support 16 digits past the decimal because of our 
-	 * conversion method
-	 */
-	if (max > 16)
-		max = 16;
-
-	/* We "cheat" by converting the fractional part to integer by
-	 * multiplying by a factor of 10
-	 */
-
-	temp = ufvalue;
-	my_modf(temp, &intpart);
-
-	fracpart = ROUND((POW10(max)) * (ufvalue - intpart));
-	
-	if (fracpart >= POW10(max)) {
-		intpart++;
-		fracpart -= POW10(max);
-	}
-
-
-	/* Convert integer part */
-	do {
-		temp = intpart;
-		my_modf(intpart*0.1, &intpart);
-		temp = temp*0.1;
-		index = (int) ((temp -intpart +0.05)* 10.0);
-		/* index = (int) (((double)(temp*0.1) -intpart +0.05) *10.0); */
-		/* printf ("%llf, %f, %x\n", temp, intpart, index); */
-		iconvert[iplace++] =
-			(caps? "0123456789ABCDEF":"0123456789abcdef")[index];
-	} while (intpart && (iplace < 311));
-	if (iplace == 311) iplace--;
-	iconvert[iplace] = 0;
-
-	/* Convert fractional part */
-	if (fracpart)
-	{
-		do {
-			temp = fracpart;
-			my_modf(fracpart*0.1, &fracpart);
-			temp = temp*0.1;
-			index = (int) ((temp -fracpart +0.05)* 10.0);
-			/* index = (int) ((((temp/10) -fracpart) +0.05) *10); */
-			/* printf ("%lf, %lf, %ld\n", temp, fracpart, index); */
-			fconvert[fplace++] =
-			(caps? "0123456789ABCDEF":"0123456789abcdef")[index];
-		} while(fracpart && (fplace < 311));
-		if (fplace == 311) fplace--;
-	}
-	fconvert[fplace] = 0;
-  
-	/* -1 for decimal point, another -1 if we are printing a sign */
-	padlen = min - iplace - max - 1 - ((signvalue) ? 1 : 0); 
-	zpadlen = max - fplace;
-	if (zpadlen < 0) zpadlen = 0;
-	if (padlen < 0) 
-		padlen = 0;
-	if (flags & DP_F_MINUS) 
-		padlen = -padlen; /* Left Justifty */
-	
-	if ((flags & DP_F_ZERO) && (padlen > 0)) {
-		if (signvalue) {
-			dopr_outch (buffer, currlen, maxlen, signvalue);
-			--padlen;
-			signvalue = 0;
-		}
-		while (padlen > 0) {
-			dopr_outch (buffer, currlen, maxlen, '0');
-			--padlen;
-		}
-	}
-	while (padlen > 0) {
-		dopr_outch (buffer, currlen, maxlen, ' ');
-		--padlen;
-	}
-	if (signvalue) 
-		dopr_outch (buffer, currlen, maxlen, signvalue);
-	
-	while (iplace > 0) 
-		dopr_outch (buffer, currlen, maxlen, iconvert[--iplace]);
+    /*
+     * Sorry, we only support 16 digits past the decimal because of our
+     * conversion method
+     */
+    if (max > 16)
+        max = 16;
+
+    /* We "cheat" by converting the fractional part to integer by
+     * multiplying by a factor of 10
+     */
+
+    temp = ufvalue;
+    my_modf(temp, &intpart);
+
+    fracpart = ROUND((POW10(max)) * (ufvalue - intpart));
+
+    if (fracpart >= POW10(max)) {
+        intpart++;
+        fracpart -= POW10(max);
+    }
+
+
+    /* Convert integer part */
+    do {
+        temp = intpart;
+        my_modf(intpart*0.1, &intpart);
+        temp = temp*0.1;
+        index = (int) ((temp -intpart +0.05)* 10.0);
+        /* index = (int) (((double)(temp*0.1) -intpart +0.05) *10.0); */
+        /* printf ("%llf, %f, %x\n", temp, intpart, index); */
+        iconvert[iplace++] =
+            (caps? "0123456789ABCDEF":"0123456789abcdef")[index];
+    } while (intpart && (iplace < 311));
+    if (iplace == 311) iplace--;
+    iconvert[iplace] = 0;
+
+    /* Convert fractional part */
+    if (fracpart)
+    {
+        do {
+            temp = fracpart;
+            my_modf(fracpart*0.1, &fracpart);
+            temp = temp*0.1;
+            index = (int) ((temp -fracpart +0.05)* 10.0);
+            /* index = (int) ((((temp/10) -fracpart) +0.05) *10); */
+            /* printf ("%lf, %lf, %ld\n", temp, fracpart, index); */
+            fconvert[fplace++] =
+                (caps? "0123456789ABCDEF":"0123456789abcdef")[index];
+        } while(fracpart && (fplace < 311));
+        if (fplace == 311) fplace--;
+    }
+    fconvert[fplace] = 0;
+
+    /* -1 for decimal point, another -1 if we are printing a sign */
+    padlen = min - iplace - max - 1 - ((signvalue) ? 1 : 0);
+    zpadlen = max - fplace;
+    if (zpadlen < 0) zpadlen = 0;
+    if (padlen < 0)
+        padlen = 0;
+    if (flags & DP_F_MINUS)
+        padlen = -padlen; /* Left Justifty */
+
+    if ((flags & DP_F_ZERO) && (padlen > 0)) {
+        if (signvalue) {
+            dopr_outch (buffer, currlen, maxlen, signvalue);
+            --padlen;
+            signvalue = 0;
+        }
+        while (padlen > 0) {
+            dopr_outch (buffer, currlen, maxlen, '0');
+            --padlen;
+        }
+    }
+    while (padlen > 0) {
+        dopr_outch (buffer, currlen, maxlen, ' ');
+        --padlen;
+    }
+    if (signvalue)
+        dopr_outch (buffer, currlen, maxlen, signvalue);
+
+    while (iplace > 0)
+        dopr_outch (buffer, currlen, maxlen, iconvert[--iplace]);
 
 #ifdef DEBUG_SNPRINTF
-	printf("fmtfp: fplace=%d zpadlen=%d\n", fplace, zpadlen);
+    printf("fmtfp: fplace=%d zpadlen=%d\n", fplace, zpadlen);
 #endif
 
-	/*
-	 * Decimal point.  This should probably use locale to find the correct
-	 * char to print out.
-	 */
-	if (max > 0) {
-		dopr_outch (buffer, currlen, maxlen, '.');
-		
-		while (fplace > 0) 
-			dopr_outch (buffer, currlen, maxlen, fconvert[--fplace]);
-	}
-	
-	while (zpadlen > 0) {
-		dopr_outch (buffer, currlen, maxlen, '0');
-		--zpadlen;
-	}
-
-	while (padlen < 0) {
-		dopr_outch (buffer, currlen, maxlen, ' ');
-		++padlen;
-	}
+    /*
+     * Decimal point.  This should probably use locale to find the correct
+     * char to print out.
+     */
+    if (max > 0) {
+        dopr_outch (buffer, currlen, maxlen, '.');
+
+        while (fplace > 0)
+            dopr_outch (buffer, currlen, maxlen, fconvert[--fplace]);
+    }
+
+    while (zpadlen > 0) {
+        dopr_outch (buffer, currlen, maxlen, '0');
+        --zpadlen;
+    }
+
+    while (padlen < 0) {
+        dopr_outch (buffer, currlen, maxlen, ' ');
+        ++padlen;
+    }
 }
 
 static void dopr_outch(char *buffer, size_t *currlen, size_t maxlen, char c)
 {
-	if (*currlen < maxlen) {
-		buffer[(*currlen)] = c;
-	}
-	(*currlen)++;
+    if (*currlen < maxlen) {
+        buffer[(*currlen)] = c;
+    }
+    (*currlen)++;
 }
 
 #if !defined(HAVE_VSNPRINTF) || !defined(HAVE_C99_VSNPRINTF)
- int vsnprintf (char *str, size_t count, const char *fmt, va_list args)
+int vsnprintf (char *str, size_t count, const char *fmt, va_list args)
 {
-	return dopr(str, count, fmt, args);
+    return dopr(str, count, fmt, args);
 }
 #endif
 
 #if !defined(HAVE_SNPRINTF) || !defined(HAVE_C99_VSNPRINTF)
- int snprintf(char *str,size_t count,const char *fmt,...)
+int snprintf(char *str,size_t count,const char *fmt,...)
 {
-	size_t ret;
-	va_list ap;
-    
-	va_start(ap, fmt);
-	ret = vsnprintf(str, count, fmt, ap);
-	va_end(ap);
-	return ret;
+    size_t ret;
+    va_list ap;
+
+    va_start(ap, fmt);
+    ret = vsnprintf(str, count, fmt, ap);
+    va_end(ap);
+    return ret;
 }
 #endif
 
-#endif 
+#endif
 
 #ifndef HAVE_VASPRINTF
- int vasprintf(char **ptr, const char *format, va_list ap)
+int vasprintf(char **ptr, const char *format, va_list ap)
 {
-	int ret;
-	
-	ret = vsnprintf(NULL, 0, format, ap);
-	if (ret <= 0) return ret;
-
-	(*ptr) = (char *)malloc(ret+1);
-	if (!*ptr) return -1;
-	ret = vsnprintf(*ptr, ret+1, format, ap);
+    int ret;
 
-	return ret;
+    ret = vsnprintf(NULL, 0, format, ap);
+    if (ret <= 0) return ret;
+
+    (*ptr) = (char *)malloc(ret+1);
+    if (!*ptr) return -1;
+    ret = vsnprintf(*ptr, ret+1, format, ap);
+
+    return ret;
 }
 #endif
 
 
 #ifndef HAVE_ASPRINTF
- int asprintf(char **ptr, const char *format, ...)
+int asprintf(char **ptr, const char *format, ...)
 {
-	va_list ap;
-	int ret;
-	
-	va_start(ap, format);
-	ret = vasprintf(ptr, format, ap);
-	va_end(ap);
+    va_list ap;
+    int ret;
+
+    va_start(ap, format);
+    ret = vasprintf(ptr, format, ap);
+    va_end(ap);
 
-	return ret;
+    return ret;
 }
 #endif
 
 #ifdef TEST_SNPRINTF
 
- int sprintf(char *str,const char *fmt,...);
+int sprintf(char *str,const char *fmt,...);
 
- int main (void)
+int main (void)
 {
-	char buf1[1024];
-	char buf2[1024];
-	char *fp_fmt[] = {
-		"%1.1f",
-		"%-1.5f",
-		"%1.5f",
-		"%123.9f",
-		"%10.5f",
-		"% 10.5f",
-		"%+22.9f",
-		"%+4.9f",
-		"%01.3f",
-		"%4f",
-		"%3.1f",
-		"%3.2f",
-		"%.0f",
-		"%f",
-		"-16.16f",
-		NULL
-	};
-	double fp_nums[] = { 6442452944.1234, -1.5, 134.21, 91340.2, 341.1234, 0203.9, 0.96, 0.996, 
-			     0.9996, 1.996, 4.136,  0};
-	char *int_fmt[] = {
-		"%-1.5d",
-		"%1.5d",
-		"%123.9d",
-		"%5.5d",
-		"%10.5d",
-		"% 10.5d",
-		"%+22.33d",
-		"%01.3d",
-		"%4d",
-		"%d",
-		NULL
-	};
-	long int_nums[] = { -1, 134, 91340, 341, 0203, 0};
-	char *str_fmt[] = {
-		"10.5s",
-		"5.10s",
-		"10.1s",
-		"0.10s",
-		"10.0s",
-		"1.10s",
-		"%s",
-		"%.1s",
-		"%.10s",
-		"%10s",
-		NULL
-	};
-	char *str_vals[] = {"hello", "a", "", "a longer string", NULL};
-	int x, y;
-	int fail = 0;
-	int num = 0;
-
-	printf ("Testing snprintf format codes against system sprintf...\n");
-
-	for (x = 0; fp_fmt[x] ; x++) {
-		for (y = 0; fp_nums[y] != 0 ; y++) {
-			int l1 = snprintf(NULL, 0, fp_fmt[x], fp_nums[y]);
-			int l2 = snprintf(buf1, sizeof(buf1), fp_fmt[x], fp_nums[y]);
-			sprintf (buf2, fp_fmt[x], fp_nums[y]);
-			if (strcmp (buf1, buf2)) {
-				printf("snprintf doesn't match Format: %s\n\tsnprintf = [%s]\n\t sprintf = [%s]\n", 
-				       fp_fmt[x], buf1, buf2);
-				fail++;
-			}
-			if (l1 != l2) {
-				printf("snprintf l1 != l2 (%d %d) %s\n", l1, l2, fp_fmt[x]);
-				fail++;
-			}
-			num++;
-		}
-	}
-
-	for (x = 0; int_fmt[x] ; x++) {
-		for (y = 0; int_nums[y] != 0 ; y++) {
-			int l1 = snprintf(NULL, 0, int_fmt[x], int_nums[y]);
-			int l2 = snprintf(buf1, sizeof(buf1), int_fmt[x], int_nums[y]);
-			sprintf (buf2, int_fmt[x], int_nums[y]);
-			if (strcmp (buf1, buf2)) {
-				printf("snprintf doesn't match Format: %s\n\tsnprintf = [%s]\n\t sprintf = [%s]\n", 
-				       int_fmt[x], buf1, buf2);
-				fail++;
-			}
-			if (l1 != l2) {
-				printf("snprintf l1 != l2 (%d %d) %s\n", l1, l2, int_fmt[x]);
-				fail++;
-			}
-			num++;
-		}
-	}
-
-	for (x = 0; str_fmt[x] ; x++) {
-		for (y = 0; str_vals[y] != 0 ; y++) {
-			int l1 = snprintf(NULL, 0, str_fmt[x], str_vals[y]);
-			int l2 = snprintf(buf1, sizeof(buf1), str_fmt[x], str_vals[y]);
-			sprintf (buf2, str_fmt[x], str_vals[y]);
-			if (strcmp (buf1, buf2)) {
-				printf("snprintf doesn't match Format: %s\n\tsnprintf = [%s]\n\t sprintf = [%s]\n", 
-				       str_fmt[x], buf1, buf2);
-				fail++;
-			}
-			if (l1 != l2) {
-				printf("snprintf l1 != l2 (%d %d) %s\n", l1, l2, str_fmt[x]);
-				fail++;
-			}
-			num++;
-		}
-	}
-
-	printf ("%d tests failed out of %d.\n", fail, num);
-
-	printf("seeing how many digits we support\n");
-	{
-		double v0 = 0.12345678901234567890123456789012345678901;
-		for (x=0; x<100; x++) {
-			snprintf(buf1, sizeof(buf1), "%1.1f", v0*pow(10, x));
-			sprintf(buf2,                "%1.1f", v0*pow(10, x));
-			if (strcmp(buf1, buf2)) {
-				printf("we seem to support %d digits\n", x-1);
-				break;
-			}
-		}
-	}
+    char buf1[1024];
+    char buf2[1024];
+    char *fp_fmt[] = {
+        "%1.1f",
+        "%-1.5f",
+        "%1.5f",
+        "%123.9f",
+        "%10.5f",
+        "% 10.5f",
+        "%+22.9f",
+        "%+4.9f",
+        "%01.3f",
+        "%4f",
+        "%3.1f",
+        "%3.2f",
+        "%.0f",
+        "%f",
+        "-16.16f",
+        NULL
+    };
+    double fp_nums[] = { 6442452944.1234, -1.5, 134.21, 91340.2, 341.1234, 0203.9, 0.96, 0.996,
+    0.9996, 1.996, 4.136,  0};
+    char *int_fmt[] = {
+        "%-1.5d",
+        "%1.5d",
+        "%123.9d",
+        "%5.5d",
+        "%10.5d",
+        "% 10.5d",
+        "%+22.33d",
+        "%01.3d",
+        "%4d",
+        "%d",
+        NULL
+    };
+    long int_nums[] = { -1, 134, 91340, 341, 0203, 0};
+    char *str_fmt[] = {
+        "10.5s",
+        "5.10s",
+        "10.1s",
+        "0.10s",
+        "10.0s",
+        "1.10s",
+        "%s",
+        "%.1s",
+        "%.10s",
+        "%10s",
+        NULL
+    };
+    char *str_vals[] = {"hello", "a", "", "a longer string", NULL};
+    int x, y;
+    int fail = 0;
+    int num = 0;
+
+    printf ("Testing snprintf format codes against system sprintf...\n");
+
+    for (x = 0; fp_fmt[x] ; x++) {
+        for (y = 0; fp_nums[y] != 0 ; y++) {
+            int l1 = snprintf(NULL, 0, fp_fmt[x], fp_nums[y]);
+            int l2 = snprintf(buf1, sizeof(buf1), fp_fmt[x], fp_nums[y]);
+            sprintf (buf2, fp_fmt[x], fp_nums[y]);
+            if (strcmp (buf1, buf2)) {
+                printf("snprintf doesn't match Format: %s\n\tsnprintf = [%s]\n\t sprintf = [%s]\n",
+                       fp_fmt[x], buf1, buf2);
+                fail++;
+            }
+            if (l1 != l2) {
+                printf("snprintf l1 != l2 (%d %d) %s\n", l1, l2, fp_fmt[x]);
+                fail++;
+            }
+            num++;
+        }
+    }
+
+    for (x = 0; int_fmt[x] ; x++) {
+        for (y = 0; int_nums[y] != 0 ; y++) {
+            int l1 = snprintf(NULL, 0, int_fmt[x], int_nums[y]);
+            int l2 = snprintf(buf1, sizeof(buf1), int_fmt[x], int_nums[y]);
+            sprintf (buf2, int_fmt[x], int_nums[y]);
+            if (strcmp (buf1, buf2)) {
+                printf("snprintf doesn't match Format: %s\n\tsnprintf = [%s]\n\t sprintf = [%s]\n",
+                       int_fmt[x], buf1, buf2);
+                fail++;
+            }
+            if (l1 != l2) {
+                printf("snprintf l1 != l2 (%d %d) %s\n", l1, l2, int_fmt[x]);
+                fail++;
+            }
+            num++;
+        }
+    }
+
+    for (x = 0; str_fmt[x] ; x++) {
+        for (y = 0; str_vals[y] != 0 ; y++) {
+            int l1 = snprintf(NULL, 0, str_fmt[x], str_vals[y]);
+            int l2 = snprintf(buf1, sizeof(buf1), str_fmt[x], str_vals[y]);
+            sprintf (buf2, str_fmt[x], str_vals[y]);
+            if (strcmp (buf1, buf2)) {
+                printf("snprintf doesn't match Format: %s\n\tsnprintf = [%s]\n\t sprintf = [%s]\n",
+                       str_fmt[x], buf1, buf2);
+                fail++;
+            }
+            if (l1 != l2) {
+                printf("snprintf l1 != l2 (%d %d) %s\n", l1, l2, str_fmt[x]);
+                fail++;
+            }
+            num++;
+        }
+    }
+
+    printf ("%d tests failed out of %d.\n", fail, num);
+
+    printf("seeing how many digits we support\n");
+    {
+        double v0 = 0.12345678901234567890123456789012345678901;
+        for (x=0; x<100; x++) {
+            snprintf(buf1, sizeof(buf1), "%1.1f", v0*pow(10, x));
+            sprintf(buf2,                "%1.1f", v0*pow(10, x));
+            if (strcmp(buf1, buf2)) {
+                printf("we seem to support %d digits\n", x-1);
+                break;
+            }
+        }
+    }
 
-	return 0;
+    return 0;
 }
 #endif /* SNPRINTF_TEST */
diff -Naur WindowMaker-0.80.2/WINGs/string.c wm-xft2/WINGs/string.c
--- WindowMaker-0.80.2/WINGs/string.c	2001-11-17 07:26:34.000000000 +0300
+++ wm-xft2/WINGs/string.c	2003-10-22 14:08:34.000000000 +0400
@@ -187,6 +187,21 @@
 
 
 char*
+wstrndup(char *str, size_t len)
+{
+    char *copy;
+
+    assert(str!=NULL);
+
+    len = WMIN(len, strlen(str));
+    copy = strncpy(wmalloc(len+1), str, len);
+    copy[len] = 0;
+
+    return copy;
+}
+
+
+char*
 wstrconcat(char *str1, char *str2)
 {
     char *str;
diff -Naur WindowMaker-0.80.2/WINGs/Tests/Makefile.am wm-xft2/WINGs/Tests/Makefile.am
--- WindowMaker-0.80.2/WINGs/Tests/Makefile.am	2001-10-10 04:14:03.000000000 +0400
+++ wm-xft2/WINGs/Tests/Makefile.am	2003-10-22 14:08:34.000000000 +0400
@@ -5,7 +5,7 @@
 noinst_PROGRAMS = wtest wmquery wmfile testmywidget 
 
 LDADD= $(top_builddir)/WINGs/libWINGs.a $(top_builddir)/wrlib/libwraster.la \
-	@INTLIBS@
+	@XFTLIBS@ @INTLIBS@
 
 
 testmywidget_SOURCES = testmywidget.c mywidget.c mywidget.h 
diff -Naur WindowMaker-0.80.2/WINGs/Tests/mywidget.c wm-xft2/WINGs/Tests/mywidget.c
--- WindowMaker-0.80.2/WINGs/Tests/mywidget.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/Tests/mywidget.c	2003-10-22 14:08:34.000000000 +0400
@@ -150,7 +150,7 @@
 	color = WMWhiteColor(scr);
 	
 	W_PaintText(mPtr->view, mPtr->view->window, scr->normalFont,  0, 0,
-		    mPtr->view->size.width, WACenter, WMColorGC(color),
+		    mPtr->view->size.width, WACenter, color,
 		    False, mPtr->text, strlen(mPtr->text));
 	
 	WMReleaseColor(color);
diff -Naur WindowMaker-0.80.2/WINGs/Tests/testmywidget.c wm-xft2/WINGs/Tests/testmywidget.c
--- WindowMaker-0.80.2/WINGs/Tests/testmywidget.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/Tests/testmywidget.c	2003-10-22 14:08:34.000000000 +0400
@@ -1,6 +1,7 @@
 
 
 #include <WINGs/WINGs.h>
+#include <stdlib.h>
 
 #include "mywidget.h"
 
diff -Naur WindowMaker-0.80.2/WINGs/Tests/wmfile.c wm-xft2/WINGs/Tests/wmfile.c
--- WindowMaker-0.80.2/WINGs/Tests/wmfile.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/Tests/wmfile.c	2003-10-22 14:08:35.000000000 +0400
@@ -17,6 +17,7 @@
 
 #include <unistd.h>
 #include <stdio.h>
+#include <stdlib.h>
 
 #include "logo.xpm"
 
@@ -70,14 +71,15 @@
   extern char *optarg;
   extern int optind;
 
-  WMInitializeApplication("WMFile", &argc, argv);
-    
-  ProgName = argv[0];
-
   if (!dpy) {
     puts("could not open display");
     exit(1);
   }
+
+  WMInitializeApplication("WMFile", &argc, argv);
+
+  ProgName = argv[0];
+
   while((ch = getopt(argc, argv, "si:ht:")) != -1)
     switch(ch) 
     { 
diff -Naur WindowMaker-0.80.2/WINGs/Tests/wmquery.c wm-xft2/WINGs/Tests/wmquery.c
--- WindowMaker-0.80.2/WINGs/Tests/wmquery.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/Tests/wmquery.c	2003-10-22 14:08:35.000000000 +0400
@@ -8,6 +8,7 @@
 
 #include <unistd.h>
 #include <stdio.h>
+#include <stdlib.h>
 
 #include "logo.xpm"
 
diff -Naur WindowMaker-0.80.2/WINGs/Tests/wtest.c wm-xft2/WINGs/Tests/wtest.c
--- WindowMaker-0.80.2/WINGs/Tests/wtest.c	2002-02-21 14:28:36.000000000 +0300
+++ wm-xft2/WINGs/Tests/wtest.c	2003-10-22 14:08:35.000000000 +0400
@@ -5,13 +5,14 @@
 #include <WINGs/WINGs.h>
 
 #include <stdio.h>
-
+#include <stdlib.h>
 
 
 /*
  * You need to define this function to link any program to WINGs.
+ * (this is no longer required as there is a default abort handler in WINGs)
  * This will be called when the application will be terminated because
- * on a fatal error.
+ * of a fatal error (only for memory allocation failures ATM).
  */
 void
 wAbort()
@@ -104,7 +105,7 @@
 	frame = WMCreateFrame(win);
 	WMMoveWidget(frame, 8+(i%3)*130, 8+(i/3)*130);
 	WMResizeWidget(frame, 120, 120);
-	WMSetFrameTitle(frame, titles[i]);
+        WMSetFrameTitle(frame, titles[i]);
 	WMSetFrameTitlePosition(frame, pos[i]);
     }
 
@@ -240,7 +241,7 @@
     list = WMCreateList(win);
     /*WMSetListAllowEmptySelection(list, True);*/
     WMMoveWidget(list, 10, 40);
-    for (i=0; i<50; i++) {
+    for (i=0; i<105; i++) {
 	sprintf(text, "Item %i", i);
 	WMAddListItem(list, text);
     }
@@ -337,6 +338,9 @@
     WMSetWindowTitle(win, "Gradiented Button Demo");
     WMResizeWidget(win, 300, 200);
 
+    WMSetWindowCloseAction(win, closeAction, NULL);
+
+
     light.red = 0x90;
     light.green = 0x85;
     light.blue = 0x90;
@@ -586,7 +590,7 @@
 {
     WMWindow *win;
     WMText *text;
-    FILE *file = fopen("wm.html", "r");
+    FILE *file = fopen("wm.html", "rb");
 
     windowCount++;
 
@@ -601,6 +605,20 @@
     WMSetTextHasVerticalScroller(text, True);
     WMSetTextEditable(text, False);
 
+    {
+        WMFont *font, *ifont;
+
+        font = WMDefaultSystemFont(scr);
+        ifont = WMCopyFontWithChanges(scr, font, WFAEmphasized);
+        if (ifont) {
+            WMSetTextDefaultFont(text, ifont);
+            WMReleaseFont(ifont);
+        } else {
+            WMSetTextDefaultFont(text, font);
+        }
+        WMReleaseFont(font);
+    }
+
     if(file) {
         char buf[1024];
 
@@ -1261,7 +1279,7 @@
      * Do NOT use it unless when debugging. It will cause a major
      * slowdown in your application
      */
-#if 1
+#if 0
     XSynchronize(dpy, True);
 #endif
     /*
@@ -1286,38 +1304,27 @@
      */
 
 
-
-    testDragAndDrop(scr);
     testText(scr);
-#if 0
-    testColorPanel(scr);
-    testScrollView(scr);
-    testTabView(scr);    
-    testBox(scr);
-    testText(scr);
-    testList(scr);
+    testFontPanel(scr);
 
-    testProgressIndicator(scr);
 
+#if 0
+    testBox(scr);
+    testButton(scr);
+    testColorPanel(scr);
     testColorWell(scr);
-
-    testTextField(scr);
-
     testDragAndDrop(scr);
-    testFontPanel(scr);
-
-    testButton(scr);
-
     testFrame(scr);
-
-    testSplitView(scr);
-
     testGradientButtons(scr);
-
+    testList(scr);
     testOpenFilePanel(scr);
-
-    testSlider(scr);
+    testProgressIndicator(scr);
     testPullDown(scr);
+    testScrollView(scr);
+    testSlider(scr);
+    testSplitView(scr);
+    testTabView(scr);
+    testTextField(scr);
 #endif
     /*
      * The main event loop.
diff -Naur WindowMaker-0.80.2/WINGs/userdefaults.c wm-xft2/WINGs/userdefaults.c
--- WindowMaker-0.80.2/WINGs/userdefaults.c	2001-12-20 19:36:59.000000000 +0300
+++ wm-xft2/WINGs/userdefaults.c	2003-10-22 14:08:34.000000000 +0400
@@ -39,6 +39,7 @@
 char *WMUserDefaultsDidChangeNotification = "WMUserDefaultsDidChangeNotification";
 
 
+static void synchronizeUserDefaults(void *foo);
 
 extern char *WMGetApplicationName();
 
@@ -93,19 +94,14 @@
 
 
 static void
-#ifndef HAVE_ATEXIT
-saveDefaultsChanges(int foo, void *bar)
-#else
+#ifdef HAVE_ATEXIT
 saveDefaultsChanges(void)
+#else
+saveDefaultsChanges(int foo, void *bar)
 #endif
 {
     /* save the user defaults databases */
-    UserDefaults *tmp = sharedUserDefaults;
-
-    while (tmp) {
-        WMSynchronizeUserDefaults(tmp);
-        tmp = tmp->next;
-    }
+    synchronizeUserDefaults(NULL);
 }
 
 
@@ -116,10 +112,10 @@
     static Bool registeredSaveOnExit = False;
 
     if (!registeredSaveOnExit) {
-#ifndef HAVE_ATEXIT
-        on_exit(saveDefaultsChanges, (void*)NULL);
-#else
+#ifdef HAVE_ATEXIT
         atexit(saveDefaultsChanges);
+#else
+        on_exit(saveDefaultsChanges, (void*)NULL);
 #endif
         registeredSaveOnExit = True;
     }
@@ -136,7 +132,6 @@
             WMSynchronizeUserDefaults(database);
         database = database->next;
     }
-    WMAddTimerHandler(UD_SYNC_INTERVAL, synchronizeUserDefaults, NULL);
 }
 
 
@@ -146,7 +141,8 @@
     static Bool initialized = False;
 
     if (!initialized) {
-        WMAddTimerHandler(UD_SYNC_INTERVAL, synchronizeUserDefaults, NULL);
+        WMAddPersistentTimerHandler(UD_SYNC_INTERVAL, synchronizeUserDefaults,
+                                    NULL);
         initialized = True;
     }
 }
@@ -265,7 +261,7 @@
     if (sharedUserDefaults) {
         defaults = sharedUserDefaults;
         while (defaults) {
-            /* Trick, path == NULL only for StandardUserDefaults db */
+            /* path == NULL only for StandardUserDefaults db */
             if (defaults->path == NULL)
                 return defaults;
             defaults = defaults->next;
@@ -284,18 +280,17 @@
     key = WMCreatePLString(WMGetApplicationName());
     defaults->searchList[0] = key;
 
-    /* temporary kluge */
+    /* temporary kluge. wmaker handles synchronization itself */
     if (strcmp(WMGetApplicationName(), "WindowMaker")==0) {
-        domain = NULL;
-        path = NULL;
-    } else {
-        path = wdefaultspathfordomain(WMGetFromPLString(key));
+        defaults->dontSync = 1;
+    }
 
-        if (stat(path, &stbuf) >= 0)
-            defaults->timestamp = stbuf.st_mtime;
+    path = wdefaultspathfordomain(WMGetFromPLString(key));
 
-        domain = WMReadPropListFromFile(path);
-    }
+    if (stat(path, &stbuf) >= 0)
+        defaults->timestamp = stbuf.st_mtime;
+
+    domain = WMReadPropListFromFile(path);
 
     if (!domain)
         domain = WMCreatePLDictionary(NULL, NULL, NULL);
@@ -332,7 +327,7 @@
     i = 0;
     while (defaults->searchList[i]) {
         WMAddToPLArray(defaults->searchListArray,
-                             defaults->searchList[i]);
+                       defaults->searchList[i]);
         i++;
     }
 
@@ -409,7 +404,7 @@
     i = 0;
     while (defaults->searchList[i]) {
         WMAddToPLArray(defaults->searchListArray,
-                             defaults->searchList[i]);
+                       defaults->searchList[i]);
         i++;
     }
 
@@ -669,6 +664,7 @@
     for (i=0; i<c; i++) {
 	database->searchList[i] = WMGetFromPLArray(list, i);
     }
+    database->searchList[c] = NULL;
     
     database->searchListArray = WMDeepCopyPropList(list);
 }
diff -Naur WindowMaker-0.80.2/WINGs/wapplication.c wm-xft2/WINGs/wapplication.c
--- WindowMaker-0.80.2/WINGs/wapplication.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/wapplication.c	2003-10-22 14:08:34.000000000 +0400
@@ -34,19 +34,19 @@
     assert(argc!=NULL);
     assert(argv!=NULL);
     assert(applicationName!=NULL);
-   
 
+    /* // TODO: check if to move inside #ifdef I18N */
     setlocale(LC_ALL, "");
-    
+
 #ifdef I18N
     if (getenv("NLSPATH"))
 	bindtextdomain("WINGs", getenv("NLSPATH"));
     else
 	bindtextdomain("WINGs", LOCALEDIR);
 #endif
-    
+
     _WINGS_progname = argv[0];
-    
+
     WMApplication.applicationName = wstrdup(applicationName);
     WMApplication.argc = *argc;
 
@@ -55,7 +55,7 @@
 	WMApplication.argv[i] = wstrdup(argv[i]);
     }
     WMApplication.argv[i] = NULL;
-    
+
     /* initialize notification center */
     W_InitNotificationCenter();
 }
diff -Naur WindowMaker-0.80.2/WINGs/wappresource.c wm-xft2/WINGs/wappresource.c
--- WindowMaker-0.80.2/WINGs/wappresource.c	2002-03-29 14:14:17.000000000 +0300
+++ wm-xft2/WINGs/wappresource.c	2003-10-22 14:08:34.000000000 +0400
@@ -102,7 +102,7 @@
         gray.red = 0xae;
         gray.green = 0xaa;
         gray.blue = 0xae;
-        gray.alpha = 0;
+        gray.alpha = 0xff;
 
         if (!color)
             color = &gray;
diff -Naur WindowMaker-0.80.2/WINGs/wballoon.c wm-xft2/WINGs/wballoon.c
--- WindowMaker-0.80.2/WINGs/wballoon.c	2002-03-29 14:14:17.000000000 +0300
+++ wm-xft2/WINGs/wballoon.c	2003-10-22 14:08:34.000000000 +0400
@@ -275,40 +275,97 @@
 
 
 static void
-drawBalloon(Display *dpy, Pixmap pix, GC gc, int x, int y, int w, int h, 
-	    int side)
+drawBalloon(WMScreen *scr, Pixmap bitmap, Pixmap pix, int x, int y, int w,
+            int h, int side)
 {
+    Display *dpy = scr->display;
+    WMColor *white = WMWhiteColor(scr);
+    WMColor *black = WMBlackColor(scr);
+    GC bgc = scr->monoGC;
+    GC gc = WMColorGC(white);
     int rad = h*3/10;
-    XPoint pt[3];
-    
-    XFillArc(dpy, pix, gc, x, y, rad, rad, 90*64, 90*64);
-    XFillArc(dpy, pix, gc, x, y+h-1-rad, rad, rad, 180*64, 90*64);
-    
-    XFillArc(dpy, pix, gc, x+w-1-rad, y, rad, rad, 0*64, 90*64);
-    XFillArc(dpy, pix, gc, x+w-1-rad, y+h-1-rad, rad, rad, 270*64, 90*64);
-    
-    XFillRectangle(dpy, pix, gc, x, y+rad/2, w, h-rad);
-    XFillRectangle(dpy, pix, gc, x+rad/2, y, w-rad, h);
+    XPoint pt[3], ipt[3];
+    int w1;
+
+    /* outline */
+    XSetForeground(dpy, bgc, 1);
+
+    XFillArc(dpy, bitmap, bgc, x, y, rad, rad, 90*64, 90*64);
+    XFillArc(dpy, bitmap, bgc, x, y+h-1-rad, rad, rad, 180*64, 90*64);
+
+    XFillArc(dpy, bitmap, bgc, x+w-1-rad, y, rad, rad, 0*64, 90*64);
+    XFillArc(dpy, bitmap, bgc, x+w-1-rad, y+h-1-rad, rad, rad, 270*64, 90*64);
+
+    XFillRectangle(dpy, bitmap, bgc, x, y+rad/2, w, h-rad);
+    XFillRectangle(dpy, bitmap, bgc, x+rad/2, y, w-rad, h);
+
+    /* interior */
+    XFillArc(dpy, pix, gc, x+1, y+1, rad, rad, 90*64, 90*64);
+    XFillArc(dpy, pix, gc, x+1, y+h-2-rad, rad, rad, 180*64, 90*64);
+
+    XFillArc(dpy, pix, gc, x+w-2-rad, y+1, rad, rad, 0*64, 90*64);
+    XFillArc(dpy, pix, gc, x+w-2-rad, y+h-2-rad, rad, rad, 270*64, 90*64);
+
+    XFillRectangle(dpy, pix, gc, x+1, y+1+rad/2, w-2, h-2-rad);
+    XFillRectangle(dpy, pix, gc, x+1+rad/2, y+1, w-2-rad, h-2);
 
     if (side & BOTTOM) {
-	pt[0].y = y+h-1;
+        pt[0].y = y+h-1;
 	pt[1].y = y+h-1+SPACE;
-	pt[2].y = y+h-1;
+        pt[2].y = y+h-1;
+        ipt[0].y = pt[0].y-1;
+        ipt[1].y = pt[1].y-1;
+        ipt[2].y = pt[2].y-1;
     } else {
-	pt[0].y = y;
-	pt[1].y = y-SPACE;
+        pt[0].y = y;
+        pt[1].y = y-SPACE;
 	pt[2].y = y;
+        ipt[0].y = pt[0].y+1;
+        ipt[1].y = pt[1].y+1;
+        ipt[2].y = pt[2].y+1;
     }
+
+    /*w1 = WMAX(h, 24);*/
+    w1 = WMAX(h, 21);
+
+    if (side & RIGHT) {
+	pt[0].x = x+w-w1+2*w1/16;
+        pt[1].x = x+w-w1+11*w1/16;
+        pt[2].x = x+w-w1+7*w1/16;
+	ipt[0].x = x+1+w-w1+2*(w1-1)/16;
+        ipt[1].x = x+1+w-w1+11*(w1-1)/16;
+        ipt[2].x = x+1+w-w1+7*(w1-1)/16;
+        /*ipt[0].x = pt[0].x+1;
+        ipt[1].x = pt[1].x;
+        ipt[2].x = pt[2].x;*/
+    } else {
+        pt[0].x = x+w1-2*w1/16;
+        pt[1].x = x+w1-11*w1/16;
+        pt[2].x = x+w1-7*w1/16;
+        ipt[0].x = x-1+w1-2*(w1-1)/16;
+        ipt[1].x = x-1+w1-11*(w1-1)/16;
+        ipt[2].x = x-1+w1-7*(w1-1)/16;
+        /*ipt[0].x = pt[0].x-1;
+        ipt[1].x = pt[1].x;
+        ipt[2].x = pt[2].x;*/
+    }
+
+    XFillPolygon(dpy, bitmap, bgc, pt, 3, Convex, CoordModeOrigin);
+    XFillPolygon(dpy, pix, gc, ipt, 3, Convex, CoordModeOrigin);
+
+    /* fix outline */
+    XDrawLines(dpy, pix, WMColorGC(black), pt, 3, CoordModeOrigin);
     if (side & RIGHT) {
-	pt[0].x = x+w-h+2*h/16;
-	pt[1].x = x+w-h+11*h/16;
-	pt[2].x = x+w-h+7*h/16;
-    } else {
-	pt[0].x = x+h-2*h/16;
-	pt[1].x = x+h-11*h/16;
-	pt[2].x = x+h-7*h/16;
+        pt[0].x++;
+        pt[2].x--;
+    } else {
+        pt[0].x--;
+        pt[2].x++;
     }
-    XFillPolygon(dpy, pix, gc, pt, 3, Convex, CoordModeOrigin);
+    XDrawLines(dpy, pix, WMColorGC(black), pt, 3, CoordModeOrigin);
+
+    WMReleaseColor(white);
+    WMReleaseColor(black);
 }
 
 
@@ -320,7 +377,6 @@
     Pixmap pixmap;
     int x, y;
     WMColor *black = WMBlackColor(scr);
-    WMColor *white = WMWhiteColor(scr);
 
     bitmap = XCreatePixmap(dpy, scr->rootWin, width+SPACE, height+SPACE, 1);
 
@@ -328,10 +384,10 @@
     XFillRectangle(dpy, bitmap, scr->monoGC, 0, 0, width+SPACE, height+SPACE);
 
     pixmap = XCreatePixmap(dpy, scr->rootWin, width+SPACE, height+SPACE,
-			   scr->depth);
+                           scr->depth);
 
-    XFillRectangle(dpy, pixmap, WMColorGC(black), 0, 0, 
-		   width+SPACE, height+SPACE);
+    XFillRectangle(dpy, pixmap, WMColorGC(black), 0, 0, width+SPACE,
+                   height+SPACE);
 
     if (side & BOTTOM) {
 	y = 0;
@@ -340,22 +396,18 @@
     }
     x = 0;
 
-    XSetForeground(dpy, scr->monoGC, 1);
-    drawBalloon(dpy, bitmap, scr->monoGC, x, y, width, height, side);
-    drawBalloon(dpy, pixmap, WMColorGC(white), x+1, y+1, width-2, height-2,
-		side);
+    drawBalloon(scr, bitmap, pixmap, x, y, width, height, side);
 
     *mask = bitmap;
 
     WMReleaseColor(black);
-    WMReleaseColor(white);
 
     return pixmap;
 }
 
 
 static void
-showText(Balloon *bPtr, int x, int y, int h, int w, char *text)
+showText(Balloon *bPtr, int x, int y, int w, int h, char *text)
 {
     WMScreen *scr = bPtr->view->screen;
     Display *dpy = WMScreenDisplay(scr);
@@ -424,7 +476,7 @@
 
     W_PaintText(bPtr->view, pixmap, font, 8, ty + (height - textHeight)/2,
 		width, bPtr->flags.alignment,
-		WMColorGC(bPtr->textColor ? bPtr->textColor : scr->black),
+		bPtr->textColor ? bPtr->textColor : scr->black,
 		False, text, strlen(text));
 
     XSetWindowBackgroundPixmap(dpy, bPtr->view->window, pixmap);
diff -Naur WindowMaker-0.80.2/WINGs/wbrowser.c wm-xft2/WINGs/wbrowser.c
--- WindowMaker-0.80.2/WINGs/wbrowser.c	2002-03-29 14:14:17.000000000 +0300
+++ wm-xft2/WINGs/wbrowser.c	2003-10-22 14:08:34.000000000 +0400
@@ -280,13 +280,13 @@
 						   &titleLen, widthC);
 	    W_PaintText(bPtr->view, bPtr->view->window, scr->boldFont, x,
 			(bPtr->titleHeight-WMFontHeight(scr->boldFont))/2,
-			bPtr->columnSize.width, WACenter, WMColorGC(scr->white),
+			bPtr->columnSize.width, WACenter, scr->white,
 			False, titleBuf, titleLen);
 	    wfree (titleBuf);
 	} else {
 	    W_PaintText(bPtr->view, bPtr->view->window, scr->boldFont, x,
 			(bPtr->titleHeight-WMFontHeight(scr->boldFont))/2,
-			bPtr->columnSize.width, WACenter, WMColorGC(scr->white),
+			bPtr->columnSize.width, WACenter, scr->white,
 			False, bPtr->titles[column], titleLen);
 	}
     }
@@ -540,50 +540,45 @@
 
 
 static void
-paintItem(WMList *lPtr, int index, Drawable d, char *text, int state,
-	  WMRect *rect)
+paintItem(WMList *lPtr, int index, Drawable d, char *text, int state, WMRect *rect)
 {
     WMView *view = W_VIEW(lPtr);
     W_Screen *scr = view->screen;
-    int width, height, x, y;
+    Display *display = scr->display;
+    WMFont *font = ((state & WLDSIsBranch) ? scr->boldFont : scr->normalFont);
+    WMColor *backColor = ((state & WLDSSelected) ? scr->white : view->backColor);
+    int width, height, x, y, textLen;
 
     width = rect->size.width;
     height = rect->size.height;
     x = rect->pos.x;
     y = rect->pos.y;
+    textLen = strlen(text);
 
-    if (state & WLDSSelected)
-	XFillRectangle(scr->display, d, WMColorGC(scr->white), x, y,
-		       width, height);
-    else
-	XClearArea(scr->display, d, x, y, width, height, False);
+    XFillRectangle(display, d, WMColorGC(backColor), x, y, width, height);
 
     if (text) {
         /* Avoid overlaping... */
-        WMFont *font = (state & WLDSIsBranch) ? scr->boldFont : scr->normalFont;
-	int textLen = strlen(text);
 	int widthC = (state & WLDSIsBranch) ? width-20 : width-8;
 	if (WMWidthOfString(font, text, textLen) > widthC) {
 	    char *textBuf = createTruncatedString(font, text, &textLen, widthC);
             W_PaintText(view, d, font,  x+4, y, widthC,
-		    	WALeft, WMColorGC(scr->black), False, textBuf, textLen);
+		    	WALeft, scr->black, False, textBuf, textLen);
 	    wfree(textBuf);
 	} else {
       	    W_PaintText(view, d, font,  x+4, y, widthC,
-		    	WALeft, WMColorGC(scr->black), False, text, textLen);
+		    	WALeft, scr->black, False, text, textLen);
 	}
     }
 
     if (state & WLDSIsBranch) {
-	XDrawLine(scr->display, d, WMColorGC(scr->darkGray), x+width-11, y+3,
+        WMColor *lineColor = ((state & WLDSSelected) ? scr->gray : scr->white);
+
+	XDrawLine(display, d, WMColorGC(scr->darkGray), x+width-11, y+3,
 		  x+width-6, y+height/2);
-	if (state & WLDSSelected)
-	    XDrawLine(scr->display, d,WMColorGC(scr->gray), x+width-11, y+height-5,
-		      x+width-6, y+height/2);
-	else
-	    XDrawLine(scr->display, d,WMColorGC(scr->white), x+width-11, y+height-5,
-		      x+width-6, y+height/2);
-	XDrawLine(scr->display, d, WMColorGC(scr->black), x+width-12, y+3,
+        XDrawLine(display, d, WMColorGC(lineColor), x+width-11, y+height-5,
+                  x+width-6, y+height/2);
+	XDrawLine(display, d, WMColorGC(scr->black), x+width-12, y+3,
 		  x+width-12, y+height-5);
     }
 }
diff -Naur WindowMaker-0.80.2/WINGs/wbutton.c wm-xft2/WINGs/wbutton.c
--- WindowMaker-0.80.2/WINGs/wbutton.c	2002-03-29 14:14:17.000000000 +0300
+++ wm-xft2/WINGs/wbutton.c	2003-10-22 14:08:34.000000000 +0400
@@ -612,9 +612,9 @@
     char *caption;
     WMPixmap *image;
     WMColor *textColor;
-    GC gc;
+    WMColor *backColor;
 
-    gc = NULL;
+    backColor = NULL;
     caption = bPtr->caption;
 
     if (bPtr->flags.enabled) {
@@ -637,7 +637,7 @@
 
     if (bPtr->flags.selected) {
         if (bPtr->flags.stateLight) {
-            gc = WMColorGC(scrPtr->white);
+            backColor = scrPtr->white;
             textColor = scrPtr->black;
         }
 
@@ -662,7 +662,7 @@
 	    offset = 1;
 	}
         if (bPtr->flags.pushLight) {
-            gc = WMColorGC(scrPtr->white);
+            backColor = scrPtr->white;
             textColor = scrPtr->black;
         }
 
@@ -676,10 +676,10 @@
 	}
     }
 
-    W_PaintTextAndImage(bPtr->view, True, WMColorGC(textColor),
+    W_PaintTextAndImage(bPtr->view, True, textColor,
 			(bPtr->font!=NULL ? bPtr->font : scrPtr->normalFont),
 			relief, caption, bPtr->flags.alignment, image, 
-			bPtr->flags.imagePosition, gc, offset);
+			bPtr->flags.imagePosition, backColor, offset);
 }
 
 
diff -Naur WindowMaker-0.80.2/WINGs/wcolor.c wm-xft2/WINGs/wcolor.c
--- WindowMaker-0.80.2/WINGs/wcolor.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/wcolor.c	2003-10-22 14:08:34.000000000 +0400
@@ -16,8 +16,9 @@
    0x0a, 0x04, 0x0a, 0x01};
 
 
-static WMColor *createRGBColor(WMScreen *scr, unsigned short red,
-			       unsigned short green, unsigned short blue);
+static WMColor *createRGBAColor(WMScreen *scr, unsigned short red,
+                                unsigned short green, unsigned short blue,
+                                unsigned short alpha);
 
 /*
  * TODO: make the color creation code return the same WMColor for the
@@ -28,7 +29,7 @@
 
 static WMColor*
 findCloseColor(WMScreen *scr, unsigned short red, unsigned short green, 
-	       unsigned short blue)
+	       unsigned short blue, unsigned short alpha)
 {
     WMColor *color;
     XColor xcolor;
@@ -37,6 +38,7 @@
     rcolor.red = red>>8;
     rcolor.green = green>>8;
     rcolor.blue = blue>>8;
+    rcolor.alpha = alpha>>8;
 
     if (!RGetClosestXColor(scr->rcontext, &rcolor, &xcolor))
 	return NULL;
@@ -49,6 +51,7 @@
     color->screen = scr;
     color->refCount = 1;
     color->color = xcolor;
+    color->alpha = alpha;
     color->flags.exact = 1;
     color->gc = NULL;
 
@@ -58,8 +61,8 @@
 
 
 static WMColor*
-createRGBColor(WMScreen *scr, unsigned short red, unsigned short green, 
-	       unsigned short blue)
+createRGBAColor(WMScreen *scr, unsigned short red, unsigned short green,
+                unsigned short blue, unsigned short alpha)
 {
     WMColor *color;
     XColor xcolor;
@@ -76,6 +79,7 @@
     color->screen = scr;
     color->refCount = 1;
     color->color = xcolor;
+    color->alpha = alpha;
     color->flags.exact = 1;
     color->gc = NULL;
 
@@ -83,15 +87,30 @@
 }
 
 
-
 WMColor*
 WMCreateRGBColor(WMScreen *scr, unsigned short red, unsigned short green, 
 		 unsigned short blue, Bool exact)
 {
     WMColor *color = NULL;
+
+    if (!exact || !(color=createRGBAColor(scr, red, green, blue, 0xffff))) {
+	color = findCloseColor(scr, red, green, blue, 0xffff);
+    }
+    if (!color)
+	color = WMBlackColor(scr);
+
+    return color;
+}
+
+
+WMColor*
+WMCreateRGBAColor(WMScreen *scr, unsigned short red, unsigned short green,
+                  unsigned short blue, unsigned short alpha, Bool exact)
+{
+    WMColor *color = NULL;
     
-    if (!exact || !(color=createRGBColor(scr, red, green, blue))) {
-	color = findCloseColor(scr, red, green, blue);
+    if (!exact || !(color=createRGBAColor(scr, red, green, blue, alpha))) {
+	color = findCloseColor(scr, red, green, blue, alpha);
     }
     if (!color)
 	color = WMBlackColor(scr);
@@ -112,9 +131,9 @@
     if (scr->visual->class == TrueColor)
 	exact = True;
 
-    if (!exact || !(color=createRGBColor(scr, xcolor.red, xcolor.green, 
-					 xcolor.blue))) {
-	color = findCloseColor(scr, xcolor.red, xcolor.green, xcolor.blue);
+    if (!exact || !(color=createRGBAColor(scr, xcolor.red, xcolor.green,
+                                          xcolor.blue, 0xffff))) {
+	color = findCloseColor(scr, xcolor.red, xcolor.green, xcolor.blue, 0xffff);
     }
     return color;
 }
@@ -148,6 +167,13 @@
 
 
 void
+WMSetColorAlpha(WMColor *color, unsigned short alpha)
+{
+    color->alpha = alpha;
+}
+
+
+void
 WMPaintColorSwatch(WMColor *color, Drawable d, int x, int y,
 		    unsigned int width, unsigned int height)
 {
@@ -201,7 +227,6 @@
 }
 
 
-
 WMColor*
 WMBlackColor(WMScreen *scr)
 {
@@ -231,7 +256,7 @@
 					LIGHT_STIPPLE_BITS, LIGHT_STIPPLE_WIDTH,
 					LIGHT_STIPPLE_HEIGHT);
 
-	    color = createRGBColor(scr, 0xffff, 0xffff, 0xffff);
+	    color = createRGBAColor(scr, 0xffff, 0xffff, 0xffff, 0xffff);
 
 	    gcv.foreground = white->color.pixel;
 	    gcv.background = black->color.pixel;
@@ -261,7 +286,7 @@
 {
     if (!scr->darkGray) {
 	WMColor *color;
-	
+
 	if (scr->depth == 1) {
 	    Pixmap stipple;
 	    WMColor *white = WMWhiteColor(scr);
@@ -271,8 +296,8 @@
 	    stipple = XCreateBitmapFromData(scr->display, W_DRAWABLE(scr), 
 					  DARK_STIPPLE_BITS, DARK_STIPPLE_WIDTH,
 					  DARK_STIPPLE_HEIGHT);
-	
-	    color = createRGBColor(scr, 0, 0, 0);
+
+	    color = createRGBAColor(scr, 0, 0, 0, 0xffff);
 
 	    gcv.foreground = white->color.pixel;
 	    gcv.background = black->color.pixel;
@@ -317,6 +342,13 @@
 }
 
 
+unsigned short
+WMGetColorAlpha(WMColor *color)
+{
+    return color->alpha;
+}
+
+
 char*
 WMGetColorRGBDescription(WMColor *color)
 {
@@ -327,3 +359,5 @@
     
     return str;
 }
+
+
diff -Naur WindowMaker-0.80.2/WINGs/wcolorpanel.c wm-xft2/WINGs/wcolorpanel.c
--- WindowMaker-0.80.2/WINGs/wcolorpanel.c	2001-11-17 07:21:12.000000000 +0300
+++ wm-xft2/WINGs/wcolorpanel.c	2003-10-22 14:08:34.000000000 +0400
@@ -36,7 +36,8 @@
 #include <errno.h>
 
 /* BUG There's something fishy with shaped windows */
-#if 1
+/* Whithout shape extension the magnified image is completely broken -Dan */
+#if 0
     #ifdef SHAPE
     #define SHAPE_WAS_DEFINED
     #undef SHAPE
@@ -282,6 +283,10 @@
 #define M_PI 3.14159265358979323846
 #endif
 
+/* Silly hack for Windows systems with cygwin */
+#ifndef O_BINARY
+# define O_BINARY 0
+#endif
 
 static int fetchFile(char* toPath, char *imageSrcFile,
 	char *imageDestFileName);
@@ -302,9 +307,9 @@
 static void magnifyPutCursor(WMWidget *w, void *data);
 static Pixmap magnifyCreatePixmap(WMColorPanel *panel);
 static void magnifyGetImageStored(W_ColorPanel *panel, int x1, int y1, 
-	int x2, int y2);
+                                  int x2, int y2);
 static XImage* magnifyGetImage(WMScreen *scr, XImage *image, int x, int y,
-	int w, int h);
+                               int w, int h);
 
 static wheelMatrix* wheelCreateMatrix(unsigned int width , unsigned int height);
 static void wheelDestroyMatrix(wheelMatrix *matrix);
@@ -601,7 +606,7 @@
    
     if (pixmap)
     W_PaintText(W_VIEW(panel->grayBrightnessS), pixmap->pixmap, 
-		panel->font12, 2, 0, 100, WALeft, WMColorGC(scrPtr->white), 
+		panel->font12, 2, 0, 100, WALeft, scrPtr->white,
 		False, _("Brightness"), strlen(_("Brightness")));
     else
 	wwarning(_("Color Panel: Could not allocate memory"));
@@ -677,8 +682,8 @@
 
     if (pixmap)
 	W_PaintText(W_VIEW(panel->rgbRedS), pixmap->pixmap, panel->font12,
-		2, 0, 100, WALeft, WMColorGC(scrPtr->white), False, _("Red"),
-		strlen(_("Red")));
+                    2, 0, 100, WALeft, scrPtr->white, False, _("Red"),
+                    strlen(_("Red")));
     else
 	wwarning(_("Color Panel: Could not allocate memory"));
 
@@ -710,8 +715,8 @@
 
     if (pixmap)
 	W_PaintText(W_VIEW(panel->rgbGreenS), pixmap->pixmap, panel->font12,
-		2, 0, 100, WALeft, WMColorGC(scrPtr->white), False, _("Green"),
-		strlen(_("Green")));
+                    2, 0, 100, WALeft, scrPtr->white, False, _("Green"),
+                    strlen(_("Green")));
     else
 	wwarning(_("Color Panel: Could not allocate memory"));
     
@@ -744,8 +749,8 @@
 
     if (pixmap)
 	W_PaintText(W_VIEW(panel->rgbBlueS), pixmap->pixmap, panel->font12,
-		2, 0, 100, WALeft, WMColorGC(scrPtr->white), False, _("Blue"), 
-		strlen(_("Blue")));
+                    2, 0, 100, WALeft, scrPtr->white, False, _("Blue"),
+                    strlen(_("Blue")));
     else
 	wwarning(_("Color Panel: Could not allocate memory"));
     
@@ -804,8 +809,8 @@
 
     if (pixmap)
 	W_PaintText(W_VIEW(panel->cmykCyanS), pixmap->pixmap, panel->font12,
-		2, 0, 100, WALeft, WMColorGC(scrPtr->black), False, _("Cyan"), 
-		strlen(_("Cyan")));
+                    2, 0, 100, WALeft, scrPtr->black, False, _("Cyan"),
+                    strlen(_("Cyan")));
     else
 	wwarning(_("Color Panel: Could not allocate memory"));
     
@@ -838,8 +843,8 @@
 
     if (pixmap)
 	W_PaintText(W_VIEW(panel->cmykMagentaS), pixmap->pixmap, panel->font12,
-		2, 0, 100, WALeft, WMColorGC(scrPtr->black), False, _("Magenta"), 
-		strlen(_("Magenta")));
+                    2, 0, 100, WALeft, scrPtr->black, False, _("Magenta"),
+                    strlen(_("Magenta")));
     else
 	wwarning(_("Color Panel: Could not allocate memory"));
 
@@ -872,8 +877,8 @@
 
     if (pixmap)
 	W_PaintText(W_VIEW(panel->cmykYellowS), pixmap->pixmap, panel->font12,
-		2, 0, 100, WALeft, WMColorGC(scrPtr->black), False, _("Yellow"), 
-		strlen(_("Yellow")));
+                    2, 0, 100, WALeft, scrPtr->black, False, _("Yellow"),
+                    strlen(_("Yellow")));
     else
 	wwarning(_("Color Panel: Could not allocate memory"));
     
@@ -907,8 +912,8 @@
 
     if (pixmap)
 	W_PaintText(W_VIEW(panel->cmykBlackS), pixmap->pixmap, panel->font12,
-		2, 0, 100, WALeft, WMColorGC(scrPtr->black), False, _("Black"), 
-		strlen(_("Black")));
+                    2, 0, 100, WALeft, scrPtr->black, False, _("Black"),
+                    strlen(_("Black")));
     else
 	wwarning(_("Color Panel: Could not allocate memory"));
 
@@ -1282,7 +1287,7 @@
 	return;
     }
     else {
-	if ((rgbtxt = fopen(RGBTXT, "r"))) {
+	if ((rgbtxt = fopen(RGBTXT, "rb"))) {
 	    while (fgets(line, MAX_LENGTH, rgbtxt)) {
 		if (sscanf(line, "%d%d%d %[^\n]", &red, &green, &blue, name)) {
 		    color = wmalloc(sizeof(RColor));
@@ -1397,7 +1402,7 @@
     return WMGetColorWellColor(panel->colorWell);
 }
 
-	
+
 void
 WMSetColorPanelColor(WMColorPanel *panel, WMColor *color)
 {
@@ -1704,7 +1709,7 @@
     
     /* Copy the magnified pixmap, with the clip mask, to background pixmap */
     XCopyArea(scr->display, panel->magnifyGlass->magPix, pixmap,
-	    scr->clipGC, 0, 0, Cursor_mask_width, Cursor_mask_height, 0, 0);	
+	    scr->clipGC, 0, 0, Cursor_mask_width, Cursor_mask_height, 0, 0);
     /* (2,2) puts center pixel on center of glass */
     
     return pixmap;
@@ -2820,7 +2825,7 @@
 
     if (sliderPxmp)
     W_PaintText(W_VIEW(panel->hsbBrightnessS), sliderPxmp->pixmap, 
-		panel->font12, 2, 0, 100, WALeft, WMColorGC(scr->white),
+		panel->font12, 2, 0, 100, WALeft, scr->white,
 		False, _("Brightness"), strlen(_("Brightness")));
     else
 	wwarning(_("Color Panel: Could not allocate memory"));
@@ -2855,8 +2860,8 @@
 
     if (sliderPxmp)
 	W_PaintText(W_VIEW(panel->hsbSaturationS), sliderPxmp->pixmap, 
-	    panel->font12, 2, 0, 100, WALeft, 
-	    WMColorGC(from.hsv.value < 128 ? scr->white : scr->black), False, 
+                    panel->font12, 2, 0, 100, WALeft,
+                    from.hsv.value < 128 ? scr->white : scr->black, False,
 		    _("Saturation"), strlen(_("Saturation")));
     else
 	wwarning(_("Color Panel: Could not allocate memory"));
@@ -2891,8 +2896,8 @@
 
     if (sliderPxmp)
 	W_PaintText(W_VIEW(panel->hsbHueS), sliderPxmp->pixmap, 
-	    panel->font12, 2, 0, 100, WALeft, 
-	    WMColorGC(hsvcolor.value < 128 ? scr->white : scr->black), False, 
+                    panel->font12, 2, 0, 100, WALeft,
+                    hsvcolor.value < 128 ? scr->white : scr->black, False,
 		    _("Hue"), strlen(_("Hue")));
     else
 	wwarning(_("Color Panel: Could not allocate memory"));
@@ -3418,14 +3423,13 @@
 colorListPaintItem(WMList *lPtr, int index, Drawable d, char *text, 
 		   int state, WMRect *rect)
 {
-    int			width, height, x, y;
-    RColor		color = *((RColor *)WMGetListItem(lPtr, index)->clientData);
-    WMScreen		*scr = WMWidgetScreen(lPtr);
-    Display		*dpy = WMScreenDisplay(scr);
-    W_ColorPanel	*panel = WMGetHangedData(lPtr);
-    WMColor		*white = WMWhiteColor(scr);
-    WMColor		*black = WMBlackColor(scr);
-    WMColor		*fillColor;
+    WMScreen *scr = WMWidgetScreen(lPtr);
+    Display *dpy = WMScreenDisplay(scr);
+    WMView *view = W_VIEW(lPtr);
+    RColor color = *((RColor *)WMGetListItem(lPtr, index)->clientData);
+    W_ColorPanel *panel = WMGetHangedData(lPtr);
+    int	width, height, x, y;
+    WMColor *fillColor;
     
     width = rect->size.width;
     height = rect->size.height;
@@ -3433,22 +3437,17 @@
     y = rect->pos.y;
     
     if (state & WLDSSelected)
-	WMPaintColorSwatch(white, d, x +15, y, width -15, height);
+        XFillRectangle(dpy, d, WMColorGC(scr->white), x, y, width, height);
     else
-	XClearArea(dpy, d, x +15, y, width -15, height, False);
+        XFillRectangle(dpy, d, WMColorGC(view->backColor), x, y, width, height);
     
-    fillColor = WMCreateRGBColor(scr, color.red*256, color.green*256, 
-				 color.blue*256, False);
+    fillColor = WMCreateRGBColor(scr, color.red<<8, color.green<<8,
+                                 color.blue<<8, True);
     
-    WMSetColorInGC(fillColor, WMColorGC(fillColor));
-    WMPaintColorSwatch(fillColor, d, x, y, 15, 15);
+    XFillRectangle(dpy, d, WMColorGC(fillColor), x, y, 15, height);
     WMReleaseColor(fillColor);
     
-    WMDrawString(scr, d, WMColorGC(black), panel->font12, x+18, y, text, 
-		 strlen(text));
-    
-    WMReleaseColor(white);
-    WMReleaseColor(black);
+    WMDrawString(scr, d, scr->black, panel->font12, x+18, y, text, strlen(text));
 }
 
 
@@ -3644,13 +3643,13 @@
     char	*tmp;
     char	buf[BUFSIZE];
     
-    if ((src = open(srcFile, O_RDONLY)) == 0) {
+    if ((src = open(srcFile, O_RDONLY|O_BINARY)) == 0) {
 	wsyserror(_("Could not open %s"), srcFile);
 	return -1;
     }
     
     tmp = wstrconcat(toPath, destFile);
-    if ((dest = open( tmp, O_RDWR|O_CREAT, S_IRUSR|S_IWUSR|S_IRGRP|S_IROTH)) 
+    if ((dest = open( tmp, O_RDWR|O_CREAT|O_BINARY, S_IRUSR|S_IWUSR|S_IRGRP|S_IROTH)) 
 	== 0) {
 	wsyserror(_("Could not create %s"), tmp);
 	wfree(tmp);
diff -Naur WindowMaker-0.80.2/WINGs/wcolorwell.c wm-xft2/WINGs/wcolorwell.c
--- WindowMaker-0.80.2/WINGs/wcolorwell.c	2002-03-29 14:14:17.000000000 +0300
+++ wm-xft2/WINGs/wcolorwell.c	2003-10-22 14:08:34.000000000 +0400
@@ -159,7 +159,7 @@
     cPtr->view->self = cPtr;
 
     cPtr->view->delegate = &_ColorWellViewDelegate;
-    
+
     cPtr->colorView = W_CreateView(cPtr->view);
     if (!cPtr->colorView) {
 	W_DestroyView(cPtr->view);
@@ -167,10 +167,10 @@
 	return NULL;
     }
     cPtr->colorView->self = cPtr;
-	
+
     WMCreateEventHandler(cPtr->view, ExposureMask|StructureNotifyMask
 			 |ClientMessageMask, handleEvents, cPtr);
-    
+
     WMCreateEventHandler(cPtr->colorView, ExposureMask, handleEvents, cPtr);
 
     WMCreateEventHandler(cPtr->colorView, ButtonPressMask|ButtonMotionMask
@@ -192,16 +192,16 @@
 
     WMAddNotificationObserver(colorChangedObserver, cPtr,
 			      WMColorPanelColorChangedNotification, NULL);
-    
-    WMSetViewDragSourceProcs(cPtr->view, &_DragSourceProcs);
-    WMSetViewDragDestinationProcs(cPtr->view, &_DragDestinationProcs);
+
+    WMSetViewDragSourceProcs(cPtr->colorView, &_DragSourceProcs);
+    WMSetViewDragDestinationProcs(cPtr->colorView, &_DragDestinationProcs);
 
     {
 	char *types[2] = {"application/X-color", NULL};
-	
-	WMRegisterViewForDraggedTypes(cPtr->view, types);
+
+	WMRegisterViewForDraggedTypes(cPtr->colorView, types);
     }
-    
+
     return cPtr;
 }
 
@@ -370,12 +370,11 @@
 		offs.height = 2;
 		pixmap = makeDragPixmap(cPtr);
 
-		WMDragImageFromView(cPtr->view, pixmap, types,
+		WMDragImageFromView(cPtr->colorView, pixmap, types,
 				    wmkpoint(event->xmotion.x_root,
 					     event->xmotion.y_root),
 				    offs, event, True);
-				   
-		
+
 		WMReleasePixmap(pixmap);
 	    }
 	}
@@ -419,7 +418,7 @@
 
     if (cPtr->color)
 	WMReleaseColor(cPtr->color);
-   
+
     wfree(cPtr);
 }
 
diff -Naur WindowMaker-0.80.2/WINGs/wevent.c wm-xft2/WINGs/wevent.c
--- WindowMaker-0.80.2/WINGs/wevent.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/wevent.c	2003-10-22 14:08:34.000000000 +0400
@@ -62,36 +62,31 @@
  * WMCreateEventHandler--
  * 	Create an event handler and put it in the event handler list for the
  * view. If the same callback and clientdata are already used in another
- * handler, the masks are swapped.
+ * handler, the masks are OR'ed.
  * 
  */
 void
 WMCreateEventHandler(WMView *view, unsigned long mask, WMEventProc *eventProc,
 		     void *clientData)
 {
-    W_EventHandler *handler, *ptr;
-    unsigned long eventMask;
+    W_EventHandler *hPtr;
     WMArrayIterator iter;
 
-
-    handler = NULL;
-    eventMask = mask;
-
-    WM_ITERATE_ARRAY(view->eventHandlers, ptr, iter) {
-	if (ptr->clientData == clientData && ptr->proc == eventProc) {
-	    handler = ptr;
-	    eventMask |= ptr->eventMask;
+    WM_ITERATE_ARRAY(view->eventHandlers, hPtr, iter) {
+	if (hPtr->clientData==clientData && hPtr->proc==eventProc) {
+            hPtr->eventMask |= mask;
+            return;
 	}
     }
-    if (!handler) {
-	handler = wmalloc(sizeof(W_EventHandler));
 
-	WMAddToArray(view->eventHandlers, handler);
-    }
+    hPtr = wmalloc(sizeof(W_EventHandler));
+
     /* select events for window */
-    handler->eventMask = eventMask;
-    handler->proc = eventProc;
-    handler->clientData = clientData;
+    hPtr->eventMask = mask;
+    hPtr->proc = eventProc;
+    hPtr->clientData = clientData;
+
+    WMAddToArray(view->eventHandlers, hPtr);
 }
 
 
diff -Naur WindowMaker-0.80.2/WINGs/wfilepanel.c wm-xft2/WINGs/wfilepanel.c
--- WindowMaker-0.80.2/WINGs/wfilepanel.c	2002-03-29 14:14:17.000000000 +0300
+++ wm-xft2/WINGs/wfilepanel.c	2003-10-22 14:08:34.000000000 +0400
@@ -548,12 +548,15 @@
     DIR *dir;
     struct stat stat_buf;
     char pbuf[PATH_MAX+16];
+    char *name;
 
     assert(column >= 0);
     assert(path != NULL);
 
     /* put directory name in the title */
-    WMSetBrowserColumnTitle(bPtr, column, get_name_from_path(path));
+    name = get_name_from_path(path);
+    WMSetBrowserColumnTitle(bPtr, column, name);
+    wfree(name);
     
     dir = opendir(path);
     
diff -Naur WindowMaker-0.80.2/WINGs/wfont.c wm-xft2/WINGs/wfont.c
--- WindowMaker-0.80.2/WINGs/wfont.c	2002-03-29 14:14:17.000000000 +0300
+++ wm-xft2/WINGs/wfont.c	2003-10-22 14:29:40.000000000 +0400
@@ -1,19 +1,27 @@
 
-#include "WINGsP.h"
 #include "wconfig.h"
 
+#ifdef XFT
+# include <X11/Xft/Xft.h>
+#endif
+
+#include "WINGsP.h"
+
 
 #include <wraster.h>
 #include <assert.h>
 #include <X11/Xlocale.h>
 
+#include <wchar.h>
+
+
 static char *makeFontSetOfSize(char *fontset, int size);
 
 
 
 /* XLFD pattern matching */
 static char*
-xlfd_get_element (const char *xlfd, int index)
+getElementFromXLFD(const char *xlfd, int index)
 {
     const char *p = xlfd;
     while (*p != 0) {
@@ -33,15 +41,16 @@
     return strdup("*");
 }
 
+
 /* XLFD pattern matching */
 static char*
-generalize_xlfd (const char *xlfd)
+generalizeXLFD(const char *xlfd)
 {
     char *buf;
     int len;
-    char *weight = xlfd_get_element(xlfd, 3);
-    char *slant  = xlfd_get_element(xlfd, 4);
-    char *pxlsz  = xlfd_get_element(xlfd, 7);
+    char *weight = getElementFromXLFD(xlfd, 3);
+    char *slant  = getElementFromXLFD(xlfd, 4);
+    char *pxlsz  = getElementFromXLFD(xlfd, 7);
 
 #define Xstrlen(A) ((A)?strlen(A):0)
     len = Xstrlen(xlfd)+Xstrlen(weight)+Xstrlen(slant)+Xstrlen(pxlsz)*2+60;
@@ -85,7 +94,7 @@
 	    xlfd = fontnames[0];
     }
 
-    xlfd = generalize_xlfd (xlfd);
+    xlfd = generalizeXLFD(xlfd);
 
     if (*nmissing != 0) XFreeStringList(*missing);
     if (fs != NULL) XFreeFontSet(dpy, fs);
@@ -96,6 +105,52 @@
     return fs;
 }
 
+
+static char*
+xlfdFromFontName(char *fontName, Bool antialiased)
+{
+    char *systemFont, *boldSystemFont;
+    char *font;
+    int size;
+
+    if (antialiased) {
+        systemFont = WINGsConfiguration.antialiasedSystemFont;
+        boldSystemFont = WINGsConfiguration.antialiasedBoldSystemFont;
+    } else {
+        systemFont = WINGsConfiguration.systemFont;
+        boldSystemFont = WINGsConfiguration.boldSystemFont;
+    }
+
+    size = WINGsConfiguration.defaultFontSize;
+
+    if (strcmp(fontName, "SystemFont")==0) {
+        font = systemFont;
+        size = WINGsConfiguration.defaultFontSize;
+    } else if (strncmp(fontName, "SystemFont-", 11)==0) {
+        font = systemFont;
+        if (sscanf(&fontName[11], "%i", &size)!=1) {
+            size = WINGsConfiguration.defaultFontSize;
+            wwarning(_("Invalid size specification '%s' in %s. "
+                       "Using default %d\n"), &fontName[11], fontName, size);
+        }
+    } else if (strcmp(fontName, "BoldSystemFont")==0) {
+        font = boldSystemFont;
+        size = WINGsConfiguration.defaultFontSize;
+    } else if (strncmp(fontName, "BoldSystemFont-", 15)==0) {
+        font = boldSystemFont;
+        if (sscanf(&fontName[15], "%i", &size)!=1) {
+            size = WINGsConfiguration.defaultFontSize;
+            wwarning(_("Invalid size specification '%s' in %s. "
+                       "Using default %d\n"), &fontName[15], fontName, size);
+        }
+    } else {
+        font = NULL;
+    }
+
+    return (font!=NULL ? makeFontSetOfSize(font, size) : wstrdup(fontName));
+}
+
+
 WMFont*
 WMCreateFontSet(WMScreen *scrPtr, char *fontName)
 {
@@ -104,30 +159,32 @@
     char **missing;
     int nmissing = 0;
     char *defaultString;
+    char *fname;
     XFontSetExtents *extents;
 
-    font = WMHashGet(scrPtr->fontSetCache, fontName);
+    fname = xlfdFromFontName(fontName, False);
+
+    font = WMHashGet(scrPtr->fontSetCache, fname);
     if (font) {
-	WMRetainFont(font);
+        WMRetainFont(font);
+        wfree(fname);
 	return font;
     }
 
-    font = malloc(sizeof(WMFont));
-    if (!font)
-        return NULL;
+    font = wmalloc(sizeof(WMFont));
     memset(font, 0, sizeof(WMFont));
 
     font->notFontSet = 0;
+    font->antialiased = 0;
 
     font->screen = scrPtr;
 
-    font->font.set = W_CreateFontSetWithGuess(display, fontName, &missing,
-					     &nmissing, &defaultString);
+    font->font.set = W_CreateFontSetWithGuess(display, fname, &missing,
+                                              &nmissing, &defaultString);
     if (nmissing > 0 && font->font.set) {
 	int i;
-	
-	wwarning(_("the following character sets are missing in %s:"),
-		 fontName);
+
+	wwarning(_("the following character sets are missing in %s:"), fname);
 	for (i = 0; i < nmissing; i++) {
 	    wwarning(missing[i]);
 	}
@@ -137,18 +194,19 @@
 		     defaultString);
     }
     if (!font->font.set) {
-	wfree(font);
+        wfree(font);
+        wfree(fname);
 	return NULL;
     }
-    
+
     extents = XExtentsOfFontSet(font->font.set);
-    
+
     font->height = extents->max_logical_extent.height;
     font->y = font->height - (font->height + extents->max_logical_extent.y);
 
     font->refCount = 1;
 
-    font->name = wstrdup(fontName);
+    font->name = fname;
 
     assert(WMHashInsert(scrPtr->fontSetCache, font->name, font)==NULL);
 
@@ -164,6 +222,8 @@
     Display *display = scrPtr->display;
     char *fname, *ptr;
 
+    fontName = xlfdFromFontName(fontName, False);
+
     if ((ptr = strchr(fontName, ','))) {
 	fname = wmalloc(ptr - fontName + 1);
 	strncpy(fname, fontName, ptr - fontName);
@@ -172,6 +232,8 @@
 	fname = wstrdup(fontName);
     }
 
+    wfree(fontName);
+
     font = WMHashGet(scrPtr->fontCache, fname);
     if (font) {
 	WMRetainFont(font);
@@ -179,24 +241,20 @@
 	return font;
     }
 
-    font = malloc(sizeof(WMFont));
-    if (!font) {
-	wfree(fname);
-	return NULL;
-    }
+    font = wmalloc(sizeof(WMFont));
     memset(font, 0, sizeof(WMFont));
-    
+
     font->notFontSet = 1;
-    
+    font->antialiased = 0;
+
     font->screen = scrPtr;
-    
+
     font->font.normal = XLoadQueryFont(display, fname);
     if (!font->font.normal) {
-	wfree(font);
+        wfree(font);
         wfree(fname);
         return NULL;
     }
-
     font->height = font->font.normal->ascent+font->font.normal->descent;
     font->y = font->font.normal->ascent;
 
@@ -210,17 +268,211 @@
 }
 
 
+WMFont*
+WMCreateAntialiasedFont(WMScreen *scrPtr, char *fontName)
+{
+#ifdef XFT
+    WMFont *font;
+    Display *display = scrPtr->display;
+    char *fname, *ptr;
+
+    if (!scrPtr->hasXftSupport)
+        return NULL;
+
+    fontName = xlfdFromFontName(fontName, True);
+
+    if ((ptr = strchr(fontName, ','))) {
+	fname = wmalloc(ptr - fontName + 1);
+	strncpy(fname, fontName, ptr - fontName);
+	fname[ptr - fontName] = 0;
+    } else {
+	fname = wstrdup(fontName);
+    }
+
+    wfree(fontName);
+
+    font = WMHashGet(scrPtr->xftFontCache, fname);
+    if (font) {
+	WMRetainFont(font);
+	wfree(fname);
+	return font;
+    }
+
+    font = wmalloc(sizeof(WMFont));
+    memset(font, 0, sizeof(WMFont));
+
+    font->notFontSet = 1;
+    font->antialiased = 1;
+
+    font->screen = scrPtr;
+
+    /* Xft sux. Loading a font with an invalid XLFD will give strange results
+     * sometimes without returning any warning or error.
+     * However Xft's idea of what font is invalid is quite strange:
+     * 1. If the XLFD doesn't have all its fields present will fail and
+     *    return NULL.
+     * 2. If all fields are present, but hold invalid values then it will:
+     *    a. If family is invalid, will load a default font without warning.
+     *    b. If the font size is invalid (non-numerical) it will fail and
+     *       return NULL.
+     *    c. If other fields are invalid, will load the font specified by
+     *       the valid family name, ignoring any invalid fields. It will
+     *       use a default medium weight and a default roman slant if they
+     *       are invalid.
+     */
+    printf("%s\n", fname);
+    if (fname[0] == '-') {
+        font->font.xft = XftFontOpenXlfd(display, scrPtr->screen, fname);
+    } else {
+        font->font.xft = XftFontOpenName(display, scrPtr->screen, fname);
+    }
+    if (!font->font.xft) {
+        wfree(font);
+        wfree(fname);
+        return NULL;
+    }
+    font->height = font->font.xft->ascent+font->font.xft->descent;
+    font->y = font->font.xft->ascent;
+
+    font->refCount = 1;
+
+    font->name = fname;
+
+    assert(WMHashInsert(scrPtr->xftFontCache, font->name, font)==NULL);
+
+    return font;
+#else
+    return NULL;
+#endif
+}
+
+
+WMFont*
+WMCreateAntialiasedFontSet(WMScreen *scrPtr, char *fontName)
+{
+#ifdef XFT
+    WMFont *font;
+    Display *display = scrPtr->display;
+    char *fname, *ptr;
+
+    if (!scrPtr->hasXftSupport)
+        return NULL;
+
+    fontName = xlfdFromFontName(fontName, True);
+
+    if ((ptr = strchr(fontName, ','))) {
+        fname = wmalloc(ptr - fontName + 1);
+	strncpy(fname, fontName, ptr - fontName);
+	fname[ptr - fontName] = 0;
+    } else {
+	fname = wstrdup(fontName);
+    }
+
+    wfree(fontName);
+
+    font = WMHashGet(scrPtr->xftFontSetCache, fname);
+    if (font) {
+	WMRetainFont(font);
+	wfree(fname);
+	return font;
+    }
+
+    font = wmalloc(sizeof(WMFont));
+    memset(font, 0, sizeof(WMFont));
+
+    font->notFontSet = 0;
+    font->antialiased = 1;
+
+    font->screen = scrPtr;
+
+    /* Xft sux. Loading a font with an invalid XLFD will give strange results
+     * sometimes without returning any warning or error.
+     * However Xft's idea of what font is invalid is quite strange:
+     * 1. If the XLFD doesn't have all its fields present will fail and
+     *    return NULL.
+     * 2. If all fields are present, but hold invalid values then it will:
+     *    a. If family is invalid, will load a default font without warning.
+     *    b. If the font size is invalid (non-numerical) it will fail and
+     *       return NULL.
+     *    c. If other fields are invalid, will load the font specified by
+     *       the valid family name, ignoring any invalid fields. It will
+     *       use a default medium weight and a default roman slant if they
+     *       are invalid.
+     */
+    if (fname[0] == '-') {
+        font->font.xft = XftFontOpenXlfd(display, scrPtr->screen, fname);
+    } else {
+        font->font.xft = XftFontOpenName(display, scrPtr->screen, fname);
+    }
+    if (!font->font.xft) {
+        wfree(font);
+        wfree(fname);
+        return NULL;
+    }
+    font->height = font->font.xft->ascent+font->font.xft->descent;
+    font->y = font->font.xft->ascent;
+
+    font->refCount = 1;
+
+    font->name = fname;
+
+    assert(WMHashInsert(scrPtr->xftFontSetCache, font->name, font)==NULL);
+
+    return font;
+#else
+    return NULL;
+#endif
+}
+
 
 WMFont*
 WMCreateFont(WMScreen *scrPtr, char *fontName)
 {
-    if (scrPtr->useMultiByte)
-	return WMCreateFontSet(scrPtr, fontName);
-    else
-	return WMCreateNormalFont(scrPtr, fontName);
+    return WMCreateFontWithFlags(scrPtr, fontName, WFDefaultFont);
 }
 
 
+WMFont*
+WMCreateFontWithFlags(WMScreen *scrPtr, char *fontName, WMFontFlags flags)
+{
+    Bool multiByte = scrPtr->useMultiByte;
+    Bool antialiased = scrPtr->antialiasedText;
+    WMFont *font;
+
+    if (flags & WFFontSet) {
+        multiByte = True;
+    } else if (flags & WFNormalFont) {
+        multiByte = False;
+    }
+    if (flags & WFAntialiased) {
+        antialiased = True;
+    } else if (flags & WFNotAntialiased) {
+        antialiased = False;
+    }
+
+    if (antialiased && multiByte) {
+        font = WMCreateAntialiasedFontSet(scrPtr, fontName);
+        /* If we cannot create an antialiased font set and antialiasing is
+         * not explicitly requested in flags, fallback to standard font sets */
+        if (!font && (flags & WFAntialiased)==0) {
+            font = WMCreateFontSet(scrPtr, fontName);
+        }
+    } else if (antialiased) {
+        font = WMCreateAntialiasedFont(scrPtr, fontName);
+        /* If we cannot create an antialiased font and antialiasing is
+         * not explicitly requested in flags, fallback to normal font */
+        if (!font && (flags & WFAntialiased)==0) {
+            font = WMCreateNormalFont(scrPtr, fontName);
+        }
+    } else if (multiByte) {
+	font = WMCreateFontSet(scrPtr, fontName);
+    } else {
+        font = WMCreateNormalFont(scrPtr, fontName);
+    }
+
+    return font;
+}
+
 
 WMFont*
 WMRetainFont(WMFont *font)
@@ -233,20 +485,31 @@
 }
 
 
-void 
+void
 WMReleaseFont(WMFont *font)
 {
     wassertr(font!=NULL);
 
     font->refCount--;
     if (font->refCount < 1) {
-	if (font->notFontSet)
-	    XFreeFont(font->screen->display, font->font.normal);
-	else {
-	    XFreeFontSet(font->screen->display, font->font.set);
-	}
-	if (font->name) {
-            if (font->notFontSet) {
+        if (font->antialiased) {
+#ifdef XFT
+            XftFontClose(font->screen->display, font->font.xft);
+#else
+            assert(False);
+#endif
+        } else if (font->notFontSet) {
+            XFreeFont(font->screen->display, font->font.normal);
+        } else {
+            XFreeFontSet(font->screen->display, font->font.set);
+        }
+
+        if (font->name) {
+            if (font->antialiased && !font->notFontSet) {
+                WMHashRemove(font->screen->xftFontSetCache, font->name);
+            } else if (font->antialiased) {
+                WMHashRemove(font->screen->xftFontCache, font->name);
+            } else if (font->notFontSet) {
                 WMHashRemove(font->screen->fontCache, font->name);
             } else {
                 WMHashRemove(font->screen->fontSetCache, font->name);
@@ -258,6 +521,28 @@
 }
 
 
+Bool
+WMHasAntialiasingSupport(WMScreen *scrPtr)
+{
+    return scrPtr->hasXftSupport;
+}
+
+
+Bool
+WMIsAntialiasingEnabled(WMScreen *scrPtr)
+{
+    return scrPtr->antialiasedText;
+}
+
+
+Bool
+WMIsAntialiasedFont(WMFont *font)
+{
+    wassertrv(font!=NULL, False);
+
+    return font->antialiased;
+}
+
 
 unsigned int
 WMFontHeight(WMFont *font)
@@ -268,6 +553,15 @@
 }
 
 
+char*
+WMGetFontName(WMFont *font)
+{
+    wassertrv(font!=NULL, NULL);
+
+    return font->name;
+}
+
+
 WMFont*
 WMDefaultSystemFont(WMScreen *scrPtr)
 {
@@ -282,75 +576,99 @@
 }
 
 
-WMFont*
-WMSystemFontOfSize(WMScreen *scrPtr, int size)
+static WMFont*
+makeSystemFontOfSize(WMScreen *scrPtr, int size, Bool bold)
 {
     WMFont *font;
-    char *fontSpec;
+    char *fontSpec, *xftFontSpec;
 
-    fontSpec = makeFontSetOfSize(WINGsConfiguration.systemFont, size);
+#define WConf WINGsConfiguration
+    if (bold) {
+        fontSpec = makeFontSetOfSize(WConf.boldSystemFont, size);
+        xftFontSpec = makeFontSetOfSize(WConf.antialiasedBoldSystemFont, size);
+    } else {
+        fontSpec = makeFontSetOfSize(WConf.systemFont, size);
+        xftFontSpec = makeFontSetOfSize(WConf.antialiasedSystemFont, size);
+    }
+#undef WConf
 
-    if (scrPtr->useMultiByte)
-	font = WMCreateFontSet(scrPtr, fontSpec);
-    else
-	font = WMCreateNormalFont(scrPtr, fontSpec);
+    if (scrPtr->antialiasedText && scrPtr->useMultiByte) {
+        font = WMCreateAntialiasedFontSet(scrPtr, xftFontSpec);
+    } else if (scrPtr->antialiasedText) {
+        font = WMCreateAntialiasedFont(scrPtr, xftFontSpec);
+    } else if (scrPtr->useMultiByte) {
+        font = WMCreateFontSet(scrPtr, fontSpec);
+    } else {
+        font = WMCreateNormalFont(scrPtr, fontSpec);
+    }
 
     if (!font) {
-	if (scrPtr->useMultiByte) {
-	    wwarning(_("could not load font set %s. Trying fixed."), fontSpec);
-	    font = WMCreateFontSet(scrPtr, "fixed");
-	    if (!font) {
-		font = WMCreateFontSet(scrPtr, "-*-fixed-medium-r-normal-*-14-*-*-*-*-*-*-*");
-	    }
-	} else {
-	    wwarning(_("could not load font %s. Trying fixed."), fontSpec);
-	    font = WMCreateNormalFont(scrPtr, "fixed");
-	}
-	if (!font) {
-	    wwarning(_("could not load fixed font!"));
-	    wfree(fontSpec);
-	    return NULL;
-	}
+        if (scrPtr->antialiasedText && scrPtr->useMultiByte) {
+            // is arial a good fallback for multibyte?
+            wwarning(_("could not load font %s. Trying arial."), xftFontSpec);
+            if (bold) {
+                font = WMCreateAntialiasedFontSet(scrPtr, "-*-arial-bold-r-normal-*-12-*-*-*-*-*-*-*");
+            } else {
+                font = WMCreateAntialiasedFontSet(scrPtr, "-*-arial-medium-r-normal-*-12-*-*-*-*-*-*-*");
+            }
+            if (!font) {
+                wwarning(_("could not load antialiased font set. Reverting to standard font sets."));
+                font = WMCreateFontSet(scrPtr, fontSpec);
+                if (!font) {
+                    wwarning(_("could not load FontSet %s. Trying fixed."), fontSpec);
+                    font = WMCreateFontSet(scrPtr, "fixed");
+                }
+            }
+        } else if (scrPtr->antialiasedText) {
+            wwarning(_("could not load font %s. Trying arial."), xftFontSpec);
+            if (bold) {
+                font = WMCreateAntialiasedFont(scrPtr, "-*-arial-bold-r-normal-*-12-*-*-*-*-*-*-*");
+            } else {
+                font = WMCreateAntialiasedFont(scrPtr, "-*-arial-medium-r-normal-*-12-*-*-*-*-*-*-*");
+            }
+            if (!font) {
+                wwarning(_("could not load antialiased fonts. Reverting to normal fonts."));
+                font = WMCreateNormalFont(scrPtr, fontSpec);
+                if (!font) {
+                    wwarning(_("could not load font %s. Trying fixed."), fontSpec);
+                    font = WMCreateNormalFont(scrPtr, "fixed");
+                }
+            }
+        } else if (scrPtr->useMultiByte) {
+            wwarning(_("could not load font set %s. Trying fixed."), fontSpec);
+            font = WMCreateFontSet(scrPtr, "fixed");
+            if (!font) {
+                font = WMCreateFontSet(scrPtr, "-*-fixed-medium-r-normal-*-14-*-*-*-*-*-*-*");
+            }
+        } else {
+            wwarning(_("could not load font %s. Trying fixed."), fontSpec);
+            font = WMCreateNormalFont(scrPtr, "fixed");
+        }
+        if (!font) {
+            wwarning(_("could not load fixed font!"));
+            wfree(fontSpec);
+            wfree(xftFontSpec);
+            return NULL;
+        }
     }
     wfree(fontSpec);
+    wfree(xftFontSpec);
 
     return font;
 }
 
 
 WMFont*
-WMBoldSystemFontOfSize(WMScreen *scrPtr, int size)
+WMSystemFontOfSize(WMScreen *scrPtr, int size)
 {
-    WMFont *font;
-    char *fontSpec;
-
-    fontSpec = makeFontSetOfSize(WINGsConfiguration.boldSystemFont, size);
+    return makeSystemFontOfSize(scrPtr, size, False);
+}
 
-    if (scrPtr->useMultiByte)
-	font = WMCreateFontSet(scrPtr, fontSpec);
-    else
-	font = WMCreateNormalFont(scrPtr, fontSpec);
 
-    if (!font) {
-	if (scrPtr->useMultiByte) {
-	    wwarning(_("could not load font set %s. Trying fixed."), fontSpec);
-	    font = WMCreateFontSet(scrPtr, "fixed");
-	    if (!font) {
-		font = WMCreateFontSet(scrPtr, "-*-fixed-medium-r-normal-*-14-*-*-*-*-*-*-*");
-	    }
-	} else {
-	    wwarning(_("could not load font %s. Trying fixed."), fontSpec);
-	    font = WMCreateNormalFont(scrPtr, "fixed");
-	}
-	if (!font) {
-	    wwarning(_("could not load fixed font!"));
-	    wfree(fontSpec);
-	    return NULL;
-	}
-    }
-    wfree(fontSpec);
-    
-    return font;
+WMFont*
+WMBoldSystemFontOfSize(WMScreen *scrPtr, int size)
+{
+    return makeSystemFontOfSize(scrPtr, size, True);
 }
 
 
@@ -359,10 +677,10 @@
 {
     wassertrv(font!=NULL, NULL);
 
-    if (font->notFontSet)
-	return NULL;
-    else
-	return font->font.set;
+    if (!font->notFontSet && !font->antialiased)
+        return font->font.set;
+
+    return NULL;
 }
 
 
@@ -371,49 +689,186 @@
 {
     wassertrv(font!=NULL, 0);
     wassertrv(text!=NULL, 0);
-    
-    if (font->notFontSet)
-	return XTextWidth(font->font.normal, text, length);
-    else {
-	XRectangle rect;
-	XRectangle AIXsucks;
-	
-	XmbTextExtents(font->font.set, text, length, &AIXsucks, &rect);
-	
-	return rect.width;
+
+    if (font->antialiased) {
+#ifdef XFT
+        XGlyphInfo extents;
+
+        if (!font->notFontSet) {
+            wchar_t *wtext;
+            char *mtext;
+            int len;
+
+            /* Use mtext instead of text, because mbstrtowcs() alters it */
+            mtext = text;
+            wtext = (wchar_t *)wmalloc(4*length+4);
+            /* pass a real ps instead of NULL below? for multithread safety
+             * as from manual page */
+            len = mbsrtowcs(wtext, (const char **) &mtext, length, NULL);
+            if (len>0) {
+                XftTextExtents32(font->screen->display, font->font.xft,
+                                 (XftChar32 *)wtext, len, &extents);
+            } else {
+                if (len==-1) {
+                    wwarning(_("Conversion to widechar failed (possible "
+                               "invalid multibyte sequence): '%s':(pos %d)\n"),
+                             text, mtext-text+1);
+                }
+                extents.xOff = 0;
+            }
+            wfree(wtext);
+        } else {
+            XftTextExtents8(font->screen->display, font->font.xft,
+                            (XftChar8 *)text, length, &extents);
+        }
+
+        return extents.xOff; /* don't ask :P */
+#else
+        wassertrv(False, 0);
+#endif
+    } else if (font->notFontSet) {
+        return XTextWidth(font->font.normal, text, length);
+    } else {
+        XRectangle rect;
+        XRectangle AIXsucks;
+
+        XmbTextExtents(font->font.set, text, length, &AIXsucks, &rect);
+
+        return rect.width;
     }
 }
 
 
 
 void
-WMDrawString(WMScreen *scr, Drawable d, GC gc, WMFont *font, int x, int y,
-	     char *text, int length)
+WMDrawString(WMScreen *scr, Drawable d, WMColor *color, WMFont *font,
+             int x, int y, char *text, int length)
 {
     wassertr(font!=NULL);
 
-    if (font->notFontSet) {
-	XSetFont(scr->display, gc, font->font.normal->fid);
-	XDrawString(scr->display, d, gc, x, y + font->y, text, length);
+    if (font->antialiased) {
+#ifdef XFT
+        XftColor xftcolor;
+
+        xftcolor.color.red = color->color.red;
+        xftcolor.color.green = color->color.green;
+        xftcolor.color.blue = color->color.blue;
+        xftcolor.color.alpha = color->alpha;;
+        xftcolor.pixel = W_PIXEL(color);
+
+        XftDrawChange(scr->xftdraw, d);
+
+        if (!font->notFontSet) {
+            wchar_t *wtext;
+            char *mtext;
+            int len;
+
+            /* Use mtext instead of text, because mbstrtowcs() alters it */
+            mtext = text;
+            wtext = (wchar_t *)wmalloc(4*length+4);
+            len = mbsrtowcs(wtext, (const char **) &mtext, length, NULL);
+            if (len>0) {
+                XftDrawString32(scr->xftdraw, &xftcolor, font->font.xft,
+                                x, y + font->y, (XftChar32*)wtext, len);
+            } else if (len==-1) {
+                wwarning(_("Conversion to widechar failed (possible invalid "
+                           "multibyte sequence): '%s':(pos %d)\n"),
+                         text, mtext-text+1);
+                /* we can draw normal text, or we can draw as much widechar
+                 * text as was already converted until the error. go figure */
+                /*XftDrawString8(scr->xftdraw, &xftcolor, font->font.xft,
+                               x, y + font->y, (XftChar8*)text, length);*/
+            }
+            wfree(wtext);
+        } else {
+            XftDrawString8(scr->xftdraw, &xftcolor, font->font.xft,
+                           x, y + font->y, (XftChar8*)text, length);
+        }
+#else
+        wassertr(False);
+#endif
+    } else if (font->notFontSet) {
+        XSetFont(scr->display, scr->drawStringGC, font->font.normal->fid);
+        XSetForeground(scr->display, scr->drawStringGC, W_PIXEL(color));
+        XDrawString(scr->display, d, scr->drawStringGC, x, y + font->y,
+                    text, length);
     } else {
-	XmbDrawString(scr->display, d, font->font.set, gc, x, y + font->y,
-		      text, length);
+        XSetForeground(scr->display, scr->drawStringGC, W_PIXEL(color));
+        XmbDrawString(scr->display, d, font->font.set, scr->drawStringGC,
+                      x, y + font->y, text, length);
     }
 }
 
 
 void
-WMDrawImageString(WMScreen *scr, Drawable d, GC gc, WMFont *font, int x, int y,
-		  char *text, int length)
+WMDrawImageString(WMScreen *scr, Drawable d, WMColor *color, WMColor *background,
+                  WMFont *font, int x, int y, char *text, int length)
 {
-    wassertr(font != NULL);
+    wassertr(font!=NULL);
 
-    if (font->notFontSet) {
-	XSetFont(scr->display, gc, font->font.normal->fid);
-	XDrawImageString(scr->display, d, gc, x, y + font->y, text, length);
+    if (font->antialiased) {
+#ifdef XFT
+        XftColor textColor;
+        XftColor bgColor;
+
+        textColor.color.red = color->color.red;
+        textColor.color.green = color->color.green;
+        textColor.color.blue = color->color.blue;
+        textColor.color.alpha = color->alpha;;
+        textColor.pixel = W_PIXEL(color);
+
+        bgColor.color.red = background->color.red;
+        bgColor.color.green = background->color.green;
+        bgColor.color.blue = background->color.blue;
+        bgColor.color.alpha = background->alpha;;
+        bgColor.pixel = W_PIXEL(background);
+
+
+        XftDrawChange(scr->xftdraw, d);
+
+        XftDrawRect(scr->xftdraw, &bgColor, x, y,
+                    WMWidthOfString(font, text, length), font->height);
+
+        if (!font->notFontSet) {
+            wchar_t *wtext;
+            char *mtext;
+            int len;
+
+            /* Use mtext instead of text, because mbstrtowcs() alters it */
+            mtext = text;
+            wtext = (wchar_t *)wmalloc(4*length+4);
+            len = mbsrtowcs(wtext, (const char **) &mtext, length, NULL);
+            if (len>0) {
+                XftDrawString32(scr->xftdraw, &textColor, font->font.xft,
+                                x, y + font->y, (XftChar32*)wtext, len);
+            } else if (len==-1) {
+                wwarning(_("Conversion to widechar failed (possible invalid "
+                           "multibyte sequence): '%s':(pos %d)\n"),
+                         text, mtext-text+1);
+                /* we can draw normal text, or we can draw as much widechar
+                 * text as was already converted until the error. go figure */
+                /*XftDrawString8(scr->xftdraw, &textColor, font->font.xft,
+                               x, y + font->y, (XftChar8*)text, length);*/
+            }
+            wfree(wtext);
+        } else {
+            XftDrawString8(scr->xftdraw, &textColor, font->font.xft,
+                           x, y + font->y, (XftChar8*)text, length);
+        }
+#else
+        wassertr(False);
+#endif
+    } else if (font->notFontSet) {
+        XSetForeground(scr->display, scr->drawImStringGC, W_PIXEL(color));
+        XSetBackground(scr->display, scr->drawImStringGC, W_PIXEL(background));
+        XSetFont(scr->display, scr->drawImStringGC, font->font.normal->fid);
+        XDrawImageString(scr->display, d, scr->drawImStringGC,
+                         x, y + font->y, text, length);
     } else {
-	XmbDrawImageString(scr->display, d, font->font.set, gc, x, y + font->y,
-			   text, length);
+        XSetForeground(scr->display, scr->drawImStringGC, W_PIXEL(color));
+        XSetBackground(scr->display, scr->drawImStringGC, W_PIXEL(background));
+        XmbDrawImageString(scr->display, d, font->font.set, scr->drawImStringGC,
+                           x, y + font->y, text, length);
     }
 }
 
@@ -470,145 +925,211 @@
 }
 
 
+#define FONT_PROPS 14
+
+typedef struct {
+    char *props[FONT_PROPS];
+} W_FontAttributes;
+
+
 static void
-changeFontProp(char *fname, char *newprop, int which)
+changeFontProp(char *buf, char *newprop, int position)
 {
-    char before[128], prop[128], after[128];
-    char *ptr, *bptr;
-    int part=0;
-
-    if(!fname || !prop)
+    char buf2[512];
+    char *ptr, *pptr, *rptr;
+    int count;
+
+    if (buf[0]!='-') {
+        /* // remove warning later. or maybe not */
+        wwarning(_("Invalid font specification: '%s'\n"), buf);
         return;
+    }
 
-    ptr = fname;
-    bptr = before;
-    while (*ptr) {
-        if(*ptr == '-') {
-            *bptr = 0;
-            if(part==which)
-                bptr = prop;
-            else if(part==which+1)
-                bptr = after;
-            *bptr++ = *ptr;
-            part++;
-        } else {
-            *bptr++ = *ptr;
+    ptr = pptr = rptr = buf;
+    count = 0;
+    while (*ptr && *ptr!=',') {
+        if (*ptr == '-') {
+            count++;
+            if (count-1==position+1) {
+                rptr = ptr;
+                break;
+            }
+            if (count-1==position) {
+                pptr = ptr+1;
+            }
         }
         ptr++;
     }
-    *bptr = 0;
-    snprintf(fname, 255, "%s-%s%s", before, newprop, after);
-}
-
-
-WMFont*
-WMNormalizeFont(WMScreen *scr, WMFont *font)
-{
-    WMFont *newfont=NULL;
-    char fname[256];
-
-    if(!scr || !font)
-        return NULL;
-
-    snprintf(fname, 255, font->name);
-    changeFontProp(fname, "medium", 2);
-    changeFontProp(fname, "r", 3);
-    newfont = WMCreateNormalFont(scr, fname);
-
-    if(!newfont)
-        return NULL;
+    if (position==FONT_PROPS-1) {
+        rptr = ptr;
+    }
 
-    return newfont;
+    *pptr = 0;
+    snprintf(buf2, 512, "%s%s%s", buf, newprop, rptr);
+    strcpy(buf, buf2);
 }
 
 
-WMFont*
-WMStrengthenFont(WMScreen *scr, WMFont *font)
+static WMArray*
+getOptions(char *options)
 {
-    WMFont *newfont=NULL;
-    char fname[256];
+    char *ptr, *ptr2, *str;
+    WMArray *result;
+    int count;
 
-    if(!scr || !font)
-        return NULL;
+    result = WMCreateArrayWithDestructor(2, (WMFreeDataProc*)wfree);
 
-    snprintf(fname, 255, font->name);
-    changeFontProp(fname, "bold", 2);
-    newfont = WMCreateNormalFont(scr, fname);
-
-    if(!newfont)
-        return NULL;
+    ptr = options;
+    while (1) {
+        ptr2 = strchr(ptr, ',');
+        if (!ptr2) {
+            WMAddToArray(result, wstrdup(ptr));
+            break;
+        } else {
+            count = ptr2 - ptr;
+            str = wmalloc(count+1);
+            memcpy(str, ptr, count);
+            str[count] = 0;
+            WMAddToArray(result, str);
+            ptr = ptr2 + 1;
+        }
+    }
 
-    return newfont;
+    return result;
 }
 
 
 WMFont*
-WMUnstrengthenFont(WMScreen *scr, WMFont *font)
+WMCopyFontWithChanges(WMScreen *scrPtr, WMFont *font,
+                      const WMFontAttributes *changes)
 {
-    WMFont *newfont=NULL;
-    char fname[256];
+    int index[FONT_PROPS], count[FONT_PROPS];
+    int totalProps, i, j, carry;
+    char fname[512];
+    WMFontFlags fFlags;
+    WMBag *props;
+    WMArray *options;
+    WMFont *result;
+    char *prop;
+
+    snprintf(fname, 512, "%s", font->name);
+
+    fFlags = (font->antialiased ? WFAntialiased : WFNotAntialiased);
+    fFlags |= (font->notFontSet ? WFNormalFont : WFFontSet);
+
+    props = WMCreateBagWithDestructor(1, (WMFreeDataProc*)WMFreeArray);
+
+    totalProps = 0;
+    for (i=0; i<FONT_PROPS; i++) {
+        prop = ((W_FontAttributes*)changes)->props[i];
+        count[i] = index[i] = 0;
+        if (!prop) {
+            /* No change for this property */
+            continue;
+        } else if (strchr(prop, ',')==NULL) {
+            /* Simple option */
+            changeFontProp(fname, prop, i);
+        } else {
+            /* Option with fallback alternatives */
+            if ((changes==WFAEmphasized || changes==WFABoldEmphasized) &&
+                font->antialiased && strcmp(prop, "o,i")==0) {
+                options = getOptions("i,o");
+            } else {
+                options = getOptions(prop);
+            }
+            WMInsertInBag(props, i, options);
+            count[i] = WMGetArrayItemCount(options);
+            if (totalProps==0)
+                totalProps = 1;
+            totalProps = totalProps * count[i];
+        }
+    }
 
-    if(!scr || !font)
-        return NULL;
+    if (totalProps == 0) {
+        /* No options with fallback alternatives at all */
+        WMFreeBag(props);
+        return WMCreateFontWithFlags(scrPtr, fname, fFlags);
+    }
 
-    snprintf(fname, 255, font->name);
-    changeFontProp(fname, "medium", 2);
-    newfont = WMCreateNormalFont(scr, fname);
+    for (i=0; i<totalProps; i++) {
+        for (j=0; j<FONT_PROPS; j++) {
+            if (count[j]!=0) {
+                options = WMGetFromBag(props, j);
+                prop = WMGetFromArray(options, index[j]);
+                if (prop) {
+                    changeFontProp(fname, prop, j);
+                }
+            }
+        }
+        result = WMCreateFontWithFlags(scrPtr, fname, fFlags);
+        if (result) {
+            WMFreeBag(props);
+            return result;
+        }
+        for (j=FONT_PROPS-1, carry=1; j>=0; j--) {
+            if (count[j]!=0) {
+                index[j] += carry;
+                carry = (index[j]==count[j]);
+                index[j] %= count[j];
+            }
+        }
+    }
 
-    if(!newfont)
-        return NULL;
+    WMFreeBag(props);
 
-    return newfont;
+    return NULL;
 }
 
 
-WMFont*
-WMEmphasizeFont(WMScreen *scr, WMFont *font)
-{
-    WMFont *newfont=NULL;
-    char fname[256];
 
-    if(!scr || !font)
-        return NULL;
+// should WFANormal also set "normal" or leave it alone?
+static const WMFontAttributes W_FANormal = {
+    WFAUnchanged, WFAUnchanged, "medium,normal,regular", "r", "normal",
+    WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged,
+    WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged
+};
 
-    snprintf(fname, 255, font->name);
-    changeFontProp(fname, "o", 3);
-    newfont = WMCreateNormalFont(scr, fname);
 
-    if(!newfont)
-        return NULL;
+static const WMFontAttributes W_FABold = {
+    WFAUnchanged, WFAUnchanged, "bold", WFAUnchanged,
+    WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged,
+    WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged
+};
 
-    return newfont;
-}
 
+static const WMFontAttributes W_FANotBold = {
+    WFAUnchanged, WFAUnchanged, "medium,normal,regular", WFAUnchanged,
+    WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged,
+    WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged
+};
 
-WMFont*
-WMUnemphasizeFont(WMScreen *scr, WMFont *font)
-{
-    WMFont *newfont=NULL;
-    char fname[256];
 
-    if(!scr || !font)
-        return NULL;
+static const WMFontAttributes W_FAEmphasized = {
+    WFAUnchanged, WFAUnchanged, WFAUnchanged, "o,i",
+    WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged,
+    WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged
+};
 
-    snprintf(fname, 255, font->name);
-    changeFontProp(fname, "r", 3);
-    newfont = WMCreateNormalFont(scr, fname);
 
-    if(!newfont)
-        return NULL;
+static const WMFontAttributes W_FANotEmphasized = {
+    WFAUnchanged, WFAUnchanged, WFAUnchanged, "r",
+    WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged,
+    WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged
+};
 
-    return newfont;
-}
 
+static const WMFontAttributes W_FABoldEmphasized = {
+    WFAUnchanged, WFAUnchanged, "bold", "o,i",
+    WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged,
+    WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged, WFAUnchanged
+};
 
-WMFont*
-WMGetFontOfSize(WMScreen *scr, WMFont *font, int size)
-{
-    if(!scr || !font || size<1)
-        return NULL;
 
-    return font;
-}
+const WMFontAttributes *WFANormal         = &W_FANormal;
+const WMFontAttributes *WFABold           = &W_FABold;
+const WMFontAttributes *WFANotBold        = &W_FANotBold;
+const WMFontAttributes *WFAEmphasized     = &W_FAEmphasized;
+const WMFontAttributes *WFANotEmphasized  = &W_FANotEmphasized;
+const WMFontAttributes *WFABoldEmphasized = &W_FABoldEmphasized;
 
 
diff -Naur WindowMaker-0.80.2/WINGs/wfontpanel.c wm-xft2/WINGs/wfontpanel.c
--- WindowMaker-0.80.2/WINGs/wfontpanel.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/wfontpanel.c	2003-10-22 14:08:34.000000000 +0400
@@ -10,6 +10,13 @@
 #include <string.h>
 
 
+
+/* XXX TODO */
+char *WMFontPanelFontChangedNotification = "WMFontPanelFontChangedNotification";
+
+
+
+
 typedef struct W_FontPanel {
     WMWindow *win;
 
@@ -27,6 +34,9 @@
     WMTextField *sizT;
     WMList *sizLs;
 
+    WMAction2 *action;
+    void *data;
+
     WMButton *revertB;
     WMButton *setB;
     
@@ -150,6 +160,26 @@
 
 
 
+
+static void
+setClickedAction(WMWidget *w, void *data)
+{
+    FontPanel *panel = (FontPanel*)data;
+    
+    if (panel->action)
+	(*panel->action)(panel, panel->data);
+}
+
+
+static void
+revertClickedAction(WMWidget *w, void *data)
+{
+    FontPanel *panel = (FontPanel*)data;
+    /* XXX TODO */
+}
+
+
+
 WMFontPanel*
 WMGetFontPanel(WMScreen *scr)
 {
@@ -250,11 +280,14 @@
     WMResizeWidget(panel->setB, 70, 24);
     WMMoveWidget(panel->setB, 240, DEF_HEIGHT - (BUTTON_SPACE_HEIGHT-5));
     WMSetButtonText(panel->setB, _("Set"));
+    WMSetButtonAction(panel->setB, setClickedAction, panel);
 
     panel->revertB = WMCreateCommandButton(panel->win);
     WMResizeWidget(panel->revertB, 70, 24);
     WMMoveWidget(panel->revertB, 80, DEF_HEIGHT - (BUTTON_SPACE_HEIGHT-5));
     WMSetButtonText(panel->revertB, _("Revert"));
+    WMSetButtonAction(panel->revertB, revertClickedAction, panel);
+
 
     WMRealizeWidget(panel->win);
 
@@ -350,6 +383,17 @@
 
 
 
+void 
+WMSetFontPanelAction(WMFontPanel *panel, WMAction2 *action, void *data)
+{
+    panel->action = action;
+    panel->data = data;
+}
+
+
+
+
+
 static void
 arrangeLowerFrame(FontPanel *panel)
 {
@@ -573,7 +617,6 @@
 }
 
 
-
 /*
  * families (same family name) (Hashtable of family -> array)
  * 	registries (same family but different registries)
@@ -695,13 +738,12 @@
 listFamilies(WMScreen *scr, WMFontPanel *panel)
 {
     char **fontList;
-    int count;
-    int i;
-    WMHashTable *families = WMCreateHashTable(WMStringPointerHashCallbacks);
+    WMHashTable *families;
     char fields[NUM_FIELDS][256];
     WMHashEnumerator enumer;
     WMArray *array;
-    
+    int i, count;
+
     fontList = XListFonts(scr->display, ALL_FONTS_MASK, MAX_FONTS_TO_RETRIEVE, 
                           &count);
     if (!fontList) {
@@ -710,6 +752,8 @@
 	return;
     }
 
+    families = WMCreateHashTable(WMStringPointerHashCallbacks);
+
     for (i = 0; i < count; i++) {
 	int fname_len;
 
@@ -757,7 +801,6 @@
 	    
 	    item->clientData = fam;
 	}
-        /* Isn't this going to memleak since items weren't released? --Dan */
         WMFreeArray(array);
     }
     WMSortListItems(panel->famLs);
@@ -788,15 +831,17 @@
     size = WMGetTextFieldText(panel->sizT);
 
     snprintf(buffer, bufsize, "-%s-%s-%s-%s-%s-%s-%s-*-*-*-*-*-%s-%s",
-	    family->foundry,
-	    family->name,
-	    face->weight,
-	    face->slant,
-	    face->setWidth,
-	    face->addStyle,
-	    size,
-	    family->registry,
-	    family->encoding);
+             family->foundry,
+             family->name,
+             face->weight,
+             face->slant,
+             face->setWidth,
+             face->addStyle,
+             size,
+             family->registry,
+             family->encoding);
+
+    wfree(size);
 }
 
 
diff -Naur WindowMaker-0.80.2/WINGs/wframe.c wm-xft2/WINGs/wframe.c
--- WindowMaker-0.80.2/WINGs/wframe.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/wframe.c	2003-10-22 14:29:40.000000000 +0400
@@ -8,7 +8,6 @@
 
     char *caption;
 
-    
     struct {
 	WMReliefType relief:4;
 	WMTitlePosition titlePosition:4;
@@ -43,9 +42,9 @@
 WMSetFrameRelief(WMFrame *fPtr, WMReliefType relief)
 {
     fPtr->flags.relief = relief;
-    
-   if (fPtr->view->flags.realized) {
-	repaintFrame(fPtr);
+
+    if (fPtr->view->flags.realized) {
+        repaintFrame(fPtr);
     }
 }
 
@@ -54,14 +53,15 @@
 WMSetFrameTitle(WMFrame *fPtr, char *title)
 {
     if (fPtr->caption)
-	wfree(fPtr->caption);
+        wfree(fPtr->caption);
+
     if (title)
-	fPtr->caption = wstrdup(title);
+        fPtr->caption = wstrdup(title);
     else
-	fPtr->caption = NULL;
+        fPtr->caption = NULL;
 
-   if (fPtr->view->flags.realized) {
-	repaintFrame(fPtr);
+    if (fPtr->view->flags.realized) {
+        repaintFrame(fPtr);
     }
 }
 
@@ -82,16 +82,20 @@
 {
     W_View *view = fPtr->view;
     W_Screen *scrPtr = view->screen;
-    int tx, ty, tw, th;
+    WMFont *font = scrPtr->normalFont;
+    Display *display = scrPtr->display;
+    int tx, ty, tw, th, tlen;
     int fy, fh;
     Bool drawTitle;
-    
-    if (fPtr->caption!=NULL)
-	th = WMFontHeight(scrPtr->normalFont);
-    else {
-	th = 0;
+
+    if (fPtr->caption!=NULL) {
+        th = WMFontHeight(font);
+        tlen = strlen(fPtr->caption);
+    } else {
+        th = 0;
+        tlen = 0;
     }
-    
+
     fh = view->size.height;
     fy = 0;
     
@@ -138,13 +142,12 @@
 	fh = view->size.height;
     }
 
-    if (fPtr->caption!=NULL && fPtr->flags.titlePosition!=WTPNoTitle) {
-	tw = WMWidthOfString(scrPtr->normalFont, fPtr->caption, 
-			     strlen(fPtr->caption));
+    if (tlen>0 && fPtr->flags.titlePosition!=WTPNoTitle) {
+	tw = WMWidthOfString(font, fPtr->caption, tlen);
 
-	tx = (view->size.width - tw) / 2;
-	
-	drawTitle = True;
+        tx = (view->size.width - tw) / 2;
+
+        drawTitle = True;
     } else {
 	drawTitle = False;
     }
@@ -180,7 +183,7 @@
 	gc[3] = WMColorGC(scrPtr->white);
 
 	for (i = 0; i < 4; i++) {
-	    XSetRegion(scrPtr->display, gc[i], region);
+	    XSetRegion(display, gc[i], region);
 	}
 	XDestroyRegion(region);
 
@@ -188,14 +191,26 @@
 			   fPtr->flags.relief, gc[0], gc[1], gc[2], gc[3]);
 
 	for (i = 0; i < 4; i++) {
-	    XSetClipMask(scrPtr->display, gc[i], None);
+	    XSetClipMask(display, gc[i], None);
 	}
     }
 
     if (drawTitle) {
-	WMDrawString(scrPtr, view->window, WMColorGC(scrPtr->black),
-		     scrPtr->normalFont, tx, ty, fPtr->caption,
-		     strlen(fPtr->caption));
+        /* can't draw AA text over and over again because it gets messed */
+        /* // TODO create the dbl buffer pixmap when create/set frame title */
+        if (font->antialiased) {
+            Drawable d;
+
+            d = XCreatePixmap(display, view->window, tw, th, scrPtr->depth);
+            XFillRectangle(display, d, WMColorGC(view->backColor), 0, 0, tw, th);
+
+            WMDrawString(scrPtr, d, scrPtr->black, font, 0, 0, fPtr->caption, tlen);
+            XCopyArea(display, d, view->window, scrPtr->copyGC, 0, 0, tw, th, tx, ty);
+            XFreePixmap(display, d);
+        } else {
+            WMDrawString(scrPtr, view->window, scrPtr->black, font, tx, ty,
+                         fPtr->caption, tlen);
+        }
     }
 }
 
diff -Naur WindowMaker-0.80.2/WINGs/widgets.c wm-xft2/WINGs/widgets.c
--- WindowMaker-0.80.2/WINGs/widgets.c	2002-04-05 13:24:26.000000000 +0400
+++ wm-xft2/WINGs/widgets.c	2003-10-22 14:29:40.000000000 +0400
@@ -3,6 +3,10 @@
 #include "WINGsP.h"
 #include "wconfig.h"
 
+#ifdef XFT
+# include <X11/Xft/Xft.h>
+#endif
+
 #include <X11/Xutil.h>
 #include <X11/Xatom.h>
 #include <X11/keysym.h>
@@ -618,8 +622,23 @@
 
     scrPtr->fontCache = WMCreateHashTable(WMStringPointerHashCallbacks);
 
+    scrPtr->xftFontCache = WMCreateHashTable(WMStringPointerHashCallbacks);
+
     scrPtr->fontSetCache = WMCreateHashTable(WMStringPointerHashCallbacks);
 
+    scrPtr->xftFontSetCache = WMCreateHashTable(WMStringPointerHashCallbacks);
+
+#ifdef XFT
+
+# ifdef XFT2
+    scrPtr->hasXftSupport = 1;
+# else
+    scrPtr->hasXftSupport = XftDefaultHasRender(scrPtr->display);
+# endif
+
+    scrPtr->xftdraw = XftDrawCreate(scrPtr->display, W_DRAWABLE(scrPtr),
+                                    scrPtr->visual, scrPtr->colormap);
+#endif
 
     /* create input method stuff */
     W_InitIMStuff(scrPtr);
@@ -672,7 +691,7 @@
 	    ShiftMask,LockMask,ControlMask,Mod1Mask,
 		Mod2Mask, Mod3Mask, Mod4Mask, Mod5Mask
 	};
-	unsigned int numLockMask, scrollLockMask;
+	unsigned int numLockMask=0, scrollLockMask=0;
 	
 	nlock = XKeysymToKeycode(display, XK_Num_Lock);
 	slock = XKeysymToKeycode(display, XK_Scroll_Lock);
@@ -727,7 +746,6 @@
     scrPtr->clipGC = XCreateGC(display, W_DRAWABLE(scrPtr), GCFunction
 			       |GCGraphicsExposures, &gcv);
 
-    
     stipple = XCreateBitmapFromData(display, W_DRAWABLE(scrPtr), 
 				    STIPPLE_BITS, STIPPLE_WIDTH, STIPPLE_HEIGHT);
     gcv.foreground = W_PIXEL(scrPtr->darkGray);
@@ -738,10 +756,10 @@
 				  GCForeground|GCBackground|GCStipple
 				  |GCFillStyle|GCGraphicsExposures, &gcv);
 
-    gcv.foreground = W_PIXEL(scrPtr->black);
-    gcv.background = W_PIXEL(scrPtr->white);
-    scrPtr->textFieldGC = XCreateGC(display, W_DRAWABLE(scrPtr),
-				    GCForeground|GCBackground, &gcv);
+    scrPtr->drawStringGC   = XCreateGC(display, W_DRAWABLE(scrPtr),
+                                       GCGraphicsExposures, &gcv);
+    scrPtr->drawImStringGC = XCreateGC(display, W_DRAWABLE(scrPtr),
+                                       GCGraphicsExposures, &gcv);
 
     /* we need a 1bpp drawable for the monoGC, so borrow this one */
     scrPtr->monoGC = XCreateGC(display, stipple, 0, NULL);
@@ -750,6 +768,17 @@
 
     scrPtr->useMultiByte = WINGsConfiguration.useMultiByte;
 
+    if (scrPtr->hasXftSupport) {
+        scrPtr->antialiasedText = WINGsConfiguration.antialiasedText;
+    } else {
+        if (WINGsConfiguration.antialiasedText) {
+            wwarning(_("Text antialiasing is enabled in the configuration but"
+                       " the X server doesn't have the required capabilities "
+                       "(missing RENDER extension). Disabling text antialiasing."));
+        }
+        scrPtr->antialiasedText = False;
+    }
+
     scrPtr->normalFont = WMSystemFontOfSize(scrPtr, 
 		WINGsConfiguration.defaultFontSize);
 
@@ -1036,13 +1065,20 @@
 
 void
 WMSetWidgetBackgroundColor(WMWidget *w, WMColor *color)
-{    
+{
     W_SetViewBackgroundColor(W_VIEW(w), color);
     if (W_VIEW(w)->flags.mapped)
 	WMRedisplayWidget(w);
 }
 
 
+WMColor*
+WMGetWidgetBackgroundColor(WMWidget *w)
+{
+    return W_VIEW(w)->backColor;
+}
+
+
 void
 WMRaiseWidget(WMWidget *w)
 {
diff -Naur WindowMaker-0.80.2/WINGs/WINGs/WINGs.h wm-xft2/WINGs/WINGs/WINGs.h
--- WindowMaker-0.80.2/WINGs/WINGs/WINGs.h	2002-07-02 04:30:25.000000000 +0400
+++ wm-xft2/WINGs/WINGs/WINGs.h	2003-10-22 14:29:41.000000000 +0400
@@ -7,7 +7,7 @@
 #include <WINGs/WUtil.h>
 #include <X11/Xlib.h>
 
-#define WINGS_H_VERSION  20020104
+#define WINGS_H_VERSION  20021124
 
 
 #ifdef __cplusplus
@@ -85,58 +85,74 @@
 /* button types */
 typedef enum {
     /* 0 is reserved for internal use */
-	WBTMomentaryPush = 1,
-	WBTPushOnPushOff = 2,
-	WBTToggle = 3,
-	WBTSwitch = 4,
-	WBTRadio = 5,
-	WBTMomentaryChange = 6,
-	WBTOnOff = 7,
-	WBTMomentaryLight = 8
+    WBTMomentaryPush = 1,
+    WBTPushOnPushOff = 2,
+    WBTToggle = 3,
+    WBTSwitch = 4,
+    WBTRadio = 5,
+    WBTMomentaryChange = 6,
+    WBTOnOff = 7,
+    WBTMomentaryLight = 8
 } WMButtonType;
 
 /* button behaviour masks */
 enum {
-    WBBSpringLoadedMask = 	(1 << 0),
-	WBBPushInMask = 	(1 << 1),
-	WBBPushChangeMask = 	(1 << 2),
-	WBBPushLightMask = 	(1 << 3),
-	WBBStateLightMask = 	(1 << 5),
-	WBBStateChangeMask = 	(1 << 6),
-	WBBStatePushMask = 	(1 << 7)
+    WBBSpringLoadedMask = (1 << 0),
+    WBBPushInMask       = (1 << 1),
+    WBBPushChangeMask   = (1 << 2),
+    WBBPushLightMask    = (1 << 3),
+    WBBStateLightMask   = (1 << 5),
+    WBBStateChangeMask  = (1 << 6),
+    WBBStatePushMask    = (1 << 7)
+};
+
+
+/* Font flags */
+typedef enum {
+    WFDefaultFont    = 0,
+    WFNormalFont     = (1<<0),
+    WFFontSet        = (1<<1),
+    WFAntialiased    = (1<<2),
+    WFNotAntialiased = (1<<3)
+} WMFontFlags;
+
+
+/* Use default system font size in system font name */
+enum {
+    WFDefaultSize = -1
 };
 
 
 /* frame title positions */
 typedef enum {
     WTPNoTitle,
-	WTPAboveTop,
-	WTPAtTop,
-	WTPBelowTop,
-	WTPAboveBottom,
-	WTPAtBottom,
-	WTPBelowBottom
+    WTPAboveTop,
+    WTPAtTop,
+    WTPBelowTop,
+    WTPAboveBottom,
+    WTPAtBottom,
+    WTPBelowBottom
 } WMTitlePosition;
 
 
 /* relief types */
 typedef enum {
     WRFlat,
-	WRSimple,
-	WRRaised,
-	WRSunken,
-	WRGroove,
-	WRRidge,
-	WRPushed
+    WRSimple,
+    WRRaised,
+    WRSunken,
+    WRGroove,
+    WRRidge,
+    WRPushed
 } WMReliefType;
 
 
 /* alignment types */
 typedef enum {
     WALeft,
-	WACenter,
-	WARight,
-	WAJustified		       /* not valid for textfields */
+    WACenter,
+    WARight,
+    WAJustified		       /* not valid for textfields */
 } WMAlignment;
 
 
@@ -155,58 +171,58 @@
 /* scroller arrow position */
 typedef enum {
     WSAMaxEnd,
-	WSAMinEnd,
-	WSANone
+    WSAMinEnd,
+    WSANone
 } WMScrollArrowPosition;
 
 /* scroller parts */
 typedef enum {
     WSNoPart,
-	WSDecrementPage,
-	WSIncrementPage,
-	WSDecrementLine,
-	WSIncrementLine,
-	WSDecrementWheel,
-	WSIncrementWheel,
-	WSKnob,
-	WSKnobSlot
+    WSDecrementPage,
+    WSIncrementPage,
+    WSDecrementLine,
+    WSIncrementLine,
+    WSDecrementWheel,
+    WSIncrementWheel,
+    WSKnob,
+    WSKnobSlot
 } WMScrollerPart;
 
 /* usable scroller parts */
 typedef enum {
     WSUNoParts,
-	WSUOnlyArrows,
-	WSUAllParts
+    WSUOnlyArrows,
+    WSUAllParts
 } WMUsableScrollerParts;
 
 /* matrix types */
 typedef enum {
     WMRadioMode,
-	WMHighlightMode,
-	WMListMode,
-	WMTrackMode
+    WMHighlightMode,
+    WMListMode,
+    WMTrackMode
 } WMMatrixTypes;
 
 
 typedef enum {
     WTTopTabsBevelBorder,
-	WTNoTabsBevelBorder,
-	WTNoTabsLineBorder,
-	WTNoTabsNoBorder
+    WTNoTabsBevelBorder,
+    WTNoTabsLineBorder,
+    WTNoTabsNoBorder
 } WMTabViewType;
 
 
 /* text movement types */
 enum {
     WMIllegalTextMovement,
-	WMReturnTextMovement,
-	WMEscapeTextMovement,
-	WMTabTextMovement,
-	WMBacktabTextMovement,
-	WMLeftTextMovement,
-	WMRightTextMovement,
-	WMUpTextMovement,
-	WMDownTextMovement
+    WMReturnTextMovement,
+    WMEscapeTextMovement,
+    WMTabTextMovement,
+    WMBacktabTextMovement,
+    WMLeftTextMovement,
+    WMRightTextMovement,
+    WMUpTextMovement,
+    WMDownTextMovement
 };
 
 /* text field special events */
@@ -233,13 +249,13 @@
 
 
 typedef enum {
-	WMGrayModeColorPanel = 1,
- 	WMRGBModeColorPanel = 2,
-	WMCMYKModeColorPanel = 3,
-	WMHSBModeColorPanel = 4,
-	WMCustomPaletteModeColorPanel = 5,
-	WMColorListModeColorPanel = 6,
-	WMWheelModeColorPanel = 7
+    WMGrayModeColorPanel = 1,
+    WMRGBModeColorPanel = 2,
+    WMCMYKModeColorPanel = 3,
+    WMHSBModeColorPanel = 4,
+    WMCustomPaletteModeColorPanel = 5,
+    WMColorListModeColorPanel = 6,
+    WMWheelModeColorPanel = 7
 } WMColorPanelMode;
 
 
@@ -260,17 +276,17 @@
 
 enum {
     WLDSSelected = (1 << 16),
-	WLDSDisabled = (1 << 17),
-	WLDSFocused = (1 << 18),
-	WLDSIsBranch = (1 << 19)
+    WLDSDisabled = (1 << 17),
+    WLDSFocused = (1 << 18),
+    WLDSIsBranch = (1 << 19)
 };
 
 /* alert panel return values */
 enum {
     WAPRDefault = 0,
-	WAPRAlternate = 1,
-	WAPROther = -1,
-	WAPRError = -2
+    WAPRAlternate = 1,
+    WAPROther = -1,
+    WAPRError = -2
 };
 
 
@@ -278,8 +294,8 @@
 /* types of input observers */
 enum {
     WIReadMask = (1 << 0),
-	WIWriteMask = (1 << 1),
-	WIExceptMask = (1 << 2)
+    WIWriteMask = (1 << 1),
+    WIExceptMask = (1 << 2)
 };
 
 
@@ -314,7 +330,7 @@
 typedef struct W_WidgetType {
     W_Class widgetClass;
     struct W_View *view;
-    
+
 } W_WidgetType;
 
 
@@ -416,8 +432,6 @@
 } WMGenericPanel;
 
 
-
-
 typedef struct WMInputPanel {
     WMWindow *win;		       /* window */
     WMButton *defBtn;		       /* default button */
@@ -429,6 +443,35 @@
 } WMInputPanel;
 
 
+
+#define WFAUnchanged (NULL)
+/* Struct for font change operations */
+typedef struct WMFontAttributes {
+    char *foundry;
+    char *family;
+    char *weight;
+    char *slant;
+    char *setWidth;
+    char *addStyle;
+    char *pixelSize;
+    char *pointSize;
+    char *resolutionX;
+    char *resolutionY;
+    char *spacing;
+    char *averageWidth;
+    char *registry;
+    char *encoding;
+} WMFontAttributes;
+
+/* A few useful constant font attributes masks */
+extern const WMFontAttributes *WFANormal;
+extern const WMFontAttributes *WFABold;
+extern const WMFontAttributes *WFANotBold;
+extern const WMFontAttributes *WFAEmphasized;
+extern const WMFontAttributes *WFANotEmphasized;
+extern const WMFontAttributes *WFABoldEmphasized;
+
+
 /* WMRuler: */
 typedef struct {
     WMArray  *tabs;             /* a growable array of tabstops */
@@ -582,6 +625,8 @@
 
 WMSize wmksize(unsigned int width, unsigned int height);
 
+WMRect wmkrect(int x, int y, unsigned int width, unsigned int height);
+
 #ifdef ANSI_C_DOESNT_LIKE_IT_THIS_WAY
 #define wmksize(width, height) (WMSize){(width), (height)}
 #define wmkpoint(x, y)         (WMPoint){(x), (y)}
@@ -695,18 +740,38 @@
 
 /* ....................................................................... */
 
-WMFont* WMCreateFontSet(WMScreen *scrPtr, char *fontName);
+Bool WMHasAntialiasingSupport(WMScreen *scrPtr);
+
+Bool WMIsAntialiasingEnabled(WMScreen *scrPtr);
+
+/* ....................................................................... */
 
 WMFont* WMCreateNormalFont(WMScreen *scrPtr, char *fontName);
 
+WMFont* WMCreateFontSet(WMScreen *scrPtr, char *fontName);
+
+WMFont* WMCreateAntialiasedFont(WMScreen *scrPtr, char *fontName);
+
+WMFont* WMCreateAntialiasedFontSet(WMScreen *scrPtr, char *fontName);
+
 WMFont* WMCreateFont(WMScreen *scrPtr, char *fontName);
 
+WMFont* WMCreateFontWithFlags(WMScreen *scrPtr, char *fontName,
+                              WMFontFlags flags);
+
+WMFont* WMCopyFontWithChanges(WMScreen *scrPtr, WMFont *font,
+                              const WMFontAttributes *changes);
+
 WMFont* WMRetainFont(WMFont *font);
 
 void WMReleaseFont(WMFont *font);
 
+char* WMGetFontName(WMFont *font);
+
 unsigned int WMFontHeight(WMFont *font);
 
+Bool WMIsAntialiasedFont(WMFont *font);
+
 /*
 WMFont* WMUserFontOfSize(WMScreen *scrPtr, int size);
 
@@ -728,18 +793,6 @@
 
 XFontSet WMGetFontFontSet(WMFont *font);
 
-WMFont* WMNormalizeFont(WMScreen *scr, WMFont *font);
-
-WMFont* WMStrengthenFont(WMScreen *scr, WMFont *font);
-
-WMFont* WMUnstrengthenFont(WMScreen *scr, WMFont *font);
-
-WMFont* WMEmphasizeFont(WMScreen *scr, WMFont *font);
-
-WMFont* WMUnemphasizeFont(WMScreen *scr, WMFont *font);
-
-WMFont* WMGetFontOfSize(WMScreen *scr, WMFont *font, int size);
-
 /* ....................................................................... */
 
 WMPixmap* WMRetainPixmap(WMPixmap *pixmap);
@@ -804,24 +857,33 @@
 			  unsigned short green, unsigned short blue,
 			  Bool exact);
 
+WMColor* WMCreateRGBAColor(WMScreen *scr, unsigned short red,
+                           unsigned short green, unsigned short blue,
+                           unsigned short alpha, Bool exact);
+
 WMColor* WMCreateNamedColor(WMScreen *scr, char *name, Bool exact);
 
+void WMSetColorAlpha(WMColor *color, unsigned short alpha);
+
 unsigned short WMRedComponentOfColor(WMColor *color);
 
 unsigned short WMGreenComponentOfColor(WMColor *color);
 
 unsigned short WMBlueComponentOfColor(WMColor *color);
 
+unsigned short WMGetColorAlpha(WMColor *color);
+
 char* WMGetColorRGBDescription(WMColor *color);
 
 /* ....................................................................... */
 
 
-void WMDrawString(WMScreen *scr, Drawable d, GC gc, WMFont *font, int x, 
-		  int y, char *text, int length);
+void WMDrawString(WMScreen *scr, Drawable d, WMColor *color, WMFont *font,
+                  int x, int y, char *text, int length);
 
-void WMDrawImageString(WMScreen *scr, Drawable d, GC gc, WMFont *font, int x, 
-		       int y, char *text, int length);
+void WMDrawImageString(WMScreen *scr, Drawable d, WMColor *color,
+                       WMColor *background, WMFont *font, int x, int y,
+                       char *text, int length);
 
 int WMWidthOfString(WMFont *font, char *text, int length);
 
@@ -851,6 +913,8 @@
 
 void WMSetWidgetBackgroundColor(WMWidget *w, WMColor *color);
 
+WMColor* WMGetWidgetBackgroundColor(WMWidget *w);
+
 void WMMapSubwidgets(WMWidget *w);
 
 void WMUnmapSubwidgets(WMWidget *w);
@@ -1803,6 +1867,8 @@
 
 void WMHideFontPanel(WMFontPanel *panel);
 
+void WMSetFontPanelAction(WMFontPanel *panel, WMAction2 *action, void *data);
+
 void WMSetFontPanelFont(WMFontPanel *panel, WMFont *font);
 
 /* you can free the returned string */
diff -Naur WindowMaker-0.80.2/WINGs/WINGs/WINGsP.h wm-xft2/WINGs/WINGs/WINGsP.h
--- WindowMaker-0.80.2/WINGs/WINGs/WINGsP.h	2002-01-08 16:44:33.000000000 +0300
+++ wm-xft2/WINGs/WINGs/WINGsP.h	2003-10-22 14:29:41.000000000 +0400
@@ -8,7 +8,7 @@
 
 #include <WINGs/WINGs.h>
 
-#if WINGS_H_VERSION < 20020104
+#if WINGS_H_VERSION < 20021124
 #error There_is_an_old_WINGs.h_file_somewhere_in_your_system._Please_remove_it.
 #endif
 
@@ -32,11 +32,11 @@
 
 #define SCROLLER_WIDTH	 20
 
-    
-    
+
+
 #define XDND_VERSION 4
 
-    
+
 typedef struct W_Application {
     char *applicationName;
     int argc;
@@ -50,13 +50,15 @@
 
     union {
 	XFontSet set;
-	XFontStruct *normal;
+        XFontStruct *normal;
+        struct _XftFont *xft;
     } font;
     short height;
     short y;
     short refCount;
     char *name;
     unsigned int notFontSet:1;
+    unsigned int antialiased:1;
 } W_Font;
 
 
@@ -75,6 +77,7 @@
     struct W_Screen *screen;
 
     XColor color;
+    unsigned short alpha;
     short refCount;
     GC gc;
     struct {
@@ -121,19 +124,23 @@
     int depth;
 
     Colormap colormap;
-    
+
     Visual *visual;
-    
+
     Time lastEventTime;
-    
+
     Window rootWin;
 
     struct W_View *rootView;
-    
+
     RContext *rcontext;
 
     struct W_IMContext *imctx;
-    
+
+    struct _XftDraw *xftdraw;          /* shared XftDraw */
+
+    Bool hasXftSupport;                /* if it can antialias text */
+
     /* application related */
 
     W_FocusInfo *focusInfo;
@@ -183,7 +190,9 @@
 
     GC ixorGC;			       /* IncludeInferiors XOR */
 
-    GC textFieldGC;
+    GC drawStringGC;                   /* for WMDrawString() */
+
+    GC drawImStringGC;                 /* for WMDrawImageString() */
 
     W_Font *normalFont;
 
@@ -191,15 +200,21 @@
 
     WMHashTable *fontCache;
 
+    WMHashTable *xftFontCache;
+
     WMHashTable *fontSetCache;
 
+    WMHashTable *xftFontSetCache;
+
     Bool useMultiByte;
-    
+
+    Bool antialiasedText;
+
     unsigned int ignoredModifierMask; /* modifiers to ignore when typing txt */
 
     struct W_Balloon *balloon;
 
-    
+
     struct W_Pixmap *checkButtonImageOn;
     struct W_Pixmap *checkButtonImageOff;
     
@@ -401,7 +416,10 @@
 typedef struct _WINGsConfiguration {
     char *systemFont;
     char *boldSystemFont;
+    char *antialiasedSystemFont;
+    char *antialiasedBoldSystemFont;
     int  defaultFontSize;
+    Bool antialiasedText;
     Bool useMultiByte;
     char *floppyPath;
     unsigned doubleClickDelay;
@@ -425,10 +443,10 @@
 #define W_VIEW_DISPLAY(view)    (view)->screen->display
 #define W_VIEW_SCREEN(view)	(view)->screen
 #define W_VIEW_DRAWABLE(view)	(view)->window
-    
+
 #define W_VIEW_WIDTH(view)	(view)->size.width
 #define W_VIEW_HEIGHT(view)	(view)->size.height
-    
+
 
 #define W_PIXEL(c)		(c)->color.pixel
 
@@ -477,7 +495,7 @@
 void W_SetViewBackgroundColor(W_View *view, WMColor *color);
 
 void W_SetViewCursor(W_View *view, Cursor cursor);
-    
+
 void W_DrawRelief(W_Screen *scr, Drawable d, int x, int y, unsigned int width,
 		  unsigned int height, WMReliefType relief);
 
@@ -488,13 +506,13 @@
 
 void W_CallDestroyHandlers(W_View *view);
 
-void W_PaintTextAndImage(W_View *view, int wrap, GC textGC, W_Font *font,
-			 WMReliefType relief, char *text,
+void W_PaintTextAndImage(W_View *view, int wrap, WMColor *textColor,
+                         W_Font *font, WMReliefType relief, char *text,
 			 WMAlignment alignment, W_Pixmap *image, 
-			 WMImagePosition position, GC backGC, int ofs);
+			 WMImagePosition position, WMColor *backColor, int ofs);
 
 void W_PaintText(W_View *view, Drawable d, WMFont *font,  int x, int y,
-		 int width, WMAlignment alignment, GC gc,
+		 int width, WMAlignment alignment, WMColor *color,
 		 int wrap, char *text, int length);
 
 int W_GetTextHeight(WMFont *font, char *text, int width, int wrap);
diff -Naur WindowMaker-0.80.2/WINGs/WINGs/WUtil.h wm-xft2/WINGs/WINGs/WUtil.h
--- WindowMaker-0.80.2/WINGs/WINGs/WUtil.h	2002-03-26 13:47:11.000000000 +0300
+++ wm-xft2/WINGs/WINGs/WUtil.h	2003-10-22 14:08:35.000000000 +0400
@@ -19,11 +19,13 @@
 #endif
 
 
-#if (!defined (__GNUC__) || __GNUC__ < 2 || \
-     __GNUC_MINOR__ < (defined (__cplusplus) ? 6 : 4))
-#define __ASSERT_FUNCTION       ((char *) 0)
-#else
-#define __ASSERT_FUNCTION       __PRETTY_FUNCTION__
+#ifndef __ASSERT_FUNCTION
+# if (!defined (__GNUC__) || (__GNUC__ < 2 && \
+      __GNUC_MINOR__ < (defined (__cplusplus) ? 6 : 4)))
+#  define __ASSERT_FUNCTION       ((char *) 0)
+# else
+#  define __ASSERT_FUNCTION       __PRETTY_FUNCTION__
+# endif
 #endif
 
 
@@ -184,8 +186,9 @@
 typedef struct ConnectionDelegate {
     void *data;
 
-    void (*didCatchException)(struct ConnectionDelegate *self,
-                              WMConnection *cPtr);
+    void (*canResumeSending)(struct ConnectionDelegate *self, WMConnection *cPtr);
+
+    void (*didCatchException)(struct ConnectionDelegate *self, WMConnection *cPtr);
 
     void (*didDie)(struct ConnectionDelegate *self, WMConnection *cPtr);
 
@@ -239,6 +242,7 @@
 void* wretain(void *ptr);
 
 char* wstrdup(char *str);
+char* wstrndup(char *str, size_t len);
 
 /* Concatenate str1 with str2 and return that in a newly malloc'ed string.
  * str1 and str2 can be any strings including static and constant strings.
@@ -977,6 +981,8 @@
 
 Bool WMSetConnectionCloseOnExec(WMConnection *cPtr, Bool flag);
 
+void WMSetConnectionShutdownOnClose(WMConnection *cPtr, Bool flag);
+
 void* WMGetConnectionClientData(WMConnection *cPtr);
 
 void WMSetConnectionClientData(WMConnection *cPtr, void *data);
diff -Naur WindowMaker-0.80.2/WINGs/wlabel.c wm-xft2/WINGs/wlabel.c
--- WindowMaker-0.80.2/WINGs/wlabel.c	2002-03-29 14:14:17.000000000 +0300
+++ wm-xft2/WINGs/wlabel.c	2003-10-22 14:08:34.000000000 +0400
@@ -205,14 +205,9 @@
 paintLabel(Label *lPtr)
 {
     W_Screen *scrPtr = lPtr->view->screen;
-    GC gc;
-    
-    if (lPtr->textColor)
-	gc = WMColorGC(lPtr->textColor);
-    else
-	gc = WMColorGC(scrPtr->black);
 
-    W_PaintTextAndImage(lPtr->view, !lPtr->flags.noWrap, gc,
+    W_PaintTextAndImage(lPtr->view, !lPtr->flags.noWrap,
+                        lPtr->textColor ? lPtr->textColor : scrPtr->black,
 			(lPtr->font!=NULL ? lPtr->font : scrPtr->normalFont),
 			lPtr->flags.relief, lPtr->caption,
 			lPtr->flags.alignment, lPtr->image, 
diff -Naur WindowMaker-0.80.2/WINGs/wlist.c wm-xft2/WINGs/wlist.c
--- WindowMaker-0.80.2/WINGs/wlist.c	2002-03-29 14:14:17.000000000 +0300
+++ wm-xft2/WINGs/wlist.c	2003-10-22 14:08:34.000000000 +0400
@@ -33,6 +33,8 @@
 
     WMScroller *vScroller;
 
+    Pixmap doubleBuffer;
+
     struct {
         unsigned int allowMultipleSelection:1;
         unsigned int allowEmptySelection:1;
@@ -84,6 +86,30 @@
 
 
 static void
+updateDoubleBufferPixmap(WMList *lPtr)
+{
+    WMView *view = lPtr->view;
+    WMScreen *scr = view->screen;
+
+    if (!view->flags.realized)
+        return;
+
+    if (lPtr->doubleBuffer)
+        XFreePixmap(scr->display, lPtr->doubleBuffer);
+    lPtr->doubleBuffer =
+        XCreatePixmap(scr->display, view->window, view->size.width,
+                      lPtr->itemHeight, scr->depth);
+}
+
+
+static void
+realizeObserver(void *self, WMNotification *not)
+{
+    updateDoubleBufferPixmap(self);
+}
+
+
+static void
 releaseItem(void *data)
 {
     WMListItem *item = (WMListItem*)data;
@@ -138,6 +164,9 @@
 
     W_ResizeView(lPtr->view, DEFAULT_WIDTH, DEFAULT_HEIGHT);
 
+    WMAddNotificationObserver(realizeObserver, lPtr,
+                              WMViewRealizedNotification, lPtr->view);
+
     return lPtr;
 }
 
@@ -279,6 +308,8 @@
     lPtr->flags.userItemHeight = 1;
     lPtr->itemHeight = height;
 
+    updateDoubleBufferPixmap(lPtr);
+
     updateGeometry(lPtr);
 }
 
@@ -491,8 +522,10 @@
 {
     WMView *view = lPtr->view;
     W_Screen *scr = view->screen;
-    int width, height, x, y;
+    Display *display = scr->display;
+    int width, height, x, y, tlen;
     WMListItem *itemPtr;
+    Drawable d = lPtr->doubleBuffer;
 
     itemPtr = WMGetFromArray(lPtr->items, index);
 
@@ -500,15 +533,17 @@
     height = lPtr->itemHeight;
     x = 19;
     y = 2 + (index-lPtr->topItem) * lPtr->itemHeight + 1;
+    tlen = strlen(itemPtr->text);
 
     if (lPtr->flags.userDrawn) {
         WMRect rect;
         int flags;
 
+
         rect.size.width = width;
         rect.size.height = height;
-        rect.pos.x = x;
-        rect.pos.y = y;
+        rect.pos.x = 0;
+        rect.pos.y = 0;
 
         flags = itemPtr->uflags;
         if (itemPtr->disabled)
@@ -519,19 +554,17 @@
             flags |= WLDSIsBranch;
 
         if (lPtr->draw)
-            (*lPtr->draw)(lPtr, index, view->window, itemPtr->text, flags,
-                          &rect);
+            (*lPtr->draw)(lPtr, index, d, itemPtr->text, flags, &rect);
+
+        XCopyArea(display, d, view->window, scr->copyGC, 0, 0, width, height, x, y);
     } else {
-        if (itemPtr->selected) {
-            XFillRectangle(scr->display, view->window, WMColorGC(scr->white),
-                           x, y, width, height);
-        } else {
-            XClearArea(scr->display, view->window, x, y, width, height, False);
-        }
+        WMColor *back = (itemPtr->selected ? scr->white : view->backColor);
+
+        XFillRectangle(display, d, WMColorGC(back), 0, 0, width, height);
 
-        W_PaintText(view, view->window, scr->normalFont,  x+4, y, width,
-                    WALeft, WMColorGC(scr->black), False,
-                    itemPtr->text, strlen(itemPtr->text));
+        W_PaintText(view, d, scr->normalFont,  4, 0, width, WALeft, scr->black,
+                    False, itemPtr->text, tlen);
+        XCopyArea(display, d, view->window, scr->copyGC, 0, 0, width, height, x, y);
     }
 
     if ((index-lPtr->topItem+lPtr->fullFitLines)*lPtr->itemHeight >
@@ -1202,6 +1235,8 @@
 
     WMResizeWidget(lPtr->vScroller, 1, view->size.height-2);
 
+    updateDoubleBufferPixmap(lPtr);
+
     updateGeometry(lPtr);
 }
 
@@ -1223,6 +1258,11 @@
     if (lPtr->items)
         WMFreeArray(lPtr->items);
 
+    if (lPtr->doubleBuffer)
+        XFreePixmap(lPtr->view->screen->display, lPtr->doubleBuffer);
+
+    WMRemoveNotificationObserver(lPtr);
+
     wfree(lPtr);
 }
 
diff -Naur WindowMaker-0.80.2/WINGs/wmisc.c wm-xft2/WINGs/wmisc.c
--- WindowMaker-0.80.2/WINGs/wmisc.c	2002-01-08 16:44:33.000000000 +0300
+++ wm-xft2/WINGs/wmisc.c	2003-10-22 14:08:34.000000000 +0400
@@ -101,7 +101,7 @@
     i = 0;
     if (wrap) {
 	if (text[0]=='\n')
-	    return 1;
+	    return 0;
 	
 	do {
 	    i++;
@@ -154,7 +154,7 @@
 
 void
 W_PaintText(W_View *view, Drawable d, WMFont *font,  int x, int y,
-	    int width, WMAlignment alignment, GC gc,
+	    int width, WMAlignment alignment, WMColor *color,
 	    int wrap, char *text, int length)
 {
     char *ptr = text;
@@ -174,7 +174,7 @@
 	else
 	    line_x = x + (width - line_width) / 2;
 
-	WMDrawString(view->screen, d, gc, font, line_x, y, ptr, count);
+	WMDrawString(view->screen, d, color, font, line_x, y, ptr, count);
 
         if (wrap && ptr[count]!='\n')
             y += fheight;
@@ -191,43 +191,38 @@
 
 
 void
-W_PaintTextAndImage(W_View *view, int wrap, GC textGC, W_Font *font,
+W_PaintTextAndImage(W_View *view, int wrap, WMColor *textColor, W_Font *font,
 		    WMReliefType relief, char *text,
 		    WMAlignment alignment,  W_Pixmap *image,
-		    WMImagePosition position, GC backGC, int ofs)
+		    WMImagePosition position, WMColor *backColor, int ofs)
 {
     W_Screen *screen = view->screen;
     int ix, iy;
     int x, y, w, h;
     Drawable d = view->window;
 
-    
+
 #ifdef DOUBLE_BUFFER
     d = XCreatePixmap(screen->display, view->window, 
 		      view->size.width, view->size.height, screen->depth);
 #endif
-    
+
     /* background */
-#ifndef DOUBLE_BUFFER
-    if (backGC) {
-	XFillRectangle(screen->display, d, backGC,
+    if (backColor) {
+	XFillRectangle(screen->display, d, WMColorGC(backColor),
 		       0, 0, view->size.width, view->size.height);
     } else {
+#ifndef DOUBLE_BUFFER
 	XClearWindow(screen->display, d);
-    }
 #else
-    if (backGC)
-	XFillRectangle(screen->display, d, backGC, 0, 0,
-		       view->size.width, view->size.height);
-    else {
 	XSetForeground(screen->display, screen->copyGC, 
 		       view->attribs.background_pixel);
 	XFillRectangle(screen->display, d, screen->copyGC, 0, 0,
 		       view->size.width, view->size.height);
-    }
 #endif
+    }
+
 
-    
     if (relief == WRFlat) {
 	x = 0;
 	y = 0;
@@ -303,13 +298,13 @@
 	
 	textHeight = W_GetTextHeight(font, text, w-8, wrap);
 	W_PaintText(view, d, font, x+ofs+4, y+ofs + (h-textHeight)/2, w-8,
-		    alignment, textGC, wrap, text, strlen(text));
+		    alignment, textColor, wrap, text, strlen(text));
     }
-    
-    
+
+
     /* draw relief */
     W_DrawRelief(screen, d, 0, 0, view->size.width, view->size.height, relief);
-    
+
 #ifdef DOUBLE_BUFFER
     XCopyArea(screen->display, d, view->window, screen->copyGC, 0, 0,
 	      view->size.width, view->size.height, 0, 0);
@@ -343,7 +338,18 @@
 }
 
 
+WMRect
+wmkrect(int x, int y, unsigned int width, unsigned int height)
+{
+    WMRect rect;
 
+    rect.pos.x = x;
+    rect.pos.y = y;
+    rect.size.width = width;
+    rect.size.height = height;
+
+    return rect;
+}
 
 
 
diff -Naur WindowMaker-0.80.2/WINGs/wpopupbutton.c wm-xft2/WINGs/wpopupbutton.c
--- WindowMaker-0.80.2/WINGs/wpopupbutton.c	2002-03-29 14:14:17.000000000 +0300
+++ wm-xft2/WINGs/wpopupbutton.c	2003-10-22 14:08:34.000000000 +0400
@@ -333,7 +333,7 @@
 	W_PaintText(bPtr->view, pixmap, scr->normalFont, 6, 
 		    (bPtr->view->size.height-WMFontHeight(scr->normalFont))/2,
 		    bPtr->view->size.width, WALeft, 
-		    bPtr->flags.enabled ? WMColorGC(scr->black) : WMColorGC(scr->darkGray),
+		    bPtr->flags.enabled ? scr->black : scr->darkGray,
 		    False, caption, strlen(caption));
     }
 
@@ -421,7 +421,7 @@
 		 width, itemHeight, WRRaised);
 
     W_PaintText(bPtr->menuView, bPtr->menuView->window, scr->normalFont,  6, 
-		index*itemHeight + yo, width, WALeft, WMColorGC(scr->black), 
+		index*itemHeight + yo, width, WALeft, scr->black,
 		False, title, strlen(title));
 
     if (!bPtr->flags.pullsDown && index == bPtr->selectedItemIndex) {
@@ -457,7 +457,7 @@
 
     i = 0;
     WM_ITERATE_ARRAY(bPtr->items, item, iter) {
-	GC gc;
+	WMColor *color;
 	char *text;
 
 	text = WMGetMenuItemTitle(item);
@@ -466,12 +466,12 @@
 		     WRRaised);
 
         if (!WMGetMenuItemEnabled(item))
-	    gc = WMColorGC(scr->darkGray);
+	    color = scr->darkGray;
 	else
-	    gc = WMColorGC(scr->black);
+	    color = scr->black;
 
 	W_PaintText(bPtr->menuView, pixmap, scr->normalFont,  6, 
-		    i*itemHeight + yo, width, WALeft, gc, False,
+		    i*itemHeight + yo, width, WALeft, color, False,
 		    text, strlen(text));
 	
 	if (!bPtr->flags.pullsDown && i == bPtr->selectedItemIndex) {
diff -Naur WindowMaker-0.80.2/WINGs/wprogressindicator.c wm-xft2/WINGs/wprogressindicator.c
--- WindowMaker-0.80.2/WINGs/wprogressindicator.c	2002-02-21 14:28:36.000000000 +0300
+++ wm-xft2/WINGs/wprogressindicator.c	2003-10-22 14:08:34.000000000 +0400
@@ -40,18 +40,10 @@
 
 static void destroyProgressIndicator(ProgressIndicator *pPtr);
 static void paintProgressIndicator(ProgressIndicator *pPtr);
-static void realizeProgressIndicator(ProgressIndicator *pPtr);
 static void handleEvents(XEvent *event, void *data);
 
 
 
-static void
-realizeObserver(void *self, WMNotification *not)
-{
-    realizeProgressIndicator(self);
-}
-
-
 WMProgressIndicator*
 WMCreateProgressIndicator(WMWidget *parent)
 {
@@ -84,9 +76,6 @@
     pPtr->minValue = 0;
     pPtr->maxValue = 100;
     
-    WMAddNotificationObserver(realizeObserver, pPtr,
-			      WMViewRealizedNotification, pPtr->view);
-    
     return pPtr;
 }
 
@@ -170,13 +159,6 @@
 
 
 static void
-realizeProgressIndicator(ProgressIndicator *pPtr)
-{
-    W_RealizeView(pPtr->view);
-}
-
-
-static void
 didResizeProgressIndicator(W_ViewDelegate *self, WMView *view)
 {
     WMProgressIndicator *pPtr = (WMProgressIndicator*)view->self;
diff -Naur WindowMaker-0.80.2/WINGs/wruler.c wm-xft2/WINGs/wruler.c
--- WindowMaker-0.80.2/WINGs/wruler.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/wruler.c	2003-10-22 14:08:34.000000000 +0400
@@ -33,7 +33,8 @@
     WMAction *releaseAction;   /* what to do when released */
     void *clientData;
 
-    GC fg, bg;
+    WMColor *fg;
+    GC fgGC, bgGC;
     WMFont *font;
     WMRulerMargins margins;
     int offset;
@@ -68,11 +69,10 @@
 drawLeftMarker(Ruler * rPtr)
 {
     XPoint points[4];
-    int xpos = (rPtr->flags.whichMarker == 1 ?
-        rPtr->motion : rPtr->margins.left);
+    int xpos = (rPtr->flags.whichMarker==1 ? rPtr->motion : rPtr->margins.left);
 
-    XDrawLine(rPtr->view->screen->display, rPtr->drawBuffer,
-          rPtr->fg, xpos, 8, xpos, 22);
+    XDrawLine(rPtr->view->screen->display, rPtr->drawBuffer, rPtr->fgGC,
+              xpos, 8, xpos, 22);
     points[0].x = xpos;
     points[0].y = 1;
     points[1].x = points[0].x + 6;
@@ -81,8 +81,8 @@
     points[2].y = 9;
     points[3].x = points[0].x;
     points[3].y = 9;
-    XFillPolygon(rPtr->view->screen->display, rPtr->drawBuffer,
-         rPtr->fg, points, 4, Convex, CoordModeOrigin);
+    XFillPolygon(rPtr->view->screen->display, rPtr->drawBuffer, rPtr->fgGC,
+                 points, 4, Convex, CoordModeOrigin);
 }
 
 
@@ -95,14 +95,14 @@
    |
 
  */
-static void drawRightMarker(Ruler * rPtr)
+static void
+drawRightMarker(Ruler * rPtr)
 {
     XPoint points[4];
-    int xpos = (rPtr->flags.whichMarker == 2 ?
-        rPtr->motion : rPtr->margins.right);
+    int xpos = (rPtr->flags.whichMarker==2 ? rPtr->motion : rPtr->margins.right);
 
-    XDrawLine(rPtr->view->screen->display, rPtr->drawBuffer,
-          rPtr->fg, xpos, 8, xpos, 22);
+    XDrawLine(rPtr->view->screen->display, rPtr->drawBuffer, rPtr->fgGC,
+              xpos, 8, xpos, 22);
     points[0].x = xpos + 1;
     points[0].y = 0;
     points[1].x = points[0].x - 6;
@@ -111,8 +111,8 @@
     points[2].y = 9;
     points[3].x = points[0].x;
     points[3].y = 9;
-    XFillPolygon(rPtr->view->screen->display, rPtr->drawBuffer,
-         rPtr->fg, points, 4, Convex, CoordModeOrigin);
+    XFillPolygon(rPtr->view->screen->display, rPtr->drawBuffer, rPtr->fgGC,
+                 points, 4, Convex, CoordModeOrigin);
 }
 
 
@@ -122,15 +122,16 @@
    |
 
  */
-static void drawFirstMarker(Ruler * rPtr)
+static void
+drawFirstMarker(Ruler * rPtr)
 {
     int xpos = ((rPtr->flags.whichMarker == 3 || rPtr->flags.whichMarker == 6) ?
         rPtr->motion : rPtr->margins.first);
 
-    XFillRectangle(rPtr->view->screen->display, rPtr->drawBuffer,
-           rPtr->fg, xpos - 5, 10, 11, 5);
-    XDrawLine(rPtr->view->screen->display, rPtr->drawBuffer,
-          rPtr->fg, xpos, 12, xpos, 22);
+    XFillRectangle(rPtr->view->screen->display, rPtr->drawBuffer, rPtr->fgGC,
+                   xpos - 5, 10, 11, 5);
+    XDrawLine(rPtr->view->screen->display, rPtr->drawBuffer, rPtr->fgGC,
+              xpos, 12, xpos, 22);
 }
 
 /* Marker for rest of body
@@ -138,7 +139,8 @@
    \   /
     \./
  */
-static void drawBodyMarker(Ruler * rPtr)
+static void
+drawBodyMarker(Ruler * rPtr)
 {
     XPoint points[4];
     int xpos = ((rPtr->flags.whichMarker == 4 || rPtr->flags.whichMarker == 6) ?
@@ -150,40 +152,41 @@
     points[1].y = 16;
     points[2].x = points[0].x + 5;
     points[2].y = 22;
-    XFillPolygon(rPtr->view->screen->display, rPtr->drawBuffer,
-         rPtr->fg, points, 3, Convex, CoordModeOrigin);
+    XFillPolygon(rPtr->view->screen->display, rPtr->drawBuffer, rPtr->fgGC,
+                 points, 3, Convex, CoordModeOrigin);
 }
 
 
-static void createDrawBuffer(Ruler * rPtr)
+static void
+createDrawBuffer(Ruler * rPtr)
 {
     if(!rPtr->view->flags.realized)
         return;
 
     if (rPtr->drawBuffer)
-    XFreePixmap(rPtr->view->screen->display, rPtr->drawBuffer);
+        XFreePixmap(rPtr->view->screen->display, rPtr->drawBuffer);
 
     rPtr->drawBuffer = XCreatePixmap(rPtr->view->screen->display,
               rPtr->view->window, rPtr->view->size.width, 40,
                      rPtr->view->screen->depth);
     XFillRectangle(rPtr->view->screen->display, rPtr->drawBuffer,
-           rPtr->bg, 0, 0, rPtr->view->size.width, 40);
+                   rPtr->bgGC, 0, 0, rPtr->view->size.width, 40);
 }
 
 
-static void drawRulerOnPixmap(Ruler * rPtr)
+static void
+drawRulerOnPixmap(Ruler * rPtr)
 {
     int i, j, w, m;
     char c[3];
-    int marks[9] =
-    {11, 3, 5, 3, 7, 3, 5, 3};
+    int marks[9] = {11, 3, 5, 3, 7, 3, 5, 3};
 
     if (!rPtr->drawBuffer || !rPtr->view->flags.realized)
         return;
         
 
     XFillRectangle(rPtr->view->screen->display, rPtr->drawBuffer,
-           rPtr->bg, 0, 0, rPtr->view->size.width, 40);
+                   rPtr->bgGC, 0, 0, rPtr->view->size.width, 40);
 
     WMDrawString(rPtr->view->screen, rPtr->drawBuffer, rPtr->fg,
            rPtr->font, rPtr->margins.left + 2, 26, _("0   inches"), 10);
@@ -192,26 +195,26 @@
     i = j = m = 0;
     w = rPtr->view->size.width - rPtr->margins.left;
     while (m < w) {
-    XDrawLine(rPtr->view->screen->display, rPtr->drawBuffer,
-          rPtr->fg, rPtr->margins.left + m, 23,
-          rPtr->margins.left + m, marks[i % 8] + 23);
-    if (i != 0 && i % 8 == 0) {
-        if (j < 10)
-        snprintf(c, 3, "%d", ++j);
-        else
-        snprintf(c, 3, "%2d", ++j);
-        WMDrawString(rPtr->view->screen, rPtr->drawBuffer, rPtr->fg,
-               rPtr->font, rPtr->margins.left + 2 + m, 26, c, 2);
-    }
-    m = (++i) * 10;
+        XDrawLine(rPtr->view->screen->display, rPtr->drawBuffer,
+                  rPtr->fgGC, rPtr->margins.left + m, 23,
+                  rPtr->margins.left + m, marks[i % 8] + 23);
+        if (i != 0 && i % 8 == 0) {
+            if (j < 10)
+                snprintf(c, 3, "%d", ++j);
+            else
+                snprintf(c, 3, "%2d", ++j);
+            WMDrawString(rPtr->view->screen, rPtr->drawBuffer, rPtr->fg,
+                         rPtr->font, rPtr->margins.left + 2 + m, 26, c, 2);
+        }
+        m = (++i) * 10;
     }
 
     rPtr->end = rPtr->margins.left + m - 10;
     if (rPtr->margins.right > rPtr->end)
     rPtr->margins.right = rPtr->end;
     /* base line */
-    XDrawLine(rPtr->view->screen->display, rPtr->drawBuffer, rPtr->fg,
-          rPtr->margins.left, 22, rPtr->margins.left + m - 10, 22);
+    XDrawLine(rPtr->view->screen->display, rPtr->drawBuffer, rPtr->fgGC,
+              rPtr->margins.left, 22, rPtr->margins.left + m - 10, 22);
 
     drawLeftMarker(rPtr);
     drawRightMarker(rPtr);
@@ -222,7 +225,8 @@
 }
 
 
-static void paintRuler(Ruler * rPtr)
+static void
+paintRuler(Ruler * rPtr)
 {
     if (!rPtr->drawBuffer || !rPtr->view->flags.realized)
         return;
@@ -230,13 +234,13 @@
     if (rPtr->flags.redraw)
         drawRulerOnPixmap(rPtr);
     XCopyArea(rPtr->view->screen->display, rPtr->drawBuffer,
-      rPtr->view->window, rPtr->bg, 0, 0, rPtr->view->size.width, 40,
-          0, 0);
+              rPtr->view->window, rPtr->bgGC, 0, 0,
+              rPtr->view->size.width, 40, 0, 0);
 }
 
 
 static Bool
- verifyMarkerMove(Ruler * rPtr, int x)
+verifyMarkerMove(Ruler * rPtr, int x)
 {
     if (rPtr->flags.whichMarker < 1 || rPtr->flags.whichMarker > 6)
     return False;
@@ -281,7 +285,8 @@
 }
 
 
-static int whichMarker(Ruler * rPtr, int x, int y)
+static int
+whichMarker(Ruler * rPtr, int x, int y)
 {
     if (x < rPtr->offset || y > 22)
     return 0;
@@ -322,7 +327,8 @@
     return 0;
 }
 
-static void rulerDidResize(W_ViewDelegate * self, WMView * view)
+static void
+rulerDidResize(W_ViewDelegate * self, WMView * view)
 {
     Ruler *rPtr = (Ruler *) view->self;
 
@@ -333,7 +339,8 @@
 }
 
 
-static void handleEvents(XEvent * event, void *data)
+static void
+handleEvents(XEvent * event, void *data)
 {
     Ruler *rPtr = (Ruler *) data;
 
@@ -447,8 +454,9 @@
 
     rPtr->view->delegate = &_RulerViewDelegate;
 
-    rPtr->bg = WMColorGC(WMGrayColor(rPtr->view->screen));
-    rPtr->fg = WMColorGC(WMBlackColor(rPtr->view->screen));
+    rPtr->fg = WMBlackColor(rPtr->view->screen);
+    rPtr->fgGC = WMColorGC(rPtr->fg);
+    rPtr->bgGC = WMColorGC(WMGrayColor(rPtr->view->screen));
     rPtr->font = WMSystemFontOfSize(rPtr->view->screen, 8);
 
     rPtr->offset = 22;
@@ -471,7 +479,8 @@
 }
 
 
-void WMSetRulerMargins(WMRuler * rPtr, WMRulerMargins margins)
+void
+WMSetRulerMargins(WMRuler * rPtr, WMRulerMargins margins)
 {
     if (!rPtr)
     return;
@@ -530,7 +539,8 @@
 
 
 
-void WMSetRulerOffset(WMRuler * rPtr, int pixels)
+void
+WMSetRulerOffset(WMRuler * rPtr, int pixels)
 {
     if (!rPtr || pixels < 0 || pixels + MIN_DOC_WIDTH >= rPtr->view->size.width)
     return;
@@ -539,7 +549,8 @@
 }
 
 
-int WMGetRulerOffset(WMRuler * rPtr)
+int
+WMGetRulerOffset(WMRuler * rPtr)
 {
     if (!rPtr)
         return 0; /* what value should return if no ruler? -1 or 0? */
@@ -547,7 +558,8 @@
 }
 
 
-void WMSetRulerReleaseAction(WMRuler * rPtr, WMAction * action, void *clientData)
+void
+WMSetRulerReleaseAction(WMRuler * rPtr, WMAction * action, void *clientData)
 {
     if (!rPtr)
     return;
@@ -557,7 +569,8 @@
 }
 
 
-void WMSetRulerMoveAction(WMRuler * rPtr, WMAction * action, void *clientData)
+void
+WMSetRulerMoveAction(WMRuler * rPtr, WMAction * action, void *clientData)
 {
     if (!rPtr)
     return;
@@ -568,7 +581,8 @@
 
 
 /* _which_ one was released */
-int WMGetReleasedRulerMargin(WMRuler * rPtr)
+int
+WMGetReleasedRulerMargin(WMRuler * rPtr)
 {
     if (!rPtr)
     return 0;
@@ -577,7 +591,8 @@
 
 
 /* _which_ one is being grabbed */
-int WMGetGrabbedRulerMargin(WMRuler * rPtr)
+int
+WMGetGrabbedRulerMargin(WMRuler * rPtr)
 {
     if (!rPtr)
         return 0;
diff -Naur WindowMaker-0.80.2/WINGs/wscrollview.c wm-xft2/WINGs/wscrollview.c
--- WindowMaker-0.80.2/WINGs/wscrollview.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/wscrollview.c	2003-10-22 14:08:34.000000000 +0400
@@ -246,15 +246,16 @@
 	h += 4;
 	x = 1;
     }
-    
+
     if (sPtr->flags.hasVScroller) {
-	width -= W_VIEW(sPtr->hScroller)->size.width;
 	WMResizeWidget(sPtr->vScroller, 20, h);
-    }    
+	width -= W_VIEW(sPtr->vScroller)->size.width;
+    }
+
     if (sPtr->flags.hasHScroller) {
-	height -= W_VIEW(sPtr->hScroller)->size.height;
 	WMResizeWidget(sPtr->hScroller, w, 20);
 	WMMoveWidget(sPtr->hScroller, x, h);
+	height -= W_VIEW(sPtr->hScroller)->size.height;
     }
 
     W_ResizeView(sPtr->view, w, h);
diff -Naur WindowMaker-0.80.2/WINGs/wslider.c wm-xft2/WINGs/wslider.c
--- WindowMaker-0.80.2/WINGs/wslider.c	2002-03-29 14:14:17.000000000 +0300
+++ wm-xft2/WINGs/wslider.c	2003-10-22 14:08:34.000000000 +0400
@@ -52,7 +52,6 @@
 
 static void destroySlider(Slider *sPtr);
 static void paintSlider(Slider *sPtr);
-static void realizeSlider(Slider *sPtr);
 
 static void handleEvents(XEvent *event, void *data);
 static void handleActionEvents(XEvent *event, void *data);
@@ -62,11 +61,11 @@
 static void
 realizeObserver(void *self, WMNotification *not)
 {
-    realizeSlider(self);
+    makeKnobPixmap(self);
 }
 
 
-	      
+
 WMSlider*
 WMCreateSlider(WMWidget *parent)
 {
@@ -103,8 +102,8 @@
     sPtr->knobThickness = 20;
 
     sPtr->flags.continuous = 1;
-    
-    WMAddNotificationObserver(realizeObserver, sPtr, 
+
+    WMAddNotificationObserver(realizeObserver, sPtr,
 			      WMViewRealizedNotification, sPtr->view);
 
     return sPtr;
@@ -295,15 +294,6 @@
 
 
 static void
-realizeSlider(Slider *sPtr)
-{
-    W_RealizeView(sPtr->view);
-
-    makeKnobPixmap(sPtr);
-}
-
-
-static void
 didResizeSlider(W_ViewDelegate *self, WMView *view)
 {
     Slider *sPtr = (Slider*)view->self;
diff -Naur WindowMaker-0.80.2/WINGs/wtabview.c wm-xft2/WINGs/wtabview.c
--- WindowMaker-0.80.2/WINGs/wtabview.c	2002-03-29 14:14:17.000000000 +0300
+++ wm-xft2/WINGs/wtabview.c	2003-10-22 14:08:34.000000000 +0400
@@ -660,7 +660,7 @@
     XDrawLine(dpy, d, white, trap[1].x, trap[1].y, trap[2].x, trap[2].y);
     XDrawLine(dpy, d, white, trap[2].x, trap[2].y, trap[3].x, trap[3].y);
     XDrawLine(dpy, d, white, trap[3].x, trap[3].y, trap[4].x, trap[4].y);
-    XDrawLine(dpy, d, dark, trap[4].x, trap[4].y, trap[5].x, trap[5].y);
+    XDrawLine(dpy, d, dark,  trap[4].x, trap[4].y, trap[5].x, trap[5].y);
     XDrawLine(dpy, d, black, trap[5].x, trap[5].y, trap[6].x, trap[6].y);
     XDrawLine(dpy, d, black, trap[6].x, trap[6].y, trap[7].x, trap[7].y);
 
@@ -882,7 +882,7 @@
     if (!item->label)
 	return;
 
-    WMDrawString(scr, d, WMColorGC(enabled ? scr->black : scr->darkGray),
+    WMDrawString(scr, d, enabled ? scr->black : scr->darkGray,
 		 item->tabView->font, rect.pos.x, rect.pos.y, 
 		 item->label, strlen(item->label));
 }
diff -Naur WindowMaker-0.80.2/WINGs/wtext.c wm-xft2/WINGs/wtext.c
--- WindowMaker-0.80.2/WINGs/wtext.c	2002-04-05 13:24:26.000000000 +0400
+++ wm-xft2/WINGs/wtext.c	2003-10-22 14:08:34.000000000 +0400
@@ -106,8 +106,9 @@
     WMColor *dColor;            /* the default color */
     WMPixmap *dBulletPix;       /* the default pixmap for bullets */
 
-    GC bgGC;                    /* the background GC to draw with */
-    GC fgGC;                    /* the foreground GC to draw with */
+    WMColor *fgColor;           /* The current foreground color */
+    WMColor *bgColor;           /* The background color */
+
     GC stippledGC;              /* the GC to overlay selected graphics with */
     Pixmap db;                  /* the buffer on which to draw */
     WMPixmap *bgPixmap;         /* the background pixmap */
@@ -421,7 +422,7 @@
     if (!tb || !tPtr->flags.ownsSelection)
         return;
 
-    if(font && (!color || underlined==-1))
+    if (font && (!color || underlined==-1))
         isFont = True;
 
     while (tb) {
@@ -566,9 +567,10 @@
         tb = tb->next;
     }
     return True;
-} 
-    
-static TextBlock *
+}
+
+
+static TextBlock*
 getFirstNonGraphicBlockFor(TextBlock *tb, short dir)
 {
     TextBlock *hold = tb;
@@ -645,10 +647,9 @@
 
 static void 
 paintText(Text *tPtr)
-{   
+{
     TextBlock *tb;
     WMFont *font;
-    GC gc, greyGC;
     char *text;
     int len, y, c, s, done=False, prev_y=-23, dir /* 1 = down */;
     WMScreen *scr = tPtr->view->screen;
@@ -660,8 +661,8 @@
         return;
 
 
-    XFillRectangle(dpy, tPtr->db, tPtr->bgGC, 
-       0, 0, tPtr->visible.w, tPtr->visible.h);
+    XFillRectangle(dpy, tPtr->db, WMColorGC(tPtr->bgColor), 0, 0,
+                   tPtr->visible.w, tPtr->visible.h);
 
     if (tPtr->bgPixmap) {
         WMDrawPixmap(tPtr->bgPixmap, tPtr->db, 
@@ -674,12 +675,6 @@
             goto _copy_area;
         }
     }
-        
-    if (tPtr->flags.ownsSelection) {
-        color = WMGrayColor(scr);
-        greyGC = WMColorGC(color);
-        WMReleaseColor(color);
-    }
 
     done = False;
 
@@ -721,8 +716,6 @@
 
     /* first, place all text that can be viewed */
     while (!done && tb) {
-
-
         if (tb->graphic) {
             tb = tb->next;
             continue;
@@ -742,18 +735,18 @@
 
             if (tPtr->flags.monoFont) {
                 font = tPtr->dFont;
-                gc = tPtr->fgGC;
+                color = tPtr->fgColor;
             } else {
                 font = tb->d.font;
-                gc = WMColorGC(tb->color);
+                color = tb->color;
             }
 
             if (tPtr->flags.ownsSelection) {
                 XRectangle rect;
 
-                if ( sectionWasSelected(tPtr, tb, &rect, s)) {
+                if (sectionWasSelected(tPtr, tb, &rect, s)) {
                     tb->selected = True;
-                    XFillRectangle(dpy, tPtr->db, greyGC, 
+                    XFillRectangle(dpy, tPtr->db, WMColorGC(scr->gray),
                         rect.x, rect.y, rect.width, rect.height);
                 }
             }
@@ -763,23 +756,20 @@
             len = tb->sections[s].end - tb->sections[s].begin;
             text = &(tb->text[tb->sections[s].begin]);
             y = tb->sections[s].y - tPtr->vpos;
-            WMDrawString(scr, tPtr->db, gc, font, 
-                tb->sections[s].x - tPtr->hpos, y, text, len);
+            WMDrawString(scr, tPtr->db, color, font,
+                         tb->sections[s].x - tPtr->hpos, y, text, len);
 
             if (!tPtr->flags.monoFont && tb->underlined) { 
-                XDrawLine(dpy, tPtr->db, gc,     
-                    tb->sections[s].x - tPtr->hpos, 
-                    y + font->y + 1,
-                    tb->sections[s].x + tb->sections[s].w - tPtr->hpos,
-                    y + font->y + 1);
+                XDrawLine(dpy, tPtr->db, WMColorGC(color),
+                          tb->sections[s].x - tPtr->hpos,
+                          y + font->y + 1,
+                          tb->sections[s].x + tb->sections[s].w - tPtr->hpos,
+                          y + font->y + 1);
             }
-                        
         }
-
         tb = (!done? tb->next : NULL);
-
     }
-            
+
     /* now , show all graphic items that can be viewed */
     c = WMGetArrayItemCount(tPtr->gfxItems);
     if (c > 0 && !tPtr->flags.monoFont) {
@@ -855,22 +845,22 @@
     if (tPtr->flags.editable && tPtr->flags.cursorShown 
         && tPtr->cursor.x != -23 && tPtr->flags.focused) { 
         int y = tPtr->cursor.y - tPtr->vpos;
-        XDrawLine(dpy, tPtr->db, tPtr->fgGC,
-            tPtr->cursor.x, y,
-            tPtr->cursor.x, y + tPtr->cursor.h);
+        XDrawLine(dpy, tPtr->db, WMColorGC(tPtr->fgColor),
+                  tPtr->cursor.x, y,
+                  tPtr->cursor.x, y + tPtr->cursor.h);
     }
 
-    XCopyArea(dpy, tPtr->db, win, tPtr->bgGC, 0, 0,
-        tPtr->visible.w, tPtr->visible.h, 
-        tPtr->visible.x, tPtr->visible.y);
+    XCopyArea(dpy, tPtr->db, win, WMColorGC(tPtr->bgColor), 0, 0,
+              tPtr->visible.w, tPtr->visible.h,
+              tPtr->visible.x, tPtr->visible.y);
 
     W_DrawRelief(scr, win, 0, 0,
         tPtr->view->size.width, tPtr->view->size.height, 
         tPtr->flags.relief);        
 
     if (tPtr->ruler && tPtr->flags.rulerShown)
-        XDrawLine(dpy, win, tPtr->fgGC, 
-            2, 42, tPtr->view->size.width-4, 42);
+        XDrawLine(dpy, win, WMColorGC(tPtr->fgColor),
+                  2, 42, tPtr->view->size.width-4, 42);
 
 }
 
@@ -1483,7 +1473,8 @@
             
         } else { 
             font = (tPtr->flags.monoFont)?tPtr->dFont : tb->d.font;
-            max_d = WMAX(max_d, abs(font->height-font->y)); 
+            /*max_d = WMAX(max_d, abs(font->height-font->y));*/
+            max_d = 2;
             line_height = WMAX(line_height, font->height + max_d);
             text = &(tb->text[items[i].begin]);
             len = items[i].end - items[i].begin;
@@ -2357,7 +2348,8 @@
                 goto L_imaGFX;
             
             if(tPtr->tpos==0) { 
-L_imaGFX:       if(tb->prior) {
+            L_imaGFX:
+                if(tb->prior) {
                     tPtr->currentTextBlock = tb->prior;
                     if(tPtr->currentTextBlock->graphic)
                         tPtr->tpos = 1;
@@ -2378,7 +2370,8 @@
             if(tb->graphic) 
                 goto R_imaGFX;
            if(tPtr->tpos == tb->used) {
-R_imaGFX:      if(tb->next) {
+           R_imaGFX:
+               if(tb->next) {
                     tPtr->currentTextBlock = tb->next;
                     tPtr->tpos = 0;
                     if(!tb->next->first && tb->next->used>0)
@@ -2439,15 +2432,16 @@
             Bool i = !tPtr->flags.rulerShown; 
             WMShowTextRuler(tPtr, i);
             tPtr->flags.rulerShown = i;
-         }   
-        else if (control_pressed && *buffer == '') 
+        } else if (control_pressed && *buffer == '\a') {
             XBell(tPtr->view->screen->display, 0);
-    else    
-        WMRelayToNextResponder(tPtr->view, event);
+        } else {
+            WMRelayToNextResponder(tPtr->view, event);
+        }
     }
 
-    if (!control_pressed && tPtr->flags.ownsSelection) 
+    if (!control_pressed && tPtr->flags.ownsSelection) {
         releaseSelection(tPtr);
+    }
 }
 
 
@@ -3138,30 +3132,27 @@
     tPtr->view->attribFlags |= CWOverrideRedirect | CWCursor;
     W_ResizeView(tPtr->view, 250, 200);
 
-    tPtr->dColor = WMWhiteColor(scr);
-    tPtr->bgGC = WMColorGC(tPtr->dColor);
-    W_SetViewBackgroundColor(tPtr->view, tPtr->dColor);
-    WMReleaseColor(tPtr->dColor);
-
     tPtr->dColor = WMBlackColor(scr);
-    tPtr->fgGC = WMColorGC(tPtr->dColor);
+    tPtr->fgColor = WMBlackColor(scr);
+    tPtr->bgColor = WMWhiteColor(scr);
+    W_SetViewBackgroundColor(tPtr->view, tPtr->bgColor);
 
     gcv.graphics_exposures = False;
     gcv.foreground = W_PIXEL(scr->gray);
     gcv.background = W_PIXEL(scr->darkGray);
     gcv.fill_style = FillStippled;
     /* why not use scr->stipple here? */
-    gcv.stipple = XCreateBitmapFromData(dpy, W_DRAWABLE(scr),
-        STIPPLE_BITS, STIPPLE_WIDTH, STIPPLE_HEIGHT);
+    gcv.stipple = XCreateBitmapFromData(dpy, W_DRAWABLE(scr), STIPPLE_BITS,
+                                        STIPPLE_WIDTH, STIPPLE_HEIGHT);
     tPtr->stippledGC = XCreateGC(dpy, W_DRAWABLE(scr),
-        GCForeground|GCBackground|GCStipple
-        |GCFillStyle|GCGraphicsExposures, &gcv);
-                  
+                                 GCForeground|GCBackground|GCStipple
+                                 |GCFillStyle|GCGraphicsExposures, &gcv);
+
     tPtr->ruler = NULL;
     tPtr->vS = NULL;
     tPtr->hS = NULL;
 
-    tPtr->dFont = WMRetainFont(WMSystemFontOfSize(scr, 12));
+    tPtr->dFont = WMSystemFontOfSize(scr, 12);
 
     tPtr->view->delegate = &_TextViewDelegate;
 
@@ -3314,31 +3305,37 @@
 }
 
 
-char * 
+char*
 WMGetTextStream(WMText *tPtr)
-{    
+{
     CHECK_CLASS(tPtr, WC_Text);
+
     return getStream(tPtr, 0, 0);
 }
 
-char * 
+
+char*
 WMGetTextSelectedStream(WMText *tPtr)
-{    
+{
     CHECK_CLASS(tPtr, WC_Text);
+
     return getStream(tPtr, 1, 0);
 }
 
-WMArray *
+
+WMArray*
 WMGetTextObjects(WMText *tPtr)
 {
     CHECK_CLASS(tPtr, WC_Text);
+
     return getStreamObjects(tPtr, 0);
 }
 
-WMArray *
+WMArray*
 WMGetTextSelectedObjects(WMText *tPtr)
 {
     CHECK_CLASS(tPtr, WC_Text);
+
     return getStreamObjects(tPtr, 1);
 }
 
@@ -3352,7 +3349,7 @@
 }
 
 
-void *
+void*
 WMCreateTextBlockWithObject(WMText *tPtr, WMWidget *w,
                             char *description, WMColor *color,
                             unsigned short first, unsigned short extraInfo)
@@ -3363,8 +3360,6 @@
         return NULL;
 
     tb = wmalloc(sizeof(TextBlock));
-    if (!tb)
-         return NULL;
 
     tb->text = wstrdup(description);
     tb->used = strlen(description);
@@ -3387,9 +3382,9 @@
 
     return tb;
 }
-    
 
-void *
+
+void*
 WMCreateTextBlockWithPixmap(WMText *tPtr, WMPixmap *p, 
                             char *description, WMColor *color,
                             unsigned short first, unsigned short extraInfo)
@@ -3400,8 +3395,6 @@
         return NULL;
 
     tb = wmalloc(sizeof(TextBlock));
-    if (!tb)
-         return NULL;
 
     tb->text = wstrdup(description);
     tb->used = strlen(description);
@@ -3436,8 +3429,6 @@
         return NULL;
 
     tb = wmalloc(sizeof(TextBlock));
-    if (!tb)
-         return NULL;
 
     tb->allocated = reqBlockSize(len);
     tb->text = (char *)wmalloc(tb->allocated);
@@ -3470,6 +3461,7 @@
     return tb;
 }
 
+
 void 
 WMSetTextBlockProperties(WMText *tPtr, void *vtb, unsigned int first, 
     unsigned int kanji, unsigned int underlined, int script, 
@@ -3485,8 +3477,9 @@
     tb->script = script;
     tb->marginN = newMargin(tPtr, margins);
 }
-    
-void 
+
+
+void
 WMGetTextBlockProperties(WMText *tPtr, void *vtb, unsigned int *first, 
     unsigned int *kanji, unsigned int *underlined, int *script, 
     WMRulerMargins *margins)
@@ -3501,15 +3494,14 @@
     if (script) *script = tb->script;
     if (margins) margins = &tPtr->margins[tb->marginN];
 }
-    
 
 
-void 
+void
 WMPrependTextBlock(WMText *tPtr, void *vtb)
 {
     TextBlock *tb = (TextBlock *)vtb;
 
-    if (!tPtr || !tb)
+    if (!tb)
         return;
 
     if (tb->graphic) {
@@ -3550,14 +3542,14 @@
 
     tPtr->currentTextBlock = tb;
 }
-    
 
-void 
+
+void
 WMAppendTextBlock(WMText *tPtr, void *vtb)
 {
     TextBlock *tb = (TextBlock *)vtb;
 
-    if (!tPtr || !tb)
+    if (!tb)
         return;
 
     if (tb->graphic) {
@@ -3608,8 +3600,8 @@
 {
     TextBlock *tb = NULL;
 
-    if (!tPtr || !tPtr->firstTextBlock || !tPtr->lastTextBlock
-            || !tPtr->currentTextBlock) {
+    if (!tPtr->firstTextBlock || !tPtr->lastTextBlock ||
+        !tPtr->currentTextBlock) {
         return NULL;
     }
 
@@ -3657,7 +3649,7 @@
 WMDestroyTextBlock(WMText *tPtr, void *vtb)
 {
     TextBlock *tb = (TextBlock *)vtb;
-    if (!tPtr || !tb)
+    if (!tb)
         return;
 
     if (tb->graphic) {
@@ -3668,8 +3660,8 @@
             /* 5 months later... destroy it 10 seconds after now which should
              * be enough time for the widget's action to be completed... :-) */
             /* This is a bad assumption. Just destroy the widget here.
-            // if the caller needs it, it can protect it with W_RetainView()
-            //WMAddTimerHandler(10000, destroyWidget, (void *)tb->d.widget);*/
+             * if the caller needs it, it can protect it with W_RetainView()
+             * WMAddTimerHandler(10000, destroyWidget, (void *)tb->d.widget);*/
             WMDestroyWidget(tb->d.widget);
         } else {
             WMReleasePixmap(tb->d.pixmap);
@@ -3690,43 +3682,31 @@
 void
 WMSetTextForegroundColor(WMText *tPtr, WMColor *color)
 {
-    if (!tPtr)
-        return;
+    if (tPtr->fgColor)
+        WMReleaseColor(tPtr->fgColor);
 
-    if (color) 
-        tPtr->fgGC = WMColorGC(color);
-    else {
-        WMColor *color = WMBlackColor(tPtr->view->screen);
-        tPtr->fgGC = WMColorGC(color);
-        WMReleaseColor(color);
-    }
+    tPtr->fgColor = WMRetainColor(color ? color : tPtr->view->screen->black);
 
     paintText(tPtr);
 }
 
+
 void
 WMSetTextBackgroundColor(WMText *tPtr, WMColor *color)
 {
-    if (!tPtr)
-        return;
+    if (tPtr->bgColor)
+        WMReleaseColor(tPtr->bgColor);
 
-    if (color) {
-        tPtr->bgGC = WMColorGC(color);
-        W_SetViewBackgroundColor(tPtr->view, color);
-    } else {
-        tPtr->bgGC = WMColorGC(WMWhiteColor(tPtr->view->screen));
-        W_SetViewBackgroundColor(tPtr->view, 
-            WMWhiteColor(tPtr->view->screen));
-    }
+    tPtr->bgColor = WMRetainColor(color ? color : tPtr->view->screen->white);
+    W_SetViewBackgroundColor(tPtr->view, tPtr->bgColor);
 
     paintText(tPtr);
 }
 
-void WMSetTextBackgroundPixmap(WMText *tPtr, WMPixmap *pixmap)
-{
-    if (!tPtr)
-        return;
 
+void
+WMSetTextBackgroundPixmap(WMText *tPtr, WMPixmap *pixmap)
+{
     if (tPtr->bgPixmap)
         WMReleasePixmap(tPtr->bgPixmap);
  
@@ -3736,21 +3716,18 @@
         tPtr->bgPixmap = NULL;
 }
 
+
 void
 WMSetTextRelief(WMText *tPtr, WMReliefType relief)
 {
-    if (!tPtr)
-         return;
     tPtr->flags.relief = relief;
     textDidResize(tPtr->view->delegate, tPtr->view);
 }
 
+
 void 
 WMSetTextHasHorizontalScroller(WMText *tPtr, Bool shouldhave)
 {
-    if (!tPtr) 
-        return;
-
     if (shouldhave && !tPtr->hS) {
         tPtr->hS = WMCreateScroller(tPtr); 
         (W_VIEW(tPtr->hS))->attribs.cursor = tPtr->view->screen->defaultCursor;
@@ -3773,9 +3750,6 @@
 void
 WMSetTextHasRuler(WMText *tPtr, Bool shouldhave)
 {
-    if (!tPtr) 
-        return;
-        
     if(shouldhave && !tPtr->ruler) {
         tPtr->ruler = WMCreateRuler(tPtr);
         (W_VIEW(tPtr->ruler))->attribs.cursor =
@@ -3794,8 +3768,6 @@
 void
 WMShowTextRuler(WMText *tPtr, Bool show)
 {
-    if(!tPtr)
-        return;
     if(!tPtr->ruler)
         return;
 
@@ -3810,16 +3782,14 @@
     }
     
     textDidResize(tPtr->view->delegate, tPtr->view);
-}   
+}
+
 
 Bool
 WMGetTextRulerShown(WMText *tPtr)
 {
-    if(!tPtr)
-        return 0;
-
     if(!tPtr->ruler)
-        return 0;
+        return False;
 
     return tPtr->flags.rulerShown;
 }
@@ -3828,9 +3798,6 @@
 void 
 WMSetTextHasVerticalScroller(WMText *tPtr, Bool shouldhave)
 {
-    if (!tPtr) 
-        return;
-        
     if (shouldhave && !tPtr->vS) {
         tPtr->vS = WMCreateScroller(tPtr); 
         (W_VIEW(tPtr->vS))->attribs.cursor = tPtr->view->screen->defaultCursor;
@@ -3849,17 +3816,15 @@
     textDidResize(tPtr->view->delegate, tPtr->view);
 }
 
-    
 
 Bool
 WMScrollText(WMText *tPtr, int amount)
 {
     Bool scroll=False;
-    if (!tPtr)
-        return False;
+
     if (amount == 0 || !tPtr->view->flags.realized)
         return False;
-    
+
     if (amount < 0) {
         if (tPtr->vpos > 0) {
             if (tPtr->vpos > abs(amount)) tPtr->vpos += amount;
@@ -3881,63 +3846,53 @@
     }   
     tPtr->prevVpos = tPtr->vpos;
     return scroll;
-}   
+}
 
-Bool 
+
+Bool
 WMPageText(WMText *tPtr, Bool direction)
 {
-    if (!tPtr) return False;
-    if (!tPtr->view->flags.realized) return False;
+    if (!tPtr->view->flags.realized)
+        return False;
 
     return WMScrollText(tPtr, direction?tPtr->visible.h:-tPtr->visible.h);
 }
 
+
 void
 WMSetTextEditable(WMText *tPtr, Bool editable)
 {
-    if (!tPtr)
-        return;
     tPtr->flags.editable = editable;
 }
-    
-int 
+
+
+int
 WMGetTextEditable(WMText *tPtr)
 {
-    if (!tPtr)
-        return 0;
     return tPtr->flags.editable;
 }
 
 void
 WMSetTextIndentNewLines(WMText *tPtr, Bool indent)
 {
-    if (!tPtr)
-        return;
     tPtr->flags.indentNewLine = indent;
 }
 
 void
 WMSetTextIgnoresNewline(WMText *tPtr, Bool ignore)
 {
-    if (!tPtr)
-        return;
     tPtr->flags.ignoreNewLine = ignore;
 }
 
 Bool
 WMGetTextIgnoresNewline(WMText *tPtr)
 {
-    if (!tPtr)
-        return True;
     return tPtr->flags.ignoreNewLine;
 }
 
 void
 WMSetTextUsesMonoFont(WMText *tPtr, Bool mono)
 {
-    if (!tPtr)
-        return;
-
     if (mono) { 
         if(tPtr->flags.rulerShown)
             WMShowTextRuler(tPtr, False);
@@ -3952,8 +3907,6 @@
 Bool
 WMGetTextUsesMonoFont(WMText *tPtr)
 {
-    if (!tPtr)
-        return True;
     return tPtr->flags.monoFont;
 }
 
@@ -3961,52 +3914,48 @@
 void
 WMSetTextDefaultFont(WMText *tPtr, WMFont *font)
 {
-    if (!tPtr)
-        return;
-        
-    WMReleaseFont(tPtr->dFont);
-    if (font)
+    if (tPtr->dFont)
+        WMReleaseFont(tPtr->dFont);
+
+    if (font) {
         tPtr->dFont = WMRetainFont(font);
-    else
-        tPtr->dFont = WMRetainFont(WMSystemFontOfSize(tPtr->view->screen, 12));
+    } else {
+        tPtr->dFont = WMSystemFontOfSize(tPtr->view->screen, 12);
+    }
 }
 
-WMFont *
+
+WMFont*
 WMGetTextDefaultFont(WMText *tPtr)
 {
-    if (!tPtr)
-        return NULL;
-    else
-        return WMRetainFont(tPtr->dFont);
+    return WMRetainFont(tPtr->dFont);
 }
 
+
 void
 WMSetTextDefaultColor(WMText *tPtr, WMColor *color)
 {
-    if (!tPtr)
-        return;
-        
-    WMReleaseColor(tPtr->dColor);
-    if (color)
+    if (tPtr->dColor)
+        WMReleaseColor(tPtr->dColor);
+
+    if (color) {
         tPtr->dColor = WMRetainColor(color);
-    else
+    } else {
         tPtr->dColor = WMBlackColor(tPtr->view->screen);
+    }
 }
 
-WMColor *
+
+WMColor*
 WMGetTextDefaultColor(WMText *tPtr)
 {
-    if (!tPtr)
-        return NULL;
-    else
-        return WMRetainColor(tPtr->dColor);
+    return tPtr->dColor;
 }
 
+
 void
 WMSetTextAlignment(WMText *tPtr, WMAlignment alignment)
 {
-    if (!tPtr) 
-        return;
     if(tPtr->flags.monoFont)
         tPtr->flags.alignment = WALeft;
     else
@@ -4014,32 +3963,26 @@
     WMThawText(tPtr);
 }
 
-int 
+
+int
 WMGetTextInsertType(WMText *tPtr)
 {
-    if (!tPtr)
-        return 0;
     return tPtr->flags.prepend;
 }
-    
+
 
 void 
 WMSetTextSelectionColor(WMText *tPtr, WMColor *color)
 {
-    if (!tPtr || !color)
-        return;
-
     setSelectionProperty(tPtr, NULL, color, -1);
 }
 
-WMColor *
+
+WMColor*
 WMGetTextSelectionColor(WMText *tPtr)
 {
     TextBlock *tb;
 
-    if (!tPtr)
-        return NULL;
-
     tb = tPtr->currentTextBlock;
 
     if (!tb || !tPtr->flags.ownsSelection)
@@ -4051,24 +3994,19 @@
     return tb->color;
 }
 
-            
-void 
+
+void
 WMSetTextSelectionFont(WMText *tPtr, WMFont *font)
 {
-    if (!tPtr || !font)
-        return;
-    
     setSelectionProperty(tPtr, font, NULL, -1) ;
 }
 
-WMFont *
+
+WMFont*
 WMGetTextSelectionFont(WMText *tPtr)
 {
     TextBlock *tb;
 
-    if (!tPtr)
-        return NULL;
-
     tb = tPtr->currentTextBlock;
 
     if (!tb || !tPtr->flags.ownsSelection)
@@ -4085,25 +4023,23 @@
     return (tb->selected ? tb->d.font : NULL);
 }
 
-            
-void 
+
+void
 WMSetTextSelectionUnderlined(WMText *tPtr, int underlined)
 {
-    if (!tPtr || (underlined!=0 && underlined !=1))
+    // check this
+    if (underlined!=0 && underlined!=1)
         return;
-    
+
     setSelectionProperty(tPtr, NULL, NULL, underlined);
 }
 
 
-int 
+int
 WMGetTextSelectionUnderlined(WMText *tPtr)
 {
     TextBlock *tb;
 
-    if (!tPtr)
-        return 0;
-
     tb = tPtr->currentTextBlock;
 
     if (!tb || !tPtr->flags.ownsSelection)
@@ -4119,9 +4055,6 @@
 void
 WMFreezeText(WMText *tPtr) 
 {
-    if (!tPtr)
-        return;
-
     tPtr->flags.frozen = True;
 }
 
@@ -4129,9 +4062,6 @@
 void
 WMThawText(WMText *tPtr) 
 {
-    if (!tPtr)
-        return;
-
     tPtr->flags.frozen = False;
 
     if(tPtr->flags.monoFont) {
@@ -4207,16 +4137,14 @@
 }
 
 
-Bool 
-WMFindInTextStream(WMText *tPtr, char *needle, Bool direction, 
-    Bool caseSensitive)
+Bool
+WMFindInTextStream(WMText *tPtr, char *needle, Bool direction,
+                   Bool caseSensitive)
 {
     TextBlock *tb;
     char *mark=NULL;
     unsigned short pos;
 
-    if (!tPtr || !needle)
-        return False;
 
 #if 0
     if (! (tb = tPtr->currentTextBlock)) {
@@ -4301,9 +4229,6 @@
 Bool
 WMReplaceTextSelection(WMText *tPtr, char *replacement) 
 {
-    if (!tPtr)
-        return False;
-
     if (!tPtr->flags.ownsSelection)
         return False;
 
diff -Naur WindowMaker-0.80.2/WINGs/wtextfield.c wm-xft2/WINGs/wtextfield.c
--- WindowMaker-0.80.2/WINGs/wtextfield.c	2002-07-02 04:30:25.000000000 +0400
+++ wm-xft2/WINGs/wtextfield.c	2003-10-22 14:08:34.000000000 +0400
@@ -757,6 +757,7 @@
 		   tPtr->view->size.height - 2*tPtr->offsetWidth - 1);
 	printf("%d %d\n",cx,tPtr->cursorPosition);
      */
+
     XDrawLine(screen->display, tPtr->view->window, screen->xorGC,
 	      cx, tPtr->offsetWidth, cx,
 	      tPtr->view->size.height - tPtr->offsetWidth - 1);
@@ -816,8 +817,9 @@
     int totalWidth;
     char *text;
     Pixmap drawbuffer;
+    WMColor *color;
+
 
-    
     if (!view->flags.realized || !view->flags.mapped)
 	return;
 
@@ -834,7 +836,7 @@
     }
 
     totalWidth = tPtr->view->size.width - 2*bd;
-    
+
     drawbuffer = XCreatePixmap(screen->display, view->window,
             view->size.width, view->size.height, screen->depth);
     XFillRectangle(screen->display, drawbuffer, WMColorGC(screen->white),
@@ -848,7 +850,7 @@
     if (tPtr->textLen > 0) {
     	tw = WMWidthOfString(tPtr->font, &(text[tPtr->viewPosition]),
 			     tPtr->textLen - tPtr->viewPosition);
-    
+
 	th = WMFontHeight(tPtr->font);
 
 	ty = tPtr->offsetWidth;
@@ -877,12 +879,10 @@
 	    break;
 	}
 
-        if (!tPtr->flags.enabled)
-            WMSetColorInGC(screen->darkGray, screen->textFieldGC);
+        color = tPtr->flags.enabled ? screen->black : screen->darkGray;
 
-        WMDrawImageString(screen, drawbuffer, screen->textFieldGC,
-                          tPtr->font, tx, ty,
-                          &(text[tPtr->viewPosition]),
+        WMDrawImageString(screen, drawbuffer, color, screen->white,
+                          tPtr->font, tx, ty, &(text[tPtr->viewPosition]),
                           tPtr->textLen - tPtr->viewPosition);
 
         if (tPtr->selection.count) {
@@ -897,27 +897,15 @@
                 count = tPtr->viewPosition;
             }
 
-
             rx = tPtr->offsetWidth + 1 + WMWidthOfString(tPtr->font,text,count)
                 - WMWidthOfString(tPtr->font,text,tPtr->viewPosition);
 
-            XSetBackground(screen->display, screen->textFieldGC,
-                    screen->gray->color.pixel);
-
-            WMDrawImageString(screen, drawbuffer, screen->textFieldGC,
-                    tPtr->font, rx, ty, &(text[count]),
-                    count2);
-
-            XSetBackground(screen->display, screen->textFieldGC,
-                    screen->white->color.pixel);
+            WMDrawImageString(screen, drawbuffer, color, screen->gray,
+                              tPtr->font, rx, ty, &(text[count]), count2);
         }
-
-        if (!tPtr->flags.enabled)
-            WMSetColorInGC(screen->black, screen->textFieldGC);
     } else {
-            XFillRectangle(screen->display, drawbuffer,
-			   WMColorGC(screen->white),
-			   bd,bd, totalWidth,view->size.height-2*bd);
+        XFillRectangle(screen->display, drawbuffer, WMColorGC(screen->white),
+                       bd, bd, totalWidth,view->size.height-2*bd);
     }
 
     /* draw relief */
@@ -1347,12 +1335,13 @@
     if (tPtr->flags.bordered)
 	x -= 2;
 
-    a = tPtr->viewPosition;
-    b = tPtr->viewPosition + tPtr->textLen;
     if (WMWidthOfString(tPtr->font, &(tPtr->text[tPtr->viewPosition]), 
 			tPtr->textLen - tPtr->viewPosition) < x)
 	return tPtr->textLen;
 
+    a = tPtr->viewPosition;
+    b = tPtr->textLen;
+
     while (a < b && b-a>1) {
 	mid = (a+b)/2;
 	tw = WMWidthOfString(tPtr->font, &(tPtr->text[tPtr->viewPosition]), 
@@ -1364,6 +1353,7 @@
 	else
 	    return mid;
     }
+
     return (a+b)/2;
 }
 
@@ -1406,6 +1396,7 @@
     TextField *tPtr = (TextField*)data;
     static int move = 0;
     static Time lastButtonReleasedEvent = 0;
+	static Time lastButtonReleasedEvent2 = 0;
     Display *dpy = event->xany.display;
     
     CHECK_CLASS(data, WC_TextField);
@@ -1564,9 +1555,31 @@
         if (!tPtr->flags.secure &&
             event->xbutton.time - lastButtonReleasedEvent
             <= WINGsConfiguration.doubleClickDelay) {
-	    tPtr->selection.position = 0;
-	    tPtr->selection.count = tPtr->textLen;
-	    paintTextField(tPtr);
+
+			if (event->xbutton.time - lastButtonReleasedEvent2 <= 2*WINGsConfiguration.doubleClickDelay) {
+				tPtr->selection.position = 0;
+				tPtr->selection.count = tPtr->textLen;
+			} else {
+				int pos, cnt;
+				char *txt;
+				pos = tPtr->selection.position;
+				cnt = tPtr->selection.count;
+				txt = tPtr->text;
+				while(pos >= 0) {
+					if (txt[pos] == ' ' || txt[pos] == '\t') break;
+					pos--;
+				}
+				pos++;
+
+				while(pos + cnt < tPtr->textLen) {
+					if (txt[pos + cnt] == ' ' || txt[pos + cnt] == '\t')
+						break;
+					cnt++;
+				}
+				tPtr->selection.position = pos;
+				tPtr->selection.count = cnt;
+			}
+            paintTextField(tPtr);
 	    
 	    if (!tPtr->flags.ownsSelection) {
                 tPtr->flags.ownsSelection =
@@ -1584,6 +1597,7 @@
                                          &selectionHandler, NULL);
         }
 
+	lastButtonReleasedEvent2 = lastButtonReleasedEvent;
 	lastButtonReleasedEvent = event->xbutton.time;
 		
         break;
diff -Naur WindowMaker-0.80.2/WINGs/wutil.c wm-xft2/WINGs/wutil.c
--- WindowMaker-0.80.2/WINGs/wutil.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WINGs/wutil.c	2003-10-22 14:08:34.000000000 +0400
@@ -14,7 +14,7 @@
     W_CheckTimerHandlers();
 
     /* Do idle and timer stuff while there are no input events */
-    /* Do not wait for input here. just peek to se if input is available */
+    /* Do not wait for input here. just peek to see if input is available */
     while (!W_HandleInputEvents(False, -1) && W_CheckIdleHandlers()) {
         /* dispatch timer events */
         W_CheckTimerHandlers();
diff -Naur WindowMaker-0.80.2/WINGs/wview.c wm-xft2/WINGs/wview.c
--- WindowMaker-0.80.2/WINGs/wview.c	2002-03-29 14:14:17.000000000 +0300
+++ wm-xft2/WINGs/wview.c	2003-10-22 14:08:34.000000000 +0400
@@ -213,7 +213,7 @@
     assert(view->size.width > 0);
     assert(view->size.height > 0);
 
-    
+
     if (view->parent && !view->parent->flags.realized) {
 	wwarning("trying to realize widget of unrealized parent");
 	return;
@@ -226,7 +226,7 @@
 				     view->screen->depth, InputOutput,
 				     view->screen->visual, view->attribFlags,
 				     &view->attribs);
-    
+
 	XSaveContext(dpy, view->window, ViewContext, (XPointer)view);
 
 	view->flags.realized = 1;
@@ -253,7 +253,7 @@
 W_ReparentView(W_View *view, W_View *newParent, int x, int y)
 {
     Display *dpy = view->screen->display;
-    
+
     assert(!view->flags.topLevel);
 
     unparentView(view);
@@ -486,7 +486,7 @@
 	(*view->delegate->willMove)(view->delegate, view, &x, &y);
     }
 
-    if (view->pos.x == x && view->pos.y == y) 
+    if (view->pos.x == x && view->pos.y == y)
 	return;
 
     if (view->flags.realized) {
@@ -503,8 +503,8 @@
 
 void
 W_ResizeView(W_View *view, unsigned int width, unsigned int height)
-{    
-    int shrinked;
+{
+    /*int shrinked;*/
 
     if (view->delegate && view->delegate->willResize) {
 	(*view->delegate->willResize)(view->delegate, view, &width, &height);
@@ -515,12 +515,12 @@
 
     if (view->size.width == width && view->size.height == height)
 	return;
-    
-    shrinked = width < view->size.width || height < view->size.height;
-    
+
+    /*shrinked = width < view->size.width || height < view->size.height;*/
+
     if (view->flags.realized) {
 	XResizeWindow(view->screen->display, view->window, width, height);
-    } 
+    }
     view->size.width = width;
     view->size.height = height;
 
@@ -528,6 +528,7 @@
 	(*view->delegate->didResize)(view->delegate, view);
     }
 
+    /* // TODO. replace in WINGs code, with the didResize delegate */
     if (view->flags.notifySizeChanged)
 	WMPostNotificationName(WMViewSizeDidChangeNotification, view, NULL);
 }
@@ -560,10 +561,10 @@
     view->backColor = WMRetainColor(color);
 
     view->attribFlags |= CWBackPixel;
-    view->attribs.background_pixel = color->color.pixel;
+    view->attribs.background_pixel = W_PIXEL(color);
     if (view->flags.realized) {
 	XSetWindowBackground(view->screen->display, view->window, 
-			     color->color.pixel);
+			     W_PIXEL(color));
 	XClearWindow(view->screen->display, view->window);
     }
 }
diff -Naur WindowMaker-0.80.2/WINGs/wwindow.c wm-xft2/WINGs/wwindow.c
--- WindowMaker-0.80.2/WINGs/wwindow.c	2002-03-29 14:14:17.000000000 +0300
+++ wm-xft2/WINGs/wwindow.c	2003-10-22 14:08:34.000000000 +0400
@@ -445,7 +445,7 @@
     if (win->title || win->miniTitle)
 	XmbSetWMProperties(scr->display, win->view->window, win->title, 
 			   win->miniTitle, NULL, 0, NULL, NULL, NULL);
-	
+
     setWindowMakerHints(win);
 
     setSizeHints(win);
@@ -667,10 +667,10 @@
 	}
 	break;
 /*
-   // was causing windows to ignore commands like closeWindow
- * // after the windows is iconized/restored or a workspace change
- * // if this is really needed, put the MapNotify portion too and
- * // fix the restack bug in wmaker
+ * was causing windows to ignore commands like closeWindow
+ * after the windows is iconized/restored or a workspace change
+ * if this is really needed, put the MapNotify portion too and
+ * fix the restack bug in wmaker
      case UnmapNotify:
 	WMUnmapWidget(win);
 	break;
diff -Naur WindowMaker-0.80.2/wmlib/app.c wm-xft2/wmlib/app.c
--- WindowMaker-0.80.2/wmlib/app.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/wmlib/app.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  * WMlib - WindowMaker application programming interface
  * 
- * Copyright (C) 1997-2002 Alfredo K. Kojima
+ * Copyright (C) 1997-2003 Alfredo K. Kojima
  *  
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
diff -Naur WindowMaker-0.80.2/wmlib/app.h wm-xft2/wmlib/app.h
--- WindowMaker-0.80.2/wmlib/app.h	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/wmlib/app.h	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  * WMlib - WindowMaker application programming interface
  * 
- * Copyright (C) 1997-2002 Alfredo K. Kojima
+ * Copyright (C) 1997-2003 Alfredo K. Kojima
  *  
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
diff -Naur WindowMaker-0.80.2/wmlib/command.c wm-xft2/wmlib/command.c
--- WindowMaker-0.80.2/wmlib/command.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/wmlib/command.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  * WMlib - WindowMaker application programming interface
  * 
- * Copyright (C) 1997-2002 Alfredo K. Kojima
+ * Copyright (C) 1997-2003 Alfredo K. Kojima
  *  
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
diff -Naur WindowMaker-0.80.2/wmlib/event.c wm-xft2/wmlib/event.c
--- WindowMaker-0.80.2/wmlib/event.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/wmlib/event.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  * WMlib - WindowMaker application programming interface
  * 
- * Copyright (C) 1997-2002 Alfredo K. Kojima
+ * Copyright (C) 1997-2003 Alfredo K. Kojima
  *  
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
diff -Naur WindowMaker-0.80.2/wmlib/Makefile.am wm-xft2/wmlib/Makefile.am
--- WindowMaker-0.80.2/wmlib/Makefile.am	2000-04-10 04:59:35.000000000 +0400
+++ wm-xft2/wmlib/Makefile.am	2003-10-22 14:08:38.000000000 +0400
@@ -15,3 +15,14 @@
 	app.h		\
 	menu.h	
 
+DISTCLEANFILES = wmlib.pc
+
+install-exec-local:
+	@$(NORMAL_INSTALL)
+	$(mkinstalldirs) $(DESTDIR)$(libdir)/pkgconfig
+	@list='wmlib.pc'; for p in $$list; do \
+	  if test -f $$p; then \
+	    echo "$(INSTALL_DATA) $$p $(DESTDIR)$(libdir)/pkgconfig/"; \
+	    $(INSTALL_DATA) $$p $(DESTDIR)$(libdir)/pkgconfig/; \
+	  else :; fi; \
+	done
diff -Naur WindowMaker-0.80.2/wmlib/menu.c wm-xft2/wmlib/menu.c
--- WindowMaker-0.80.2/wmlib/menu.c	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/wmlib/menu.c	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  * WMlib - WindowMaker application programming interface
  * 
- * Copyright (C) 1997-2002 Alfredo K. Kojima
+ * Copyright (C) 1997-2003 Alfredo K. Kojima
  *  
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
diff -Naur WindowMaker-0.80.2/wmlib/menu.h wm-xft2/wmlib/menu.h
--- WindowMaker-0.80.2/wmlib/menu.h	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/wmlib/menu.h	2003-10-22 14:08:38.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  * WMlib - WindowMaker application programming interface
  * 
- * Copyright (C) 1997-2002 Alfredo K. Kojima
+ * Copyright (C) 1997-2003 Alfredo K. Kojima
  *  
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
diff -Naur WindowMaker-0.80.2/wmlib/WMaker.h wm-xft2/wmlib/WMaker.h
--- WindowMaker-0.80.2/wmlib/WMaker.h	2002-01-08 16:45:33.000000000 +0300
+++ wm-xft2/wmlib/WMaker.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /* 
  * WindowMaker interface definitions
  * 
- * Copyright (C) 1997-2002 Alfredo K. Kojima
+ * Copyright (C) 1997-2003 Alfredo K. Kojima
  *  
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
diff -Naur WindowMaker-0.80.2/WPrefs.app/Appearance.c wm-xft2/WPrefs.app/Appearance.c
--- WindowMaker-0.80.2/WPrefs.app/Appearance.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/Appearance.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 1999-2002 Alfredo K. Kojima
+ *  Copyright (c) 1999-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -114,6 +114,7 @@
     char titleAlignment;
 
     Pixmap preview;
+    Pixmap previewNoText;
 
     char *fprefix;
 } _Panel;
@@ -420,7 +421,7 @@
     FILE *f;
     int channels = (image->format == RRGBAFormat ? 4 : 3);
 
-    f = fopen(path, "w");
+    f = fopen(path, "wb");
     if (!f) {
 	wsyserror(path);
 	return;
@@ -780,6 +781,12 @@
 	      previewPositions[part].pos.x,
 	      previewPositions[part].pos.y);
 
+    XCopyArea(WMScreenDisplay(scr), pix, panel->previewNoText, gc, 0, 0,
+	      previewPositions[part].size.width, 
+	      previewPositions[part].size.height,
+	      previewPositions[part].pos.x,
+	      previewPositions[part].pos.y);
+
     XFreePixmap(WMScreenDisplay(scr), pix);
 }
 
@@ -789,8 +796,6 @@
 {
     WMScreen *scr = WMWidgetScreen(panel->parent);
     Display *dpy = WMScreenDisplay(scr);
- /*   RContext *rc = WMScreenRContext(scr);*/
-    int refresh = 0;
     Pixmap pix;
     GC gc;
     int colorUpdate = 0;
@@ -801,16 +806,22 @@
 
     if (panel->preview == None) {
 	WMColor *color;
+        WMPixmap *p;
 
-	panel->preview = XCreatePixmap(dpy, WMWidgetXID(panel->parent),
-				       240-4, 215-4, WMScreenDepth(scr));
+	panel->previewNoText = XCreatePixmap(dpy, WMWidgetXID(panel->parent),
+                                             240-4, 215-4, WMScreenDepth(scr));
+
+        p = WMCreatePixmap(scr, 240-4, 215-4, WMScreenDepth(scr), False);
+        panel->preview = WMGetPixmapXID(p);
+        WMSetLabelImage(panel->prevL, p);
+        WMReleasePixmap(p);
 
 	color = WMCreateRGBColor(scr, 0x5100, 0x5100, 0x7100, True);
 	XFillRectangle(dpy, panel->preview, WMColorGC(color),
 		       0, 0, 240-4, 215-4);
+        XFillRectangle(dpy, panel->previewNoText, WMColorGC(color),
+                       0, 0, 240-4, 215-4);
 	WMReleaseColor(color);
-
-	refresh = -1;
     }
 
 
@@ -820,7 +831,12 @@
 		       previewPositions[PFOCUSED].pos.x-1,
 		       previewPositions[PFOCUSED].pos.y-1,
 		       previewPositions[PFOCUSED].size.width,
-		       previewPositions[PFOCUSED].size.height);
+                       previewPositions[PFOCUSED].size.height);
+	XDrawRectangle(dpy, panel->previewNoText, WMColorGC(black),
+		       previewPositions[PFOCUSED].pos.x-1,
+		       previewPositions[PFOCUSED].pos.y-1,
+		       previewPositions[PFOCUSED].size.width,
+                       previewPositions[PFOCUSED].size.height);
 	colorUpdate |= FTITLE_COL;
     }
     if (elements & (1<<PUNFOCUSED)) {
@@ -830,6 +846,11 @@
 		       previewPositions[PUNFOCUSED].pos.y-1,
 		       previewPositions[PUNFOCUSED].size.width,
 		       previewPositions[PUNFOCUSED].size.height);
+	XDrawRectangle(dpy, panel->previewNoText, WMColorGC(black),
+		       previewPositions[PUNFOCUSED].pos.x-1,
+		       previewPositions[PUNFOCUSED].pos.y-1,
+		       previewPositions[PUNFOCUSED].size.width,
+		       previewPositions[PUNFOCUSED].size.height);
 	colorUpdate |= UTITLE_COL;
     }
     if (elements & (1<<POWNER)) {
@@ -839,6 +860,11 @@
 		       previewPositions[POWNER].pos.y-1,
 		       previewPositions[POWNER].size.width,
 		       previewPositions[POWNER].size.height);
+	XDrawRectangle(dpy, panel->previewNoText, WMColorGC(black),
+		       previewPositions[POWNER].pos.x-1,
+		       previewPositions[POWNER].pos.y-1,
+		       previewPositions[POWNER].size.width,
+		       previewPositions[POWNER].size.height);
 	colorUpdate |= OTITLE_COL;
     }
     if (elements & (1<<PRESIZEBAR)) {
@@ -865,6 +891,12 @@
 		  previewPositions[PMITEM].pos.x,
 		  previewPositions[PMITEM].pos.y);
 
+	XCopyArea(dpy, pix, panel->previewNoText, gc, 0, 0,
+		  previewPositions[PMITEM].size.width, 
+		  previewPositions[PMITEM].size.height,
+		  previewPositions[PMITEM].pos.x,
+		  previewPositions[PMITEM].pos.y);
+
 	XFreePixmap(dpy, pix);
 
 	colorUpdate |= MITEM_COL|MDISAB_COL|MHIGH_COL|MHIGHT_COL;
@@ -872,6 +904,9 @@
     if (elements & (1<<PMITEM|1<<PMTITLE)) {
 	XDrawLine(dpy, panel->preview, gc, 29, 120, 29, 120+20*4+20);
 	XDrawLine(dpy, panel->preview, gc, 29, 119, 119, 119);
+
+	XDrawLine(dpy, panel->previewNoText, gc, 29, 120, 29, 120+20*4+20);
+	XDrawLine(dpy, panel->previewNoText, gc, 29, 119, 119, 119);
     }
     if (elements & (1<<PICON)) {
 	WMListItem *item;
@@ -885,23 +920,11 @@
 
 	colorUpdate |= ICONT_COL|ICONB_COL|CLIP_COL|CCLIP_COL;
     }
-    if (refresh < 0) {
-	WMPixmap *p;
-
-	p = WMCreatePixmapFromXPixmaps(scr, panel->preview, None,
-				       240-4, 215-4, WMScreenDepth(scr));
-
-	WMSetLabelImage(panel->prevL, p);
-	WMReleasePixmap(p);
 
-	if (colorUpdate)
-	    updateColorPreviewBox(panel, colorUpdate);
-    } else {
-	if (colorUpdate)
-	    updateColorPreviewBox(panel, colorUpdate);
-	else
-	    WMRedisplayWidget(panel->prevL);
-    }
+    if (colorUpdate)
+        updateColorPreviewBox(panel, colorUpdate);
+    else
+        WMRedisplayWidget(panel->prevL);
 
     XFreeGC(dpy, gc);
     WMReleaseColor(black);
@@ -1296,7 +1319,7 @@
     WMScreen *scr = WMWidgetScreen(lPtr);
     int width, height, x, y;
     Display *dpy = WMScreenDisplay(scr);
-    WMColor *white = WMWhiteColor(scr);
+    WMColor *back = (state & WLDSSelected) ? WMWhiteColor(scr) : WMGrayColor(scr);
     WMListItem *item;
     WMColor *black = WMBlackColor(scr);
     TextureListItem *titem;
@@ -1304,7 +1327,7 @@
     item = WMGetListItem(lPtr, index);
     titem = (TextureListItem*)item->clientData;
     if (!titem) {
-	WMReleaseColor(white);
+	WMReleaseColor(back);
 	WMReleaseColor(black);
 	return;
     }
@@ -1314,11 +1337,7 @@
     x = rect->pos.x;
     y = rect->pos.y;
 
-    if (state & WLDSSelected)
-        XFillRectangle(dpy, d, WMColorGC(white), x, y, width, height);
-    else
-        XClearArea(dpy, d, x, y, width, height, False);
-
+    XFillRectangle(dpy, d, WMColorGC(back), x, y, width, height);
 
     if (titem->preview)
 	XCopyArea(dpy, titem->preview, d, WMColorGC(black), 0, 0, 
@@ -1329,16 +1348,16 @@
     else if (titem->selectedFor)
 	WMDrawPixmap(panel->offLed, d, x + TEXPREV_WIDTH + 10, y + 6);
 
-    WMDrawString(scr, d, WMColorGC(black), panel->boldFont,
+    WMDrawString(scr, d, black, panel->boldFont,
 		 x + TEXPREV_WIDTH + 22, y + 2, titem->title, 
 		 strlen(titem->title));
 
-    WMDrawString(scr, d, WMColorGC(black), panel->smallFont,
+    WMDrawString(scr, d, black, panel->smallFont,
 		 x + TEXPREV_WIDTH + 14, y + 18, titem->texture, 
 		 strlen(titem->texture));
 
 
-    WMReleaseColor(white);
+    WMReleaseColor(back);
     WMReleaseColor(black);
 }
 
@@ -1352,7 +1371,7 @@
     int w, h, d;
     Pixmap pixmap;
 
-    f = fopen(path, "r");
+    f = fopen(path, "rb");
     if (!f)
 	return None;
 
@@ -1512,8 +1531,8 @@
 	x += (w - WMWidthOfString(font, text, l))/2;
 	break;
     }
-    WMDrawString(scr, d, WMColorGC(color), font, x,
-		 y + (h - WMFontHeight(font))/2, text, l);
+    WMDrawString(scr, d, color, font, x, y + (h - WMFontHeight(font))/2,
+                 text, l);
 }
 
 
@@ -1522,44 +1541,56 @@
 updateColorPreviewBox(_Panel *panel, int elements)
 {
     WMScreen *scr = WMWidgetScreen(panel->box);
-    WMPixmap *pixmap;
-    Pixmap d;
+    Display *dpy = WMScreenDisplay(scr);
+    Pixmap d, pnot;
+    GC gc;
 
-    pixmap = WMGetLabelImage(panel->prevL);
-    d = WMGetPixmapXID(pixmap);
+    d = panel->preview;
+    pnot = panel->previewNoText;
+    gc = WMColorGC(panel->colors[0]);
 
     if (elements & FTITLE_COL) {
+        XCopyArea(dpy, pnot, d, gc, 30, 10, 190, 20, 30, 10);
 	paintText(scr, d, panel->colors[0], panel->boldFont, 30, 10, 190, 20,
 		  panel->titleAlignment, _("Focused Window"));
     }
     if (elements & UTITLE_COL) {
+        XCopyArea(dpy, pnot, d, gc, 30, 40, 190, 20, 30, 40);
 	paintText(scr, d, panel->colors[1], panel->boldFont, 30, 40, 190, 20,
 		  panel->titleAlignment, _("Unfocused Window"));
     }
     if (elements & OTITLE_COL) {
+        XCopyArea(dpy, pnot, d, gc, 30, 70, 190, 20, 30, 70);
 	paintText(scr, d, panel->colors[2], panel->boldFont, 30, 70, 190, 20,
 		  panel->titleAlignment, _("Owner of Focused Window"));
     }
     if (elements & MTITLE_COL) {
+        XCopyArea(dpy, pnot, d, gc, 30, 120, 90, 20, 30, 120);
 	paintText(scr, d, panel->colors[3], panel->boldFont, 30, 120, 90, 20,
 		  WALeft, _("Menu Title"));
     }
     if (elements & MITEM_COL) {
+        XCopyArea(dpy, pnot, d, gc, 30, 140, 90, 20, 30, 140);
 	paintText(scr, d, panel->colors[4], panel->normalFont, 30, 140, 90, 20,
 		  WALeft, _("Normal Item"));
+        XCopyArea(dpy, pnot, d, gc, 30, 200, 90, 20, 30, 200);
 	paintText(scr, d, panel->colors[4], panel->normalFont, 30, 200, 90, 20,
 		  WALeft, _("Normal Item"));
     }
     if (elements & MDISAB_COL) {
+        XCopyArea(dpy, pnot, d, gc, 30, 160, 90, 20, 30, 160);
 	paintText(scr, d, panel->colors[5], panel->normalFont, 30, 160, 90, 20,
 		  WALeft, _("Disabled Item"));
     }
     if (elements & MHIGH_COL) {
 	XFillRectangle(WMScreenDisplay(scr), d, WMColorGC(panel->colors[6]),
 		       31, 181, 87, 17);
+	XFillRectangle(WMScreenDisplay(scr), pnot, WMColorGC(panel->colors[6]),
+		       31, 181, 87, 17);
 	elements |= MHIGHT_COL;
     }
     if (elements & MHIGHT_COL) {
+        XCopyArea(dpy, pnot, d, gc, 30, 180, 90, 20, 30, 180);
 	paintText(scr, d, panel->colors[7], panel->normalFont, 30, 180, 90, 20,
 		  WALeft, _("Highlighted"));
     }
diff -Naur WindowMaker-0.80.2/WPrefs.app/Configurations.c wm-xft2/WPrefs.app/Configurations.c
--- WindowMaker-0.80.2/WPrefs.app/Configurations.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/Configurations.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WPrefs.app/double.c wm-xft2/WPrefs.app/double.c
--- WindowMaker-0.80.2/WPrefs.app/double.c	2001-10-04 04:59:50.000000000 +0400
+++ wm-xft2/WPrefs.app/double.c	2003-10-22 14:08:35.000000000 +0400
@@ -113,7 +113,7 @@
 	y = (dPtr->view->size.height-scr->normalFont->height)/2;
 	W_PaintText(dPtr->view, dPtr->view->window, scr->normalFont,  
 		    dPtr->on, dPtr->on+y, dPtr->view->size.width, WACenter, 
-		    WMColorGC(scr->black), False, dPtr->text, strlen(dPtr->text));
+		    scr->black, False, dPtr->text, strlen(dPtr->text));
     }
 }
 
diff -Naur WindowMaker-0.80.2/WPrefs.app/editmenu.c wm-xft2/WPrefs.app/editmenu.c
--- WindowMaker-0.80.2/WPrefs.app/editmenu.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/editmenu.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 2000-2002 Alfredo K. Kojima
+ *  Copyright (c) 2000-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -219,9 +219,8 @@
 
     W_DrawRelief(scr, win, 0, 0, w+1, h, WRRaised);
 
-    WMDrawString(scr, win, WMColorGC(color), font, 5, 3, iPtr->label,
-		 strlen(iPtr->label));
-    
+    WMDrawString(scr, win, color, font, 5, 3, iPtr->label, strlen(iPtr->label));
+
     if (iPtr->pixmap) {
 	WMSize size = WMGetPixmapSize(iPtr->pixmap);
 	
diff -Naur WindowMaker-0.80.2/WPrefs.app/editmenu.h wm-xft2/WPrefs.app/editmenu.h
--- WindowMaker-0.80.2/WPrefs.app/editmenu.h	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/editmenu.h	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 2000-2002 Alfredo K. Kojima
+ *  Copyright (c) 2000-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WPrefs.app/Expert.c wm-xft2/WPrefs.app/Expert.c
--- WindowMaker-0.80.2/WPrefs.app/Expert.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/Expert.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -54,6 +54,8 @@
     WMSetButtonSelected(panel->swi[4], GetBoolForKey("WindozeCycling"));
     WMSetButtonSelected(panel->swi[5], GetBoolForKey("DontConfirmKill"));
     WMSetButtonSelected(panel->swi[6], GetBoolForKey("DisableBlinking"));
+    if (WMHasAntialiasingSupport(WMWidgetScreen(panel->box)))
+        WMSetButtonSelected(panel->swi[7], GetBoolForKey("AntialiasedText"));
 }
 
 
@@ -66,7 +68,7 @@
     panel->box = WMCreateBox(panel->parent);
     WMSetViewExpandsToParent(WMWidgetView(panel->box), 2, 2, 2, 2);
 
-    for (i=0; i<7; i++) {
+    for (i=0; i<8; i++) {
 	panel->swi[i] = WMCreateSwitchButton(panel->box);
 	WMResizeWidget(panel->swi[i], FRAME_WIDTH-40, 25);
 	WMMoveWidget(panel->swi[i], 20, 20+i*25);
@@ -79,6 +81,10 @@
     WMSetButtonText(panel->swi[4], _("Use Windoze style cycling."));
     WMSetButtonText(panel->swi[5], _("Disable confirmation panel for the Kill command."));
     WMSetButtonText(panel->swi[6], _("Disable selection animation for selected icons."));
+    WMSetButtonText(panel->swi[7], _("Smooth font edges (needs restart)."));
+
+    if (!WMHasAntialiasingSupport(WMWidgetScreen(panel->box)))
+        WMSetButtonEnabled(panel->swi[7], False);
 
     WMRealizeWidget(panel->box);
     WMMapSubwidgets(panel->box);
@@ -101,6 +107,8 @@
     SetBoolForKey(WMGetButtonSelected(panel->swi[4]), "WindozeCycling");
     SetBoolForKey(WMGetButtonSelected(panel->swi[5]), "DontConfirmKill");
     SetBoolForKey(WMGetButtonSelected(panel->swi[6]), "DisableBlinking");
+    if (WMHasAntialiasingSupport(WMWidgetScreen(panel->box)))
+        SetBoolForKey(WMGetButtonSelected(panel->swi[7]), "AntialiasedText");
 }
 
 
diff -Naur WindowMaker-0.80.2/WPrefs.app/Focus.c wm-xft2/WPrefs.app/Focus.c
--- WindowMaker-0.80.2/WPrefs.app/Focus.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/Focus.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WPrefs.app/Font.c wm-xft2/WPrefs.app/Font.c
--- WindowMaker-0.80.2/WPrefs.app/Font.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/Font.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 1999-2002 Alfredo K. Kojima
+ *  Copyright (c) 1999-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -22,6 +22,7 @@
 
 
 #include "WPrefs.h"
+#include <X11/Xlocale.h>
 
 
 typedef struct _Panel {
@@ -37,8 +38,15 @@
 
     WMLabel *prevL;
 
+	WMFontPanel *fontPanel;
+
+	WMPopUpButton *fontSel;
+	WMFrame *multiF;
+	WMButton *togMulti;
     WMFrame *langF;
     WMPopUpButton *langP;
+	WMFrame *aaF;
+	WMButton *togAA;
         
     /* single byte */
     WMTextField *fontT;
@@ -52,198 +60,993 @@
     WMButton *editB;
     WMButton *remB;
 
-    
-    WMFont *windowTitleFont;
-    WMFont *menuTitleFont;
-    WMFont *menuItemFont;
-    
-    
+	WMButton *upB;
+	WMButton *downB;
+
     WMColor *white;
     WMColor *black;
     WMColor *light;
     WMColor *dark;
     
     WMColor *back;
+	WMColor *colors[9];
 
     Pixmap preview;
     WMPixmap *previewPix;
+	WMPixmap *hand;
+	WMPixmap *up_arrow;
+	WMPixmap *down_arrow;
+	WMPixmap *alt_up_arrow;
+	WMPixmap *alt_down_arrow;
+	
+	int oldsection;
+	char menuStyle;
+	char titleAlignment;
+	Bool MultiByteText;
+
+	Bool AntialiasedText;
 } _Panel;
 
 
 
 #define ICON_FILE	"fonts"
 
-
+static WMRect previewPositions[] = {
+#define WINTITLE	0
+	{{30, 10},{190, 20}},
+#define DISTITLE	1
+	{{30, 35},{90, 64}},
+#define PMTITLE		2
+	{{30, 105},{90, 20}},
+#define PMITEM		3
+	{{30, 125},{90, 20*4}},
+#define PCLIP		4
+	{{156, 35},{64, 64}},
+#define PICON		5
+	{{156, 105},{64, 64}}
+};	
+#define EVERYTHING 0xff
+
+static char *colorOptions[] = {
+#define FTITLE	(1<<0)
+	"FTitleColor", "white",
+#define DISCOL	(1<<1)			/* Display uses white always */
+#define MTITLE	(1<<2)
+	"MenuTitleColor", "white",
+#define MITEM	(1<<3)
+	"MenuTextColor", "black",
+#define CLIP	(1<<4)
+	"ClipTitleColor", "black",
+#define CCLIP	(1<<4)
+	"ClipTitleColor", "#454045",
+#define ICONT	(1<<5)
+	"IconTitleColor", "white",
+#define ICONB	(1<<5)
+	"IconTitleBack", "black"
+};
+
+#define MSTYLE_NORMAL	0
+#define MSTYLE_SINGLE	1
+#define MSTYLE_FLAT	2
+
+
+#define RESIZEBAR_BEVEL	-1
+#define MENU_BEVEL	-2
+#define CLIP_BUTTON_SIZE	23
+#define ICON_SIZE	64
+
+
+static char *textureOptions[] = {
+	"FTitleBack",
+	NULL,
+	"MenuTitleBack",
+	"MenuTextBack",
+	"IconBack",
+	"IconBack"
+};
+
+/* XPM */
+static char * hand_xpm[] = {
+"22 21 19 1",
+"       c None",
+".      c #030305",
+"+      c #7F7F7E",
+"@      c #B5B5B6",
+"#      c #C5C5C6",
+"$      c #969697",
+"%      c #FDFDFB",
+"&      c #F2F2F4",
+"*      c #E5E5E4",
+"=      c #ECECEC",
+"-      c #DCDCDC",
+";      c #D2D2D0",
+">      c #101010",
+",      c #767674",
+"'      c #676767",
+")      c #535355",
+"!      c #323234",
+"~      c #3E3C56",
+"{      c #333147",
+"                      ",
+"       .....          ",
+"     ..+@##$.         ",
+"    .%%%&@..........  ",
+"   .%*%%&#%%%%%%%%%$. ",
+"  .*#%%%%%%%%%&&&&==. ",
+" .-%%%%%%%%%=*-;;;#$. ",
+" .-%%%%%%%%&..>.....  ",
+" >-%%%%%%%%%*#+.      ",
+" >-%%%%%%%%%*@,.      ",
+" >#%%%%%%%%%*@'.      ",
+" >$&&%%%%%%=...       ",
+" .+@@;=&%%&;$,>       ",
+"  .',$@####$+).       ",
+"   .!',+$++,'.        ",
+"     ..>>>>>.         ",
+"                      ",
+"     ~~{{{~~          ",
+"   {{{{{{{{{{{        ",
+"     ~~{{{~~          ",
+"                      "};
+
+static char *up_arrow_xpm[] = {
+"9 9 3 1",
+".		c #acaaac",
+"%		c #525552",
+"#		c #000000",
+"....%....",
+"....#....",
+"...%#%...",
+"...###...",
+"..%###%..",
+"..#####..",
+".%#####%.",
+".#######.",
+"%#######%"
+};
+
+static char *down_arrow_xpm[] = {
+"9 9 3 1",
+".		c #acaaac",
+"%		c #525552",
+"#		c #000000",
+"%#######%",
+".#######.",
+".%#####%.",
+"..#####..",
+"..%###%..",
+"...###...",
+"...%#%...",
+"....#....",
+"....%...."
+};
+
+static char *alt_up_arrow_xpm[] = {
+"9 9 2 1",
+".		c #ffffff",
+"%		c #525552",
+"....%....",
+"....%....",
+"...%%%...",
+"...%%%...",
+"..%%%%%..",
+"..%%%%%..",
+".%%%%%%%.",
+".%%%%%%%.",
+"%%%%%%%%%"
+};
+
+static char *alt_down_arrow_xpm[] = {
+"9 9 2 1",
+".		c #ffffff",
+"%		c #525552",
+"%%%%%%%%%",
+".%%%%%%%.",
+".%%%%%%%.",
+"..%%%%%..",
+"..%%%%%..",
+"...%%%...",
+"...%%%...",
+"....%....",
+"....%...."
+};
+/* XPM */
+
+static WMPropList *CurrentFontArray = NULL;
+//static WMPropList *CurrentMenuTitleFont = NULL;
+//static WMPropList *CurrentMenuTextFont = NULL;
+//static WMPropList *CurrentIconTitleFont = NULL;
+//static WMPropList *CurrentClipTitleFont = NULL;
+//static WMPropList *CurrentLargeDisplayFont = NULL;
 
 static WMPropList *DefaultWindowTitleFont = NULL;
 static WMPropList *DefaultMenuTitleFont = NULL;
 static WMPropList *DefaultMenuTextFont = NULL;
 static WMPropList *DefaultIconTitleFont = NULL;
 static WMPropList *DefaultClipTitleFont = NULL;
-static WMPropList *DefaultDisplayFont = NULL;
+static WMPropList *DefaultLargeDisplayFont = NULL;
+
+static void changePage(WMWidget *w, void *data);
+static void setLanguageType(void *data, Bool multiByte);
+static void refillFontSetList(void *data);
+static void readFontEncodings(void *data);
+static void changeLanguageAction(WMWidget *w, void *data);
+static void checkListForArrows(void *data);
+
+static char* getFontEncoding(void *data);
+static char* getFontSampleString(void *data);
+
+/* note single element */
+static WMFont* getFontForPreview(void *data, int element);  
+static WMFont* getDefaultSystemFont(void *data, int element);
 
+static WMPropList* getDefaultFontProp(void *data, char *encoding, int section);
+static WMPropList* getCurrentFontProp(void *data, int section);
 
+static Bool isEncodingMultiByte(void *data);
 
 static void
-drawMenuItem(WMScreen *scr, Display *dpy, Drawable d, 
-	     int x, int y, int w, int h, 
-	     GC light, GC dark, GC black, GC white,
-	     WMFont *font, int fh, char *text)
+str2rcolor(RContext *rc, char *name, RColor *color)
 {
-    XFillRectangle(dpy, d, light, x, y, w, h);
-    
-    XDrawLine(dpy, d, black, x, y, x, y+h);
-    XDrawLine(dpy, d, black, x+w, y, x+w, y+h);
-    
-    XDrawLine(dpy, d, white, x+1, y, x+1, y+h-1);
-    XDrawLine(dpy, d, white, x+1, y, x+w-1, y);
-    
-    XDrawLine(dpy, d, dark, x+w-1, y+1, x+w-1, y+h-3);
-    XDrawLine(dpy, d, dark, x+1, y+h-2, x+w-1, y+h-2);
+    XColor xcolor;
     
-    XDrawLine(dpy, d, black, x, y+h-1, x+w, y+h-1);
+    XParseColor(rc->dpy, rc->cmap, name, &xcolor);
 
-    WMDrawString(scr, d, black, font, x + 5, y+(h-fh)/2, 
-		 text, strlen(text));
+    color->alpha = 255;
+    color->red = xcolor.red >> 8;
+    color->green = xcolor.green >> 8;
+    color->blue = xcolor.blue >> 8;
 }
 
+static void
+drawMenuBevel(RImage *img)
+{
+    RColor light, dark, mid;
+    int i;
+    int iheight = img->height / 4;
+    
+    light.alpha = 0;
+    light.red = light.green = light.blue = 80;
+    
+    dark.alpha = 255;
+    dark.red = dark.green = dark.blue = 0;
+    
+    mid.alpha = 0;
+    mid.red = mid.green = mid.blue = 40;
+    
+    for (i = 1; i < 4; i++) {
+	ROperateLine(img, RSubtractOperation, 0, i*iheight-2,
+		     img->width-1, i*iheight-2, &mid);
+	
+	RDrawLine(img, 0, i*iheight-1, img->width-1, i*iheight-1, &dark);
+	
+	ROperateLine(img, RAddOperation, 1, i*iheight,
+		     img->width-2, i*iheight, &light);
+    }
+}
 
+static void
+paintTitle(WMScreen *scr, Drawable d, WMColor *color, WMFont *font,
+	  int part, WMAlignment align, char *text)
+{
+    int l = strlen(text);
+	int x = previewPositions[part].pos.x;
+	int y = previewPositions[part].pos.y;
+	int w = previewPositions[part].size.width;
+	int h = previewPositions[part].size.height;
+
+    switch (align) {
+     case WALeft:
+	x += 5;
+	break;
+     case WARight:
+	x += w - 5 - WMWidthOfString(font, text, l);
+	break;
+     default:
+     case WACenter:
+	x += (w - WMWidthOfString(font, text, l))/2;
+	break;
+    }
+    WMDrawString(scr, d, color, font, x,
+		 y + (h - WMFontHeight(font))/2, text, l);
+}
 
 static void
-paintPreviewBox(Panel *panel)
+paintItems(WMScreen *scr, Drawable d, WMColor *color, WMFont *font,
+		int part, char *text)
 {
-    WMScreen *scr = WMWidgetScreen(panel->parent);
-    Display *dpy = WMScreenDisplay(scr);
-    GC black = WMColorGC(panel->black);
-    GC white = WMColorGC(panel->white);
-    GC dark = WMColorGC(panel->dark);
-    GC light = WMColorGC(panel->light);
-    
-    
-    if (panel->preview == None) {
-	WMPixmap *pix;
+    int l = strlen(text);
+	int x = previewPositions[part].pos.x;
+	int y = previewPositions[part].pos.y;
+	int w = previewPositions[part].size.width;
+	int h = previewPositions[part].size.height/4;
+	int i;
+	for( i = 0; i < 4 ; i++) {
+		WMDrawString(scr, d, color, font, x+5,
+		y+(20*i)+(h - WMFontHeight(font))/2, text, l);
+	}
+}
+
+static void
+paintIcon(WMScreen *scr,Drawable d, WMColor *color, WMColor *Iback, 
+		WMFont *font, int part, char *text)
+{
+	Display *dpy = WMScreenDisplay(scr);
+    int l = strlen(text);
+	int x = previewPositions[part].pos.x+1;
+	int y = previewPositions[part].pos.y+1;
+	int w = previewPositions[part].size.width-2;
+	int h = WMFontHeight(font)+2;
 	
-	panel->preview = XCreatePixmap(dpy, WMWidgetXID(panel->parent),
-				       240-4, 215-4, WMScreenDepth(scr));
+	XFillRectangle(dpy, d, WMColorGC(Iback), x, y, w, h);
+	x += (w - WMWidthOfString(font, text, l))/2;
+	WMDrawString(scr, d, color, font, x, 
+					y + (h - WMFontHeight(font))/2, text, l);
 
-	pix = WMCreatePixmapFromXPixmaps(scr, panel->preview, None,
-					 240-4, 215-4, WMScreenDepth(scr));
+}
+	
+static void
+drawFonts(_Panel *panel, int elements)
+{
+	WMScreen *scr = WMWidgetScreen(panel->box);
+	WMPixmap *pixmap;
+	Pixmap d;
+
+	pixmap = WMGetLabelImage(panel->prevL);
+	d = WMGetPixmapXID(pixmap);
+
+	if(elements & FTITLE) {
+	paintTitle(scr, d, panel->colors[0], getFontForPreview(panel, WINTITLE),
+		WINTITLE, panel->titleAlignment, _("Window Title Font"));
+		}
+	if(elements & DISCOL) {
+	paintTitle(scr, d, panel->white, getFontForPreview(panel, DISTITLE), 
+			DISTITLE, WACenter, _("Display"));
+	}
+	if(elements & MTITLE) {
+	paintTitle(scr, d, panel->colors[1], getFontForPreview(panel, PMTITLE),
+		PMTITLE, WALeft, _("Menu Title"));
+	}
+	if(elements & MITEM) {
+	paintItems(scr, d, panel->colors[2], getFontForPreview(panel, PMITEM),
+		PMITEM, _("Menu Item"));
+	}
+	if(elements & CLIP) {
+	WMDrawString(scr, d, panel->colors[4], 
+					getFontForPreview(panel, PCLIP), 169,37, "1",1);
+	WMDrawString(scr, d, panel->colors[3], 
+					getFontForPreview(panel, PCLIP),179, 84, _("Clip title"), 10);
+	}
+	if(elements & ICONT) {
+	paintIcon(scr, d, panel->colors[5], panel->colors[6], 
+			getFontForPreview(panel, PICON), PICON, _("Icon Title"));
+	}
+}
 
-	WMSetLabelImage(panel->prevL, pix);
-	WMReleasePixmap(pix);
+static void
+dumpRImage(char *path, RImage *image)
+{
+    FILE *f;
+    int channels = (image->format == RRGBAFormat ? 4 : 3);
+
+    f = fopen(path, "w");
+    if (!f) {
+	wsyserror(path);
+	return;
     }
-    
-    XFillRectangle(dpy, panel->preview, WMColorGC(panel->back),
-		   0, 0, 240-4, 215-4);
+    fprintf(f, "%02x%02x%1x", image->width, image->height, channels);
 
-    /* window title */
-    {
-	int h, fh;
+    fwrite(image->data, 1, image->width * image->height * channels, f);
+
+    if (fclose(f) < 0) {
+	wsyserror(path);
+    }
+}
+
+static int
+isPixmap(WMPropList *prop)
+{
+    WMPropList *p;
+    char *s;
+
+    p = WMGetFromPLArray(prop, 0);
+    s = WMGetFromPLString(p);
+    if (strcasecmp(&s[1], "pixmap")==0)
+	return 1;
+    else
+	return 0;
+}
+
+static Pixmap
+renderTexture(WMScreen *scr, WMPropList *texture, int width, int height,
+	      char *path, int border)
+{
+    char *type;
+    RImage *image = NULL;
+    Pixmap pixmap;
+    RContext *rc = WMScreenRContext(scr);
+    char *str;
+    RColor rcolor;
+
+
+    type = WMGetFromPLString(WMGetFromPLArray(texture, 0));
+
+    if (strcasecmp(type, "solid")==0) {
+
+	str = WMGetFromPLString(WMGetFromPLArray(texture, 1));
+
+	str2rcolor(rc, str, &rcolor);
+
+	image = RCreateImage(width, height, False);
+	RClearImage(image, &rcolor);
+    } else if (strcasecmp(type, "igradient")==0) {
+	int t1, t2;
+	RColor c1[2], c2[2];
+
+	str = WMGetFromPLString(WMGetFromPLArray(texture, 1));
+	str2rcolor(rc, str, &c1[0]);
+	str = WMGetFromPLString(WMGetFromPLArray(texture, 2));
+	str2rcolor(rc, str, &c1[1]);
+	str = WMGetFromPLString(WMGetFromPLArray(texture, 3));
+	t1 = atoi(str);
+
+	str = WMGetFromPLString(WMGetFromPLArray(texture, 4));
+	str2rcolor(rc, str, &c2[0]);
+	str = WMGetFromPLString(WMGetFromPLArray(texture, 5));
+	str2rcolor(rc, str, &c2[1]);
+	str = WMGetFromPLString(WMGetFromPLArray(texture, 6));
+	t2 = atoi(str);
+
+	image = RRenderInterwovenGradient(width, height, c1, t1, c2, t2);
+    } else if (strcasecmp(&type[1], "gradient")==0) {
+	int style;
+	RColor rcolor2;
+
+	switch (toupper(type[0])) {
+	 case 'V':
+	    style = RVerticalGradient;
+	    break;
+	 case 'H':
+	    style = RHorizontalGradient;
+	    break;
+	 default:
+	 case 'D':
+	    style = RDiagonalGradient;
+	    break;
+	}
+
+	str = WMGetFromPLString(WMGetFromPLArray(texture, 1));
+	str2rcolor(rc, str, &rcolor);
+	str = WMGetFromPLString(WMGetFromPLArray(texture, 2));
+	str2rcolor(rc, str, &rcolor2);
+
+	image = RRenderGradient(width, height, &rcolor, &rcolor2, style);
+    } else if (strcasecmp(&type[2], "gradient")==0 && toupper(type[0])=='T') {
+	int style;
+	RColor rcolor2;
+	int i;
+	RImage *grad, *timage;
+	char *path;
+
+	switch (toupper(type[1])) {
+	 case 'V':
+	    style = RVerticalGradient;
+	    break;
+	 case 'H':
+	    style = RHorizontalGradient;
+	    break;
+	 default:
+	 case 'D':
+	    style = RDiagonalGradient;
+	    break;
+	}
+
+	str = WMGetFromPLString(WMGetFromPLArray(texture, 3));
+	str2rcolor(rc, str, &rcolor);
+	str = WMGetFromPLString(WMGetFromPLArray(texture, 4));
+	str2rcolor(rc, str, &rcolor2);
+
+	str = WMGetFromPLString(WMGetFromPLArray(texture, 1));
+
+	if ((path=wfindfileinarray(GetObjectForKey("PixmapPath"), str))!=NULL)
+            timage = RLoadImage(rc, path, 0);
+
+	if (!path || !timage) {
+	    wwarning("could not load file '%s': %s", path,
+		     RMessageForError(RErrorCode));
+	} else {	
+	    grad = RRenderGradient(width, height, &rcolor, &rcolor2, style);
+
+	    image = RMakeTiledImage(timage, width, height);
+	    RReleaseImage(timage);
+
+	    i = atoi(WMGetFromPLString(WMGetFromPLArray(texture, 2)));
 	
-	fh = WMFontHeight(panel->windowTitleFont);
-	h = fh+6;
+	    RCombineImagesWithOpaqueness(image, grad, i);
+	    RReleaseImage(grad);
+	}
+    } else if (strcasecmp(&type[2], "gradient")==0 && toupper(type[0])=='M') {
+	int style;
+	RColor **colors;
+	int i, j;
+
+	switch (toupper(type[1])) {
+	 case 'V':
+	    style = RVerticalGradient;
+	    break;
+	 case 'H':
+	    style = RHorizontalGradient;
+	    break;
+	 default:
+	 case 'D':
+	    style = RDiagonalGradient;
+	    break;
+	}
+
+	j = WMGetPropListItemCount(texture);
 	
-	XFillRectangle(dpy, panel->preview, black,
-		       19, 19, 203, h+3);
+	if (j > 0) {
+	    colors = wmalloc(j * sizeof(RColor*));
 
-	XDrawLine(dpy, panel->preview, light,
-		  20, 20, 220, 20);
-	XDrawLine(dpy, panel->preview, light,
-		  20, 20, 20, 20+h);
+	    for (i = 2; i < j; i++) {
+		str = WMGetFromPLString(WMGetFromPLArray(texture, i));
+		colors[i-2] = wmalloc(sizeof(RColor));
+		str2rcolor(rc, str, colors[i-2]);
+	    }
+	    colors[i-2] = NULL;
+
+	    image = RRenderMultiGradient(width, height, colors, style);
+	    
+	    for (i = 0; colors[i]!=NULL; i++)
+		wfree(colors[i]);
+	    wfree(colors);
+	}
+    } else if (strcasecmp(&type[1], "pixmap")==0) {
+	RImage *timage = NULL;
+	char *path;
+	RColor color;
+
+	str = WMGetFromPLString(WMGetFromPLArray(texture, 1));
+
+	if ((path=wfindfileinarray(GetObjectForKey("PixmapPath"), str))!=NULL)
+            timage = RLoadImage(rc, path, 0);
+
+	if (!path || !timage) {
+	    wwarning("could not load file '%s': %s", path ? path : str,
+		     RMessageForError(RErrorCode));
+	} else {
+	    str = WMGetFromPLString(WMGetFromPLArray(texture, 2));
+	    str2rcolor(rc, str, &color);
+
+	    switch (toupper(type[0])) {
+	     case 'T':
+		image = RMakeTiledImage(timage, width, height);
+		RReleaseImage(timage);
+		timage = image;
+		break;
+	     case 'C':
+		image = RMakeCenteredImage(timage, width, height, &color);
+		RReleaseImage(timage);
+		timage = image;
+		break;
+	     case 'S':
+	     case 'M':
+		image = RScaleImage(timage, width, height);
+		RReleaseImage(timage);
+		timage = image;
+		break;
+	    }
 
-	XDrawLine(dpy, panel->preview, dark,
-		  20, 20+h, 220, 20+h);	
-	XDrawLine(dpy, panel->preview, dark,
-		  220, 20, 220, 20+h);
-	
-	WMDrawString(scr, panel->preview, white, panel->windowTitleFont,
-		     20+(200-WMWidthOfString(panel->windowTitleFont, "Window Titlebar", 15))/2,
-		     20+(h-fh)/2, "Window Titlebar", 15);
+	}
+	wfree(path);
     }
-    
-    /* menu title */
-    {
-	int h, h2, fh, fh2;
-	int i;
-	const int mx = 20;
-	const int my = 120;
-	const int mw = 100;
 
-	
-	fh = WMFontHeight(panel->menuTitleFont);
-	h = fh+6;
+    if (!image)
+	return None;
+
+    if (path) {
+	dumpRImage(path, image);
+    }
+    
+    if (border < 0) {
+	if (border == MENU_BEVEL) {
+	    drawMenuBevel(image);
+	    RBevelImage(image, RBEV_RAISED2);
+	}
+    } else if (border) {
+	RBevelImage(image, border);
+    }
 
-	XFillRectangle(dpy, panel->preview, black,
-		       mx-1, my-1, mw+3, h+3);
+    RConvertImage(rc, image, &pixmap);
+    RReleaseImage(image);
 
-	XDrawLine(dpy, panel->preview, light,
-		  mx, my, mx+mw, my);
-	XDrawLine(dpy, panel->preview, light,
-		  mx, my, mx, my+h);
+    return pixmap;
+}
 
-	XDrawLine(dpy, panel->preview, dark,
-		  mx, my+h, mx+mw, my+h);	
-	XDrawLine(dpy, panel->preview, dark,
-		  mx+mw, my, mx+mw, my+h);
+static Pixmap
+renderMenu(_Panel *panel, WMPropList *texture, int width, int iheight)
+{
+    WMScreen *scr = WMWidgetScreen(panel->parent);
+    Display *dpy = WMScreenDisplay(scr);
+    Pixmap pix, tmp;
+    RContext *rc = WMScreenRContext(scr);
+    GC gc = XCreateGC(dpy, WMWidgetXID(panel->parent), 0, NULL);
+    int i;
+
+    switch (panel->menuStyle) {
+     case MSTYLE_NORMAL:
+	tmp = renderTexture(scr, texture, width, iheight, NULL, RBEV_RAISED2);
 
-	WMDrawString(scr, panel->preview, white, panel->menuTitleFont,
-		     mx+5, my+(h-fh)/2, "Menu Title", 10);
-	
-	fh2 = WMFontHeight(panel->menuItemFont);
-	h2 = fh2+6;
-	
-	/* menu items */
+	pix = XCreatePixmap(dpy, tmp, width, iheight*4, WMScreenDepth(scr));
 	for (i = 0; i < 4; i++) {
-	    drawMenuItem(scr, dpy, panel->preview,
-			 mx-1, my+2+h+i*h2, mw+2, h2,
-			 light, dark, black, white, 
-			 panel->menuItemFont, fh2,
-			 "Menu Item");
+	    XCopyArea(dpy, tmp, pix, gc, 0, 0, width, iheight, 0, iheight*i);
 	}
+	XFreePixmap(dpy, tmp);
+	break;
+     case MSTYLE_SINGLE:
+	pix = renderTexture(scr, texture, width, iheight*4, NULL, MENU_BEVEL);
+	break;
+     case MSTYLE_FLAT:
+	pix = renderTexture(scr, texture, width, iheight*4, NULL, RBEV_RAISED2);
+	break;
     }
+    XFreeGC(dpy, gc);
 
+    return pix;
+}
 
-    WMRedisplayWidget(panel->prevL);
+static void 
+renderClip(_Panel *panel, GC gc, int part, int relief)
+{
+    WMScreen *scr = WMWidgetScreen(panel->box);
+	Display *dpy = WMScreenDisplay(scr);
+    RContext *rc = WMScreenRContext(scr);
+    WMPropList *prop;
+    Pixmap pix;
+	XImage *original; 
+    XPoint p[4];
+    RImage *tile;
+    RColor black;
+    RColor dark;
+    RColor light;
+    int pt, tp;
+    int as;
+
+	prop = GetObjectForKey(textureOptions[part]);
+
+    pix = renderTexture(scr, prop, 
+			previewPositions[part].size.width,
+			previewPositions[part].size.height,
+			NULL, relief);
+
+	
+	original = XGetImage(dpy, pix, 0, 0, 64, 64,
+					AllPlanes, ZPixmap);
+	if (!original){ 
+	wwarning(_("error capturing \"original\" tile image"),
+					RMessageForError(RErrorCode));
+	}
+	tile = RCreateImageFromXImage(rc, original, NULL);
+
+	XDestroyImage(original);
+    XFreePixmap(WMScreenDisplay(scr), pix); 
+
+    pt = CLIP_BUTTON_SIZE*ICON_SIZE/64;
+    tp = ICON_SIZE-1 - pt;
+    as = pt - 15;
+
+    black.alpha = 255;
+    black.red = black.green = black.blue = 0;
+
+    dark.alpha = 0;
+    dark.red = dark.green = dark.blue = 60;
+
+    light.alpha = 0;
+    light.red = light.green = light.blue = 80;
+
+
+    /* top right */
+    ROperateLine(tile, RSubtractOperation, tp, 0, ICON_SIZE-2,
+		 pt-1, &dark);
+    RDrawLine(tile, tp-1, 0, ICON_SIZE-1, pt+1, &black);
+    ROperateLine(tile, RAddOperation, tp, 2, ICON_SIZE-3,
+		 pt, &light);
+
+    /* arrow bevel */
+    ROperateLine(tile, RSubtractOperation, ICON_SIZE - 7 - as, 4,
+                 ICON_SIZE - 5, 4, &dark);
+    ROperateLine(tile, RSubtractOperation, ICON_SIZE - 6 - as, 5,
+		 ICON_SIZE - 5, 6 + as, &dark);
+    ROperateLine(tile, RAddOperation, ICON_SIZE - 5, 4, ICON_SIZE - 5, 6 + as,
+		 &light);
+
+    /* bottom left */
+    ROperateLine(tile, RAddOperation, 2, tp+2, pt-2,
+		 ICON_SIZE-3, &dark);
+    RDrawLine(tile, 0, tp-1, pt+1, ICON_SIZE-1, &black);
+    ROperateLine(tile, RSubtractOperation, 0, tp-2, pt+1,
+		 ICON_SIZE-2, &light);
+
+    /* arrow bevel */
+    ROperateLine(tile, RSubtractOperation, 4, ICON_SIZE - 7 - as, 4,
+                 ICON_SIZE - 5, &dark);
+    ROperateLine(tile, RSubtractOperation, 5, ICON_SIZE - 6 - as,
+		 6 + as, ICON_SIZE - 5, &dark);
+    ROperateLine(tile, RAddOperation, 4, ICON_SIZE - 5, 6 + as, ICON_SIZE - 5,
+		 &light);
+
+	RConvertImage(rc, tile, &pix);
+
+    /* top right arrow */
+    p[0].x = p[3].x = ICON_SIZE-5-as;
+    p[0].y = p[3].y = 5;
+    p[1].x = ICON_SIZE-6;
+    p[1].y = 5;
+    p[2].x = ICON_SIZE-6;
+    p[2].y = 4+as;
+    XFillPolygon(dpy, pix, WMColorGC(panel->colors[4]), p, 3, Convex, CoordModeOrigin);
+    XDrawLines(dpy, pix, WMColorGC(panel->colors[4]), p, 4, CoordModeOrigin);
+
+    /* bottom left arrow */
+    p[0].x = p[3].x = 5;
+    p[0].y = p[3].y = ICON_SIZE-5-as;
+    p[1].x = 5;
+    p[1].y = ICON_SIZE-6;
+    p[2].x = 4+as;
+    p[2].y = ICON_SIZE-6;
+	XFillPolygon(dpy, pix, WMColorGC(panel->colors[4]), p, 3, Convex, CoordModeOrigin);
+    XDrawLines(dpy, pix, WMColorGC(panel->colors[4]), p, 4, CoordModeOrigin);
+
+    XCopyArea(dpy, pix, panel->preview, gc, 0, 0, 
+	      previewPositions[part].size.width, 
+	      previewPositions[part].size.height,
+	      previewPositions[part].pos.x,
+	      previewPositions[part].pos.y);
+
+	RReleaseImage(tile);
+    XFreePixmap(WMScreenDisplay(scr), pix);
 }
 
+static void
+renderPreview(_Panel *panel, GC gc, int part, int relief)
+{
+    WMPropList *prop;
+    Pixmap pix;
+    WMScreen *scr = WMWidgetScreen(panel->box);
+
+	prop = GetObjectForKey(textureOptions[part]);
+
+    pix = renderTexture(scr, prop, 
+			previewPositions[part].size.width,
+			previewPositions[part].size.height,
+			NULL, relief);
+    XCopyArea(WMScreenDisplay(scr), pix, 
+		  panel->preview, gc, 0, 0, 
+	      previewPositions[part].size.width, 
+	      previewPositions[part].size.height,
+	      previewPositions[part].pos.x,
+	      previewPositions[part].pos.y);
 
+    XFreePixmap(WMScreenDisplay(scr), pix);
+}
 
 static void
-showData(_Panel *panel)
+paintPreviewBox(Panel *panel, int elements)
 {
     WMScreen *scr = WMWidgetScreen(panel->parent);
-    char *str;
-    
-    str = GetStringForKey("WindowTitleFont");
-        
-    panel->windowTitleFont = WMCreateFont(scr, str);
-    
-    
-    str = GetStringForKey("MenuTitleFont");
-    
-    panel->menuTitleFont = WMCreateFont(scr, str);
-    
-    
-    str = GetStringForKey("MenuTextFont");
-    
-    panel->menuItemFont = WMCreateFont(scr, str);
-    
-    
-    
+    Display *dpy = WMScreenDisplay(scr);
+	int refresh = 0;
+	GC gc;
+	WMColor *black = WMBlackColor(scr);
+	Pixmap mitem;
+
+	gc = XCreateGC(dpy, WMWidgetXID(panel->parent), 0, NULL);
     
-    paintPreviewBox(panel);
+    if (panel->preview == None) {
+	WMPixmap *pix;
+	
+	panel->preview = XCreatePixmap(dpy, WMWidgetXID(panel->parent),
+				       240-4, 190-4, WMScreenDepth(scr));
+
+	pix = WMCreatePixmapFromXPixmaps(scr, panel->preview, None,
+					 240-4, 190-4, WMScreenDepth(scr));
+
+	WMSetLabelImage(panel->prevL, pix);
+	WMReleasePixmap(pix);
+    }
+    XFillRectangle(dpy, panel->preview, WMColorGC(panel->back),
+		   0, 0, 240-4, 190-4);
+
+    if (elements & (1<<WINTITLE)) {
+	renderPreview(panel, gc, WINTITLE, RBEV_RAISED2);
+	XDrawRectangle(dpy, panel->preview, WMColorGC(black),
+		       previewPositions[WINTITLE].pos.x-1,
+		       previewPositions[WINTITLE].pos.y-1,
+		       previewPositions[WINTITLE].size.width,
+		       previewPositions[WINTITLE].size.height);
+    }
+    if (elements & (1<<DISTITLE)) {
+	XDrawRectangle(dpy, panel->preview, WMColorGC(panel->back),
+		       previewPositions[DISTITLE].pos.x-1,
+		       previewPositions[DISTITLE].pos.y-1,
+		       previewPositions[DISTITLE].size.width,
+		       previewPositions[DISTITLE].size.height);
+    }
+    if (elements & (1<<PMTITLE)) {
+	renderPreview(panel, gc, PMTITLE, RBEV_RAISED2);
+	XDrawRectangle(dpy, panel->preview, WMColorGC(black),
+		       previewPositions[PMTITLE].pos.x-1,
+		       previewPositions[PMTITLE].pos.y-1,
+		       previewPositions[PMTITLE].size.width,
+		       previewPositions[PMTITLE].size.height);
+    }
+   if (elements & (1<<PMITEM)) {
+	WMPropList *prop;
+
+	prop = GetObjectForKey(textureOptions[PMITEM]);
+	mitem = renderMenu(panel, prop,
+			 previewPositions[PMITEM].size.width, 
+			 previewPositions[PMITEM].size.height/4);
+
+	XCopyArea(dpy, mitem, panel->preview, gc, 0, 0,
+		  previewPositions[PMITEM].size.width, 
+		  previewPositions[PMITEM].size.height,
+		  previewPositions[PMITEM].pos.x,
+		  previewPositions[PMITEM].pos.y);
+
+	XFreePixmap(dpy, mitem);
+    } 
+    if (elements & (1<<PMITEM|1<<PMTITLE)) {
+	XDrawLine(dpy, panel->preview, gc, 29, 125, 29, 125+20*4+25);
+	XDrawLine(dpy, panel->preview, gc, 119, 125, 119, 125+20*4+25); 
+    }
+    if (elements & (1<<PCLIP)) {
+	renderClip(panel, gc, PCLIP, RBEV_RAISED3); 
+	XDrawRectangle(dpy, panel->preview, WMColorGC(black),
+		       previewPositions[PCLIP].pos.x-1,
+		       previewPositions[PCLIP].pos.y-1,
+		       previewPositions[PCLIP].size.width,
+		       previewPositions[PCLIP].size.height);
+    }
+    if (elements & (1<<PICON)) {
+	renderPreview(panel, gc, PICON, RBEV_RAISED3);
+	XDrawRectangle(dpy, panel->preview, WMColorGC(black),
+		       previewPositions[PICON].pos.x-1,
+		       previewPositions[PICON].pos.y-1,
+		       previewPositions[PICON].size.width,
+		       previewPositions[PICON].size.height);
+    }
+	drawFonts(panel, elements);
+    WMRedisplayWidget(panel->prevL);
+	XFreeGC(dpy, gc);
+	WMReleaseColor(black);
 }
 
+static void 
+paintTextField(void *data, int section)
+{
+	_Panel *panel = (_Panel*)data;
+	char *sample = NULL;
+	int encoding;
+	encoding = WMGetPopUpButtonSelectedItem(panel->langP);
+	WMSetTextFieldFont(panel->fontT, getFontForPreview(panel, section));
+	switch(encoding) {
+		case 0:  /* Current Font in theme */
+			WMSetTextFieldText(panel->fontT, 
+					"ABCDEFGHIKLMNOPQRSTUVXYWZabcdefghiklmnopqrstuvxywz0123456789\x00e0\x00e6\x00e7\x00eb\x00ee\x00f0\x00f1\x00f3\x00f9\x00fd\x00c0\x00c6\x00c7\x00cb\x00ce\x00d0\x00d1\x00d3\x00d9\x00dd"); 
+			break;
+		case 1:  /* default */
+			WMSetTextFieldText(panel->fontT, getFontSampleString(panel));
+				//	"ABCDEFGHIKLMNOPQRSTUVXYWZabcdefghiklmnopqrstuvxywz0123456789\x00e0\x00e6\x00e7\x00eb\x00ee\x00f0\x00f1\x00f3\x00f9\x00fd\x00c0\x00c6\x00c7\x00cb\x00ce\x00d0\x00d1\x00d3\x00d9\x00dd"); 
+			break;
+		case 2:  /* latin1 iso8859-1 */
+			WMSetTextFieldText(panel->fontT, getFontSampleString(panel));
+				//  "ABCDEFGHIKLMNOPQRSTUVXYWZabcdefghiklmnopqrstuvxywz0123456789\x00e0\x00e6\x00e7\x00eb\x00ee\x00f0\x00f1\x00f3\x00f9\x00fd\x00c0\x00c6\x00c7\x00cb\x00ce\x00d0\x00d1\x00d3\x00d9\x00dd"); 
+			break;
+		case 3:  /* latin2 iso8859-2 */
+			WMSetTextFieldText(panel->fontT, getFontSampleString(panel));
+			//		"ABCDEFGHIKLMNOPQRSTUVXYWZabcdefghiklmnopqrstuvxywz0123456789\x00e0\x00e6\x00e7\x00eb\x00ee\x00f0\x00f1\x00f3\x00f9\x00fd\x00c0\x00c6\x00c7\x00cb\x00ce\x00d0\x00d1\x00d3\x00d9\x00dd"); 
+			break;
+		case 4:  /* Greek iso8859-7 */
+			WMSetTextFieldText(panel->fontT, getFontSampleString(panel));
+			//		"ABCDEFGHIKLMNOPQRSTUVXYWZabcdefghiklmnopqrstuvxywz0123456789\x00e0\x00e6\x00e7\x00eb\x00ee\x00f0\x00f1\x00f3\x00f9\x00fd\x00c0\x00c6\x00c7\x00cb\x00ce\x00d0\x00d1\x00d3\x00d9\x00dd"); 
+			break;
+/* luckily all these happen to have the MultiByte chars in the same places */
+		case 5:  /* Japanese jisx0208.1983 */
+			WMSetTextFieldText(panel->fontT, getFontSampleString(panel));
+			//		"Window Maker ÀßÄê¥æ¡¼¥Æ¥£¥ê¥Æ¥£"); 
+			break;
+		case 6:  /* Korean ksc5601.1987 */
+			WMSetTextFieldText(panel->fontT, getFontSampleString(panel));
+			//		"À©µµ¿ì ¸ÞÀÌÄ¿ ¼³Á¤"); 
+			break;
+		case 7:  /* korean2 daewoo */ 
+			WMSetTextFieldText(panel->fontT, getFontSampleString(panel));
+			//		"À©µµ¿ì ¸ÞÀÌÄ¿ ¼³Á¤"); 
+			break;
+		case 8:  /* Russian koi8-r */
+			WMSetTextFieldText(panel->fontT, getFontSampleString(panel));
+			//		"ó×ÏÊÓÔ×Á Window Maker"); 
+			break;
+		case 9:  /* Ukranian koi8-u */
+			WMSetTextFieldText(panel->fontT, getFontSampleString(panel));
+			//		"ABCDEFGHIKLMNOPQRSTUVXYWZabcdefghiklmnopqrstuvxywz0123456789\x00e0\x00e6\x00e7\x00eb\x00ee\x00f0\x00f1\x00f3\x00f9\x00fd\x00c0\x00c6\x00c7\x00cb\x00ce\x00d0\x00d1\x00d3\x00d9\x00dd"); 
+			break;
+	}
+}
 
 static void
-setLanguageType(Panel *p, Bool multiByte)
+previewClick(XEvent *event, void *clientData)
 {
+    _Panel *panel = (_Panel*)clientData;
+    int i;
+
+	for (i = 0; i < sizeof(previewPositions)/sizeof(WMRect); i++) {
+	    if (event->xbutton.x >= previewPositions[i].pos.x
+		&& event->xbutton.y >= previewPositions[i].pos.y
+		&& event->xbutton.x < previewPositions[i].pos.x 
+		+ previewPositions[i].size.width
+		&& event->xbutton.y < previewPositions[i].pos.y 
+		+ previewPositions[i].size.height) {
+		
+		WMSetPopUpButtonSelectedItem(panel->fontSel, i);
+		changePage(panel->fontSel, panel);
+		return;
+		}
+	}
+}
+
+static void
+changePage(WMWidget *w, void *data)
+{
+    _Panel *panel = (_Panel*)data;
+    int section;
+    WMScreen *scr = WMWidgetScreen(panel->box);
+    RContext *rc = WMScreenRContext(scr);
+    static WMPoint positions[] = {
+	{5, 15},
+	{5, 62},
+	{5, 110},
+	{5, 140},
+	{130, 62},
+	{130, 132}
+    };
+
+    if (w) {
+	section = WMGetPopUpButtonSelectedItem(panel->fontSel);
+    }
+    {
+	WMColor *color;
+
+	color = WMCreateRGBColor(scr, 0x5100, 0x5100, 0x7100, True);
+	XFillRectangle(rc->dpy, panel->preview, WMColorGC(color),
+		       positions[panel->oldsection].x, 
+		       positions[panel->oldsection].y, 22, 22);
+	WMReleaseColor(color);
+    }
+    if (w) {
+	panel->oldsection = section;
+	WMDrawPixmap(panel->hand, panel->preview, positions[section].x, 
+		     positions[section].y);
+    }
+    WMRedisplayWidget(panel->prevL);
+	paintTextField(panel, section);
+	refillFontSetList(panel);
+}
+
+static void
+setLanguageType(void *data, Bool multiByte)
+{
+	_Panel *p = (_Panel*)data;
+
     if (multiByte) {
 	WMMapWidget(p->fsetL);
 	WMMapWidget(p->fsetLs);
 	WMMapWidget(p->addB);
 	WMMapWidget(p->editB);
 	WMMapWidget(p->remB);
+	WMMapWidget(p->upB);
+	WMMapWidget(p->downB);
 	
 	WMUnmapWidget(p->fontT);
 	WMUnmapWidget(p->changeB);
@@ -253,20 +1056,71 @@
 	WMUnmapWidget(p->addB);
 	WMUnmapWidget(p->editB);
 	WMUnmapWidget(p->remB);
+	WMUnmapWidget(p->upB);
+	WMUnmapWidget(p->downB);
 	
 	WMMapWidget(p->fontT);
 	WMMapWidget(p->changeB);
     }
 }
 
+static void
+refillFontSetList(void *data)
+{
+	_Panel *panel = (_Panel*)data;
+	WMPropList *array;
+	char *encoding = getFontEncoding(panel);
+	int section = WMGetPopUpButtonSelectedItem(panel->fontSel);
+	int i;
+	int pos;
+	WMClearList(panel->fsetLs);
+	if(!encoding) {
+	array = getCurrentFontProp(panel, section);
+	} else {
+	array = getDefaultFontProp(panel, encoding, section);
+	}
+	if(!array){
+		wwarning("error not Font prop given");
+	} else {
+	for (i = 0; i < WMGetPropListItemCount(array); i++) {
+		WMGetFromPLArray(array, i);
+		WMAddListItem( panel->fsetLs, 
+				WMGetFromPLString(
+					WMGetFromPLArray(array, i)));
+	}
+	WMReleasePropList(array);
+	WMSelectListItem(panel->fsetLs, 0);
+	}
 
+	checkListForArrows(panel);
+}
+
+static void
+insertCurrentFont(char *data, char *type)
+{
+	WMPropList *key;
+	WMPropList *array;
+	char *tmp, *str;
 
+	key = WMCreatePLString(type);
+	array = WMCreatePLArray(NULL);
 
+	str = wstrdup(data);
+	tmp = strtok(str, ",");
+	while(tmp) {
+		WMAddToPLArray(array, WMCreatePLString(tmp));
+		tmp = strtok(NULL, ",");
+	}
+	wfree(str);
 
+	
+	WMPutInPLDictionary(CurrentFontArray, key, array);
+}
 
 static void
-readFontEncodings(Panel *panel)
+readFontEncodings(void *data)
 {
+	_Panel *panel = (_Panel*)data;
     WMPropList *pl = NULL;
     char *path;
     char *msg;
@@ -295,7 +1149,7 @@
 	    goto error;
 	}
 
-	WMAddPopUpButtonItem(panel->langP, _("- Custom -"));
+	WMAddPopUpButtonItem(panel->langP, _("Current"));
 	
 	for (i = 0; i < WMGetPropListItemCount(array); i++) {
 	    WMPropList *item, *str;
@@ -305,17 +1159,31 @@
 	    mi = WMAddPopUpButtonItem(panel->langP, WMGetFromPLString(str));
 	    WMSetMenuItemRepresentedObject(mi, WMRetainPropList(item));
 	}
+	WMSetPopUpButtonSelectedItem(panel->langP, 0);
+
 	
 	key = WMCreatePLString("WindowTitleFont");
-	DefaultWindowTitleFont = WMGetFromPLDictionary(pl, key);
+	DefaultWindowTitleFont = WMRetainPropList(WMGetFromPLDictionary(pl, key));
 	WMReleasePropList(key);
 	
 	key = WMCreatePLString("MenuTitleFont");
-	DefaultMenuTitleFont = WMGetFromPLDictionary(pl, key);
+	DefaultMenuTitleFont = WMRetainPropList(WMGetFromPLDictionary(pl, key));
 	WMReleasePropList(key);
 
 	key = WMCreatePLString("MenuTextFont");
-	DefaultMenuTextFont = WMGetFromPLDictionary(pl, key);
+	DefaultMenuTextFont = WMRetainPropList(WMGetFromPLDictionary(pl, key));
+	WMReleasePropList(key);
+
+	key = WMCreatePLString("IconTitleFont");
+	DefaultIconTitleFont = WMRetainPropList(WMGetFromPLDictionary(pl, key));
+	WMReleasePropList(key);
+
+	key = WMCreatePLString("ClipTitleFont");
+	DefaultClipTitleFont = WMRetainPropList(WMGetFromPLDictionary(pl, key));
+	WMReleasePropList(key);
+
+	key = WMCreatePLString("LargeDisplayFont");
+	DefaultLargeDisplayFont = WMRetainPropList(WMGetFromPLDictionary(pl, key));
 	WMReleasePropList(key);
     }
 
@@ -329,26 +1197,648 @@
 		    _("Error"), msg, _("OK"), NULL, NULL);
 }
 
+static void 
+checkListForArrows(void *data)
+{
+	_Panel *panel = (_Panel*)data;
+	int list;
+	list = WMGetListNumberOfRows(panel->fsetLs);
+	
+	if(list > 1) 
+	{
+		if(WMGetListSelectedItemRow(panel->fsetLs) == 0) { 
+			WMSetButtonEnabled(panel->upB, False);
+			WMSetButtonEnabled(panel->downB, True);
+		} else if(WMGetListSelectedItemRow(panel->fsetLs) == list-1) {
+			WMSetButtonEnabled(panel->downB, False);
+			WMSetButtonEnabled(panel->upB, True);
+		} else {
+			WMSetButtonEnabled(panel->upB, True);
+			WMSetButtonEnabled(panel->downB, True);
+		}
+
+	} else {
+		WMSetButtonEnabled(panel->upB, False);
+		WMSetButtonEnabled(panel->downB, False);
+	}
+	/* added to control the Remove button */
+	if(list > 1) 
+		WMSetButtonEnabled(panel->remB, True);
+	else 
+		WMSetButtonEnabled(panel->remB, False);
+}
+
+static char*
+fontOfLang(void *data, char *encoding, int section)
+{
+	_Panel *panel = (_Panel*)data;
+	WMPropList *array;
+	char *buf = NULL;
+	int i;
+
+	if(!encoding)
+	array = getCurrentFontProp(panel, section);
+	else 
+	array = getDefaultFontProp(panel, encoding, section);
+
+	if(!array) {
+		wwarning("error no font prop given");
+		return NULL;
+	} else {
+	for(i=0; i<WMGetPropListItemCount(array); i++) 
+	{
+		if(buf) buf = wstrconcat(buf, ",");
+		buf = wstrconcat(buf, WMGetFromPLString(WMGetFromPLArray(array, i)));
+	}
+	WMReleasePropList(array);
+	return wstrdup(buf);
+	}
+}
 
-#if 0
 static void
 changeLanguageAction(WMWidget *w, void *data)
 {
-    /*Panel *panel = (Panel*)data;*/
+    Panel *panel = (Panel*)data;
+    WMScreen *scr = WMWidgetScreen(panel->box);
+	int section;
+
+	section = WMGetPopUpButtonSelectedItem(w);
+
+	if(isEncodingMultiByte(panel)) { 
+		setLanguageType(panel, True);
+	} else {
+		if(panel->MultiByteText) setLanguageType(panel, True);
+		else setLanguageType(panel, False);
+	}
+
+	paintPreviewBox(panel, EVERYTHING);
+	changePage(panel->fontSel, panel);
+}
+
+static WMFont*
+getFontForPreview(void *data, int element)
+{
+    _Panel *panel = (_Panel*)data;
+	WMFont *font; 
+	char *fname;
+    WMScreen *scr = WMWidgetScreen(panel->box);
+	char *encoding = getFontEncoding(panel);
+	fname = fontOfLang(panel, encoding, element);
+	if (WMHasAntialiasingSupport(scr))
+	{
+		if(panel->AntialiasedText) {
+			font = WMCreateFontWithFlags(scr, fname, WFAntialiased);
+		} else {
+			font = WMCreateFont(scr, fname);
+		}
+	} else {
+		font = WMCreateFont(scr, fname);
+	}
+	if(!font) {
+		char *msg;
+		int length;
+		length = strlen("\"")+
+			strlen(fname)+strlen("\" was not loaded correctly.  Make sure the font is available for that encoding.\nLoadind default system font.");
+		msg = wmalloc(length +1);
+		snprintf(msg, length + 1, 
+				"\"%s\" was not loaded correctly.  Make sure the font is available for that encoding.\nLoading default system font.", 
+				fname);
+		WMRunAlertPanel(WMWidgetScreen(panel->parent),panel->parent, 
+				_("Warning"), msg, _("OK"), NULL, NULL);
+		font = getDefaultSystemFont(panel, element);
+	} 
+	return font;
+}
+
+static char*
+getFontSampleString(void *data)
+{
+	_Panel *panel = (_Panel*)data;
+    WMScreen *scr = WMWidgetScreen(panel->box);
     WMMenuItem *mi;
     WMPropList *pl;
+	int section;
 
-    mi = WMGetPopUpButtonMenuItem(w, WMGetPopUpButtonSelectedItem(w));
-    pl = WMGetMenuItemRepresentedObject(mi);
+	section = WMGetPopUpButtonSelectedItem(panel->langP);
+	mi = WMGetPopUpButtonMenuItem(panel->langP, section);
+	pl = WMGetMenuItemRepresentedObject(mi);
+
+	if (!pl) {
+		return NULL;
+	} else {
+		char *sample;
+		sample = WMGetFromPLString(WMGetFromPLArray(pl,3));
+		return sample;
+    }
+}
 
-    if (!pl) {
-	/* custom */
-    } else {
-	
+static char*
+getFontEncoding(void *data)
+{
+	_Panel *panel = (_Panel*)data;
+    WMScreen *scr = WMWidgetScreen(panel->box);
+    WMMenuItem *mi;
+    WMPropList *pl;
+	int section;
+
+	section = WMGetPopUpButtonSelectedItem(panel->langP);
+	mi = WMGetPopUpButtonMenuItem(panel->langP, section);
+	pl = WMGetMenuItemRepresentedObject(mi);
+
+	if (!pl) {
+		return NULL;
+	} else {
+		char *encoding;
+		encoding = WMGetFromPLString(WMGetFromPLArray(pl,2));
+		return encoding;
     }
 }
-#endif
 
+static Bool
+isEncodingMultiByte(void *data)
+{
+	_Panel *panel = (_Panel*)data;
+    WMScreen *scr = WMWidgetScreen(panel->box);
+    WMMenuItem *mi;
+    WMPropList *pl;
+	int section;
+
+	section = WMGetPopUpButtonSelectedItem(panel->langP);
+	mi = WMGetPopUpButtonMenuItem(panel->langP, section);
+	pl = WMGetMenuItemRepresentedObject(mi);
+
+	if (!pl) {
+		return False;
+	} else {
+		char *multiByte;
+		int res;
+		multiByte = WMGetFromPLString(WMGetFromPLArray(pl,1));
+		res = atoi(multiByte);
+		if(res)
+			return True;
+		else
+			return False;
+    }
+}
+
+static WMPropList*
+getCurrentFontProp(void *data, int section)
+{
+	WMPropList *array;
+	switch (section) {
+		case 0:
+			array = WMRetainPropList(
+					WMGetFromPLDictionary(CurrentFontArray,
+						WMCreatePLString("WindowTitleFont")));
+			break;
+		case 1:
+			array = WMRetainPropList(
+					WMGetFromPLDictionary(CurrentFontArray, 
+						WMCreatePLString("LargeDisplayFont")));
+			break;
+		case 2:
+			array = WMRetainPropList(
+					WMGetFromPLDictionary(CurrentFontArray, 
+						WMCreatePLString("MenuTitleFont")));
+			break;
+		case 3:
+			array = WMRetainPropList(
+					WMGetFromPLDictionary(CurrentFontArray, 
+						WMCreatePLString("MenuTextFont")));
+			break;
+		case 4:
+			array = WMRetainPropList(
+					WMGetFromPLDictionary(CurrentFontArray,
+						WMCreatePLString("ClipTitleFont")));
+			break;
+		case 5:
+			array = WMRetainPropList(
+					WMGetFromPLDictionary(CurrentFontArray, 
+						WMCreatePLString("IconTitleFont")));
+			break;
+	}
+	if(!WMIsPLArray(array)) {
+		return NULL;
+	} else {
+		return array;
+	}
+}
+
+static WMPropList*
+getDefaultFontProp(void *data, char *encoding, int section)
+{
+	WMPropList *array;
+	WMPropList *key = WMCreatePLString(encoding);
+	switch (section) {
+		case 0:
+			array = WMRetainPropList(
+					WMGetFromPLDictionary(DefaultWindowTitleFont, key));
+			WMReleasePropList(key);
+			break;
+		case 1:
+			array = WMRetainPropList(
+					WMGetFromPLDictionary(DefaultLargeDisplayFont, key));
+			WMReleasePropList(key);
+			break;
+		case 2:
+			array = WMRetainPropList(
+					WMGetFromPLDictionary(DefaultMenuTitleFont, key));
+			WMReleasePropList(key);
+			break;
+		case 3:
+			array = WMRetainPropList(
+					WMGetFromPLDictionary(DefaultMenuTextFont, key));
+			WMReleasePropList(key);
+			break;
+		case 4:
+			array = WMRetainPropList(
+					WMGetFromPLDictionary(DefaultClipTitleFont, key));
+			WMReleasePropList(key);
+			break;
+		case 5:
+			array = WMRetainPropList(
+					WMGetFromPLDictionary(DefaultIconTitleFont, key));
+			WMReleasePropList(key);
+			break;
+	}
+	if(!WMIsPLArray(array)) {
+		return NULL;
+	} else {
+		return array;
+	}
+}
+
+static WMFont*
+getDefaultSystemFont(void *data, int element)
+{
+    _Panel *panel = (_Panel*)data;
+    WMScreen *scr = WMWidgetScreen(panel->box);
+	switch(element) {
+		case 0:
+			return WMBoldSystemFontOfSize(scr, 12);
+			break;
+		case 1:
+			return WMBoldSystemFontOfSize(scr, 24);
+			break;
+		case 2:
+			return WMBoldSystemFontOfSize(scr, 12);
+			break;
+		case 3:
+			return WMSystemFontOfSize(scr, 12);
+			break;
+		case 4:
+			return WMSystemFontOfSize(scr, 8);
+			break;
+		case 5:
+			return WMSystemFontOfSize(scr, 8);
+			break;
+	}
+}
+
+static void
+multiClick(WMWidget *w, void *data)
+{
+	_Panel *panel = (_Panel*)data;
+	if(!panel->MultiByteText) {
+		WMSetButtonText(panel->togMulti, _("Yes"));
+		setLanguageType(panel, True);
+		panel->MultiByteText = True;
+	} else {
+		WMSetButtonText(panel->togMulti, _("Auto"));
+		if(isEncodingMultiByte(panel)) setLanguageType(panel, True);
+		else setLanguageType(panel, False);
+		panel->MultiByteText = False;
+	}
+}
+
+static void 
+toggleAA(WMWidget *w, void *data)
+{
+	_Panel *panel = (_Panel*)data;
+	int section;
+	if(panel->AntialiasedText)
+		panel->AntialiasedText = False;
+	else
+		panel->AntialiasedText = True;
+	/* hmm now i gotta redraw all the fonts in the preview section
+	 * and the text field 
+	 */
+	paintPreviewBox(panel, EVERYTHING);
+	changePage(panel->fontSel, panel);
+	if(isEncodingMultiByte(panel)) setLanguageType(panel, True);
+} 
+
+static void
+listClick(WMWidget *w, void *data)
+{
+	_Panel *panel = (_Panel*)data;
+	
+	checkListForArrows(panel);
+}
+
+static void
+moveUpListItem(WMWidget *w, void *data)
+{
+	_Panel *panel = (_Panel*)data;
+	WMListItem *tmp;
+	int pos;
+	char *listtext;
+	WMPropList *array;
+	WMPropList *string;
+	char *encoding = getFontEncoding(panel);
+	int section = WMGetPopUpButtonSelectedItem(panel->fontSel);
+
+	if(!encoding)
+	array = getCurrentFontProp(panel, section);
+	else
+	array = getDefaultFontProp(panel, encoding, section);
+
+	pos = WMGetListSelectedItemRow(panel->fsetLs);
+
+	tmp = WMGetListItem(panel->fsetLs, pos);
+	listtext = wstrdup(tmp->text);
+	string = WMCreatePLString(listtext);
+
+	WMRemoveListItem(panel->fsetLs, pos);
+	WMDeleteFromPLArray(array, pos);
+	WMInsertListItem(panel->fsetLs, pos-1, listtext);
+	WMInsertInPLArray(array, pos-1, string);
+
+	paintPreviewBox(panel, EVERYTHING);
+	changePage(panel->fontSel, panel);
+
+	WMSelectListItem(panel->fsetLs, pos-1);
+	checkListForArrows(panel);
+}
+
+static void
+moveDownListItem(WMWidget *w, void *data)
+{
+	_Panel *panel = (_Panel*)data;
+	WMListItem *tmp;
+	int pos;
+	char *listtext;
+	WMPropList *array;
+	WMPropList *string;
+	char *encoding = getFontEncoding(panel);
+	int section = WMGetPopUpButtonSelectedItem(panel->fontSel);
+
+	if(!encoding)
+	array = getCurrentFontProp(panel, section);
+	else
+	array = getDefaultFontProp(panel, encoding, section);
+
+	pos = WMGetListSelectedItemRow(panel->fsetLs);
+
+	tmp = WMGetListItem(panel->fsetLs, pos);
+	listtext = wstrdup(tmp->text);
+	string = WMCreatePLString(listtext);
+	WMRemoveListItem(panel->fsetLs, pos);
+	WMDeleteFromPLArray(array, pos);
+	WMInsertListItem(panel->fsetLs, pos+1, listtext);
+	WMInsertInPLArray(array, pos+1, string);
+
+	paintPreviewBox(panel, EVERYTHING);
+	changePage(panel->fontSel, panel);
+
+	WMSelectListItem(panel->fsetLs, pos+1);
+	checkListForArrows(panel);
+}
+
+static void
+addButtonAction(WMWidget *w, void *data)
+{
+	_Panel *panel = (_Panel*)data;
+	char *chosenFont;
+	int pos;
+	WMPropList *array;
+	WMPropList *string;
+	char *encoding = getFontEncoding(panel);
+	int section = WMGetPopUpButtonSelectedItem(panel->fontSel);
+
+	if(!encoding)
+	array = getCurrentFontProp(panel, section);
+	else
+	array = getDefaultFontProp(panel, encoding, section);
+
+	WMHideFontPanel(panel->fontPanel);
+	chosenFont = WMGetFontPanelFontName(panel->fontPanel);
+	string = WMCreatePLString(chosenFont);
+	pos = WMGetListSelectedItemRow(panel->fsetLs);
+	WMInsertListItem(panel->fsetLs, pos+1, chosenFont);
+	WMInsertInPLArray(array, pos+1, string);
+	WMSelectListItem(panel->fsetLs, pos+1);
+
+	paintPreviewBox(panel, EVERYTHING);
+	changePage(panel->fontSel, panel);
+}
+
+static void
+changeButtonAction(WMWidget *w, void *data)
+{
+	_Panel *panel = (_Panel*)data;
+	char *chosenFont;
+	int pos;
+	WMPropList *array;
+	WMPropList *string;
+	char *encoding = getFontEncoding(panel);
+	int section = WMGetPopUpButtonSelectedItem(panel->fontSel);
+
+	if(!encoding)
+	array = getCurrentFontProp(panel, section);
+	else
+	array = getDefaultFontProp(panel, encoding, section);
+
+	WMHideFontPanel(panel->fontPanel);
+
+	chosenFont = WMGetFontPanelFontName(panel->fontPanel);
+	string = WMCreatePLString(chosenFont);
+
+	pos = WMGetListSelectedItemRow(panel->fsetLs);
+	WMRemoveListItem(panel->fsetLs, pos);
+	WMDeleteFromPLArray(array, pos);
+	WMInsertListItem(panel->fsetLs, pos, chosenFont);
+	WMInsertInPLArray(array, pos, string);
+	WMSelectListItem(panel->fsetLs, pos);
+
+	paintPreviewBox(panel, EVERYTHING);
+	changePage(panel->fontSel, panel);
+}
+
+static void
+changeButtonClick(WMWidget *w, void *data)
+{
+	_Panel *panel = (_Panel*)data;
+
+	WMSetFontPanelAction(panel->fontPanel, changeButtonAction, panel);
+	WMShowFontPanel(panel->fontPanel);
+}
+
+static void
+addButtonClick(WMWidget *w, void *data)
+{
+	_Panel *panel = (_Panel*)data;
+
+	WMSetFontPanelAction(panel->fontPanel, addButtonAction, panel);
+	WMShowFontPanel(panel->fontPanel);
+}
+
+static void
+removeButtonClick(WMWidget *w, void *data)
+{
+	_Panel *panel = (_Panel*)data;
+	int pos;
+	int list;
+	WMPropList *array;
+	char *encoding = getFontEncoding(panel);
+	int section = WMGetPopUpButtonSelectedItem(panel->fontSel);
+
+	if(!encoding)
+	array = getCurrentFontProp(panel, section);
+	else
+	array = getDefaultFontProp(panel, encoding, section);
+
+	pos = WMGetListSelectedItemRow(panel->fsetLs);
+	WMRemoveListItem(panel->fsetLs, pos);
+	WMDeleteFromPLArray(array, pos);
+
+	list = WMGetListNumberOfRows(panel->fsetLs);
+	if(list != 0) {
+	if(list > pos) 
+		WMSelectListItem(panel->fsetLs, pos);
+	else if(list == pos) 
+		WMSelectListItem(panel->fsetLs, list-1);
+	else 
+		WMSelectListItem(panel->fsetLs, 0);
+	}
+	checkListForArrows(panel);
+
+	paintPreviewBox(panel, EVERYTHING);
+	changePage(panel->fontSel, panel);
+}
+
+static void
+showData(_Panel *panel)
+{
+    WMScreen *scr = WMWidgetScreen(panel->parent);
+    char *str;
+	int i;
+    
+	CurrentFontArray = WMCreatePLDictionary(NULL, NULL);
+
+    str = GetStringForKey("WindowTitleFont");
+	insertCurrentFont(wstrdup(str), "WindowTitleFont");
+    
+	str = GetStringForKey("LargeDisplayFont");
+	insertCurrentFont(wstrdup(str), "LargeDisplayFont");
+    
+    str = GetStringForKey("MenuTitleFont");
+	insertCurrentFont(wstrdup(str), "MenuTitleFont");
+
+    str = GetStringForKey("MenuTextFont");
+	insertCurrentFont(wstrdup(str), "MenuTextFont");
+
+	str = GetStringForKey("ClipTitleFont");
+	insertCurrentFont(wstrdup(str), "ClipTitleFont");
+
+	str = GetStringForKey("IconTitleFont");
+	insertCurrentFont(wstrdup(str), "IconTitleFont");
+
+	/* i put this here cause it needs to be known before we paint */
+    readFontEncodings(panel);
+
+    str = GetStringForKey("MenuStyle");
+    if (str && strcasecmp(str, "flat")==0) {
+	panel->menuStyle = MSTYLE_FLAT;
+    } else if (str && strcasecmp(str, "singletexture")==0) {
+	panel->menuStyle = MSTYLE_SINGLE;
+    } else {
+	panel->menuStyle = MSTYLE_NORMAL;
+    }
+
+    str = GetStringForKey("TitleJustify");
+    if (str && strcasecmp(str, "left")==0) {
+	panel->titleAlignment = WALeft;
+    } else if (str && strcasecmp(str, "right")==0) {
+	panel->titleAlignment = WARight;
+    } else {
+	panel->titleAlignment = WACenter;
+    }
+    for (i = 0; i < sizeof(colorOptions)/(2*sizeof(char*)); i++) {
+	WMColor *color;
+
+	str = GetStringForKey(colorOptions[i*2]);
+	if (!str)
+	    str = colorOptions[i*2+1];
+
+	if (!(color = WMCreateNamedColor(WMWidgetScreen(panel->box), str, False))) {
+	    color = WMCreateNamedColor(WMWidgetScreen(panel->box), "#000000", False);
+	}
+	panel->colors[i] = color;
+    }
+
+	str = GetStringForKey("MultiByteText");
+	if (str)
+	{
+		if (strcasecmp(str, "YES")==0) {
+			setLanguageType(panel, True);
+			WMSetButtonText(panel->togMulti, "Yes");
+			printf("yes multi\n");
+			panel->MultiByteText = True;
+		} else if (strcasecmp(str, "AUTO") == 0) { 
+			char *locale;
+			locale = setlocale(LC_CTYPE, NULL);
+			if(locale != NULL 
+				&& (strncmp(locale, "ja", 2) == 0
+				|| strncmp(locale, "zh", 2) == 0
+				|| strncmp(locale, "ko", 2) == 0)) {
+				setLanguageType(panel, True); 
+				WMSetButtonText(panel->togMulti, "Auto");
+				printf("auto multi\n");
+				panel->MultiByteText = True;
+			} else { 
+				setLanguageType(panel, False);
+				WMSetButtonText(panel->togMulti, "Auto");
+				panel->MultiByteText = False;
+			}
+		}
+	} else { 
+		char *locale;
+		locale = setlocale(LC_CTYPE, NULL);
+		if(locale != NULL 
+		&& (strncmp(locale, "ja", 2) == 0
+		|| strncmp(locale, "zh", 2) == 0
+		|| strncmp(locale, "ko", 2) == 0)) {
+			setLanguageType(panel, True); 
+			WMSetButtonText(panel->togMulti, "Auto");
+			printf("auto multi\n");
+			panel->MultiByteText = True;
+		} else { 
+			setLanguageType(panel, False);
+			WMSetButtonText(panel->togMulti, "Auto");
+			panel->MultiByteText = False;
+		}
+	}
+	/* gotta check for Antialiasing AFTER MultiByte incase the use has both 
+	 * to maintain behavior in Current Fonts set or i could add another if
+	 * statement to setLanguageType =) */
+	if (WMHasAntialiasingSupport(scr))
+	{
+		WMMapWidget(panel->togAA);
+		if(GetBoolForKey("AntialiasedText")){
+		WMSetButtonSelected(panel->togAA, True);
+		panel->AntialiasedText = True;
+		} else { 
+		WMSetButtonSelected(panel->togAA, False);
+		panel->AntialiasedText = False;
+		}
+	} else {
+		WMUnmapWidget(panel->togAA);
+	}
+
+
+    paintPreviewBox(panel, EVERYTHING);
+}
 
 static void
 createPanel(Panel *p)
@@ -360,32 +1850,80 @@
     panel->box = WMCreateBox(panel->parent);
     WMSetViewExpandsToParent(WMWidgetView(panel->box), 2, 2, 2, 2);
     
+	panel->hand = WMCreatePixmapFromXPMData(scr, hand_xpm);
+	panel->up_arrow = WMCreatePixmapFromXPMData(scr, up_arrow_xpm);
+	panel->down_arrow = WMCreatePixmapFromXPMData(scr, down_arrow_xpm);
+	panel->alt_up_arrow = WMCreatePixmapFromXPMData(scr, alt_up_arrow_xpm);
+	panel->alt_down_arrow = WMCreatePixmapFromXPMData(scr, alt_down_arrow_xpm);
 
     panel->prevL = WMCreateLabel(panel->box);
-    WMResizeWidget(panel->prevL, 240, FRAME_HEIGHT-20);
-    WMMoveWidget(panel->prevL, 15, 10);
+    WMResizeWidget(panel->prevL, 240, FRAME_HEIGHT - 45);
+    WMMoveWidget(panel->prevL, 15, 35);
     WMSetLabelRelief(panel->prevL, WRSunken);
     WMSetLabelImagePosition(panel->prevL, WIPImageOnly);
 
+	WMCreateEventHandler(WMWidgetView(panel->prevL), ButtonPressMask,
+					previewClick, panel);
+
+	/* Widget Selection */
+	panel->fontSel = WMCreatePopUpButton(panel->box);
+	WMResizeWidget(panel->fontSel, 135, 20);
+	WMMoveWidget(panel->fontSel, 15, 10);
+	WMAddPopUpButtonItem(panel->fontSel, _("Window Title Font"));
+	WMAddPopUpButtonItem(panel->fontSel, _("Large Display Font"));
+	WMAddPopUpButtonItem(panel->fontSel, _("Menu Title Font"));
+	WMAddPopUpButtonItem(panel->fontSel, _("Menu Item Font" ));
+	WMAddPopUpButtonItem(panel->fontSel, _("Clip Title Font"));
+	WMAddPopUpButtonItem(panel->fontSel, _("Icon Title Font"));
+
+	WMSetPopUpButtonSelectedItem(panel->fontSel, 0);
+
+	WMSetPopUpButtonAction(panel->fontSel, changePage, panel);
+
+	/* MultiByteText toggle */
+	panel->multiF = WMCreateFrame(panel->box);
+	WMResizeWidget(panel->multiF, 70, 50);
+	WMMoveWidget(panel->multiF, 440, 10);
+	WMSetFrameTitle(panel->multiF, _("MultiByte"));
+
+
+	panel->togMulti = WMCreateCommandButton(panel->multiF);
+	WMResizeWidget(panel->togMulti, 40, 20);
+	WMMoveWidget(panel->togMulti, 15, 20);
+	WMSetButtonAction(panel->togMulti, multiClick, panel);
+
+	WMMapSubwidgets(panel->multiF);
     
     /* language selection */
-    
     panel->langF = WMCreateFrame(panel->box);
-    WMResizeWidget(panel->langF, 245, 50);
+    WMResizeWidget(panel->langF, 165, 50);
     WMMoveWidget(panel->langF, 265, 10);
-    WMSetFrameTitle(panel->langF, _("Default Font Sets"));
+    WMSetFrameTitle(panel->langF, _("Default Font Encodings"));
 
     panel->langP = WMCreatePopUpButton(panel->langF);
-    WMResizeWidget(panel->langP, 215, 20);
+    WMResizeWidget(panel->langP, 135, 20);
     WMMoveWidget(panel->langP, 15, 20);
 
+	WMSetPopUpButtonAction(panel->langP, changeLanguageAction, panel);
+
     WMMapSubwidgets(panel->langF);
 
-    
+	/* Antialiasing */
+	if (WMHasAntialiasingSupport(scr))
+	{
+	panel->togAA = WMCreateSwitchButton(panel->box);
+	WMResizeWidget(panel->togAA, 110, 20);
+	WMMoveWidget(panel->togAA, 155, 10);
+	WMSetButtonText(panel->togAA, _("Smooth Fonts"));
+	WMSetBalloonTextForView(_("Smooth Font edges for the eye candy\n"
+							 "requires a restart after saving"), 
+							 WMWidgetView(panel->togAA));
+	WMSetButtonAction(panel->togAA, toggleAA, panel); 
+	}
     /* multibyte */
     panel->fsetL = WMCreateLabel(panel->box);
-    WMResizeWidget(panel->fsetL, 205, 20);
-    WMMoveWidget(panel->fsetL, 215, 127);
+    WMResizeWidget(panel->fsetL, 245, 20);
+    WMMoveWidget(panel->fsetL, 265, 70);
     WMSetLabelText(panel->fsetL, _("Font Set"));
     WMSetLabelRelief(panel->fsetL, WRSunken);
     WMSetLabelTextAlignment(panel->fsetL, WACenter);
@@ -408,34 +1946,58 @@
     }
 
     panel->fsetLs = WMCreateList(panel->box);
-    WMResizeWidget(panel->fsetLs, 205, 71);
-    WMMoveWidget(panel->fsetLs, 215, 149);
-    
+    WMResizeWidget(panel->fsetLs, 245, 86);
+    WMMoveWidget(panel->fsetLs, 265, 92);
+	WMSetListAction(panel->fsetLs, listClick, panel);
+	WMSetListDoubleAction(panel->fsetLs, changeButtonClick, panel);
 
     panel->addB = WMCreateCommandButton(panel->box);
-    WMResizeWidget(panel->addB, 80, 24);
-    WMMoveWidget(panel->addB, 430, 127);
+    WMResizeWidget(panel->addB, 78, 24);
+    WMMoveWidget(panel->addB, 265, 201);
     WMSetButtonText(panel->addB, _("Add..."));
+	WMSetButtonAction(panel->addB, addButtonClick, panel);
 
     panel->editB = WMCreateCommandButton(panel->box);
-    WMResizeWidget(panel->editB, 80, 24);
-    WMMoveWidget(panel->editB, 430, 161);
+    WMResizeWidget(panel->editB, 78, 24);
+    WMMoveWidget(panel->editB, 348, 201);
     WMSetButtonText(panel->editB, _("Change..."));
+	WMSetButtonAction(panel->editB, changeButtonClick, panel);
 
     panel->remB = WMCreateCommandButton(panel->box);
-    WMResizeWidget(panel->remB, 80, 24);
-    WMMoveWidget(panel->remB, 430, 195);
+    WMResizeWidget(panel->remB, 78, 24);
+    WMMoveWidget(panel->remB, 431, 201);
     WMSetButtonText(panel->remB, _("Remove"));
+	WMSetButtonAction(panel->remB, removeButtonClick, panel);
+
+	/* happy Up/Down buttons */
+	panel->upB = WMCreateCommandButton(panel->box);
+	WMResizeWidget(panel->upB, 16, 16);
+	WMMoveWidget(panel->upB, 265, 182);
+	WMSetButtonImage(panel->upB, panel->up_arrow);
+	WMSetButtonAltImage(panel->upB, panel->alt_up_arrow);
+	WMSetButtonImagePosition(panel->upB, WIPImageOnly);
+	WMSetButtonImageDimsWhenDisabled(panel->upB, True);
+	WMSetButtonAction(panel->upB, moveUpListItem, panel);
+
+	panel->downB = WMCreateCommandButton(panel->box);
+	WMResizeWidget(panel->downB, 16, 16);
+	WMMoveWidget(panel->downB, 286, 182);
+	WMSetButtonImage(panel->downB, panel->down_arrow);
+	WMSetButtonAltImage(panel->downB, panel->alt_down_arrow);
+	WMSetButtonImagePosition(panel->downB, WIPImageOnly);
+	WMSetButtonImageDimsWhenDisabled(panel->downB, True);
+	WMSetButtonAction(panel->downB, moveDownListItem, panel);
 
     /* single byte */
     panel->fontT = WMCreateTextField(panel->box);
-    WMResizeWidget(panel->fontT, 240, 20);
-    WMMoveWidget(panel->fontT, 265, 130);
+    WMResizeWidget(panel->fontT, 245, 30);
+    WMMoveWidget(panel->fontT, 265, 120);
     
     panel->changeB = WMCreateCommandButton(panel->box);
     WMResizeWidget(panel->changeB, 104, 24);
     WMMoveWidget(panel->changeB, 335, 160);
     WMSetButtonText(panel->changeB, _("Change..."));
+	WMSetButtonAction(panel->changeB, changeButtonClick, panel);
 
     
     panel->black = WMBlackColor(scr);
@@ -443,6 +2005,9 @@
     panel->light = WMGrayColor(scr);
     panel->dark = WMDarkGrayColor(scr);
     panel->back = WMCreateRGBColor(scr, 0x5100, 0x5100, 0x7100, True); 
+
+	/* Font Panel !!!!! */
+	panel->fontPanel = WMGetFontPanel(scr);
     
 #if 0    
     for (i = 0; Languages[i].language != NULL; i++) {
@@ -456,15 +2021,68 @@
     WMRealizeWidget(panel->box);
     WMMapSubwidgets(panel->box);
 
-    setLanguageType(panel, False);
-
     showData(panel);
-    
-    readFontEncodings(panel);
+	changePage(panel->fontSel, panel);
 }
 
+static void
+storeData(Panel *p)
+{
+	_Panel *panel = (_Panel*)p;
+	int i;
+
+	char *encoding = getFontEncoding(panel);
+
+	for(i=0;i < 6; i++)
+	{
+		switch(i) {
+			case 0:
+				SetStringForKey(fontOfLang(panel, encoding, i), 
+						"WindowTitleFont");
+				break;
+			case 1:
+				SetStringForKey(fontOfLang(panel, encoding, i), 
+						"LargeDisplayFont");
+				break;
+			case 2:
+				SetStringForKey(fontOfLang(panel, encoding, i), 
+						"MenuTitleFont");
+				break;
+			case 3:
+				SetStringForKey(fontOfLang(panel, encoding, i), 
+						"MenuTextFont");
+				break;
+			case 4:
+				SetStringForKey(fontOfLang(panel, encoding, i), 
+						"ClipTitleFont");
+				break;
+			case 5:
+				SetStringForKey(fontOfLang(panel, encoding, i), 
+						"IconTitleFont");
+				break;
+		}
+	}
 
+	if (WMHasAntialiasingSupport(WMWidgetScreen(panel->box)))
+		SetBoolForKey(WMGetButtonSelected(panel->togAA), "AntialiasedText");
 
+	if(panel->MultiByteText)
+		SetStringForKey("YES", "MultiByteText");
+	else {
+		if(isEncodingMultiByte(panel)) SetStringForKey("YES", "MultiByteText");
+		else SetStringForKey("AUTO", "MultiByteText");
+	}
+}
+
+static void
+prepClosure(Panel *p)
+{
+    _Panel *panel = (_Panel*)p;
+	WMFreeFontPanel(panel->fontPanel);
+	WMReleasePropList(CurrentFontArray);
+	/* and what ever else i've forgotten or overlooked 
+	 * maybe someone will add them */ 
+}
 
 Panel*
 InitFont(WMScreen *scr, WMWidget *parent)
@@ -480,6 +2098,8 @@
     panel->parent = parent;
     
     panel->callbacks.createWidgets = createPanel;
+	panel->callbacks.updateDomain = storeData;
+	panel->callbacks.prepareForClose = prepClosure;
     
     AddSection(panel, ICON_FILE);
     
diff -Naur WindowMaker-0.80.2/WPrefs.app/font.data wm-xft2/WPrefs.app/font.data
--- WindowMaker-0.80.2/WPrefs.app/font.data	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/WPrefs.app/font.data	2003-10-22 14:08:35.000000000 +0400
@@ -0,0 +1,161 @@
+{
+    Encodings = (("default", 0, "iso8859-1",
+		  "ABCDEFGHIKLMNOPQRSTUVXYWZabcdefghiklmnopqrstuvxywz\n1234567890"),
+		 ("latin1 iso8859-1", 0, "iso8859-1",
+		  "ABCDEFGHIKLMNOPQRSTUVXYWZabcdefghiklmnopqrstuvxywz\n1234567890"),
+		 ("latin2 iso8859-2", 1, "iso8859-2",
+		  "ABCDEFGHIKLMNOPQRSTUVXYWZabcdefghiklmnopqrstuvxywz\n1234567890"),
+		 ("Greek iso8859-7", 1, "iso8859-7",
+		  "ABCDEFGHIKLMNOPQRSTUVXYWZabcdefghiklmnopqrstuvxywz\n1234567890"),
+		 ("Japanese jis", 1, "jis",
+		  "ABCDEFGHIKLMNOPQRSTUVXYWZabcdefghiklmnopqrstuvxywz\n1234567890"),
+		 ("Korean ksc5601", 1, "ksc5601",
+		  "ABCDEFGHIKLMNOPQRSTUVXYWZabcdefghiklmnopqrstuvxywz\n1234567890"),
+		 ("Korean2 ksc5601.1987", 1, "ksc5601.1987",
+		  "ABCDEFGHIKLMNOPQRSTUVXYWZabcdefghiklmnopqrstuvxywz\n1234567890"),
+		 ("Russian koi8-r", 1, "koi8-r",
+		  "ABCDEFGHIKLMNOPQRSTUVXYWZabcdefghiklmnopqrstuvxywz\n1234567890"),
+		 ("Ukrainian koi8-u", 1, "koi8-u",
+		  "ABCDEFGHIKLMNOPQRSTUVXYWZabcdefghiklmnopqrstuvxywz\n1234567890")
+		 );
+
+    WindowTitleFont = {
+	"iso8859-1" = ("-*-helvetica-bold-r-normal-*-12-*-*-*-*-*-iso8859-1");
+	"iso8859-2" = ("-*-helvetica-bold-r-normal-*-12-*-*-*-*-*-iso8859-2");
+	"iso8859-7" = ("-*-georgia-bold-r-normal-*-14-*-*-*-*-*-iso8859-7");
+	"jis" = ("-*-fixed-bold-r-normal-*-16-*-*-*-*-*-jisx0208.1983-*",
+		 "-*-*-medium-r-normal-*-14-*",
+		 "-*-*-medium-r-normal-*-*-*");
+	"ksc5601" = ("-*-mincho-bold-r-normal-*-12-*-*-*-*-*-ksc5601.1987-*",
+		     "-*-helvetica-medium-r-normal--12-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--12-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-*-*--*-*-*-*-*-*-*-*","*");
+	"ksc5601.1987" = ("-*-gothic-medium-r-normal-*-16-*-*-*-*-*-ksc5601.1987-*",
+		     "-*-helvetica-medium-r-normal--14-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--16-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-*-*--*-*-*-*-*-*-*-*","*");
+	"koi8-r" = ("-*-georgia-bold-r-normal-*-12-*-*-*-*-*-koi8-r");
+	"koi8-u" = ("-*-georgia-bold-r-normal-*-12-*-*-*-*-*-koi8-u");
+    };
+    
+    MenuTitleFont = {
+	"iso8859-1" = ("-*-helvetica-bold-r-normal-*-12-*-*-*-*-*-iso8859-1");
+	"iso8859-2" = ("-*-helvetica-bold-r-normal-*-12-*-*-*-*-*-iso8859-2");
+	"iso8859-7" = ("-*-helvetica-bold-r-normal-*-14-*-*-*-*-*-iso8859-7");
+	"jis" = ("-*-helvetica-bold-r-normal-*-12-*-*-*-*-*-*-*",
+		 "-*-*-medium-r-normal-*-14-*",
+		 "-*-*-medium-r-normal-*-*-*");
+	"ksc5601" = ("-*-helvetica-bold-r-normal-*-12-*-*-*-*-*-*-*",
+		     "-*-kodig-medium-r-normal--12-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--12-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-*-*--*-*-*-*-*-*-*-*","*");
+	"ksc5601.1987" = ("-*-helvetica-medium-r-normal-*-14-*-*-*-*-*-*-*",
+		     "-*-gothic-medium-r-normal--16-*-*-*-*-*-ksc5601.1987-*",
+		     "-*-*-medium-r-normal--16-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-*-*--*-*-*-*-*-*-*-*","*");
+	"koi8-r" = ("-*-georgia-bold-r-normal-*-12-*-*-*-*-*-koi8-r");
+	"koi8-u" = ("-*-georgia-bold-r-normal-*-12-*-*-*-*-*-koi8-u");
+    };
+
+    MenuTextFont = {
+	"iso8859-1" = ("-*-helvetica-medium-r-normal-*-12-*-*-*-*-*-iso8859-1");
+	"iso8859-2" = ("-*-helvetica-medium-r-normal-*-12-*-*-*-*-*-iso8859-2");
+	"iso8859-7" = ("-*-helvetica-medium-r-normal-*-14-*-*-*-*-*-iso8859-7");
+	"jis" = ("-*-helvetica-medium-r-normal-*-12-*-*-*-*-*-*-*",
+		 "-*-*-medium-r-medium-*-14-*",
+		 "-*-*-medium-r-medium-*-*-*");
+	"ksc5601" = ("-*-helvetica-medium-r-normal-*-12-*-*-*-*-*-*-*",
+		     "-*-kodig-medium-r-normal--12-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--12-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-*-*--*-*-*-*-*-*-*-*","*");
+	"ksc5601.1987" = ("-*-helvetica-medium-r-normal-*-14-*-*-*-*-*-*-*",
+		     "-*-gothic-medium-r-normal--16-*-*-*-*-*-ksc5601.1987-*",
+		     "-*-*-medium-r-normal--16-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-*-*--*-*-*-*-*-*-*-*","*");
+	"koi8-r" = ("-*-georgia-medium-r-normal-*-12-*-*-*-*-*-koi8-r");
+	"koi8-u" = ("-*-georgia-bold-r-normal-*-12-*-*-*-*-*-koi8-u");
+    };
+
+    IconTitleFont = {
+	"iso8859-1" = ("-*-helvetica-medium-r-normal-*-8-*-*-*-*-*-iso8859-1");
+	"iso8859-2" = ("-*-helvetica-medium-r-normal-*-8-*-*-*-*-*-iso8859-2");
+	"iso8859-7" = ("-*-helvetica-medium-r-normal-*-10-*-*-*-*-*-iso8859-7");
+	"jis" = ("-*-helvetica-medium-r-normal-*-8-*-*-*-*-*-*-*",
+		 "-*-*-medium-r-medium-*-10-*",
+		 "-*-*-medium-r-medium-*-*-*");
+	"ksc5601" = ("-*-helvetica-medium-r-normal-*-8-*-*-*-*-*-*-*",
+		     "-*-kodig-medium-r-normal--8-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--8-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-*-*--*-*-*-*-*-*-*-*","*");
+	"ksc5601.1987" = ("-*-helvetica-medium-r-normal-*-10-*-*-*-*-*-*-*",
+		     "-*-gothic-medium-r-normal--12-*-*-*-*-*-ksc5601.1987-*",
+		     "-*-*-medium-r-normal--12-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-*-*--*-*-*-*-*-*-*-*","*");
+	"koi8-r" = ("-*-georgia-medium-r-normal-*-8-*-*-*-*-*-koi8-r");
+	"koi8-u" = ("-*-georgia-medium-r-normal-*-8-*-*-*-*-*-koi8-u");
+    };
+
+    ClipTitleFont = {
+	"iso8859-1" = ("-*-helvetica-medium-r-normal-*-10-*-*-*-*-*-iso8859-1");
+	"iso8859-2" = ("-*-helvetica-medium-r-normal-*-10-*-*-*-*-*-iso8859-2");
+	"iso8859-7" = ("-*-helvetica-medium-r-normal-*-12-*-*-*-*-*-iso8859-7");
+	"jis" = ("-*-helvetica-medium-r-normal-*-10-*-*-*-*-*-*-*",
+		 "-*-*-medium-r-medium-*-12-*",
+		 "-*-*-medium-r-medium-*-*-*");
+	"ksc5601" = ("-*-helvetica-medium-r-normal-*-10-*-*-*-*-*-*-*",
+		     "-*-kodig-medium-r-normal--10-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--10-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-*-*--*-*-*-*-*-*-*-*","*");
+	"ksc5601.1987" = ("-*-helvetica-medium-r-normal-*-10-*-*-*-*-*-*-*",
+		     "-*-gothic-medium-r-normal--12-*-*-*-*-*-ksc5601.1987-*",
+		     "-*-*-medium-r-normal--12-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-*-*--*-*-*-*-*-*-*-*","*");
+	"koi8-r" = ("-*-georgia-medium-r-normal-*-10-*-*-*-*-*-koi8-r");
+	"koi8-u" = ("-*-georgia-medium-r-normal-*-8-*-*-*-*-*-koi8-u");
+    };
+
+    LargeDisplayFont = {
+	"iso8859-1" = ("-*-helvetica-medium-r-normal-*-24-*-*-*-*-*-iso8859-1");
+	"iso8859-2" = ("-*-helvetica-medium-r-normal-*-24-*-*-*-*-*-iso8859-2");
+	"iso8859-7" = ("-*-helvetica-medium-r-normal-*-26-*-*-*-*-*-iso8859-7");
+	"jis" = ("-*-helvetica-medium-r-normal-*-24-*-*-*-*-*-*-*",
+		 "-*-*-medium-r-medium-*-26-*",
+		 "-*-*-medium-r-medium-*-*-*");
+	"ksc5601" = ("-*-helvetica-medium-r-normal-*-24-*-*-*-*-*-*-*",
+		     "-*-kodig-medium-r-normal--24-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--24-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-*-*--*-*-*-*-*-*-*-*","*");
+	"ksc5601.1987" = ("-*-helvetica-medium-r-normal-*-24-*-*-*-*-*-*-*",
+		     "-*-gothic-medium-r-normal--24-*-*-*-*-*-ksc5601.1987-*",
+		     "-*-*-medium-r-normal--24-*-*-*-*-*-*-*",
+		     "-*-*-medium-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-r-normal--*-*-*-*-*-*-*-*",
+		     "-*-*-*-*-*--*-*-*-*-*-*-*-*","*");
+	"koi8-r" = ("-*-georgia-medium-r-normal-*-24-*-*-*-*-*-koi8-r");
+	"koi8-u" = ("-*-georgia-medium-r-normal-*-24-*-*-*-*-*-koi8-u");
+    };
+}
+
+
diff -Naur WindowMaker-0.80.2/WPrefs.app/Icons.c wm-xft2/WPrefs.app/Icons.c
--- WindowMaker-0.80.2/WPrefs.app/Icons.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/Icons.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WPrefs.app/imagebrowser.c wm-xft2/WPrefs.app/imagebrowser.c
--- WindowMaker-0.80.2/WPrefs.app/imagebrowser.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/imagebrowser.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 2000-2002 Alfredo K. Kojima
+ *  Copyright (c) 2000-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WPrefs.app/KeyboardSettings.c wm-xft2/WPrefs.app/KeyboardSettings.c
--- WindowMaker-0.80.2/WPrefs.app/KeyboardSettings.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/KeyboardSettings.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WPrefs.app/KeyboardShortcuts.c wm-xft2/WPrefs.app/KeyboardShortcuts.c
--- WindowMaker-0.80.2/WPrefs.app/KeyboardShortcuts.c	2002-02-21 14:28:36.000000000 +0300
+++ wm-xft2/WPrefs.app/KeyboardShortcuts.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -53,6 +53,7 @@
 
     WMColor *white;
     WMColor *black;
+    WMColor *gray;
     WMFont *font;
 
     /**/
@@ -433,17 +434,14 @@
     _Panel *panel = (_Panel*)WMGetHangedData(lPtr);
     WMScreen *scr = WMWidgetScreen(lPtr);
     Display *dpy = WMScreenDisplay(scr);
+    WMColor *backColor = (state & WLDSSelected) ? panel->white : panel->gray;
 
     width = rect->size.width;
     height = rect->size.height;
     x = rect->pos.x;
     y = rect->pos.y;
 
-    if (state & WLDSSelected)
-	XFillRectangle(dpy, d, WMColorGC(panel->white), x, y, width, 
-		       height);
-    else 
-	XClearArea(dpy, d, x, y, width, height, False);
+    XFillRectangle(dpy, d, WMColorGC(backColor), x, y, width, height);
 
     if (panel->shortcuts[index]) {
 	WMPixmap *pix = WMGetSystemPixmap(scr, WSICheckMark);
@@ -453,8 +451,7 @@
 	WMReleasePixmap(pix);
     }
 
-    WMDrawString(scr, d, WMColorGC(panel->black), panel->font, x+20, y,
-		 text, strlen(text));
+    WMDrawString(scr, d, panel->black, panel->font, x+20, y, text, strlen(text));
 }
 
 
@@ -467,8 +464,11 @@
     WMFont *boldFont;
 
     panel->capturing = 0;
-    
 
+    panel->white = WMWhiteColor(scr);
+    panel->black = WMBlackColor(scr);
+    panel->gray = WMGrayColor(scr);
+    panel->font = WMSystemFontOfSize(scr, 12);
 
     panel->box = WMCreateBox(panel->parent);
     WMSetViewExpandsToParent(WMWidgetView(panel->box), 2, 2, 2, 2);
@@ -486,9 +486,7 @@
     color = WMDarkGrayColor(scr);
     WMSetWidgetBackgroundColor(panel->actL, color); 
     WMReleaseColor(color);
-    color = WMWhiteColor(scr);
-    WMSetLabelTextColor(panel->actL, color);
-    WMReleaseColor(color);
+    WMSetLabelTextColor(panel->actL, panel->white);
     
     panel->actLs = WMCreateList(panel->box);
     WMResizeWidget(panel->actLs, 280, 190);
@@ -633,18 +631,14 @@
     panel->sectionName = _("Keyboard Shortcut Preferences");
 
     panel->description = _("Change the keyboard shortcuts for actions such\n"
-			   "as changing workspaces and opening menus.");
+                           "as changing workspaces and opening menus.");
 
     panel->parent = parent;
-    
+
     panel->callbacks.createWidgets = createPanel;
     panel->callbacks.updateDomain = storeData;
 
-    panel->white = WMWhiteColor(scr);
-    panel->black = WMBlackColor(scr);
-    panel->font = WMSystemFontOfSize(scr, 12);
-
     AddSection(panel, ICON_FILE);
-    
+
     return panel;
 }
diff -Naur WindowMaker-0.80.2/WPrefs.app/main.c wm-xft2/WPrefs.app/main.c
--- WindowMaker-0.80.2/WPrefs.app/main.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/main.c	2003-10-22 14:08:35.000000000 +0400
@@ -1,7 +1,7 @@
 /*
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WPrefs.app/Makefile.am wm-xft2/WPrefs.app/Makefile.am
--- WindowMaker-0.80.2/WPrefs.app/Makefile.am	2001-10-03 13:04:45.000000000 +0400
+++ wm-xft2/WPrefs.app/Makefile.am	2003-10-22 14:08:35.000000000 +0400
@@ -51,5 +51,6 @@
 WPrefs_LDADD = \
 	$(top_builddir)/WINGs/libWINGs.a\
 	$(top_builddir)/wrlib/libwraster.la \
+	@XFTLIBS@ \
 	@INTLIBS@
 
diff -Naur WindowMaker-0.80.2/WPrefs.app/Menu.c wm-xft2/WPrefs.app/Menu.c
--- WindowMaker-0.80.2/WPrefs.app/Menu.c	2002-07-02 04:30:25.000000000 +0400
+++ wm-xft2/WPrefs.app/Menu.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 2000-2002 Alfredo K. Kojima
+ *  Copyright (c) 2000-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -887,13 +887,11 @@
     WMMoveWidget(panel->quickB, 10, 120);
     WMSetButtonText(panel->quickB, _("Do not confirm action."));
     WMSetButtonAction(panel->quickB, buttonClicked, panel);
-    
-    
-    
-    
+
+
     label = WMCreateLabel(panel->optionsF);
-    WMResizeWidget(label, width - 10, FRAME_HEIGHT - 50);
-    WMMoveWidget(label, 10, 20);
+    WMResizeWidget(label, width+5, FRAME_HEIGHT - 50);
+    WMMoveWidget(label, 7, 20);
     WMSetLabelText(label, 
 		   _("Instructions:\n\n"
 		     " - drag items from the left to the menu to add new items\n"
diff -Naur WindowMaker-0.80.2/WPrefs.app/MenuPreferences.c wm-xft2/WPrefs.app/MenuPreferences.c
--- WindowMaker-0.80.2/WPrefs.app/MenuPreferences.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/MenuPreferences.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WPrefs.app/MouseSettings.c wm-xft2/WPrefs.app/MouseSettings.c
--- WindowMaker-0.80.2/WPrefs.app/MouseSettings.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/MouseSettings.c	2003-10-22 14:08:35.000000000 +0400
@@ -3,7 +3,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -701,9 +701,9 @@
 
     path = wstrconcat(wusergnusteppath(), "/Library/WindowMaker/autostart");
     
-    f = fopen(path, "r");
+    f = fopen(path, "rb");
     if (!f) {
-	f = fopen(path, "w");
+	f = fopen(path, "wb");
 	if (!f) {
 	    wsyserror(_("could not create %s"), path);
 	    goto end;
@@ -719,7 +719,7 @@
 
 	tmppath = wstrconcat(wusergnusteppath(), 
 			     "/Library/WindowMaker/autostart.tmp");
-	fo = fopen(tmppath, "w");
+	fo = fopen(tmppath, "wb");
 	if (!fo) {
             wsyserror(_("could not create temporary file %s"), tmppath);
             wfree(tmppath);
diff -Naur WindowMaker-0.80.2/WPrefs.app/Paths.c wm-xft2/WPrefs.app/Paths.c
--- WindowMaker-0.80.2/WPrefs.app/Paths.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/Paths.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -49,6 +49,7 @@
     WMColor *red;
     WMColor *black;
     WMColor *white;
+    WMColor *gray;
     WMFont *font;
 } _Panel;
 
@@ -180,31 +181,25 @@
 
 
 static void
-paintItem(WMList *lPtr, int index, Drawable d, char *text, int state, 
-	  WMRect *rect)
+paintItem(WMList *lPtr, int index, Drawable d, char *text, int state, WMRect *rect)
 {
     int width, height, x, y;
     _Panel *panel = (_Panel*)WMGetHangedData(lPtr);
     WMScreen *scr = WMWidgetScreen(lPtr);
     Display *dpy = WMScreenDisplay(scr);
+    WMColor *backColor = (state & WLDSSelected) ? panel->white : panel->gray;
 
     width = rect->size.width;
     height = rect->size.height;
     x = rect->pos.x;
     y = rect->pos.y;
 
-    if (state & WLDSSelected)
-	XFillRectangle(dpy, d, WMColorGC(panel->white), x, y, width, 
-		       height);
-    else 
-	XClearArea(dpy, d, x, y, width, height, False);
+    XFillRectangle(dpy, d, WMColorGC(backColor), x, y, width, height);
 
     if (state & 1) {
-	WMDrawString(scr, d, WMColorGC(panel->red), panel->font, x+4, y, 
-		     text, strlen(text));
+	WMDrawString(scr, d, panel->red, panel->font, x+4, y, text, strlen(text));
     } else {
-	WMDrawString(scr, d, WMColorGC(panel->black), panel->font, x+4, y, 
-		     text, strlen(text));
+	WMDrawString(scr, d, panel->black, panel->font, x+4, y, text, strlen(text));
     }
 }
 
@@ -246,6 +241,7 @@
 
     panel->white = WMWhiteColor(scr);
     panel->black = WMBlackColor(scr);
+    panel->gray = WMGrayColor(scr);
     panel->red = WMCreateRGBColor(scr, 0xffff, 0, 0, True);
     panel->font = WMSystemFontOfSize(scr, 12);
     
diff -Naur WindowMaker-0.80.2/WPrefs.app/po/bg.po wm-xft2/WPrefs.app/po/bg.po
--- WindowMaker-0.80.2/WPrefs.app/po/bg.po	2000-08-29 18:46:20.000000000 +0400
+++ wm-xft2/WPrefs.app/po/bg.po	2003-10-22 14:08:35.000000000 +0400
@@ -1,1982 +1,2869 @@
-# Message catalog for WPrefs.app
-# Copyright (C) 2000 Free Software Foundation, Inc.
-# Anton Zinoviev <anton@lml.bas.bg>, 2000.
-#
-msgid ""
-msgstr ""
-"Project-Id-Version: WPrefs for WindowMaker 0.61.1\n"
-"POT-Creation-Date: 2000-08-28 20:42+0300\n"
-"PO-Revision-Date: 2000-08-28 21:20+03:00\n"
-"Last-Translator: Anton Zinoviev <anton@lml.bas.bg>\n"
-"Language-Team: Bulgarian <dict@linux.home.bg>\n"
-"MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=windows-1251\n"
-"Content-Transfer-Encoding: 8bit\n"
-
-#: ../../WPrefs.app/main.c:74
-#, c-format
-msgid "usage: %s [options]\n"
-msgstr "èçïîëçâàíå: %s [ïàðàìåòðè]\n"
-
-#: ../../WPrefs.app/main.c:75
-msgid "options:"
-msgstr "ïàðàìåòðè:"
-
-#: ../../WPrefs.app/main.c:76
-msgid " -display <display>\tdisplay to be used"
-msgstr " -display <äèñïëåé>\täèñïëåé äà ñå èçïîëçâà"
-
-#: ../../WPrefs.app/main.c:77
-msgid " --version\t\tprint version number and exit"
-msgstr " --version\t\tèçâåæäà íîìåð íà âåðñèÿ è èçõîä"
-
-#: ../../WPrefs.app/main.c:78
-msgid " --help\t\tprint this message and exit"
-msgstr " --help\t\tèçâåæäà òàçè ñïðàâêà è èçõîä"
-
-#: ../../WPrefs.app/main.c:137
-#, c-format
-msgid "too few arguments for %s"
-msgstr "íåäîñòàòú÷íî àðãóìåíòè çà %s"
-
-#: ../../WPrefs.app/main.c:159
-msgid "X server does not support locale"
-msgstr "X-ñúðâúðúò íå ïîääúðæà ëîêàëèçàöèÿ"
-
-#: ../../WPrefs.app/main.c:162
-msgid "cannot set locale modifiers"
-msgstr "íå ìîãàò äà ñå óñòàíîâÿò ìîäèôèêàòîðèòå íà ëîêàëèçàöèÿòà"
-
-#: ../../WPrefs.app/main.c:168
-#, c-format
-msgid "could not open display %s"
-msgstr "íå ìîæå äà ñå îòâîðè äèñïëåÿò %s"
-
-#: ../../WPrefs.app/main.c:176
-msgid "could not initialize application"
-msgstr "ïðèëîæåíèåòî íå ìîæå äà áúäå èíèöèàëèçèðàíî"
-
-#: ../../WPrefs.app/WPrefs.c:259
-msgid "Window Maker Preferences"
-msgstr "Ïðåäïî÷èòàíèÿ çà Window Maker"
-
-#: ../../WPrefs.app/WPrefs.c:283
-msgid "Revert Page"
-msgstr "Âúðíè ñòðàíèöà"
-
-#: ../../WPrefs.app/WPrefs.c:289
-msgid "Revert All"
-msgstr "Âúðíè âñè÷êè"
-
-#: ../../WPrefs.app/WPrefs.c:295
-msgid "Save"
-msgstr "Çàïàçè"
-
-#: ../../WPrefs.app/Appearance.c:2245 ../../WPrefs.app/WPrefs.c:301
-msgid "Close"
-msgstr "Çàòâîðè"
-
-#: ../../WPrefs.app/WPrefs.c:308
-msgid "Balloon Help"
-msgstr "Ïîìîù ñ áàëîíè"
-
-#: ../../WPrefs.app/WPrefs.c:333
-msgid "Window Maker Preferences Utility"
-msgstr "Ïîñîáèå çà íàñòðîéêà íà Window Maker"
-
-#: ../../WPrefs.app/WPrefs.c:340
-#, c-format
-msgid "Version %s for Window Maker %s or newer"
-msgstr "Âåðñèÿ %s íà Window Maker %s èëè ïî-íîâà"
-
-#: ../../WPrefs.app/WPrefs.c:348
-msgid "Starting..."
-msgstr "Ñòàðòèðàíå..."
-
-#: ../../WPrefs.app/WPrefs.c:354
-msgid ""
-"Programming/Design: Alfredo K. Kojima\n"
-"Artwork: Marco van Hylckama Vlieg and Largo\n"
-"More Programming: James Thompson"
-msgstr ""
-"Ïðîãðàìèñò è äèçàéíåð: Àëôðåäó Ê. Êîæèìà\n"
-"Õóäîæíèê: Ìàðêî âàí Õèëöêàìà Âëèéã è Ëàðãî\n"
-"Äðóã ïðîãðàìèñò: Äæåéìñ Òîìïñúí"
-
-#: ../../WPrefs.app/WPrefs.c:442
-#, c-format
-msgid "could not locate image file %s\n"
-msgstr "íå ìîæå äà ñå îòêðèå ôàéëà ñ èçîáðàæåíèå %s\n"
-
-#: ../../WPrefs.app/Appearance.c:1912 ../../WPrefs.app/Configurations.c:242
-#: ../../WPrefs.app/Configurations.c:254 ../../WPrefs.app/Focus.c:316
-#: ../../WPrefs.app/Focus.c:327 ../../WPrefs.app/MenuPreferences.c:137
-#: ../../WPrefs.app/MenuPreferences.c:148
-#: ../../WPrefs.app/MenuPreferences.c:176
-#: ../../WPrefs.app/MenuPreferences.c:191 ../../WPrefs.app/MouseSettings.c:561
-#: ../../WPrefs.app/MouseSettings.c:572 ../../WPrefs.app/WPrefs.c:545
-#: ../../WPrefs.app/WPrefs.c:570
-#, c-format
-msgid "could not load icon file %s"
-msgstr "Íå ìîæå äà ñå çàðåäè ôàéëúò ñ èêîíêà %s"
-
-#: ../../WPrefs.app/WPrefs.c:657
-#, c-format
-msgid "could not load image file %s:%s"
-msgstr "íå ìîæå äà ñå çàðåäè ôàéëúò ñ èçîáðàæåíèå %s:%s"
-
-#: ../../WPrefs.app/WPrefs.c:676
-msgid "Loading Window Maker configuration files..."
-msgstr "Çàðåæäàò ñå êîíôèãóðàöèîííèòå ôàéëîâå íà Window Maker..."
-
-#: ../../WPrefs.app/WPrefs.c:680
-msgid "Initializing configuration panels..."
-msgstr "Èíèöèàëèçèðàò ñå êîíôèãóðàöèîííèòå ïàíåëè..."
-
-#: ../../WPrefs.app/WPrefs.c:713
-msgid ""
-"WPrefs is free software and is distributed WITHOUT ANY\n"
-"WARRANTY under the terms of the GNU General Public License."
-msgstr ""
-"WPrefs å ñâîáîäåí ñîôòóåð è ñå ðàçïðîñòðàíÿâà ÁÅÇ ÍÈÊÀÊÂÀ\n"
-"ÃÀÐÀÍÖÈß ñïîðåä óñëîâèÿòà íà GNU General Public License."
-
-#: ../../WPrefs.app/WPrefs.c:742 ../../WPrefs.app/WPrefs.c:812
-#, c-format
-msgid "Window Maker domain (%s) is corrupted!"
-msgstr "Îáëàñòòà %s íà Window Maker å ïîâðåäåíà!"
-
-#: ../../WPrefs.app/Font.c:330 ../../WPrefs.app/Menu.c:1401
-#: ../../WPrefs.app/MouseSettings.c:152 ../../WPrefs.app/MouseSettings.c:172
-#: ../../WPrefs.app/TexturePanel.c:608 ../../WPrefs.app/TexturePanel.c:686
-#: ../../WPrefs.app/Themes.c:96 ../../WPrefs.app/WPrefs.c:743
-#: ../../WPrefs.app/WPrefs.c:748 ../../WPrefs.app/WPrefs.c:762
-#: ../../WPrefs.app/WPrefs.c:772 ../../WPrefs.app/WPrefs.c:782
-#: ../../WPrefs.app/WPrefs.c:813 ../../WPrefs.app/WPrefs.c:818
-msgid "Error"
-msgstr "Ãðåøêà"
-
-#: ../../WPrefs.app/Font.c:330 ../../WPrefs.app/Menu.c:1401
-#: ../../WPrefs.app/MenuGuru.c:119 ../../WPrefs.app/MenuGuru.c:126
-#: ../../WPrefs.app/MenuGuru.c:140 ../../WPrefs.app/MouseSettings.c:154
-#: ../../WPrefs.app/MouseSettings.c:174 ../../WPrefs.app/TexturePanel.c:609
-#: ../../WPrefs.app/TexturePanel.c:688 ../../WPrefs.app/TexturePanel.c:1522
-#: ../../WPrefs.app/Themes.c:98 ../../WPrefs.app/WPrefs.c:743
-#: ../../WPrefs.app/WPrefs.c:748 ../../WPrefs.app/WPrefs.c:764
-#: ../../WPrefs.app/WPrefs.c:776 ../../WPrefs.app/WPrefs.c:782
-#: ../../WPrefs.app/WPrefs.c:789 ../../WPrefs.app/WPrefs.c:813
-#: ../../WPrefs.app/WPrefs.c:818
-msgid "OK"
-msgstr "OK"
-
-#: ../../WPrefs.app/WPrefs.c:746
-#, c-format
-msgid "Could not load Window Maker domain (%s) from defaults database."
-msgstr ""
-"Íå ìîæå äà ñå çàðåäè îáëàñòòà %s íà Window Maker îò áàçàòà-äàííè ñ "
-"ïðåäïî÷èòàíèÿ."
-
-#: ../../WPrefs.app/WPrefs.c:759
-msgid "could not extract version information from Window Maker"
-msgstr "íå ìîæå äà ñå èçâëå÷å èíôîðìàöèÿ çà âåðñèÿòà íà Window Maker"
-
-#: ../../WPrefs.app/WPrefs.c:760
-msgid "Make sure wmaker is in your search path."
-msgstr "Óáåäåòå ñå, ÷å wmaker ñå íàìèðà â ïúòåêàòà çà òúðñåíå ($PATH)."
-
-#: ../../WPrefs.app/WPrefs.c:763
-msgid ""
-"Could not extract version from Window Maker. Make sure it is correctly "
-"installed and is in your PATH environment variable."
-msgstr ""
-"Íå ìîæå äà ñå èçâëå÷å èíôîðìàöèÿ çà âåðñèÿòà íà Window Maker. Óáåäåòå ñå,\n"
-"÷å òîé å èíñòàëèðàí ïðàâèëíî è å âêëþ÷åí â ïðîìåíëèâàòà PATH íà îáêðúæåíèåòî."
-
-#: ../../WPrefs.app/WPrefs.c:773
-msgid ""
-"Could not extract version from Window Maker. Make sure it is correctly "
-"installed and the path where it installed is in the PATH environment "
-"variable."
-msgstr ""
-"Íå ìîæå äà ñå èçâëå÷å èíôîðìàöèÿ çà âåðñèÿòà íà Window Maker. Óáåäåòå ñå,\n"
-"÷å òîé å èíñòàëèðàí ïðàâèëíî è ÷å êàòàëîãúò, â êîéòî òîé å èíñòàëèðàí, å\n"
-"âêëþ÷åí â ïðîìåíëèâàòà îò îáêðúæåíèåòî PATH."
-
-#: ../../WPrefs.app/WPrefs.c:780
-#, c-format
-msgid ""
-"WPrefs only supports Window Maker 0.18.0 or newer.\n"
-"The version installed is %i.%i.%i\n"
-msgstr ""
-"WPrefs ïîääúðæà ñàìî Window Maker âåðñèÿ 0.18.0 èëè ñëåäâàùà.\n"
-"Èíñòàëèðàíàòà âåðñèÿ å %i.%i.%i.\n"
-
-#: ../../WPrefs.app/WPrefs.c:787
-#, c-format
-msgid ""
-"Window Maker %i.%i.%i, which is installed in your system, is not fully "
-"supported by this version of WPrefs."
-msgstr ""
-"Window Maker %i.%i.%i, êîéòî å èíñòàëèðàí âúâ Âàøàòà ñèñòåìà, íå ñå\n"
-"ïîääúðæà íàïúëíî îò òàçè âåðñèÿ íà WPrefs."
-
-#: ../../WPrefs.app/WPrefs.c:789
-msgid "Warning"
-msgstr "Âíèìàíèå!"
-
-#: ../../WPrefs.app/WPrefs.c:794
-msgid "could not run \"wmaker --global_defaults_path\"."
-msgstr "Íå ìîæå äà ñå ñòàðòèðà \"wmaker --global_defaults_path\"."
-
-#: ../../WPrefs.app/WPrefs.c:816
-#, c-format
-msgid "Could not load global Window Maker domain (%s)."
-msgstr "Íå ìîæå äà ñå çàðåäè ãëîáàëíà îáëàñò íà Window Maker (%s)."
-
-#: ../../WPrefs.app/WPrefs.c:1065
-#, c-format
-msgid ""
-"bad speed value for option %s\n"
-". Using default Medium"
-msgstr ""
-"íåïðàâèëíà ñòîéíîñò çà áúðçèíà íà êëþ÷à %s\n"
-"Ïî ïîäðàçáèðàíå ñå èçïîëçâà \"Ñðåäíà\""
-
-#: ../../WPrefs.app/Appearance.c:1104
-msgid "Select File"
-msgstr "Èçáîð íà ôàéë"
-
-#: ../../WPrefs.app/Appearance.c:1506
-msgid "Focused Window"
-msgstr "Ôîêóñèðàí ïðîçîðåö"
-
-#: ../../WPrefs.app/Appearance.c:1510
-msgid "Unfocused Window"
-msgstr "Íåôîêóñèðàí ïðîçîðåö"
-
-#: ../../WPrefs.app/Appearance.c:1514
-msgid "Owner of Focused Window"
-msgstr "Ñîáñòâåíèê íà íåôîêóñèðàí"
-
-# Èçíåíàäà: èñïîëçâà ñå íà äâå ìåñòà, òðÿáâà íè "Èìå íà ìåíþ", íî íà
+# Message catalog for WPrefs.app
+# Copyright (C) 2000,2003 Free Software Foundation, Inc.
+# Anton Zinoviev <zinoviev@debian.org>, 2000,2003
+msgid ""
+msgstr ""
+"Project-Id-Version: WPrefs for WindowMaker 0.80.2\n"
+"POT-Creation-Date: 2003-02-08 21:44+0200\n"
+"PO-Revision-Date: 2001-04-18 23:22+03:00\n"
+"Last-Translator: Anton Zinoviev <zinoviev@debian.org>\n"
+"Language-Team: Bulgarian <dict@linux.zonebg.com>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=CP1251\n"
+"Content-Transfer-Encoding: 8bit\n"
+
+# ../../WPrefs.app/Appearance.c:1104
+#: ../../WPrefs.app/Appearance.c:1131
+msgid "Select File"
+msgstr "Èçáîð íà ôàéë"
+
+# ../../WPrefs.app/Appearance.c:1506
+#: ../../WPrefs.app/Appearance.c:1533
+msgid "Focused Window"
+msgstr "Ôîêóñèðàí ïðîçîðåö"
+
+# ../../WPrefs.app/Appearance.c:1510
+#: ../../WPrefs.app/Appearance.c:1537
+msgid "Unfocused Window"
+msgstr "Íåôîêóñèðàí ïðîçîðåö"
+
+# ../../WPrefs.app/Appearance.c:1514
+#: ../../WPrefs.app/Appearance.c:1541
+msgid "Owner of Focused Window"
+msgstr "Ñîáñòâåíèê íà íåôîêóñèðàí"
+
+# Èçíåíàäà: èçïîëçâà ñå íà äâå ìåñòà, òðÿáâà íè "Èìå íà ìåíþ", íî íà
 # åäíîòî ìÿñòî íå ñå ïîáèðà.  
-#: ../../WPrefs.app/Appearance.c:1518 ../../WPrefs.app/Appearance.c:1836
-msgid "Menu Title"
-msgstr "Ìåíþ (èìå)"
-
-#: ../../WPrefs.app/Appearance.c:1522 ../../WPrefs.app/Appearance.c:1524
-msgid "Normal Item"
-msgstr "Íîðìàëíî"
-
-#: ../../WPrefs.app/Appearance.c:1528
-msgid "Disabled Item"
-msgstr "Çàáðàíåíî"
-
-#: ../../WPrefs.app/Appearance.c:1537
-msgid "Highlighted"
-msgstr "Ìàðêèðàíî"
-
-#: ../../WPrefs.app/Appearance.c:1729
-msgid "Texture"
-msgstr "Òåêñòóðà"
-
-#: ../../WPrefs.app/Appearance.c:1737
-msgid "Titlebar of Focused Window"
-msgstr "Çàãëàâíà èâèöà íà ôîêóñèðàí"
-
-#: ../../WPrefs.app/Appearance.c:1738
-msgid "Titlebar of Unfocused Windows"
-msgstr "Çàãëàâíà èâèöà íà íåôîêóñèðàí"
-
+# ../../WPrefs.app/Appearance.c:1518 ../../WPrefs.app/Appearance.c:1836
+#: ../../WPrefs.app/Appearance.c:1545 ../../WPrefs.app/Appearance.c:1862
+msgid "Menu Title"
+msgstr "Ìåíþ (èìå)"
+
+# ../../WPrefs.app/Appearance.c:1522 ../../WPrefs.app/Appearance.c:1524
+#: ../../WPrefs.app/Appearance.c:1549 ../../WPrefs.app/Appearance.c:1551
+msgid "Normal Item"
+msgstr "Íîðìàëíî"
+
+# ../../WPrefs.app/Appearance.c:1528
+#: ../../WPrefs.app/Appearance.c:1555
+msgid "Disabled Item"
+msgstr "Çàáðàíåíî"
+
+# ../../WPrefs.app/Appearance.c:1537
+#: ../../WPrefs.app/Appearance.c:1564
+msgid "Highlighted"
+msgstr "Ìàðêèðàíî"
+
+# ../../WPrefs.app/Appearance.c:1729
+#: ../../WPrefs.app/Appearance.c:1755
+msgid "Texture"
+msgstr "Òåêñòóðà"
+
+# ../../WPrefs.app/Appearance.c:1737
+#: ../../WPrefs.app/Appearance.c:1763
+msgid "Titlebar of Focused Window"
+msgstr "Çàãëàâíà èâèöà íà ôîêóñèðàí"
+
+# ../../WPrefs.app/Appearance.c:1738
+#: ../../WPrefs.app/Appearance.c:1764
+msgid "Titlebar of Unfocused Windows"
+msgstr "Çàãëàâíà èâèöà íà íåôîêóñèðàí"
+
 # Çàãë. èâ. íà ñîáñòâ. íà ôîêóñèðàí
 # Çàãëàâíà èâèöà íà ñîáñòâåíèê íà ô.
-#: ../../WPrefs.app/Appearance.c:1739
-msgid "Titlebar of Focused Window's Owner"
-msgstr "Çàã. íà ñîáñòâåíèê íà ôîêóñèðàí"
-
-#: ../../WPrefs.app/Appearance.c:1740
-msgid "Window Resizebar"
-msgstr "Èâèöà çà îðàçìåðÿâàíå"
-
-#: ../../WPrefs.app/Appearance.c:1741
-msgid "Titlebar of Menus"
-msgstr "Çàãëàâèå íà ìåíþ"
-
-#: ../../WPrefs.app/Appearance.c:1742
-msgid "Menu Items"
-msgstr "Åëåìåíòè íà ìåíþ"
-
-#: ../../WPrefs.app/Appearance.c:1743
-msgid "Icon Background"
-msgstr "Ôîí çà èêîíêèòå"
-
-#: ../../WPrefs.app/Appearance.c:1758
-msgid ""
-"Double click in the texture you want to use\n"
-"for the selected item."
-msgstr ""
-"Ùòðàêíåòå äâóêðàòíî ïî òåêñòóðàòà, êîÿòî æåëàåòå äà\n"
-"ñå èçïîëçâà íà ìàðêèðàíîòî ìÿñòî."
-
-#: ../../WPrefs.app/Appearance.c:1772
-msgid "New"
-msgstr "Íîâà"
-
-#: ../../WPrefs.app/Appearance.c:1776
-msgid "Create a new texture."
-msgstr "Äà ñå íàïðàâè íîâà òåêñòóðà."
-
-#: ../../WPrefs.app/Appearance.c:1784
-msgid "Extract..."
-msgstr "Èçâëå÷è"
-
-#: ../../WPrefs.app/Appearance.c:1788
-msgid "Extract texture(s) from a theme or a style file."
-msgstr ""
-"Èçâëè÷à òåêñòóðà(è) îò òåìà\n"
-"èëè ôàéë ñúñ ñòèë."
-
-#: ../../WPrefs.app/Appearance.c:1798
-msgid "Edit"
-msgstr "Ðåäàêò."
-
-#: ../../WPrefs.app/Appearance.c:1801
-msgid "Edit the highlighted texture."
-msgstr "Ðåäàêòèðàíå íà ìàðêèðàíàòà òåêñòóðà."
-
-#: ../../WPrefs.app/Appearance.c:1809 ../../WPrefs.app/TexturePanel.c:1310
-msgid "Delete"
-msgstr "Èçòðèé"
-
-#: ../../WPrefs.app/Appearance.c:1813
-msgid "Delete the highlighted texture."
-msgstr "Èçòðèâà ìàðêèðàíàòà òåêñòóðà."
-
-#: ../../WPrefs.app/Appearance.c:1826
-msgid "Color"
-msgstr "Öâåòîâå"
-
-#: ../../WPrefs.app/Appearance.c:1833
-msgid "Focused Window Title"
-msgstr "Èìå íà ôîêóñèðàí ïðîçîðåö"
-
-#: ../../WPrefs.app/Appearance.c:1834
-msgid "Unfocused Window Title"
-msgstr "Èìå íà íåôîêóñèðàí ïðîçîðåö"
-
-#: ../../WPrefs.app/Appearance.c:1835
-msgid "Owner of Focused Window Title"
-msgstr "Èìå íà ñîáñòâåíèê íà ôîêóñèðàí"
-
-#: ../../WPrefs.app/Appearance.c:1837
-msgid "Menu Item Text"
-msgstr "Òåêñò íà åëåìåíò íà ìåíþ"
-
-#: ../../WPrefs.app/Appearance.c:1838
-msgid "Disabled Menu Item Text"
-msgstr "Òåêñò íà çàáðàíåí åëåìåíò"
-
-#: ../../WPrefs.app/Appearance.c:1839
-msgid "Menu Highlight Color"
-msgstr "Öâÿò íà ìàðêèðàí åëåìåíò"
-
-#: ../../WPrefs.app/Appearance.c:1840
-msgid "Highlighted Menu Text Color"
-msgstr "Öâÿò íà òåêñò íà ìàðêèðàí"
-
-#: ../../WPrefs.app/Appearance.c:1877
-msgid "Options"
-msgstr "Îïöèè"
-
-#: ../../WPrefs.app/Appearance.c:1884
-msgid "Menu Style"
-msgstr "Ñòèë íà ìåíþòàòà"
-
-#: ../../WPrefs.app/Appearance.c:1926
-msgid "Title Alignment"
-msgstr "Ïîäðàâíÿâàíå"
-
-#: ../../WPrefs.app/Appearance.c:1933
-msgid "Left"
-msgstr "Ëÿâî"
-
+# ../../WPrefs.app/Appearance.c:1739
+#: ../../WPrefs.app/Appearance.c:1765
+msgid "Titlebar of Focused Window's Owner"
+msgstr "Çàãë. íà ñîáñòâåíèê íà ôîêóñèðàí"
+
+# ../../WPrefs.app/Appearance.c:1740
+#: ../../WPrefs.app/Appearance.c:1766
+msgid "Window Resizebar"
+msgstr "Èâèöà çà îðàçìåðÿâàíå"
+
+# ../../WPrefs.app/Appearance.c:1741
+#: ../../WPrefs.app/Appearance.c:1767
+msgid "Titlebar of Menus"
+msgstr "Çàãëàâèå íà ìåíþ"
+
+# ../../WPrefs.app/Appearance.c:1742
+#: ../../WPrefs.app/Appearance.c:1768
+msgid "Menu Items"
+msgstr "Åëåìåíòè íà ìåíþ"
+
+# ../../WPrefs.app/Appearance.c:1743
+#: ../../WPrefs.app/Appearance.c:1769
+msgid "Icon Background"
+msgstr "Ôîí çà èêîíêèòå"
+
+# ../../WPrefs.app/Appearance.c:1758
+#: ../../WPrefs.app/Appearance.c:1784
+msgid ""
+"Double click in the texture you want to use\n"
+"for the selected item."
+msgstr ""
+"Ùðàêíåòå äâóêðàòíî ïî òåêñòóðàòà, êîÿòî æåëàåòå äà\n"
+"ñå èçïîëçâà íà ìàðêèðàíîòî ìÿñòî."
+
+# ../../WPrefs.app/Appearance.c:1772
+#: ../../WPrefs.app/Appearance.c:1798
+msgid "New"
+msgstr "Íîâà"
+
+# ../../WPrefs.app/Appearance.c:1776
+#: ../../WPrefs.app/Appearance.c:1802
+msgid "Create a new texture."
+msgstr "Çà äà ñå íàïðàâè íîâà òåêñòóðà."
+
+# ../../WPrefs.app/Appearance.c:1784
+#: ../../WPrefs.app/Appearance.c:1810
+msgid "Extract..."
+msgstr "Èçâëå÷è"
+
+# ../../WPrefs.app/Appearance.c:1788
+#: ../../WPrefs.app/Appearance.c:1814
+msgid "Extract texture(s) from a theme or a style file."
+msgstr ""
+"Èçâëè÷à òåêñòóðà(è) îò òåìà\n"
+"èëè ôàéë ñúñ ñòèë."
+
+# ../../WPrefs.app/Appearance.c:1798
+#: ../../WPrefs.app/Appearance.c:1824
+msgid "Edit"
+msgstr "Ðåäàêò."
+
+# ../../WPrefs.app/Appearance.c:1801
+#: ../../WPrefs.app/Appearance.c:1827
+msgid "Edit the highlighted texture."
+msgstr "Ðåäàêòèðàíå íà ìàðêèðàíàòà òåêñòóðà."
+
+# ../../WPrefs.app/Appearance.c:1809 ../../WPrefs.app/TexturePanel.c:1310
+#: ../../WPrefs.app/Appearance.c:1835 ../../WPrefs.app/TexturePanel.c:1316
+msgid "Delete"
+msgstr "Èçòðèé"
+
+# ../../WPrefs.app/Appearance.c:1813
+#: ../../WPrefs.app/Appearance.c:1839
+msgid "Delete the highlighted texture."
+msgstr "Èçòðèâà ìàðêèðàíàòà òåêñòóðà."
+
+# ../../WPrefs.app/Appearance.c:1826
+#: ../../WPrefs.app/Appearance.c:1852
+msgid "Color"
+msgstr "Öâåòîâå"
+
+# ../../WPrefs.app/Appearance.c:1833
+#: ../../WPrefs.app/Appearance.c:1859
+msgid "Focused Window Title"
+msgstr "Èìå íà ôîêóñèðàí ïðîçîðåö"
+
+# ../../WPrefs.app/Appearance.c:1834
+#: ../../WPrefs.app/Appearance.c:1860
+msgid "Unfocused Window Title"
+msgstr "Èìå íà íåôîêóñèðàí ïðîçîðåö"
+
+# ../../WPrefs.app/Appearance.c:1835
+#: ../../WPrefs.app/Appearance.c:1861
+msgid "Owner of Focused Window Title"
+msgstr "Èìå íà ñîáñòâåíèê íà ôîêóñèðàí"
+
+# ../../WPrefs.app/Appearance.c:1837
+#: ../../WPrefs.app/Appearance.c:1863
+msgid "Menu Item Text"
+msgstr "Òåêñò íà åëåìåíò íà ìåíþ"
+
+# ../../WPrefs.app/Appearance.c:1838
+#: ../../WPrefs.app/Appearance.c:1864
+msgid "Disabled Menu Item Text"
+msgstr "Òåêñò íà çàáðàíåí åëåìåíò"
+
+# ../../WPrefs.app/Appearance.c:1839
+#: ../../WPrefs.app/Appearance.c:1865
+msgid "Menu Highlight Color"
+msgstr "Öâÿò íà ìàðêèðàí åëåìåíò"
+
+# ../../WPrefs.app/Appearance.c:1840
+#: ../../WPrefs.app/Appearance.c:1866
+msgid "Highlighted Menu Text Color"
+msgstr "Öâÿò íà òåêñò íà ìàðêèðàí"
+
+# ../../WPrefs.app/Appearance.c:1743
+#: ../../WPrefs.app/Appearance.c:1905
+msgid "Background"
+msgstr "Ôîí"
+
+# ../../WPrefs.app/TexturePanel.c:1497
+#: ../../WPrefs.app/Appearance.c:1917 ../../WPrefs.app/TexturePanel.c:1503
+msgid "Browse..."
+msgstr "Áðàóçúð..."
+
+# ../../WPrefs.app/Appearance.c:1877
+#: ../../WPrefs.app/Appearance.c:1930
+msgid "Options"
+msgstr "Âàðèàíòè"
+
+# ../../WPrefs.app/Appearance.c:1884
+#: ../../WPrefs.app/Appearance.c:1937
+msgid "Menu Style"
+msgstr "Ñòèë íà ìåíþòàòà"
+
+# ../../WPrefs.app/Appearance.c:1912 ../../WPrefs.app/Configurations.c:242
+# ../../WPrefs.app/Configurations.c:254 ../../WPrefs.app/Focus.c:316
+# ../../WPrefs.app/Focus.c:327 ../../WPrefs.app/MenuPreferences.c:137
+# ../../WPrefs.app/MenuPreferences.c:148
+# ../../WPrefs.app/MenuPreferences.c:176
+# ../../WPrefs.app/MenuPreferences.c:191 ../../WPrefs.app/MouseSettings.c:561
+# ../../WPrefs.app/MouseSettings.c:572 ../../WPrefs.app/WPrefs.c:545
+# ../../WPrefs.app/WPrefs.c:570
+#: ../../WPrefs.app/Appearance.c:1965 ../../WPrefs.app/Configurations.c:242
+#: ../../WPrefs.app/Configurations.c:254 ../../WPrefs.app/Focus.c:288
+#: ../../WPrefs.app/Focus.c:299 ../../WPrefs.app/MenuPreferences.c:134
+#: ../../WPrefs.app/MenuPreferences.c:145
+#: ../../WPrefs.app/MenuPreferences.c:173
+#: ../../WPrefs.app/MenuPreferences.c:188 ../../WPrefs.app/MouseSettings.c:560
+#: ../../WPrefs.app/MouseSettings.c:571 ../../WPrefs.app/WPrefs.c:558
+#: ../../WPrefs.app/WPrefs.c:583
+#, c-format
+msgid "could not load icon file %s"
+msgstr "Íå ìîæå äà ñå çàðåäè ôàéëúò ñ èêîíêà %s"
+
+# ../../WPrefs.app/Appearance.c:1926
+#: ../../WPrefs.app/Appearance.c:1979
+msgid "Title Alignment"
+msgstr "Çàãëàâèÿ"
+
+# ../../WPrefs.app/Appearance.c:1933
+#: ../../WPrefs.app/Appearance.c:1986
+msgid "Left"
+msgstr "Îòëÿâî"
+
 # Íÿìà ìÿñòî çà "Öåíòðèðàíî"
-#: ../../WPrefs.app/Appearance.c:1936 ../../WPrefs.app/TexturePanel.c:1511
-#: ../../WPrefs.app/Workspace.c:271
-msgid "Center"
-msgstr "Öåíòðàëíî"
-
-#: ../../WPrefs.app/Appearance.c:1939
-msgid "Right"
-msgstr "Äÿñíî"
-
-#: ../../WPrefs.app/Appearance.c:2167
-msgid "Appearance Preferences"
-msgstr "Ïðåäïî÷èòàíèÿ çà èçãëåäà"
-
-#: ../../WPrefs.app/Appearance.c:2169
-msgid ""
-"Background texture configuration for windows,\n"
-"menus and icons."
-msgstr ""
-"Íàñòðîéêà íà öâåòîâå è òåêñòóðè\n"
-"çà ïðîçîðöèòå, ìåíþòàòà\n"
-"è èêîíêèòå."
-
-#: ../../WPrefs.app/Appearance.c:2214
-msgid "Extract Texture"
-msgstr "Èçâëå÷è òåêñòóðà"
-
-#: ../../WPrefs.app/Appearance.c:2234
-msgid "Textures"
-msgstr "Òåêñòóðè"
-
-#: ../../WPrefs.app/Appearance.c:2250
-msgid "Extract"
-msgstr "Èçâëå÷è"
-
-#: ../../WPrefs.app/Configurations.c:150 ../../WPrefs.app/Configurations.c:156
-#: ../../WPrefs.app/MouseSettings.c:491 ../../WPrefs.app/WindowHandling.c:331
-#: ../../WPrefs.app/WindowHandling.c:343 ../../WPrefs.app/Workspace.c:90
-#: ../../WPrefs.app/Workspace.c:101
-#, c-format
-msgid "could not load icon %s"
-msgstr "íå ìîæå äà ñå çàðåäè ôàéë ñ èçîáðàæåíèå %s"
-
-#: ../../WPrefs.app/Configurations.c:164 ../../WPrefs.app/Workspace.c:109
-#, c-format
-msgid "could not process icon %s:"
-msgstr "íå ìîæå äà ñå îáðàáîòè èêîíêàòà %s:"
-
-#: ../../WPrefs.app/Configurations.c:189 ../../WPrefs.app/Workspace.c:164
-#, c-format
-msgid "could not load image file %s"
-msgstr "íå ìîæå äà ñå çàðåäè ôàéë ñ èçîáðàæåíèå %s"
-
-#: ../../WPrefs.app/Configurations.c:203
-msgid "Icon Slide Speed"
-msgstr "Ñêîðîñò íà ïëúçãàíå íà èêîíêèòå"
-
-#: ../../WPrefs.app/Configurations.c:209
-msgid "Shade Animation Speed"
-msgstr "Ñêîðîñò íà çàñåí÷âàíåòî"
-
-#: ../../WPrefs.app/Configurations.c:271
-msgid "Smooth Scaling"
-msgstr "Èçãëàæäàíå"
-
-#: ../../WPrefs.app/Configurations.c:272
-msgid ""
-"Smooth scaled background images, neutralizing\n"
-"the `pixelization' effect. This will slow\n"
-"down loading of background images considerably."
-msgstr ""
-"Ãëàäêî ìàùàáèðàíå íà èçîáðàæåíèÿòà çà ôîí, ïðè\n"
-"êîåòî ñå íåóòðàëèçèðà åôåêòà íà \"ïèêñåëèçàöèÿ\".\n"
-"Ïðè òîâà îáà÷å çíà÷èòåëíî ùå ñå çàáàâè\n"
-"çàðåæäàíåòî íà èçîáðàæåíèÿ çà ôîí."
-
-#: ../../WPrefs.app/Configurations.c:313
-msgid "Titlebar Style"
-msgstr "Çàãëàâíà èâèöà"
-
-#: ../../WPrefs.app/Configurations.c:351
-msgid "Animations and Sound"
-msgstr "Àíèìàöèè è çâóê"
-
-#: ../../WPrefs.app/Configurations.c:357
-msgid "Animations"
-msgstr "Àíèìàöèè"
-
-#: ../../WPrefs.app/Configurations.c:368
-msgid ""
-"Disable/enable animations such as those shown\n"
-"for window miniaturization, shading etc."
-msgstr ""
-"Çàáðàíÿâà/ïîçâîëÿâà àíèìàöèè êàòî íàïðèìåð\n"
-"çà ìèíèìèçàöèÿ íà ïðîçîðöèòå, çàñåí÷âàíå\n"
-"è äð."
-
-#: ../../WPrefs.app/Configurations.c:376
-msgid "Superfluous"
-msgstr "Èçëèøíè"
-
-#: ../../WPrefs.app/Configurations.c:387
-msgid ""
-"Disable/enable `superfluous' features and\n"
-"animations. These include the `ghosting' of the\n"
-"dock when it's being moved to the another side\n"
-"and the explosion animation for undocked icons."
-msgstr ""
-"Çàáðàíÿâà/ïîçâîëÿâà \"èçëèøíèòå\" âúçìîæíîñòè è\n"
-"àíèìàöèè. Òîâà âêëþ÷âà \"ïðèâèæäàíåòî\" íà äîêà\n"
-"ïðè ïðåìåñòâàíåòî ìó îò äðóãàòà ñòðàíà, êàêòî\n"
-"è àíèìàöèÿòà íà åêñïëîçèÿ çà îòêà÷åíèòå îò\n"
-"äîêà èêîíêè."
-
-#: ../../WPrefs.app/Configurations.c:397
-msgid "Sounds"
-msgstr "Çâóê"
-
-#: ../../WPrefs.app/Configurations.c:408
-msgid ""
-"Disable/enable support for sound effects played\n"
-"for actions like shading and closing a window.\n"
-"You will need a module distributed separately\n"
-"for this. You can get it at:\n"
-"http://www.frontiernet.net/~southgat/wmsound"
-msgstr ""
-"Çàáðàíÿâà/ïîçâîëÿâà ïîääðúæêàòà íà çâóêîâè\n"
-"åôåêòí, ïðîèãðàâàíè ïðè äåéñòâèÿ êàòî çà-\n"
-"ñåí÷âàíå è çàòâàðÿíå íà ïðîçîðåö. Ùå å íå-\n"
-"îáõîäèì ìîäóë, ðàçïðîñòðàíÿâàí îòäåëíî.\n"
-"Ìîæå äà ãî ïîëó÷èòå îò àäðåñ\n"
-"http://www.frontiernet.net/~southgat/wmsound"
-
-#: ../../WPrefs.app/Configurations.c:419
-msgid "Note: sound requires a module distributed separately"
-msgstr "Çàáåëåæåòå, ÷å çà çâóê å íåîáõîäèì ìîäóë, ðàçïðîñòðàíÿâàí îòäåëíî"
-
-#: ../../WPrefs.app/Configurations.c:429
-msgid "Dithering colormap for 8bpp"
-msgstr ""
-
-#: ../../WPrefs.app/Configurations.c:431
-msgid ""
-"Number of colors to reserve for Window Maker\n"
-"on displays that support only 8bpp (PseudoColor)."
-msgstr ""
-"Áðîé íà öâåòîâå, êîèòî äà ñå çàïàçÿò çà\n"
-"Window Maker ïðè äèñïëåè, ïîääúðæàùè ñàìî\n"
-"8 áèòà/ïèêñåë (ò.í. PseudoColor)."
-
-#: ../../WPrefs.app/Configurations.c:438
-msgid "Disable dithering in any visual/depth"
-msgstr ""
-
-#: ../../WPrefs.app/Configurations.c:459
-msgid "More colors for applications"
-msgstr "Ïîâå÷å öâåòîâå çà ïðèëîæ."
-
-#: ../../WPrefs.app/Configurations.c:466
-msgid "More colors for WindowMaker"
-msgstr "Ïîâå÷å öâåòîâå çà WindowMaker"
-
-#: ../../WPrefs.app/Configurations.c:521
-msgid "Other Configurations"
-msgstr "Äðóãè íàñòðîéêè"
-
-#: ../../WPrefs.app/Configurations.c:523
-msgid ""
-"Animation speeds, titlebar styles, various option\n"
-"toggling and number of colors to reserve for\n"
-"Window Maker in 8bit displays."
-msgstr ""
-"Ñêîðîñò íà àíèìàöèèòå, ñòèë íà çàãëàâíèòå èâèöè,\n"
-"èçáîð íà ðàçíè îïöèè è áðîé öâåòîâå çà Window\n"
-"Maker ïðè äèñïëåè ñ 8 áèòà/ïèêñåë."
-
-#: ../../WPrefs.app/Expert.c:75
-msgid ""
-"Disable miniwindows (icons for miniaturized windows). For use with KDE/GNOME."
-msgstr "Áåç ìèíèïðîçîð÷åòà (ìèíèìèçèðàíè ïðîçîðöè). Ïîëåçíî ïðè GNOME/KDE."
-
-#: ../../WPrefs.app/Expert.c:76
-msgid "Do not set non-WindowMaker specific parameters (do not use xset)"
-msgstr "Áåç íåñïåöèôè÷íè çà WindowMaker ïàðàìåòðè (äà íå ñå ïîëçâà xset)."
-
-#: ../../WPrefs.app/Expert.c:77
-msgid "Automatically save session when exiting WindowMaker"
-msgstr "Àâòîìàòè÷íî çàïàçâàíå íà ñåàíñà ïðè èçõîä îò WindowMaker."
-
-#: ../../WPrefs.app/Expert.c:78
-msgid "Use SaveUnder in window frames, icons, menus and other objects"
-msgstr "Àòðèáóò \"SaveUnder\" çà ðàìêèòå íà ïðîçîðöè, çà èêîíêè, ìåíþòî è äð."
-
-#: ../../WPrefs.app/Expert.c:79
-msgid "Disable cycling color highlighting of icons."
-msgstr "Áåç âúðòåíå íà ïóíêòèð îêîëî ìàðêèðàíèòå èêîíêè."
-
-#: ../../WPrefs.app/Expert.c:80
-msgid "Disable confirmation panel for the Kill command."
-msgstr "Áåç ïàíåë çà ïîòâúðæäåíèå ïðè êîìàíäà \"Óáèé\"."
-
-#: ../../WPrefs.app/Expert.c:113
-msgid "Expert User Preferences"
-msgstr "Ïðåäïî÷èòàíèÿ çà íàïðåäíàëè ïîòðåáèòåëè"
-
-#: ../../WPrefs.app/Expert.c:115
-msgid ""
-"Options for people who know what they're doing...\n"
-"Also have some other misc. options."
-msgstr ""
-"Îïöèè çà õîðà, êîèòî çíàÿò êàêâî ïðàâÿò...\n"
-"Ñúùî è ðàçíè äðóãè îïöèè."
-
-#: ../../WPrefs.app/Focus.c:83
-#, c-format
-msgid "bad option value %s for option FocusMode. Using default Manual"
-msgstr ""
-"íåïðàâèëíà ñòîéíîñò %s íà îïöèÿòà FocusMode. Ïî ïîäðàçáèðàíå ñå ïîëçâà Manual"
-
-#: ../../WPrefs.app/Focus.c:98
-#, c-format
-msgid "bad option value %s for option ColormapMode. Using default Auto"
-msgstr ""
-"íåïðàâèëíà ñòîéíîñò %s íà îïöèÿòà ColormapMode. Ïî ïîäðàçáèðàíå ñå ïîëçâà "
-"Auto"
-
-#: ../../WPrefs.app/Focus.c:196
-msgid ""
-"Click on the window to set\n"
-"keyboard input focus."
-msgstr "Ùðàêàíåòî ïî ïðîçîðåöà ìó ïðåäîñòàâÿ êëàâèàòóðíèÿ ôîêóñ."
-
-#: ../../WPrefs.app/Focus.c:200
-msgid ""
-"Set keyboard input focus to\n"
-"the window under the mouse pointer,\n"
-"including the root window."
-msgstr ""
-"Êëàâèàòóðíèÿò ôîêóñ å çà ïðîçîðåöà, âúðõó êîéòî å ìèøêàòà, â òîâà ÷èñëî è "
-"îñíîâíèÿ ïðîçîðåö (ò.í. root window)."
-
-#: ../../WPrefs.app/Focus.c:205
-msgid ""
-"Set keyboard input focus to\n"
-"the window under the mouse pointer,\n"
-"except the root window."
-msgstr ""
-"Êëàâèàòóðíèÿò ôîêóñ å çà ïðî-\n"
-"çîðåöà, âúðõó êîéòî å ìèøêàòà, ñ èçêëþ÷åíèå íà ãëàâíèÿ ïðîçîðåö (ò.í. root "
-"window)."
-
-#: ../../WPrefs.app/Focus.c:249
-msgid "Input Focus Mode"
-msgstr "Ïðàâèëî çà ôîêóñèðàíå"
-
-#: ../../WPrefs.app/Focus.c:254
-msgid "Click window to focus"
-msgstr "Ùðàêíè çà ôîêóñ"
-
-#: ../../WPrefs.app/Focus.c:255
-msgid "Focus follows mouse"
-msgstr "Ôîêóñúò ñëåäâà ìèøêàòà"
-
-#: ../../WPrefs.app/Focus.c:256
-msgid "\"Sloppy\" focus"
-msgstr "Ïðåëèâàù (ò.í. sloppy) ôîêóñ"
-
-#: ../../WPrefs.app/Focus.c:271
-msgid "Install colormap in the window..."
-msgstr "Öâåòîâàòà ïàëèòðà å çà ïðîçîðåöà,... "
-
-#: ../../WPrefs.app/Focus.c:276
-msgid "...that has the input focus."
-msgstr "... êîéòî å ôîêóñèðàí."
-
-#: ../../WPrefs.app/Focus.c:281
-msgid "...that is under the mouse pointer."
-msgstr "... êîéòî å ïîä ìèøêàòà."
-
-#: ../../WPrefs.app/Focus.c:290
-msgid "Automatic Window Raise Delay"
-msgstr "Çàáàâÿíå íà àâòîìàòè÷íîòî ïîâäèãàíå"
-
-#: ../../WPrefs.app/Focus.c:347
-msgid "msec"
-msgstr "ms"
-
-#: ../../WPrefs.app/Focus.c:364
-msgid "Do not let applications receive the click used to focus windows."
-msgstr ""
-"Ïðèëîæåíèÿòà äà íå ïîëó÷àâàò ùòðàêàíå, èçïîëçâàíî çà ôîêóñèðàíå íà ïðîçîðåö."
-
-#: ../../WPrefs.app/Focus.c:370
-msgid "Automatically focus new windows."
-msgstr "Àâòîìàòè÷íî äà ñå ôîêóñèðàò íîâèòå ïðîçîðöè."
-
-#: ../../WPrefs.app/Focus.c:391
-msgid "Window Focus Preferences"
-msgstr "Ïðåäïî÷èòàíèÿ çà ôîêóñèðàíåòî íà ïðîçîðöèòå"
-
-#: ../../WPrefs.app/Focus.c:393
-msgid ""
-"Keyboard focus switching policy, colormap switching\n"
-"policy for 8bpp displays and other related options."
-msgstr ""
-"Ïðàâèëî çà ïðåäàâàíå íà êëàâèàòóðíèÿ ôîêóñ,\n"
-"ïðåäàâàíå íà öâåòîâàòà ïàëèòðà ïðè äèñïëåè\n"
-"ñ 8 áèòà/ïèêñåë è äðóãè ïîäîáíè îïöèè."
-
-#: ../../WPrefs.app/Font.c:277
-msgid "Could not locate font information file WPrefs.app/font.data"
-msgstr ""
-
-#: ../../WPrefs.app/Font.c:283
-msgid "Could not read font information file WPrefs.app/font.data"
-msgstr ""
-
-#: ../../WPrefs.app/Font.c:294
-msgid ""
-"Invalid data in font information file WPrefs.app/font.data.\n"
-"Encodings data not found."
-msgstr ""
-
-#: ../../WPrefs.app/Font.c:299
-msgid "- Custom -"
-msgstr ""
-
-#: ../../WPrefs.app/Font.c:377
-msgid "Default Font Sets"
-msgstr "Ñòàíäàðòíè øðèôòîâå"
-
-#: ../../WPrefs.app/Font.c:390
-msgid "Font Set"
-msgstr ""
-
-#: ../../WPrefs.app/Font.c:419
-msgid "Add..."
-msgstr "Äîáàâè"
-
-#: ../../WPrefs.app/Font.c:424 ../../WPrefs.app/Font.c:439
-msgid "Change..."
-msgstr "Ñìåíè..."
-
-#: ../../WPrefs.app/Font.c:429 ../../WPrefs.app/Paths.c:288
-#: ../../WPrefs.app/Paths.c:319
-msgid "Remove"
-msgstr "Ïðåìàõíè"
-
-#: ../../WPrefs.app/Font.c:478
-msgid "Font Preferences"
-msgstr "Ïðåäïî÷èòàíèÿ çà øðèôòîâåòå"
-
-#: ../../WPrefs.app/Font.c:479
-msgid "Font Configurations for Windows, Menus etc"
-msgstr ""
-"Íàñòðîéêà íà øðèôòîâåòå çà\n"
-"ïðîçîðöèòå, ìåíþòàòà è äð."
-
-#: ../../WPrefs.app/Icons.c:182
-msgid "Icon Positioning"
-msgstr "Íàðåæäàíå íà èêîíêèòå"
-
-#: ../../WPrefs.app/Icons.c:229
-msgid "Iconification Animation"
-msgstr "Àíèìàöèÿ ïðè èêîíèçèðàíå"
-
-#: ../../WPrefs.app/Icons.c:240
-msgid "Shrinking/Zooming"
-msgstr "Ñâèâàíå/ðàçøèðÿâàíå"
-
-#: ../../WPrefs.app/Icons.c:241
-msgid "Spinning/Twisting"
-msgstr "Óâèâàíå/ðàçâèâàíå"
-
-#: ../../WPrefs.app/Icons.c:242
-msgid "3D-flipping"
-msgstr "Òðèìåðíî ïðåîáðúùàíå"
-
-#: ../../WPrefs.app/Icons.c:243
-msgid "None"
-msgstr "Íèêàêâà"
-
-#: ../../WPrefs.app/Icons.c:256
-msgid "Auto-arrange icons"
-msgstr "Àâòîìàò. ïîäðåæäàíå íà èêîíêèòå"
-
-#: ../../WPrefs.app/Icons.c:258
-msgid "Keep icons and miniwindows arranged all the time."
-msgstr ""
-"Èêîíêèòå è ìèíèïðîçîð÷åòàòà äà ñå ïîääúðæàò\n"
-"ïîäðåäåíè ïðåç öÿëîòî âðåìå."
-
-#: ../../WPrefs.app/Icons.c:264
-msgid "Omnipresent miniwindows"
-msgstr "Âåçäåñúùíè ìèíèïðîçîð÷åòà"
-
-#: ../../WPrefs.app/Icons.c:266
-msgid "Make miniwindows be present in all workspaces."
-msgstr ""
-"Ìèíèïðîçîð÷åòàòà äà ïðèñúñòâàò íà\n"
-"âñè÷êè ðàáîòíè ìåñòà."
-
-#: ../../WPrefs.app/Icons.c:275
-msgid "Icon Size"
-msgstr "Ðàçìåð íà èêîíêèòå"
-
-#: ../../WPrefs.app/Icons.c:277
-msgid "The size of the dock/application icon and miniwindows"
-msgstr ""
-"Ðàçìåðúò íà èêîíêèòå è ìèíèïðîçîð÷åòàòà\n"
-"îò äîêà è íà ïðèëîæåíèÿòà."
-
-#: ../../WPrefs.app/Icons.c:347
-msgid "Icon Preferences"
-msgstr "Ïðåäïî÷èòàíèÿ çà èêîíêèòå"
-
-#: ../../WPrefs.app/Icons.c:349
-msgid ""
-"Icon/Miniwindow handling options. Icon positioning\n"
-"area, sizes of icons, miniaturization animation style."
-msgstr ""
-"Îïöèè çà ïîääúðæàíåòî íà èêîíêèòå è ìèíèïðîçîð÷åòàòà.\n"
-"Ìÿñòî, êúäåòî äà ñå ïîäðåæäàò èêîíêèòå, òåõíèÿò\n"
-"ðàçìåð, âèä àíèìàöèÿ ïðè ìèíèìèçèðàíå."
-
-#: ../../WPrefs.app/KeyboardSettings.c:74
-msgid "Initial Key Repeat"
-msgstr ""
-
-#: ../../WPrefs.app/KeyboardSettings.c:115
-msgid "Key Repeat Rate"
-msgstr ""
-
-#: ../../WPrefs.app/KeyboardSettings.c:155
-msgid "Type here to test"
-msgstr ""
-
-#: ../../WPrefs.app/KeyboardSettings.c:174
-msgid "Keyboard Preferences"
-msgstr ""
-
-#: ../../WPrefs.app/KeyboardSettings.c:176
-msgid "Not done"
-msgstr ""
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:185 ../../WPrefs.app/Menu.c:1027
-#: ../../WPrefs.app/MenuGuru.c:263 ../../WPrefs.app/TexturePanel.c:1528
-msgid "Cancel"
-msgstr "Îòêàç"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:186
-msgid "Press the desired shortcut key(s) or click Cancel to stop capturing."
-msgstr ""
-"Íàáåðåòå êëàâèøíàòà\n"
-"êîìáèíàöèÿ èëè íàòèñ-\n"
-"íåòå \"Îòêàç\" çà äà ñå\n"
-"îñâîáîäè êëàâèàòóðàòà."
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:206
-#: ../../WPrefs.app/KeyboardShortcuts.c:454 ../../WPrefs.app/Menu.c:1039
-#: ../../WPrefs.app/Menu.c:1262
-msgid "Capture"
-msgstr "Ïðèõâàíè"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:207
-#: ../../WPrefs.app/KeyboardShortcuts.c:461
-msgid "Click Capture to interactively define the shortcut key."
-msgstr ""
-"Íàòèñíåòå \"Ïðèõâàíè\" çà äà îïðåäåëèòå äèàëîãîâî êëàâèøíàòà êîìáèíàöèÿ."
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:361
-msgid "Actions"
-msgstr "Äåéñòâèÿ"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:377
-msgid "Open applications menu"
-msgstr "Ìåíþòî íà ïðèëîæåíèÿòà"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:378
-msgid "Open window list menu"
-msgstr "Ìåíþòî íà ñïèñúêà ñ ïðîçîðöèòå"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:379
-msgid "Open window commands menu"
-msgstr "Ìåíþòî ñ ïðîçîðå÷íèòå êîìàíäè"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:380
-msgid "Hide active application"
-msgstr "Ñêðèé àêòèâíîòî ïðèëîæåíèå"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:381
-msgid "Miniaturize active window"
-msgstr "Ìèíèìèçèðàé àêòèâíèÿ ïðîçîðåö"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:382
-msgid "Close active window"
-msgstr "Çàòâîðè àêòèâíèÿ ïðîçîðåö"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:383
-msgid "Maximize active window"
-msgstr "Ìàêñèìèçèðàé àêòèâíèÿ ïðîçîðåö"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:384
-msgid "Maximize active window vertically"
-msgstr "Ìàêñèìèçèðàé âåðòèêàëíî àêòèâíèÿ"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:385
-msgid "Raise active window"
-msgstr "Âäèãíè àêòèâíèÿ ïðîçîðåö"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:386
-msgid "Lower active window"
-msgstr "Ñïóñíè àêòèâíèÿ ïðîçîðåö"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:387
-msgid "Raise/Lower window under mouse pointer"
-msgstr "Âäèãíè/ñïóñíè ïðîçîðåöà ïîä ìèøêàòà"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:388
-msgid "Shade active window"
-msgstr "Çàñåí÷è àêòèâíèÿ ïðîçîðåö"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:389
-msgid "Move/Resize active window"
-msgstr "Ïðåìåñòè/îðàçìåðè àêòèâíèÿ ïðîçîðåö"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:390
-msgid "Select active window"
-msgstr "Ìàðêèðàé àêòèâíèÿ ïðîçîðåö"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:391
-msgid "Focus next window"
-msgstr "Ôîêóñèðàé ñëåäâàùèÿ ïðîçîðåö"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:392
-msgid "Focus previous window"
-msgstr "Ôîêóñèðàé ïðåäõîäíèÿ ïðîçîðåö"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:393
-msgid "Switch to next workspace"
-msgstr "Ïðåìèíè íà ñëåäâàùîòî ðàáîòíî ìÿñòî"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:394
-msgid "Switch to previous workspace"
-msgstr "Ïðåìèíè íà ïðåäõîäíîòî ðàáîòíî ìÿñòî"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:395
-msgid "Switch to next ten workspaces"
-msgstr "Íàïðåä ïðåç äåñåò ðàáîòíè ìâñòà"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:396
-msgid "Switch to previous ten workspaces"
-msgstr "Íàçàä ïðåç äåñåò ðàáîòíè ìåñòà"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:397
-msgid "Switch to workspace 1"
-msgstr "Ïðåìèíè íà ðàáîòíî ìÿñòî 1"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:398
-msgid "Switch to workspace 2"
-msgstr "Ïðåìèíè íà ðàáîòíî ìÿñòî 2"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:399
-msgid "Switch to workspace 3"
-msgstr "Ïðåìèíè íà ðàáîòíî ìÿñòî 3"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:400
-msgid "Switch to workspace 4"
-msgstr "Ïðåìèíè íà ðàáîòíî ìÿñòî 4"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:401
-msgid "Switch to workspace 5"
-msgstr "Ïðåìèíè íà ðàáîòíî ìÿñòî 5"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:402
-msgid "Switch to workspace 6"
-msgstr "Ïðåìèíè íà ðàáîòíî ìÿñòî 6"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:403
-msgid "Switch to workspace 7"
-msgstr "Ïðåìèíè íà ðàáîòíî ìÿñòî 7"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:404
-msgid "Switch to workspace 8"
-msgstr "Ïðåìèíè íà ðàáîòíî ìÿñòî 8"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:405
-msgid "Switch to workspace 9"
-msgstr "Ïðåìèíè íà ðàáîòíî ìÿñòî 9"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:406
-msgid "Switch to workspace 10"
-msgstr "Ïðåìèíè íà ðàáîòíî ìÿñòî 10"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:407
-msgid "Shortcut for window 1"
-msgstr "Áúðç êëàâèø çà ïðîçîðåö 1"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:408
-msgid "Shortcut for window 2"
-msgstr "Áúðç êëàâèø çà ïðîçîðåö 2"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:409
-msgid "Shortcut for window 3"
-msgstr "Áúðç êëàâèø çà ïðîçîðåö 3"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:410
-msgid "Shortcut for window 4"
-msgstr "Áúðç êëàâèø çà ïðîçîðåö 4"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:412
-msgid "Shortcut for window 5"
-msgstr "Áúðç êëàâèø çà ïðîçîðåö 5"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:413
-msgid "Shortcut for window 6"
-msgstr "Áúðç êëàâèø çà ïðîçîðåö 6"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:414
-msgid "Shortcut for window 7"
-msgstr "Áúðç êëàâèø çà ïðîçîðåö 7"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:415
-msgid "Shortcut for window 8"
-msgstr "Áúðç êëàâèø çà ïðîçîðåö 8"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:416
-msgid "Shortcut for window 9"
-msgstr "Áúðç êëàâèø çà ïðîçîðåö 9"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:417
-msgid "Shortcut for window 10"
-msgstr "Áúðç êëàâèø çà ïðîçîðåö 10"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:419
-msgid "Raise Clip"
-msgstr "Ïîâäèãíè Êëàìåð"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:420
-msgid "Lower Clip"
-msgstr "Ñïóñíè Êëàìåð"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:421
-msgid "Raise/Lower Clip"
-msgstr "Ïîâäèãíè/ñïóñíè Êëàìåð"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:423
-msgid "Toggle keyboard language"
-msgstr "Ïðåâêëþ÷âàòåë ÊÈÐ/ËÀÒ"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:437 ../../WPrefs.app/Menu.c:1251
-msgid "Shortcut"
-msgstr "Áúðç êëàâèø"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:448
-msgid "Clear"
-msgstr "Èç÷èñòè"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:509
-msgid "Keyboard Shortcut Preferences"
-msgstr "Ïðåäïî÷èòàíèÿ çà \"áúðçè êëàâèøè\""
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:511
-msgid ""
-"Change the keyboard shortcuts for actions such\n"
-"as changing workspaces and opening menus."
-msgstr ""
-"Ïðîìÿíà íà \"áúðçè êëàâèøè\" çà äåéñòâèÿ êàòî\n"
-"ñìÿíà íà ðàáîòíîòî ïðîñòðàíñòâî è\n"
-"ïîêàçâàíå íà ìåíþòà."
-
-#: ../../WPrefs.app/Menu.c:422
-msgid "Window Manager"
-msgstr "Àäìèíèñòðàòîð íà ïðîçîðöèòå"
-
-#: ../../WPrefs.app/Menu.c:424
-msgid "Program to Open Files"
-msgstr "Ïðîã. çà îòâàðÿíå ôàéëîâåòå"
-
-#: ../../WPrefs.app/Menu.c:426
-msgid "Command to Execute"
-msgstr "Äà ñå èçïúëíè êîìàíäàòà"
-
-#: ../../WPrefs.app/Menu.c:428 ../../WPrefs.app/Menu.c:1238
-msgid "Program to Run"
-msgstr "Äà ñå ñòàðòèðà ïðîãðàìàòà"
-
-#: ../../WPrefs.app/Menu.c:477 ../../WPrefs.app/Menu.c:478
-#, c-format
-msgid "New Command %i"
-msgstr "Íîâà êîìàíäà %i"
-
-#: ../../WPrefs.app/Menu.c:485
-msgid "New Submenu"
-msgstr "Íîâî ïîäìåíþ"
-
-#: ../../WPrefs.app/Menu.c:490
-msgid "External Menu"
-msgstr "Âúíøíî ìåíþ"
-
-#: ../../WPrefs.app/Menu.c:497
-msgid "Workspaces"
-msgstr "Ðàáîòíè ìåñòà"
-
-#: ../../WPrefs.app/Menu.c:1119 ../../WPrefs.app/Menu.c:1134
-msgid "Commands"
-msgstr "Äåéñòâèÿ"
-
-#: ../../WPrefs.app/Menu.c:1120 ../../WPrefs.app/Menu.c:1135
-msgid "Add Command"
-msgstr "Äîáàâè êîìàíäà"
-
-#: ../../WPrefs.app/Menu.c:1121 ../../WPrefs.app/Menu.c:1136
-msgid "Add Submenu"
-msgstr "Äîáàâè ïîäìåíþ"
-
-#: ../../WPrefs.app/Menu.c:1122 ../../WPrefs.app/Menu.c:1137
-msgid "Add External Menu"
-msgstr "Äîáàâè âúíøíî ìåíþ"
-
-#: ../../WPrefs.app/Menu.c:1123 ../../WPrefs.app/Menu.c:1138
-msgid "Add Workspace Menu"
-msgstr "Ìåíþ íà ðàá. ìåñòà"
-
-#: ../../WPrefs.app/Menu.c:1124 ../../WPrefs.app/Menu.c:1139
-msgid "Remove Item"
-msgstr "Ìàõíè åëåìåíòà"
-
-#: ../../WPrefs.app/Menu.c:1125 ../../WPrefs.app/Menu.c:1140
-msgid "Cut Item"
-msgstr "Îòðåæè åëåìåíòà"
-
-#: ../../WPrefs.app/Menu.c:1126 ../../WPrefs.app/Menu.c:1141
-msgid "Copy Item"
-msgstr "Êîïèðàé åëåìåíòà"
-
-#: ../../WPrefs.app/Menu.c:1127 ../../WPrefs.app/Menu.c:1142
-msgid "Paste Item"
-msgstr "Âìúêíè åëåìåíòà"
-
-#: ../../WPrefs.app/Menu.c:1173
-msgid "Label"
-msgstr "Åòèêåò"
-
-#: ../../WPrefs.app/Menu.c:1186
-msgid "Command"
-msgstr "Êîìàíäà"
-
-#: ../../WPrefs.app/Menu.c:1191
-msgid "Run Program"
-msgstr "Ïðîãðàìà"
-
-#: ../../WPrefs.app/Menu.c:1192
-msgid "Execute Shell Command"
-msgstr "Êîìàíäà íà îáâèâêàòà"
-
-#: ../../WPrefs.app/Menu.c:1193
-msgid "Arrange Icons"
-msgstr "Ïîäðåäè èêîíêèòå"
-
-#: ../../WPrefs.app/Menu.c:1194
-msgid "Hide Others"
-msgstr "Ñêðèé äðóãèòå"
-
-#: ../../WPrefs.app/Menu.c:1195
-msgid "Show All Windows"
-msgstr "Ïîêàæè âñè÷êè ïðîçîðöè"
-
-#: ../../WPrefs.app/Menu.c:1196
-msgid "Exit WindowMaker"
-msgstr "Èçõîä îò WindowMaker"
-
-#: ../../WPrefs.app/Menu.c:1197
-msgid "Exit X Session"
-msgstr "Êðàé íà X-ñåàíñà"
-
-#: ../../WPrefs.app/Menu.c:1198
-msgid "Start Window Manager"
-msgstr "Ñòàðòèðàé àäìèíèñòðàòîð"
-
-#: ../../WPrefs.app/Menu.c:1199
-msgid "Restart WindowMaker"
-msgstr "Ðåñòàðòèðàé WindowMaker"
-
-#: ../../WPrefs.app/Menu.c:1200
-msgid "Save Session"
-msgstr "Çàïàçè ñåñèÿòà"
-
-#: ../../WPrefs.app/Menu.c:1201
-msgid "Clear Session"
-msgstr "Î÷èñòè ñåñèÿòà"
-
-#: ../../WPrefs.app/Menu.c:1202
-msgid "Refresh Screen"
-msgstr "Îïðåñíè ñåñèÿòà"
-
-#: ../../WPrefs.app/Menu.c:1203
-msgid "Info Panel"
-msgstr "Èíôîðìàöèîíåí ïàíåë"
-
-#: ../../WPrefs.app/Menu.c:1204
-msgid "Legal Panel"
-msgstr "Ëèöåíçèîíåí ïàíåë"
-
-#: ../../WPrefs.app/Menu.c:1212
-msgid "Open workspace menu"
-msgstr "Îòâîðè ìåíþòî íà ðàáîòíèòå ìåñòà"
-
-#: ../../WPrefs.app/Menu.c:1219
-msgid "No confirmation panel"
-msgstr "Áåç ïàíåë çà ïîòâúðæäåíèå"
-
-#: ../../WPrefs.app/Menu.c:1225
-msgid "Menu Path/Directory List"
-msgstr "Ñïèñúê ôàéëîâå ñ ìåíþòà"
-
-#: ../../WPrefs.app/Menu.c:1270
-msgid "Ask help to the Guru"
-msgstr "Èñêàì ïîìîù îò ôàêèðà."
-
-#. if there is a localized plmenu for the tongue put it's filename here
-#: ../../WPrefs.app/Menu.c:1382 ../../WPrefs.app/Menu.c:1389
-#, c-format
-msgid "%s/Library/WindowMaker/plmenu"
-msgstr ""
-
-#: ../../WPrefs.app/Menu.c:1398
-#, c-format
-msgid "Could not open default menu from '%s'"
-msgstr "Íå ìîæå äà ñå îòâîðè ïîäðàçáèðàùîòî ñå ìåíþ îò \"%s\""
-
-#: ../../WPrefs.app/Menu.c:1508
-msgid "Applications Menu Definition"
-msgstr "Îïðåäåëÿíå íà ìåíþòî ñ ïðèëîæåíèÿ"
-
-#: ../../WPrefs.app/Menu.c:1510
-msgid "Edit the menu for launching applications."
-msgstr ""
-"Ðåäàêòèðàíå íà ìåíþòî çà\n"
-"ñòàðòèðàíå íà ïðèëîæåíèÿ"
-
-#: ../../WPrefs.app/MenuPreferences.c:114
-msgid "Menu Scrolling Speed"
-msgstr "Ñêîðîñò çà ïëúçãàíå íà ìåíþòàòà"
-
-#: ../../WPrefs.app/MenuPreferences.c:163
-msgid "Submenu Alignment"
-msgstr "Ïîäðàâíÿâàíå íà ìåíþòàòà"
-
-#: ../../WPrefs.app/MenuPreferences.c:207
-msgid ""
-"Always open submenus inside the screen, instead of scrolling.\n"
-"Note: this is annoying."
-msgstr ""
-"Ïîäìåíþòàòà âèíàãè äà ñå èçîáðàçÿâàò â ðàìêèòå íà åêðàíà,\n"
-"âìåñòî äà ñå ïëúçãàò.  (Tîâà å äîñàäíî.)"
-
-#: ../../WPrefs.app/MenuPreferences.c:212
-msgid "Scroll off-screen menus when pointer is moved over them."
-msgstr "Ïëúçãàíå íà ìåíþòàòà èçâúí åêðàíà, êîãàòî ìèøêàòà å âúðõó òÿõ."
-
-#: ../../WPrefs.app/MenuPreferences.c:232
-msgid "Menu Preferences"
-msgstr "Ïðåäïî÷èòàíèÿ çà ìåíþòàòà"
-
-#: ../../WPrefs.app/MenuPreferences.c:234
-msgid ""
-"Menu usability related options. Scrolling speed,\n"
-"alignment of submenus etc."
-msgstr ""
-"Îïöèè, êàñàåùè èçïîëçâàíåòî íà ìåíþòàòà.\n"
-"Ñêîðîñò íà ïëúçãàíå, ïîäðàâíÿâàíå íà \n"
-"ïîäìåíþòàòà è äðóãè ïîäîáíè."
-
-#: ../../WPrefs.app/MouseSettings.c:153
-msgid "Invalid mouse acceleration value. Must be a positive real value."
-msgstr ""
-"Íåäîïóñòèìà ñòîéíîñò çà óñêîðåíèå íà ìèøêàòà.  Òðÿáâà äà áúäå ïîëîæèòåëíî "
-"ðåàëíî ÷èñëî."
-
-#: ../../WPrefs.app/MouseSettings.c:173
-msgid ""
-"Invalid mouse acceleration threshold value. Must be the number of pixels to "
-"travel before accelerating."
-msgstr ""
-"Íåäîïóñòèì íà÷àëåí ïðàã çà óñêîðåíèå íà ìèøêàòà. Òðÿáâà äà áúäå áðîé "
-"èçìèíàòè ïèêñåëè, ïðåäè äà çàïî÷íå óñêîðåíèåòî."
-
-#: ../../WPrefs.app/MouseSettings.c:269 ../../WPrefs.app/MouseSettings.c:283
-#: ../../WPrefs.app/MouseSettings.c:297
-#, c-format
-msgid "bad value %s for option %s"
-msgstr "íåïðàâèëíà ñòîéíîñò %s çà îïöèÿòà %s"
-
-#: ../../WPrefs.app/MouseSettings.c:358
-#, c-format
-msgid ""
-"modifier key %s for option ModifierKey was not recognized. Using %s as "
-"default"
-msgstr ""
-"êëàâèøúò ìîäèôèêàòîð %s çà îïöèÿòà \"ModifierKey\" å íåïîçíàò. Ïî "
-"ïîäðàçáèðàíå ñå èçïîëçâà %s"
-
-#: ../../WPrefs.app/MouseSettings.c:383
-msgid "could not retrieve keyboard modifier mapping"
-msgstr "íå ìîæå äà ñå ðàçáåðå íà êîè êëàâèøè ñà ìîäèôèêàòîðèòå"
-
-#: ../../WPrefs.app/MouseSettings.c:478
-msgid "Mouse Speed"
-msgstr "Ñêîðîñò íà ìèøêàòà"
-
-#: ../../WPrefs.app/MouseSettings.c:508
-msgid "Acceler.:"
-msgstr "Óñêîðåíèå"
-
-#: ../../WPrefs.app/MouseSettings.c:521
-msgid "Threshold:"
-msgstr "Íà÷. ïðàã"
-
-#: ../../WPrefs.app/MouseSettings.c:536
-msgid "Double-Click Delay"
-msgstr "Ïðîäúëæèòåëíîñò íà äâîéíîòî ùòðàêàíå"
-
-#: ../../WPrefs.app/MouseSettings.c:580
-msgid "Test"
-msgstr "Ïðîáà"
-
-#: ../../WPrefs.app/MouseSettings.c:610
-msgid "Workspace Mouse Actions"
-msgstr "Ñïåöèàëíè äåéñòâèÿ íà ìèøêàòà"
-
-#: ../../WPrefs.app/MouseSettings.c:615
-msgid "Disable mouse actions"
-msgstr "Áåç ñïåö. äåéñòâèÿ ñ ìèøêàòà"
-
-#: ../../WPrefs.app/MouseSettings.c:622
-msgid "Applications menu"
-msgstr "Ìåíþ íà ïðèëîæ."
-
-#: ../../WPrefs.app/MouseSettings.c:632
-msgid "Window list menu"
-msgstr "Ìåíþ íà ïðîçîðö."
-
-#: ../../WPrefs.app/MouseSettings.c:643
-msgid "Select windows"
-msgstr "Èçáîð íà ïðîçîðåö"
-
-#: ../../WPrefs.app/MouseSettings.c:661
-msgid "Mouse Grab Modifier"
-msgstr "Ìîäèôèêàòîð çà ïëåí íà ìèøêàòà"
-
-#: ../../WPrefs.app/MouseSettings.c:663
-msgid ""
-"Keyboard modifier to use for actions that\n"
-"involve dragging windows with the mouse,\n"
-"clicking inside the window."
-msgstr ""
-"Êîé ìîäèôèêàòîð äà ñå èçïîëçâà çà äåéñòâèÿ , êîèòî\n"
-"èçèñêâàò âëà÷åíå íà ïðîçîðöèòå ñ ìèøêà èëè\n"
-"ùòðàêàíå â ðàìêèòå íà ïðîçîðåöà."
-
-#: ../../WPrefs.app/MouseSettings.c:697
-#, c-format
-msgid "could not create %s"
-msgstr "íå ìîæå äà ñå íàïðàâè %s"
-
-#: ../../WPrefs.app/MouseSettings.c:713
-#, c-format
-msgid "could not create temporary file %s"
-msgstr "íå ìîæå äà ñå íàïðàâè âðåìåíåí ôàéë %s"
-
-#: ../../WPrefs.app/MouseSettings.c:744
-#, c-format
-msgid "could not rename file %s to %s\n"
-msgstr "íå ìîæå äà ñå ïðåèìåíóâà ôàéëúò %s íà %s\n"
-
-#: ../../WPrefs.app/MouseSettings.c:816
-msgid "Mouse Preferences"
-msgstr "Ïðåäïî÷èòàíèÿ çà ìèøêàòà"
-
-#: ../../WPrefs.app/MouseSettings.c:818
-msgid ""
-"Mouse speed/acceleration, double click delay,\n"
-"mouse button bindings etc."
-msgstr ""
-"Ñêîðîñò/óñêîðåíèå íà ìèøêàòà, âðåìå íà\n"
-"äâîéíîòî ùðàêàíå, ïðèñâîÿâàíå íà \n"
-"äåéñòâèÿ íà ìèøêàòà è äð."
-
-#: ../../WPrefs.app/NoMenuAlert.c:94
-#, c-format
-msgid ""
-"     The menu that is being used now could not be opened. This either means "
-"that there is a syntax error in it or that the menu is in a format not "
-"supported by WPrefs (WPrefs only supports property list menus).\n"
-"     If you want to keep using the current menu, please read the '%s/%s' "
-"file, press 'Keep Current Menu' and edit it with a text editor.\n"
-"     If you want to use this editor, press 'Copy Default Menu'. It will copy "
-"the default menu and will instruct Window Maker to use it instead of the "
-"current one.\n"
-"     If you want more flexibility, keep using the current one as it allows "
-"you to use C preprocessor (cpp) macros, while being easy to edit. Window "
-"Maker supports both formats."
-msgstr ""
-"    Èçïîëçâàíîòî â ìîìåíòà ìåíþ íå ìîæå äà áúäå îòâîðåíî. Òîâà îçíà÷àâà, ÷å â íåãî èìà ñèíòàêòè÷íà ãðåøêà èëè ÷å ìåíþòî å âúâ ôîðìàò, êîéòî íå ñå ïîääúðæà îò WPrefs (WPrefs ïîääúðæà ñàìî îáèêíîâåíèòå ìåíþòà \"ñïèñúê îò ñâîéñòâà\".)\n"
-"    Àêî æåëàåòå äà çàïàçèòå èçïîëçâàíåòî íà òåêóùîòî ìåíþ, ìîëÿ ïðî÷åòåòå ôàéëà \"%s/%s\", íàòèñíåòå áóòîíà <Çàïàçè ñåãàøíîòî ìåíþ> è ãî ðåäàêòèðàéòå ñ òåêñòîâ ðåäàêòîð.\n"
-"    Àêî æåëàåòå äà èçïîëçâàòå òîçè ðåäàêòîð íà ìåíþòà, íàòèñíåòå <Êîïèðàé ñòàíäàðòíîòî ìåíþ>. Òîâà ùå íàêàðà Window Maker äà èçïîëçâà ñòàíäàðòíîòî ìåíþ âìåñòî òåêóùîòî.\n"
-"    Àêî æåëàåòè ïîâå÷å ãúâêàâîñò, çàïàçåòå èçïîëçâàíåòî íà òåêóùîòî ìåíþ, çàùîòî òî äàâà âúçìîæíîñò äà ñå èçïîëçâà ïðåäïðîöåñîðíè ìàêðîñè (êàòî çà cpp), à ñúùåâðåìåííî å ëåñíî çà ðåäàêòèðàíå. Window Maker ïîääúðæà è äâàòà ôîðìàòà."
-
-#: ../../WPrefs.app/NoMenuAlert.c:113
-msgid "Copy Default Menu"
-msgstr "Êîïèðàé ñòàíäàðòíîòî ìåíþ"
-
-#: ../../WPrefs.app/NoMenuAlert.c:119
-msgid "Keep Current Menu"
-msgstr "Çàïàçè ñåãàøíîòî ìåíþ"
-
-#: ../../WPrefs.app/Paths.c:84
-msgid "bad value in option IconPath. Using default path list"
-msgstr ""
-"íåäîïóñòèìà ñòîéíîñò â îïöèÿòà \"IconPath\". Ïîëçâà ñå ïîäðàçáèðàùèÿò ñå "
-"ñïèñúê ïúòåêè"
-
-#: ../../WPrefs.app/Paths.c:101
-msgid "bad value in option PixmapPath. Using default path list"
-msgstr ""
-"íåäîïóñòèìà ñòîéíîñò çà îïöèÿòà \"PixmapPath. Ïîëçâà ñå ïîäðàçáèðàùèÿò ñå "
-"ñïèñúê ïúòåêè."
-
-#: ../../WPrefs.app/Paths.c:149
-msgid "Select directory"
-msgstr "Èçáåðè äèðåêòîðèÿ"
-
-#: ../../WPrefs.app/Paths.c:270
-msgid "Icon Search Paths"
-msgstr "Ïúòåêè çà òúðñåíå íà èêîíêèòå"
-
-#: ../../WPrefs.app/Paths.c:281 ../../WPrefs.app/Paths.c:312
-#: ../../WPrefs.app/TexturePanel.c:1304
-msgid "Add"
-msgstr "Äîáàâè"
-
-#: ../../WPrefs.app/Paths.c:301
-msgid "Pixmap Search Paths"
-msgstr "Ïúòåêè çà òúðñåíå íà êàðòèíêè"
-
-#: ../../WPrefs.app/Paths.c:341
-msgid "Search Path Configuration"
-msgstr "Íàñòðîéêà íà ïúòåêèòå çà òúðñåíe"
-
-#: ../../WPrefs.app/Paths.c:343
-msgid ""
-"Search paths to use when looking for pixmaps\n"
-"and icons."
-msgstr ""
-"Äèðåêòîðíè ïúòåêè, â êîèòî äà ñå\n"
-"òúðñÿò êàðòèíêè è èêîíêè."
-
-#: ../../WPrefs.app/Preferences.c:159
-msgid "Size Display"
-msgstr "Èçîáðàçÿâàíå íà ðàçìåðà"
-
-#: ../../WPrefs.app/Preferences.c:161
-msgid ""
-"The position or style of the window size\n"
-"display that's shown when a window is resized."
-msgstr ""
-"Ïîëîæåíèåòî èëè ñòèëúò íà ðàçìåðà íà ïðî-\n"
-"çîðöåöà ïðè ïðîìåíÿíå íà ðàçìåðà ìó."
-
-#: ../../WPrefs.app/Preferences.c:168 ../../WPrefs.app/Preferences.c:188
-msgid "Corner of screen"
-msgstr "Â úãúëà íà åêðàíà"
-
-#: ../../WPrefs.app/Preferences.c:169 ../../WPrefs.app/Preferences.c:189
-msgid "Center of screen"
-msgstr "Â ñðåäàòà íà åêðàíà"
-
-#: ../../WPrefs.app/Preferences.c:170 ../../WPrefs.app/Preferences.c:190
-msgid "Center of resized window"
-msgstr "Â ñðåäàòà íà ïðîçîðåöà"
-
-#: ../../WPrefs.app/Preferences.c:171
-msgid "Technical drawing-like"
-msgstr "Êàòî â òåõíè÷åñêè ÷åðòåæ"
-
-#: ../../WPrefs.app/Preferences.c:179
-msgid "Position Display"
-msgstr "Èçîáðàçÿâàíå íà ïîëîæåíèåòî"
-
-#: ../../WPrefs.app/Preferences.c:181
-msgid ""
-"The position or style of the window position\n"
-"display that's shown when a window is moved."
-msgstr ""
-"Ïîëîæåíèåòî èëè ñòèëúò çà èçîáðàçÿâàíå íà\n"
-"ïîëîæåíèåòî íà ïðîçîðåöÿ ïðè ïðåìåñòâàíå."
-
-#: ../../WPrefs.app/Preferences.c:198
-msgid "Show balloon text for..."
-msgstr "Äà ñå ïîêàçâà òåêñò â áàëîíè çà..."
-
-#: ../../WPrefs.app/Preferences.c:205
-msgid "incomplete window titles"
-msgstr "ñúêðàòåíè èìåíà íà ïðîçîðöè"
-
-#: ../../WPrefs.app/Preferences.c:206
-msgid "miniwindow titles"
-msgstr "èìåíà íà ìèíèïðîçîð÷åòàòà"
-
-#: ../../WPrefs.app/Preferences.c:207
-msgid "application/dock icons"
-msgstr "èêîíêè íà äîêà/ïðèëîæåíèÿòà"
-
-#: ../../WPrefs.app/Preferences.c:208
-msgid "internal help"
-msgstr "âúòðåøíà ñïðàâêà"
-
-#: ../../WPrefs.app/Preferences.c:220
-msgid "Raise window when switching focus with keyboard (CirculateRaise)."
-msgstr "Äà ñå ïîâäèãà ïðîçîðåöà ïðè ïðîìÿíà íà ôîêóñà îò êëàâèàòóðàòà."
-
-#: ../../WPrefs.app/Preferences.c:226
-msgid "Keep keyboard language status for each window."
-msgstr "Ñîáñòâåíî ñúñòîÿíèå ÊÈÐ/ËÀÒ çà âñåêè ïðîçîðåö"
-
-#: ../../WPrefs.app/Preferences.c:247
-msgid "Miscellaneous Ergonomic Preferences"
-msgstr "Ðàçíè ïðåäïî÷èòàíèÿ îòíîñíî åðãîíîìèêàòà"
-
-#: ../../WPrefs.app/Preferences.c:248
-msgid ""
-"Various settings like balloon text, geometry\n"
-"displays etc."
-msgstr ""
-"Ðàçëè÷íè íàñòðîéêè êàòî çà òåêñò â áàëîíè,\n"
-"ñúñòîÿíèå ÊÈÐ/ËÀÒ è äð."
-
-#: ../../WPrefs.app/TexturePanel.c:605
-msgid "Could not load the selected file: "
-msgstr "Íå ìîæå äà ñå çàðåäè èçáðàíèÿò ôàéë: "
-
-#: ../../WPrefs.app/TexturePanel.c:687
-msgid "The selected file does not contain a supported image."
-msgstr "Èçáðàíèÿò ôàéë íå ñúäúðæà ïîääúðæàíî èçîáðàæåíèå."
-
-#: ../../WPrefs.app/TexturePanel.c:1248
-msgid "Texture Panel"
-msgstr "Ïàíåë çà òåêñòóðè"
-
-#: ../../WPrefs.app/TexturePanel.c:1256
-msgid "Texture Name"
-msgstr "Èìå íà òåêñòóðàòà"
-
-#: ../../WPrefs.app/TexturePanel.c:1268
-msgid "Solid Color"
-msgstr "Ïëúòåí öâÿò"
-
-#: ../../WPrefs.app/TexturePanel.c:1269
-msgid "Gradient Texture"
-msgstr "Ãðàäèåíòíà òåêñòóðà"
-
-#: ../../WPrefs.app/TexturePanel.c:1270
-msgid "Simple Gradient Texture"
-msgstr "Ïðîñòà ãðàäèåíòíà òåêñòóðà"
-
-#: ../../WPrefs.app/TexturePanel.c:1271
-msgid "Textured Gradient"
-msgstr "Òåêñòóðèðàí ãðàäèåíò"
-
-#: ../../WPrefs.app/TexturePanel.c:1272
-msgid "Image Texture"
-msgstr "Òåêñòóðà çà èçîáðàæåíèå"
-
-#: ../../WPrefs.app/TexturePanel.c:1280
-msgid "Default Color"
-msgstr "Îñíîâåí öâÿò"
-
-#: ../../WPrefs.app/TexturePanel.c:1292
-msgid "Gradient Colors"
-msgstr "Öâåòîâå íà ãðàäèåíòà"
-
-#: ../../WPrefs.app/TexturePanel.c:1388
-msgid "Direction"
-msgstr "Ïîñîêà"
-
-#: ../../WPrefs.app/TexturePanel.c:1416
-msgid "Gradient"
-msgstr "Ãðàäèåíò"
-
-#: ../../WPrefs.app/TexturePanel.c:1434
-msgid "Gradient Opacity"
-msgstr "Ïðîçðà÷íîñò íà ãðàäèåíòà"
-
-#: ../../WPrefs.app/TexturePanel.c:1477
-msgid "Image"
-msgstr "Èçîáðàæåíèå"
-
-#: ../../WPrefs.app/TexturePanel.c:1497
-msgid "Browse..."
-msgstr "Ðàçëèñòè..."
-
-#: ../../WPrefs.app/TexturePanel.c:1509
-msgid "Tile"
-msgstr "Ìîçàéêà"
-
-#: ../../WPrefs.app/TexturePanel.c:1510
-msgid "Scale"
-msgstr "Óãîëåìåíî"
-
-#: ../../WPrefs.app/TexturePanel.c:1512
-msgid "Maximize"
-msgstr "Ìàêñèìàëí."
-
-#: ../../WPrefs.app/Themes.c:71 ../../WPrefs.app/Themes.c:82
-msgid "Set"
-msgstr ""
-
-#: ../../WPrefs.app/Themes.c:132
-msgid "Stop"
-msgstr ""
-
-#: ../../WPrefs.app/Themes.c:143 ../../WPrefs.app/Themes.c:204
-#: ../../WPrefs.app/Themes.c:224
-msgid "Download"
-msgstr ""
-
-#: ../../WPrefs.app/Themes.c:172
-msgid "Save Current Theme"
-msgstr ""
-
-#: ../../WPrefs.app/Themes.c:181
-msgid "Load"
-msgstr ""
-
-#: ../../WPrefs.app/Themes.c:186
-msgid "Install"
-msgstr ""
-
-#: ../../WPrefs.app/Themes.c:194
-msgid "Tile of The Day"
-msgstr ""
-
-#: ../../WPrefs.app/Themes.c:214
-msgid "Bar of The Day"
-msgstr ""
-
-#: ../../WPrefs.app/Themes.c:251
-msgid "Themes"
-msgstr ""
-
-#: ../../WPrefs.app/WindowHandling.c:141
-#, c-format
-msgid "bad option value %s in WindowPlacement. Using default value"
-msgstr ""
-
-#: ../../WPrefs.app/WindowHandling.c:163
-msgid "invalid data in option WindowPlaceOrigin. Using default (0,0)"
-msgstr ""
-
-#: ../../WPrefs.app/WindowHandling.c:236
-msgid "Window Placement"
-msgstr ""
-
-#: ../../WPrefs.app/WindowHandling.c:237
-msgid ""
-"How to place windows when they are first put\n"
-"on screen."
-msgstr ""
-
-#: ../../WPrefs.app/WindowHandling.c:243
-msgid "Automatic"
-msgstr "Àâòîìàòè÷íî"
-
-#: ../../WPrefs.app/WindowHandling.c:244
-msgid "Random"
-msgstr "Ñëó÷àéíî"
-
-#: ../../WPrefs.app/WindowHandling.c:245
-msgid "Manual"
-msgstr "Ðú÷íî"
-
-#: ../../WPrefs.app/WindowHandling.c:246
-msgid "Cascade"
-msgstr "Êàñêàäíî"
-
-#: ../../WPrefs.app/WindowHandling.c:247
-msgid "Smart"
-msgstr "Õèòðî"
-
-#: ../../WPrefs.app/WindowHandling.c:253
-msgid "Placement Origin"
-msgstr "Íà÷àëíî ìÿñòî"
-
-#: ../../WPrefs.app/WindowHandling.c:313
-msgid "Opaque Move"
-msgstr "Öÿëîñòíî ïðåìåñòâàíå"
-
-#: ../../WPrefs.app/WindowHandling.c:314
-msgid ""
-"Whether the window contents should be moved\n"
-"when dragging windows aroung or if only a\n"
-"frame should be displayed.\n"
-msgstr ""
-"Äàëè ñúäúðæàíèåòî íà ïðîçîðåöà òðÿáâà\n"
-"äà ñå ïðåìåñòâà ïðè âëà÷åíå ñ ìèøêàòà,\n"
-"èëè ñàìî ðàìêàòà íà ïðîçîðåöà òðÿáâà\n"
-"äà ñå èçîáðàçÿâà.\n"
-
-#: ../../WPrefs.app/WindowHandling.c:353
-msgid "When maximizing..."
-msgstr "Ïðè ìàêñèìèçèðàíå..."
-
-#: ../../WPrefs.app/WindowHandling.c:358
-msgid "...do not cover icons"
-msgstr "...äà íå ñå ïîêðèâàò èêîíêèòå"
-
-#: ../../WPrefs.app/WindowHandling.c:364
-msgid "...do not cover dock"
-msgstr "...äà íå ñå ïîêðèâà äîêúò"
-
-#: ../../WPrefs.app/WindowHandling.c:373
-msgid "Edge Resistance"
-msgstr "Ñúïðîòèâëåíèå ïî ðúáîâåòå"
-
-#: ../../WPrefs.app/WindowHandling.c:375
-msgid ""
-"Edge resistance will make windows `resist'\n"
-"being moved further for the defined threshold\n"
-"when moved against other windows or the edges\n"
-"of the screen."
-msgstr ""
-"\"Ñúïðîòèâëåíèå ïî ðúáîâåòå\" îçíà÷àâà ïðîçîðåöà\n"
-"äà ñå ñúïðîòèâëÿâà äî îïðåäåëåí ïðàã ïðè\n"
-"çàñòúïâàíå íà äðóã ïðîçîðåö èëè íàïóñêàíå\n"
-"íà åêðàíà."
-
-#: ../../WPrefs.app/WindowHandling.c:394
-msgid "Resist"
-msgstr ""
-"Ñúïðî-\n"
-"òèâà"
-
-#: ../../WPrefs.app/WindowHandling.c:399
-msgid "Attract"
-msgstr ""
-"Ïðèâ-\n"
-"ëè÷àíå"
-
-#: ../../WPrefs.app/WindowHandling.c:415
-msgid "Open dialogs in same workspace as their owners"
-msgstr "Äèàëîãîâè ïðîçîðöè äà ñå îòâàðÿò íà ðàáîòíîòî ìÿñòî íà âëàäååùèÿ."
-
-#: ../../WPrefs.app/WindowHandling.c:442
-msgid "Window Handling Preferences"
-msgstr "Ïðåäïî÷èòàíèÿ çà óïðàâëåíèå íà ïðîçîðöèòå"
-
-#: ../../WPrefs.app/WindowHandling.c:444
-msgid ""
-"Window handling options. Initial placement style\n"
-"edge resistance, opaque move etc."
-msgstr ""
-"Îïöèè çà óïðàâëåíèå íà ïðîçîðöèòå. Íà÷èí\n"
-"çà îïðåäåëÿíå íà íà÷àëíîòî ìåñòîïîëîæåíèå,\n"
-"ñúïðîòèâëåíèå ïî ðúáîâåòå, ñòèë íà\n"
-"ïðåìåñòâàíå è äð."
-
-#: ../../WPrefs.app/Workspace.c:177
-msgid "Workspace Navigation"
-msgstr "Íàâèãàöèÿ ïî ðàáîòíèòå ìåñòà"
-
-#: ../../WPrefs.app/Workspace.c:184
-msgid "wrap to the first workspace after the last workspace."
-msgstr "äà ñå ìèíàâà êúì ïúðâîòî ðàáîòíî ìÿñòî ñëåä çàäìèíàâàíå íà ïîñëåäíîòî"
-
-#: ../../WPrefs.app/Workspace.c:206
-msgid "switch workspaces while dragging windows."
-msgstr ""
-
-#: ../../WPrefs.app/Workspace.c:228
-msgid "automatically create new workspaces."
-msgstr "àâòîìàòè÷íî äà ñå ïðàâÿò íîâè ðàáîòíè ìåñòà."
-
-#: ../../WPrefs.app/Workspace.c:251
-msgid "Position of workspace name display"
-msgstr "Ìÿñòî íà èìåòî íà ðàáîòíîòî ìÿñòî"
-
-#: ../../WPrefs.app/Workspace.c:270
-msgid "Disable"
-msgstr "Çàáðàíè"
-
-#: ../../WPrefs.app/Workspace.c:272
-msgid "Top"
-msgstr ""
-
-#: ../../WPrefs.app/Workspace.c:273
-msgid "Bottom"
-msgstr ""
-
-#: ../../WPrefs.app/Workspace.c:274
-msgid "Top/left"
-msgstr ""
-
-#: ../../WPrefs.app/Workspace.c:275
-msgid "Top/right"
-msgstr ""
-
-#: ../../WPrefs.app/Workspace.c:276
-msgid "Bottom/left"
-msgstr ""
-
-#: ../../WPrefs.app/Workspace.c:277
-msgid "Bottom/right"
-msgstr ""
-
-#: ../../WPrefs.app/Workspace.c:285
-msgid "Dock/Clip"
-msgstr "Äîê/Êëàìåð"
-
-#: ../../WPrefs.app/Workspace.c:304
-msgid ""
-"Disable/enable the application Dock (the\n"
-"vertical icon bar in the side of the screen)."
-msgstr ""
-"Çàáðàíÿâà/ðàçðåøàâà Äîêà íà ïðèëîæåíèÿòà\n"
-"(âåðòèêàëíàòà èâèöà ñ èêîíêè, ñòðàíè÷íî\n"
-"îò åêðàíà)."
-
-#: ../../WPrefs.app/Workspace.c:325
-msgid ""
-"Disable/enable the Clip (that thing with\n"
-"a paper clip icon)."
-msgstr ""
-"Çàáðàíÿâà/ïîçâîëÿâà Êëàìåðà\n"
-"(íåùîòî, èìàùî èêîíêà ñ êëàìåð)."
-
-#: ../../WPrefs.app/Workspace.c:365
-msgid "Workspace Preferences"
-msgstr "Ïðåäïî÷èòàíèÿ çà ðàáîòíèòå ìåñòà"
-
-#: ../../WPrefs.app/Workspace.c:367
-msgid ""
-"Workspace navigation features.\n"
-"You can also enable/disable the Dock and Clip here."
-msgstr ""
-"Ñâîéñòâà íà íàâèãàöèÿòà ïðåç ðàáîòíèòå ìåñòà.\n"
-"Îò òóê ìîæå äà ñå çàáðàíè/ïîëçâîëè è Äîêúò\n"
-"è Êëàìåðúò."
-
-#: ../../WPrefs.app/MenuGuru.c:106
-msgid "Menu Guru - Select Type"
-msgstr "Ôàêèð çà ìåíþòà - êàêúâ âèä"
-
-#: ../../WPrefs.app/MenuGuru.c:111 ../../WPrefs.app/MenuGuru.c:133
-#: ../../WPrefs.app/MenuGuru.c:251
-msgid "Next"
-msgstr "Ïî-íàòàòúê"
-
-#: ../../WPrefs.app/MenuGuru.c:114
-msgid "Menu Guru - Select Menu File"
-msgstr "Ôàêèð çà ìåíþòà - êîé ôàéë ìåíþ"
-
-#: ../../WPrefs.app/MenuGuru.c:122
-msgid "Menu Guru - Select Pipe Command"
-msgstr "Ôàêèð çà ìåíþòà - êàêúâ ïðîãðàìåí êàíàë"
-
-#: ../../WPrefs.app/MenuGuru.c:129
-msgid "Menu Guru - Select Directories"
-msgstr "Ôàêèð çà ìåíþòà - êîè äèðåêòîðèè"
-
-#: ../../WPrefs.app/MenuGuru.c:136
-msgid "Menu Guru - Select Command"
-msgstr "Ôàêèð çà ìåíþòà - êîÿ êîìàíäà"
-
-#: ../../WPrefs.app/MenuGuru.c:257
-msgid "Back"
-msgstr "Âúðíè"
-
-#: ../../WPrefs.app/MenuGuru.c:271
-msgid ""
-"This process will help you create a submenu which definition is located in "
-"another file or is created dynamically.\n"
-"What do you want to use as the contents of the submenu?"
-msgstr ""
-"Òîçè ïðîöåñ ùå Âè ïîìîãíå äà íàïðàâèòå ïîäìåíþ,\n"
-"÷èÿòî äåôèíèöèÿ ñå íàìèðà â äðóã ôàéë èëè ñå ñúçäàâà äèíàìè÷íî. Âúçìîæíè "
-"èçòî÷íèöè íà ïîäìåíþòî:"
-
-#: ../../WPrefs.app/MenuGuru.c:279
-msgid ""
-"A file containing the menu definition in the plain text (non-property list) "
-"menu format."
-msgstr "Ôàéë, äåôèíèðàù ìåíþòî â ôîðìàò îáèêíîâåí òåêñò (íå ñïèñúê ñâîéñòâà)."
-
-#: ../../WPrefs.app/MenuGuru.c:285
-msgid "The menu definition generated by a script/program read through a pipe."
-msgstr "Ìåíþòî ñå ãåíåðèðà îò ïðîãðàìà è ñå ÷åòå ïðåç ïðîãðàìåí êàíàë."
-
-#: ../../WPrefs.app/MenuGuru.c:291
-msgid "The files in one or more directories."
-msgstr "Ôàéëîâåòå â åäíà èëè ïîâå÷å äèðåêòîðèè."
-
-#: ../../WPrefs.app/MenuGuru.c:303
-msgid "Type the path for the menu file:"
-msgstr "Âúâåäåòå ïúëíîòî èìå íà ôàéëà ñ ìåíþ:"
-
-#: ../../WPrefs.app/MenuGuru.c:318
-msgid ""
-"The menu file must contain a menu in the plain text menu file format. This "
-"format is described in the menu files included with WindowMaker, probably at "
-"~/GNUstep/Library/WindowMaker/menu"
-msgstr ""
-"Ôàéëúò ñ ìåíþ òðÿáâà äà áúäå â ïðîñò òåêñòîâ ôîðìàò. Òîçè ôîðìàò å îïèñàí "
-"âúâ ôàéëîâåòå ìåíþòà, ñúïðîâîæäàùè Window Maker, âåðîÿòíî â "
-"~/GNUstep/Library/WindowMaker/menu"
-
-#: ../../WPrefs.app/MenuGuru.c:328
-msgid "Type the command that will generate the menu definition:"
-msgstr "Âúâåäåòå êîìàíäàòà, êîÿòî ùå ãåíåðèðà äåôèíèöèÿòà íà ìåíþòî:"
-
-#: ../../WPrefs.app/MenuGuru.c:338
-msgid ""
-"The command supplied must generate and output a valid menu definition to "
-"stdout. This definition should be in the plain text menu file format, "
-"described in the menu files included with WindowMaker, usually at "
-"~/GNUstep/Library/WindowMaker/menu"
-msgstr ""
-"Çàäàäåíàòà êîìàíäà òðÿáâà äà ãåíåðèðà è èçâåäå âàëèäíà äåôèíèöèÿ íà ìåíþ íà "
-"ñòàíäàðòíèÿ ñè èçõîä. Òàçè äåôèíèöèÿ òðÿáâà äà áúäå â ïðîñòèÿ òåêñòîâ "
-"ôîðìàò, îïèñàí âúâ ôàéëîâåòå ìåíþòà, ñúïðîâîæäàùè Window Maker, îáèêíîâåíî â "
-"~/GNUstep/Library/WindowMaker/menu"
-
-#: ../../WPrefs.app/MenuGuru.c:350 ../../WPrefs.app/MenuGuru.c:372
-#: ../../WPrefs.app/MenuGuru.c:394
-msgid ""
-"Type the path for the directory. You can type more than one path by "
-"separating them with spaces."
-msgstr ""
-"Âúâåäåòå ïúòÿ äî äèðåêòîðèÿòà. Ìîæå äà âúâåäåòå ïîâå÷å îò åäèí ïúò, àêî ãî "
-"îòäåëèòå ñ èíòåðâàëè."
-
-#: ../../WPrefs.app/MenuGuru.c:361 ../../WPrefs.app/MenuGuru.c:383
-#: ../../WPrefs.app/MenuGuru.c:405
-msgid ""
-"The menu generated will have an item for each file in the directory. The "
-"directories can contain program executables or data files (such as jpeg "
-"images)."
-msgstr ""
-"Ãåíåðèðàíîòî ìåíþ ùå èìà åëåìåíò çà âñåêè îò ôàéëîâåòå â äèðåêòîðèÿòà. "
-"Äèðåêòîðèèòå ìîãàò äà ñúäúðæàò èçïúëíèìè ôàéëîâå èëè ôàéëîâå ñ äàííè (íàïð. "
-".jpeg-ôàéëîâå)."
-
-#: ../../WPrefs.app/MenuGuru.c:415
-msgid ""
-"If the directory contain data files, type the command used to open these "
-"files. Otherwise, leave it in blank."
-msgstr ""
-"Àêî äèðåêòîðèÿòà ñúäúðæà ôàéëîâå ñ äàííè, âúâåäåòå êîìàíäàòà çà îòâàðÿíå íà "
-"òåçè ôàéëîâå. Â ïðîòèâåí ñëó÷àé îñòàâåòå ïîëåòî ïðàçíî."
-
-#: ../../WPrefs.app/MenuGuru.c:426
-msgid ""
-"Each file in the directory will have an item and they will be opened with "
-"the supplied command.For example, if the directory contains image files and "
-"the command is \"xv -root\", each file in the directory will have a menu "
-"item like \"xv -root imagefile\"."
-msgstr ""
-"Âñåêè ôàéë â äèðåêòîðèÿòà ùå èìà åëåìåíò â ìåíþòî è ùå ñå îòâàðÿ ñ "
-"ïîñî÷åíàòà êîìàíäà. Íàïðèìåð àêî äèðåêòîðèÿòà ñúäúðæà ôàéëîâå ñ èçîáðàæåíèÿ "
-"è êîìàíäàòà å \"xv -root\", òî âñåêè ôàéë â äèðåêòîðèÿòà ùå èìà åëåìåíò â "
-"ìåíþòî îò âèäà \"xv -root ôàéë\"."
-
-#~ msgid "drag windows between workspaces."
-#~ msgstr "ïðîçîðöèòå äà ñå âëà÷àò ïðåç ðàáîòíè ìåñòà"
-
-#~ msgid ""
-#~ "switch to first workspace when switching past the last workspace and "
-#~ "vice-versa"
-#~ msgstr ""
-#~ "äà ñå ìèíå êúì ïúðâîòî ðàáîòíî ìÿñòî ñëåä çàäìèíàâàíå íà ïîñëåäíîòî è îáðàòíî"
\ No newline at end of file
+# ../../WPrefs.app/Appearance.c:1936 ../../WPrefs.app/TexturePanel.c:1511
+# ../../WPrefs.app/Workspace.c:271
+#: ../../WPrefs.app/Appearance.c:1989 ../../WPrefs.app/TexturePanel.c:1517
+#: ../../WPrefs.app/Workspace.c:270
+msgid "Center"
+msgstr "Öåíòðàëíî"
+
+# ../../WPrefs.app/Appearance.c:1939
+#: ../../WPrefs.app/Appearance.c:1992
+msgid "Right"
+msgstr "Îòäÿñíî"
+
+# ../../WPrefs.app/Appearance.c:2167
+#: ../../WPrefs.app/Appearance.c:2216
+msgid "Appearance Preferences"
+msgstr "Ïðåäïî÷èòàíèÿ çà èçãëåäà"
+
+# ../../WPrefs.app/Appearance.c:2169
+#: ../../WPrefs.app/Appearance.c:2218
+msgid ""
+"Background texture configuration for windows,\n"
+"menus and icons."
+msgstr ""
+"Íàñòðîéêà íà öâåòîâå è òåêñòóðè\n"
+"çà ïðîçîðöèòå, ìåíþòàòà\n"
+"è èêîíêèòå."
+
+# ../../WPrefs.app/Appearance.c:2214
+#: ../../WPrefs.app/Appearance.c:2263
+msgid "Extract Texture"
+msgstr "Èçâëå÷è òåêñòóðà"
+
+# ../../WPrefs.app/Appearance.c:2234
+#: ../../WPrefs.app/Appearance.c:2283
+msgid "Textures"
+msgstr "Òåêñòóðè"
+
+# ../../WPrefs.app/Appearance.c:2245 ../../WPrefs.app/WPrefs.c:301
+#: ../../WPrefs.app/Appearance.c:2294 ../../WPrefs.app/WPrefs.c:302
+msgid "Close"
+msgstr "Çàòâîðè"
+
+# ../../WPrefs.app/Appearance.c:2250
+#: ../../WPrefs.app/Appearance.c:2299
+msgid "Extract"
+msgstr "Èçâëå÷è"
+
+# ../../WPrefs.app/Configurations.c:150 ../../WPrefs.app/Configurations.c:156
+# ../../WPrefs.app/MouseSettings.c:491 ../../WPrefs.app/WindowHandling.c:331
+# ../../WPrefs.app/WindowHandling.c:343 ../../WPrefs.app/Workspace.c:90
+# ../../WPrefs.app/Workspace.c:101
+#: ../../WPrefs.app/Configurations.c:150 ../../WPrefs.app/Configurations.c:156
+#: ../../WPrefs.app/MouseSettings.c:490 ../../WPrefs.app/WindowHandling.c:339
+#: ../../WPrefs.app/WindowHandling.c:351 ../../WPrefs.app/Workspace.c:90
+#: ../../WPrefs.app/Workspace.c:101
+#, c-format
+msgid "could not load icon %s"
+msgstr "íå ìîæå äà ñå çàðåäè èêîíêàòà %s"
+
+# ../../WPrefs.app/Configurations.c:164 ../../WPrefs.app/Workspace.c:109
+#: ../../WPrefs.app/Configurations.c:164 ../../WPrefs.app/Workspace.c:109
+#, c-format
+msgid "could not process icon %s:"
+msgstr "íå ìîæå äà ñå îáðàáîòè èêîíêàòà %s:"
+
+# ../../WPrefs.app/Configurations.c:189 ../../WPrefs.app/Workspace.c:164
+#: ../../WPrefs.app/Configurations.c:189 ../../WPrefs.app/Workspace.c:164
+#, c-format
+msgid "could not load image file %s"
+msgstr "íå ìîæå äà ñå çàðåäè ôàéë ñ èçîáðàæåíèå %s"
+
+# ../../WPrefs.app/Configurations.c:203
+#: ../../WPrefs.app/Configurations.c:203
+msgid "Icon Slide Speed"
+msgstr "Ñêîðîñò íà ïëúçãàíå íà èêîíêèòå"
+
+# ../../WPrefs.app/Configurations.c:209
+#: ../../WPrefs.app/Configurations.c:209
+msgid "Shade Animation Speed"
+msgstr "Ñêîðîñò íà ñâèâàíåòî"
+
+# ../../WPrefs.app/Configurations.c:271
+#: ../../WPrefs.app/Configurations.c:271
+msgid "Smooth Scaling"
+msgstr "Èçãëàæäàíå"
+
+# ../../WPrefs.app/Configurations.c:272
+#: ../../WPrefs.app/Configurations.c:272
+msgid ""
+"Smooth scaled background images, neutralizing\n"
+"the `pixelization' effect. This will slow\n"
+"down loading of background images considerably."
+msgstr ""
+"Ãëàäêî ìàùàáèðàíå íà èçîáðàæåíèÿòà çà ôîí, ïðè\n"
+"êîåòî ñå íåóòðàëèçèðà åôåêòà íà ïèêñåëèçàöèÿ.\n"
+"Âúâ âðúçêà ñ òîâà å âúçìîæíî çíà÷èòåëíî äà ñå\n"
+"çàáàâè çàðåæäàíåòî íà èçîáðàæåíèÿ çà ôîí."
+
+# ../../WPrefs.app/Configurations.c:313
+#: ../../WPrefs.app/Configurations.c:313
+msgid "Titlebar Style"
+msgstr "Çàãëàâíà èâèöà"
+
+# ../../WPrefs.app/Configurations.c:351
+#: ../../WPrefs.app/Configurations.c:351
+msgid "Animations and Sound"
+msgstr "Àíèìàöèè è çâóê"
+
+# ../../WPrefs.app/Configurations.c:357
+#: ../../WPrefs.app/Configurations.c:357
+msgid "Animations"
+msgstr "Àíèìàöèè"
+
+# ../../WPrefs.app/Configurations.c:368
+#: ../../WPrefs.app/Configurations.c:368
+msgid ""
+"Disable/enable animations such as those shown\n"
+"for window miniaturization, shading etc."
+msgstr ""
+"Çàáðàíÿâà/ïîçâîëÿâà àíèìàöèè êàòî íàïðèìåð\n"
+"çà ìèíèìèçàöèÿ íà ïðîçîðöèòå, ñâèâàíå è äð."
+
+# ../../WPrefs.app/Configurations.c:376
+#: ../../WPrefs.app/Configurations.c:376
+msgid "Superfluous"
+msgstr "Èçëèøíè"
+
+# ../../WPrefs.app/Configurations.c:387
+#: ../../WPrefs.app/Configurations.c:387
+msgid ""
+"Disable/enable `superfluous' features and\n"
+"animations. These include the `ghosting' of the\n"
+"dock when it's being moved to another side and\n"
+"the explosion animation when undocking icons."
+msgstr ""
+"Çàáðàíÿâà/ïîçâîëÿâà èçëèøíèòå âúçìîæíîñòè è\n"
+"àíèìàöèè. Òîâà âêëþ÷âà ïðèâèæäàíåòî íà äîêà\n"
+"ïðè ïðåìåñòâàíåòî ìó îò äðóãàòà ñòðàíà, êàêòî\n"
+"è àíèìàöèÿòà íà åêñïëîçèÿ çà îòêà÷åíèòå îò\n"
+"äîêà èêîíêè."
+
+# ../../WPrefs.app/Configurations.c:397
+#: ../../WPrefs.app/Configurations.c:397
+msgid "Sounds"
+msgstr "Çâóêîâå"
+
+# ../../WPrefs.app/Configurations.c:408
+#: ../../WPrefs.app/Configurations.c:408
+msgid ""
+"Disable/enable support for sound effects played\n"
+"for actions like shading and closing a window.\n"
+"You will need a module distributed separately\n"
+"for this. You can get it at:\n"
+"http://shadowmere.student.utwente.nl/"
+msgstr ""
+"Çàáðàíÿâà/ïîçâîëÿâà ïîääðúæêàòà íà çâóêîâè\n"
+"åôåêòè, ïðîèãðàâàíè ïðè äåéñòâèÿ êàòî çà-\n"
+"ñåí÷âàíå è çàòâàðÿíå íà ïðîçîðåö. Ùå å íå-\n"
+"îáõîäèì ìîäóë, ðàçïðîñòðàíÿâàí îòäåëíî.\n"
+"Ìîæå äà ãî ïîëó÷èòå îò àäðåñ\n"
+"http://shadowmere.student.utwente.nl/"
+
+# ../../WPrefs.app/Configurations.c:419
+#: ../../WPrefs.app/Configurations.c:419
+msgid ""
+"Note: sound requires a module distributed\n"
+"separately"
+msgstr ""
+"Çàáåëåæåòå, ÷å çà çâóê å íåîáõîäèì ìîäóë,\n"
+"êîéòî ñå ðàçïðîñòðàíÿâà îòäåëíî."
+
+# ../../WPrefs.app/Configurations.c:429
+#: ../../WPrefs.app/Configurations.c:429
+msgid "Dithering colormap for 8bpp"
+msgstr "Ïàëèòðà çà äèôóçèÿ ïðè 8 áèòà/ïèêñåë"
+
+# ../../WPrefs.app/Configurations.c:431
+#: ../../WPrefs.app/Configurations.c:431
+msgid ""
+"Number of colors to reserve for Window Maker\n"
+"on displays that support only 8bpp (PseudoColor)."
+msgstr ""
+"Áðîé íà öâåòîâå, êîèòî äà ñå çàïàçÿò çà\n"
+"Óèíäîó Ìåéêúð, ïðè äèñïëåè, ïîääúðæàùè ñàìî\n"
+"8 áèòà/ïèêñåë (ò.í. PseudoColor)."
+
+# ../../WPrefs.app/Configurations.c:438
+#: ../../WPrefs.app/Configurations.c:438
+msgid "Disable dithering in any visual/depth"
+msgstr "Áåç íèêàêâî òî÷êóâàíå"
+
+# ../../WPrefs.app/Configurations.c:459
+#: ../../WPrefs.app/Configurations.c:459
+msgid ""
+"More colors for\n"
+"applications"
+msgstr ""
+"Ïîâå÷å öâåòîâå\n"
+"çà ïðèëîæe-\n"
+"íèÿòà"
+
+# ../../WPrefs.app/Configurations.c:466
+#: ../../WPrefs.app/Configurations.c:466
+msgid ""
+"More colors for\n"
+"Window Maker"
+msgstr ""
+"Ïîâå÷å\n"
+"öâåòîâå çà\n"
+"Óèíäîó Ìåéêúð"
+
+# ../../WPrefs.app/Configurations.c:521
+#: ../../WPrefs.app/Configurations.c:521
+msgid "Other Configurations"
+msgstr "Äðóãè íàñòðîéêè"
+
+# ../../WPrefs.app/Configurations.c:523
+#: ../../WPrefs.app/Configurations.c:523
+msgid ""
+"Animation speeds, titlebar styles, various option\n"
+"toggling and number of colors to reserve for\n"
+"Window Maker on 8bit displays."
+msgstr ""
+"Ñêîðîñò íà àíèìàöèèòå, ñòèë íà çàãëàâíèòå èâèöè,\n"
+"èçáîð íà ðàçíè îïöèè è áðîé öâåòîâå çà Óèíäîó\n"
+"Ìåéêúð ïðè äèñïëåè ñ 8 áèòà/ïèêñåë."
+
+# ../../WPrefs.app/Expert.c:75
+#: ../../WPrefs.app/Expert.c:75
+msgid ""
+"Disable miniwindows (icons for miniaturized windows). For use with KDE/GNOME."
+msgstr "Áåç ìèíèïðîçîð÷åòà (ìèíèìèçèðàíè ïðîçîðöè). Ïîëåçíî ïðè Ãíîì è ÊÄÅ."
+
+# ../../WPrefs.app/Expert.c:76
+#: ../../WPrefs.app/Expert.c:76
+msgid "Do not set non-WindowMaker specific parameters (do not use xset)."
+msgstr "Áåç íåñïåöèôè÷íè çà Óèíäîó Ìåéêúð ïàðàìåòðè (äà íå ñå ïîëçâà xset)."
+
+# ../../WPrefs.app/Expert.c:77
+#: ../../WPrefs.app/Expert.c:77
+msgid "Automatically save session when exiting Window Maker."
+msgstr "Àâòîìàòè÷íî äà ñå çàïàçâà ñåñèÿòà ïðè èçõîä îò Óèíäîó Ìåéêúð."
+
+# ../../WPrefs.app/Expert.c:78
+#: ../../WPrefs.app/Expert.c:78
+msgid "Use SaveUnder in window frames, icons, menus and other objects."
+msgstr "Àòðèáóò SaveUnder çà ðàìêèòå íà ïðîçîðöè, çà èêîíêè, ìåíþòà è äð."
+
+#: ../../WPrefs.app/Expert.c:79
+msgid "Use Windoze style cycling."
+msgstr "Öèêëè÷íî ïðåìèíàâàíå ïðåç ïðîçîðöèòå â ñòèë Óèíäîóñ."
+
+# ../../WPrefs.app/Expert.c:80
+#: ../../WPrefs.app/Expert.c:80
+msgid "Disable confirmation panel for the Kill command."
+msgstr "Áåç äèàëîã çà ïîòâúðæäåíèå ïðè êîìàíäà çà óáèâàíå."
+
+# ../../WPrefs.app/Expert.c:80
+#: ../../WPrefs.app/Expert.c:81
+msgid "Disable selection animation for selected icons."
+msgstr "Áåç àíèìàöèÿ íà ìàðêèðàíåòî çà ìàðêèðàíè èêîíêè."
+
+# ../../WPrefs.app/Expert.c:113
+#: ../../WPrefs.app/Expert.c:115
+msgid "Expert User Preferences"
+msgstr "Íàñòðîéêè çà íàïðåäíàëè ïîòðåáèòåëè"
+
+# ../../WPrefs.app/Expert.c:115
+#: ../../WPrefs.app/Expert.c:117
+msgid ""
+"Options for people who know what they're doing...\n"
+"Also have some other misc. options."
+msgstr ""
+"Íàñòðîéêè çà õîðà, êîèòî çíàÿò êàêâî ïðàâÿò...\n"
+"Ñúùî è ðàçíè äðóãè íàñòðîéêè."
+
+# ../../WPrefs.app/Focus.c:83
+#: ../../WPrefs.app/Focus.c:80
+#, c-format
+msgid "bad option value %s for option FocusMode. Using default Manual"
+msgstr ""
+"íåïðàâèëíà ñòîéíîñò %s íà îïöèÿòà FocusMode. Ïî ïîäðàçáèðàíå ñå ïîëçâà Manual"
+
+# ../../WPrefs.app/Focus.c:98
+#: ../../WPrefs.app/Focus.c:94
+#, c-format
+msgid "bad option value %s for option ColormapMode. Using default Auto"
+msgstr ""
+"íåïðàâèëíà ñòîéíîñò %s íà îïöèÿòà ColormapMode. Ïî ïîäðàçáèðàíå ñå ïîëçâà "
+"Auto"
+
+# ../../WPrefs.app/Focus.c:249
+#: ../../WPrefs.app/Focus.c:214
+msgid "Input Focus Mode"
+msgstr "Ïðàâèëî çà ôîêóñèðàíå"
+
+# ../../WPrefs.app/Focus.c:196
+#: ../../WPrefs.app/Focus.c:222
+msgid "Manual:  Click on the window to set keyboard input focus"
+msgstr "Ðú÷íî: ùðàêàíå âúðõó ïðîçîðåöà, çà äà ìó ñå äàäå êëàâèàòóðíèÿ ôîêóñ."
+
+# ../../WPrefs.app/Focus.c:205
+#: ../../WPrefs.app/Focus.c:229
+msgid "Auto:  Set keyboard input focus to the window under the mouse pointer"
+msgstr "Àâòîìàòè÷íî: êëàâèàòóðíèÿò ôîêóñ ñå ïîëó÷àâà îò ïðîçîðåöà, âúðõó êîéòî å ìèøêàòà."
+
+# ../../WPrefs.app/Focus.c:271
+#: ../../WPrefs.app/Focus.c:243
+msgid "Install colormap in the window..."
+msgstr "Öâåòîâàòà ïàëèòðà å çà ïðîçîðåöà,... "
+
+# ../../WPrefs.app/Focus.c:276
+#: ../../WPrefs.app/Focus.c:248
+msgid "...that has the input focus."
+msgstr "... êîéòî å ôîêóñèðàí."
+
+# ../../WPrefs.app/Focus.c:281
+#: ../../WPrefs.app/Focus.c:253
+msgid "...that is under the mouse pointer."
+msgstr "... êîéòî å ïîä ìèøêàòà."
+
+# ../../WPrefs.app/Focus.c:290
+#: ../../WPrefs.app/Focus.c:262
+msgid "Automatic Window Raise Delay"
+msgstr "Çàáàâÿíå íà àâòîìàòè÷íîòî ïîâäèãàíå"
+
+# ../../WPrefs.app/Focus.c:347
+#: ../../WPrefs.app/Focus.c:319 ../../WPrefs.app/MouseSettings.c:601
+msgid "msec"
+msgstr "ms"
+
+# ../../WPrefs.app/Focus.c:364
+#: ../../WPrefs.app/Focus.c:336
+msgid ""
+"Do not let applications receive\n"
+"the click used to focus windows."
+msgstr ""
+"Ïðèëîæåíèÿòà äà íå ïîëó÷àâàò\n"
+"ùðàêàíèÿ, èçïîëçâàíè çà\n"
+"ôîêóñèðàíå íà ïðîçîðåö."
+
+# ../../WPrefs.app/Focus.c:370
+#: ../../WPrefs.app/Focus.c:342
+msgid ""
+"Automatically focus new\n"
+"windows."
+msgstr ""
+"Àâòîìàòè÷íî äà ñå ôîêóñèðàò\n"
+"íîâèòå ïðîçîðöè."
+
+# ../../WPrefs.app/Focus.c:391
+#: ../../WPrefs.app/Focus.c:363
+msgid "Window Focus Preferences"
+msgstr "Ïðåäïî÷èòàíèÿ çà ôîêóñèðàíåòî íà ïðîçîðöèòå"
+
+# ../../WPrefs.app/Focus.c:393
+#: ../../WPrefs.app/Focus.c:365
+msgid ""
+"Keyboard focus switching policy, colormap switching\n"
+"policy for 8bpp displays and other related options."
+msgstr ""
+"Ïðàâèëî çà ïðåäàâàíå íà êëàâèàòóðíèÿ ôîêóñ,\n"
+"ïðåäàâàíå íà öâåòîâàòà ïàëèòðà ïðè äèñïëåè\n"
+"ñ 8 áèòà/ïèêñåë è äðóãè ïîäîáíè îïöèè."
+
+# ../../WPrefs.app/Font.c:277
+#: ../../WPrefs.app/Font.c:276
+msgid "Could not locate font information file WPrefs.app/font.data"
+msgstr "Íå ìîæå äà áúäå îòêðèò èíôîðìàöèîííèÿò ôàéë çà øðèôòîâåòå WPrefs.app/font.data"
+
+# ../../WPrefs.app/Font.c:283
+#: ../../WPrefs.app/Font.c:282
+msgid "Could not read font information file WPrefs.app/font.data"
+msgstr ""
+"Íå ìîæå äà ñå ÷åòå èíôîðìàöèîííèÿò ôàéë çà øðèôòîâåòå WPrefs.app/font.data"
+
+# ../../WPrefs.app/Font.c:294
+#: ../../WPrefs.app/Font.c:293
+msgid ""
+"Invalid data in font information file WPrefs.app/font.data.\n"
+"Encodings data not found."
+msgstr ""
+"Íåïðàâèëíè äàííè âúâ èíôîðìàöèîííèÿò ôàéë çà øðèôòîâåòå WPrefs.app/font."
+"data\n"
+"Íÿìà äàííè çà êîäîâàòà òàáëèöà."
+
+# ../../WPrefs.app/Font.c:299
+#: ../../WPrefs.app/Font.c:298
+msgid "- Custom -"
+msgstr "- Íàãëàñåí -"
+
+# ../../WPrefs.app/Font.c:330 ../../WPrefs.app/Menu.c:1401
+# ../../WPrefs.app/MouseSettings.c:152 ../../WPrefs.app/MouseSettings.c:172
+# ../../WPrefs.app/TexturePanel.c:608 ../../WPrefs.app/TexturePanel.c:686
+# ../../WPrefs.app/Themes.c:96 ../../WPrefs.app/WPrefs.c:743
+# ../../WPrefs.app/WPrefs.c:748 ../../WPrefs.app/WPrefs.c:762
+# ../../WPrefs.app/WPrefs.c:772 ../../WPrefs.app/WPrefs.c:782
+# ../../WPrefs.app/WPrefs.c:813 ../../WPrefs.app/WPrefs.c:818
+#: ../../WPrefs.app/Font.c:329 ../../WPrefs.app/Menu.c:1594
+#: ../../WPrefs.app/MouseSettings.c:140 ../../WPrefs.app/MouseSettings.c:160
+#: ../../WPrefs.app/TexturePanel.c:613 ../../WPrefs.app/TexturePanel.c:693
+#: ../../WPrefs.app/Themes.c:96 ../../WPrefs.app/WPrefs.c:758
+#: ../../WPrefs.app/WPrefs.c:763 ../../WPrefs.app/WPrefs.c:780
+#: ../../WPrefs.app/WPrefs.c:790 ../../WPrefs.app/WPrefs.c:800
+#: ../../WPrefs.app/WPrefs.c:838 ../../WPrefs.app/WPrefs.c:843
+msgid "Error"
+msgstr "Ãðåøêà"
+
+# ../../WPrefs.app/Font.c:330 ../../WPrefs.app/Menu.c:1401
+# ../../WPrefs.app/MenuGuru.c:119 ../../WPrefs.app/MenuGuru.c:126
+# ../../WPrefs.app/MenuGuru.c:140 ../../WPrefs.app/MouseSettings.c:154
+# ../../WPrefs.app/MouseSettings.c:174 ../../WPrefs.app/TexturePanel.c:609
+# ../../WPrefs.app/TexturePanel.c:688 ../../WPrefs.app/TexturePanel.c:1522
+# ../../WPrefs.app/Themes.c:98 ../../WPrefs.app/WPrefs.c:743
+# ../../WPrefs.app/WPrefs.c:748 ../../WPrefs.app/WPrefs.c:764
+# ../../WPrefs.app/WPrefs.c:776 ../../WPrefs.app/WPrefs.c:782
+# ../../WPrefs.app/WPrefs.c:789 ../../WPrefs.app/WPrefs.c:813
+# ../../WPrefs.app/WPrefs.c:818
+#: ../../WPrefs.app/Font.c:329 ../../WPrefs.app/Menu.c:1594
+#: ../../WPrefs.app/MouseSettings.c:142 ../../WPrefs.app/MouseSettings.c:162
+#: ../../WPrefs.app/TexturePanel.c:614 ../../WPrefs.app/TexturePanel.c:695
+#: ../../WPrefs.app/TexturePanel.c:1528 ../../WPrefs.app/Themes.c:98
+#: ../../WPrefs.app/WPrefs.c:758 ../../WPrefs.app/WPrefs.c:763
+#: ../../WPrefs.app/WPrefs.c:782 ../../WPrefs.app/WPrefs.c:794
+#: ../../WPrefs.app/WPrefs.c:800 ../../WPrefs.app/WPrefs.c:807
+#: ../../WPrefs.app/WPrefs.c:838 ../../WPrefs.app/WPrefs.c:843
+#: ../../WPrefs.app/imagebrowser.c:105
+msgid "OK"
+msgstr "Ïðèåìàì"
+
+# ../../WPrefs.app/Font.c:377
+#: ../../WPrefs.app/Font.c:376
+msgid "Default Font Sets"
+msgstr "Ñòàíäàðòíè øðèôòîâå"
+
+# ../../WPrefs.app/Font.c:390
+#: ../../WPrefs.app/Font.c:389
+msgid "Font Set"
+msgstr "Ãàðíèòóðà"
+
+# ../../WPrefs.app/Font.c:419
+#: ../../WPrefs.app/Font.c:418
+msgid "Add..."
+msgstr "Äîáàâè"
+
+# ../../WPrefs.app/Font.c:424 ../../WPrefs.app/Font.c:439
+#: ../../WPrefs.app/Font.c:423 ../../WPrefs.app/Font.c:438
+msgid "Change..."
+msgstr "Ñìåíè..."
+
+# ../../WPrefs.app/Font.c:429 ../../WPrefs.app/Paths.c:288
+# ../../WPrefs.app/Paths.c:319
+#: ../../WPrefs.app/Font.c:428 ../../WPrefs.app/Paths.c:288
+#: ../../WPrefs.app/Paths.c:319
+msgid "Remove"
+msgstr "Ïðåìàõíè"
+
+# ../../WPrefs.app/Font.c:478
+#: ../../WPrefs.app/Font.c:477
+msgid "Font Preferences"
+msgstr "Ïðåäïî÷èòàíèÿ çà øðèôòîâåòå"
+
+# ../../WPrefs.app/Font.c:479
+#: ../../WPrefs.app/Font.c:478
+msgid "Font Configurations for Windows, Menus etc"
+msgstr ""
+"Íàñòðîéêà íà øðèôòîâåòå çà\n"
+"ïðîçîðöèòå, ìåíþòàòà è äð."
+
+# ../../WPrefs.app/Icons.c:182
+#: ../../WPrefs.app/Icons.c:180
+msgid "Icon Positioning"
+msgstr "Íàðåæäàíå íà èêîíêèòå"
+
+# ../../WPrefs.app/Icons.c:229
+#: ../../WPrefs.app/Icons.c:227
+msgid "Iconification Animation"
+msgstr "Àíèìàöèÿ ïðè ìèíèìèçèðàíå"
+
+# ../../WPrefs.app/Icons.c:240
+#: ../../WPrefs.app/Icons.c:238
+msgid "Shrinking/Zooming"
+msgstr "Ñâèâàíå/ðàçøèðÿâàíå"
+
+# ../../WPrefs.app/Icons.c:241
+#: ../../WPrefs.app/Icons.c:239
+msgid "Spinning/Twisting"
+msgstr "Óâèâàíå/ðàçâèâàíå"
+
+# ../../WPrefs.app/Icons.c:242
+#: ../../WPrefs.app/Icons.c:240
+msgid "3D-flipping"
+msgstr "Òðèìåðíî ïðåîáðúùàíå"
+
+# ../../WPrefs.app/Icons.c:243
+#: ../../WPrefs.app/Icons.c:241 ../../WPrefs.app/MouseSettings.c:838
+#: ../../WPrefs.app/MouseSettings.c:843
+msgid "None"
+msgstr "Íèêàêâà"
+
+# ../../WPrefs.app/Icons.c:256
+#: ../../WPrefs.app/Icons.c:254
+msgid "Auto-arrange icons"
+msgstr "Àâòîìàò. ïîäðåæäàíå íà èêîíêèòå"
+
+# ../../WPrefs.app/Icons.c:258
+#: ../../WPrefs.app/Icons.c:256
+msgid "Keep icons and miniwindows arranged all the time."
+msgstr ""
+"Èêîíêèòå è ìèíèïðîçîð÷åòàòà äà ñå ïîääúðæàò\n"
+"ïîäðåäåíè ïðåç öÿëîòî âðåìå."
+
+# ../../WPrefs.app/Icons.c:264
+#: ../../WPrefs.app/Icons.c:262
+msgid "Omnipresent miniwindows"
+msgstr "Âåçäåñúùíè ìèíèïðîçîð÷åòà"
+
+# ../../WPrefs.app/Icons.c:266
+#: ../../WPrefs.app/Icons.c:264
+msgid "Make miniwindows be present in all workspaces."
+msgstr ""
+"Ìèíèïðîçîð÷åòàòà äà ïðèñúñòâàò íà\n"
+"âñè÷êè ðàáîòíè ìåñòà."
+
+# ../../WPrefs.app/Icons.c:275
+#: ../../WPrefs.app/Icons.c:273
+msgid "Icon Size"
+msgstr "Ðàçìåð íà èêîíêèòå"
+
+# ../../WPrefs.app/Icons.c:277
+#: ../../WPrefs.app/Icons.c:275
+msgid "The size of the dock/application icon and miniwindows"
+msgstr ""
+"Ðàçìåðúò íà èêîíêèòå è ìèíèïðîçîð÷åòàòà\n"
+"îò äîêà è íà ïðèëîæåíèÿòà."
+
+# ../../WPrefs.app/Icons.c:347
+#: ../../WPrefs.app/Icons.c:345
+msgid "Icon Preferences"
+msgstr "Ïðåäïî÷èòàíèÿ çà èêîíêèòå"
+
+# ../../WPrefs.app/Icons.c:349
+#: ../../WPrefs.app/Icons.c:347
+msgid ""
+"Icon/Miniwindow handling options. Icon positioning\n"
+"area, sizes of icons, miniaturization animation style."
+msgstr ""
+"Îïöèè çà ïîääúðæàíåòî íà èêîíêèòå è ìèíèïðîçîð÷åòàòà.\n"
+"Ìÿñòî, êúäåòî äà ñå ïîäðåæäàò èêîíêèòå, òåõíèÿò\n"
+"ðàçìåð, âèä àíèìàöèÿ ïðè ìèíèìèçèðàíå."
+
+# ../../WPrefs.app/KeyboardSettings.c:74
+#: ../../WPrefs.app/KeyboardSettings.c:73
+msgid "Initial Key Repeat"
+msgstr ""
+
+# ../../WPrefs.app/KeyboardSettings.c:115
+#: ../../WPrefs.app/KeyboardSettings.c:114
+msgid "Key Repeat Rate"
+msgstr ""
+
+# ../../WPrefs.app/KeyboardSettings.c:155
+#: ../../WPrefs.app/KeyboardSettings.c:154
+msgid "Type here to test"
+msgstr "Ïèøåòå òóê çà ïðîáà"
+
+# ../../WPrefs.app/KeyboardSettings.c:174
+#: ../../WPrefs.app/KeyboardSettings.c:173
+msgid "Keyboard Preferences"
+msgstr "Ïðåäïî÷èòàíèÿ çà êëàâèàòóðàòà"
+
+# ../../WPrefs.app/KeyboardSettings.c:176
+#: ../../WPrefs.app/KeyboardSettings.c:175
+msgid "Not done"
+msgstr "Íå å ãîòîâî"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:185 ../../WPrefs.app/Menu.c:1027
+# ../../WPrefs.app/MenuGuru.c:263 ../../WPrefs.app/TexturePanel.c:1528
+#: ../../WPrefs.app/KeyboardShortcuts.c:306 ../../WPrefs.app/Menu.c:360
+#: ../../WPrefs.app/TexturePanel.c:1534 ../../WPrefs.app/imagebrowser.c:100
+msgid "Cancel"
+msgstr "Îòìåíÿì"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:186
+#: ../../WPrefs.app/KeyboardShortcuts.c:307
+msgid "Press the desired shortcut key(s) or click Cancel to stop capturing."
+msgstr ""
+"Íàáåðåòå êëàâèøíàòà\n"
+"êîìáèíàöèÿ èëè íàòèñ-\n"
+"íåòå Îòìåíÿì çà äà ñå\n"
+"îñâîáîäè êëàâèàòóðàòà."
+
+# ../../WPrefs.app/KeyboardShortcuts.c:206
+# ../../WPrefs.app/KeyboardShortcuts.c:454 ../../WPrefs.app/Menu.c:1039
+# ../../WPrefs.app/Menu.c:1262
+#: ../../WPrefs.app/KeyboardShortcuts.c:327
+#: ../../WPrefs.app/KeyboardShortcuts.c:577 ../../WPrefs.app/Menu.c:371
+#: ../../WPrefs.app/Menu.c:830
+msgid "Capture"
+msgstr "Ïðèõâàíè"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:207
+# ../../WPrefs.app/KeyboardShortcuts.c:461
+#: ../../WPrefs.app/KeyboardShortcuts.c:328
+#: ../../WPrefs.app/KeyboardShortcuts.c:585
+msgid "Click Capture to interactively define the shortcut key."
+msgstr ""
+"Íàòèñíåòå Ïðèõâàíè çà äà îïðåäåëèòå äèàëîãîâî êëàâèøíàòà êîìáèíàöèÿ."
+
+# ../../WPrefs.app/KeyboardShortcuts.c:361
+#: ../../WPrefs.app/KeyboardShortcuts.c:483
+msgid "Actions"
+msgstr "Äåéñòâèÿ"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:377
+#: ../../WPrefs.app/KeyboardShortcuts.c:499
+msgid "Open applications menu"
+msgstr "Ìåíþòî íà ïðèëîæåíèÿòà"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:378
+#: ../../WPrefs.app/KeyboardShortcuts.c:500
+msgid "Open window list menu"
+msgstr "Ìåíþòî íà ñïèñúêà ñ ïðîçîðöèòå"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:379
+#: ../../WPrefs.app/KeyboardShortcuts.c:501
+msgid "Open window commands menu"
+msgstr "Ìåíþòî ñ ïðîçîðå÷íèòå êîìàíäè"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:380
+#: ../../WPrefs.app/KeyboardShortcuts.c:502
+msgid "Hide active application"
+msgstr "Ñêðèâàíå íà àêòèâíîòî ïðèëîæåíèå"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:380
+#: ../../WPrefs.app/KeyboardShortcuts.c:503
+msgid "Hide other applications"
+msgstr "Ñêðèâàíå íà äðóãèòå ïðèëîæåíèÿ"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:381
+#: ../../WPrefs.app/KeyboardShortcuts.c:504
+msgid "Miniaturize active window"
+msgstr "Ìèíèìèçèðàíå íà àêòèâíèÿ ïðîçîðåö"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:382
+#: ../../WPrefs.app/KeyboardShortcuts.c:505
+msgid "Close active window"
+msgstr "Çàòâàðÿíå íà àêòèâíèÿ ïðîçîðåö"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:383
+#: ../../WPrefs.app/KeyboardShortcuts.c:506
+msgid "Maximize active window"
+msgstr "Ìàêñèìèçèðàíå íà àêòèâíèÿ ïðîçîðåö"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:384
+#: ../../WPrefs.app/KeyboardShortcuts.c:507
+msgid "Maximize active window vertically"
+msgstr "Âåðòèêàëíî ìàêñèìèçèðàíå íà àêòèâíèÿ"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:384
+#: ../../WPrefs.app/KeyboardShortcuts.c:508
+msgid "Maximize active window horizontally"
+msgstr "Õîðèçîíòàëíî ìàêñèìèçèðàíå íà àêòèâíèÿ"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:385
+#: ../../WPrefs.app/KeyboardShortcuts.c:509
+msgid "Raise active window"
+msgstr "Ïîâäèãàíå íà àêòèâíèÿ ïðîçîðåö"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:386
+#: ../../WPrefs.app/KeyboardShortcuts.c:510
+msgid "Lower active window"
+msgstr "Ñïóñêàíå íà àêòèâíèÿ ïðîçîðåö"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:387
+#: ../../WPrefs.app/KeyboardShortcuts.c:511
+msgid "Raise/Lower window under mouse pointer"
+msgstr "Âäèãàíå/ñïóñêàíå íà ïðîçîðåöà ïîä ìèøêàòà"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:388
+#: ../../WPrefs.app/KeyboardShortcuts.c:512
+msgid "Shade active window"
+msgstr "Ñâèâàíå íà àêòèâíèÿ ïðîçîðåö"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:389
+#: ../../WPrefs.app/KeyboardShortcuts.c:513
+msgid "Move/Resize active window"
+msgstr "Ìåñòåíå/îðàçìåðÿâàíå íà àêòèâíèÿ ïðîçîðåö"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:390
+#: ../../WPrefs.app/KeyboardShortcuts.c:514
+msgid "Select active window"
+msgstr "Ìàðêèðàíå íà àêòèâíèÿ ïðîçîðåö"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:391
+#: ../../WPrefs.app/KeyboardShortcuts.c:515
+msgid "Focus next window"
+msgstr "Ôîêóñèðàíå íà ñëåäâàùèÿ ïðîçîðåö"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:392
+#: ../../WPrefs.app/KeyboardShortcuts.c:516
+msgid "Focus previous window"
+msgstr "Ôîêóñèðàíå íà ïðåäõîäíèÿ ïðîçîðåö"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:393
+#: ../../WPrefs.app/KeyboardShortcuts.c:517
+msgid "Switch to next workspace"
+msgstr "Ïðåìèíàâàíå êúì ñëåäâàùîòî ðàáîòíî ìÿñòî"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:394
+#: ../../WPrefs.app/KeyboardShortcuts.c:518
+msgid "Switch to previous workspace"
+msgstr "Ïðåìèíàâàíå êúì ïðåäõîäíîòî ðàáîòíî ìÿñòî"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:395
+#: ../../WPrefs.app/KeyboardShortcuts.c:519
+msgid "Switch to next ten workspaces"
+msgstr "Íàïðåä ïðåç äåñåò ðàáîòíè ìeñòà"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:396
+#: ../../WPrefs.app/KeyboardShortcuts.c:520
+msgid "Switch to previous ten workspaces"
+msgstr "Íàçàä ïðåç äåñåò ðàáîòíè ìåñòà"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:397
+#: ../../WPrefs.app/KeyboardShortcuts.c:521
+msgid "Switch to workspace 1"
+msgstr "Ïðåìèíàâàíå êúì ðàáîòíî ìÿñòî 1"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:398
+#: ../../WPrefs.app/KeyboardShortcuts.c:522
+msgid "Switch to workspace 2"
+msgstr "Ïðåìèíàâàíå êúì ðàáîòíî ìÿñòî 2"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:399
+#: ../../WPrefs.app/KeyboardShortcuts.c:523
+msgid "Switch to workspace 3"
+msgstr "Ïðåìèíàâàíå êúì ðàáîòíî ìÿñòî 3"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:400
+#: ../../WPrefs.app/KeyboardShortcuts.c:524
+msgid "Switch to workspace 4"
+msgstr "Ïðåìèíàâàíå êúì ðàáîòíî ìÿñòî 4"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:401
+#: ../../WPrefs.app/KeyboardShortcuts.c:525
+msgid "Switch to workspace 5"
+msgstr "Ïðåìèíàâàíå êúì ðàáîòíî ìÿñòî 5"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:402
+#: ../../WPrefs.app/KeyboardShortcuts.c:526
+msgid "Switch to workspace 6"
+msgstr "Ïðåìèíàâàíå êúì ðàáîòíî ìÿñòî 6"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:403
+#: ../../WPrefs.app/KeyboardShortcuts.c:527
+msgid "Switch to workspace 7"
+msgstr "Ïðåìèíàâàíå êúì ðàáîòíî ìÿñòî 7"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:404
+#: ../../WPrefs.app/KeyboardShortcuts.c:528
+msgid "Switch to workspace 8"
+msgstr "Ïðåìèíàâàíå êúì ðàáîòíî ìÿñòî 8"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:405
+#: ../../WPrefs.app/KeyboardShortcuts.c:529
+msgid "Switch to workspace 9"
+msgstr "Ïðåìèíàâàíå êúì ðàáîòíî ìÿñòî 9"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:406
+#: ../../WPrefs.app/KeyboardShortcuts.c:530
+msgid "Switch to workspace 10"
+msgstr "Ïðåìèíàâàíå êúì ðàáîòíî ìÿñòî 10"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:407
+#: ../../WPrefs.app/KeyboardShortcuts.c:531
+msgid "Shortcut for window 1"
+msgstr "Áúðç êëàâèø çà ïðîçîðåö 1"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:408
+#: ../../WPrefs.app/KeyboardShortcuts.c:532
+msgid "Shortcut for window 2"
+msgstr "Áúðç êëàâèø çà ïðîçîðåö 2"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:409
+#: ../../WPrefs.app/KeyboardShortcuts.c:533
+msgid "Shortcut for window 3"
+msgstr "Áúðç êëàâèø çà ïðîçîðåö 3"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:410
+#: ../../WPrefs.app/KeyboardShortcuts.c:534
+msgid "Shortcut for window 4"
+msgstr "Áúðç êëàâèø çà ïðîçîðåö 4"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:412
+#: ../../WPrefs.app/KeyboardShortcuts.c:535
+msgid "Shortcut for window 5"
+msgstr "Áúðç êëàâèø çà ïðîçîðåö 5"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:413
+#: ../../WPrefs.app/KeyboardShortcuts.c:536
+msgid "Shortcut for window 6"
+msgstr "Áúðç êëàâèø çà ïðîçîðåö 6"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:414
+#: ../../WPrefs.app/KeyboardShortcuts.c:537
+msgid "Shortcut for window 7"
+msgstr "Áúðç êëàâèø çà ïðîçîðåö 7"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:415
+#: ../../WPrefs.app/KeyboardShortcuts.c:538
+msgid "Shortcut for window 8"
+msgstr "Áúðç êëàâèø çà ïðîçîðåö 8"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:416
+#: ../../WPrefs.app/KeyboardShortcuts.c:539
+msgid "Shortcut for window 9"
+msgstr "Áúðç êëàâèø çà ïðîçîðåö 9"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:417
+#: ../../WPrefs.app/KeyboardShortcuts.c:540
+msgid "Shortcut for window 10"
+msgstr "Áúðç êëàâèø çà ïðîçîðåö 10"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:395
+#: ../../WPrefs.app/KeyboardShortcuts.c:541
+msgid "Switch to Next Screen/Monitor"
+msgstr "Íàïðåä ïðåç äåñåò åêðàíà/ìîíèòîðà"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:419
+#: ../../WPrefs.app/KeyboardShortcuts.c:542
+msgid "Raise Clip"
+msgstr "Ïîâäèãàíå íà Êëàìåð"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:420
+#: ../../WPrefs.app/KeyboardShortcuts.c:543
+msgid "Lower Clip"
+msgstr "Ñïóñêàíå íà Êëàìåð"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:421
+#: ../../WPrefs.app/KeyboardShortcuts.c:544
+msgid "Raise/Lower Clip"
+msgstr "Ïîâäèãàíå/ñïóñêàíå íà Êëàìåð"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:423
+#: ../../WPrefs.app/KeyboardShortcuts.c:546
+msgid "Toggle keyboard language"
+msgstr "Ïðåâêëþ÷âàòåë ÊÈÐ/ËÀÒ"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:437 ../../WPrefs.app/Menu.c:1251
+#: ../../WPrefs.app/KeyboardShortcuts.c:560
+msgid "Shortcut"
+msgstr "Áúðç êëàâèø"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:448
+#: ../../WPrefs.app/KeyboardShortcuts.c:571 ../../WPrefs.app/Menu.c:836
+msgid "Clear"
+msgstr "Èç÷èñòè"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:509
+#: ../../WPrefs.app/KeyboardShortcuts.c:633
+msgid "Keyboard Shortcut Preferences"
+msgstr "Ïðåäïî÷èòàíèÿ çà áúðçè êëàâèøè"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:511
+#: ../../WPrefs.app/KeyboardShortcuts.c:635
+msgid ""
+"Change the keyboard shortcuts for actions such\n"
+"as changing workspaces and opening menus."
+msgstr ""
+"Ïðîìÿíà íà áúðçè êëàâèøè çà äåéñòâèÿ êàòî\n"
+"ñìÿíà íà ðàáîòíîòî ïðîñòðàíñòâî è\n"
+"ïîêàçâàíå íà ìåíþòà."
+
+#: ../../WPrefs.app/Menu.c:278
+msgid "Select Program"
+msgstr "Ïîñî÷åòå ïðîãðàìàòà"
+
+#: ../../WPrefs.app/Menu.c:510
+msgid "New Items"
+msgstr "Íîâè åëåìåíòè"
+
+#: ../../WPrefs.app/Menu.c:511
+msgid "Sample Commands"
+msgstr "Ïðèìåðíè äåéñòâèÿ"
+
+# ../../WPrefs.app/Menu.c:485
+#: ../../WPrefs.app/Menu.c:512
+msgid "Sample Submenus"
+msgstr "Ïðèìåðíè ïîäìåíþòà"
+
+# ../../WPrefs.app/Menu.c:1191
+#: ../../WPrefs.app/Menu.c:526
+msgid "Run Program"
+msgstr "Ñòàðòèðàíå íà ïðîãðàìà"
+
+# ../../WPrefs.app/Menu.c:1186
+#: ../../WPrefs.app/Menu.c:527
+msgid "Internal Command"
+msgstr "Âúòðåøíà êîìàíäà"
+
+# ../../WPrefs.app/Menu.c:485
+#: ../../WPrefs.app/Menu.c:528
+msgid "Submenu"
+msgstr "Ïîäìåíþ"
+
+# ../../WPrefs.app/Menu.c:490
+#: ../../WPrefs.app/Menu.c:529
+msgid "External Submenu"
+msgstr "Âúíøíî ïîäìåíþ"
+
+# ../../WPrefs.app/Menu.c:485
+#: ../../WPrefs.app/Menu.c:530
+msgid "Generated Submenu"
+msgstr "Ãåíåðèðàíî ïîäìåíþ"
+
+#: ../../WPrefs.app/Menu.c:531
+msgid "Directory Contents"
+msgstr "Ôàéëîâå îò äèðåêòîðèÿ"
+
+#: ../../WPrefs.app/Menu.c:532
+msgid "Workspace Menu"
+msgstr "Ðàáîòíè ìåñòà"
+
+# ../../WPrefs.app/MouseSettings.c:632
+#: ../../WPrefs.app/Menu.c:533 ../../WPrefs.app/MouseSettings.c:840
+msgid "Window List Menu"
+msgstr "Ñïèñúêà ñ ïðîçîðöèòå"
+
+#: ../../WPrefs.app/Menu.c:552
+msgid "XTerm"
+msgstr "Òåðìèíàë XTerm"
+
+#: ../../WPrefs.app/Menu.c:555
+msgid "rxvt"
+msgstr "Òåðìèíàë rxvt"
+
+#: ../../WPrefs.app/Menu.c:558
+msgid "ETerm"
+msgstr "Òåðìèíàë ETerm"
+
+#: ../../WPrefs.app/Menu.c:561
+msgid "Run..."
+msgstr "Ñòàðòèðàé..."
+
+#: ../../WPrefs.app/Menu.c:562
+msgid "%a(Run,Type command to run)"
+msgstr "%a(Êîìàíäà,Âúâåäåòå êîìàíäàòà, êîÿòî äà ñå èçïúëíè)"
+
+#: ../../WPrefs.app/Menu.c:564
+msgid "Netscape"
+msgstr "Áðàóçúð Netscape"
+
+#: ../../WPrefs.app/Menu.c:567
+msgid "gimp"
+msgstr "Ðàñòåðíà ãðàôèêà Gimp"
+
+#: ../../WPrefs.app/Menu.c:570
+msgid "epic"
+msgstr "IRCII êëèåíò epic"
+
+#: ../../WPrefs.app/Menu.c:573
+msgid "ee"
+msgstr "Ðåäàêòîð ee"
+
+#: ../../WPrefs.app/Menu.c:576
+msgid "xv"
+msgstr "Âèçóàëèçàòîð xv"
+
+#: ../../WPrefs.app/Menu.c:579
+msgid "Acrobat Reader"
+msgstr "Acrobat Reader (PDF)"
+
+#: ../../WPrefs.app/Menu.c:582
+msgid "ghostview"
+msgstr "ghostview (PS)"
+
+#: ../../WPrefs.app/Menu.c:585 ../../WPrefs.app/Menu.c:857
+msgid "Exit Window Maker"
+msgstr "Èçõîä îò ÓèíäîóÌåéêúð"
+
+#: ../../WPrefs.app/Menu.c:608
+msgid "Debian Menu"
+msgstr "Ìåíþ íà Äåáèàí"
+
+#: ../../WPrefs.app/Menu.c:611
+msgid "RedHat Menu"
+msgstr "Ìåíþ íà RedHat"
+
+#: ../../WPrefs.app/Menu.c:614
+msgid "Menu Conectiva"
+msgstr "Ãåíåðèðàíî ìåíþ"
+
+# ../../WPrefs.app/Themes.c:251
+#: ../../WPrefs.app/Menu.c:617 ../../WPrefs.app/Themes.c:250
+msgid "Themes"
+msgstr "Òåìè"
+
+#: ../../WPrefs.app/Menu.c:622
+msgid "Bg Images (scale)"
+msgstr "Ôîí (ìàùàáèðàí)"
+
+#: ../../WPrefs.app/Menu.c:627
+msgid "Bg Images (tile)"
+msgstr "Ôîí (ìîçàéêà)"
+
+#: ../../WPrefs.app/Menu.c:632
+msgid "Assorted XTerms"
+msgstr "Ðàçíè XTerm-îâå"
+
+#: ../../WPrefs.app/Menu.c:634
+msgid "XTerm Yellow on Blue"
+msgstr "XTerm: æúëòî â/ó ñèíüî"
+
+#: ../../WPrefs.app/Menu.c:637
+msgid "XTerm White on Black"
+msgstr "XTerm: áÿëî â/ó ÷åðíî"
+
+#: ../../WPrefs.app/Menu.c:640
+msgid "XTerm Black on White"
+msgstr "XTerm: ÷åðíî â/ó áÿëî"
+
+#: ../../WPrefs.app/Menu.c:643
+msgid "XTerm Black on Beige"
+msgstr "XTerm: ÷åðíî â/ó ðåçåäà"
+
+#: ../../WPrefs.app/Menu.c:646
+msgid "XTerm White on Green"
+msgstr "XTerm: áÿëî â/ó çåëåíî"
+
+#: ../../WPrefs.app/Menu.c:649
+msgid "XTerm White on Olive"
+msgstr "XTerm: áÿëî â/ó æàáåøêî"
+
+#: ../../WPrefs.app/Menu.c:652
+msgid "XTerm Blue on Blue"
+msgstr "XTerm: ñèíüî â/ó áÿëî"
+
+#: ../../WPrefs.app/Menu.c:655
+msgid "XTerm BIG FONTS"
+msgstr "XTerm: ÃÎËßÌ ØÐÈÔÒ"
+
+# ../../WPrefs.app/Menu.c:428 ../../WPrefs.app/Menu.c:1238
+#: ../../WPrefs.app/Menu.c:677
+msgid "Program to Run"
+msgstr "Äà ñå ñòàðòèðà ïðîãðàìàòà"
+
+# ../../WPrefs.app/TexturePanel.c:1497
+#: ../../WPrefs.app/Menu.c:687
+msgid "Browse"
+msgstr "Áðàóçúð"
+
+#: ../../WPrefs.app/Menu.c:698
+msgid "Run the program inside a Xterm"
+msgstr "Èçïúëíÿâàé ïðîãðàìàòà â Xterm"
+
+#: ../../WPrefs.app/Menu.c:708
+msgid "Path for Menu"
+msgstr "Ïúò çà ìåíþòî"
+
+#: ../../WPrefs.app/Menu.c:721
+msgid ""
+"Enter the path for a file containing a menu\n"
+"or a list of directories with the programs you\n"
+"want to have listed in the menu. Ex:\n"
+"~/GNUstep/Library/WindowMaker/menu\n"
+"or\n"
+"/usr/X11R6/bin ~/xbin"
+msgstr ""
+"Âúâåäåòå ïúòÿ íà ôàéë, ñúäúðæàù ìåíþ èëè\n"
+"ñïèñúê îò äèðåêòîðèè ñ ïðîãðàìèòå, êîèòî\n"
+"æåëàåòå äà áúäàò âêëþ÷åíè â ìåíþòî. Íàïð.:\n"
+"~/GNUstep/Library/WindowMaker/menu\n"
+"èëè /usr/X11R6/bin ~/xbin"
+
+# ../../WPrefs.app/Menu.c:1186
+#: ../../WPrefs.app/Menu.c:736
+msgid "Command"
+msgstr "Êîìàíäà"
+
+#: ../../WPrefs.app/Menu.c:750
+msgid ""
+"Enter a command that outputs a menu\n"
+"definition to stdout when invoked."
+msgstr ""
+"Âúâåäåòå êîìàíäà, èçâåæäàùà íà ñòàíäàðòíèÿ\n"
+"ñè èçõîä äåôèíèöèÿ íà ìåíþ."
+
+#: ../../WPrefs.app/Menu.c:758
+msgid ""
+"Cache menu contents after opening for\n"
+"the first time"
+msgstr ""
+
+#: ../../WPrefs.app/Menu.c:769
+msgid "Command to Open Files"
+msgstr "Ïðîã. çà îòâàðÿíå ôàéëîâåòå"
+
+#: ../../WPrefs.app/Menu.c:783
+msgid ""
+"Enter the command you want to use to open the\n"
+"files in the directories listed below."
+msgstr ""
+"Âúâåäåòå êîìàíäàòà, êîÿòî æåëàåòå äà ñå èçïîëçâà\n"
+"çà îòâàðÿíå íà ïîñî÷åíèòå ïî-äîëó ôàéëîâå."
+
+#: ../../WPrefs.app/Menu.c:792
+msgid "Directories with Files"
+msgstr "Äèðåêòîðèè ñ ôàéëîâå"
+
+#: ../../WPrefs.app/Menu.c:805
+msgid "Strip extensions from file names"
+msgstr "Ñúêðàùàâàé ôàéëîâèòå ðàçøèðåíèÿ"
+
+#: ../../WPrefs.app/Menu.c:817
+msgid "Keyboard Shortcut"
+msgstr "Ïðåäïî÷èòàíèÿ çà áúðçè êëàâèøè"
+
+# ../../WPrefs.app/Menu.c:1193
+#: ../../WPrefs.app/Menu.c:853
+msgid "Arrange Icons"
+msgstr "Ïîäðåæäàíå íà èêîíêèòå"
+
+#: ../../WPrefs.app/Menu.c:854
+msgid "Hide All Windows Except For The Focused One"
+msgstr "Ñêðèâàíå íà âñè÷êè ïðîçîðöè, îñâåí ôîêóñèðàíèÿ"
+
+# ../../WPrefs.app/Menu.c:1195
+#: ../../WPrefs.app/Menu.c:855
+msgid "Show All Windows"
+msgstr "Ïîêàçâàíå íà âñè÷êè ïðîçîðöè"
+
+# ../../WPrefs.app/Menu.c:1197
+#: ../../WPrefs.app/Menu.c:858
+msgid "Exit X Session"
+msgstr "Êðàé íà X-ñåñèÿòà"
+
+#: ../../WPrefs.app/Menu.c:859
+msgid "Restart Window Maker"
+msgstr "Ðåñòàðòèðàíå íà Óèíäîó Ìåéêúð"
+
+#: ../../WPrefs.app/Menu.c:860
+msgid "Start Another Window Manager   : ("
+msgstr "Ñòàðòèðàíå íà äðóã àäìèíèñòðàòîð   : ("
+
+#: ../../WPrefs.app/Menu.c:862
+msgid "Save Current Session"
+msgstr "Çàïàçâàíå íà òåêóùàòà ñåñèÿ"
+
+#: ../../WPrefs.app/Menu.c:863
+msgid "Clear Saved Session"
+msgstr "Èç÷èñòâàíå íà çàïàçåíàòà ñåñèÿòà"
+
+# ../../WPrefs.app/Menu.c:1202
+#: ../../WPrefs.app/Menu.c:864
+msgid "Refresh Screen"
+msgstr "Îïðåñíÿâàíå íà ñåñèÿòà"
+
+#: ../../WPrefs.app/Menu.c:865
+msgid "Open Info Panel"
+msgstr "Èíôîðìàöèîíåí ïàíåë"
+
+#: ../../WPrefs.app/Menu.c:866
+msgid "Open Copyright Panel"
+msgstr "Ïàíåë Àâòîðñêè ïðàâà"
+
+#: ../../WPrefs.app/Menu.c:872
+msgid "Window Manager to Start"
+msgstr "Àäìèíèñòðàòîð íà ïðîçîðöèòå"
+
+#: ../../WPrefs.app/Menu.c:888
+msgid "Do not confirm action."
+msgstr "Äà íå ñå ïîòâúðæäàâà äåéñòâèåòî."
+
+#: ../../WPrefs.app/Menu.c:898
+msgid ""
+"Instructions:\n"
+"\n"
+" - drag items from the left to the menu to add new items\n"
+" - drag items out of the menu to remove items\n"
+" - drag items in menu to change their position\n"
+" - drag items with Control pressed to copy them\n"
+" - double click in a menu item to change the label\n"
+" - click on a menu item to change related information"
+msgstr ""
+"Óïúòâàíå:\n"
+"\n"
+" - âëà÷åòå åëåìåíòèòå îòëÿâî ïîñòàâÿéêè ãè âúðõó ìåíþòî;\n"
+" - âëà÷åòå åëåìåíòèòå èçâúí ìåíþòî, çà äà ãè ìàõíåòå;\n"
+" - âëà÷åòå åëåìåíòèòå â ìåíþòî, çà ïðåíàðåæäàíå;\n"
+" - âëà÷åòå åëåìåíòèòå ñ íàòèñíàò Control çà êîïèðàíå;\n"
+" - äâóêðàòíî ùðàêàíå çà ïðîìÿíà íà çàãëàâèåòî è\n"
+" - ùðàêàíå çà ïðîìÿíà íà èíôîðìàöèÿ íà åëåìåíò."
+
+#: ../../WPrefs.app/Menu.c:1122
+#, c-format
+msgid "unknown command '%s' in menu"
+msgstr "Íåïîçíàòà êîìàíäà \"%s\" â ìåíþòî."
+
+#: ../../WPrefs.app/Menu.c:1154
+msgid ": Execute Program"
+msgstr " (èçïúëíÿâà ïðîãðàìà)"
+
+#: ../../WPrefs.app/Menu.c:1158
+msgid ": Perform Internal Command"
+msgstr " (èçïúëíÿâà âúòðåøíà êîìàíäà)"
+
+#: ../../WPrefs.app/Menu.c:1162
+msgid ": Open a Submenu"
+msgstr " (îòâàðÿ ïîäìåíþ)"
+
+#: ../../WPrefs.app/Menu.c:1166
+msgid ": Program Generated Submenu"
+msgstr " (ïðîãðàìíî ãåíåðèðàíî ïîäìåíþ)"
+
+#: ../../WPrefs.app/Menu.c:1170
+msgid ": Directory Contents Menu"
+msgstr " (ñúäúðæàíèå íà äèðåêòîðèÿ)"
+
+#: ../../WPrefs.app/Menu.c:1174
+msgid ": Open Workspaces Submenu"
+msgstr " (ìåíþòî ñ ðàáîòíèòå ìåñòà)"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:378
+#: ../../WPrefs.app/Menu.c:1178
+msgid ": Open Window List Submenu"
+msgstr " (ìåíþòî ñúñ ñïèñúêà íà ïðîçîðöèòå)"
+
+# ../../WPrefs.app/Menu.c:485
+#: ../../WPrefs.app/Menu.c:1403
+msgid "Remove Submenu"
+msgstr "Îòñòðàíè ïîäìåíþòî"
+
+#: ../../WPrefs.app/Menu.c:1404
+msgid ""
+"Removing this item will destroy all items inside\n"
+"the submenu. Do you really want to do that?"
+msgstr ""
+"Ìàõàíåòî íà òîçè åëåìåíò áè óíèùîæèëî âñè÷êè\n"
+"ïîäåëåìåíòè íà ïîäìåíþòî. Æåëàåòå ëè íàèñòèíà òîâà?"
+
+#: ../../WPrefs.app/Menu.c:1406
+msgid "Yes"
+msgstr "Äà"
+
+#: ../../WPrefs.app/Menu.c:1406
+msgid "No"
+msgstr "Íå"
+
+#: ../../WPrefs.app/Menu.c:1407
+msgid "Yes, don't ask again."
+msgstr "Äà, íå ìå ïèòàé ïàê!"
+
+# ../../WPrefs.app/Menu.c:1382 ../../WPrefs.app/Menu.c:1389
+#. if there is a localized plmenu for the tongue put it's filename here
+#: ../../WPrefs.app/Menu.c:1575 ../../WPrefs.app/Menu.c:1582
+#, c-format
+msgid "%s/Library/WindowMaker/plmenu"
+msgstr "%s/Library/WindowMaker/plmenu.bg"
+
+# ../../WPrefs.app/Menu.c:1398
+#: ../../WPrefs.app/Menu.c:1591
+#, c-format
+msgid "Could not open default menu from '%s'"
+msgstr "Íå ìîæå äà ñå îòâîðè ïîäðàçáèðàùîòî ñå ìåíþ îò \"%s\""
+
+# ../../WPrefs.app/WPrefs.c:789
+#: ../../WPrefs.app/Menu.c:1629 ../../WPrefs.app/WPrefs.c:807
+msgid "Warning"
+msgstr "Âíèìàíèå!"
+
+#: ../../WPrefs.app/Menu.c:1630
+msgid ""
+"The menu file format currently in use is not supported\n"
+"by this tool. Do you want to discard the current menu\n"
+"to use this tool?"
+msgstr ""
+"Èçïîëçâàíèÿò â ìîìåíòà ôîðìàò íà ìåíþòî íå ñå ïîääúðæà îò\n"
+"òîçè èíñòðóìåíò. Ùå ñå îòêàæåòå ëè îò íàñòîÿùîòî ìåíþ,\n"
+"çà äà èçïîëçâàòå òîçè èíñòðóìåíò?"
+
+#: ../../WPrefs.app/Menu.c:1633
+msgid "Yes, Discard and Update"
+msgstr "Äà, îòêàçâàì ñå, îáíîâè ãî"
+
+# ../../WPrefs.app/NoMenuAlert.c:119
+#: ../../WPrefs.app/Menu.c:1634
+msgid "No, Keep Current Menu"
+msgstr "Íå, çàïàçè ñåãàøíîòî"
+
+# ../../WPrefs.app/Menu.c:1508
+#: ../../WPrefs.app/Menu.c:1897
+msgid "Applications Menu Definition"
+msgstr "Íàãëàñÿâàíå íà ìåíþòî ñ ïðèëîæåíèÿ"
+
+# ../../WPrefs.app/Menu.c:1510
+#: ../../WPrefs.app/Menu.c:1899
+msgid "Edit the menu for launching applications."
+msgstr ""
+"Ðåäàêòèðàíå íà ìåíþòî çà\n"
+"ñòàðòèðàíå íà ïðèëîæåíèÿ"
+
+# ../../WPrefs.app/MenuPreferences.c:114
+#: ../../WPrefs.app/MenuPreferences.c:111
+msgid "Menu Scrolling Speed"
+msgstr "Ñêîðîñò çà ïëúçãàíå íà ìåíþòàòà"
+
+# ../../WPrefs.app/MenuPreferences.c:163
+#: ../../WPrefs.app/MenuPreferences.c:160
+msgid "Submenu Alignment"
+msgstr "Ïîäðàâíÿâàíå íà ìåíþòàòà"
+
+# ../../WPrefs.app/MenuPreferences.c:207
+#: ../../WPrefs.app/MenuPreferences.c:204
+msgid ""
+"Always open submenus inside the screen, instead of scrolling.\n"
+"Note: this is annoying."
+msgstr ""
+"Ïîäìåíþòàòà âèíàãè äà ñå èçîáðàçÿâàò â ðàìêèòå íà åêðàíà,\n"
+"âìåñòî äà ñå ïëúçãàò.  (Tîâà å äîñàäíî.)"
+
+# ../../WPrefs.app/MenuPreferences.c:212
+#: ../../WPrefs.app/MenuPreferences.c:209
+msgid "Scroll off-screen menus when pointer is moved over them."
+msgstr "Ïëúçãàíå íà ìåíþòàòà èçâúí åêðàíà, êîãàòî ìèøêàòà å âúðõó òÿõ."
+
+# ../../WPrefs.app/MenuPreferences.c:232
+#: ../../WPrefs.app/MenuPreferences.c:229
+msgid "Menu Preferences"
+msgstr "Ïðåäïî÷èòàíèÿ çà ìåíþòàòà"
+
+# ../../WPrefs.app/MenuPreferences.c:234
+#: ../../WPrefs.app/MenuPreferences.c:231
+msgid ""
+"Menu usability related options. Scrolling speed,\n"
+"alignment of submenus etc."
+msgstr ""
+"Îïöèè, êàñàåùè èçïîëçâàíåòî íà ìåíþòàòà.\n"
+"Ñêîðîñò íà ïëúçãàíå, ïîäðàâíÿâàíå íà \n"
+"ïîäìåíþòàòà è äðóãè ïîäîáíè."
+
+# ../../WPrefs.app/MouseSettings.c:153
+#: ../../WPrefs.app/MouseSettings.c:141
+msgid "Invalid mouse acceleration value. Must be a positive real value."
+msgstr ""
+"Íåäîïóñòèìà ñòîéíîñò çà óñêîðåíèå íà ìèøêàòà.  Òðÿáâà äà áúäå ïîëîæèòåëíî "
+"ðåàëíî ÷èñëî."
+
+# ../../WPrefs.app/MouseSettings.c:173
+#: ../../WPrefs.app/MouseSettings.c:161
+msgid ""
+"Invalid mouse acceleration threshold value. Must be the number of pixels to "
+"travel before accelerating."
+msgstr ""
+"Íåäîïóñòèì íà÷àëåí ïðàã çà óñêîðåíèå íà ìèøêàòà. Òðÿáâà äà áúäå áðîé "
+"èçìèíàòè ïèêñåëè, ïðåäè äà çàïî÷íå óñêîðåíèåòî."
+
+# ../../WPrefs.app/MouseSettings.c:269 ../../WPrefs.app/MouseSettings.c:283
+# ../../WPrefs.app/MouseSettings.c:297
+#: ../../WPrefs.app/MouseSettings.c:262 ../../WPrefs.app/MouseSettings.c:274
+#: ../../WPrefs.app/MouseSettings.c:286 ../../WPrefs.app/MouseSettings.c:298
+#, c-format
+msgid "bad value %s for option %s"
+msgstr "íåïðàâèëíà ñòîéíîñò %s çà îïöèÿòà %s"
+
+# ../../WPrefs.app/MouseSettings.c:358
+#: ../../WPrefs.app/MouseSettings.c:357
+#, c-format
+msgid ""
+"modifier key %s for option ModifierKey was not recognized. Using %s as "
+"default"
+msgstr ""
+"êëàâèøúò ìîäèôèêàòîð %s çà îïöèÿòà \"ModifierKey\" å íåïîçíàò. Ïî "
+"ïîäðàçáèðàíå ñå èçïîëçâà %s"
+
+# ../../WPrefs.app/MouseSettings.c:383
+#: ../../WPrefs.app/MouseSettings.c:382
+msgid "could not retrieve keyboard modifier mapping"
+msgstr "íå ìîæå äà ñå ðàçáåðå íà êîè êëàâèøè ñà ìîäèôèêàòîðèòå"
+
+# ../../WPrefs.app/MouseSettings.c:478
+#: ../../WPrefs.app/MouseSettings.c:477
+msgid "Mouse Speed"
+msgstr "Ñêîðîñò íà ìèøêàòà"
+
+# ../../WPrefs.app/MouseSettings.c:508
+#: ../../WPrefs.app/MouseSettings.c:507
+msgid "Acceler.:"
+msgstr "Óñêîðåíèå"
+
+# ../../WPrefs.app/MouseSettings.c:521
+#: ../../WPrefs.app/MouseSettings.c:520
+msgid "Threshold:"
+msgstr "Íà÷. ïðàã"
+
+# ../../WPrefs.app/MouseSettings.c:536
+#: ../../WPrefs.app/MouseSettings.c:535
+msgid "Double-Click Delay"
+msgstr "Áúðçèíà ïðè äâóêðàòíî ùðàêàíå"
+
+# ../../WPrefs.app/MouseSettings.c:580
+#: ../../WPrefs.app/MouseSettings.c:579
+msgid "Test"
+msgstr "Ïðîáà"
+
+# ../../WPrefs.app/MouseSettings.c:610
+#: ../../WPrefs.app/MouseSettings.c:609
+msgid "Workspace Mouse Actions"
+msgstr "Ñïåöèàëíè äåéñòâèÿ ñ ìèøêàòà"
+
+# ../../WPrefs.app/MouseSettings.c:615
+#: ../../WPrefs.app/MouseSettings.c:614
+msgid "Disable mouse actions"
+msgstr "Áåç ñïåö. äåéñòâèÿ ñ ìèøêàòà"
+
+#: ../../WPrefs.app/MouseSettings.c:620
+msgid "Left Button"
+msgstr "Ëÿâ áóòîí"
+
+#: ../../WPrefs.app/MouseSettings.c:630
+msgid "Middle Button"
+msgstr "Ñðåäåí áóòîí"
+
+#: ../../WPrefs.app/MouseSettings.c:640
+msgid "Right Button"
+msgstr "Äåñåí áóòîí"
+
+# ../../WPrefs.app/MouseSettings.c:478
+#: ../../WPrefs.app/MouseSettings.c:650
+msgid "Mouse Wheel"
+msgstr "Êîëåëöå"
+
+# ../../WPrefs.app/MouseSettings.c:661
+#: ../../WPrefs.app/MouseSettings.c:672
+msgid "Mouse Grab Modifier"
+msgstr "Ìîäèôèêàòîð, ïðèõâàùàù ìèøêàòà"
+
+# ../../WPrefs.app/MouseSettings.c:663
+#: ../../WPrefs.app/MouseSettings.c:674
+msgid ""
+"Keyboard modifier to use for actions that\n"
+"involve dragging windows with the mouse,\n"
+"clicking inside the window."
+msgstr ""
+"Êîé ìîäèôèêàòîð äà ñå èçïîëçâà çà äåéñòâèÿ , êîèòî\n"
+"èçèñêâàò âëà÷åíå íà ïðîçîðöèòå ñ ìèøêà èëè\n"
+"ùðàêàíå â ðàìêèòå íà ïðîçîðåöà."
+
+# ../../WPrefs.app/MouseSettings.c:697
+#: ../../WPrefs.app/MouseSettings.c:708
+#, c-format
+msgid "could not create %s"
+msgstr "íå ìîæå äà ñå íàïðàâè %s"
+
+# ../../WPrefs.app/MouseSettings.c:713
+#: ../../WPrefs.app/MouseSettings.c:724
+#, c-format
+msgid "could not create temporary file %s"
+msgstr "íå ìîæå äà ñå íàïðàâè âðåìåíåí ôàéë %s"
+
+# ../../WPrefs.app/MouseSettings.c:744
+#: ../../WPrefs.app/MouseSettings.c:756
+#, c-format
+msgid "could not rename file %s to %s\n"
+msgstr "íå ìîæå äà ñå ïðåèìåíóâà ôàéëúò %s íà %s\n"
+
+#: ../../WPrefs.app/MouseSettings.c:829
+msgid "Shift"
+msgstr "Shift"
+
+#: ../../WPrefs.app/MouseSettings.c:830
+msgid "Lock"
+msgstr "Lock"
+
+# Íÿìà ìÿñòî çà "Öåíòðèðàíî"
+# ../../WPrefs.app/Appearance.c:1936 ../../WPrefs.app/TexturePanel.c:1511
+# ../../WPrefs.app/Workspace.c:271
+#: ../../WPrefs.app/MouseSettings.c:831
+msgid "Control"
+msgstr "Control"
+
+#: ../../WPrefs.app/MouseSettings.c:832
+msgid "Mod1"
+msgstr "Mod1"
+
+#: ../../WPrefs.app/MouseSettings.c:833
+msgid "Mod2"
+msgstr "Mod2"
+
+#: ../../WPrefs.app/MouseSettings.c:834
+msgid "Mod3"
+msgstr "Mod3"
+
+#: ../../WPrefs.app/MouseSettings.c:835
+msgid "Mod4"
+msgstr "Mod4"
+
+#: ../../WPrefs.app/MouseSettings.c:836
+msgid "Mod5"
+msgstr "Mod5"
+
+# ../../WPrefs.app/MouseSettings.c:622
+#: ../../WPrefs.app/MouseSettings.c:839
+msgid "Applications Menu"
+msgstr "Ìåíþ íà ïðèëîæ."
+
+# ../../WPrefs.app/MouseSettings.c:643
+#: ../../WPrefs.app/MouseSettings.c:841
+msgid "Select Windows"
+msgstr "Ìàðêèðàíå ïðîçîðåö"
+
+# ../../WPrefs.app/KeyboardShortcuts.c:397
+#: ../../WPrefs.app/MouseSettings.c:844
+msgid "Switch Workspaces"
+msgstr "Ñìåíÿíå íà ðàáîòíîòî ìÿñòî"
+
+# ../../WPrefs.app/MouseSettings.c:816
+#: ../../WPrefs.app/MouseSettings.c:849
+msgid "Mouse Preferences"
+msgstr "Ïðåäïî÷èòàíèÿ çà ìèøêàòà"
+
+# ../../WPrefs.app/MouseSettings.c:818
+#: ../../WPrefs.app/MouseSettings.c:851
+msgid ""
+"Mouse speed/acceleration, double click delay,\n"
+"mouse button bindings etc."
+msgstr ""
+"Ñêîðîñò/óñêîðåíèå íà ìèøêàòà, âðåìå íà\n"
+"äâîéíîòî ùðàêàíå, ïðèñâîÿâàíå íà \n"
+"äåéñòâèÿ íà ìèøêàòà è äð."
+
+# ../../WPrefs.app/Paths.c:84
+#: ../../WPrefs.app/Paths.c:84
+msgid "bad value in option IconPath. Using default path list"
+msgstr ""
+"íåäîïóñòèìà ñòîéíîñò â îïöèÿòà \"IconPath\". Ïîëçâà ñå ïîäðàçáèðàùèÿò ñå "
+"ñïèñúê ïúòåêè"
+
+# ../../WPrefs.app/Paths.c:101
+#: ../../WPrefs.app/Paths.c:101
+msgid "bad value in option PixmapPath. Using default path list"
+msgstr ""
+"íåäîïóñòèìà ñòîéíîñò çà îïöèÿòà \"PixmapPath. Ïîëçâà ñå ïîäðàçáèðàùèÿò ñå "
+"ñïèñúê ïúòåêè."
+
+# ../../WPrefs.app/Paths.c:149
+#: ../../WPrefs.app/Paths.c:149
+msgid "Select directory"
+msgstr "Ïîñî÷åòå äèðåêòîðèÿ"
+
+# ../../WPrefs.app/Paths.c:270
+#: ../../WPrefs.app/Paths.c:270
+msgid "Icon Search Paths"
+msgstr "Ïúòåêè çà òúðñåíå íà èêîíêèòå"
+
+# ../../WPrefs.app/Paths.c:281 ../../WPrefs.app/Paths.c:312
+# ../../WPrefs.app/TexturePanel.c:1304
+#: ../../WPrefs.app/Paths.c:281 ../../WPrefs.app/Paths.c:312
+#: ../../WPrefs.app/TexturePanel.c:1310
+msgid "Add"
+msgstr "Äîáàâè"
+
+# ../../WPrefs.app/Paths.c:301
+#: ../../WPrefs.app/Paths.c:301
+msgid "Pixmap Search Paths"
+msgstr "Ïúòåêè çà òúðñåíå íà êàðòèíêè"
+
+# ../../WPrefs.app/Paths.c:341
+#: ../../WPrefs.app/Paths.c:341
+msgid "Search Path Configuration"
+msgstr "Íàñòðîéêà íà ïúòåêèòå çà òúðñåíe"
+
+# ../../WPrefs.app/Paths.c:343
+#: ../../WPrefs.app/Paths.c:343
+msgid ""
+"Search paths to use when looking for pixmaps\n"
+"and icons."
+msgstr ""
+"Äèðåêòîðíè ïúòåêè, â êîèòî äà ñå\n"
+"òúðñÿò êàðòèíêè è èêîíêè."
+
+#: ../../WPrefs.app/Preferences.c:75
+msgid "OFF"
+msgstr "ÁÅÇ"
+
+#: ../../WPrefs.app/Preferences.c:77
+msgid "1 pixel"
+msgstr "1 ïèêñåë"
+
+#. 2-4
+#: ../../WPrefs.app/Preferences.c:80
+#, c-format
+msgid "%i pixels"
+msgstr "%i ïèêñåëà"
+
+#. >4
+#: ../../WPrefs.app/Preferences.c:83
+#, c-format
+msgid "%i pixels "
+msgstr "%i ïèêñåëà"
+
+# ../../WPrefs.app/Preferences.c:159
+#: ../../WPrefs.app/Preferences.c:229
+msgid "Size Display"
+msgstr "Èçîáðàçÿâàíå íà ðàçìåðà"
+
+# ../../WPrefs.app/Preferences.c:161
+#: ../../WPrefs.app/Preferences.c:231
+msgid ""
+"The position or style of the window size\n"
+"display that's shown when a window is resized."
+msgstr ""
+"Ïîëîæåíèåòî èëè ñòèëúò íà ðàçìåðà íà ïðî-\n"
+"çîðöåöà ïðè ïðîìåíÿíå íà ðàçìåðà ìó."
+
+# ../../WPrefs.app/Preferences.c:168 ../../WPrefs.app/Preferences.c:188
+#: ../../WPrefs.app/Preferences.c:238 ../../WPrefs.app/Preferences.c:259
+msgid "Corner of screen"
+msgstr "Â úãúëà íà åêðàíà"
+
+# ../../WPrefs.app/Preferences.c:169 ../../WPrefs.app/Preferences.c:189
+#: ../../WPrefs.app/Preferences.c:239 ../../WPrefs.app/Preferences.c:260
+msgid "Center of screen"
+msgstr "Â ñðåäàòà íà åêðàíà"
+
+# ../../WPrefs.app/Preferences.c:170 ../../WPrefs.app/Preferences.c:190
+#: ../../WPrefs.app/Preferences.c:240 ../../WPrefs.app/Preferences.c:261
+msgid "Center of resized window"
+msgstr "Â ñðåäàòà íà ïðîçîðåöà"
+
+# ../../WPrefs.app/Preferences.c:171
+#: ../../WPrefs.app/Preferences.c:241
+msgid "Technical drawing-like"
+msgstr "Êàòî â òåõíè÷åñêè ÷åðòåæ"
+
+# ../../WPrefs.app/Workspace.c:270
+#: ../../WPrefs.app/Preferences.c:242 ../../WPrefs.app/Preferences.c:262
+msgid "Disabled"
+msgstr "Áåç èçîáðàçÿâàíå"
+
+# ../../WPrefs.app/Preferences.c:179
+#: ../../WPrefs.app/Preferences.c:250
+msgid "Position Display"
+msgstr "Èçîáðàçÿâàíå íà ïîëîæåíèåòî"
+
+# ../../WPrefs.app/Preferences.c:181
+#: ../../WPrefs.app/Preferences.c:252
+msgid ""
+"The position or style of the window position\n"
+"display that's shown when a window is moved."
+msgstr ""
+"Ïîëîæåíèåòî èëè ñòèëúò çà èçîáðàçÿâàíå íà\n"
+"ïîëîæåíèåòî íà ïðîçîðåöà ïðè ïðåìåñòâàíå."
+
+# ../../WPrefs.app/Preferences.c:198
+#: ../../WPrefs.app/Preferences.c:270
+msgid "Show balloon text for..."
+msgstr "Äà ñå ïîêàçâà òåêñò â áàëîíè çà ..."
+
+# ../../WPrefs.app/Preferences.c:205
+#: ../../WPrefs.app/Preferences.c:277
+msgid "incomplete window titles"
+msgstr "ñúêðàòåíèòå èìåíà íà ïðîçîðöè"
+
+# ../../WPrefs.app/Preferences.c:206
+#: ../../WPrefs.app/Preferences.c:278
+msgid "miniwindow titles"
+msgstr "èìåíàòà íà ìèíèïðîçîð÷åòàòà"
+
+# ../../WPrefs.app/Preferences.c:207
+#: ../../WPrefs.app/Preferences.c:279
+msgid "application/dock icons"
+msgstr "èêîíêèòå íà äîêà è ïðèëîæåíèÿòà"
+
+# ../../WPrefs.app/Preferences.c:208
+#: ../../WPrefs.app/Preferences.c:280
+msgid "internal help"
+msgstr "âúòðåøíà ñïðàâêà"
+
+#: ../../WPrefs.app/Preferences.c:292
+msgid ""
+"Raise window when switching\n"
+"focus with keyboard."
+msgstr ""
+"Äà ñå ïîâäèãà ïðîçîðåöúò ïðè ïðî-\n"
+"ìÿíà íà ôîêóñà ñ êëàâèàòóðàòà."
+
+#: ../../WPrefs.app/Preferences.c:298
+msgid ""
+"Enable keyboard language\n"
+"switch button in window titlebars."
+msgstr ""
+"Áóòîí ÊÈÐ/ËÀÒ âúðõó çàãëàâíà-\n"
+"òà èâèöà íà âñåêè ïðîçîðåö."
+
+#: ../../WPrefs.app/Preferences.c:307
+msgid "Workspace border"
+msgstr "Ãðàíèöà ìåæäó ðàáîòíèòå ìåñòà"
+
+#: ../../WPrefs.app/Preferences.c:323
+msgid "Left/Right"
+msgstr "Ëÿâî/äÿñíî"
+
+#: ../../WPrefs.app/Preferences.c:328
+msgid "Top/Bottom"
+msgstr "Ãîðå/äîëó"
+
+# ../../WPrefs.app/Preferences.c:247
+#: ../../WPrefs.app/Preferences.c:349
+msgid "Miscellaneous Ergonomic Preferences"
+msgstr "Ðàçíè ïðåäïî÷èòàíèÿ êàñàåùè åðãîíîìè÷íîñòòà"
+
+# ../../WPrefs.app/Preferences.c:248
+#: ../../WPrefs.app/Preferences.c:350
+msgid ""
+"Various settings like balloon text, geometry\n"
+"displays etc."
+msgstr ""
+"Ðàçëè÷íè íàñòðîéêè êàòî çà òåêñò â áàëîíè,\n"
+"ñúñòîÿíèå ÊÈÐ/ËÀÒ è äð."
+
+#: ../../WPrefs.app/TexturePanel.c:323
+msgid "Saturation"
+msgstr "Íàñèòåíîñò"
+
+#: ../../WPrefs.app/TexturePanel.c:325
+msgid "Brightness"
+msgstr "ßðêîñò"
+
+#: ../../WPrefs.app/TexturePanel.c:373 ../../WPrefs.app/TexturePanel.c:380
+msgid "Hue"
+msgstr "Öâÿò"
+
+# ../../WPrefs.app/TexturePanel.c:605
+#: ../../WPrefs.app/TexturePanel.c:610
+msgid "Could not load the selected file: "
+msgstr "Íå ìîæå äà ñå çàðåäè èçáðàíèÿò ôàéë: "
+
+# ../../WPrefs.app/TexturePanel.c:1477
+#: ../../WPrefs.app/TexturePanel.c:664
+msgid "Open Image"
+msgstr "Îòâîðè èçîáðàæåíèå"
+
+# ../../WPrefs.app/TexturePanel.c:687
+#: ../../WPrefs.app/TexturePanel.c:694
+msgid "The selected file does not contain a supported image."
+msgstr "Èçáðàíèÿò ôàéë íå ñúäúðæà ïîääúðæàíî èçîáðàæåíèå."
+
+#: ../../WPrefs.app/TexturePanel.c:945
+#, c-format
+msgid "could not load file '%s': %s"
+msgstr "íå ìîæå äà ñå çàðåäè ôàéëúò \"%s\": %s"
+
+#: ../../WPrefs.app/TexturePanel.c:1064
+#, c-format
+msgid "error creating texture %s"
+msgstr "ãðåøêà ïðè ñúçäàâàíå íà òåêñòóðà %s"
+
+# ../../WPrefs.app/TexturePanel.c:1248
+#: ../../WPrefs.app/TexturePanel.c:1254
+msgid "Texture Panel"
+msgstr "Ïàíåë çà òåêñòóðè"
+
+# ../../WPrefs.app/TexturePanel.c:1256
+#: ../../WPrefs.app/TexturePanel.c:1262
+msgid "Texture Name"
+msgstr "Èìå íà òåêñòóðàòà"
+
+# ../../WPrefs.app/TexturePanel.c:1268
+#: ../../WPrefs.app/TexturePanel.c:1274
+msgid "Solid Color"
+msgstr "Ïëúòåí öâÿò"
+
+# ../../WPrefs.app/TexturePanel.c:1269
+#: ../../WPrefs.app/TexturePanel.c:1275
+msgid "Gradient Texture"
+msgstr "Ãðàäèåíòíà òåêñòóðà"
+
+# ../../WPrefs.app/TexturePanel.c:1270
+#: ../../WPrefs.app/TexturePanel.c:1276
+msgid "Simple Gradient Texture"
+msgstr "Ïðîñòà ãðàäèåíòíà òåêñòóðà"
+
+# ../../WPrefs.app/TexturePanel.c:1271
+#: ../../WPrefs.app/TexturePanel.c:1277
+msgid "Textured Gradient"
+msgstr "Òåêñòóðèðàí ãðàäèåíò"
+
+# ../../WPrefs.app/TexturePanel.c:1272
+#: ../../WPrefs.app/TexturePanel.c:1278
+msgid "Image Texture"
+msgstr "Òåêñòóðà çà èçîáðàæåíèå"
+
+# ../../WPrefs.app/TexturePanel.c:1280
+#: ../../WPrefs.app/TexturePanel.c:1286
+msgid "Default Color"
+msgstr "Îñíîâåí öâÿò"
+
+# ../../WPrefs.app/TexturePanel.c:1292
+#: ../../WPrefs.app/TexturePanel.c:1298
+msgid "Gradient Colors"
+msgstr "Öâåòîâå íà ãðàäèåíòà"
+
+# ../../WPrefs.app/TexturePanel.c:1388
+#: ../../WPrefs.app/TexturePanel.c:1394
+msgid "Direction"
+msgstr "Ïîñîêà"
+
+# ../../WPrefs.app/TexturePanel.c:1416
+#: ../../WPrefs.app/TexturePanel.c:1422
+msgid "Gradient"
+msgstr "Ãðàäèåíò"
+
+# ../../WPrefs.app/TexturePanel.c:1434
+#: ../../WPrefs.app/TexturePanel.c:1440
+msgid "Gradient Opacity"
+msgstr "Ïðîçðà÷íîñò íà ãðàäèåíòà"
+
+# ../../WPrefs.app/TexturePanel.c:1477
+#: ../../WPrefs.app/TexturePanel.c:1483
+msgid "Image"
+msgstr "Èçîáðàæåíèå"
+
+# ../../WPrefs.app/TexturePanel.c:1509
+#: ../../WPrefs.app/TexturePanel.c:1515
+msgid "Tile"
+msgstr "Ìîçàéêà"
+
+# ../../WPrefs.app/TexturePanel.c:1510
+#: ../../WPrefs.app/TexturePanel.c:1516
+msgid "Scale"
+msgstr "Óãîëåìåíî"
+
+# ../../WPrefs.app/TexturePanel.c:1512
+#: ../../WPrefs.app/TexturePanel.c:1518
+msgid "Maximize"
+msgstr "Ìàêñèìàëí."
+
+# ../../WPrefs.app/Themes.c:71 ../../WPrefs.app/Themes.c:82
+#: ../../WPrefs.app/Themes.c:71 ../../WPrefs.app/Themes.c:82
+msgid "Set"
+msgstr ""
+
+# ../../WPrefs.app/Themes.c:132
+#: ../../WPrefs.app/Themes.c:132
+msgid "Stop"
+msgstr ""
+
+# ../../WPrefs.app/Themes.c:143 ../../WPrefs.app/Themes.c:204
+# ../../WPrefs.app/Themes.c:224
+#: ../../WPrefs.app/Themes.c:143 ../../WPrefs.app/Themes.c:203
+#: ../../WPrefs.app/Themes.c:223
+msgid "Download"
+msgstr ""
+
+# ../../WPrefs.app/Themes.c:172
+#: ../../WPrefs.app/Themes.c:171
+msgid "Save Current Theme"
+msgstr ""
+
+# ../../WPrefs.app/Themes.c:181
+#: ../../WPrefs.app/Themes.c:180
+msgid "Load"
+msgstr ""
+
+# ../../WPrefs.app/Themes.c:186
+#: ../../WPrefs.app/Themes.c:185
+msgid "Install"
+msgstr ""
+
+# ../../WPrefs.app/Themes.c:194
+#: ../../WPrefs.app/Themes.c:193
+msgid "Tile of The Day"
+msgstr ""
+
+# ../../WPrefs.app/Themes.c:214
+#: ../../WPrefs.app/Themes.c:213
+msgid "Bar of The Day"
+msgstr ""
+
+# ../../WPrefs.app/WPrefs.c:259
+#: ../../WPrefs.app/WPrefs.c:260
+msgid "Window Maker Preferences"
+msgstr "Íàñòðîéêè íà Óèíäîó Ìåéêúð"
+
+# ../../WPrefs.app/WPrefs.c:283
+#: ../../WPrefs.app/WPrefs.c:284
+msgid "Revert Page"
+msgstr "Âúðíè ñòðàíèöà"
+
+# ../../WPrefs.app/WPrefs.c:289
+#: ../../WPrefs.app/WPrefs.c:290
+msgid "Revert All"
+msgstr "Âúðíè âñè÷êè"
+
+# ../../WPrefs.app/WPrefs.c:295
+#: ../../WPrefs.app/WPrefs.c:296
+msgid "Save"
+msgstr "Çàïàçè"
+
+# ../../WPrefs.app/WPrefs.c:308
+#: ../../WPrefs.app/WPrefs.c:309
+msgid "Balloon Help"
+msgstr "Ïîìîù ñ áàëîíè"
+
+# ../../WPrefs.app/WPrefs.c:333
+#: ../../WPrefs.app/WPrefs.c:334
+msgid "Window Maker Preferences Utility"
+msgstr "Èíñòðóìåíò çà íàñòðîéâàíå íà Óèíäîó Ìåéêúð"
+
+# ../../WPrefs.app/WPrefs.c:340
+#: ../../WPrefs.app/WPrefs.c:341
+#, c-format
+msgid "Version %s for Window Maker %s or newer"
+msgstr "Âåðñèÿ %s çà Óèíäîó Ìåéêúð %s èëè ïî-íîâ"
+
+# ../../WPrefs.app/WPrefs.c:348
+#: ../../WPrefs.app/WPrefs.c:349
+msgid "Starting..."
+msgstr "Ñòàðòèðàíå..."
+
+# ../../WPrefs.app/WPrefs.c:354
+#: ../../WPrefs.app/WPrefs.c:355
+msgid ""
+"Programming/Design: Alfredo K. Kojima\n"
+"Artwork: Marco van Hylckama Vlieg, Largo et al\n"
+"More Programming: James Thompson et al"
+msgstr ""
+"Ïðîãðàìèñò è äèçàéíåð: Àëôðåäó Ê. Êîæèìà\n"
+"Õóäîæíèê: Ìàðêî âàí Õèëöêàìà Âëèéã, Ëàðãî è äð.\n"
+"Ïîìîùíèê-ïðîãðàìèñò: Äæåéìñ Òîìïñúí è äð."
+
+# ../../WPrefs.app/WPrefs.c:442
+#: ../../WPrefs.app/WPrefs.c:455
+#, c-format
+msgid "could not locate image file %s\n"
+msgstr "íå ìîæå äà ñå îòêðèå ôàéëà ñ èçîáðàæåíèå %s\n"
+
+# ../../WPrefs.app/WPrefs.c:657
+#: ../../WPrefs.app/WPrefs.c:670
+#, c-format
+msgid "could not load image file %s:%s"
+msgstr "íå ìîæå äà ñå çàðåäè ôàéëúò ñ èçîáðàæåíèå %s:%s"
+
+# ../../WPrefs.app/WPrefs.c:676
+#: ../../WPrefs.app/WPrefs.c:689
+msgid "Loading Window Maker configuration files..."
+msgstr "Çàðåæäàò ñå êîíôèãóðàöèîííèòå ôàéëîâå íà Óèíäîó Ìåéêúð..."
+
+# ../../WPrefs.app/WPrefs.c:680
+#: ../../WPrefs.app/WPrefs.c:693
+msgid "Initializing configuration panels..."
+msgstr "Èíèöèàëèçèðàò ñå êîíôèãóðàöèîííèòå ïàíåëè..."
+
+# ../../WPrefs.app/WPrefs.c:713
+#: ../../WPrefs.app/WPrefs.c:727
+msgid ""
+"WPrefs is free software and is distributed WITHOUT ANY\n"
+"WARRANTY under the terms of the GNU General Public License."
+msgstr ""
+"WPrefs å ñâîáîäåí ñîôòóåð è ñå ðàçïðîñòðàíÿâà ÁÅÇ ÍÈÊÀÊÂÀ ÃÀÐÀÍÖÈß\n"
+"ñïîðåä óñëîâèÿòà íà Îñíîâíàòà îáùîäîñòúïíà ëèöåíçèÿ ÃÍÓ."
+
+# ../../WPrefs.app/WPrefs.c:742 ../../WPrefs.app/WPrefs.c:812
+#: ../../WPrefs.app/WPrefs.c:757 ../../WPrefs.app/WPrefs.c:837
+#, c-format
+msgid "Window Maker domain (%s) is corrupted!"
+msgstr "Îáëàñòòà %s íà Óèíäîó Ìåéêúð å ïîâðåäåíà!"
+
+# ../../WPrefs.app/WPrefs.c:746
+#: ../../WPrefs.app/WPrefs.c:761
+#, c-format
+msgid "Could not load Window Maker domain (%s) from defaults database."
+msgstr "Íå ìîæå äà ñå çàðåäè îáëàñòòà %s íà Óèíäîó Ìåéêúð îò áàçàòà-äàííè ñ ïðåäïî÷èòàíèÿ."
+
+# ../../WPrefs.app/WPrefs.c:759
+#: ../../WPrefs.app/WPrefs.c:777
+msgid "could not extract version information from Window Maker"
+msgstr "íå ìîæå äà ñå èçâëå÷å èíôîðìàöèÿ çà âåðñèÿòà íà Óèíäîó Ìåéêúð"
+
+# ../../WPrefs.app/WPrefs.c:760
+#: ../../WPrefs.app/WPrefs.c:778
+msgid "Make sure wmaker is in your search path."
+msgstr "Óáåäåòå ñå, ÷å wmaker ñå íàìèðà â ïúòåêàòà çà òúðñåíå ($PATH)."
+
+# ../../WPrefs.app/WPrefs.c:763
+#: ../../WPrefs.app/WPrefs.c:781
+msgid ""
+"Could not extract version from Window Maker. Make sure it is correctly "
+"installed and is in your PATH environment variable."
+msgstr ""
+"Íå ìîæå äà ñå èçâëå÷å èíôîðìàöèÿ çà âåðñèÿòà íà Óèíäîó Ìåéêúð. Óáåäåòå ñå,\n"
+"÷å òîé å èíñòàëèðàí ïðàâèëíî è å âêëþ÷åí â ïðîìåíëèâàòà PATH íà îáêðúæåíèåòî."
+
+# ../../WPrefs.app/WPrefs.c:773
+#: ../../WPrefs.app/WPrefs.c:791
+msgid ""
+"Could not extract version from Window Maker. Make sure it is correctly "
+"installed and the path where it installed is in the PATH environment "
+"variable."
+msgstr ""
+"Íå ìîæå äà ñå èçâëå÷å èíôîðìàöèÿ çà âåðñèÿòà íà Óèíäîó Ìåéêúð. Óáåäåòå ñå,\n"
+"÷å òîé å èíñòàëèðàí ïðàâèëíî è ÷å êàòàëîãúò, â êîéòî òîé å èíñòàëèðàí, å\n"
+"âêëþ÷åí â ïðîìåíëèâàòà îò îáêðúæåíèåòî PATH."
+
+# ../../WPrefs.app/WPrefs.c:780
+#: ../../WPrefs.app/WPrefs.c:798
+#, c-format
+msgid ""
+"WPrefs only supports Window Maker 0.18.0 or newer.\n"
+"The version installed is %i.%i.%i\n"
+msgstr ""
+"WPrefs ïîääúðæà ñàìî Óèíäîó Ìåéêúð âåðñèÿ 0.18.0 èëè ñëåäâàùà.\n"
+"Èíñòàëèðàíàòà âåðñèÿ å %i.%i.%i.\n"
+
+# ../../WPrefs.app/WPrefs.c:787
+#: ../../WPrefs.app/WPrefs.c:805
+#, c-format
+msgid ""
+"Window Maker %i.%i.%i, which is installed in your system, is not fully "
+"supported by this version of WPrefs."
+msgstr ""
+"Óèíäîó Ìåéêúð %i.%i.%i, êîéòî å èíñòàëèðàí âúâ Âàøàòà ñèñòåìà, íå ñå\n"
+"ïîääúðæà íàïúëíî îò òàçè âåðñèÿ íà WPrefs."
+
+# ../../WPrefs.app/WPrefs.c:794
+#: ../../WPrefs.app/WPrefs.c:818
+#, c-format
+msgid "could not run \"%s --global_defaults_path\"."
+msgstr "Íå ìîæå äà ñå ñòàðòèðà \"%s --global_defaults_path\"."
+
+# ../../WPrefs.app/WPrefs.c:816
+#: ../../WPrefs.app/WPrefs.c:841
+#, c-format
+msgid "Could not load global Window Maker domain (%s)."
+msgstr "Íå ìîæå äà ñå çàðåäè ãëîáàëíà îáëàñò íà Óèíäîó Ìåéêúð (%s)."
+
+# ../../WPrefs.app/WPrefs.c:1065
+#: ../../WPrefs.app/WPrefs.c:1090
+#, c-format
+msgid ""
+"bad speed value for option %s\n"
+". Using default Medium"
+msgstr ""
+"íåïðàâèëíà ñòîéíîñò çà áúðçèíà íà êëþ÷à %s\n"
+"Ïî ïîäðàçáèðàíå ñå èçïîëçâà \"Ñðåäíà\""
+
+# ../../WPrefs.app/WindowHandling.c:141
+#: ../../WPrefs.app/WindowHandling.c:141
+#, c-format
+msgid "bad option value %s in WindowPlacement. Using default value"
+msgstr "íåïðàâèëíà ñòîéíîñò %s íà îïöèÿ ïðè WindowPlacement.  Ïîëçâà ñå ñòîéíîñòòà ïî ïîäðàçáèðàíå"
+
+# ../../WPrefs.app/WindowHandling.c:163
+#: ../../WPrefs.app/WindowHandling.c:163
+msgid "invalid data in option WindowPlaceOrigin. Using default (0,0)"
+msgstr "íåäîïóñòèìè äàííè ïðè îïöèÿòà WindowPlaceOrigin.  Ïîëçâà ñå ñòîéíîñòòà ïî ïîäðàçáèðàíå (0,0)"
+
+# ../../WPrefs.app/WindowHandling.c:236
+#: ../../WPrefs.app/WindowHandling.c:243
+msgid "Window Placement"
+msgstr "Ðàçïîëàãàíå íà ïðîçîðöèòå"
+
+# ../../WPrefs.app/WindowHandling.c:237
+#: ../../WPrefs.app/WindowHandling.c:244
+msgid ""
+"How to place windows when they are first put\n"
+"on screen."
+msgstr ""
+"Êàê äà ñå ðàçïîëàãàò ïðîçîðöèòå ïðè ïúðâàòà\n"
+"èì ïîÿâà íà åêðàíà."
+
+# ../../WPrefs.app/WindowHandling.c:243
+#: ../../WPrefs.app/WindowHandling.c:250
+msgid "Automatic"
+msgstr "Àâòîìàòè÷íî"
+
+# ../../WPrefs.app/WindowHandling.c:244
+#: ../../WPrefs.app/WindowHandling.c:251
+msgid "Random"
+msgstr "Ñëó÷àéíî"
+
+# ../../WPrefs.app/WindowHandling.c:245
+#: ../../WPrefs.app/WindowHandling.c:252
+msgid "Manual"
+msgstr "Ðú÷íî"
+
+# ../../WPrefs.app/WindowHandling.c:246
+#: ../../WPrefs.app/WindowHandling.c:253
+msgid "Cascade"
+msgstr "Êàñêàäíî"
+
+# ../../WPrefs.app/WindowHandling.c:247
+#: ../../WPrefs.app/WindowHandling.c:254
+msgid "Smart"
+msgstr "Õèòðî"
+
+# ../../WPrefs.app/WindowHandling.c:253
+#: ../../WPrefs.app/WindowHandling.c:260
+msgid "Placement Origin"
+msgstr "Íà÷àëíî ìÿñòî"
+
+# ../../WPrefs.app/WindowHandling.c:313
+#: ../../WPrefs.app/WindowHandling.c:321
+msgid "Opaque Move"
+msgstr "Öÿëîñòíî ìåñòåíå"
+
+# ../../WPrefs.app/WindowHandling.c:314
+#: ../../WPrefs.app/WindowHandling.c:322
+msgid ""
+"Whether the window contents should be moved\n"
+"when dragging windows aroung or if only a\n"
+"frame should be displayed.\n"
+msgstr ""
+"Äàëè ñúäúðæàíèåòî íà ïðîçîðåöà òðÿáâà\n"
+"äà ñå ïðåìåñòâà ïðè âëà÷åíå ñ ìèøêàòà,\n"
+"èëè ñàìî ðàìêàòà íà ïðîçîðåöà òðÿáâà\n"
+"äà ñå èçîáðàçÿâà.\n"
+
+# ../../WPrefs.app/WindowHandling.c:353
+#: ../../WPrefs.app/WindowHandling.c:361
+msgid "When maximizing..."
+msgstr "Ïðè ìàêñèìèçèðàíå ..."
+
+# ../../WPrefs.app/WindowHandling.c:358
+#: ../../WPrefs.app/WindowHandling.c:366
+msgid "...do not cover icons"
+msgstr "... äà íå ñå çàêðèâàò èêîíêèòå"
+
+# ../../WPrefs.app/WindowHandling.c:364
+#: ../../WPrefs.app/WindowHandling.c:372
+msgid "...do not cover dock"
+msgstr "... äà íå ñå çàêðèâà äîêúò"
+
+# ../../WPrefs.app/WindowHandling.c:373
+#: ../../WPrefs.app/WindowHandling.c:381
+msgid "Edge Resistance"
+msgstr "Ñúïðîòèâëåíèå ïî ðúáîâåòå"
+
+# ../../WPrefs.app/WindowHandling.c:375
+#: ../../WPrefs.app/WindowHandling.c:383
+msgid ""
+"Edge resistance will make windows `resist'\n"
+"being moved further for the defined threshold\n"
+"when moved against other windows or the edges\n"
+"of the screen."
+msgstr ""
+"Ñúïðîòèâëåíèå ïî ðúáîâåòå îçíà÷àâà ïðîçîðåöà\n"
+"äà ñå ñúïðîòèâëÿâà äî îïðåäåëåí ïðàã ïðè\n"
+"çàñòúïâàíå íà äðóã ïðîçîðåö èëè íàïóñêàíå\n"
+"íà åêðàíà."
+
+# ../../WPrefs.app/WindowHandling.c:394
+#: ../../WPrefs.app/WindowHandling.c:402
+msgid "Resist"
+msgstr ""
+"Ñúïðî-\n"
+"òèâà"
+
+# ../../WPrefs.app/WindowHandling.c:399
+#: ../../WPrefs.app/WindowHandling.c:407
+msgid "Attract"
+msgstr ""
+"Ïðèâ-\n"
+"ëè÷àíå"
+
+#: ../../WPrefs.app/WindowHandling.c:423
+msgid ""
+"Open dialogs in same workspace\n"
+"as their owners"
+msgstr ""
+"Äèàëîãîâèòå ïðîçîðöè äà ñà íà ðàáîòíîòî\n"
+"ìÿñòî, íà âëàäååùèÿ ãè ïðîçîðåö."
+
+# ../../WPrefs.app/WindowHandling.c:442
+#: ../../WPrefs.app/WindowHandling.c:450
+msgid "Window Handling Preferences"
+msgstr "Ïðåäïî÷èòàíèÿ çà óïðàâëåíèå íà ïðîçîðöèòå"
+
+# ../../WPrefs.app/WindowHandling.c:444
+#: ../../WPrefs.app/WindowHandling.c:452
+msgid ""
+"Window handling options. Initial placement style\n"
+"edge resistance, opaque move etc."
+msgstr ""
+"Îïöèè çà óïðàâëåíèå íà ïðîçîðöèòå. Íà÷èí\n"
+"çà îïðåäåëÿíå íà íà÷àëíîòî ìåñòîïîëîæåíèå,\n"
+"ñúïðîòèâëåíèå ïî ðúáîâåòå, ñòèë íà\n"
+"ïðåìåñòâàíå è äð."
+
+# ../../WPrefs.app/Workspace.c:177
+#: ../../WPrefs.app/Workspace.c:176
+msgid "Workspace Navigation"
+msgstr "Íàâèãàöèÿ ïî ðàáîòíèòå ìåñòà"
+
+#: ../../WPrefs.app/Workspace.c:183
+msgid ""
+"wrap to the first workspace after the\n"
+"last workspace."
+msgstr ""
+"äà ñå ìèíàâà êúì ïúðâîòî ðàáîòíî ìÿñòî\n"
+"ñëåä çàäìèíàâàíå íà ïîñëåäíîòî"
+
+# ../../WPrefs.app/Workspace.c:206
+#: ../../WPrefs.app/Workspace.c:205
+msgid "switch workspaces while dragging windows."
+msgstr ""
+"äà ñå ñìåíÿ ðàáîòíîòî ìÿñòî ïðè\n"
+"âëà÷åíå íà ïðîçîðåö."
+
+# ../../WPrefs.app/Workspace.c:228
+#: ../../WPrefs.app/Workspace.c:227
+msgid "automatically create new workspaces."
+msgstr ""
+"àâòîìàòè÷íî äà ñå ñúçäàâàò íîâè\n"
+"ðàáîòíè ìåñòà."
+
+# ../../WPrefs.app/Workspace.c:251
+#: ../../WPrefs.app/Workspace.c:250
+msgid ""
+"Position of workspace\n"
+"name display"
+msgstr ""
+"Ìÿñòî íà èìåòî íà\n"
+"ðàáîòíîòî ìÿñòî"
+
+# ../../WPrefs.app/Workspace.c:270
+#: ../../WPrefs.app/Workspace.c:269
+msgid "Disable"
+msgstr "Áåç ïîêàçâàíå"
+
+# ../../WPrefs.app/Workspace.c:272
+#: ../../WPrefs.app/Workspace.c:271
+msgid "Top"
+msgstr "Ãîðå"
+
+# ../../WPrefs.app/Workspace.c:273
+#: ../../WPrefs.app/Workspace.c:272
+msgid "Bottom"
+msgstr "Äîëó"
+
+# ../../WPrefs.app/Workspace.c:274
+#: ../../WPrefs.app/Workspace.c:273
+msgid "Top/Left"
+msgstr "Ãîðå âëÿâî"
+
+# ../../WPrefs.app/Workspace.c:275
+#: ../../WPrefs.app/Workspace.c:274
+msgid "Top/Right"
+msgstr "Ãîðå âäÿñíî"
+
+# ../../WPrefs.app/Workspace.c:276
+#: ../../WPrefs.app/Workspace.c:275
+msgid "Bottom/Left"
+msgstr "Äîëó âëÿâî"
+
+# ../../WPrefs.app/Workspace.c:277
+#: ../../WPrefs.app/Workspace.c:276
+msgid "Bottom/Right"
+msgstr "Äîëó âäÿñíî"
+
+# ../../WPrefs.app/Workspace.c:285
+#: ../../WPrefs.app/Workspace.c:284
+msgid "Dock/Clip"
+msgstr "Äîê è Êëàìåð"
+
+# ../../WPrefs.app/Workspace.c:304
+#: ../../WPrefs.app/Workspace.c:303
+msgid ""
+"Disable/enable the application Dock (the\n"
+"vertical icon bar in the side of the screen)."
+msgstr ""
+"Çàáðàíÿâà/ðàçðåøàâà Äîêà íà ïðèëîæåíèÿòà\n"
+"(âåðòèêàëíàòà èâèöà ñ èêîíêè, ñòðàíè÷íî\n"
+"îò åêðàíà)."
+
+# ../../WPrefs.app/Workspace.c:325
+#: ../../WPrefs.app/Workspace.c:324
+msgid ""
+"Disable/enable the Clip (that thing with\n"
+"a paper clip icon)."
+msgstr ""
+"Çàáðàíÿâà/ïîçâîëÿâà Êëàìåðà\n"
+"(íåùîòî, èìàùî èêîíêà ñ êëàìåð)."
+
+# ../../WPrefs.app/Workspace.c:365
+#: ../../WPrefs.app/Workspace.c:364
+msgid "Workspace Preferences"
+msgstr "Ïðåäïî÷èòàíèÿ çà ðàáîòíèòå ìåñòà"
+
+# ../../WPrefs.app/Workspace.c:367
+#: ../../WPrefs.app/Workspace.c:366
+msgid ""
+"Workspace navigation features.\n"
+"You can also enable/disable the Dock and Clip here."
+msgstr ""
+"Ñâîéñòâà íà íàâèãàöèÿòà ïðåç ðàáîòíèòå ìåñòà.\n"
+"Îò òóê ìîæå äà ñå çàáðàíè/ïîëçâîëè è Äîêúò\n"
+"è Êëàìåðúò."
+
+#: ../../WPrefs.app/imagebrowser.c:95
+msgid "View"
+msgstr ""
+
+# ../../WPrefs.app/main.c:74
+#: ../../WPrefs.app/main.c:59
+#, c-format
+msgid "usage: %s [options]\n"
+msgstr "èçïîëçâàíå: %s [ïàðàìåòðè]\n"
+
+# ../../WPrefs.app/main.c:75
+#: ../../WPrefs.app/main.c:60
+msgid "options:"
+msgstr "ïàðàìåòðè:"
+
+# ../../WPrefs.app/main.c:76
+#: ../../WPrefs.app/main.c:61
+msgid " -display <display>\tdisplay to be used"
+msgstr " -display <äèñïëåé>\täèñïëåé äà ñå èçïîëçâà"
+
+# ../../WPrefs.app/main.c:77
+#: ../../WPrefs.app/main.c:62
+msgid " --version\t\tprint version number and exit"
+msgstr " --version\t\tèçâåæäà íîìåð íà âåðñèÿ è èçõîä"
+
+# ../../WPrefs.app/main.c:78
+#: ../../WPrefs.app/main.c:63
+msgid " --help\t\tprint this message and exit"
+msgstr " --help\t\tèçâåæäà òàçè ñïðàâêà è èçõîä"
+
+# ../../WPrefs.app/main.c:137
+#: ../../WPrefs.app/main.c:122
+#, c-format
+msgid "too few arguments for %s"
+msgstr "íåäîñòàòú÷íî àðãóìåíòè çà %s"
+
+# ../../WPrefs.app/main.c:159
+#: ../../WPrefs.app/main.c:144
+msgid "X server does not support locale"
+msgstr "X-ñúðâúðúò íå ïîääúðæà ëîêàëèçàöèÿ"
+
+# ../../WPrefs.app/main.c:162
+#: ../../WPrefs.app/main.c:147
+msgid "cannot set locale modifiers"
+msgstr "íå ìîãàò äà ñå óñòàíîâÿò ìîäèôèêàòîðèòå íà ëîêàëèçàöèÿòà"
+
+# ../../WPrefs.app/main.c:168
+#: ../../WPrefs.app/main.c:153
+#, c-format
+msgid "could not open display %s"
+msgstr "íå ìîæå äà ñå îòâîðè äèñïëåÿò %s"
+
+# ../../WPrefs.app/main.c:176
+#: ../../WPrefs.app/main.c:161
+msgid "could not initialize application"
+msgstr "ïðèëîæåíèåòî íå ìîæå äà áúäå èíèöèàëèçèðàíî"
+
+# ../../WPrefs.app/Expert.c:79
+#~ msgid "Disable cycling color highlighting of icons"
+#~ msgstr "Áåç âúðòåíå íà ïóíêòèð îêîëî ìàðêèðàíèòå èêîíêè."
+
+# ../../WPrefs.app/Focus.c:200
+#~ msgid ""
+#~ "Set keyboard input focus to\n"
+#~ "the window under the mouse pointer,\n"
+#~ "including the root window."
+#~ msgstr ""
+#~ "Ôîêóñúò å çà ïðîçîðåöà, âúðõó\n"
+#~ "êîéòî å ìèøêàòà, â òîâà ÷èñëî\n"
+#~ "è îñíîâíèÿ (ò.í. root) ïðîçîðåö."
+
+# ../../WPrefs.app/Focus.c:254
+#~ msgid "Click window to focus"
+#~ msgstr "Ùðàêíè çà ôîêóñ"
+
+# ../../WPrefs.app/Focus.c:255
+#~ msgid "Focus follows mouse"
+#~ msgstr "Ôîêóñúò ñëåäâà ìèøêàòà"
+
+# ../../WPrefs.app/Focus.c:256
+#~ msgid "\"Sloppy\" focus"
+#~ msgstr "Ïðåëèâàù (ò.í. sloppy) ôîêóñ"
+
+#~ msgid "Btn1 (left)"
+#~ msgstr "Áóò.1 (ëÿâ)"
+
+#~ msgid "Btn2 (middle)"
+#~ msgstr "Áóò.2 (ñðåäåí)"
+
+#~ msgid "Btn3 (right)"
+#~ msgstr "Áóò.3 (äåñåí)"
+
+#~ msgid "Btn4"
+#~ msgstr "Áóò.4"
+
+#~ msgid "Btn5"
+#~ msgstr "Áóò.5"
+
+# ../../WPrefs.app/Menu.c:426
+#~ msgid "Command to Execute"
+#~ msgstr "Äà ñå èçïúëíè êîìàíäàòà"
+
+# ../../WPrefs.app/Menu.c:477 ../../WPrefs.app/Menu.c:478
+#~ msgid "New Command %i"
+#~ msgstr "Íîâà êîìàíäà %i"
+
+# ../../WPrefs.app/Menu.c:497
+#~ msgid "Workspaces"
+#~ msgstr "Ðàáîòíè ìåñòà"
+
+# ../../WPrefs.app/Menu.c:1120 ../../WPrefs.app/Menu.c:1135
+#~ msgid "Add Command"
+#~ msgstr "Äîáàâè êîìàíäà"
+
+# ../../WPrefs.app/Menu.c:1121 ../../WPrefs.app/Menu.c:1136
+#~ msgid "Add Submenu"
+#~ msgstr "Äîáàâè ïîäìåíþ"
+
+# ../../WPrefs.app/Menu.c:1122 ../../WPrefs.app/Menu.c:1137
+#~ msgid "Add External Menu"
+#~ msgstr "Äîáàâè âúíøíî ìåíþ"
+
+# ../../WPrefs.app/Menu.c:1124 ../../WPrefs.app/Menu.c:1139
+#~ msgid "Remove Item"
+#~ msgstr "Ìàõíè åëåìåíòà"
+
+# ../../WPrefs.app/Menu.c:1125 ../../WPrefs.app/Menu.c:1140
+#~ msgid "Cut Item"
+#~ msgstr "Îòðåæè åëåìåíòà"
+
+# ../../WPrefs.app/Menu.c:1126 ../../WPrefs.app/Menu.c:1141
+#~ msgid "Copy Item"
+#~ msgstr "Êîïèðàé åëåìåíòà"
+
+# ../../WPrefs.app/Menu.c:1127 ../../WPrefs.app/Menu.c:1142
+#~ msgid "Paste Item"
+#~ msgstr "Âìúêíè åëåìåíòà"
+
+# ../../WPrefs.app/Menu.c:1173
+#~ msgid "Label"
+#~ msgstr "Åòèêåò"
+
+# ../../WPrefs.app/Menu.c:1192
+#~ msgid "Execute Shell Command"
+#~ msgstr "Êîìàíäà íà îáâèâêàòà"
+
+# ../../WPrefs.app/Menu.c:1194
+#~ msgid "Hide Others"
+#~ msgstr "Ñêðèé äðóãèòå"
+
+# ../../WPrefs.app/Menu.c:1204
+#~ msgid "Legal Panel"
+#~ msgstr "Ëèöåíçèîíåí ïàíåë"
+
+# ../../WPrefs.app/Menu.c:1225
+#~ msgid "Menu Path/Directory List"
+#~ msgstr "Ñïèñúê ôàéëîâå ñ ìåíþòà"
+
+# ../../WPrefs.app/Menu.c:1270
+#~ msgid "Ask help to the Guru"
+#~ msgstr "Èñêàì ïîìîù îò ôàêèðà."
+
+# ../../WPrefs.app/NoMenuAlert.c:94
+#~ msgid ""
+#~ "     The menu that is being used now could not be opened. This either "
+#~ "means that there is a syntax error in it or that the menu is in a format "
+#~ "not supported by WPrefs (WPrefs only supports property list menus).\n"
+#~ "     If you want to keep using the current menu, please read the '%s/%s' "
+#~ "file, press 'Keep Current Menu' and edit it with a text editor.\n"
+#~ "     If you want to use this editor, press 'Copy Default Menu'. It will "
+#~ "copy the default menu and will instruct Window Maker to use it instead of "
+#~ "the current one.\n"
+#~ "     If you want more flexibility, keep using the current one as it "
+#~ "allows you to use C preprocessor (cpp) macros, while being easy to edit. "
+#~ "Window Maker supports both formats."
+#~ msgstr ""
+#~ "    Èçïîëçâàíîòî â ìîìåíòà ìåíþ íå ìîæå äà áúäå îòâîðåíî. Òîâà îçíà÷àâà, "
+#~ "÷å â íåãî èìà ñèíòàêòè÷íà ãðåøêà èëè ÷å ìåíþòî å âúâ ôîðìàò, êîéòî íå ñå "
+#~ "ïîääúðæà îò WPrefs (WPrefs ïîääúðæà ñàìî îáèêíîâåíèòå ìåíþòà \"ñïèñúê îò "
+#~ "ñâîéñòâà\".)\n"
+#~ "    Àêî æåëàåòå äà çàïàçèòå èçïîëçâàíåòî íà òåêóùîòî ìåíþ, ìîëÿ ïðî÷åòåòå "
+#~ "ôàéëà \"%s/%s\", íàòèñíåòå áóòîíà <Çàïàçè ñåãàøíîòî ìåíþ> è ãî "
+#~ "ðåäàêòèðàéòå ñ òåêñòîâ ðåäàêòîð.\n"
+#~ "    Àêî æåëàåòå äà èçïîëçâàòå òîçè ðåäàêòîð íà ìåíþòà, íàòèñíåòå <Êîïèðàé "
+#~ "ñòàíäàðòíîòî ìåíþ>. Òîâà ùå íàêàðà Óèíäîó Ìåéêúð äà èçïîëçâà ñòàíäàðòíîòî "
+#~ "ìåíþ âìåñòî òåêóùîòî.\n"
+#~ "    Àêî æåëàåòè ïîâå÷å ãúâêàâîñò, çàïàçåòå èçïîëçâàíåòî íà òåêóùîòî ìåíþ, "
+#~ "çàùîòî òî äàâà âúçìîæíîñò äà ñå èçïîëçâà ïðåäïðîöåñîðíè ìàêðîñè (êàòî çà "
+#~ "cpp), à ñúùåâðåìåííî å ëåñíî çà ðåäàêòèðàíå. Óèíäîó Ìåéêúð ïîääúðæà è "
+#~ "äâàòà ôîðìàòà."
+
+# ../../WPrefs.app/NoMenuAlert.c:113
+#~ msgid "Copy Default Menu"
+#~ msgstr "Êîïèðàé ñòàíäàðòíîòî ìåíþ"
+
+# ../../WPrefs.app/MenuGuru.c:106
+#~ msgid "Menu Guru - Select Type"
+#~ msgstr "Ôàêèð çà ìåíþòà - êàêúâ âèä"
+
+# ../../WPrefs.app/MenuGuru.c:111 ../../WPrefs.app/MenuGuru.c:133
+# ../../WPrefs.app/MenuGuru.c:251
+#~ msgid "Next"
+#~ msgstr "Ïî-íàòàòúê"
+
+# ../../WPrefs.app/MenuGuru.c:114
+#~ msgid "Menu Guru - Select Menu File"
+#~ msgstr "Ôàêèð çà ìåíþòà - êîé ôàéë ìåíþ"
+
+# ../../WPrefs.app/MenuGuru.c:122
+#~ msgid "Menu Guru - Select Pipe Command"
+#~ msgstr "Ôàêèð çà ìåíþòà - êàêúâ ïðîãðàìåí êàíàë"
+
+# ../../WPrefs.app/MenuGuru.c:129
+#~ msgid "Menu Guru - Select Directories"
+#~ msgstr "Ôàêèð çà ìåíþòà - êîè äèðåêòîðèè"
+
+# ../../WPrefs.app/MenuGuru.c:136
+#~ msgid "Menu Guru - Select Command"
+#~ msgstr "Ôàêèð çà ìåíþòà - êîÿ êîìàíäà"
+
+# ../../WPrefs.app/MenuGuru.c:257
+#~ msgid "Back"
+#~ msgstr "Âúðíè"
+
+# ../../WPrefs.app/MenuGuru.c:271
+#~ msgid ""
+#~ "This process will help you create a submenu which definition is located "
+#~ "in another file or is created dynamically.\n"
+#~ "What do you want to use as the contents of the submenu?"
+#~ msgstr ""
+#~ "Òîçè ïðîöåñ ùå Âè ïîìîãíå äà íàïðàâèòå ïîäìåíþ,\n"
+#~ "÷èÿòî äåôèíèöèÿ ñå íàìèðà â äðóã ôàéë èëè ñå ñúçäàâà äèíàìè÷íî. Âúçìîæíè "
+#~ "èçòî÷íèöè íà ïîäìåíþòî:"
+
+# ../../WPrefs.app/MenuGuru.c:279
+#~ msgid ""
+#~ "A file containing the menu definition in the plain text (non-property "
+#~ "list) menu format."
+#~ msgstr ""
+#~ "Ôàéë, äåôèíèðàù ìåíþòî â ôîðìàò îáèêíîâåí òåêñò (íå ñïèñúê ñâîéñòâà)."
+
+# ../../WPrefs.app/MenuGuru.c:285
+#~ msgid ""
+#~ "The menu definition generated by a script/program read through a pipe."
+#~ msgstr "Ìåíþòî ñå ãåíåðèðà îò ïðîãðàìà è ñå ÷åòå ïðåç ïðîãðàìåí êàíàë."
+
+# ../../WPrefs.app/MenuGuru.c:291
+#~ msgid "The files in one or more directories."
+#~ msgstr "Ôàéëîâåòå â åäíà èëè ïîâå÷å äèðåêòîðèè."
+
+# ../../WPrefs.app/MenuGuru.c:303
+#~ msgid "Type the path for the menu file:"
+#~ msgstr "Âúâåäåòå ïúëíîòî èìå íà ôàéëà ñ ìåíþ:"
+
+# ../../WPrefs.app/MenuGuru.c:318
+#~ msgid ""
+#~ "The menu file must contain a menu in the plain text menu file format. "
+#~ "This format is described in the menu files included with WindowMaker, "
+#~ "probably at ~/GNUstep/Library/WindowMaker/menu"
+#~ msgstr ""
+#~ "Ôàéëúò ñ ìåíþ òðÿáâà äà áúäå â ïðîñò òåêñòîâ ôîðìàò. Òîçè ôîðìàò å îïèñàí "
+#~ "âúâ ôàéëîâåòå ìåíþòà, ñúïðîâîæäàùè Óèíäîó Ìåéêúð, âåðîÿòíî â ~/GNUstep/"
+#~ "Library/WindowMaker/menu"
+
+# ../../WPrefs.app/MenuGuru.c:328
+#~ msgid "Type the command that will generate the menu definition:"
+#~ msgstr "Âúâåäåòå êîìàíäàòà, êîÿòî ùå ãåíåðèðà äåôèíèöèÿòà íà ìåíþòî:"
+
+# ../../WPrefs.app/MenuGuru.c:338
+#~ msgid ""
+#~ "The command supplied must generate and output a valid menu definition to "
+#~ "stdout. This definition should be in the plain text menu file format, "
+#~ "described in the menu files included with WindowMaker, usually at ~/"
+#~ "GNUstep/Library/WindowMaker/menu"
+#~ msgstr ""
+#~ "Çàäàäåíàòà êîìàíäà òðÿáâà äà ãåíåðèðà è èçâåäå âàëèäíà äåôèíèöèÿ íà ìåíþ "
+#~ "íà ñòàíäàðòíèÿ ñè èçõîä. Òàçè äåôèíèöèÿ òðÿáâà äà áúäå â ïðîñòèÿ òåêñòîâ "
+#~ "ôîðìàò, îïèñàí âúâ ôàéëîâåòå ìåíþòà, ñúïðîâîæäàùè Óèíäîó Ìåéêúð, "
+#~ "îáèêíîâåíî â ~/GNUstep/Library/WindowMaker/menu"
+
+# ../../WPrefs.app/MenuGuru.c:350 ../../WPrefs.app/MenuGuru.c:372
+# ../../WPrefs.app/MenuGuru.c:394
+#~ msgid ""
+#~ "Type the path for the directory. You can type more than one path by "
+#~ "separating them with spaces."
+#~ msgstr ""
+#~ "Âúâåäåòå ïúòÿ äî äèðåêòîðèÿòà. Ìîæå äà âúâåäåòå ïîâå÷å îò åäèí ïúò, àêî "
+#~ "ãî îòäåëèòå ñ èíòåðâàëè."
+
+# ../../WPrefs.app/MenuGuru.c:361 ../../WPrefs.app/MenuGuru.c:383
+# ../../WPrefs.app/MenuGuru.c:405
+#~ msgid ""
+#~ "The menu generated will have an item for each file in the directory. The "
+#~ "directories can contain program executables or data files (such as jpeg "
+#~ "images)."
+#~ msgstr ""
+#~ "Ãåíåðèðàíîòî ìåíþ ùå èìà åëåìåíò çà âñåêè îò ôàéëîâåòå â äèðåêòîðèÿòà. "
+#~ "Äèðåêòîðèèòå ìîãàò äà ñúäúðæàò èçïúëíèìè ôàéëîâå èëè ôàéëîâå ñ äàííè "
+#~ "(íàïð. .jpeg-ôàéëîâå)."
+
+# ../../WPrefs.app/MenuGuru.c:415
+#~ msgid ""
+#~ "If the directory contain data files, type the command used to open these "
+#~ "files. Otherwise, leave it in blank."
+#~ msgstr ""
+#~ "Àêî äèðåêòîðèÿòà ñúäúðæà ôàéëîâå ñ äàííè, âúâåäåòå êîìàíäàòà çà îòâàðÿíå "
+#~ "íà òåçè ôàéëîâå. Â ïðîòèâåí ñëó÷àé îñòàâåòå ïîëåòî ïðàçíî."
+
+# ../../WPrefs.app/MenuGuru.c:426
+#~ msgid ""
+#~ "Each file in the directory will have an item and they will be opened with "
+#~ "the supplied command.For example, if the directory contains image files "
+#~ "and the command is \"xv -root\", each file in the directory will have a "
+#~ "menu item like \"xv -root imagefile\"."
+#~ msgstr ""
+#~ "Âñåêè ôàéë â äèðåêòîðèÿòà ùå èìà åëåìåíò â ìåíþòî è ùå ñå îòâàðÿ ñ "
+#~ "ïîñî÷åíàòà êîìàíäà. Íàïðèìåð àêî äèðåêòîðèÿòà ñúäúðæà ôàéëîâå ñ "
+#~ "èçîáðàæåíèÿ è êîìàíäàòà å \"xv -root\", òî âñåêè ôàéë â äèðåêòîðèÿòà ùå "
+#~ "èìà åëåìåíò â ìåíþòî îò âèäà \"xv -root ôàéë\"."
+
+#~ msgid "drag windows between workspaces."
+#~ msgstr "ïðîçîðöèòå äà ñå âëà÷àò ïðåç ðàáîòíè ìåñòà"
+
+#~ msgid ""
+#~ "switch to first workspace when switching past the last workspace and vice-"
+#~ "versa"
+#~ msgstr ""
+#~ "äà ñå ìèíå êúì ïúðâîòî ðàáîòíî ìÿñòî ñëåä çàäìèíàâàíå íà ïîñëåäíîòî è "
+#~ "îáðàòíî"
diff -Naur WindowMaker-0.80.2/WPrefs.app/po/ca.po wm-xft2/WPrefs.app/po/ca.po
--- WindowMaker-0.80.2/WPrefs.app/po/ca.po	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/WPrefs.app/po/ca.po	2003-10-22 14:29:45.000000000 +0400
@@ -0,0 +1,2177 @@
+# Catalan messages for WindowMaker WPrefs.app.
+# Copyright (C) 2002 Ernest Adrogué.
+# This file is distributed under the terms of the GNU General Public License.
+#
+# Version history:
+# 	WP-ver	author			email			date
+# 	0.45	Ernest Adrogué		eadrogue@gmx.net	04 Dec 2002
+#
+msgid ""
+msgstr ""
+"Project-Id-Version: wprefs 0.45\n"
+"POT-Creation-Date: 2003-02-23 16:58+0100\n"
+"PO-Revision-Date: 2002-12-06 15:06+0100\n"
+"Last-Translator: Ernest Adrogué <eadrogue@gmx.net>\n"
+"Language-Team: Catalan <ca@dodds.net>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=iso-8859-1\n"
+"Content-Transfer-Encoding: 8bit\n"
+
+#: ../../WPrefs.app/Appearance.c:1131
+msgid "Select File"
+msgstr "Sel·leccionar un fitxer"
+
+#: ../../WPrefs.app/Appearance.c:1533
+msgid "Focused Window"
+msgstr "Finestra enfocada"
+
+#: ../../WPrefs.app/Appearance.c:1537
+msgid "Unfocused Window"
+msgstr "Finestra desenfocada"
+
+#: ../../WPrefs.app/Appearance.c:1541
+msgid "Owner of Focused Window"
+msgstr "Amo de la finestra enfocada"
+
+#: ../../WPrefs.app/Appearance.c:1545 ../../WPrefs.app/Appearance.c:1862
+msgid "Menu Title"
+msgstr "Títol de menú"
+
+#: ../../WPrefs.app/Appearance.c:1549 ../../WPrefs.app/Appearance.c:1551
+msgid "Normal Item"
+msgstr "Ítem normal"
+
+#: ../../WPrefs.app/Appearance.c:1555
+msgid "Disabled Item"
+msgstr "Inhabilitat"
+
+#: ../../WPrefs.app/Appearance.c:1564
+msgid "Highlighted"
+msgstr "Seleccionat"
+
+#: ../../WPrefs.app/Appearance.c:1755
+msgid "Texture"
+msgstr "Textura"
+
+#: ../../WPrefs.app/Appearance.c:1763
+msgid "Titlebar of Focused Window"
+msgstr "Títol de finestra enfocada"
+
+#: ../../WPrefs.app/Appearance.c:1764
+msgid "Titlebar of Unfocused Windows"
+msgstr "Títol de finestra desenfocada"
+
+#: ../../WPrefs.app/Appearance.c:1765
+msgid "Titlebar of Focused Window's Owner"
+msgstr "Títol d'amo de finestra enfocada"
+
+#: ../../WPrefs.app/Appearance.c:1766
+msgid "Window Resizebar"
+msgstr "Barra de redimensionament"
+
+#: ../../WPrefs.app/Appearance.c:1767
+msgid "Titlebar of Menus"
+msgstr "Barra de títol de menú"
+
+#: ../../WPrefs.app/Appearance.c:1768
+msgid "Menu Items"
+msgstr "Ítems de menú"
+
+#: ../../WPrefs.app/Appearance.c:1769
+msgid "Icon Background"
+msgstr "Fons d'icones"
+
+#: ../../WPrefs.app/Appearance.c:1784
+msgid ""
+"Double click in the texture you want to use\n"
+"for the selected item."
+msgstr ""
+"Feu doble clic sobre la textura que volgueu\n"
+"utilitzar per a l'element seleccionat."
+
+#: ../../WPrefs.app/Appearance.c:1798
+msgid "New"
+msgstr "Nova"
+
+#: ../../WPrefs.app/Appearance.c:1802
+msgid "Create a new texture."
+msgstr "Crea una textura nova."
+
+#: ../../WPrefs.app/Appearance.c:1810
+msgid "Extract..."
+msgstr "Extreu..."
+
+#: ../../WPrefs.app/Appearance.c:1814
+msgid "Extract texture(s) from a theme or a style file."
+msgstr ""
+"Extreu una textura (o vàries)\n"
+"d'un fitxer de tema o estil."
+
+#: ../../WPrefs.app/Appearance.c:1824
+msgid "Edit"
+msgstr "Edita"
+
+#: ../../WPrefs.app/Appearance.c:1827
+msgid "Edit the highlighted texture."
+msgstr "Edita la textura seleccionada."
+
+#: ../../WPrefs.app/Appearance.c:1835 ../../WPrefs.app/TexturePanel.c:1316
+msgid "Delete"
+msgstr "Elimina"
+
+#: ../../WPrefs.app/Appearance.c:1839
+msgid "Delete the highlighted texture."
+msgstr "Elimina la textura seleccionada."
+
+#: ../../WPrefs.app/Appearance.c:1852
+msgid "Color"
+msgstr "Color"
+
+#: ../../WPrefs.app/Appearance.c:1859
+msgid "Focused Window Title"
+msgstr "Títol de finestra enfocada"
+
+#: ../../WPrefs.app/Appearance.c:1860
+msgid "Unfocused Window Title"
+msgstr "Títol de finestra desenfocada"
+
+#: ../../WPrefs.app/Appearance.c:1861
+msgid "Owner of Focused Window Title"
+msgstr "Títol d'amo de finestra enfocada"
+
+#: ../../WPrefs.app/Appearance.c:1863
+msgid "Menu Item Text"
+msgstr "Text d'ítem de menú"
+
+#: ../../WPrefs.app/Appearance.c:1864
+msgid "Disabled Menu Item Text"
+msgstr "Text d'ítem de menú inhabilitat"
+
+#: ../../WPrefs.app/Appearance.c:1865
+msgid "Menu Highlight Color"
+msgstr "Color d'ítem de menú seleccionat"
+
+#: ../../WPrefs.app/Appearance.c:1866
+msgid "Highlighted Menu Text Color"
+msgstr "Color de text d'ítem seleccionat"
+
+#: ../../WPrefs.app/Appearance.c:1905
+msgid "Background"
+msgstr "Fons"
+
+#: ../../WPrefs.app/Appearance.c:1917 ../../WPrefs.app/TexturePanel.c:1503
+msgid "Browse..."
+msgstr "Fulleja..."
+
+#: ../../WPrefs.app/Appearance.c:1930
+msgid "Options"
+msgstr "Opcions"
+
+#: ../../WPrefs.app/Appearance.c:1937
+msgid "Menu Style"
+msgstr "Estil dels menús"
+
+#: ../../WPrefs.app/Appearance.c:1965 ../../WPrefs.app/Configurations.c:242
+#: ../../WPrefs.app/Configurations.c:254 ../../WPrefs.app/Focus.c:288
+#: ../../WPrefs.app/Focus.c:299 ../../WPrefs.app/MenuPreferences.c:134
+#: ../../WPrefs.app/MenuPreferences.c:145
+#: ../../WPrefs.app/MenuPreferences.c:173
+#: ../../WPrefs.app/MenuPreferences.c:188 ../../WPrefs.app/MouseSettings.c:560
+#: ../../WPrefs.app/MouseSettings.c:571 ../../WPrefs.app/WPrefs.c:558
+#: ../../WPrefs.app/WPrefs.c:583
+#, c-format
+msgid "could not load icon file %s"
+msgstr "no s'ha pogut carregar el fitxer d'icona %s"
+
+#: ../../WPrefs.app/Appearance.c:1979
+msgid "Title Alignment"
+msgstr "Alineació del títol"
+
+#: ../../WPrefs.app/Appearance.c:1986
+msgid "Left"
+msgstr "Esquerra"
+
+# al tanto amb el context
+#: ../../WPrefs.app/Appearance.c:1989 ../../WPrefs.app/TexturePanel.c:1517
+#: ../../WPrefs.app/Workspace.c:270
+msgid "Center"
+msgstr "Centra"
+
+#: ../../WPrefs.app/Appearance.c:1992
+msgid "Right"
+msgstr "Dreta"
+
+#: ../../WPrefs.app/Appearance.c:2216
+msgid "Appearance Preferences"
+msgstr "Preferències d'aparença"
+
+#: ../../WPrefs.app/Appearance.c:2218
+msgid ""
+"Background texture configuration for windows,\n"
+"menus and icons."
+msgstr ""
+"Configuració de les textures de fons\n"
+"per a finestres, menús i icones."
+
+#: ../../WPrefs.app/Appearance.c:2263
+msgid "Extract Texture"
+msgstr "Extreu textura"
+
+#: ../../WPrefs.app/Appearance.c:2283
+msgid "Textures"
+msgstr "Textures"
+
+#: ../../WPrefs.app/Appearance.c:2294 ../../WPrefs.app/WPrefs.c:302
+msgid "Close"
+msgstr "Tanca"
+
+#: ../../WPrefs.app/Appearance.c:2299
+msgid "Extract"
+msgstr "Extreu"
+
+#: ../../WPrefs.app/Configurations.c:150 ../../WPrefs.app/Configurations.c:156
+#: ../../WPrefs.app/MouseSettings.c:490 ../../WPrefs.app/WindowHandling.c:339
+#: ../../WPrefs.app/WindowHandling.c:351 ../../WPrefs.app/Workspace.c:90
+#: ../../WPrefs.app/Workspace.c:101
+#, c-format
+msgid "could not load icon %s"
+msgstr "no s'ha pogut carregar el fitxer d'icona %s"
+
+#: ../../WPrefs.app/Configurations.c:164 ../../WPrefs.app/Workspace.c:109
+#, c-format
+msgid "could not process icon %s:"
+msgstr "no s'ha pogut processar l'icona %s:"
+
+#: ../../WPrefs.app/Configurations.c:189 ../../WPrefs.app/Workspace.c:164
+#, c-format
+msgid "could not load image file %s"
+msgstr "no s'ha pogut carregar el fitxer d'imatge %s"
+
+#: ../../WPrefs.app/Configurations.c:203
+msgid "Icon Slide Speed"
+msgstr "Velocitat de lliscament de les icones"
+
+#: ../../WPrefs.app/Configurations.c:209
+msgid "Shade Animation Speed"
+msgstr "Velocitat de l'animació d'ombrejat"
+
+#: ../../WPrefs.app/Configurations.c:271
+msgid "Smooth Scaling"
+msgstr "Escalat suau"
+
+#: ../../WPrefs.app/Configurations.c:272
+msgid ""
+"Smooth scaled background images, neutralizing\n"
+"the `pixelization' effect. This will slow\n"
+"down loading of background images considerably."
+msgstr ""
+"Escala les imatges de fons amb suavitat, eliminant\n"
+"l'efecte de \"pixelització\". Això fa augmentar el temps\n"
+"de càrrega de les imatges considerablement."
+
+#: ../../WPrefs.app/Configurations.c:313
+msgid "Titlebar Style"
+msgstr "Estil dels botons"
+
+#: ../../WPrefs.app/Configurations.c:351
+msgid "Animations and Sound"
+msgstr "Animacions i sons"
+
+#: ../../WPrefs.app/Configurations.c:357
+msgid "Animations"
+msgstr "Animacions"
+
+#: ../../WPrefs.app/Configurations.c:368
+msgid ""
+"Disable/enable animations such as those shown\n"
+"for window miniaturization, shading etc."
+msgstr ""
+"Habilita o inhabilita les animacions tals com les\n"
+"que es produeixen quan es miniaturitza una finestra,\n"
+"s'ombreja, et cetera."
+
+#: ../../WPrefs.app/Configurations.c:376
+msgid "Superfluous"
+msgstr "Superflu"
+
+#: ../../WPrefs.app/Configurations.c:387
+msgid ""
+"Disable/enable `superfluous' features and\n"
+"animations. These include the `ghosting' of the\n"
+"dock when it's being moved to another side and\n"
+"the explosion animation when undocking icons."
+msgstr ""
+"Habilita o inhabilita les funcions i animacions\n"
+"supèrflues, com per exemple l'imatge \"espectral\"\n"
+"del Moll quan es canvia de lloc, o l'efecte\n"
+"d'explosió quan es desancora una icona."
+
+#: ../../WPrefs.app/Configurations.c:397
+msgid "Sounds"
+msgstr "Sons"
+
+#: ../../WPrefs.app/Configurations.c:408
+msgid ""
+"Disable/enable support for sound effects played\n"
+"for actions like shading and closing a window.\n"
+"You will need a module distributed separately\n"
+"for this. You can get it at:\n"
+"http://shadowmere.student.utwente.nl/"
+msgstr ""
+"Habilita o inhabilita els efectes de so que se\n"
+"senten, per exemple, quan s'ombreja o es tanca una\n"
+"finestra. Per habilitar aquesta funció necessiteu\n"
+"un mòdul que es distribueix per separat i que podeu\n"
+"trobar a: http://shadowmere.student.utwente.nl/"
+
+#: ../../WPrefs.app/Configurations.c:419
+msgid ""
+"Note: sound requires a module distributed\n"
+"separately"
+msgstr ""
+"Nota: els efectes de so requereixen un mòdul que\n"
+"es distribueix per separat"
+
+#: ../../WPrefs.app/Configurations.c:429
+msgid "Dithering colormap for 8bpp"
+msgstr "Difuminat del mapa de colors per 8bpp"
+
+#: ../../WPrefs.app/Configurations.c:431
+msgid ""
+"Number of colors to reserve for Window Maker\n"
+"on displays that support only 8bpp (PseudoColor)."
+msgstr ""
+"Nombre de colors que es reserva Window Maker en\n"
+"pantalles que només suporten 8bpp (PseudoColor)."
+
+#: ../../WPrefs.app/Configurations.c:438
+msgid "Disable dithering in any visual/depth"
+msgstr "Inhabilita el difuminat en totes les resolucions/profunditats"
+
+#: ../../WPrefs.app/Configurations.c:459
+msgid ""
+"More colors for\n"
+"applications"
+msgstr ""
+"Més colors per\n"
+"les aplicacions"
+
+#: ../../WPrefs.app/Configurations.c:466
+msgid ""
+"More colors for\n"
+"Window Maker"
+msgstr ""
+"Més colors per\n"
+"Window Maker"
+
+#: ../../WPrefs.app/Configurations.c:521
+msgid "Other Configurations"
+msgstr "Altres configuracions"
+
+#: ../../WPrefs.app/Configurations.c:523
+msgid ""
+"Animation speeds, titlebar styles, various option\n"
+"toggling and number of colors to reserve for\n"
+"Window Maker on 8bit displays."
+msgstr ""
+"Velocitat de les animacions, estils de la barra de títol,\n"
+"vàries opcions generals i el nombre de colors que es\n"
+"reserva Window Maker en pantalles de 8 bits."
+
+#: ../../WPrefs.app/Expert.c:75
+msgid ""
+"Disable miniwindows (icons for miniaturized windows). For use with KDE/GNOME."
+msgstr "Inhabilita les minifinestres (per a l'ús amb KDE/GNOME)."
+
+#: ../../WPrefs.app/Expert.c:76
+msgid "Do not set non-WindowMaker specific parameters (do not use xset)."
+msgstr "No estableix paràmetres no específics de Window Maker (no usa xset)."
+
+#: ../../WPrefs.app/Expert.c:77
+msgid "Automatically save session when exiting Window Maker."
+msgstr "Desa la sessió automàticament en sortir de Window Maker."
+
+#: ../../WPrefs.app/Expert.c:78
+msgid "Use SaveUnder in window frames, icons, menus and other objects."
+msgstr ""
+"Usa la funció \"SaveUnder\" en marcs de finestres, icones, menús i altres "
+"objectes."
+
+#: ../../WPrefs.app/Expert.c:79
+msgid "Use Windoze style cycling."
+msgstr "Usa l'estil de rotació de finestres del Windoze."
+
+#: ../../WPrefs.app/Expert.c:80
+msgid "Disable confirmation panel for the Kill command."
+msgstr "No demana confirmació per l'ordre \"Finalitzar\"."
+
+#: ../../WPrefs.app/Expert.c:81
+msgid "Disable selection animation for selected icons."
+msgstr "Inhabilita l'animació de selecció per les icones seleccionades."
+
+#: ../../WPrefs.app/Expert.c:115
+msgid "Expert User Preferences"
+msgstr "Preferències per a usuaris experimentats"
+
+#: ../../WPrefs.app/Expert.c:117
+msgid ""
+"Options for people who know what they're doing...\n"
+"Also have some other misc. options."
+msgstr ""
+"Opcions per a la gent que sap què té entre mans.\n"
+"I tambés algunes altres opcions diverses."
+
+#: ../../WPrefs.app/Focus.c:80
+#, c-format
+msgid "bad option value %s for option FocusMode. Using default Manual"
+msgstr ""
+"el valor %s de l'opció FocusModu no és vàlid. S'usa el valor per omissió "
+"\"Manual\""
+
+#: ../../WPrefs.app/Focus.c:94
+#, c-format
+msgid "bad option value %s for option ColormapMode. Using default Auto"
+msgstr ""
+"el valor %s de l'opció ColormapMode no és vàlid. S'usa el valor per omissió "
+"\"Auto\""
+
+#: ../../WPrefs.app/Focus.c:214
+msgid "Input Focus Mode"
+msgstr "Mode d'enfocament"
+
+#: ../../WPrefs.app/Focus.c:222
+msgid "Manual:  Click on the window to set keyboard input focus"
+msgstr "Manual:  Fer clic sobre la finestra per tal d'enfocar-la"
+
+#: ../../WPrefs.app/Focus.c:229
+msgid "Auto:  Set keyboard input focus to the window under the mouse pointer"
+msgstr "Auto:  Enfoca la finestra que es troba sota el punter del ratolí"
+
+#: ../../WPrefs.app/Focus.c:243
+msgid "Install colormap in the window..."
+msgstr "Instal·lar el mapa de color a la finestra..."
+
+#: ../../WPrefs.app/Focus.c:248
+msgid "...that has the input focus."
+msgstr "...que està enfocada."
+
+#: ../../WPrefs.app/Focus.c:253
+msgid "...that is under the mouse pointer."
+msgstr "...que està sota el punter del ratolí."
+
+#: ../../WPrefs.app/Focus.c:262
+msgid "Automatic Window Raise Delay"
+msgstr "Elevació automàtica de la finestra"
+
+#: ../../WPrefs.app/Focus.c:319 ../../WPrefs.app/MouseSettings.c:601
+msgid "msec"
+msgstr "mseg"
+
+#: ../../WPrefs.app/Focus.c:336
+msgid ""
+"Do not let applications receive\n"
+"the click used to focus windows."
+msgstr ""
+"No permetre que les aplicacions\n"
+"rebin el clic utilitzat per\n"
+"enfocar la finestra."
+
+#: ../../WPrefs.app/Focus.c:342
+msgid ""
+"Automatically focus new\n"
+"windows."
+msgstr ""
+"Enfoca les finestres noves\n"
+"automàticament."
+
+#: ../../WPrefs.app/Focus.c:363
+msgid "Window Focus Preferences"
+msgstr "Preferències d'enfocament de les finestres"
+
+#: ../../WPrefs.app/Focus.c:365
+msgid ""
+"Keyboard focus switching policy, colormap switching\n"
+"policy for 8bpp displays and other related options."
+msgstr ""
+"Mode d'alternança d'enfocament de finestres, mapes de\n"
+"color (per pantalles de 8bpp) i opcions relacionades."
+
+#: ../../WPrefs.app/Font.c:276
+msgid "Could not locate font information file WPrefs.app/font.data"
+msgstr ""
+"No s'ha trobat el fitxer d'informació de tipus de lletra WPrefs.app/font.data"
+
+#: ../../WPrefs.app/Font.c:282
+msgid "Could not read font information file WPrefs.app/font.data"
+msgstr ""
+"No s'ha pogut llegir el fitxer d'informació de tipus de lletra WPrefs.app/"
+"font.data"
+
+#: ../../WPrefs.app/Font.c:293
+msgid ""
+"Invalid data in font information file WPrefs.app/font.data.\n"
+"Encodings data not found."
+msgstr ""
+"Les dades del fitxer d'informació de tipus de lletra WPrefs.app/font.data\n"
+"no són vàlides. No s'han trobat les dades de codificació."
+
+#: ../../WPrefs.app/Font.c:298
+msgid "- Custom -"
+msgstr "- Personalitzat -"
+
+#: ../../WPrefs.app/Font.c:329 ../../WPrefs.app/Menu.c:1594
+#: ../../WPrefs.app/MouseSettings.c:140 ../../WPrefs.app/MouseSettings.c:160
+#: ../../WPrefs.app/TexturePanel.c:613 ../../WPrefs.app/TexturePanel.c:693
+#: ../../WPrefs.app/Themes.c:96 ../../WPrefs.app/WPrefs.c:758
+#: ../../WPrefs.app/WPrefs.c:763 ../../WPrefs.app/WPrefs.c:780
+#: ../../WPrefs.app/WPrefs.c:790 ../../WPrefs.app/WPrefs.c:800
+#: ../../WPrefs.app/WPrefs.c:838 ../../WPrefs.app/WPrefs.c:843
+msgid "Error"
+msgstr "Error"
+
+#: ../../WPrefs.app/Font.c:329 ../../WPrefs.app/Menu.c:1594
+#: ../../WPrefs.app/MouseSettings.c:142 ../../WPrefs.app/MouseSettings.c:162
+#: ../../WPrefs.app/TexturePanel.c:614 ../../WPrefs.app/TexturePanel.c:695
+#: ../../WPrefs.app/TexturePanel.c:1528 ../../WPrefs.app/Themes.c:98
+#: ../../WPrefs.app/WPrefs.c:758 ../../WPrefs.app/WPrefs.c:763
+#: ../../WPrefs.app/WPrefs.c:782 ../../WPrefs.app/WPrefs.c:794
+#: ../../WPrefs.app/WPrefs.c:800 ../../WPrefs.app/WPrefs.c:807
+#: ../../WPrefs.app/WPrefs.c:838 ../../WPrefs.app/WPrefs.c:843
+#: ../../WPrefs.app/imagebrowser.c:105
+msgid "OK"
+msgstr "D'acord"
+
+#: ../../WPrefs.app/Font.c:376
+msgid "Default Font Sets"
+msgstr "Conjunts de fonts per omissió"
+
+#: ../../WPrefs.app/Font.c:389
+msgid "Font Set"
+msgstr "Conjunt de fonts"
+
+#: ../../WPrefs.app/Font.c:418
+msgid "Add..."
+msgstr "Afegeix..."
+
+#: ../../WPrefs.app/Font.c:423 ../../WPrefs.app/Font.c:438
+msgid "Change..."
+msgstr "Canvia..."
+
+#: ../../WPrefs.app/Font.c:428 ../../WPrefs.app/Paths.c:288
+#: ../../WPrefs.app/Paths.c:319
+msgid "Remove"
+msgstr "Elimina"
+
+#: ../../WPrefs.app/Font.c:477
+msgid "Font Preferences"
+msgstr "Preferències de tipus de lletres"
+
+#: ../../WPrefs.app/Font.c:478
+msgid "Font Configurations for Windows, Menus etc"
+msgstr "Configuració dels tipus de lletra per finestres, menús, et cetera."
+
+#: ../../WPrefs.app/Icons.c:180
+msgid "Icon Positioning"
+msgstr "Posició de les icones"
+
+#: ../../WPrefs.app/Icons.c:227
+msgid "Iconification Animation"
+msgstr "Animació d'iconificació"
+
+#: ../../WPrefs.app/Icons.c:238
+msgid "Shrinking/Zooming"
+msgstr "Reducció/Ampliació"
+
+#: ../../WPrefs.app/Icons.c:239
+msgid "Spinning/Twisting"
+msgstr "Giravoltes"
+
+#: ../../WPrefs.app/Icons.c:240
+msgid "3D-flipping"
+msgstr "Tombarelles (3D)"
+
+#: ../../WPrefs.app/Icons.c:241 ../../WPrefs.app/MouseSettings.c:838
+#: ../../WPrefs.app/MouseSettings.c:843
+msgid "None"
+msgstr "Cap ni una"
+
+#: ../../WPrefs.app/Icons.c:254
+msgid "Auto-arrange icons"
+msgstr "Arranja les icones automàticament"
+
+#: ../../WPrefs.app/Icons.c:256
+msgid "Keep icons and miniwindows arranged all the time."
+msgstr "Manté les icones i minifestres arranjades en tot moment."
+
+#: ../../WPrefs.app/Icons.c:262
+msgid "Omnipresent miniwindows"
+msgstr "Minifinestres omnipresents"
+
+#: ../../WPrefs.app/Icons.c:264
+msgid "Make miniwindows be present in all workspaces."
+msgstr "Fa les minifinestres presents en tots els escriptoris."
+
+#: ../../WPrefs.app/Icons.c:273
+msgid "Icon Size"
+msgstr "Mida de les icones"
+
+#: ../../WPrefs.app/Icons.c:275
+msgid "The size of the dock/application icon and miniwindows"
+msgstr "Mida del moll, icones d'aplicació i minifinestres"
+
+#: ../../WPrefs.app/Icons.c:345
+msgid "Icon Preferences"
+msgstr "Preferències d'icones"
+
+#: ../../WPrefs.app/Icons.c:347
+msgid ""
+"Icon/Miniwindow handling options. Icon positioning\n"
+"area, sizes of icons, miniaturization animation style."
+msgstr ""
+"Opcions pel maneig d'icones i minifinestres. Posició,\n"
+"mides i estil de les animacions de miniaturització."
+
+#: ../../WPrefs.app/KeyboardSettings.c:73
+msgid "Initial Key Repeat"
+msgstr "Repetició inicial de tecla"
+
+#: ../../WPrefs.app/KeyboardSettings.c:114
+msgid "Key Repeat Rate"
+msgstr "Taxa de repetició"
+
+#: ../../WPrefs.app/KeyboardSettings.c:154
+msgid "Type here to test"
+msgstr "Teclejeu aquí per provar-ho"
+
+#: ../../WPrefs.app/KeyboardSettings.c:173
+msgid "Keyboard Preferences"
+msgstr "Preferències del teclat"
+
+#: ../../WPrefs.app/KeyboardSettings.c:175
+msgid "Not done"
+msgstr "En preparació"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:306 ../../WPrefs.app/Menu.c:360
+#: ../../WPrefs.app/TexturePanel.c:1534 ../../WPrefs.app/imagebrowser.c:100
+msgid "Cancel"
+msgstr "Cancel·la"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:307
+msgid "Press the desired shortcut key(s) or click Cancel to stop capturing."
+msgstr ""
+"Premeu la tecla o tecles que volgueu vincular i després feu clic sobre "
+"Cancel·la."
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:327
+#: ../../WPrefs.app/KeyboardShortcuts.c:577 ../../WPrefs.app/Menu.c:371
+#: ../../WPrefs.app/Menu.c:830
+msgid "Capture"
+msgstr "Captura"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:328
+#: ../../WPrefs.app/KeyboardShortcuts.c:585
+msgid "Click Capture to interactively define the shortcut key."
+msgstr "Cliqueu sobre Captura per establir vincles de tecles interactivament."
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:483
+msgid "Actions"
+msgstr "Accions"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:499
+msgid "Open applications menu"
+msgstr "Obre el menú d'aplicacions"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:500
+msgid "Open window list menu"
+msgstr "Obre la llista de finestres"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:501
+msgid "Open window commands menu"
+msgstr "Obre el menú d'ordres de finestra"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:502
+msgid "Hide active application"
+msgstr "Amaga l'aplicació activa"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:503
+msgid "Hide other applications"
+msgstr "Amaga les altres aplicacions"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:504
+msgid "Miniaturize active window"
+msgstr "Miniaturitza l'aplicació activa"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:505
+msgid "Close active window"
+msgstr "Tanca la finestra activa"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:506
+msgid "Maximize active window"
+msgstr "Maximitza la finestra activa"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:507
+msgid "Maximize active window vertically"
+msgstr "Maximitza verticalment la finestra activa"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:508
+msgid "Maximize active window horizontally"
+msgstr "Maximitza horitzontalment la finestra activa"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:509
+msgid "Raise active window"
+msgstr "Eleva la finestra activa"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:510
+msgid "Lower active window"
+msgstr "Abaixa la finestra activa"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:511
+msgid "Raise/Lower window under mouse pointer"
+msgstr "Eleva/Abaixa la finestra sota el punter del ratolí"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:512
+msgid "Shade active window"
+msgstr "Ombreja la finestra activa"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:513
+msgid "Move/Resize active window"
+msgstr "Mou/Redimensiona la finestra activa"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:514
+msgid "Select active window"
+msgstr "Selecciona la finestra activa"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:515
+msgid "Focus next window"
+msgstr "Enfoca la següent finestra"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:516
+msgid "Focus previous window"
+msgstr "Enfoca la finestra prèvia"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:517
+msgid "Switch to next workspace"
+msgstr "Canvia al següent escriptori"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:518
+msgid "Switch to previous workspace"
+msgstr "Canvia a l'escriptori previ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:519
+msgid "Switch to next ten workspaces"
+msgstr "Salta els deu escriptoris següents"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:520
+msgid "Switch to previous ten workspaces"
+msgstr "Salta els deu escriptoris previs"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:521
+msgid "Switch to workspace 1"
+msgstr "Canvia a l'escriptori 1"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:522
+msgid "Switch to workspace 2"
+msgstr "Canvia a l'escriptori 2"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:523
+msgid "Switch to workspace 3"
+msgstr "Canvia a l'escriptori 3"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:524
+msgid "Switch to workspace 4"
+msgstr "Canvia a l'escriptori 4"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:525
+msgid "Switch to workspace 5"
+msgstr "Canvia a l'escriptori 5"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:526
+msgid "Switch to workspace 6"
+msgstr "Canvia a l'escriptori 6"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:527
+msgid "Switch to workspace 7"
+msgstr "Canvia a l'escriptori 7"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:528
+msgid "Switch to workspace 8"
+msgstr "Canvia a l'escriptori 8"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:529
+msgid "Switch to workspace 9"
+msgstr "Canvia a l'escriptori 9"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:530
+msgid "Switch to workspace 10"
+msgstr "Canvia a l'escriptori 10"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:531
+msgid "Shortcut for window 1"
+msgstr "Drecera a la finestra 1"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:532
+msgid "Shortcut for window 2"
+msgstr "Drecera a la finestra 2"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:533
+msgid "Shortcut for window 3"
+msgstr "Drecera a la finestra 3"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:534
+msgid "Shortcut for window 4"
+msgstr "Drecera a la finestra 4"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:535
+msgid "Shortcut for window 5"
+msgstr "Drecera a la finestra 5"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:536
+msgid "Shortcut for window 6"
+msgstr "Drecera a la finestra 6"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:537
+msgid "Shortcut for window 7"
+msgstr "Drecera a la finestra 7"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:538
+msgid "Shortcut for window 8"
+msgstr "Drecera a la finestra 8"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:539
+msgid "Shortcut for window 9"
+msgstr "Drecera a la finestra 9"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:540
+msgid "Shortcut for window 10"
+msgstr "Drecera a la finestra 10"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:541
+msgid "Switch to Next Screen/Monitor"
+msgstr "Canvia a la següent pantalla/monitor"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:542
+msgid "Raise Clip"
+msgstr "Eleva el Clip"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:543
+msgid "Lower Clip"
+msgstr "Abaixa el Clip"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:544
+msgid "Raise/Lower Clip"
+msgstr "Eleva/Abaixa el Clip"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:546
+msgid "Toggle keyboard language"
+msgstr "Commuta el llenguatge del teclat"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:560
+msgid "Shortcut"
+msgstr "Vincula"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:571 ../../WPrefs.app/Menu.c:836
+msgid "Clear"
+msgstr "Oblida"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:633
+msgid "Keyboard Shortcut Preferences"
+msgstr "Preferències de vincles de tecla"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:635
+msgid ""
+"Change the keyboard shortcuts for actions such\n"
+"as changing workspaces and opening menus."
+msgstr ""
+"Permet establir o canviar vincles de tecla per\n"
+"accions tals com canviar d'escriptori o obrir menús."
+
+#: ../../WPrefs.app/Menu.c:278
+msgid "Select Program"
+msgstr "Seleccionar programa"
+
+#: ../../WPrefs.app/Menu.c:510
+msgid "New Items"
+msgstr "Elements Nous"
+
+#: ../../WPrefs.app/Menu.c:511
+msgid "Sample Commands"
+msgstr "Ordres d'exemple"
+
+#: ../../WPrefs.app/Menu.c:512
+msgid "Sample Submenus"
+msgstr "Submenús d'exemple"
+
+#: ../../WPrefs.app/Menu.c:526
+msgid "Run Program"
+msgstr "Executa programa"
+
+#: ../../WPrefs.app/Menu.c:527
+msgid "Internal Command"
+msgstr "Ordre interna"
+
+#: ../../WPrefs.app/Menu.c:528
+msgid "Submenu"
+msgstr "Submenú"
+
+#: ../../WPrefs.app/Menu.c:529
+msgid "External Submenu"
+msgstr "Submenú extern"
+
+#: ../../WPrefs.app/Menu.c:530
+msgid "Generated Submenu"
+msgstr "Submenú generat"
+
+#: ../../WPrefs.app/Menu.c:531
+msgid "Directory Contents"
+msgstr "Contingut d'un directori"
+
+#: ../../WPrefs.app/Menu.c:532
+msgid "Workspace Menu"
+msgstr "Menú d'escriptori"
+
+#: ../../WPrefs.app/Menu.c:533 ../../WPrefs.app/MouseSettings.c:840
+msgid "Window List Menu"
+msgstr "Llista de finestres"
+
+#: ../../WPrefs.app/Menu.c:552
+msgid "XTerm"
+msgstr "XTerm"
+
+#: ../../WPrefs.app/Menu.c:555
+msgid "rxvt"
+msgstr "rxvt"
+
+#: ../../WPrefs.app/Menu.c:558
+msgid "ETerm"
+msgstr "ETerm"
+
+#: ../../WPrefs.app/Menu.c:561
+msgid "Run..."
+msgstr "Executa..."
+
+#: ../../WPrefs.app/Menu.c:562
+msgid "%a(Run,Type command to run)"
+msgstr "%a(Executar,Entreu l'ordre a executar)"
+
+#: ../../WPrefs.app/Menu.c:564
+msgid "Netscape"
+msgstr "Netscape"
+
+#: ../../WPrefs.app/Menu.c:567
+msgid "gimp"
+msgstr "El Gimp"
+
+#: ../../WPrefs.app/Menu.c:570
+msgid "epic"
+msgstr "epic"
+
+#: ../../WPrefs.app/Menu.c:573
+msgid "ee"
+msgstr "ee"
+
+#: ../../WPrefs.app/Menu.c:576
+msgid "xv"
+msgstr "xv"
+
+#: ../../WPrefs.app/Menu.c:579
+msgid "Acrobat Reader"
+msgstr "Acrobat Reader"
+
+#: ../../WPrefs.app/Menu.c:582
+msgid "ghostview"
+msgstr "ghostview"
+
+#: ../../WPrefs.app/Menu.c:585 ../../WPrefs.app/Menu.c:857
+msgid "Exit Window Maker"
+msgstr "Sortir de Window Maker"
+
+#: ../../WPrefs.app/Menu.c:608
+msgid "Debian Menu"
+msgstr "Menú de Debian"
+
+#: ../../WPrefs.app/Menu.c:611
+msgid "RedHat Menu"
+msgstr "Menú de RedHat"
+
+#: ../../WPrefs.app/Menu.c:614
+msgid "Menu Conectiva"
+msgstr "Menú de Conectiva"
+
+#: ../../WPrefs.app/Menu.c:617 ../../WPrefs.app/Themes.c:250
+msgid "Themes"
+msgstr "Temes"
+
+#: ../../WPrefs.app/Menu.c:622
+msgid "Bg Images (scale)"
+msgstr "Imatge de fons (escala)"
+
+#: ../../WPrefs.app/Menu.c:627
+msgid "Bg Images (tile)"
+msgstr "Imatge de fons (repeteix)"
+
+#: ../../WPrefs.app/Menu.c:632
+msgid "Assorted XTerms"
+msgstr "Vàries XTerms"
+
+#: ../../WPrefs.app/Menu.c:634
+msgid "XTerm Yellow on Blue"
+msgstr "XTerm groc sobre blau"
+
+#: ../../WPrefs.app/Menu.c:637
+msgid "XTerm White on Black"
+msgstr "XTerm blanc sobre negre"
+
+#: ../../WPrefs.app/Menu.c:640
+msgid "XTerm Black on White"
+msgstr "XTerm negre sobre blanc"
+
+#: ../../WPrefs.app/Menu.c:643
+msgid "XTerm Black on Beige"
+msgstr "XTerm negre sobre beix"
+
+#: ../../WPrefs.app/Menu.c:646
+msgid "XTerm White on Green"
+msgstr "XTerm blanc sobre verd"
+
+#: ../../WPrefs.app/Menu.c:649
+msgid "XTerm White on Olive"
+msgstr "XTerm blanc sobre verd fosc"
+
+#: ../../WPrefs.app/Menu.c:652
+msgid "XTerm Blue on Blue"
+msgstr "Xterm blau sobre blau"
+
+#: ../../WPrefs.app/Menu.c:655
+msgid "XTerm BIG FONTS"
+msgstr "XTerm FONTS GRANS"
+
+#: ../../WPrefs.app/Menu.c:677
+msgid "Program to Run"
+msgstr "Programa a executar"
+
+#: ../../WPrefs.app/Menu.c:687
+msgid "Browse"
+msgstr "Fulleja"
+
+#: ../../WPrefs.app/Menu.c:698
+msgid "Run the program inside a Xterm"
+msgstr "Executa en una XTerm"
+
+#: ../../WPrefs.app/Menu.c:708
+msgid "Path for Menu"
+msgstr "Camí d'accés pel menú"
+
+#: ../../WPrefs.app/Menu.c:721
+msgid ""
+"Enter the path for a file containing a menu\n"
+"or a list of directories with the programs you\n"
+"want to have listed in the menu. Ex:\n"
+"~/GNUstep/Library/WindowMaker/menu\n"
+"or\n"
+"/usr/X11R6/bin ~/xbin"
+msgstr ""
+"Entreu el camí d'accés a un fitxer que contingui\n"
+"el menú, o una llista de directoris amb els\n"
+"programes que voleu que apareguin al menú. Per exemple,\n"
+"~/GNUstep/Library/WindowMaker/menu, o bé\n"
+"/usr/X11R6/bin ~/xbin"
+
+#: ../../WPrefs.app/Menu.c:736
+msgid "Command"
+msgstr "Ordre"
+
+#: ../../WPrefs.app/Menu.c:750
+msgid ""
+"Enter a command that outputs a menu\n"
+"definition to stdout when invoked."
+msgstr ""
+"Entreu una ordre que generi una definició\n"
+"de menú a l'eixida estàndard quan s'invoca."
+
+#: ../../WPrefs.app/Menu.c:758
+msgid ""
+"Cache menu contents after opening for\n"
+"the first time"
+msgstr ""
+"Fa una còpia \"cache\" del menú quan\n"
+"s'obra per primera vegada"
+
+#: ../../WPrefs.app/Menu.c:769
+msgid "Command to Open Files"
+msgstr "Ordre per obrir els fitxers"
+
+#: ../../WPrefs.app/Menu.c:783
+msgid ""
+"Enter the command you want to use to open the\n"
+"files in the directories listed below."
+msgstr ""
+"Indiqueu l'ordre que voleu usar per obrir els\n"
+"fitxers dels directoris llistats tot seguit."
+
+#: ../../WPrefs.app/Menu.c:792
+msgid "Directories with Files"
+msgstr "Directoris amb fitxers"
+
+#: ../../WPrefs.app/Menu.c:805
+msgid "Strip extensions from file names"
+msgstr "No mostra les extensions dels fitxers"
+
+#: ../../WPrefs.app/Menu.c:817
+msgid "Keyboard Shortcut"
+msgstr "Vincle de tecla"
+
+#: ../../WPrefs.app/Menu.c:853
+msgid "Arrange Icons"
+msgstr "Arranja icones"
+
+#: ../../WPrefs.app/Menu.c:854
+msgid "Hide All Windows Except For The Focused One"
+msgstr "Amaga totes les finestres tret de l'enfocada"
+
+#: ../../WPrefs.app/Menu.c:855
+msgid "Show All Windows"
+msgstr "Mostra totes les finestres"
+
+#: ../../WPrefs.app/Menu.c:858
+msgid "Exit X Session"
+msgstr "Surt de la sessió X"
+
+#: ../../WPrefs.app/Menu.c:859
+msgid "Restart Window Maker"
+msgstr "Reinicia Window Maker"
+
+#: ../../WPrefs.app/Menu.c:860
+msgid "Start Another Window Manager   : ("
+msgstr "Inicia un altre gestor de finestres   : ("
+
+#: ../../WPrefs.app/Menu.c:862
+msgid "Save Current Session"
+msgstr "Desa la sessió actual"
+
+#: ../../WPrefs.app/Menu.c:863
+msgid "Clear Saved Session"
+msgstr "Oblida la sessió desada"
+
+#: ../../WPrefs.app/Menu.c:864
+msgid "Refresh Screen"
+msgstr "Refresca la pantalla"
+
+#: ../../WPrefs.app/Menu.c:865
+msgid "Open Info Panel"
+msgstr "Obre el panell d'informació"
+
+#: ../../WPrefs.app/Menu.c:866
+msgid "Open Copyright Panel"
+msgstr "Obre el panell d'assumptes legals"
+
+#: ../../WPrefs.app/Menu.c:872
+msgid "Window Manager to Start"
+msgstr "Gestor de finestres a iniciar"
+
+#: ../../WPrefs.app/Menu.c:888
+msgid "Do not confirm action."
+msgstr "No confirmar"
+
+#: ../../WPrefs.app/Menu.c:898
+msgid ""
+"Instructions:\n"
+"\n"
+" - drag items from the left to the menu to add new items\n"
+" - drag items out of the menu to remove items\n"
+" - drag items in menu to change their position\n"
+" - drag items with Control pressed to copy them\n"
+" - double click in a menu item to change the label\n"
+" - click on a menu item to change related information"
+msgstr ""
+"Instruccions:\n"
+"\n"
+"- afegiu ítems movent-los des de l'esquerra al menú\n"
+"- moveu els ítems fora del menú per eliminar-los\n"
+"- canvieu la posició d'un ítem movent-lo dins del menú\n"
+"- copieu un ítem movent-lo prement la tecla Control\n"
+"- feu doble clic en un ítem per canviar-li la etiqueta\n"
+"- feu clic en un ítem per editar l'info. relacionada"
+
+#: ../../WPrefs.app/Menu.c:1122
+#, c-format
+msgid "unknown command '%s' in menu"
+msgstr "ordre '%s' desconeguda en el menú"
+
+#: ../../WPrefs.app/Menu.c:1154
+msgid ": Execute Program"
+msgstr ": Executar programa"
+
+#: ../../WPrefs.app/Menu.c:1158
+msgid ": Perform Internal Command"
+msgstr ": Ordre interna"
+
+#: ../../WPrefs.app/Menu.c:1162
+msgid ": Open a Submenu"
+msgstr ": Obrir submenú"
+
+#: ../../WPrefs.app/Menu.c:1166
+msgid ": Program Generated Submenu"
+msgstr ": Submenú generat per un programa"
+
+#: ../../WPrefs.app/Menu.c:1170
+msgid ": Directory Contents Menu"
+msgstr ": Contingut d'un directori"
+
+#: ../../WPrefs.app/Menu.c:1174
+msgid ": Open Workspaces Submenu"
+msgstr ": Obrir menú d'escriptori"
+
+#: ../../WPrefs.app/Menu.c:1178
+msgid ": Open Window List Submenu"
+msgstr ": Obrir llista de finestres"
+
+#: ../../WPrefs.app/Menu.c:1403
+msgid "Remove Submenu"
+msgstr "Eliminar submenú"
+
+#: ../../WPrefs.app/Menu.c:1404
+msgid ""
+"Removing this item will destroy all items inside\n"
+"the submenu. Do you really want to do that?"
+msgstr ""
+"Eliminant aquest element també eliminareu tots els\n"
+"elements que es trobin dins del submenú.\n"
+"Esteu segurs que voleu continuar?"
+
+#: ../../WPrefs.app/Menu.c:1406
+msgid "Yes"
+msgstr "Sí"
+
+#: ../../WPrefs.app/Menu.c:1406
+msgid "No"
+msgstr "No"
+
+#: ../../WPrefs.app/Menu.c:1407
+msgid "Yes, don't ask again."
+msgstr "Sí, no tornis a preguntar-m'ho."
+
+#. if there is a localized plmenu for the tongue put it's filename here
+#: ../../WPrefs.app/Menu.c:1575 ../../WPrefs.app/Menu.c:1582
+#, c-format
+msgid "%s/Library/WindowMaker/plmenu"
+msgstr "%s/Library/WindowMaker/plmenu"
+
+#: ../../WPrefs.app/Menu.c:1591
+#, c-format
+msgid "Could not open default menu from '%s'"
+msgstr "No s'ha pogut obrir el menú per omissió de '%s'"
+
+#: ../../WPrefs.app/Menu.c:1629 ../../WPrefs.app/WPrefs.c:807
+msgid "Warning"
+msgstr "Atenció"
+
+#: ../../WPrefs.app/Menu.c:1630
+msgid ""
+"The menu file format currently in use is not supported\n"
+"by this tool. Do you want to discard the current menu\n"
+"to use this tool?"
+msgstr ""
+"Aquesta eina no suporta el format de menú usat\n"
+"actualment. Voleu descartar el menú actual?"
+
+#: ../../WPrefs.app/Menu.c:1633
+msgid "Yes, Discard and Update"
+msgstr "Sí, descarta i actualitza"
+
+#: ../../WPrefs.app/Menu.c:1634
+msgid "No, Keep Current Menu"
+msgstr "No, deixa el que hi ha ara"
+
+#: ../../WPrefs.app/Menu.c:1897
+msgid "Applications Menu Definition"
+msgstr "Definició del menú d'aplicacions"
+
+#: ../../WPrefs.app/Menu.c:1899
+msgid "Edit the menu for launching applications."
+msgstr "Edita el menú per executar aplicacions."
+
+#: ../../WPrefs.app/MenuPreferences.c:111
+msgid "Menu Scrolling Speed"
+msgstr "Velocitat de desplaçament dels menús"
+
+#: ../../WPrefs.app/MenuPreferences.c:160
+msgid "Submenu Alignment"
+msgstr "Alineació dels submenús"
+
+#: ../../WPrefs.app/MenuPreferences.c:204
+msgid ""
+"Always open submenus inside the screen, instead of scrolling.\n"
+"Note: this is annoying."
+msgstr ""
+"Obre sempre els submenús dins la pantalla, en lloc de desplaçar-los.\n"
+"Nota: això pot resultar molest."
+
+#: ../../WPrefs.app/MenuPreferences.c:209
+msgid "Scroll off-screen menus when pointer is moved over them."
+msgstr ""
+"Desplaça els menús que no caben a la pantalla quan el punter es mou\n"
+"sobre ells."
+
+#: ../../WPrefs.app/MenuPreferences.c:229
+msgid "Menu Preferences"
+msgstr "Preferències de menús"
+
+#: ../../WPrefs.app/MenuPreferences.c:231
+msgid ""
+"Menu usability related options. Scrolling speed,\n"
+"alignment of submenus etc."
+msgstr ""
+"Opcions relacionades amb l'ús de menús. Velocitat\n"
+"de desplaçament, alineació dels submenús, etc."
+
+#: ../../WPrefs.app/MouseSettings.c:141
+msgid "Invalid mouse acceleration value. Must be a positive real value."
+msgstr ""
+"El valor d'acceleració del ratolí no és vàlid. Ha de ser un nombre real "
+"positiu."
+
+#: ../../WPrefs.app/MouseSettings.c:161
+msgid ""
+"Invalid mouse acceleration threshold value. Must be the number of pixels to "
+"travel before accelerating."
+msgstr ""
+"El valor del llindar d'acceleració del ratolí no és vàlid. Ha de ser el "
+"nombre de píxels que es recorren abans de començar a accelerar."
+
+#: ../../WPrefs.app/MouseSettings.c:262 ../../WPrefs.app/MouseSettings.c:274
+#: ../../WPrefs.app/MouseSettings.c:286 ../../WPrefs.app/MouseSettings.c:298
+#, c-format
+msgid "bad value %s for option %s"
+msgstr "el valor %s de l'opció %s no és vàlid"
+
+#: ../../WPrefs.app/MouseSettings.c:357
+#, c-format
+msgid ""
+"modifier key %s for option ModifierKey was not recognized. Using %s as "
+"default"
+msgstr ""
+"la tecla de modificació %s en l'opció ModifierKey és desconeguda. S'usa el "
+"valor per omissió %s."
+
+#: ../../WPrefs.app/MouseSettings.c:382
+msgid "could not retrieve keyboard modifier mapping"
+msgstr "no s'han pogut obtenir els codis de la tecla de modificació"
+
+#: ../../WPrefs.app/MouseSettings.c:477
+msgid "Mouse Speed"
+msgstr "Velocitat del ratolí"
+
+#: ../../WPrefs.app/MouseSettings.c:507
+msgid "Acceler.:"
+msgstr "Acceler.:"
+
+#: ../../WPrefs.app/MouseSettings.c:520
+msgid "Threshold:"
+msgstr "Llindar:"
+
+#: ../../WPrefs.app/MouseSettings.c:535
+msgid "Double-Click Delay"
+msgstr "Retard de doble-clic"
+
+#: ../../WPrefs.app/MouseSettings.c:579
+msgid "Test"
+msgstr "Prova"
+
+#: ../../WPrefs.app/MouseSettings.c:609
+msgid "Workspace Mouse Actions"
+msgstr "Accions del ratolí a l'àrea de l'escriptori"
+
+#: ../../WPrefs.app/MouseSettings.c:614
+msgid "Disable mouse actions"
+msgstr "Inhabilita els vincles de menú"
+
+#: ../../WPrefs.app/MouseSettings.c:620
+msgid "Left Button"
+msgstr "Botó esquerra"
+
+#: ../../WPrefs.app/MouseSettings.c:630
+msgid "Middle Button"
+msgstr "Botó del mig"
+
+#: ../../WPrefs.app/MouseSettings.c:640
+msgid "Right Button"
+msgstr "Botó dret"
+
+#: ../../WPrefs.app/MouseSettings.c:650
+msgid "Mouse Wheel"
+msgstr "Roda"
+
+#: ../../WPrefs.app/MouseSettings.c:672
+msgid "Mouse Grab Modifier"
+msgstr "Tecla de modificació"
+
+#: ../../WPrefs.app/MouseSettings.c:674
+msgid ""
+"Keyboard modifier to use for actions that\n"
+"involve dragging windows with the mouse,\n"
+"clicking inside the window."
+msgstr ""
+"La tecla modificadora a usar per les accions\n"
+"que impliquin arrossegar finestres amb el ratolí,\n"
+"clicant dins de la finestra en qüestió."
+
+#: ../../WPrefs.app/MouseSettings.c:708
+#, c-format
+msgid "could not create %s"
+msgstr "no s'ha pogut crear %s"
+
+#: ../../WPrefs.app/MouseSettings.c:724
+#, c-format
+msgid "could not create temporary file %s"
+msgstr "no s'ha pogut crear el fitxer temporal %s"
+
+#: ../../WPrefs.app/MouseSettings.c:756
+#, c-format
+msgid "could not rename file %s to %s\n"
+msgstr "no s'ha pogut reanomenar el fitxer %s a %s\n"
+
+#: ../../WPrefs.app/MouseSettings.c:829
+msgid "Shift"
+msgstr "Shift"
+
+#: ../../WPrefs.app/MouseSettings.c:830
+msgid "Lock"
+msgstr "Lock"
+
+#: ../../WPrefs.app/MouseSettings.c:831
+msgid "Control"
+msgstr "Control"
+
+#: ../../WPrefs.app/MouseSettings.c:832
+msgid "Mod1"
+msgstr "Mod1"
+
+#: ../../WPrefs.app/MouseSettings.c:833
+msgid "Mod2"
+msgstr "Mod2"
+
+#: ../../WPrefs.app/MouseSettings.c:834
+msgid "Mod3"
+msgstr "Mod3"
+
+#: ../../WPrefs.app/MouseSettings.c:835
+msgid "Mod4"
+msgstr "Mod4"
+
+#: ../../WPrefs.app/MouseSettings.c:836
+msgid "Mod5"
+msgstr "Mod5"
+
+#: ../../WPrefs.app/MouseSettings.c:839
+msgid "Applications Menu"
+msgstr "Menú d'aplicacions"
+
+#: ../../WPrefs.app/MouseSettings.c:841
+msgid "Select Windows"
+msgstr "Selecciona finestres"
+
+#: ../../WPrefs.app/MouseSettings.c:844
+msgid "Switch Workspaces"
+msgstr "Canvia d'escriptori"
+
+#: ../../WPrefs.app/MouseSettings.c:849
+msgid "Mouse Preferences"
+msgstr "Preferències del ratolí"
+
+#: ../../WPrefs.app/MouseSettings.c:851
+msgid ""
+"Mouse speed/acceleration, double click delay,\n"
+"mouse button bindings etc."
+msgstr ""
+"Volocitat i acceleració del ratolí, retard\n"
+"de doble clic, vincles dels botons, etc."
+
+#: ../../WPrefs.app/Paths.c:84
+msgid "bad value in option IconPath. Using default path list"
+msgstr ""
+"valor incorrecte a l'opció IconPath. S'usa la llista de camins per omissió"
+
+#: ../../WPrefs.app/Paths.c:101
+msgid "bad value in option PixmapPath. Using default path list"
+msgstr ""
+"valor incorrecte a l'opció PixmapPath. S'usa la llista de camins per omissió"
+
+#: ../../WPrefs.app/Paths.c:149
+msgid "Select directory"
+msgstr "Trieu un directori"
+
+#: ../../WPrefs.app/Paths.c:270
+msgid "Icon Search Paths"
+msgstr "Camins de recerca d'icones"
+
+#: ../../WPrefs.app/Paths.c:281 ../../WPrefs.app/Paths.c:312
+#: ../../WPrefs.app/TexturePanel.c:1310
+msgid "Add"
+msgstr "Afegeix"
+
+#: ../../WPrefs.app/Paths.c:301
+msgid "Pixmap Search Paths"
+msgstr "Camins de recerca de mapes de bits"
+
+#: ../../WPrefs.app/Paths.c:341
+msgid "Search Path Configuration"
+msgstr "Configuració de camins de recerca"
+
+#: ../../WPrefs.app/Paths.c:343
+msgid ""
+"Search paths to use when looking for pixmaps\n"
+"and icons."
+msgstr "Camins a on buscar icones i mapes de bits."
+
+#: ../../WPrefs.app/Preferences.c:75
+msgid "OFF"
+msgstr "0 píxels"
+
+#: ../../WPrefs.app/Preferences.c:77
+msgid "1 pixel"
+msgstr "1 píxel"
+
+#. 2-4
+#: ../../WPrefs.app/Preferences.c:80
+#, c-format
+msgid "%i pixels"
+msgstr "%i píxels"
+
+#. >4
+#: ../../WPrefs.app/Preferences.c:83
+#, c-format
+msgid "%i pixels "
+msgstr "%i píxels "
+
+#: ../../WPrefs.app/Preferences.c:229
+msgid "Size Display"
+msgstr "Visor de mida"
+
+#: ../../WPrefs.app/Preferences.c:231
+msgid ""
+"The position or style of the window size\n"
+"display that's shown when a window is resized."
+msgstr ""
+"La posició o estil del visor de mida que\n"
+"apareix quan una finestra es redimensiona."
+
+#: ../../WPrefs.app/Preferences.c:238 ../../WPrefs.app/Preferences.c:259
+msgid "Corner of screen"
+msgstr "Cantonada de la pantalla"
+
+#: ../../WPrefs.app/Preferences.c:239 ../../WPrefs.app/Preferences.c:260
+msgid "Center of screen"
+msgstr "Centre de la pantalla"
+
+#: ../../WPrefs.app/Preferences.c:240 ../../WPrefs.app/Preferences.c:261
+msgid "Center of resized window"
+msgstr "Centre de la finestra"
+
+#: ../../WPrefs.app/Preferences.c:241
+msgid "Technical drawing-like"
+msgstr "Estil dibuix tècnic"
+
+#: ../../WPrefs.app/Preferences.c:242 ../../WPrefs.app/Preferences.c:262
+msgid "Disabled"
+msgstr "Inhabilitat"
+
+#: ../../WPrefs.app/Preferences.c:250
+msgid "Position Display"
+msgstr "Visor de posició"
+
+#: ../../WPrefs.app/Preferences.c:252
+msgid ""
+"The position or style of the window position\n"
+"display that's shown when a window is moved."
+msgstr ""
+"La posició o estil del visor de posició\n"
+"que apareix quan es mou una finestra."
+
+#: ../../WPrefs.app/Preferences.c:270
+msgid "Show balloon text for..."
+msgstr "Mostra text flotant per..."
+
+#: ../../WPrefs.app/Preferences.c:277
+msgid "incomplete window titles"
+msgstr "títols incomplets de finestres"
+
+#: ../../WPrefs.app/Preferences.c:278
+msgid "miniwindow titles"
+msgstr "títols de minifinestres"
+
+#: ../../WPrefs.app/Preferences.c:279
+msgid "application/dock icons"
+msgstr "icones ancorades o d'aplicació"
+
+#: ../../WPrefs.app/Preferences.c:280
+msgid "internal help"
+msgstr "ajuda interna"
+
+#: ../../WPrefs.app/Preferences.c:292
+msgid ""
+"Raise window when switching\n"
+"focus with keyboard."
+msgstr ""
+"Eleva la finestra enfocada quan\n"
+"s'alterna la finestra amb el teclat."
+
+#: ../../WPrefs.app/Preferences.c:298
+msgid ""
+"Enable keyboard language\n"
+"switch button in window titlebars."
+msgstr ""
+"Habilita el botó de canvi de llenguatge\n"
+"de teclat en la barra de títol de les finestres."
+
+#: ../../WPrefs.app/Preferences.c:307
+msgid "Workspace border"
+msgstr "Marc de l'escriptori"
+
+#: ../../WPrefs.app/Preferences.c:323
+msgid "Left/Right"
+msgstr "Laterals"
+
+#: ../../WPrefs.app/Preferences.c:328
+msgid "Top/Bottom"
+msgstr "Dalt/Baix"
+
+#: ../../WPrefs.app/Preferences.c:349
+msgid "Miscellaneous Ergonomic Preferences"
+msgstr "Preferències ergonòmiques diverses"
+
+#: ../../WPrefs.app/Preferences.c:350
+msgid ""
+"Various settings like balloon text, geometry\n"
+"displays etc."
+msgstr ""
+"Diverses opcions com texts flotants,\n"
+"visors de geometria, etc."
+
+#: ../../WPrefs.app/TexturePanel.c:323
+msgid "Saturation"
+msgstr "Saturació"
+
+#: ../../WPrefs.app/TexturePanel.c:325
+msgid "Brightness"
+msgstr "Claror"
+
+#: ../../WPrefs.app/TexturePanel.c:373 ../../WPrefs.app/TexturePanel.c:380
+msgid "Hue"
+msgstr "Matís"
+
+#: ../../WPrefs.app/TexturePanel.c:610
+msgid "Could not load the selected file: "
+msgstr "No s'ha pogut carregar el fitxer seleccionat: "
+
+#: ../../WPrefs.app/TexturePanel.c:664
+msgid "Open Image"
+msgstr "Obrir imatge"
+
+#: ../../WPrefs.app/TexturePanel.c:694
+msgid "The selected file does not contain a supported image."
+msgstr "El fitxer seleccionat no conté cap tipus d'imatge suportat."
+
+#: ../../WPrefs.app/TexturePanel.c:945
+#, c-format
+msgid "could not load file '%s': %s"
+msgstr "no s'ha pogut carregar el fitxer '%s': %s"
+
+#: ../../WPrefs.app/TexturePanel.c:1064
+#, c-format
+msgid "error creating texture %s"
+msgstr "error quan es creava la textura %s"
+
+#: ../../WPrefs.app/TexturePanel.c:1254
+msgid "Texture Panel"
+msgstr "Panell de textura"
+
+#: ../../WPrefs.app/TexturePanel.c:1262
+msgid "Texture Name"
+msgstr "Nom de la textura"
+
+#: ../../WPrefs.app/TexturePanel.c:1274
+msgid "Solid Color"
+msgstr "Color sòlid"
+
+#: ../../WPrefs.app/TexturePanel.c:1275
+msgid "Gradient Texture"
+msgstr "Gradient"
+
+#: ../../WPrefs.app/TexturePanel.c:1276
+msgid "Simple Gradient Texture"
+msgstr "Gradient simple"
+
+#: ../../WPrefs.app/TexturePanel.c:1277
+msgid "Textured Gradient"
+msgstr "Gradient texturitzat"
+
+#: ../../WPrefs.app/TexturePanel.c:1278
+msgid "Image Texture"
+msgstr "Imatge"
+
+#: ../../WPrefs.app/TexturePanel.c:1286
+msgid "Default Color"
+msgstr "Color per omissió"
+
+#: ../../WPrefs.app/TexturePanel.c:1298
+msgid "Gradient Colors"
+msgstr "Colors del gradient"
+
+#: ../../WPrefs.app/TexturePanel.c:1394
+msgid "Direction"
+msgstr "Direcció"
+
+#: ../../WPrefs.app/TexturePanel.c:1422
+msgid "Gradient"
+msgstr "Gradient"
+
+#: ../../WPrefs.app/TexturePanel.c:1440
+msgid "Gradient Opacity"
+msgstr "Opacitat del gradient"
+
+#: ../../WPrefs.app/TexturePanel.c:1483
+msgid "Image"
+msgstr "Imatge"
+
+#: ../../WPrefs.app/TexturePanel.c:1515
+msgid "Tile"
+msgstr "Repeteix"
+
+#: ../../WPrefs.app/TexturePanel.c:1516
+msgid "Scale"
+msgstr "Escala"
+
+#: ../../WPrefs.app/TexturePanel.c:1518
+msgid "Maximize"
+msgstr "Maximitza"
+
+#: ../../WPrefs.app/Themes.c:71 ../../WPrefs.app/Themes.c:82
+msgid "Set"
+msgstr "Estableix"
+
+#: ../../WPrefs.app/Themes.c:132
+msgid "Stop"
+msgstr "Atura"
+
+#: ../../WPrefs.app/Themes.c:143 ../../WPrefs.app/Themes.c:203
+#: ../../WPrefs.app/Themes.c:223
+msgid "Download"
+msgstr "Descarrega"
+
+#: ../../WPrefs.app/Themes.c:171
+msgid "Save Current Theme"
+msgstr "Desa el tema actual"
+
+#: ../../WPrefs.app/Themes.c:180
+msgid "Load"
+msgstr "Carrega"
+
+#: ../../WPrefs.app/Themes.c:185
+msgid "Install"
+msgstr "Instal·la"
+
+#: ../../WPrefs.app/Themes.c:193
+msgid "Tile of The Day"
+msgstr "Mosaic del dia"
+
+#: ../../WPrefs.app/Themes.c:213
+msgid "Bar of The Day"
+msgstr "Barra del dia"
+
+#: ../../WPrefs.app/WPrefs.c:260
+msgid "Window Maker Preferences"
+msgstr "Preferències de Window Maker"
+
+#: ../../WPrefs.app/WPrefs.c:284
+msgid "Revert Page"
+msgstr "Tornar pàgina"
+
+#: ../../WPrefs.app/WPrefs.c:290
+msgid "Revert All"
+msgstr "Tornar totes"
+
+#: ../../WPrefs.app/WPrefs.c:296
+msgid "Save"
+msgstr "Desa"
+
+#: ../../WPrefs.app/WPrefs.c:309
+msgid "Balloon Help"
+msgstr "Ajuda flotant"
+
+#: ../../WPrefs.app/WPrefs.c:334
+msgid "Window Maker Preferences Utility"
+msgstr "Utilitat de preferències de Window Maker"
+
+#: ../../WPrefs.app/WPrefs.c:341
+#, c-format
+msgid "Version %s for Window Maker %s or newer"
+msgstr "Versió %s per a Window Maker %s o posterior"
+
+#: ../../WPrefs.app/WPrefs.c:349
+msgid "Starting..."
+msgstr "Iniciant..."
+
+#: ../../WPrefs.app/WPrefs.c:355
+msgid ""
+"Programming/Design: Alfredo K. Kojima\n"
+"Artwork: Marco van Hylckama Vlieg, Largo et al\n"
+"More Programming: James Thompson et al"
+msgstr ""
+"Programació/Disseny: Alfredo K. Kojima\n"
+"Art: Marco van Hylckama Vlieg, Largo et al\n"
+"Més programació: James Thompson et al"
+
+#: ../../WPrefs.app/WPrefs.c:455
+#, c-format
+msgid "could not locate image file %s\n"
+msgstr "no s'ha pogut localitzar el fitxer d'imatge %s\n"
+
+#: ../../WPrefs.app/WPrefs.c:670
+#, c-format
+msgid "could not load image file %s:%s"
+msgstr "no s'ha pogut carregar el fitxer d'imatge %s:%s"
+
+#: ../../WPrefs.app/WPrefs.c:689
+msgid "Loading Window Maker configuration files..."
+msgstr "S'estan carregant els fitxers de configuració de Window Maker..."
+
+#: ../../WPrefs.app/WPrefs.c:693
+msgid "Initializing configuration panels..."
+msgstr "S'estan inicialitzant els panells de configuració..."
+
+#: ../../WPrefs.app/WPrefs.c:727
+msgid ""
+"WPrefs is free software and is distributed WITHOUT ANY\n"
+"WARRANTY under the terms of the GNU General Public License."
+msgstr ""
+"WPrefs és programari lliure i es distribueix sense CAP MENA\n"
+"DE GARANTIA sota els termes de la GNU General Public License."
+
+#: ../../WPrefs.app/WPrefs.c:757 ../../WPrefs.app/WPrefs.c:837
+#, c-format
+msgid "Window Maker domain (%s) is corrupted!"
+msgstr "Domini de Window Maker (%s) malmès!"
+
+#: ../../WPrefs.app/WPrefs.c:761
+#, c-format
+msgid "Could not load Window Maker domain (%s) from defaults database."
+msgstr ""
+"No s'ha pogut carregar el domini de Window Maker (%s) de la base de dades "
+"per omissió."
+
+#: ../../WPrefs.app/WPrefs.c:777
+msgid "could not extract version information from Window Maker"
+msgstr "no s'ha pogut obtenir informació sobre la versió de Window Maker"
+
+#: ../../WPrefs.app/WPrefs.c:778
+msgid "Make sure wmaker is in your search path."
+msgstr "Assegureu-vos que wmaker es troba en el camí de recerca."
+
+#: ../../WPrefs.app/WPrefs.c:781
+msgid ""
+"Could not extract version from Window Maker. Make sure it is correctly "
+"installed and is in your PATH environment variable."
+msgstr ""
+"No s'ha pogut obtenir la versió de Window Maker. Assegureu-vos que està "
+"instal·lat correctament i que es troba en el path."
+
+#: ../../WPrefs.app/WPrefs.c:791
+msgid ""
+"Could not extract version from Window Maker. Make sure it is correctly "
+"installed and the path where it installed is in the PATH environment "
+"variable."
+msgstr ""
+"No s'ha pogut obtenir la versió de Window Maker. Assegureu-vos que està "
+"instal·lat correctament i que el lloc on està instal·lat es troba en la "
+"variable d'entorn PATH."
+
+#: ../../WPrefs.app/WPrefs.c:798
+#, c-format
+msgid ""
+"WPrefs only supports Window Maker 0.18.0 or newer.\n"
+"The version installed is %i.%i.%i\n"
+msgstr ""
+"WPrefs només suporta Window Maker 0.18.0 o posterior.\n"
+"La versió instal·lada és %i.%i.%i\n"
+
+#: ../../WPrefs.app/WPrefs.c:805
+#, c-format
+msgid ""
+"Window Maker %i.%i.%i, which is installed in your system, is not fully "
+"supported by this version of WPrefs."
+msgstr ""
+"Window Maker %i.%i.%i, que està instal·lat en el sistema, no està suportat "
+"totalment per aquesta versió de WPrefs."
+
+#: ../../WPrefs.app/WPrefs.c:818
+#, c-format
+msgid "could not run \"%s --global_defaults_path\"."
+msgstr "no s'ha pogut executar \"%s --global_defaults_path\"."
+
+#: ../../WPrefs.app/WPrefs.c:841
+#, c-format
+msgid "Could not load global Window Maker domain (%s)."
+msgstr "No s'ha pogut carregar el domini global de Window Maker (%s)."
+
+#: ../../WPrefs.app/WPrefs.c:1090
+#, c-format
+msgid ""
+"bad speed value for option %s\n"
+". Using default Medium"
+msgstr ""
+"valor de velocitat incorrecte a l'opció %s\n"
+". S'usa el valor per omissió \"Medium\""
+
+#: ../../WPrefs.app/WindowHandling.c:141
+#, c-format
+msgid "bad option value %s in WindowPlacement. Using default value"
+msgstr ""
+"valor %s incorrecte a l'opció WindowPlacement. S'usa el valor per omissió"
+
+#: ../../WPrefs.app/WindowHandling.c:163
+msgid "invalid data in option WindowPlaceOrigin. Using default (0,0)"
+msgstr ""
+"dada invàlida a l'opció WindowPlaceOrigin. S'usa el valor per omissió (0,0)"
+
+#: ../../WPrefs.app/WindowHandling.c:243
+msgid "Window Placement"
+msgstr "Ubicació de les finestres"
+
+#: ../../WPrefs.app/WindowHandling.c:244
+msgid ""
+"How to place windows when they are first put\n"
+"on screen."
+msgstr ""
+"Com disposar les finestres quan\n"
+"apareixen per primer cop en pantalla."
+
+#: ../../WPrefs.app/WindowHandling.c:250
+msgid "Automatic"
+msgstr "Automàtic"
+
+#: ../../WPrefs.app/WindowHandling.c:251
+msgid "Random"
+msgstr "Aleatori"
+
+#: ../../WPrefs.app/WindowHandling.c:252
+msgid "Manual"
+msgstr "Manual"
+
+#: ../../WPrefs.app/WindowHandling.c:253
+msgid "Cascade"
+msgstr "En cascada"
+
+#: ../../WPrefs.app/WindowHandling.c:254
+msgid "Smart"
+msgstr "Intel·ligent"
+
+#: ../../WPrefs.app/WindowHandling.c:260
+msgid "Placement Origin"
+msgstr "Ubicació original"
+
+#: ../../WPrefs.app/WindowHandling.c:321
+msgid "Opaque Move"
+msgstr "Moviment opac"
+
+#: ../../WPrefs.app/WindowHandling.c:322
+msgid ""
+"Whether the window contents should be moved\n"
+"when dragging windows aroung or if only a\n"
+"frame should be displayed.\n"
+msgstr ""
+"Si s'ha de moure o no el contingut d'una finestra\n"
+"quan és arrossegada o només es mostra un marc.\n"
+
+#: ../../WPrefs.app/WindowHandling.c:361
+msgid "When maximizing..."
+msgstr "Quan es maximitza..."
+
+#: ../../WPrefs.app/WindowHandling.c:366
+msgid "...do not cover icons"
+msgstr "...no cobrir les icones"
+
+#: ../../WPrefs.app/WindowHandling.c:372
+msgid "...do not cover dock"
+msgstr "..no cobrir el moll"
+
+#: ../../WPrefs.app/WindowHandling.c:381
+msgid "Edge Resistance"
+msgstr "Resistència dels marges"
+
+#: ../../WPrefs.app/WindowHandling.c:383
+msgid ""
+"Edge resistance will make windows `resist'\n"
+"being moved further for the defined threshold\n"
+"when moved against other windows or the edges\n"
+"of the screen."
+msgstr ""
+"La resistència dels marges és el factor amb que\n"
+"una finestra es \"resisteix\" a ser moguda fora de\n"
+"la pantalla, o contra altres finestres."
+
+#: ../../WPrefs.app/WindowHandling.c:402
+msgid "Resist"
+msgstr "Oposa"
+
+#: ../../WPrefs.app/WindowHandling.c:407
+msgid "Attract"
+msgstr "Atreu"
+
+#: ../../WPrefs.app/WindowHandling.c:423
+msgid ""
+"Open dialogs in same workspace\n"
+"as their owners"
+msgstr ""
+"Obre els quadres de diàleg en el mateix\n"
+"escriptori que els seus propietaris."
+
+#: ../../WPrefs.app/WindowHandling.c:450
+msgid "Window Handling Preferences"
+msgstr "Preferències pel maneig de finestres"
+
+#: ../../WPrefs.app/WindowHandling.c:452
+msgid ""
+"Window handling options. Initial placement style\n"
+"edge resistance, opaque move etc."
+msgstr ""
+"Opcions pel maneig de finestres. Estil de\n"
+"posicionament inicial, resistència a ser mogudes\n"
+"fora dels marges, moviment opac, etc."
+
+#: ../../WPrefs.app/Workspace.c:176
+msgid "Workspace Navigation"
+msgstr "Navegació entre escriptoris"
+
+#: ../../WPrefs.app/Workspace.c:183
+msgid ""
+"wrap to the first workspace after the\n"
+"last workspace."
+msgstr ""
+"torna al primer escriptori\n"
+"després de l'últim."
+
+#: ../../WPrefs.app/Workspace.c:205
+msgid "switch workspaces while dragging windows."
+msgstr ""
+"alterna l'escriptori quan s'arrosseguen\n"
+"finestres més enllà dels marges."
+
+#: ../../WPrefs.app/Workspace.c:227
+msgid "automatically create new workspaces."
+msgstr "crea nous escriptoris automàticament."
+
+#: ../../WPrefs.app/Workspace.c:250
+msgid ""
+"Position of workspace\n"
+"name display"
+msgstr ""
+"Posició del nom de\n"
+"l'escriptori"
+
+#: ../../WPrefs.app/Workspace.c:269
+msgid "Disable"
+msgstr "Inhabilita"
+
+#: ../../WPrefs.app/Workspace.c:271
+msgid "Top"
+msgstr "Dalt"
+
+#: ../../WPrefs.app/Workspace.c:272
+msgid "Bottom"
+msgstr "Baix"
+
+#: ../../WPrefs.app/Workspace.c:273
+msgid "Top/Left"
+msgstr "Dalt/Esquerra"
+
+#: ../../WPrefs.app/Workspace.c:274
+msgid "Top/Right"
+msgstr "Dalt/Dreta"
+
+#: ../../WPrefs.app/Workspace.c:275
+msgid "Bottom/Left"
+msgstr "Baix/Esquerra"
+
+#: ../../WPrefs.app/Workspace.c:276
+msgid "Bottom/Right"
+msgstr "Baix/Dreta"
+
+#: ../../WPrefs.app/Workspace.c:284
+msgid "Dock/Clip"
+msgstr "Moll/Clip"
+
+#: ../../WPrefs.app/Workspace.c:303
+msgid ""
+"Disable/enable the application Dock (the\n"
+"vertical icon bar in the side of the screen)."
+msgstr ""
+"Habilita o inhabilita el Moll d'aplicacions\n"
+"(aquesta barra vertical amb icones que hi ha\n"
+"a un costat de la pantalla)."
+
+#: ../../WPrefs.app/Workspace.c:324
+msgid ""
+"Disable/enable the Clip (that thing with\n"
+"a paper clip icon)."
+msgstr ""
+"Habilita o inhabilita el Clip (aquesta cosa\n"
+"que té una icona amb una imatge d'un clip)."
+
+#: ../../WPrefs.app/Workspace.c:364
+msgid "Workspace Preferences"
+msgstr "Preferències d'escriptori"
+
+#: ../../WPrefs.app/Workspace.c:366
+msgid ""
+"Workspace navigation features.\n"
+"You can also enable/disable the Dock and Clip here."
+msgstr ""
+"Funcions de navegació entre escriptoris. També podeu\n"
+"habilitar o inhabilitar tant el Moll com el Clip aquí."
+
+#: ../../WPrefs.app/imagebrowser.c:95
+msgid "View"
+msgstr "Veure"
+
+#: ../../WPrefs.app/main.c:59
+#, c-format
+msgid "usage: %s [options]\n"
+msgstr "sintaxi: %s [opcions]\n"
+
+#: ../../WPrefs.app/main.c:60
+msgid "options:"
+msgstr "opcions:"
+
+#: ../../WPrefs.app/main.c:61
+msgid " -display <display>\tdisplay to be used"
+msgstr " -display <display>     pantalla a utilitzar"
+
+#: ../../WPrefs.app/main.c:62
+msgid " --version\t\tprint version number and exit"
+msgstr " --version              mostra la versió i surt"
+
+#: ../../WPrefs.app/main.c:63
+msgid " --help\t\tprint this message and exit"
+msgstr " --help         mostra aquest missatge i surt"
+
+#: ../../WPrefs.app/main.c:122
+#, c-format
+msgid "too few arguments for %s"
+msgstr "falten arguments per a %s"
+
+#: ../../WPrefs.app/main.c:144
+msgid "X server does not support locale"
+msgstr "el servidor X no suporta el local"
+
+#: ../../WPrefs.app/main.c:147
+msgid "cannot set locale modifiers"
+msgstr "no s'han pogut establir els modificadors de local"
+
+#: ../../WPrefs.app/main.c:153
+#, c-format
+msgid "could not open display %s"
+msgstr "no s'ha pogut obrir la pantalla %s"
+
+#: ../../WPrefs.app/main.c:161
+msgid "could not initialize application"
+msgstr "no s'ha pogut inicialitzar l'aplicació"
diff -Naur WindowMaker-0.80.2/WPrefs.app/po/de.po wm-xft2/WPrefs.app/po/de.po
--- WindowMaker-0.80.2/WPrefs.app/po/de.po	2002-02-21 14:28:41.000000000 +0300
+++ wm-xft2/WPrefs.app/po/de.po	2003-10-22 14:08:35.000000000 +0400
@@ -1,166 +1,171 @@
+# SOME DESCRIPTIVE TITLE.
+# Copyright (C) YEAR Free Software Foundation, Inc.
+# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
+#
 msgid ""
 msgstr ""
-"POT-Creation-Date: 2002-01-09 22:17+0100\n"
+"Project-Id-Version: WPrefs 0.45\n"
+"POT-Creation-Date: 2003-01-06 01:33+0100\n"
+"PO-Revision-Date: 2003-01-25 16:00CET\n"
+"Last-Translator: Guido Scholz <guido.scholz@bayernline.de>\n"
+"Language-Team: Deutsch <de@li.org>\n"
 "MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=iso-8859-1\n"
-"Content-Transfer-Encoding: 8-bit\n"
-"Date: 2002-01-10 22:01:03+0100\n"
-"From: Guido Scholz <guido.scholz@bayernline.de>\n"
+"Content-Type: text/plain; charset=ISO-8859-1\n"
+"Content-Transfer-Encoding: 8bit\n"
 
-#: ../../WPrefs.app/Appearance.c:1131
+#: ../../WPrefs.app/Appearance.c:1154
 msgid "Select File"
-msgstr "Datei wählen"
+msgstr "Datei auswählen"
 
-#: ../../WPrefs.app/Appearance.c:1533
+#: ../../WPrefs.app/Appearance.c:1555
 msgid "Focused Window"
-msgstr "Selektiertes Fenster"
+msgstr "Aktives Fenster"
 
-#: ../../WPrefs.app/Appearance.c:1537
+#: ../../WPrefs.app/Appearance.c:1560
 msgid "Unfocused Window"
-msgstr "Deselektiertes Fenster"
+msgstr "Inaktives Fenster"
 
-#: ../../WPrefs.app/Appearance.c:1541
+#: ../../WPrefs.app/Appearance.c:1565
 msgid "Owner of Focused Window"
-msgstr "Owner v. selektiertem Fenster"
+msgstr "Eigentümer des akt. Fensters"
 
-#: ../../WPrefs.app/Appearance.c:1545 ../../WPrefs.app/Appearance.c:1862
+#: ../../WPrefs.app/Appearance.c:1570 ../../WPrefs.app/Appearance.c:1893
 msgid "Menu Title"
 msgstr "Menütitel"
 
-#: ../../WPrefs.app/Appearance.c:1549 ../../WPrefs.app/Appearance.c:1551
+#: ../../WPrefs.app/Appearance.c:1575 ../../WPrefs.app/Appearance.c:1578
 msgid "Normal Item"
 msgstr "Normal"
 
-#: ../../WPrefs.app/Appearance.c:1555
+#: ../../WPrefs.app/Appearance.c:1583
 msgid "Disabled Item"
-msgstr "Grau"
+msgstr "Deaktiviert"
 
-#: ../../WPrefs.app/Appearance.c:1564
+#: ../../WPrefs.app/Appearance.c:1595
 msgid "Highlighted"
 msgstr "Ausgewählt"
 
-#: ../../WPrefs.app/Appearance.c:1755
+#: ../../WPrefs.app/Appearance.c:1786
 msgid "Texture"
 msgstr "Textur"
 
-#: ../../WPrefs.app/Appearance.c:1763
+#: ../../WPrefs.app/Appearance.c:1794
 msgid "Titlebar of Focused Window"
-msgstr "Titel von selektiertem Fenster"
+msgstr "Titelleiste des aktiven Fensters"
 
-#: ../../WPrefs.app/Appearance.c:1764
+#: ../../WPrefs.app/Appearance.c:1795
 msgid "Titlebar of Unfocused Windows"
-msgstr "Titel von deselektiertem Fenster"
+msgstr "Titelleiste des inaktiven Fensters"
 
-#: ../../WPrefs.app/Appearance.c:1765
+#: ../../WPrefs.app/Appearance.c:1796
 msgid "Titlebar of Focused Window's Owner"
-msgstr "Titel v. Owner d. selektierten Fensters"
+msgstr "Titelleiste d. Eigent. d. akt. Fensters"
 
-#: ../../WPrefs.app/Appearance.c:1766
+#: ../../WPrefs.app/Appearance.c:1797
 msgid "Window Resizebar"
-msgstr "Fenster-Resize-Zeile"
+msgstr "Fenster-Größenänderungsleiste"
 
-#: ../../WPrefs.app/Appearance.c:1767
+#: ../../WPrefs.app/Appearance.c:1798
 msgid "Titlebar of Menus"
-msgstr "Titel von Menüs"
+msgstr "Menü-Titelzeile"
 
-#: ../../WPrefs.app/Appearance.c:1768
+#: ../../WPrefs.app/Appearance.c:1799
 msgid "Menu Items"
 msgstr "Menüeinträge"
 
-#: ../../WPrefs.app/Appearance.c:1769
+#: ../../WPrefs.app/Appearance.c:1800
 msgid "Icon Background"
-msgstr "Icon-Hintergrund"
+msgstr "Symbolhintergrund"
 
-#: ../../WPrefs.app/Appearance.c:1784
+#: ../../WPrefs.app/Appearance.c:1815
 msgid ""
 "Double click in the texture you want to use\n"
 "for the selected item."
 msgstr ""
-"Doppelt auf Textur klicken, um sie für den\n"
-"selektierten Eintrag zu verwenden."
+"Doppelklicken Sie auf die Textur, die sie für das\n"
+"ausgewählte Element verwenden wollen."
 
-#: ../../WPrefs.app/Appearance.c:1798
+#: ../../WPrefs.app/Appearance.c:1829
 msgid "New"
 msgstr "Neu"
 
-#: ../../WPrefs.app/Appearance.c:1802
+#: ../../WPrefs.app/Appearance.c:1833
 msgid "Create a new texture."
-msgstr "Neue Textur erzeugen"
+msgstr "Neue Textur erzeugen."
 
-#: ../../WPrefs.app/Appearance.c:1810
+#: ../../WPrefs.app/Appearance.c:1841
 msgid "Extract..."
 msgstr "Extrahieren..."
 
-#: ../../WPrefs.app/Appearance.c:1814
+#: ../../WPrefs.app/Appearance.c:1845
 msgid "Extract texture(s) from a theme or a style file."
-msgstr "Textur(en) aus einem Theme oder Stylefile extrahieren."
+msgstr "Extrahiere Textur(en) aus einer Themen- oder Stildatei."
 
-#: ../../WPrefs.app/Appearance.c:1824
+#: ../../WPrefs.app/Appearance.c:1855
 msgid "Edit"
-msgstr "Editieren"
+msgstr "Bearbeiten"
 
-#: ../../WPrefs.app/Appearance.c:1827
+#: ../../WPrefs.app/Appearance.c:1858
 msgid "Edit the highlighted texture."
-msgstr "Gewählte Textur editieren"
+msgstr "Ausgewählte Textur bearbeiten."
 
-#: ../../WPrefs.app/Appearance.c:1835 ../../WPrefs.app/TexturePanel.c:1316
+#: ../../WPrefs.app/Appearance.c:1866 ../../WPrefs.app/TexturePanel.c:1318
 msgid "Delete"
 msgstr "Löschen"
 
-#: ../../WPrefs.app/Appearance.c:1839
+#: ../../WPrefs.app/Appearance.c:1870
 msgid "Delete the highlighted texture."
-msgstr "Gewählte Textur löschen"
+msgstr "Ausgewählte Textur löschen."
 
-#: ../../WPrefs.app/Appearance.c:1852
+#: ../../WPrefs.app/Appearance.c:1883
 msgid "Color"
 msgstr "Farbe"
 
-#: ../../WPrefs.app/Appearance.c:1859
+#: ../../WPrefs.app/Appearance.c:1890
 msgid "Focused Window Title"
-msgstr "Titel (selektiertes Fenster)"
+msgstr "Titel des aktiven Fensters"
 
-#: ../../WPrefs.app/Appearance.c:1860
+#: ../../WPrefs.app/Appearance.c:1891
 msgid "Unfocused Window Title"
-msgstr "Titel (nicht selektiertes Fenster)"
+msgstr "Titel eines inaktiven Fensters"
 
-#: ../../WPrefs.app/Appearance.c:1861
+#: ../../WPrefs.app/Appearance.c:1892
 msgid "Owner of Focused Window Title"
-msgstr "Titel (Owner von selektiertem Fenster)"
+msgstr "Titel d. Eigentümers d. akt. Fensters"
 
-#: ../../WPrefs.app/Appearance.c:1863
+#: ../../WPrefs.app/Appearance.c:1894
 msgid "Menu Item Text"
-msgstr "Text von Menü-Eintrag"
+msgstr "Text eines Menüeintrages"
 
-#: ../../WPrefs.app/Appearance.c:1864
+#: ../../WPrefs.app/Appearance.c:1895
 msgid "Disabled Menu Item Text"
-msgstr "Text von Menü-Eintrag (grau)"
+msgstr "Text eines deaktiv. Menüeintrages"
 
-#: ../../WPrefs.app/Appearance.c:1865
+#: ../../WPrefs.app/Appearance.c:1896
 msgid "Menu Highlight Color"
-msgstr "Menüauswahl-Farbe"
+msgstr "Menü-Auswahlfarbe"
 
-#: ../../WPrefs.app/Appearance.c:1866
+#: ../../WPrefs.app/Appearance.c:1897
 msgid "Highlighted Menu Text Color"
-msgstr "Menüauswahl-Textfarbe"
-
-#: ../../WPrefs.app/Appearance.c:1905
+msgstr "Text des ausgew. Menüeintrages"
 
+#: ../../WPrefs.app/Appearance.c:1936
 msgid "Background"
-msgstr "Icon-Hintergrund"
+msgstr "Hintergrund"
 
-#: ../../WPrefs.app/Appearance.c:1917 ../../WPrefs.app/TexturePanel.c:1503
+#: ../../WPrefs.app/Appearance.c:1948 ../../WPrefs.app/TexturePanel.c:1504
 msgid "Browse..."
-msgstr "Auswahl..."
+msgstr "Suchen..."
 
-#: ../../WPrefs.app/Appearance.c:1930
+#: ../../WPrefs.app/Appearance.c:1961
 msgid "Options"
 msgstr "Optionen"
 
-#: ../../WPrefs.app/Appearance.c:1937
+#: ../../WPrefs.app/Appearance.c:1968
 msgid "Menu Style"
-msgstr "Menüstil"
+msgstr " Menüstil "
 
-#: ../../WPrefs.app/Appearance.c:1965 ../../WPrefs.app/Configurations.c:242
+#: ../../WPrefs.app/Appearance.c:1996 ../../WPrefs.app/Configurations.c:242
 #: ../../WPrefs.app/Configurations.c:254 ../../WPrefs.app/Focus.c:288
 #: ../../WPrefs.app/Focus.c:299 ../../WPrefs.app/MenuPreferences.c:134
 #: ../../WPrefs.app/MenuPreferences.c:145
@@ -170,50 +175,50 @@
 #: ../../WPrefs.app/WPrefs.c:583
 #, c-format
 msgid "could not load icon file %s"
-msgstr "konnte Iconfile %s nicht laden"
+msgstr "Symboldatei %s konnte nicht geladen werden"
 
-#: ../../WPrefs.app/Appearance.c:1979
+#: ../../WPrefs.app/Appearance.c:2010
 msgid "Title Alignment"
-msgstr "Titelausrichtung"
+msgstr " Titelausrichtung "
 
-#: ../../WPrefs.app/Appearance.c:1986
+#: ../../WPrefs.app/Appearance.c:2017
 msgid "Left"
 msgstr "Links"
 
-#: ../../WPrefs.app/Appearance.c:1989 ../../WPrefs.app/TexturePanel.c:1517
+#: ../../WPrefs.app/Appearance.c:2020 ../../WPrefs.app/TexturePanel.c:1518
 #: ../../WPrefs.app/Workspace.c:270
 msgid "Center"
 msgstr "Mittig"
 
-#: ../../WPrefs.app/Appearance.c:1992
+#: ../../WPrefs.app/Appearance.c:2023
 msgid "Right"
 msgstr "Rechts"
 
-#: ../../WPrefs.app/Appearance.c:2216
+#: ../../WPrefs.app/Appearance.c:2247
 msgid "Appearance Preferences"
-msgstr "Einstellungen für Aussehen"
+msgstr "Einstellungen zum Aussehen"
 
-#: ../../WPrefs.app/Appearance.c:2218
+#: ../../WPrefs.app/Appearance.c:2249
 msgid ""
 "Background texture configuration for windows,\n"
 "menus and icons."
 msgstr ""
-"Konfiguration der Hintergrund-Textur für\n"
-"Fenster, Menüs und Icons."
+"Konfiguration der Hintergrundtexturen für Fenster,\n"
+"Menüs und Symbole."
 
-#: ../../WPrefs.app/Appearance.c:2263
+#: ../../WPrefs.app/Appearance.c:2294
 msgid "Extract Texture"
 msgstr "Textur extrahieren"
 
-#: ../../WPrefs.app/Appearance.c:2283
+#: ../../WPrefs.app/Appearance.c:2314
 msgid "Textures"
 msgstr "Texturen"
 
-#: ../../WPrefs.app/Appearance.c:2294 ../../WPrefs.app/WPrefs.c:302
+#: ../../WPrefs.app/Appearance.c:2325 ../../WPrefs.app/WPrefs.c:302
 msgid "Close"
 msgstr "Schließen"
 
-#: ../../WPrefs.app/Appearance.c:2299
+#: ../../WPrefs.app/Appearance.c:2330
 msgid "Extract"
 msgstr "Extrahieren"
 
@@ -223,25 +228,25 @@
 #: ../../WPrefs.app/Workspace.c:101
 #, c-format
 msgid "could not load icon %s"
-msgstr "konnte Icon %s nicht laden"
+msgstr "Symbol %s konnte nicht geladen werden"
 
 #: ../../WPrefs.app/Configurations.c:164 ../../WPrefs.app/Workspace.c:109
 #, c-format
 msgid "could not process icon %s:"
-msgstr "konnte Icon %s nicht verarbeiten:"
+msgstr "Symbol %s konnte nicht verarbeitet werden"
 
 #: ../../WPrefs.app/Configurations.c:189 ../../WPrefs.app/Workspace.c:164
 #, c-format
 msgid "could not load image file %s"
-msgstr "konnte Bilddatei %s nicht laden"
+msgstr "Bilddatei %s konnte nicht geladen werden"
 
 #: ../../WPrefs.app/Configurations.c:203
 msgid "Icon Slide Speed"
-msgstr "Icon-Bewegungsgeschwindigkeit"
+msgstr "Symbol-Bewegungsgeschwindigkeit"
 
 #: ../../WPrefs.app/Configurations.c:209
 msgid "Shade Animation Speed"
-msgstr "Animationsgeschwindigeit für Aufrollen"
+msgstr "Roll-Animationsgeschwindigkeit"
 
 #: ../../WPrefs.app/Configurations.c:271
 msgid "Smooth Scaling"
@@ -253,17 +258,17 @@
 "the `pixelization' effect. This will slow\n"
 "down loading of background images considerably."
 msgstr ""
-"Weich skalierte Hintergrundbilder, die den Pixel-\n"
-"effekt neutralisieren. Diese Option verlangsamt\n"
-"das Laden von Hintergrundbildern deutlich."
+"Weich skalierte Hintergrundbilder, neutralisiert\n"
+"Verpixelungen. Diese Option verlangsamt\n"
+"deutlich das Laden von Hintergrundbildern."
 
 #: ../../WPrefs.app/Configurations.c:313
 msgid "Titlebar Style"
-msgstr "Titelzeilenstil"
+msgstr "Titelleisten-Stil"
 
 #: ../../WPrefs.app/Configurations.c:351
 msgid "Animations and Sound"
-msgstr "Animationen und Klang"
+msgstr "Animationen und Klänge"
 
 #: ../../WPrefs.app/Configurations.c:357
 msgid "Animations"
@@ -274,32 +279,29 @@
 "Disable/enable animations such as those shown\n"
 "for window miniaturization, shading etc."
 msgstr ""
-"Animationen für Fenster-Minimierung, Aufrollen\n"
-"etc. ein-/ausschalten"
+"Animationen für Fenster-Minimierung,\n"
+"-Aufrollen usw. ein/ausschalten."
 
 #: ../../WPrefs.app/Configurations.c:376
 msgid "Superfluous"
-msgstr "Gimmicks"
+msgstr "Effekte"
 
 #: ../../WPrefs.app/Configurations.c:387
-
 msgid ""
 "Disable/enable `superfluous' features and\n"
 "animations. These include the `ghosting' of the\n"
 "dock when it's being moved to another side and\n"
 "the explosion animation when undocking icons."
 msgstr ""
-"\"Gimmicks\" und Animationen ein-/ausschalten, z.B.\n"
-"das \"Ghosting\" eines bewegten Docks wenn es auf\n"
-"die andere Seite gezogen wird und die \"Explosion\"\n"
-"für aus dem Dock genommene Icons."
+"Überflüssige Effekte ein/ausschalten. Dazu gehören\n"
+"das 'Ghosten' des Docks beim Verschieben und die\n"
+"Explosion von aus dem Dock entfernten Symbolen."
 
 #: ../../WPrefs.app/Configurations.c:397
 msgid "Sounds"
 msgstr "Klänge"
 
 #: ../../WPrefs.app/Configurations.c:408
-
 msgid ""
 "Disable/enable support for sound effects played\n"
 "for actions like shading and closing a window.\n"
@@ -307,40 +309,35 @@
 "for this. You can get it at:\n"
 "http://shadowmere.student.utwente.nl/"
 msgstr ""
-"Unterstützung für Klangeffekte, die beim Aufrollen oder\n"
-"Schließen eines Fensters erzeugt werden. Sie brauchen\n"
-"dazu ein getrennt erhältliches Modul. Sie bekommen es\n"
-"bei: http://www.frontier.net/~southgat/wmsound"
+"Unterstützung für Klanguntermalung von Ereignissen\n"
+"wie dem Auf-/Abrollen oder Schließen eines Fensters.\n"
+"Hierzu brauchen sie ein zusätzliches Modul, das separat\n"
+"vertrieben wird. Sie erhalten es bei\n"
+"http://shadowmere.student.utwente.nl/"
 
 #: ../../WPrefs.app/Configurations.c:419
-
 msgid ""
 "Note: sound requires a module distributed\n"
 "separately"
-msgstr ""
-"Anmerkung: \"Klang\" erfordert ein separat\n"
-"erhältliches Modul."
+msgstr "Achtung: Klänge benötigen ein separates Modul"
 
 #: ../../WPrefs.app/Configurations.c:429
 msgid "Dithering colormap for 8bpp"
-msgstr "Dithering für 8 bpp Farbpalette"
+msgstr "Dithering für 8 bpp-Farbpalette"
 
 #: ../../WPrefs.app/Configurations.c:431
 msgid ""
 "Number of colors to reserve for Window Maker\n"
 "on displays that support only 8bpp (PseudoColor)."
 msgstr ""
-"Anzahl der für Window Maker reservierten Farben\n"
-"bei 8 bpp-Displays (Pseudocolor)."
+"Anzahl der Farben, die für Window Maker auf\n"
+"Displays mit 8 bpp reserviert werden sollen (PseudoColor)."
 
 #: ../../WPrefs.app/Configurations.c:438
 msgid "Disable dithering in any visual/depth"
-msgstr ""
-"Dithering für alle Visuals bzw.\n"
-"Farbtiefen deaktivieren"
+msgstr "Dithering für alle Visuals und Farbtiefen deaktivieren."
 
 #: ../../WPrefs.app/Configurations.c:459
-
 msgid ""
 "More colors for\n"
 "applications"
@@ -349,7 +346,6 @@
 "Anwendungen"
 
 #: ../../WPrefs.app/Configurations.c:466
-
 msgid ""
 "More colors for\n"
 "Window Maker"
@@ -359,101 +355,91 @@
 
 #: ../../WPrefs.app/Configurations.c:521
 msgid "Other Configurations"
-msgstr "Andere Konfigurationen"
+msgstr "Verschiedene Einstellungen"
 
 #: ../../WPrefs.app/Configurations.c:523
-
 msgid ""
 "Animation speeds, titlebar styles, various option\n"
 "toggling and number of colors to reserve for\n"
 "Window Maker on 8bit displays."
 msgstr ""
-"Animationsgeschwindigkeit, Titelzeilen-Stil, diverse\n"
-"Optionen und für Window Maker reservierte Farbtiefe\n"
-"bei 8bit-Displays."
-
-#: ../../WPrefs.app/Expert.c:75
-msgid ""
-"Disable miniwindows (icons for miniaturized windows). For use with KDE/GNOME."
-msgstr ""
-"Miniwindows (Icons für minimierte Fenster) deaktivieren. Für KDE/GNOME."
+"Animationsgeschwindigkeiten, Titelleisten-Stil,\n"
+"verschiedene Einstellungen und Festlegung der für\n"
+"Window Maker reservierten Farben auf 8 bpp-Displays."
 
-#: ../../WPrefs.app/Expert.c:76
+#: ../../WPrefs.app/Expert.c:77
+msgid "Disable miniwindows (icons for miniaturized windows). For use with KDE/GNOME."
+msgstr "Keine Minifenster (Symbole für minimierte Fenster). Für KDE/GNOME."
 
+#: ../../WPrefs.app/Expert.c:78
 msgid "Do not set non-WindowMaker specific parameters (do not use xset)."
-msgstr ""
-"Nicht-Window Maker-spezifische Parameter nicht setzen "
-"(xset nicht benutzen)."
-
-#: ../../WPrefs.app/Expert.c:77
+msgstr "Keine Window Maker-spezifischen Parameter setzen (xset nicht benutzen)."
 
+#: ../../WPrefs.app/Expert.c:79
 msgid "Automatically save session when exiting Window Maker."
-msgstr "Sitzung automatisch sichern beim Beenden von Window Maker."
-
-#: ../../WPrefs.app/Expert.c:78
+msgstr "Automatisches Abspeichern der Sitzung beim Beenden."
 
+#: ../../WPrefs.app/Expert.c:80
 msgid "Use SaveUnder in window frames, icons, menus and other objects."
-msgstr ""
-"\"SaveUnder\" in Fensterrahmen, Icons, Menüs und anderen Objekten benutzen."
+msgstr "\"SaveUnder\" für Fensterrahmen, Symbole, Menüs u. a. benutzen."
 
-#: ../../WPrefs.app/Expert.c:79
+#: ../../WPrefs.app/Expert.c:81
 msgid "Use Windoze style cycling."
-msgstr "Fensterwechsel wie unter \"Windoze\" aktivieren."
+msgstr "\"Windoze\"-Stil beim Durchlaufen der Fenster."
 
-#: ../../WPrefs.app/Expert.c:80
+#: ../../WPrefs.app/Expert.c:82
 msgid "Disable confirmation panel for the Kill command."
-msgstr "Kein Bestätigen-Dialog für Kill-Kommando."
+msgstr "Kein Bestätigungsdialog für das \"Kill\"-Kommando."
 
-#: ../../WPrefs.app/Expert.c:81
+#: ../../WPrefs.app/Expert.c:83
 msgid "Disable selection animation for selected icons."
-msgstr "Keine Selektier-Animation für selektierte Icons."
+msgstr "Keine Auswahlanimation für ausgewählte Symbole."
+
+#: ../../WPrefs.app/Expert.c:84
+msgid "Smooth font edges (needs restart)."
+msgstr "Geglättete Schriftarten (Neustart erforderlich)."
 
-#: ../../WPrefs.app/Expert.c:115
+#: ../../WPrefs.app/Expert.c:123
 msgid "Expert User Preferences"
-msgstr "Einstellungen für Experten"
+msgstr "Einstellugen für Experten"
 
-#: ../../WPrefs.app/Expert.c:117
+#: ../../WPrefs.app/Expert.c:125
 msgid ""
 "Options for people who know what they're doing...\n"
 "Also have some other misc. options."
 msgstr ""
-"Optionen für Leute, die wissen was sie tun...\n"
-"Und ein paar weitere Optionen."
+"Einstellungen für Leute, die wissen, was sie tun...\n"
+"und einige andere Einstellungen."
 
 #: ../../WPrefs.app/Focus.c:80
 #, c-format
 msgid "bad option value %s for option FocusMode. Using default Manual"
-msgstr "Ungültiger Wert %s für die Option Fokus-Modus. Benutze \"Manuell\""
+msgstr "falscher Eigenschaftswert %s für \"FocusMode\". Benutze Standard 'Manuell'"
 
 #: ../../WPrefs.app/Focus.c:94
 #, c-format
 msgid "bad option value %s for option ColormapMode. Using default Auto"
-msgstr ""
-"Ungültiger Wert %s für die Option Farbtpaletten-Modus. Benutze \"Auto\""
+msgstr "falscher Eigenschaftswert %s für \"ColormapMode\". Benutze Standard 'Auto'"
 
 #: ../../WPrefs.app/Focus.c:214
 msgid "Input Focus Mode"
-msgstr "Eingabe-Fokus-Modus"
+msgstr "Eingabefokus-Modus"
 
 #: ../../WPrefs.app/Focus.c:222
-
 msgid "Manual:  Click on the window to set keyboard input focus"
-msgstr "Manuell: "
-"Auf das Fenster klicken für Fokuswechsel"
+msgstr "Manuell: Setzen des Tastaturfokus durch Klick"
 
 #: ../../WPrefs.app/Focus.c:229
-
 msgid "Auto:  Set keyboard input focus to the window under the mouse pointer"
-msgstr "Automatisch: "
-"Fokus folgt dem Mauszeiger"
+msgstr "Automatisch: Tastaturfokus folgt dem Mauszeiger"
 
 #: ../../WPrefs.app/Focus.c:243
 msgid "Install colormap in the window..."
-msgstr "Farbtabelle des Fensters installieren,..."
+msgstr "Farbtabelle im Fenster installieren, ..."
 
 #: ../../WPrefs.app/Focus.c:248
 msgid "...that has the input focus."
-msgstr "...das den Eingabe-Fokus hat."
+msgstr "..das den Eingabefokus hat."
 
 #: ../../WPrefs.app/Focus.c:253
 msgid "...that is under the mouse pointer."
@@ -468,16 +454,14 @@
 msgstr "ms"
 
 #: ../../WPrefs.app/Focus.c:336
-
 msgid ""
 "Do not let applications receive\n"
 "the click used to focus windows."
 msgstr ""
-"Anwendungen erhalten den\n"
-"\"Fokuswechsel-Klick\" nicht"
+"Aktivierungsklick wird nicht an\n"
+"Anwendung gesendet."
 
 #: ../../WPrefs.app/Focus.c:342
-
 msgid ""
 "Automatically focus new\n"
 "windows."
@@ -487,103 +471,98 @@
 
 #: ../../WPrefs.app/Focus.c:363
 msgid "Window Focus Preferences"
-msgstr "Fenster-Fokus-Einstellungen"
+msgstr "Fensterfokus-Einstellungen"
 
 #: ../../WPrefs.app/Focus.c:365
 msgid ""
 "Keyboard focus switching policy, colormap switching\n"
 "policy for 8bpp displays and other related options."
 msgstr ""
-"Wechsel des Tastaturfokus, Umschalten von Farbtabellen,\n"
-"8 bpp-Displays und verwandte Optionen."
+"Tastaturfokuswechsel, Farbtabellenwechsel für\n"
+"8 bpp-Displays und weitere verwandte Eigenschaften."
 
 #: ../../WPrefs.app/Font.c:276
 msgid "Could not locate font information file WPrefs.app/font.data"
-msgstr "Konnte Font-Infodatei \"WPrefs.app/font.data\" nicht finden"
+msgstr "Schrifteninformationsdatei \"WPrefs.app/font.data\" konnte nicht gefunden werden."
 
 #: ../../WPrefs.app/Font.c:282
 msgid "Could not read font information file WPrefs.app/font.data"
-msgstr "Konnte Font-Infodatei \"WPrefs.app/font.data\" nicht lesen"
+msgstr "Schrifteninformationsdatei \"WPrefs.app/font.data\" konnte nicht gelesen werden."
 
 #: ../../WPrefs.app/Font.c:293
 msgid ""
 "Invalid data in font information file WPrefs.app/font.data.\n"
 "Encodings data not found."
 msgstr ""
-"Ungültige Daten in Font-Infodatei \"WPrefs.app/font.data\".\n"
-"Kodierdaten nicht gefunden."
+"Ungültige Daten in Schrifteninformationsdatei \"WPrefs.app/font.data\".\n"
+"Daten für Kodierung nicht gefunden."
 
 #: ../../WPrefs.app/Font.c:298
 msgid "- Custom -"
-msgstr ""
+msgstr "- Angepasst -"
 
-#: ../../WPrefs.app/Font.c:329 ../../WPrefs.app/Menu.c:1534
+#: ../../WPrefs.app/Font.c:329 ../../WPrefs.app/Menu.c:1594
 #: ../../WPrefs.app/MouseSettings.c:140 ../../WPrefs.app/MouseSettings.c:160
-#: ../../WPrefs.app/TexturePanel.c:613 ../../WPrefs.app/TexturePanel.c:693
-#: ../../WPrefs.app/Themes.c:96 ../../WPrefs.app/WPrefs.c:758
-#: ../../WPrefs.app/WPrefs.c:763 ../../WPrefs.app/WPrefs.c:780
-#: ../../WPrefs.app/WPrefs.c:790 ../../WPrefs.app/WPrefs.c:800
-#: ../../WPrefs.app/WPrefs.c:838 ../../WPrefs.app/WPrefs.c:843
+#: ../../WPrefs.app/TexturePanel.c:615 ../../WPrefs.app/TexturePanel.c:695
+#: ../../WPrefs.app/Themes.c:96 ../../WPrefs.app/WPrefs.c:759
+#: ../../WPrefs.app/WPrefs.c:764 ../../WPrefs.app/WPrefs.c:781
+#: ../../WPrefs.app/WPrefs.c:791 ../../WPrefs.app/WPrefs.c:801
+#: ../../WPrefs.app/WPrefs.c:839 ../../WPrefs.app/WPrefs.c:844
 msgid "Error"
 msgstr "Fehler"
 
-#: ../../WPrefs.app/Font.c:329 ../../WPrefs.app/Menu.c:1534
+#: ../../WPrefs.app/Font.c:329 ../../WPrefs.app/Menu.c:1594
 #: ../../WPrefs.app/MouseSettings.c:142 ../../WPrefs.app/MouseSettings.c:162
-#: ../../WPrefs.app/TexturePanel.c:614 ../../WPrefs.app/TexturePanel.c:695
-#: ../../WPrefs.app/TexturePanel.c:1528 ../../WPrefs.app/Themes.c:98
-#: ../../WPrefs.app/WPrefs.c:758 ../../WPrefs.app/WPrefs.c:763
-#: ../../WPrefs.app/WPrefs.c:782 ../../WPrefs.app/WPrefs.c:794
-#: ../../WPrefs.app/WPrefs.c:800 ../../WPrefs.app/WPrefs.c:807
-#: ../../WPrefs.app/WPrefs.c:838 ../../WPrefs.app/WPrefs.c:843
+#: ../../WPrefs.app/TexturePanel.c:616 ../../WPrefs.app/TexturePanel.c:697
+#: ../../WPrefs.app/TexturePanel.c:1529 ../../WPrefs.app/Themes.c:98
+#: ../../WPrefs.app/WPrefs.c:759 ../../WPrefs.app/WPrefs.c:764
+#: ../../WPrefs.app/WPrefs.c:783 ../../WPrefs.app/WPrefs.c:795
+#: ../../WPrefs.app/WPrefs.c:801 ../../WPrefs.app/WPrefs.c:808
+#: ../../WPrefs.app/WPrefs.c:839 ../../WPrefs.app/WPrefs.c:844
 #: ../../WPrefs.app/imagebrowser.c:105
 msgid "OK"
 msgstr "OK"
 
 #: ../../WPrefs.app/Font.c:376
-
 msgid "Default Font Sets"
-msgstr "Default-Farbe"
+msgstr "Standardschriftarten"
 
 #: ../../WPrefs.app/Font.c:389
 msgid "Font Set"
-msgstr "Zeichensatz"
+msgstr "Schriftart"
 
 #: ../../WPrefs.app/Font.c:418
-
 msgid "Add..."
-msgstr "Ändern..."
+msgstr "Hinzufügen..."
 
 #: ../../WPrefs.app/Font.c:423 ../../WPrefs.app/Font.c:438
-
 msgid "Change..."
 msgstr "Ändern..."
 
-#: ../../WPrefs.app/Font.c:428 ../../WPrefs.app/Paths.c:288
-#: ../../WPrefs.app/Paths.c:319
+#: ../../WPrefs.app/Font.c:428 ../../WPrefs.app/Paths.c:284
+#: ../../WPrefs.app/Paths.c:315
 msgid "Remove"
-msgstr "Löschen"
+msgstr "Entfernen"
 
 #: ../../WPrefs.app/Font.c:477
-
 msgid "Font Preferences"
-msgstr "Fonteinstellungen"
+msgstr "Schrift-Einstellungen"
 
 #: ../../WPrefs.app/Font.c:478
-
 msgid "Font Configurations for Windows, Menus etc"
-msgstr "Fonteinstellungen für Fenster, Menüs etc."
+msgstr "Schriftkonfiguration für Fenster, Menüs usw."
 
 #: ../../WPrefs.app/Icons.c:180
 msgid "Icon Positioning"
-msgstr "Icon-Positionierung"
+msgstr "Symbolpositionierung"
 
 #: ../../WPrefs.app/Icons.c:227
 msgid "Iconification Animation"
-msgstr "Animation beim Minimieren"
+msgstr "Animation bei Minimierung"
 
 #: ../../WPrefs.app/Icons.c:238
 msgid "Shrinking/Zooming"
-msgstr "Verkleinern/Zoomen"
+msgstr "Verkleinern/Vergrößern"
 
 #: ../../WPrefs.app/Icons.c:239
 msgid "Spinning/Twisting"
@@ -591,7 +570,7 @@
 
 #: ../../WPrefs.app/Icons.c:240
 msgid "3D-flipping"
-msgstr "3D-Überschlag"
+msgstr "3D-Rotation"
 
 #: ../../WPrefs.app/Icons.c:241 ../../WPrefs.app/MouseSettings.c:838
 #: ../../WPrefs.app/MouseSettings.c:843
@@ -600,480 +579,471 @@
 
 #: ../../WPrefs.app/Icons.c:254
 msgid "Auto-arrange icons"
-msgstr "Icons automatisch positionieren"
+msgstr "Automatische Symbolanordnung"
 
 #: ../../WPrefs.app/Icons.c:256
 msgid "Keep icons and miniwindows arranged all the time."
-msgstr "Icons und Miniwindows immer korrekt positionieren."
+msgstr "Symbole und Minifenster immer anordnen."
 
 #: ../../WPrefs.app/Icons.c:262
 msgid "Omnipresent miniwindows"
-msgstr "Miniwindows sind \"omnipräsent\""
+msgstr "Omnipräsente Minifenster"
 
 #: ../../WPrefs.app/Icons.c:264
 msgid "Make miniwindows be present in all workspaces."
-msgstr "Miniwindows auf allen Arbeitsflächen darstellen."
+msgstr "Minifenster sind auf allen Arbeitsflächen sichtbar"
 
 #: ../../WPrefs.app/Icons.c:273
 msgid "Icon Size"
-msgstr "Icon-Größe"
+msgstr "Symbolgröße"
 
 #: ../../WPrefs.app/Icons.c:275
 msgid "The size of the dock/application icon and miniwindows"
-msgstr "Die Größe der Dock- bzw. Anwendungsicons und Miniwindows"
+msgstr "Größe der Dock-, Minifenster- und Anwendungssymbole"
 
 #: ../../WPrefs.app/Icons.c:345
 msgid "Icon Preferences"
-msgstr "Icon-Einstellungen"
+msgstr "Symbol-Einstellungen"
 
 #: ../../WPrefs.app/Icons.c:347
 msgid ""
 "Icon/Miniwindow handling options. Icon positioning\n"
 "area, sizes of icons, miniaturization animation style."
 msgstr ""
-"Handhabung von Icons/Miniwindows, Icon-Positionierungs-\n"
-"flächen, Iconsgrößen, Animation beim Minimieren."
+"Symbol-/Minifenster-Verhalten, Symbolpositionierung,\n"
+"Größe der Symbole, Minimierungs- und Animationsstil."
 
 #: ../../WPrefs.app/KeyboardSettings.c:73
 msgid "Initial Key Repeat"
-msgstr "Tastatur-Wiederholverzögerung"
+msgstr "Verzögerungsrate"
 
 #: ../../WPrefs.app/KeyboardSettings.c:114
 msgid "Key Repeat Rate"
-msgstr "Tastatur-Wiederholrate"
+msgstr "Wiederholrate"
 
 #: ../../WPrefs.app/KeyboardSettings.c:154
 msgid "Type here to test"
-msgstr "Hier testen"
+msgstr "Zum Testen hier Tippen"
 
 #: ../../WPrefs.app/KeyboardSettings.c:173
 msgid "Keyboard Preferences"
-msgstr "Tastatur-Einstellungen"
+msgstr "Tastatureinstellungen"
 
 #: ../../WPrefs.app/KeyboardSettings.c:175
 msgid "Not done"
-msgstr "Nicht ausgeführt"
+msgstr "Noch nicht erstellt"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:187 ../../WPrefs.app/Menu.c:327
-#: ../../WPrefs.app/TexturePanel.c:1534 ../../WPrefs.app/imagebrowser.c:100
+#: ../../WPrefs.app/KeyboardShortcuts.c:307 ../../WPrefs.app/Menu.c:360
+#: ../../WPrefs.app/TexturePanel.c:1535 ../../WPrefs.app/imagebrowser.c:100
 msgid "Cancel"
 msgstr "Abbrechen"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:188
+#: ../../WPrefs.app/KeyboardShortcuts.c:308
 msgid "Press the desired shortcut key(s) or click Cancel to stop capturing."
-msgstr "Drücken Sie die gewüsnchte(n) Taste(n) oder \"Abbrechen\""
+msgstr ""
+"Drücken Sie die gewünschte Tastenkombination oder auf \"Abbrechen\"."
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:208
-#: ../../WPrefs.app/KeyboardShortcuts.c:458 ../../WPrefs.app/Menu.c:338
-#: ../../WPrefs.app/Menu.c:782
+#: ../../WPrefs.app/KeyboardShortcuts.c:328
+#: ../../WPrefs.app/KeyboardShortcuts.c:575 ../../WPrefs.app/Menu.c:371
+#: ../../WPrefs.app/Menu.c:830
 msgid "Capture"
-msgstr "Aufz."
+msgstr "Aufzeichnen"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:209
-#: ../../WPrefs.app/KeyboardShortcuts.c:466
+#: ../../WPrefs.app/KeyboardShortcuts.c:329
+#: ../../WPrefs.app/KeyboardShortcuts.c:583
 msgid "Click Capture to interactively define the shortcut key."
-msgstr "Auf \"Aufzeichnen\" klicken, um ein Tastaturkürzel zu definieren."
+msgstr "Zum interaktiven Auswählen einer Tastenkombination \"Aufzeichnen\" klicken."
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:364
+#: ../../WPrefs.app/KeyboardShortcuts.c:483
 msgid "Actions"
 msgstr "Aktionen"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:380
+#: ../../WPrefs.app/KeyboardShortcuts.c:497
 msgid "Open applications menu"
-msgstr "Öffne Anwendungsmenü"
+msgstr "Anwendungsmenü öffnen"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:381
+#: ../../WPrefs.app/KeyboardShortcuts.c:498
 msgid "Open window list menu"
-msgstr "Öffne Fensterlisten-Menü"
+msgstr "Fensterliste öffnen"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:382
+#: ../../WPrefs.app/KeyboardShortcuts.c:499
 msgid "Open window commands menu"
-msgstr "Öffne Fensterkommando-Menü"
+msgstr "Fenstermenü öffnen"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:383
+#: ../../WPrefs.app/KeyboardShortcuts.c:500
 msgid "Hide active application"
-msgstr "Verberge aktive Anwendung"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:384
+msgstr "Aktive Anwendung ausblenden"
 
+#: ../../WPrefs.app/KeyboardShortcuts.c:501
 msgid "Hide other applications"
-msgstr "Verberge inaktive Anwendungen"
+msgstr "Alle anderen Anwendungen ausblenden"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:385
+#: ../../WPrefs.app/KeyboardShortcuts.c:502
 msgid "Miniaturize active window"
-msgstr "Minimiere aktives Fenster"
+msgstr "Aktives Fenster minimieren"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:386
+#: ../../WPrefs.app/KeyboardShortcuts.c:503
 msgid "Close active window"
-msgstr "Schließe aktives Fenster"
+msgstr "Aktives Fenster schließen"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:387
+#: ../../WPrefs.app/KeyboardShortcuts.c:504
 msgid "Maximize active window"
-msgstr "Maximiere aktives Fenster"
+msgstr "Aktives Fenster maximieren"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:388
+#: ../../WPrefs.app/KeyboardShortcuts.c:505
 msgid "Maximize active window vertically"
-msgstr "Maximiere aktives Fenster vertikal"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:389
+msgstr "Aktives Fenster vertikal maximieren"
 
+#: ../../WPrefs.app/KeyboardShortcuts.c:506
 msgid "Maximize active window horizontally"
-msgstr "Maximiere aktives Fenster horizontal"
+msgstr "Aktives Fenster horizontal maximieren"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:390
+#: ../../WPrefs.app/KeyboardShortcuts.c:507
 msgid "Raise active window"
 msgstr "Aktives Fenster in den Vordergrund"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:391
+#: ../../WPrefs.app/KeyboardShortcuts.c:508
 msgid "Lower active window"
-msgstr "Aktives Fenster in den Hindergrund"
+msgstr "Aktives Fenster in den Hintergrund"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:392
+#: ../../WPrefs.app/KeyboardShortcuts.c:509
 msgid "Raise/Lower window under mouse pointer"
-msgstr "Fenster unter Mauszeiger nach vorne/hinten"
+msgstr "Fenster unter Mauszeiger in Vor-/Hintergrund"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:393
+#: ../../WPrefs.app/KeyboardShortcuts.c:510
 msgid "Shade active window"
 msgstr "Aktives Fenster aufrollen"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:394
+#: ../../WPrefs.app/KeyboardShortcuts.c:511
 msgid "Move/Resize active window"
-msgstr "Aktives Fenster bewegen/vergrößern"
+msgstr "Aktives Fenster bewegen/verändern"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:395
+#: ../../WPrefs.app/KeyboardShortcuts.c:512
 msgid "Select active window"
-msgstr "Aktives Fenster selektieren"
+msgstr "Aktives Fenster auswählen"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:396
+#: ../../WPrefs.app/KeyboardShortcuts.c:513
 msgid "Focus next window"
-msgstr "Fokus auf nächstes Fenster"
+msgstr "Nächstes Fenster"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:397
+#: ../../WPrefs.app/KeyboardShortcuts.c:514
 msgid "Focus previous window"
-msgstr "Fokus auf vorheriges Fenster"
+msgstr "Vorheriges Fenster"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:398
+#: ../../WPrefs.app/KeyboardShortcuts.c:515
 msgid "Switch to next workspace"
-msgstr "Auf nächste Arbeitsfläche umschalten"
+msgstr "Zur nächsten Arbeitsfläche"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:399
+#: ../../WPrefs.app/KeyboardShortcuts.c:516
 msgid "Switch to previous workspace"
-msgstr "Auf vorherige Arbeitsfläche umschalten"
+msgstr "Zur vorherigen Arbeitsfläche"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:400
+#: ../../WPrefs.app/KeyboardShortcuts.c:517
 msgid "Switch to next ten workspaces"
-msgstr "Um zehn Arbeitsflächen weiterschalten"
+msgstr "Springe 10 Arbeitsflächen vorwärts"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:401
+#: ../../WPrefs.app/KeyboardShortcuts.c:518
 msgid "Switch to previous ten workspaces"
-msgstr "Um zehn Arbeitsflächen zurückschalten"
+msgstr "Springe 10 Arbeitsflächen rückwärts"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:402
+#: ../../WPrefs.app/KeyboardShortcuts.c:519
 msgid "Switch to workspace 1"
-msgstr "Auf Arbeitsfläche 1 umschalten"
+msgstr "Springe zu Arbeitsfläche 1"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:403
+#: ../../WPrefs.app/KeyboardShortcuts.c:520
 msgid "Switch to workspace 2"
-msgstr "Auf Arbeitsfläche 2 umschalten"
+msgstr "Springe zu Arbeitsfläche 2"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:404
+#: ../../WPrefs.app/KeyboardShortcuts.c:521
 msgid "Switch to workspace 3"
-msgstr "Auf Arbeitsfläche 3 umschalten"
+msgstr "Springe zu Arbeitsfläche 3"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:405
+#: ../../WPrefs.app/KeyboardShortcuts.c:522
 msgid "Switch to workspace 4"
-msgstr "Auf Arbeitsfläche 4 umschalten"
+msgstr "Springe zu Arbeitsfläche 4"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:406
+#: ../../WPrefs.app/KeyboardShortcuts.c:523
 msgid "Switch to workspace 5"
-msgstr "Auf Arbeitsfläche 5 umschalten"
+msgstr "Springe zu Arbeitsfläche 5"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:407
+#: ../../WPrefs.app/KeyboardShortcuts.c:524
 msgid "Switch to workspace 6"
-msgstr "Auf Arbeitsfläche 6 umschalten"
+msgstr "Springe zu Arbeitsfläche 6"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:408
+#: ../../WPrefs.app/KeyboardShortcuts.c:525
 msgid "Switch to workspace 7"
-msgstr "Auf Arbeitsfläche 7 umschalten"
+msgstr "Springe zu Arbeitsfläche 7"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:409
+#: ../../WPrefs.app/KeyboardShortcuts.c:526
 msgid "Switch to workspace 8"
-msgstr "Auf Arbeitsfläche 8 umschalten"
+msgstr "Springe zu Arbeitsfläche 8"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:410
+#: ../../WPrefs.app/KeyboardShortcuts.c:527
 msgid "Switch to workspace 9"
-msgstr "Auf Arbeitsfläche 9 umschalten"
+msgstr "Springe zu Arbeitsfläche 9"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:411
+#: ../../WPrefs.app/KeyboardShortcuts.c:528
 msgid "Switch to workspace 10"
-msgstr "Auf Arbeitsfläche 10 umschalten"
+msgstr "Springe zu Arbeitsfläche 10"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:412
+#: ../../WPrefs.app/KeyboardShortcuts.c:529
 msgid "Shortcut for window 1"
 msgstr "Tastenkürzel für Fenster 1"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:413
+#: ../../WPrefs.app/KeyboardShortcuts.c:530
 msgid "Shortcut for window 2"
 msgstr "Tastenkürzel für Fenster 2"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:414
+#: ../../WPrefs.app/KeyboardShortcuts.c:531
 msgid "Shortcut for window 3"
 msgstr "Tastenkürzel für Fenster 3"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:415
+#: ../../WPrefs.app/KeyboardShortcuts.c:532
 msgid "Shortcut for window 4"
 msgstr "Tastenkürzel für Fenster 4"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:416
-
+#: ../../WPrefs.app/KeyboardShortcuts.c:533
 msgid "Shortcut for window 5"
 msgstr "Tastenkürzel für Fenster 5"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:417
-
+#: ../../WPrefs.app/KeyboardShortcuts.c:534
 msgid "Shortcut for window 6"
 msgstr "Tastenkürzel für Fenster 6"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:418
-
+#: ../../WPrefs.app/KeyboardShortcuts.c:535
 msgid "Shortcut for window 7"
 msgstr "Tastenkürzel für Fenster 7"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:419
-
+#: ../../WPrefs.app/KeyboardShortcuts.c:536
 msgid "Shortcut for window 8"
 msgstr "Tastenkürzel für Fenster 8"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:420
-
+#: ../../WPrefs.app/KeyboardShortcuts.c:537
 msgid "Shortcut for window 9"
 msgstr "Tastenkürzel für Fenster 9"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:421
-
+#: ../../WPrefs.app/KeyboardShortcuts.c:538
 msgid "Shortcut for window 10"
 msgstr "Tastenkürzel für Fenster 10"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:422
-
+#: ../../WPrefs.app/KeyboardShortcuts.c:539
 msgid "Switch to Next Screen/Monitor"
-msgstr "Auf nächsten Bildschirm/Monitor wechseln"
+msgstr "Springe zum nächsten Bildschirm"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:423
+#: ../../WPrefs.app/KeyboardShortcuts.c:540
 msgid "Raise Clip"
-msgstr "Clip nach vorne"
+msgstr "Clip in den Vordergrund"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:424
+#: ../../WPrefs.app/KeyboardShortcuts.c:541
 msgid "Lower Clip"
-msgstr "Clip nach hinten"
+msgstr "Clip in den Hintergrund"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:425
+#: ../../WPrefs.app/KeyboardShortcuts.c:542
 msgid "Raise/Lower Clip"
-msgstr "Clip nach vorne/hinten"
+msgstr "Clip in den Vor-/Hintergrund"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:427
+#: ../../WPrefs.app/KeyboardShortcuts.c:544
 msgid "Toggle keyboard language"
-msgstr "Tastaturbelegung umschalten"
+msgstr "Tastatursprache ändern"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:441
+#: ../../WPrefs.app/KeyboardShortcuts.c:558
 msgid "Shortcut"
-msgstr "Tastaturkürzel"
+msgstr " Tastatur-Kurzbefehle "
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:452 ../../WPrefs.app/Menu.c:788
+#: ../../WPrefs.app/KeyboardShortcuts.c:569 ../../WPrefs.app/Menu.c:836
 msgid "Clear"
 msgstr "Löschen"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:514
+#: ../../WPrefs.app/KeyboardShortcuts.c:631
 msgid "Keyboard Shortcut Preferences"
 msgstr "Tastaturkürzel-Einstellungen"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:516
+#: ../../WPrefs.app/KeyboardShortcuts.c:633
 msgid ""
 "Change the keyboard shortcuts for actions such\n"
 "as changing workspaces and opening menus."
 msgstr ""
-"Verändern der Tastaturkürzel für Aktionen wie\n"
-"Arbeitsflächen-Wechsel oder das Öffnen von Menüs."
+"Ändern der Tastenkombinationen für Aktionen wie das\n"
+"Wechseln der Arbeitsflächen und das Öffnen von Menüs."
 
-#: ../../WPrefs.app/Menu.c:477
+#: ../../WPrefs.app/Menu.c:278
+msgid "Select Program"
+msgstr "Programm auswählen"
 
+#: ../../WPrefs.app/Menu.c:510
 msgid "New Items"
 msgstr "Neue Menüeinträge"
 
-#: ../../WPrefs.app/Menu.c:478
-
+#: ../../WPrefs.app/Menu.c:511
 msgid "Sample Commands"
 msgstr "Beispielkommandos"
 
-#: ../../WPrefs.app/Menu.c:479
-
+#: ../../WPrefs.app/Menu.c:512
 msgid "Sample Submenus"
 msgstr "Beispieluntermenüs"
 
-#: ../../WPrefs.app/Menu.c:493
+#: ../../WPrefs.app/Menu.c:526
 msgid "Run Program"
 msgstr "Programm ausführen"
 
-#: ../../WPrefs.app/Menu.c:494
-
+#: ../../WPrefs.app/Menu.c:527
 msgid "Internal Command"
 msgstr "Internes Kommando"
 
-#: ../../WPrefs.app/Menu.c:495
-
+#: ../../WPrefs.app/Menu.c:528
 msgid "Submenu"
 msgstr "Untermenü"
 
-#: ../../WPrefs.app/Menu.c:496
-
+#: ../../WPrefs.app/Menu.c:529
 msgid "External Submenu"
 msgstr "Externes Untermenü"
 
-#: ../../WPrefs.app/Menu.c:497
-
+#: ../../WPrefs.app/Menu.c:530
 msgid "Generated Submenu"
 msgstr "Erzeugtes Untermenü"
 
-#: ../../WPrefs.app/Menu.c:498
+#: ../../WPrefs.app/Menu.c:531
 msgid "Directory Contents"
 msgstr "Verzeichnisinhalt"
 
-#: ../../WPrefs.app/Menu.c:499
-
+#: ../../WPrefs.app/Menu.c:532
 msgid "Workspace Menu"
-msgstr "Arbeitsflächen-Menü"
-
-#: ../../WPrefs.app/Menu.c:500 ../../WPrefs.app/MouseSettings.c:840
+msgstr "Arbeitsflächenmenü"
 
+#: ../../WPrefs.app/Menu.c:533 ../../WPrefs.app/MouseSettings.c:840
 msgid "Window List Menu"
-msgstr "Fensterlisten-Menü"
+msgstr "Fensterlistenmenü"
 
-#: ../../WPrefs.app/Menu.c:519
+#: ../../WPrefs.app/Menu.c:552
 msgid "XTerm"
-msgstr ""
+msgstr "XTerm"
 
-#: ../../WPrefs.app/Menu.c:522
+#: ../../WPrefs.app/Menu.c:555
 msgid "rxvt"
-msgstr ""
+msgstr "rxvt"
 
-#: ../../WPrefs.app/Menu.c:525
+#: ../../WPrefs.app/Menu.c:558
 msgid "ETerm"
-msgstr ""
+msgstr "ETerm"
 
-#: ../../WPrefs.app/Menu.c:528
+#: ../../WPrefs.app/Menu.c:561
 msgid "Run..."
-msgstr "Starten..."
+msgstr "Ausführen..."
 
-#: ../../WPrefs.app/Menu.c:529
+#: ../../WPrefs.app/Menu.c:562
+#, c-format
 msgid "%a(Run,Type command to run)"
-msgstr "%a(Starten, zustartendes Kommando)"
+msgstr "%a(Ausführen,Auszuführendes Kommando eingeben)"
 
-#: ../../WPrefs.app/Menu.c:531
+#: ../../WPrefs.app/Menu.c:564
 msgid "Netscape"
-msgstr ""
+msgstr "Netscape"
 
-#: ../../WPrefs.app/Menu.c:534
+#: ../../WPrefs.app/Menu.c:567
 msgid "gimp"
-msgstr ""
+msgstr "gimp"
 
-#: ../../WPrefs.app/Menu.c:537
+#: ../../WPrefs.app/Menu.c:570
 msgid "epic"
-msgstr ""
+msgstr "epic"
 
-#: ../../WPrefs.app/Menu.c:540
+#: ../../WPrefs.app/Menu.c:573
 msgid "ee"
-msgstr ""
+msgstr "ee"
 
-#: ../../WPrefs.app/Menu.c:543
+#: ../../WPrefs.app/Menu.c:576
 msgid "xv"
-msgstr ""
+msgstr "xv"
 
-#: ../../WPrefs.app/Menu.c:546
+#: ../../WPrefs.app/Menu.c:579
 msgid "Acrobat Reader"
-msgstr ""
+msgstr "Acrobat Reader"
 
-#: ../../WPrefs.app/Menu.c:549
+#: ../../WPrefs.app/Menu.c:582
 msgid "ghostview"
-msgstr ""
-
-#: ../../WPrefs.app/Menu.c:552 ../../WPrefs.app/Menu.c:809
+msgstr "ghostview"
 
+#: ../../WPrefs.app/Menu.c:585 ../../WPrefs.app/Menu.c:857
 msgid "Exit Window Maker"
 msgstr "Window Maker beenden"
 
-#: ../../WPrefs.app/Menu.c:575
+#: ../../WPrefs.app/Menu.c:608
 msgid "Debian Menu"
-msgstr "Debian Menü"
+msgstr "Debian-Menü"
 
-#: ../../WPrefs.app/Menu.c:578
+#: ../../WPrefs.app/Menu.c:611
 msgid "RedHat Menu"
-msgstr "RedHat Menü"
+msgstr "RedHat-Menü"
 
-#: ../../WPrefs.app/Menu.c:581
+#: ../../WPrefs.app/Menu.c:614
 msgid "Menu Conectiva"
-msgstr "Conectiva Menü"
+msgstr "Conectiva-Menü"
 
-#: ../../WPrefs.app/Menu.c:584 ../../WPrefs.app/Themes.c:250
+#: ../../WPrefs.app/Menu.c:617 ../../WPrefs.app/Themes.c:250
 msgid "Themes"
 msgstr "Themen"
 
-#: ../../WPrefs.app/Menu.c:589
+#: ../../WPrefs.app/Menu.c:622
 msgid "Bg Images (scale)"
-msgstr "Hg Bilder (skal.)"
+msgstr "Hg Bilder (voll)"
 
-#: ../../WPrefs.app/Menu.c:594
+#: ../../WPrefs.app/Menu.c:627
 msgid "Bg Images (tile)"
 msgstr "Hg Bilder (Kachel)"
 
-#: ../../WPrefs.app/Menu.c:599
+#: ../../WPrefs.app/Menu.c:632
 msgid "Assorted XTerms"
 msgstr "Versch. XTerms"
 
-#: ../../WPrefs.app/Menu.c:601
+#: ../../WPrefs.app/Menu.c:634
 msgid "XTerm Yellow on Blue"
 msgstr "XTerm Gelb auf Blau"
 
-#: ../../WPrefs.app/Menu.c:604
+#: ../../WPrefs.app/Menu.c:637
 msgid "XTerm White on Black"
-msgstr "XTerm Weiß auf Schw."
+msgstr "XTerm Weiß auf Schwarz"
 
-#: ../../WPrefs.app/Menu.c:607
+#: ../../WPrefs.app/Menu.c:640
 msgid "XTerm Black on White"
-msgstr "XTerm Schw. auf Weiß"
+msgstr "XTerm Schwarz auf Weiß"
 
-#: ../../WPrefs.app/Menu.c:610
+#: ../../WPrefs.app/Menu.c:643
 msgid "XTerm Black on Beige"
-msgstr "XTerm Schw. auf Beige"
+msgstr "XTerm Schwarz auf Beige"
 
-#: ../../WPrefs.app/Menu.c:613
+#: ../../WPrefs.app/Menu.c:646
 msgid "XTerm White on Green"
 msgstr "XTerm Weiß auf Grün"
 
-#: ../../WPrefs.app/Menu.c:616
+#: ../../WPrefs.app/Menu.c:649
 msgid "XTerm White on Olive"
 msgstr "XTerm Weiß auf Oliv"
 
-#: ../../WPrefs.app/Menu.c:619
+#: ../../WPrefs.app/Menu.c:652
 msgid "XTerm Blue on Blue"
 msgstr "XTerm Blau auf Blau"
 
-#: ../../WPrefs.app/Menu.c:622
+#: ../../WPrefs.app/Menu.c:655
 msgid "XTerm BIG FONTS"
-msgstr "XTerm große Fonts"
+msgstr "XTerm Große Schriften"
 
-#: ../../WPrefs.app/Menu.c:644
+#: ../../WPrefs.app/Menu.c:677
 msgid "Program to Run"
-msgstr "Zu startendes Programm"
+msgstr "Auszuführendes Programm"
+
+#: ../../WPrefs.app/Menu.c:687
+msgid "Browse"
+msgstr "Suchen..."
 
-#: ../../WPrefs.app/Menu.c:658
+#: ../../WPrefs.app/Menu.c:698
 msgid "Run the program inside a Xterm"
-msgstr "Starte Programm in einem Xterm"
+msgstr "Programm in einem XTerm ausführen"
 
-#: ../../WPrefs.app/Menu.c:668
+#: ../../WPrefs.app/Menu.c:708
 msgid "Path for Menu"
 msgstr "Menüpfad"
 
-#: ../../WPrefs.app/Menu.c:681
+#: ../../WPrefs.app/Menu.c:721
 msgid ""
 "Enter the path for a file containing a menu\n"
 "or a list of directories with the programs you\n"
@@ -1082,111 +1052,110 @@
 "or\n"
 "/usr/X11R6/bin ~/xbin"
 msgstr ""
-"Bitte den Pfad zu entweder der Datei mit dem Menü,\n"
-"oder zu einem Verzeichnis eingeben, dass die in\n"
-"das Menü aufzunehmende Programme enthält. Z.B.:\n"
+"Geben Sie den Pfad einer Datei, die ein Menü\n"
+"enthält, oder eine Liste von Verzeichnissen\n"
+"mit den gewüschten Anwendungen ein. Bespiel:\n"
 "~/GNUstep/Library/WindowMaker/menu\n"
 "oder\n"
 "/usr/X11R6/bin ~/xbin"
 
-#: ../../WPrefs.app/Menu.c:696
+#: ../../WPrefs.app/Menu.c:736
 msgid "Command"
 msgstr "Kommando"
 
-#: ../../WPrefs.app/Menu.c:710
+#: ../../WPrefs.app/Menu.c:750
 msgid ""
 "Enter a command that outputs a menu\n"
 "definition to stdout when invoked."
 msgstr ""
-"Ein Kommando eingeben, dass beim Aufruf\n"
-"eine Menüdefinition auf STDOUT ausgibt."
+"Geben Sie ein Kommando ein, das beim Aufruf\n"
+"ein Menü nach STDOUT ausgibt."
 
-#: ../../WPrefs.app/Menu.c:721
+#: ../../WPrefs.app/Menu.c:758
+msgid ""
+"Cache menu contents after opening for\n"
+"the first time"
+msgstr ""
+"Menüinhalt nach dem ersten Laden\n"
+"zwischenspeichern"
 
+#: ../../WPrefs.app/Menu.c:769
 msgid "Command to Open Files"
-msgstr "Programm zum Öffnen der Dateien"
+msgstr "Befehl zum Öffnen von Dateien"
 
-#: ../../WPrefs.app/Menu.c:735
+#: ../../WPrefs.app/Menu.c:783
 msgid ""
 "Enter the command you want to use to open the\n"
 "files in the directories listed below."
 msgstr ""
-"Kommando eingeben, dass die Dateien in den\n"
-"unten aufgeführten Verzeichnissen öffnen soll."
+"Geben Sie das Kommando zum Öffnen der Dateien\n"
+"in den unten aufgelisteten Verzeichnissen ein."
 
-#: ../../WPrefs.app/Menu.c:744
+#: ../../WPrefs.app/Menu.c:792
 msgid "Directories with Files"
 msgstr "Verzeichnisse mit Dateien"
 
-#: ../../WPrefs.app/Menu.c:757
+#: ../../WPrefs.app/Menu.c:805
 msgid "Strip extensions from file names"
 msgstr "Dateierweiterungen entfernen"
 
-#: ../../WPrefs.app/Menu.c:769
-
+#: ../../WPrefs.app/Menu.c:817
 msgid "Keyboard Shortcut"
 msgstr "Tastaturkürzel"
 
-#: ../../WPrefs.app/Menu.c:805
+#: ../../WPrefs.app/Menu.c:853
 msgid "Arrange Icons"
-msgstr "Icons anordnen"
+msgstr "Symbole anordnen"
 
-#: ../../WPrefs.app/Menu.c:806
+#: ../../WPrefs.app/Menu.c:854
 msgid "Hide All Windows Except For The Focused One"
-msgstr "Alle Fenster außer das fokusierte verbergen"
+msgstr "Alle Fenster bis auf das aktive ausblenden"
 
-#: ../../WPrefs.app/Menu.c:807
+#: ../../WPrefs.app/Menu.c:855
 msgid "Show All Windows"
 msgstr "Alle Fenster anzeigen"
 
-#: ../../WPrefs.app/Menu.c:810
+#: ../../WPrefs.app/Menu.c:858
 msgid "Exit X Session"
 msgstr "X-Sitzung beenden"
 
-#: ../../WPrefs.app/Menu.c:811
-
+#: ../../WPrefs.app/Menu.c:859
 msgid "Restart Window Maker"
 msgstr "Window Maker neu starten"
 
-#: ../../WPrefs.app/Menu.c:812
-
+#: ../../WPrefs.app/Menu.c:860
 msgid "Start Another Window Manager   : ("
-msgstr "Anderen Window-Manager starten"
-
-#: ../../WPrefs.app/Menu.c:814
+msgstr "Anderen Windowmanager starten   : ("
 
+#: ../../WPrefs.app/Menu.c:862
 msgid "Save Current Session"
-msgstr "Aktuelle Sitzung sichern"
-
-#: ../../WPrefs.app/Menu.c:815
+msgstr "Aktuelle Sitzung speichern"
 
+#: ../../WPrefs.app/Menu.c:863
 msgid "Clear Saved Session"
-msgstr "Sicherung aufheben"
+msgstr "Gespeicherte Sitzung löschen"
 
-#: ../../WPrefs.app/Menu.c:816
+#: ../../WPrefs.app/Menu.c:864
 msgid "Refresh Screen"
-msgstr "Bildschirm-Refresh"
-
-#: ../../WPrefs.app/Menu.c:817
+msgstr "Bildschirm auffrischen"
 
+#: ../../WPrefs.app/Menu.c:865
 msgid "Open Info Panel"
-msgstr "Info-Panel anzeigen"
+msgstr "Kurzinformation anzeigen"
 
-#: ../../WPrefs.app/Menu.c:818
+#: ../../WPrefs.app/Menu.c:866
 msgid "Open Copyright Panel"
-msgstr "Copyright Panel anzeigen"
-
-#: ../../WPrefs.app/Menu.c:824
+msgstr "Copyright anzeigen"
 
+#: ../../WPrefs.app/Menu.c:872
 msgid "Window Manager to Start"
-msgstr "Zu startender Window Manager"
-
-#: ../../WPrefs.app/Menu.c:840
+msgstr "Zu startender Windowmanager"
 
+#: ../../WPrefs.app/Menu.c:888
 msgid "Do not confirm action."
-msgstr "Aktion nicht bestätigen"
+msgstr "Aktion nicht bestätigen."
 
-#: ../../WPrefs.app/Menu.c:850
+#: ../../WPrefs.app/Menu.c:898
 msgid ""
 "Instructions:\n"
 "\n"
@@ -1197,117 +1166,110 @@
 " - double click in a menu item to change the label\n"
 " - click on a menu item to change related information"
 msgstr ""
-"Anleitung zum Anpassen der Menüs mit der Maus:\n"
+"Anweisungen:\n"
 "\n"
-" - Neue Menüeinträge von links auf das Menü ziehen.\n"
+" - Neue Menüeinträge von links in das Menü ziehen.\n"
 " - Zum Löschen Menüeinträge aus dem Menü herausz.\n"
 " - Einträge im Menü durch Ziehen neu platzieren.\n"
-" - Einträge durch Ziehen bei gedr. \"Strg\" kopieren.\n"
+" - Einträge durch Ziehen mit gedr. 'Strg' kopieren.\n"
 " - Beschriftung durch Doppelklick ändern.\n"
 " - Nach Anklicken sind weitere Einstellungen sichtbar."
 
-#: ../../WPrefs.app/Menu.c:1068
+#: ../../WPrefs.app/Menu.c:1122
 #, c-format
 msgid "unknown command '%s' in menu"
-msgstr "unbekanntes Kommando '%s' in Menü"
-
-#: ../../WPrefs.app/Menu.c:1100
+msgstr "unbekannter Menübefehl '%s'"
 
+#: ../../WPrefs.app/Menu.c:1154
 msgid ": Execute Program"
 msgstr ": Programm ausführen"
 
-#: ../../WPrefs.app/Menu.c:1104
+#: ../../WPrefs.app/Menu.c:1158
 msgid ": Perform Internal Command"
-msgstr ": Internes Kommando ausführen"
-
-#: ../../WPrefs.app/Menu.c:1108
+msgstr ": Internen Befehl ausführen"
 
+#: ../../WPrefs.app/Menu.c:1162
 msgid ": Open a Submenu"
 msgstr ": Untermenü öffnen"
 
-#: ../../WPrefs.app/Menu.c:1112
+#: ../../WPrefs.app/Menu.c:1166
 msgid ": Program Generated Submenu"
 msgstr ": Programmgeneriertes Untermenü"
 
-#: ../../WPrefs.app/Menu.c:1116
+#: ../../WPrefs.app/Menu.c:1170
 msgid ": Directory Contents Menu"
-msgstr ": Verzeichnisinhalt-Menü"
-
-#: ../../WPrefs.app/Menu.c:1120
+msgstr ": Menü mit Verzeichnisinhalt"
 
+#: ../../WPrefs.app/Menu.c:1174
 msgid ": Open Workspaces Submenu"
-msgstr ": Arbeitsflächen-Menü öffnen"
-
-#: ../../WPrefs.app/Menu.c:1124
+msgstr ": Arbeitsflächen-Untermenü"
 
+#: ../../WPrefs.app/Menu.c:1178
 msgid ": Open Window List Submenu"
-msgstr ": Öffne Fensterlisten-Menü"
-
-#: ../../WPrefs.app/Menu.c:1344
+msgstr ": Fensterlisten-Untermenü"
 
+#: ../../WPrefs.app/Menu.c:1403
 msgid "Remove Submenu"
 msgstr "Untermenü entfernen"
 
-#: ../../WPrefs.app/Menu.c:1345
+#: ../../WPrefs.app/Menu.c:1404
 msgid ""
 "Removing this item will destroy all items inside\n"
 "the submenu. Do you really want to do that?"
 msgstr ""
-"Das Löschen dieses Eintrags löscht alle Einträge\n"
+"Das Entfernen dieses Eintrages löscht alle Einträge\n"
 "innerhalb des Untermenüs. Wollen Sie das wirklich?"
 
-#: ../../WPrefs.app/Menu.c:1347
+#: ../../WPrefs.app/Menu.c:1406
 msgid "Yes"
 msgstr "Ja"
 
-#: ../../WPrefs.app/Menu.c:1347
-
+#: ../../WPrefs.app/Menu.c:1406
 msgid "No"
 msgstr "Nein"
 
-#: ../../WPrefs.app/Menu.c:1348
+#: ../../WPrefs.app/Menu.c:1407
 msgid "Yes, don't ask again."
-msgstr "Ja, nicht mehr nachfragen."
+msgstr "Ja, nicht mehr nachfragen"
 
 #. if there is a localized plmenu for the tongue put it's filename here
-#: ../../WPrefs.app/Menu.c:1515 ../../WPrefs.app/Menu.c:1522
+#: ../../WPrefs.app/Menu.c:1575 ../../WPrefs.app/Menu.c:1582
 #, c-format
 msgid "%s/Library/WindowMaker/plmenu"
 msgstr "%s/Library/WindowMaker/plmenu.de"
 
-#: ../../WPrefs.app/Menu.c:1531
+#: ../../WPrefs.app/Menu.c:1591
 #, c-format
 msgid "Could not open default menu from '%s'"
-msgstr "Konnte Default-Menü aus '%s' nicht öffnen"
+msgstr "Standardmenü '%s' konnte nicht geöffnet werden"
 
-#: ../../WPrefs.app/Menu.c:1569 ../../WPrefs.app/WPrefs.c:807
+#: ../../WPrefs.app/Menu.c:1629 ../../WPrefs.app/WPrefs.c:808
 msgid "Warning"
 msgstr "Warnung"
 
-#: ../../WPrefs.app/Menu.c:1570
+#: ../../WPrefs.app/Menu.c:1630
 msgid ""
 "The menu file format currently in use is not supported\n"
 "by this tool. Do you want to discard the current menu\n"
 "to use this tool?"
 msgstr ""
-"Das aktuell verwendete Menüdateiformat wird durch dieses\n"
-"Tool nicht unterstützt. Wollen Sie das aktuelle Menü\n"
-"verwerfen, um dieses Tool zu benutzen?"
+"Das momentan verwendete Menüdateiformat wird vom\n"
+"Programm nicht unterstützt. Wollen Sie das aktuelle Menü\n"
+"verwerfen, um dieses Programm verwenden zu können?"
 
-#: ../../WPrefs.app/Menu.c:1573
+#: ../../WPrefs.app/Menu.c:1633
 msgid "Yes, Discard and Update"
-msgstr "Ja, verwerfen und erneuern"
-
-#: ../../WPrefs.app/Menu.c:1574
+msgstr "Ja, Verwerfen und Erneuern"
 
+#: ../../WPrefs.app/Menu.c:1634
 msgid "No, Keep Current Menu"
-msgstr "Nein, aktuelles Menü beibehalten"
+msgstr "Nein, aktuelles Menü behalten"
 
-#: ../../WPrefs.app/Menu.c:1834
+#: ../../WPrefs.app/Menu.c:1897
 msgid "Applications Menu Definition"
-msgstr "Anwndungsmenü definieren"
+msgstr "Anwendungsmenü-Definition"
 
-#: ../../WPrefs.app/Menu.c:1836
+#: ../../WPrefs.app/Menu.c:1899
 msgid "Edit the menu for launching applications."
 msgstr "Editieren des Menüs zum Starten von Anwendungen"
 
@@ -1320,7 +1282,6 @@
 msgstr "Untermenü-Ausrichtung"
 
 #: ../../WPrefs.app/MenuPreferences.c:204
-
 msgid ""
 "Always open submenus inside the screen, instead of scrolling.\n"
 "Note: this is annoying."
@@ -1330,7 +1291,7 @@
 
 #: ../../WPrefs.app/MenuPreferences.c:209
 msgid "Scroll off-screen menus when pointer is moved over them."
-msgstr "Menüs hereinscrollen wenn der Mauszeiger darüber bewegt wird."
+msgstr "Außenliegende Menüs hereinbewegen, wenn der Mauszeiger darüber ist."
 
 #: ../../WPrefs.app/MenuPreferences.c:229
 msgid "Menu Preferences"
@@ -1341,27 +1302,26 @@
 "Menu usability related options. Scrolling speed,\n"
 "alignment of submenus etc."
 msgstr ""
-"Optionen zur Bedienung der Menüs. Scrollgeschwindigkeit,\n"
-"Ausrichtung von Untermenüs, etc."
+"Menüverhalten und verwandte Einstellungen. Scrollgeschwindigkeit,\n"
+"Ausrichtung von Untermenüs usw."
 
 #: ../../WPrefs.app/MouseSettings.c:141
 msgid "Invalid mouse acceleration value. Must be a positive real value."
-msgstr ""
-"Ungültiger Wert für Mausbeschleunigung. Muß ein positiver realer Wert sein."
+msgstr "Ungültiger Wert für Mausbeschleunigung: Positiver Wert erwartet."
 
 #: ../../WPrefs.app/MouseSettings.c:161
 msgid ""
 "Invalid mouse acceleration threshold value. Must be the number of pixels to "
 "travel before accelerating."
 msgstr ""
-"Ungültiger Schwellwert für Mausbeschleunigung (Anzahl der zurückzulegenden "
-"Pixel bevor die Beschleunigung beginnt.)"
+"Ungültiger Schwellwert für Mausbeschleunigung: Anzahl der zurückgelegten "
+"Pixel erwartet"
 
 #: ../../WPrefs.app/MouseSettings.c:262 ../../WPrefs.app/MouseSettings.c:274
 #: ../../WPrefs.app/MouseSettings.c:286 ../../WPrefs.app/MouseSettings.c:298
 #, c-format
 msgid "bad value %s for option %s"
-msgstr "Ungültiger Wert %s für Option %s"
+msgstr "ungültiger Wert %s für Option %s"
 
 #: ../../WPrefs.app/MouseSettings.c:357
 #, c-format
@@ -1369,15 +1329,16 @@
 "modifier key %s for option ModifierKey was not recognized. Using %s as "
 "default"
 msgstr ""
-"Modifier %s für Option MODIFIERKEY nicht erkannt. Benutze Voreinstellung %s."
+"Umschalttaste %s für die Option \"ModifierKey\" wurde nicht erkannt. Standard %s "
+"wird benutzt"
 
 #: ../../WPrefs.app/MouseSettings.c:382
 msgid "could not retrieve keyboard modifier mapping"
-msgstr "konnte Modifier-Belegung der Tastatur nicht ermitteln"
+msgstr "Tastaturmodifikator-Belegung konnte nicht zurückverfolgt werden"
 
 #: ../../WPrefs.app/MouseSettings.c:477
 msgid "Mouse Speed"
-msgstr "Mausgeschwindigkeit"
+msgstr " Mausgeschwindigkeit "
 
 #: ../../WPrefs.app/MouseSettings.c:507
 msgid "Acceler.:"
@@ -1389,7 +1350,7 @@
 
 #: ../../WPrefs.app/MouseSettings.c:535
 msgid "Double-Click Delay"
-msgstr "Doppelklick-Verzögerung"
+msgstr " Doppelklickverzögerung "
 
 #: ../../WPrefs.app/MouseSettings.c:579
 msgid "Test"
@@ -1397,11 +1358,11 @@
 
 #: ../../WPrefs.app/MouseSettings.c:609
 msgid "Workspace Mouse Actions"
-msgstr "Arbeitsflächen-Mausaktionen"
+msgstr " Arbeitsflächen-Mausklicks "
 
 #: ../../WPrefs.app/MouseSettings.c:614
 msgid "Disable mouse actions"
-msgstr "Mausaktionen deaktivieren"
+msgstr "Keine Mausaktionen"
 
 #: ../../WPrefs.app/MouseSettings.c:620
 msgid "Left Button"
@@ -1416,13 +1377,12 @@
 msgstr "Rechte Taste"
 
 #: ../../WPrefs.app/MouseSettings.c:650
-
 msgid "Mouse Wheel"
 msgstr "Mausrad"
 
 #: ../../WPrefs.app/MouseSettings.c:672
 msgid "Mouse Grab Modifier"
-msgstr "Modifier zum Aufnehmen mit der Maus"
+msgstr " Taste zum Aufnehmen "
 
 #: ../../WPrefs.app/MouseSettings.c:674
 msgid ""
@@ -1430,71 +1390,68 @@
 "involve dragging windows with the mouse,\n"
 "clicking inside the window."
 msgstr ""
-"Tastatur-Modifier für Maus-Aktionen wie Fenster\n"
-"verschieben, in Fenster klicken, etc."
+"Taste zum Verschieben eines Fensters,\n"
+"wenn in dessen Client-Bereich geklickt\n"
+"wurde."
 
 #: ../../WPrefs.app/MouseSettings.c:708
 #, c-format
 msgid "could not create %s"
-msgstr "konnte %s nicht erzeugen"
+msgstr "%s konnte nicht erzeugt werden"
 
 #: ../../WPrefs.app/MouseSettings.c:724
 #, c-format
 msgid "could not create temporary file %s"
-msgstr "konnte temporäre Datei %s nicht erzeugen"
+msgstr "temporäre Datei %s konnte nicht erzeugt werden"
 
 #: ../../WPrefs.app/MouseSettings.c:756
 #, c-format
 msgid "could not rename file %s to %s\n"
-msgstr "konnte Datei %s nicht in Datei %s umbenennen\n"
+msgstr "Datei %s konnte nicht nach %s umbenannt werden\n"
 
 #: ../../WPrefs.app/MouseSettings.c:829
 msgid "Shift"
-msgstr ""
+msgstr "Shift"
 
 #: ../../WPrefs.app/MouseSettings.c:830
 msgid "Lock"
 msgstr "Untbr"
 
 #: ../../WPrefs.app/MouseSettings.c:831
-
 msgid "Control"
 msgstr "Strg"
 
 #: ../../WPrefs.app/MouseSettings.c:832
 msgid "Mod1"
-msgstr ""
+msgstr "Mod1"
 
 #: ../../WPrefs.app/MouseSettings.c:833
 msgid "Mod2"
-msgstr ""
+msgstr "Mod2"
 
 #: ../../WPrefs.app/MouseSettings.c:834
 msgid "Mod3"
-msgstr ""
+msgstr "Mod3"
 
 #: ../../WPrefs.app/MouseSettings.c:835
 msgid "Mod4"
-msgstr ""
+msgstr "Mod4"
 
 #: ../../WPrefs.app/MouseSettings.c:836
 msgid "Mod5"
-msgstr ""
+msgstr "Mod5"
 
 #: ../../WPrefs.app/MouseSettings.c:839
-
 msgid "Applications Menu"
 msgstr "Anwendungsmenü"
 
 #: ../../WPrefs.app/MouseSettings.c:841
-
 msgid "Select Windows"
 msgstr "Fenster auswählen"
 
 #: ../../WPrefs.app/MouseSettings.c:844
-
 msgid "Switch Workspaces"
-msgstr "Arbeitsflächen wechs."
+msgstr "Arbeitsfläche wechseln"
 
 #: ../../WPrefs.app/MouseSettings.c:849
 msgid "Mouse Preferences"
@@ -1505,45 +1462,43 @@
 "Mouse speed/acceleration, double click delay,\n"
 "mouse button bindings etc."
 msgstr ""
-"Mausgeschwindigkeit/-beschleunigung, Doppel-\n"
-"klickverzögerung, Maustastenbelegung, etc."
-
-#: ../../WPrefs.app/Paths.c:84
+"Mausgeschwindigkeit/-beschleunigung, Doppelklickverzögerung,\n"
+"Maustastenbelegung usw."
 
+#: ../../WPrefs.app/Paths.c:85
 msgid "bad value in option IconPath. Using default path list"
-msgstr "ungültiger Wert für IconPath-Option. Benutze voreingestellte Pfadliste."
+msgstr "ungültiger Wert in Eigenschaft \"IconPath\". Standard Pfadliste wird verwendet."
 
-#: ../../WPrefs.app/Paths.c:101
+#: ../../WPrefs.app/Paths.c:102
 msgid "bad value in option PixmapPath. Using default path list"
-msgstr ""
-"ungültiger Wert für PixmapPath-Option. Benutze voreingestellte Pfadliste."
+msgstr "ungültiger Wert in Eigenschaft \"PixmapPath\". Standard Pfadliste wird verwendet."
 
-#: ../../WPrefs.app/Paths.c:149
+#: ../../WPrefs.app/Paths.c:150
 msgid "Select directory"
 msgstr "Verzeichnis wählen"
 
-#: ../../WPrefs.app/Paths.c:270
+#: ../../WPrefs.app/Paths.c:266
 msgid "Icon Search Paths"
-msgstr "Icon Verzeichnis"
+msgstr "Symbol-Verzeichnisse"
 
-#: ../../WPrefs.app/Paths.c:281 ../../WPrefs.app/Paths.c:312
-#: ../../WPrefs.app/TexturePanel.c:1310
+#: ../../WPrefs.app/Paths.c:277 ../../WPrefs.app/Paths.c:308
+#: ../../WPrefs.app/TexturePanel.c:1312
 msgid "Add"
-msgstr "Hinzuf."
+msgstr "Hinzufügen"
 
-#: ../../WPrefs.app/Paths.c:301
+#: ../../WPrefs.app/Paths.c:297
 msgid "Pixmap Search Paths"
-msgstr "Pixmap Verzeichnis"
+msgstr "Pixmap-Verzeichnisse"
 
-#: ../../WPrefs.app/Paths.c:341
+#: ../../WPrefs.app/Paths.c:337
 msgid "Search Path Configuration"
-msgstr "Suchpfad-Konfiguration"
+msgstr "Suchpfad-Einstellungen"
 
-#: ../../WPrefs.app/Paths.c:343
+#: ../../WPrefs.app/Paths.c:339
 msgid ""
 "Search paths to use when looking for pixmaps\n"
 "and icons."
-msgstr "Suchpfade für Pixmaps und Icons"
+msgstr "Suchpfade für Pixmaps und Symbole"
 
 #: ../../WPrefs.app/Preferences.c:75
 msgid "OFF"
@@ -1563,19 +1518,19 @@
 #: ../../WPrefs.app/Preferences.c:83
 #, c-format
 msgid "%i pixels "
-msgstr "%i Pixel"
+msgstr "%i Pixel "
 
 #: ../../WPrefs.app/Preferences.c:229
 msgid "Size Display"
-msgstr "Größe verändern"
+msgstr "Größenanzeige"
 
 #: ../../WPrefs.app/Preferences.c:231
 msgid ""
 "The position or style of the window size\n"
 "display that's shown when a window is resized."
 msgstr ""
-"Position/Stil der Anzeige die zu sehen ist\n"
-"wenn ein Fenster vergrößert/verkleinert wird."
+"Die Position oder Stil der Größenanzeige,\n"
+"die beim Verändern eines Fensters erscheint."
 
 #: ../../WPrefs.app/Preferences.c:238 ../../WPrefs.app/Preferences.c:259
 msgid "Corner of screen"
@@ -1583,78 +1538,73 @@
 
 #: ../../WPrefs.app/Preferences.c:239 ../../WPrefs.app/Preferences.c:260
 msgid "Center of screen"
-msgstr "Mitte des Bildschirms"
+msgstr "Bildschirmmitte"
 
 #: ../../WPrefs.app/Preferences.c:240 ../../WPrefs.app/Preferences.c:261
 msgid "Center of resized window"
-msgstr "Mitte des Fensters"
+msgstr "Fenstermitte"
 
 #: ../../WPrefs.app/Preferences.c:241
 msgid "Technical drawing-like"
 msgstr "Wie technische Zeichnung"
 
 #: ../../WPrefs.app/Preferences.c:242 ../../WPrefs.app/Preferences.c:262
-
 msgid "Disabled"
 msgstr "Deaktiviert"
 
 #: ../../WPrefs.app/Preferences.c:250
 msgid "Position Display"
-msgstr "Position verändern"
+msgstr "Positionsanzeige"
 
 #: ../../WPrefs.app/Preferences.c:252
 msgid ""
 "The position or style of the window position\n"
 "display that's shown when a window is moved."
 msgstr ""
-"Position oder Stil der Fensterpositions-\n"
-"Anzeige wenn das Fenster bewegt wird."
+"Ausrichtung oder Stil der Positionsanzeige, die\n"
+"beim Verschieben eines Fensters sichtbar ist."
 
 #: ../../WPrefs.app/Preferences.c:270
 msgid "Show balloon text for..."
-msgstr "\"Ballon Text\" zeigen für..."
+msgstr "Zeige Ballontext für..."
 
 #: ../../WPrefs.app/Preferences.c:277
 msgid "incomplete window titles"
-msgstr "Unvollständige Fenstertitel"
+msgstr "unvollständige Fenstertitel"
 
 #: ../../WPrefs.app/Preferences.c:278
 msgid "miniwindow titles"
-msgstr "Titel von Miniwindows"
+msgstr "Minifenster-Titel"
 
 #: ../../WPrefs.app/Preferences.c:279
 msgid "application/dock icons"
-msgstr "Anwendungs- bzw. Dock-Icons"
+msgstr "Anwendungs-/ Docksymbole"
 
 #: ../../WPrefs.app/Preferences.c:280
 msgid "internal help"
-msgstr "Interne Hilfe"
+msgstr "interne Hilfe"
 
 #: ../../WPrefs.app/Preferences.c:292
-
 msgid ""
 "Raise window when switching\n"
 "focus with keyboard."
 msgstr ""
 "Fenster nach vorne bei Fokus-\n"
-"wechsel mit Tastatur"
+"wechsel mit Tastatur."
 
 #: ../../WPrefs.app/Preferences.c:298
-
 msgid ""
 "Enable keyboard language\n"
 "switch button in window titlebars."
 msgstr ""
-"Tastatursprachen-Status für\n"
-"jedes Fenster verwalten."
+"Schaltfläche zum Ändern der\n"
+"Tastaturbelegung in Fenstertitelleisten."
 
 #: ../../WPrefs.app/Preferences.c:307
-
 msgid "Workspace border"
-msgstr "Arbeitsflächenrand"
+msgstr "Arbeitsflächenkante"
 
 #: ../../WPrefs.app/Preferences.c:323
-
 msgid "Left/Right"
 msgstr "Links/Rechts"
 
@@ -1671,8 +1621,8 @@
 "Various settings like balloon text, geometry\n"
 "displays etc."
 msgstr ""
-"Verschiedene Einstellungen wie \"Ballon Text,\"\n"
-"Positions-Anzeige, etc."
+"Verschiedene Einstellungen wie Ballontexte,\n"
+"Geometrieanzeigen usw."
 
 #: ../../WPrefs.app/TexturePanel.c:323
 msgid "Saturation"
@@ -1686,109 +1636,108 @@
 msgid "Hue"
 msgstr "Farbton"
 
-#: ../../WPrefs.app/TexturePanel.c:610
+#: ../../WPrefs.app/TexturePanel.c:612
 msgid "Could not load the selected file: "
-msgstr "Konnte ausgewählte Datei nicht laden: "
-
-#: ../../WPrefs.app/TexturePanel.c:664
+msgstr "Ausgewählte Datei konnte nicht geladen werden: "
 
+#: ../../WPrefs.app/TexturePanel.c:666
 msgid "Open Image"
-msgstr "Bild laden"
+msgstr "Bild öffnen"
 
-#: ../../WPrefs.app/TexturePanel.c:694
+#: ../../WPrefs.app/TexturePanel.c:696
 msgid "The selected file does not contain a supported image."
-msgstr "Die ausgewählte Datei enthält kein unterstütztes Bildformat."
+msgstr "Die ausgewählte Datei enthält kein unterstütztes Bildformat"
 
-#: ../../WPrefs.app/TexturePanel.c:945
+#: ../../WPrefs.app/TexturePanel.c:947
 #, c-format
 msgid "could not load file '%s': %s"
-msgstr "konnte Datei %s nicht laden: %s"
+msgstr "Datei %s konnte nicht geladen werden: %s"
 
-#: ../../WPrefs.app/TexturePanel.c:1064
+#: ../../WPrefs.app/TexturePanel.c:1066
 #, c-format
 msgid "error creating texture %s"
 msgstr "Fehler beim Erzeugen der Textur %s"
 
-#: ../../WPrefs.app/TexturePanel.c:1254
+#: ../../WPrefs.app/TexturePanel.c:1256
 msgid "Texture Panel"
-msgstr "Textur-Fläche"
+msgstr "Textur bearbeiten"
 
-#: ../../WPrefs.app/TexturePanel.c:1262
+#: ../../WPrefs.app/TexturePanel.c:1264
 msgid "Texture Name"
 msgstr "Textur-Name"
 
-#: ../../WPrefs.app/TexturePanel.c:1274
+#: ../../WPrefs.app/TexturePanel.c:1276
 msgid "Solid Color"
 msgstr "Einfarbig"
 
-#: ../../WPrefs.app/TexturePanel.c:1275
+#: ../../WPrefs.app/TexturePanel.c:1277
 msgid "Gradient Texture"
 msgstr "Farbverlauf"
 
-#: ../../WPrefs.app/TexturePanel.c:1276
+#: ../../WPrefs.app/TexturePanel.c:1278
 msgid "Simple Gradient Texture"
 msgstr "Einfacher Farbverlauf"
 
-#: ../../WPrefs.app/TexturePanel.c:1277
+#: ../../WPrefs.app/TexturePanel.c:1279
 msgid "Textured Gradient"
 msgstr "Texturierter Farbverlauf"
 
-#: ../../WPrefs.app/TexturePanel.c:1278
+#: ../../WPrefs.app/TexturePanel.c:1280
 msgid "Image Texture"
 msgstr "Grafik-Textur"
 
-#: ../../WPrefs.app/TexturePanel.c:1286
+#: ../../WPrefs.app/TexturePanel.c:1288
 msgid "Default Color"
-msgstr "Default-Farbe"
+msgstr " Standardfarbe "
 
-#: ../../WPrefs.app/TexturePanel.c:1298
+#: ../../WPrefs.app/TexturePanel.c:1300
 msgid "Gradient Colors"
-msgstr "Verlaufs-Farben"
+msgstr " Verlaufsfarben "
 
-#: ../../WPrefs.app/TexturePanel.c:1394
+#: ../../WPrefs.app/TexturePanel.c:1396
 msgid "Direction"
-msgstr "Richtung"
+msgstr " Richtung "
 
-#: ../../WPrefs.app/TexturePanel.c:1422
+#: ../../WPrefs.app/TexturePanel.c:1424
 msgid "Gradient"
-msgstr "Verlauf"
+msgstr " Verlauf "
 
-#: ../../WPrefs.app/TexturePanel.c:1440
+#: ../../WPrefs.app/TexturePanel.c:1442
 msgid "Gradient Opacity"
-msgstr "Transparenzgrad"
+msgstr "Transparenz"
 
-#: ../../WPrefs.app/TexturePanel.c:1483
+#: ../../WPrefs.app/TexturePanel.c:1484
 msgid "Image"
 msgstr "Bild"
 
-#: ../../WPrefs.app/TexturePanel.c:1515
+#: ../../WPrefs.app/TexturePanel.c:1516
 msgid "Tile"
-msgstr "Fliesenartig"
+msgstr "Kachel"
 
-#: ../../WPrefs.app/TexturePanel.c:1516
+#: ../../WPrefs.app/TexturePanel.c:1517
 msgid "Scale"
-msgstr "Skalieren"
+msgstr "Vollbild"
 
-#: ../../WPrefs.app/TexturePanel.c:1518
+#: ../../WPrefs.app/TexturePanel.c:1519
 msgid "Maximize"
-msgstr "Maximieren"
+msgstr "Maximiert"
 
 #: ../../WPrefs.app/Themes.c:71 ../../WPrefs.app/Themes.c:82
 msgid "Set"
-msgstr "Auswählen"
+msgstr "Setzen"
 
 #: ../../WPrefs.app/Themes.c:132
 msgid "Stop"
-msgstr "Anhalten"
+msgstr "Stop"
 
 #: ../../WPrefs.app/Themes.c:143 ../../WPrefs.app/Themes.c:203
 #: ../../WPrefs.app/Themes.c:223
 msgid "Download"
-msgstr "Download"
+msgstr "Herunterladen"
 
 #: ../../WPrefs.app/Themes.c:171
 msgid "Save Current Theme"
-msgstr "Aktuelles Theme speichern"
+msgstr "Aktuelles Thema speichern"
 
 #: ../../WPrefs.app/Themes.c:180
 msgid "Load"
@@ -1800,15 +1749,15 @@
 
 #: ../../WPrefs.app/Themes.c:193
 msgid "Tile of The Day"
-msgstr "Teilstück des Tages"
+msgstr "Tageskachel"
 
 #: ../../WPrefs.app/Themes.c:213
 msgid "Bar of The Day"
-msgstr "Leiste des tages"
+msgstr "Tagesleiste"
 
 #: ../../WPrefs.app/WPrefs.c:260
 msgid "Window Maker Preferences"
-msgstr "Window Maker Voreinstellungen"
+msgstr "Window Maker-Einstellungen"
 
 #: ../../WPrefs.app/WPrefs.c:284
 msgid "Revert Page"
@@ -1816,7 +1765,7 @@
 
 #: ../../WPrefs.app/WPrefs.c:290
 msgid "Revert All"
-msgstr "Alles zurücknehmen"
+msgstr "Alle zurücknehmen"
 
 #: ../../WPrefs.app/WPrefs.c:296
 msgid "Save"
@@ -1828,7 +1777,7 @@
 
 #: ../../WPrefs.app/WPrefs.c:334
 msgid "Window Maker Preferences Utility"
-msgstr "Window Maker Voreinstellungen"
+msgstr "Window Maker Einstellungen"
 
 #: ../../WPrefs.app/WPrefs.c:341
 #, c-format
@@ -1840,82 +1789,79 @@
 msgstr "Starte..."
 
 #: ../../WPrefs.app/WPrefs.c:355
-
 msgid ""
 "Programming/Design: Alfredo K. Kojima\n"
 "Artwork: Marco van Hylckama Vlieg, Largo et al\n"
 "More Programming: James Thompson et al"
 msgstr ""
 "Programmierung/Design: Alfredo K. Kojima\n"
-"Artwork: Marco van Hylckama Vlieg, Largo et al\n"
-"Zusätzliche Programmierung: James Thompson et al"
+"Künstlerische Gestaltung: Marco van Hylckama Vlieg, Largo et al\n"
+"Weitere Programmierung: James Thompson et al"
 
 #: ../../WPrefs.app/WPrefs.c:455
 #, c-format
 msgid "could not locate image file %s\n"
-msgstr "konnte Bilddatei %s nicht finden\n"
+msgstr "Bilddatei %s konnte nicht gefunden werden\n"
 
 #: ../../WPrefs.app/WPrefs.c:670
 #, c-format
 msgid "could not load image file %s:%s"
-msgstr "konnte Imagefile %s nicht laden:%s"
+msgstr "Bilddatei %s konnte nicht geladen werden: %s"
 
 #: ../../WPrefs.app/WPrefs.c:689
 msgid "Loading Window Maker configuration files..."
-msgstr "Lade Window Maker Konfigurationsdateien..."
+msgstr "Window Maker-Konfigurationsdateien werden geladen..."
 
 #: ../../WPrefs.app/WPrefs.c:693
 msgid "Initializing configuration panels..."
-msgstr "Initialisiere Konfigurationspanele"
-
-#: ../../WPrefs.app/WPrefs.c:727
+msgstr "Einstellungsdialoge werden vorbereitet..."
 
+#: ../../WPrefs.app/WPrefs.c:728
 msgid ""
 "WPrefs is free software and is distributed WITHOUT ANY\n"
 "WARRANTY under the terms of the GNU General Public License."
 msgstr ""
-"WPrefs ist freie Software und wird OHNE JEDE GARANTIE\n"
-"unter den Bedingungen der GNU General Public License\n"
-"weitergegeben."
+"WPrefs ist freie Software und wird OHNE JEDE GEWÄHRLEISTUNG\n"
+"unter den Bedingungen der GNU General Public License vertrieben."
 
-#: ../../WPrefs.app/WPrefs.c:757 ../../WPrefs.app/WPrefs.c:837
+#: ../../WPrefs.app/WPrefs.c:758 ../../WPrefs.app/WPrefs.c:838
 #, c-format
 msgid "Window Maker domain (%s) is corrupted!"
-msgstr "Window Maker Domain (%s) ist fehlerhaft!"
+msgstr "Window Maker-Domäne (%s) ist fehlerhaft!"
 
-#: ../../WPrefs.app/WPrefs.c:761
+#: ../../WPrefs.app/WPrefs.c:762
 #, c-format
 msgid "Could not load Window Maker domain (%s) from defaults database."
-msgstr "Konnte Window Maker Domain (%s) nicht aus Defaults Database laden."
+msgstr "Window Maker-Domäne (%s) konnte nicht aus Standarddatenbank geladen werden."
 
-#: ../../WPrefs.app/WPrefs.c:777
+#: ../../WPrefs.app/WPrefs.c:778
 msgid "could not extract version information from Window Maker"
-msgstr "Konnte die Versionsnummer von Window Maker nicht ermitteln"
+msgstr "Window Maker-Versionsinformationen konnten nicht festgestellt werden"
 
-#: ../../WPrefs.app/WPrefs.c:778
+#: ../../WPrefs.app/WPrefs.c:779
 msgid "Make sure wmaker is in your search path."
-msgstr "Stellen Sie sicher, dass \"wmaker\" in Ihrem Pfad ist."
+msgstr "Stellen Sie sicher, das \"wmaker\" im Suchfpad enthalten ist."
 
-#: ../../WPrefs.app/WPrefs.c:781
+#: ../../WPrefs.app/WPrefs.c:782
 msgid ""
 "Could not extract version from Window Maker. Make sure it is correctly "
 "installed and is in your PATH environment variable."
 msgstr ""
-"Konnte die Versionsnummer von Window Maker nicht ermitteln. Stellen Sie "
-"sicher, dass er korrekt installiert ist und über die PATH-Variable "
-"auffindbar ist."
+"Window Maker-Versionsinformationen konnten nicht festgestellt werden. "
+"Stellen Sie sicher, das Window Maker korrekt installiert ist und in der PATH-"
+"Variable enthalten ist."
 
-#: ../../WPrefs.app/WPrefs.c:791
+#: ../../WPrefs.app/WPrefs.c:792
 msgid ""
 "Could not extract version from Window Maker. Make sure it is correctly "
 "installed and the path where it installed is in the PATH environment "
 "variable."
 msgstr ""
-"Konnte die Versionsnummer von Window Maker nicht ermitteln. Stellen Sie "
-"sicher, daß er korrekt installiert ist und über die PATH-Variable "
-"auffindbar ist."
+"Window Maker-Versionsinformationen konnten nicht festgestellt werden. "
+"Stellen Sie sicher, das Window Maker korrekt installiert ist und in der PATH-"
+"Variable enthalten ist."
 
-#: ../../WPrefs.app/WPrefs.c:798
+#: ../../WPrefs.app/WPrefs.c:799
 #, c-format
 msgid ""
 "WPrefs only supports Window Maker 0.18.0 or newer.\n"
@@ -1924,42 +1870,44 @@
 "WPrefs unterstützt nur Window Maker 0.18.0 oder neuer.\n"
 "Die installierte Version ist %i.%i.%i\n"
 
-#: ../../WPrefs.app/WPrefs.c:805
+#: ../../WPrefs.app/WPrefs.c:806
 #, c-format
 msgid ""
 "Window Maker %i.%i.%i, which is installed in your system, is not fully "
 "supported by this version of WPrefs."
 msgstr ""
-"Der installierte Window Maker %i.%i.%i wird nicht voll von dieser Version "
-"von WPrefs unterstützt."
+"Der auf Ihrem System installierte Window Maker %i.%i.%i wird von dieser "
+"WPrefs-Version nicht voll unterstützt."
 
-#: ../../WPrefs.app/WPrefs.c:818
+#: ../../WPrefs.app/WPrefs.c:819
 #, c-format
 msgid "could not run \"%s --global_defaults_path\"."
-msgstr "Konnte \"%s --global_defaults_path\" nicht ausführen."
+msgstr "\"%s --global_defaults_path\" konnte nicht ausgeführt werden."
 
-#: ../../WPrefs.app/WPrefs.c:841
+#: ../../WPrefs.app/WPrefs.c:842
 #, c-format
 msgid "Could not load global Window Maker domain (%s)."
-msgstr "Konnte globale Window Maker Domain (%s) nicht laden."
+msgstr "Globale Window Maker-Domäne (%s) konnte nicht geladen werden."
 
-#: ../../WPrefs.app/WPrefs.c:1090
+#: ../../WPrefs.app/WPrefs.c:1091
 #, c-format
 msgid ""
 "bad speed value for option %s\n"
 ". Using default Medium"
 msgstr ""
-"ungültiger Wert %s für \"Speed\"\n"
-". Benutze \"Mittel\""
+"Falscher Geschwindigkeitswert für Eigenschaft %s.\n"
+"Standard \"Mittel\" wird benutzt."
 
 #: ../../WPrefs.app/WindowHandling.c:141
 #, c-format
 msgid "bad option value %s in WindowPlacement. Using default value"
-msgstr "ungültige Option %s für WindowPlacement. Benutze Voreinstellung."
+msgstr "Ungültiger Wert %s für \"WindowPlacement\". Standardwert wird benutzt."
 
 #: ../../WPrefs.app/WindowHandling.c:163
 msgid "invalid data in option WindowPlaceOrigin. Using default (0,0)"
-msgstr "ungültige Daten in Option \"WindowPlaceOrigin\". Benutze (0,0)"
+msgstr ""
+"Ungültige Daten in Option \"WindowPlaceOrigin\". Benutze Standardeinstellung "
+"(0,0)"
 
 #: ../../WPrefs.app/WindowHandling.c:243
 msgid "Window Placement"
@@ -1969,9 +1917,7 @@
 msgid ""
 "How to place windows when they are first put\n"
 "on screen."
-msgstr ""
-"Wo Fenster auf dem Bildschirm anzuordnen sind,\n"
-"wenn sie zum ersten Mal angezeigt werden."
+msgstr "Wie Fenster beim ersten Anzeigen platziert werden sollen."
 
 #: ../../WPrefs.app/WindowHandling.c:250
 msgid "Automatic"
@@ -1995,7 +1941,7 @@
 
 #: ../../WPrefs.app/WindowHandling.c:260
 msgid "Placement Origin"
-msgstr "Plazierungsursprung"
+msgstr "Platzierungsursprung"
 
 #: ../../WPrefs.app/WindowHandling.c:321
 msgid "Opaque Move"
@@ -2007,16 +1953,17 @@
 "when dragging windows aroung or if only a\n"
 "frame should be displayed.\n"
 msgstr ""
-"Ob die Fenster mit Inhalt verschoben werden\n"
-"oder nur ein Rahmen angezeigt werden soll.\n"
+"Legt fest, ob beim Verschieben die Fensterinhalte\n"
+"oder nur ein Rechteck in Fenstergröße angezeigt \n"
+"werden soll.\n"
 
 #: ../../WPrefs.app/WindowHandling.c:361
 msgid "When maximizing..."
-msgstr "Beim Maximieren..."
+msgstr " Beim Maximieren... "
 
 #: ../../WPrefs.app/WindowHandling.c:366
 msgid "...do not cover icons"
-msgstr "...Icons nicht verdecken"
+msgstr "...Symbole nicht verdecken"
 
 #: ../../WPrefs.app/WindowHandling.c:372
 msgid "...do not cover dock"
@@ -2024,7 +1971,7 @@
 
 #: ../../WPrefs.app/WindowHandling.c:381
 msgid "Edge Resistance"
-msgstr "Kantenwiderstand"
+msgstr " Kantenwiderstand "
 
 #: ../../WPrefs.app/WindowHandling.c:383
 msgid ""
@@ -2033,68 +1980,60 @@
 "when moved against other windows or the edges\n"
 "of the screen."
 msgstr ""
-"Der Kantenwiderstand (Edge Resistance) definiert,\n"
-"ob Fenster einen vorgebenen Widerstand überwinden\n"
-"müssen, wenn sie gegen andere Fenster oder an den\n"
-"Rand des Bildschirms bewegt werden."
+"Kantenwiderstand bewirkt, dass Fenster bis\n"
+"zur eingestellten Schwelle weiterer Bewegung\n"
+"widerstehen, wenn sie auf anderen Fenster oder\n"
+"die Bildschirmkante treffen."
 
 #: ../../WPrefs.app/WindowHandling.c:402
-
 msgid "Resist"
-msgstr "Widerst."
+msgstr "Druck"
 
 #: ../../WPrefs.app/WindowHandling.c:407
-
 msgid "Attract"
-msgstr "Anzie-\n"
-"hend"
+msgstr "Zug"
 
 #: ../../WPrefs.app/WindowHandling.c:423
-
 msgid ""
 "Open dialogs in same workspace\n"
 "as their owners"
 msgstr ""
-"Dialogfenster auf der Arbeitsfläche\n"
-"des Ursprungsfensters öffnen"
+"Dialogfenster auf Arbeitsfläche des\n"
+"Eigentümers öffnen"
 
 #: ../../WPrefs.app/WindowHandling.c:450
 msgid "Window Handling Preferences"
-msgstr "Fensterverwaltungs-Einstellungen"
+msgstr "Fensterhandhabungs-Einstellungen"
 
 #: ../../WPrefs.app/WindowHandling.c:452
 msgid ""
 "Window handling options. Initial placement style\n"
 "edge resistance, opaque move etc."
 msgstr ""
-"Fensterverwaltungs-Einstellungen. Anfängliche Platzierung,\n"
-"Kantenresistenz, Bewegen von Fenstern, etc."
+"Einstellungen zur Fensterhandhabung: Anfangsplatzierung,\n"
+"Kantenwiderstand, mit Inhalt verschieben usw."
 
 #: ../../WPrefs.app/Workspace.c:176
 msgid "Workspace Navigation"
-msgstr "Arbeitsflächen-Navigation"
+msgstr " Arbeitsflächennavigation "
 
 #: ../../WPrefs.app/Workspace.c:183
-
 msgid ""
 "wrap to the first workspace after the\n"
 "last workspace."
 msgstr ""
-"Nach der letzten Arbeitsfläche wieder\n"
-"zur ersten Arbeitsfläche wechseln"
+"Auf letzte Arbeitsfläche folgt wieder\n"
+"die erste"
 
 #: ../../WPrefs.app/Workspace.c:205
 msgid "switch workspaces while dragging windows."
-msgstr "Arbeitsfläche beim Ziehen von Fenstern\n"
-"automatisch wechseln"
+msgstr "Beim Bewegen von Fenstern Arbeitsfläche wechseln"
 
 #: ../../WPrefs.app/Workspace.c:227
-
 msgid "automatically create new workspaces."
 msgstr "Automatisch neue Arbeitsflächen erzeugen"
 
 #: ../../WPrefs.app/Workspace.c:250
-
 msgid ""
 "Position of workspace\n"
 "name display"
@@ -2103,7 +2042,6 @@
 "Arbeitsflächennamens"
 
 #: ../../WPrefs.app/Workspace.c:269
-
 msgid "Disable"
 msgstr "Deaktiviert"
 
@@ -2116,42 +2054,40 @@
 msgstr "Unten"
 
 #: ../../WPrefs.app/Workspace.c:273
-
 msgid "Top/Left"
-msgstr "Oben/Links"
+msgstr "Oben links"
 
 #: ../../WPrefs.app/Workspace.c:274
-
 msgid "Top/Right"
-msgstr "Oben/Rechts"
+msgstr "Oben rechts"
 
 #: ../../WPrefs.app/Workspace.c:275
 msgid "Bottom/Left"
-msgstr "Unten/Links"
+msgstr "Unten links"
 
 #: ../../WPrefs.app/Workspace.c:276
 msgid "Bottom/Right"
-msgstr "Unten/Rechts"
+msgstr "Unten rechts"
 
 #: ../../WPrefs.app/Workspace.c:284
 msgid "Dock/Clip"
-msgstr "Dock/Clip"
+msgstr " Dock/Clip "
 
 #: ../../WPrefs.app/Workspace.c:303
 msgid ""
 "Disable/enable the application Dock (the\n"
 "vertical icon bar in the side of the screen)."
 msgstr ""
-"(De)aktivieren des Anwendungs-Docks (die\n"
-"vertikale Iconleiste an der Seite des Bildschirms)"
+"Anwendungsdock ein-/ausschalten (die vertikale\n"
+"Symbolleiste am Rande des Bildschirmes)."
 
 #: ../../WPrefs.app/Workspace.c:324
 msgid ""
 "Disable/enable the Clip (that thing with\n"
 "a paper clip icon)."
 msgstr ""
-"(De)aktivieren des Clips (das Ding mit\n"
-"dem Büroklammer-Icon)."
+"Clip ein-/ausschalten (das Ding mit\n"
+"dem Büroklammersymbol)."
 
 #: ../../WPrefs.app/Workspace.c:364
 msgid "Workspace Preferences"
@@ -2161,7 +2097,9 @@
 msgid ""
 "Workspace navigation features.\n"
 "You can also enable/disable the Dock and Clip here."
-msgstr "Arbeitsflächen-Navigation, (De)aktivieren von Dock und Clip"
+msgstr ""
+"Einstellungen zur Arbeitsflächennavigation. Auch Dock\n"
+"und Clip können hier ein-/ausgeschaltet werden."
 
 #: ../../WPrefs.app/imagebrowser.c:95
 msgid "View"
@@ -2170,7 +2108,7 @@
 #: ../../WPrefs.app/main.c:59
 #, c-format
 msgid "usage: %s [options]\n"
-msgstr "Aufruf: %s [Optionen]\n"
+msgstr "Benutzung: %s [Optionen]\n"
 
 #: ../../WPrefs.app/main.c:60
 msgid "options:"
@@ -2178,15 +2116,15 @@
 
 #: ../../WPrefs.app/main.c:61
 msgid " -display <display>\tdisplay to be used"
-msgstr " -display <display>\tzu benutzendes Display"
+msgstr " -display <display>\tverwendetes Display"
 
 #: ../../WPrefs.app/main.c:62
 msgid " --version\t\tprint version number and exit"
-msgstr " --version\t\tVersionsnummer anzeigen und beenden"
+msgstr " --version\t\tVersionsnummer ausgeben und beenden"
 
 #: ../../WPrefs.app/main.c:63
 msgid " --help\t\tprint this message and exit"
-msgstr " --help\t\tdiesen Hilfetext anzeigen und beenden"
+msgstr " --help\t\tdiese Meldung ausgeben und beenden"
 
 #: ../../WPrefs.app/main.c:122
 #, c-format
@@ -2199,14 +2137,14 @@
 
 #: ../../WPrefs.app/main.c:147
 msgid "cannot set locale modifiers"
-msgstr "kann \"Locale Modifier\" nicht setzen"
+msgstr "Lokalisierung kann nicht gesetzt werden"
 
 #: ../../WPrefs.app/main.c:153
 #, c-format
 msgid "could not open display %s"
-msgstr "kann Display %s nicht öffnen"
+msgstr "Display %s konnte nicht geöffnet werden"
 
 #: ../../WPrefs.app/main.c:161
 msgid "could not initialize application"
-msgstr "kann Anwendung nicht initialisieren"
+msgstr "Anwendung konnte nicht initialisiert werden"
 
diff -Naur WindowMaker-0.80.2/WPrefs.app/po/fr.po wm-xft2/WPrefs.app/po/fr.po
--- WindowMaker-0.80.2/WPrefs.app/po/fr.po	2001-12-01 01:38:59.000000000 +0300
+++ wm-xft2/WPrefs.app/po/fr.po	2003-10-22 14:08:35.000000000 +0400
@@ -1,420 +1,208 @@
 # French Message file for WPrefs.app 
-# Last Update: version 0.40
 #
 # Update History:
+# Antoine Hulin <antoine.hulin@origan.fdn.org>
 # Christoph Thompson <obituary@freshmeat.net>
 # Bastien Nocera <hadess@writeme.com>
 #
 msgid ""
 msgstr ""
 "Project-Id-Version: WPrefs 0.40\n"
-"POT-Creation-Date: 1999-12-12 09:12+0100\n"
+"POT-Creation-Date: 2003-05-02 15:39+0200\n"
 "PO-Revision-Date: 1999-07-28 16:31-0100\n"
-"Last-Translator: Christoph Thompson <obituary@freshmeat.net>\n"
+"Last-Translator: Antoine Hulin <antoine.hulin@origan.fdn.org>\n"
 "Language-Team: French <fr@li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=iso-8859-1\n"
 "Content-Transfer-Encoding: 8-bit\n"
 
-#: ../../WPrefs.app/main.c:74
-#, c-format
-msgid "usage: %s [options]\n"
-msgstr "usage: %s [options]\n"
-
-#: ../../WPrefs.app/main.c:75
-msgid "options:"
-msgstr "options:"
-
-#: ../../WPrefs.app/main.c:76
-msgid " -display <display>\tdisplay to be used"
-msgstr " -display <affichage>\taffichage à utiliser"
-
-#: ../../WPrefs.app/main.c:77
-msgid " --version\t\tprint version number and exit"
-msgstr " --version\t\taffiche le numéro de version et quitte"
-
-#: ../../WPrefs.app/main.c:78
-msgid " --help\t\tprint this message and exit"
-msgstr " --help\t\taffiche ce message et quitte"
-
-#: ../../WPrefs.app/main.c:137
-#, c-format
-msgid "too few arguments for %s"
-msgstr "trop peu d'arguments pour %s"
-
-#: ../../WPrefs.app/main.c:159
-msgid "X server does not support locale"
-msgstr "Le serveur X ne supporte pas les locales"
-
-#: ../../WPrefs.app/main.c:162
-msgid "cannot set locale modifiers"
-msgstr "modificateurs de locale inappliquables"
-
-#: ../../WPrefs.app/main.c:168
-#, c-format
-msgid "could not open display %s"
-msgstr "incapacité à ouvrir l'affichage %s"
-
-#: ../../WPrefs.app/main.c:176
-msgid "could not initialize application"
-msgstr "incapacité à initialiser l'application"
-
-#: ../../WPrefs.app/WPrefs.c:254
-msgid "Window Maker Preferences"
-msgstr "Préférences de Window Maker"
-
-#: ../../WPrefs.app/WPrefs.c:278
-msgid "Revert Page"
-msgstr "Défaire la Page"
-
-#: ../../WPrefs.app/WPrefs.c:284
-msgid "Revert All"
-msgstr "Tout Défaire"
-
-#: ../../WPrefs.app/WPrefs.c:290
-msgid "Save"
-msgstr "Sauver"
-
-#: ../../WPrefs.app/Appearance.c:2232 ../../WPrefs.app/WPrefs.c:296
-msgid "Close"
-msgstr "Fermer"
-
-#: ../../WPrefs.app/WPrefs.c:303
-msgid "Balloon Help"
-msgstr "Aide Contextuelle"
-
-#: ../../WPrefs.app/WPrefs.c:328
-msgid "Window Maker Preferences Utility"
-msgstr "Utilitaire de Configuration de Window Maker"
-
-#: ../../WPrefs.app/WPrefs.c:335
-#, c-format
-msgid "Version %s for Window Maker %s or newer"
-msgstr "Version %s pour Window Maker %s ou supérieur"
-
-#: ../../WPrefs.app/WPrefs.c:343
-msgid "Starting..."
-msgstr "Démarrage..."
-
-#: ../../WPrefs.app/WPrefs.c:349
-msgid ""
-"Programming/Design: Alfredo K. Kojima\n"
-"Artwork: Marco van Hylckama Vlieg\n"
-"More Programming: James Thompson"
-msgstr ""
-"Programmation/Conception: Alfredo K. Kojima\n"
-"Dessins: Marco van Hylckama Vlieg\n"
-"Programmation Additionnelle: James Thompson\n"
-"Traduction en Français: Bastien Nocera et Christoph Thompson"
-
-#: ../../WPrefs.app/WPrefs.c:437
-#, c-format
-msgid "could not locate image file %s\n"
-msgstr "image %s introuvable\n"
-
-#: ../../WPrefs.app/Appearance.c:1899 ../../WPrefs.app/Configurations.c:242
-#: ../../WPrefs.app/Configurations.c:254 ../../WPrefs.app/Focus.c:316
-#: ../../WPrefs.app/Focus.c:327 ../../WPrefs.app/MenuPreferences.c:137
-#: ../../WPrefs.app/MenuPreferences.c:148
-#: ../../WPrefs.app/MenuPreferences.c:176
-#: ../../WPrefs.app/MenuPreferences.c:191 ../../WPrefs.app/MouseSettings.c:561
-#: ../../WPrefs.app/MouseSettings.c:572 ../../WPrefs.app/WPrefs.c:460
-#: ../../WPrefs.app/WPrefs.c:477
-#, c-format
-msgid "could not load icon file %s"
-msgstr "icône %s introuvable"
-
-#: ../../WPrefs.app/WPrefs.c:553
-#, c-format
-msgid "could not load image file %s:%s"
-msgstr "image %s introuvable: %s"
-
-#: ../../WPrefs.app/WPrefs.c:572
-msgid "Loading Window Maker configuration files..."
-msgstr "Lecture de la configuration de Window Maker..."
-
-#: ../../WPrefs.app/WPrefs.c:576
-msgid "Initializing configuration panels..."
-msgstr "Initialisation des panneaux de configuration..."
-
-#: ../../WPrefs.app/WPrefs.c:607
-msgid ""
-"WPrefs is free software and is distributed WITHOUT ANY\n"
-"WARRANTY under the terms of the GNU General Public License.\n"
-"The icons in this program are licensed through the\n"
-"OpenContent License."
-msgstr ""
-"WPrefs est un logiciel libre et distribué sans AUCUNE\n"
-"GARANTIE sous les termes de la GNU General Public License.\n"
-"Les icônes de ce programme sont distribués sous licence\n"
-"OpenContent."
-
-#: ../../WPrefs.app/WPrefs.c:638 ../../WPrefs.app/WPrefs.c:708
-#, c-format
-msgid "Window Maker domain (%s) is corrupted!"
-msgstr "Le domaine Window Maker (%s) est corrompu!"
-
-#: ../../WPrefs.app/Menu.c:1384 ../../WPrefs.app/MouseSettings.c:152
-#: ../../WPrefs.app/MouseSettings.c:172 ../../WPrefs.app/Text.c:183
-#: ../../WPrefs.app/TexturePanel.c:608 ../../WPrefs.app/TexturePanel.c:686
-#: ../../WPrefs.app/Themes.c:96 ../../WPrefs.app/WPrefs.c:639
-#: ../../WPrefs.app/WPrefs.c:644 ../../WPrefs.app/WPrefs.c:658
-#: ../../WPrefs.app/WPrefs.c:668 ../../WPrefs.app/WPrefs.c:678
-#: ../../WPrefs.app/WPrefs.c:709 ../../WPrefs.app/WPrefs.c:714
-msgid "Error"
-msgstr "Erreur"
-
-#: ../../WPrefs.app/Menu.c:1384 ../../WPrefs.app/MenuGuru.c:119
-#: ../../WPrefs.app/MenuGuru.c:126 ../../WPrefs.app/MenuGuru.c:140
-#: ../../WPrefs.app/MouseSettings.c:154 ../../WPrefs.app/MouseSettings.c:174
-#: ../../WPrefs.app/Text.c:183 ../../WPrefs.app/TexturePanel.c:609
-#: ../../WPrefs.app/TexturePanel.c:688 ../../WPrefs.app/TexturePanel.c:1522
-#: ../../WPrefs.app/Themes.c:98 ../../WPrefs.app/WPrefs.c:639
-#: ../../WPrefs.app/WPrefs.c:644 ../../WPrefs.app/WPrefs.c:660
-#: ../../WPrefs.app/WPrefs.c:672 ../../WPrefs.app/WPrefs.c:678
-#: ../../WPrefs.app/WPrefs.c:685 ../../WPrefs.app/WPrefs.c:709
-#: ../../WPrefs.app/WPrefs.c:714
-msgid "OK"
-msgstr "OK"
-
-#: ../../WPrefs.app/WPrefs.c:642
-#, c-format
-msgid "Could not load Window Maker domain (%s) from defaults database."
-msgstr ""
-"Lecture du domaine Window Maker (%s) impossible depuis la base dedonnées par "
-"défaut."
-
-#: ../../WPrefs.app/WPrefs.c:655
-msgid "could not extract version information from Window Maker"
-msgstr "extraction du numéro de version de Window Maker impossible"
-
-#: ../../WPrefs.app/WPrefs.c:656
-msgid "Make sure wmaker is in your search path."
-msgstr "Assurez-vous que Window Maker est dans votre chemin."
-
-#: ../../WPrefs.app/WPrefs.c:659
-msgid ""
-"Could not extract version from Window Maker. Make sure it is correctly "
-"installed and is in your PATH environment variable."
-msgstr ""
-"Incapacité à extraire le numéro de version de Window Maker.Assurez-vous "
-"qu'il soit bien installé et qu'il soit dans votre chemin."
-
-#: ../../WPrefs.app/WPrefs.c:669
-msgid ""
-"Could not extract version from Window Maker. Make sure it is correctly "
-"installed and the path where it installed is in the PATH environment "
-"variable."
-msgstr ""
-"Incapacité à extraire le numéro de version de Window Maker.Assurez-vous "
-"qu'il soit bien installé et qu'il soit dans votre chemin."
-
-#: ../../WPrefs.app/WPrefs.c:676
-#, c-format
-msgid ""
-"WPrefs only supports Window Maker 0.18.0 or newer.\n"
-"The version installed is %i.%i.%i\n"
-msgstr ""
-"WPrefs ne supporte que Window Maker 0.18.0 ou supérieur.\n"
-"La version installé est %i.%i.%i\n"
-
-#: ../../WPrefs.app/WPrefs.c:683
-#, c-format
-msgid ""
-"Window Maker %i.%i.%i, which is installed in your system, is not fully "
-"supported by this version of WPrefs."
-msgstr ""
-"Window Maker %i.%i.%i, qui est installé sur votre système, n'est pas "
-"pleinement supporté par WPrefs."
-
-#: ../../WPrefs.app/WPrefs.c:685
-msgid "Warning"
-msgstr "Avertissement"
-
-#: ../../WPrefs.app/WPrefs.c:690
-msgid "could not run \"wmaker --global_defaults_path\"."
-msgstr "incapacité à lancer \"wmaker --global_defaults_path\"."
-
-#: ../../WPrefs.app/WPrefs.c:712
-#, c-format
-msgid "Could not load global Window Maker domain (%s)."
-msgstr "Incapacité à charger le domaine global Window Maker (%s)."
-
-#: ../../WPrefs.app/WPrefs.c:961
-#, c-format
-msgid ""
-"bad speed value for option %s\n"
-". Using default Medium"
-msgstr ""
-"mauvaise valeur pour l'option\n"
-"%s. Utilisation de la valeur par défaut Medium"
-
-#: ../../WPrefs.app/Appearance.c:1088
+#: ../../WPrefs.app/Appearance.c:1154
 msgid "Select File"
-msgstr "Sélectionez un Fichier"
+msgstr "Sélectionnez un fichier"
 
-#: ../../WPrefs.app/Appearance.c:1493
+#: ../../WPrefs.app/Appearance.c:1555
 msgid "Focused Window"
-msgstr "Fenêtre en Avant-Plan"
+msgstr "Fenêtre active"
 
-#: ../../WPrefs.app/Appearance.c:1497
+#: ../../WPrefs.app/Appearance.c:1560
 msgid "Unfocused Window"
-msgstr "Fenêtre en Arrière-Plan"
+msgstr "Fenêtres inactives"
 
-#: ../../WPrefs.app/Appearance.c:1501
+#: ../../WPrefs.app/Appearance.c:1565
 msgid "Owner of Focused Window"
-msgstr "Fenêtre Parente"
+msgstr "Parente de la fenêtre active"
 
-#: ../../WPrefs.app/Appearance.c:1505 ../../WPrefs.app/Appearance.c:1823
+#: ../../WPrefs.app/Appearance.c:1570 ../../WPrefs.app/Appearance.c:1893
+#: ../../WPrefs.app/Font.c:408
 msgid "Menu Title"
-msgstr "Titre du Menu"
+msgstr "Titre du menu"
 
-#: ../../WPrefs.app/Appearance.c:1509 ../../WPrefs.app/Appearance.c:1511
+#: ../../WPrefs.app/Appearance.c:1575 ../../WPrefs.app/Appearance.c:1578
 msgid "Normal Item"
 msgstr "Normal"
 
-#: ../../WPrefs.app/Appearance.c:1515
+#: ../../WPrefs.app/Appearance.c:1583
 msgid "Disabled Item"
-msgstr "Désactivé"
+msgstr "Inactivé"
 
-#: ../../WPrefs.app/Appearance.c:1524
+#: ../../WPrefs.app/Appearance.c:1595
 msgid "Highlighted"
-msgstr "Sélectioné"
+msgstr "Sélectionné"
 
-#: ../../WPrefs.app/Appearance.c:1716
+#: ../../WPrefs.app/Appearance.c:1786
 msgid "Texture"
 msgstr "Texture"
 
-#: ../../WPrefs.app/Appearance.c:1724
+#: ../../WPrefs.app/Appearance.c:1794
 msgid "Titlebar of Focused Window"
-msgstr "Barre de Titre en Avant-Plan"
+msgstr "Barre de titre de la fenêtre active"
 
-#: ../../WPrefs.app/Appearance.c:1725
+#: ../../WPrefs.app/Appearance.c:1795
 msgid "Titlebar of Unfocused Windows"
-msgstr "Barre de Titre en Arrière-Plan"
+msgstr "Barre de titre d'une fenêtre inactive"
 
-#: ../../WPrefs.app/Appearance.c:1726
+#: ../../WPrefs.app/Appearance.c:1796
 msgid "Titlebar of Focused Window's Owner"
-msgstr "Barre de Titre Parente"
+msgstr "Barre de titre de la fenêtre parente"
 
-#: ../../WPrefs.app/Appearance.c:1727
+#: ../../WPrefs.app/Appearance.c:1797
 msgid "Window Resizebar"
-msgstr "Barre de Redimensionnement"
+msgstr "Barre de redimensionnement"
 
-#: ../../WPrefs.app/Appearance.c:1728
+#: ../../WPrefs.app/Appearance.c:1798
 msgid "Titlebar of Menus"
-msgstr "Barre de Titre du Menu"
+msgstr "Barre de titre des menus"
 
-#: ../../WPrefs.app/Appearance.c:1729
+#: ../../WPrefs.app/Appearance.c:1799
 msgid "Menu Items"
-msgstr "Eléments du Menu"
+msgstr "Éléments du menu"
 
-#: ../../WPrefs.app/Appearance.c:1730
+#: ../../WPrefs.app/Appearance.c:1800
 msgid "Icon Background"
-msgstr "Fond d'Icône"
+msgstr "Fond d'icône"
 
-#: ../../WPrefs.app/Appearance.c:1745
+#: ../../WPrefs.app/Appearance.c:1815
 msgid ""
 "Double click in the texture you want to use\n"
 "for the selected item."
 msgstr ""
-"Double clickez la texture que vous voulez utilisez\n"
-"pour l'élément sélectioné."
+"Double-cliquez sur la texture que vous voulez\n"
+"utiliser pour l'élément sélectionné."
 
-#: ../../WPrefs.app/Appearance.c:1759
+#: ../../WPrefs.app/Appearance.c:1829
 msgid "New"
 msgstr "Nouveau"
 
-#: ../../WPrefs.app/Appearance.c:1763
+#: ../../WPrefs.app/Appearance.c:1833
 msgid "Create a new texture."
 msgstr "Créer une nouvelle texture."
 
-#: ../../WPrefs.app/Appearance.c:1771
+#: ../../WPrefs.app/Appearance.c:1841
 msgid "Extract..."
 msgstr "Extraire..."
 
-#: ../../WPrefs.app/Appearance.c:1775
+#: ../../WPrefs.app/Appearance.c:1845
 msgid "Extract texture(s) from a theme or a style file."
-msgstr "Extraire les textures d'un theme ou d'un fichier de style."
+msgstr "Extraire les textures d'un thème ou d'un fichier de style."
 
-#: ../../WPrefs.app/Appearance.c:1785
+#: ../../WPrefs.app/Appearance.c:1855
 msgid "Edit"
-msgstr "Editer"
+msgstr "Éditer"
 
-#: ../../WPrefs.app/Appearance.c:1788
+#: ../../WPrefs.app/Appearance.c:1858
 msgid "Edit the highlighted texture."
-msgstr "Editer la texture mise en valeur."
+msgstr "Éditer la texture sélectionnée."
 
-#: ../../WPrefs.app/Appearance.c:1796 ../../WPrefs.app/TexturePanel.c:1310
+#: ../../WPrefs.app/Appearance.c:1866 ../../WPrefs.app/TexturePanel.c:1318
 msgid "Delete"
 msgstr "Supprimer"
 
-#: ../../WPrefs.app/Appearance.c:1800
+#: ../../WPrefs.app/Appearance.c:1870
 msgid "Delete the highlighted texture."
-msgstr "Effacer la texture mise en valeur."
+msgstr "Effacer la texture sélectionnée."
 
-#: ../../WPrefs.app/Appearance.c:1813
+#: ../../WPrefs.app/Appearance.c:1883
 msgid "Color"
 msgstr "Couleur"
 
-#: ../../WPrefs.app/Appearance.c:1820
+#: ../../WPrefs.app/Appearance.c:1890
 msgid "Focused Window Title"
-msgstr "Titre de la Fenêtre en Avant-Plan"
+msgstr "Titre de la fenêtre active"
 
-#: ../../WPrefs.app/Appearance.c:1821
+#: ../../WPrefs.app/Appearance.c:1891
 msgid "Unfocused Window Title"
-msgstr "Titre de la Fenêtre en Arrière-Plan"
+msgstr "Titre d'une fenêtre inactive"
 
-#: ../../WPrefs.app/Appearance.c:1822
+#: ../../WPrefs.app/Appearance.c:1892
 msgid "Owner of Focused Window Title"
-msgstr "Titre de la Fenêtre Parente"
+msgstr "Titre du parent de la fenêtre active"
 
-#: ../../WPrefs.app/Appearance.c:1824
+#: ../../WPrefs.app/Appearance.c:1894
 msgid "Menu Item Text"
-msgstr "Texte Normal du Menu"
+msgstr "Entrée de menu normale"
 
-#: ../../WPrefs.app/Appearance.c:1825
+#: ../../WPrefs.app/Appearance.c:1895
 msgid "Disabled Menu Item Text"
-msgstr "Texte Désactivé du Menu"
+msgstr "Entrée de menu inactive"
 
-#: ../../WPrefs.app/Appearance.c:1826
+#: ../../WPrefs.app/Appearance.c:1896
 msgid "Menu Highlight Color"
-msgstr "Couleur de Sélection du Menu"
+msgstr "Entrée de menu sélectionnée"
 
-#: ../../WPrefs.app/Appearance.c:1827
+#: ../../WPrefs.app/Appearance.c:1897
 msgid "Highlighted Menu Text Color"
-msgstr "Texte Sélectioné du Menu"
+msgstr "Texte de l'entrée sélectionnée"
+
+#: ../../WPrefs.app/Appearance.c:1936
+msgid "Background"
+msgstr "Fond d'écran"
+
+#: ../../WPrefs.app/Appearance.c:1948 ../../WPrefs.app/TexturePanel.c:1504
+msgid "Browse..."
+msgstr "Parcourir..."
 
-#: ../../WPrefs.app/Appearance.c:1864
+#: ../../WPrefs.app/Appearance.c:1961
 msgid "Options"
 msgstr "Options"
 
-#: ../../WPrefs.app/Appearance.c:1871
+#: ../../WPrefs.app/Appearance.c:1968
 msgid "Menu Style"
-msgstr "Style du Menu"
+msgstr "Apparence du menu"
+
+#: ../../WPrefs.app/Appearance.c:1996 ../../WPrefs.app/Configurations.c:242
+#: ../../WPrefs.app/Configurations.c:254 ../../WPrefs.app/Focus.c:288
+#: ../../WPrefs.app/Focus.c:299 ../../WPrefs.app/MenuPreferences.c:134
+#: ../../WPrefs.app/MenuPreferences.c:145
+#: ../../WPrefs.app/MenuPreferences.c:173
+#: ../../WPrefs.app/MenuPreferences.c:188 ../../WPrefs.app/MouseSettings.c:560
+#: ../../WPrefs.app/MouseSettings.c:571 ../../WPrefs.app/WPrefs.c:558
+#: ../../WPrefs.app/WPrefs.c:583
+#, c-format
+msgid "could not load icon file %s"
+msgstr "Le chargement de l'icône %s a échoué."
 
-#: ../../WPrefs.app/Appearance.c:1913
+#: ../../WPrefs.app/Appearance.c:2010
 msgid "Title Alignment"
-msgstr "Alignement du Titre"
+msgstr "Position du titre"
 
-#: ../../WPrefs.app/Appearance.c:1920 ../../WPrefs.app/Text.c:292
+#: ../../WPrefs.app/Appearance.c:2017
 msgid "Left"
 msgstr "Gauche"
 
-#: ../../WPrefs.app/Appearance.c:1923 ../../WPrefs.app/Text.c:298
-#: ../../WPrefs.app/TexturePanel.c:1511 ../../WPrefs.app/Workspace.c:271
+#: ../../WPrefs.app/Appearance.c:2020 ../../WPrefs.app/TexturePanel.c:1518
+#: ../../WPrefs.app/Workspace.c:270
 msgid "Center"
 msgstr "Centré"
 
-#: ../../WPrefs.app/Appearance.c:1926 ../../WPrefs.app/Text.c:305
+#: ../../WPrefs.app/Appearance.c:2023
 msgid "Right"
 msgstr "Droite"
 
-#: ../../WPrefs.app/Appearance.c:2154
+#: ../../WPrefs.app/Appearance.c:2247
 msgid "Appearance Preferences"
-msgstr "Préférences d'Apparence"
+msgstr "Préférences d'apparence"
 
-#: ../../WPrefs.app/Appearance.c:2156
+#: ../../WPrefs.app/Appearance.c:2249
 msgid ""
 "Background texture configuration for windows,\n"
 "menus and icons."
@@ -422,43 +210,47 @@
 "Configuration des textures de fond des fenêtres,\n"
 "menus et icônes."
 
-#: ../../WPrefs.app/Appearance.c:2201
+#: ../../WPrefs.app/Appearance.c:2294
 msgid "Extract Texture"
-msgstr "Extraire une Texture"
+msgstr "Extraire une texture"
 
-#: ../../WPrefs.app/Appearance.c:2221
+#: ../../WPrefs.app/Appearance.c:2314
 msgid "Textures"
 msgstr "Textures"
 
-#: ../../WPrefs.app/Appearance.c:2237
+#: ../../WPrefs.app/Appearance.c:2325 ../../WPrefs.app/WPrefs.c:302
+msgid "Close"
+msgstr "Fermer"
+
+#: ../../WPrefs.app/Appearance.c:2330
 msgid "Extract"
 msgstr "Extraire"
 
 #: ../../WPrefs.app/Configurations.c:150 ../../WPrefs.app/Configurations.c:156
-#: ../../WPrefs.app/MouseSettings.c:491 ../../WPrefs.app/WindowHandling.c:331
-#: ../../WPrefs.app/WindowHandling.c:343 ../../WPrefs.app/Workspace.c:90
+#: ../../WPrefs.app/MouseSettings.c:490 ../../WPrefs.app/WindowHandling.c:339
+#: ../../WPrefs.app/WindowHandling.c:351 ../../WPrefs.app/Workspace.c:90
 #: ../../WPrefs.app/Workspace.c:101
 #, c-format
 msgid "could not load icon %s"
-msgstr "Icône %s introuvable."
+msgstr "Le chargement de l'icône %s a échoué."
 
 #: ../../WPrefs.app/Configurations.c:164 ../../WPrefs.app/Workspace.c:109
 #, c-format
 msgid "could not process icon %s:"
-msgstr "Traitement de l'icône %s impossible:"
+msgstr "Le traitement de l'icône %s a échoué : "
 
 #: ../../WPrefs.app/Configurations.c:189 ../../WPrefs.app/Workspace.c:164
 #, c-format
 msgid "could not load image file %s"
-msgstr "incapacité à charger l'image %s"
+msgstr "Le chargement de l'image %s a échoué."
 
 #: ../../WPrefs.app/Configurations.c:203
 msgid "Icon Slide Speed"
-msgstr "Vitesse du Glissement des Icônes"
+msgstr "Vitesse du glissement des icônes"
 
 #: ../../WPrefs.app/Configurations.c:209
 msgid "Shade Animation Speed"
-msgstr "Vitesse de l'Animation d'Ombrage"
+msgstr "Vitesse de l'enroulement"
 
 #: ../../WPrefs.app/Configurations.c:271
 msgid "Smooth Scaling"
@@ -470,1130 +262,1567 @@
 "the `pixelization' effect. This will slow\n"
 "down loading of background images considerably."
 msgstr ""
-"Redimensionement lisse des images de fond d'écran,\n"
-"neutralisant l'effet de `pixelisation'. Ceci ralentira\n"
-"considérablement le chargement des images de fond\n"
-"d'écran."
+"Lissage des images de fond d'écran pour neutraliser\n"
+"l'effet crénelé. Ceci ralentira considérablement le\n"
+"chargement des images de fond d'écran."
 
 #: ../../WPrefs.app/Configurations.c:313
 msgid "Titlebar Style"
-msgstr "Barre de Titre"
+msgstr "Barre de titre"
 
-#: ../../WPrefs.app/Configurations.c:350
+#: ../../WPrefs.app/Configurations.c:351
 msgid "Animations and Sound"
-msgstr "Animations et Sons"
+msgstr "Animations et sons"
 
-#: ../../WPrefs.app/Configurations.c:356
+#: ../../WPrefs.app/Configurations.c:357
 msgid "Animations"
 msgstr "Animations"
 
-#: ../../WPrefs.app/Configurations.c:367
+#: ../../WPrefs.app/Configurations.c:368
 msgid ""
 "Disable/enable animations such as those shown\n"
 "for window miniaturization, shading etc."
 msgstr ""
-"Désactiver/activer les animations telles que\n"
-"celles de la miniaturisation des fenêtres,\n"
-"de l'ombrage, etc."
+"Activation des animations telles que la miniaturisation\n"
+"des fenêtres, l'enroulement, etc."
 
-#: ../../WPrefs.app/Configurations.c:375
+#: ../../WPrefs.app/Configurations.c:376
 msgid "Superfluous"
 msgstr "Superflu"
 
-#: ../../WPrefs.app/Configurations.c:386
+#: ../../WPrefs.app/Configurations.c:387
 msgid ""
 "Disable/enable `superfluous' features and\n"
 "animations. These include the `ghosting' of the\n"
-"dock when it's being moved to the another side\n"
-"and the explosion animation for undocked icons."
+"dock when it's being moved to another side and\n"
+"the explosion animation when undocking icons."
 msgstr ""
-"Désactiver/activer les options `superflues' et\n"
-"les animations. Celle-ci incluent le `blanchissement'\n"
-"du dock lorsqu'il est déplacé de l'autre côté\n"
-"et l'animation d'explosion pour les icônes retirés\n"
-"du dock"
+"Activation des options « superflues » et des animations.\n"
+"Celles-ci incluent la matérialisation « spectrale » du Dock\n"
+"quand il est déplacé et l'animation d'explosion pour les\n"
+"icônes retirées du Dock."
 
-#: ../../WPrefs.app/Configurations.c:396
+#: ../../WPrefs.app/Configurations.c:397
 msgid "Sounds"
 msgstr "Sons"
 
-#: ../../WPrefs.app/Configurations.c:407
+#: ../../WPrefs.app/Configurations.c:408
 msgid ""
 "Disable/enable support for sound effects played\n"
 "for actions like shading and closing a window.\n"
 "You will need a module distributed separately\n"
 "for this. You can get it at:\n"
-"http://www.frontiernet.net/~southgat/wmsound"
+"http://shadowmere.student.utwente.nl/"
+msgstr ""
+"Activation des effets sonores lors d'actions comme\n"
+"l'enroulement et la fermeture d'une fenêtre. Pour cela,\n"
+"vous aurez besoin d'un module distribué séparément.\n"
+"Vous pouvez l'obtenir à l'adresse :\n"
+"http://shadowmere.student.utwente.nl/"
+
+#: ../../WPrefs.app/Configurations.c:419
+msgid ""
+"Note: sound requires a module distributed\n"
+"separately"
 msgstr ""
-"Désactiver/activer le support d'effets sonores\n"
-"lors d'actions comme l'ombrage, la fermeture\n"
-"d'une fenêtre. Pour cela vous aurez besoin d'un\n"
-"module distribué séparement. Vous pouvez l'obtenir\n"
-"sur http://www.frontiernet.net/~southgat/wmsound"
-
-#: ../../WPrefs.app/Configurations.c:418
-msgid "Note: sound requires a module distributed separately"
-msgstr "Note: le module de son est distribué séparément"
+"Note : le son nécessite un module\n"
+"distribué séparément."
 
-#: ../../WPrefs.app/Configurations.c:428
+#: ../../WPrefs.app/Configurations.c:429
 msgid "Dithering colormap for 8bpp"
 msgstr "Tramage en 256 couleurs"
 
-#: ../../WPrefs.app/Configurations.c:430
+#: ../../WPrefs.app/Configurations.c:431
 msgid ""
 "Number of colors to reserve for Window Maker\n"
 "on displays that support only 8bpp (PseudoColor)."
 msgstr ""
-"Nombre de couleurs a réserver pour Window Maker\n"
+"Nombre de couleurs à réserver pour Window Maker\n"
 "sur les affichages qui ne supportent que 256\n"
 "couleurs (PseudoColor)."
 
-#: ../../WPrefs.app/Configurations.c:437
+#: ../../WPrefs.app/Configurations.c:438
 msgid "Disable dithering in any visual/depth"
-msgstr "Désactiver le tramage dans toutes les résolutions"
+msgstr "Désactiver le tramage dans tous les modes graphiques"
 
-#: ../../WPrefs.app/Configurations.c:458
-msgid "More colors for applications"
-msgstr "Plus pour les applications"
+#: ../../WPrefs.app/Configurations.c:459
+msgid ""
+"More colors for\n"
+"applications"
+msgstr ""
+"Plus pour les\n"
+"applications"
 
-#: ../../WPrefs.app/Configurations.c:465
-msgid "More colors for WindowMaker"
-msgstr "Plus pour Window Maker"
+#: ../../WPrefs.app/Configurations.c:466
+msgid ""
+"More colors for\n"
+"Window Maker"
+msgstr ""
+"Plus pour\n"
+"Window Maker"
 
-#: ../../WPrefs.app/Configurations.c:520
+#: ../../WPrefs.app/Configurations.c:521
 msgid "Other Configurations"
-msgstr "Autres Configurations"
+msgstr "Autres configurations"
 
-#: ../../WPrefs.app/Configurations.c:522
+#: ../../WPrefs.app/Configurations.c:523
 msgid ""
 "Animation speeds, titlebar styles, various option\n"
 "toggling and number of colors to reserve for\n"
-"Window Maker in 8bit displays."
+"Window Maker on 8bit displays."
 msgstr ""
 "Vitesse des animations, style des barres de titre,\n"
-"activation/désactivation d'options diverses et\n"
-"nombre de couleurs à réserver à Window Maker\n"
-"pour les affichages en 256 couleurs."
+"options diverses et nombre de couleurs à réserver\n"
+"pour Window Maker avec un affichage en 256 couleurs."
 
-#: ../../WPrefs.app/Expert.c:75
+#: ../../WPrefs.app/Expert.c:77
 msgid ""
 "Disable miniwindows (icons for miniaturized windows). For use with KDE/GNOME."
-msgstr "Pas de mini-fenêtres. A utiliser avec KDE/GNOME."
-
-#: ../../WPrefs.app/Expert.c:76
-msgid "Do not set non-WindowMaker specific parameters (do not use xset)"
-msgstr "Ne pas utiliser de paramètres non-spécifiques à Window Maker"
-
-#: ../../WPrefs.app/Expert.c:77
-msgid "Automatically save session when exiting WindowMaker"
-msgstr "Sauver automatiquement la session lors de la fermeture de Window Maker"
+msgstr ""
+"Pas de mini-fenêtres (icônes des fenêtres miniaturisées). Pour KDE/GNOME."
 
 #: ../../WPrefs.app/Expert.c:78
-msgid "Use SaveUnder in window frames, icons, menus and other objects"
-msgstr "Utiliser \"SauverSous\" pour les icônes, menus et autres objets"
+msgid "Do not set non-WindowMaker specific parameters (do not use xset)."
+msgstr ""
+"Ne modifier que les options spécifiques à Window Maker (ne pas utiliser "
+"xset)."
 
 #: ../../WPrefs.app/Expert.c:79
-msgid "Disable cycling color highlighting of icons."
-msgstr "Désactiver la mise en valeur cyclique colorée des icônes."
+msgid "Automatically save session when exiting Window Maker."
+msgstr "Toujours sauver la session lors de la fermeture de Window Maker."
 
 #: ../../WPrefs.app/Expert.c:80
+msgid "Use SaveUnder in window frames, icons, menus and other objects."
+msgstr "Utiliser « enregister sous » pour les icônes, menus et autres objets."
+
+#: ../../WPrefs.app/Expert.c:81
+msgid "Use Windoze style cycling."
+msgstr "Changer de fenêtre active façon Windows"
+
+#: ../../WPrefs.app/Expert.c:82
 msgid "Disable confirmation panel for the Kill command."
-msgstr "Désactiver la confirmation pour la commande Tuer."
+msgstr "Désactiver la confirmation pour la commande Terminer."
+
+#: ../../WPrefs.app/Expert.c:83
+msgid "Disable selection animation for selected icons."
+msgstr "Désactiver l'animation pour les icônes sélectionnées."
 
-#: ../../WPrefs.app/Expert.c:113
+#: ../../WPrefs.app/Expert.c:84
+msgid "Smooth font edges (needs restart)."
+msgstr "Lissage des polices (après redémarrage)"
+
+#: ../../WPrefs.app/Expert.c:123
 msgid "Expert User Preferences"
-msgstr "Préférences, Mode Expert"
+msgstr "Préférences pour utilisateur averti"
 
-#: ../../WPrefs.app/Expert.c:115
+#: ../../WPrefs.app/Expert.c:125
 msgid ""
 "Options for people who know what they're doing...\n"
 "Also have some other misc. options."
-msgstr "Options avancées et diverses."
+msgstr ""
+"Options diverses et options pour les utilisateurs\n"
+"qui savent où ils mettent les pieds."
 
-#: ../../WPrefs.app/Focus.c:83
+#: ../../WPrefs.app/Focus.c:80
 #, c-format
 msgid "bad option value %s for option FocusMode. Using default Manual"
 msgstr ""
-"mauvaise valeur %s pour l'option FocusMode. Utilisation de lavaleur par "
-"défaut Manual"
+"Mauvaise valeur pour l'option FocusMode : %s. Utilisation de la valeur par "
+"défaut : Manuel."
 
-#: ../../WPrefs.app/Focus.c:98
+#: ../../WPrefs.app/Focus.c:94
 #, c-format
 msgid "bad option value %s for option ColormapMode. Using default Auto"
 msgstr ""
-"Mauvaise valeur %s pour l'option ColormapMode. Utilisation de lavaleur par "
-"défaut Manual"
+"Mauvaise valeur pour l'option ColormapMode : %s. Utilisation de la valeur "
+"par défaut : Auto"
 
-#: ../../WPrefs.app/Focus.c:196
-msgid ""
-"Click on the window to set\n"
-"keyboard input focus."
-msgstr ""
-"Cliquer sur la fenêtre pour\n"
-"acquérir la convergence du\n"
-"clavier"
-
-#: ../../WPrefs.app/Focus.c:200
-msgid ""
-"Set keyboard input focus to\n"
-"the window under the mouse pointer,\n"
-"including the root window."
-msgstr ""
-"La fenêtre positionée sous le\n"
-"pointeur de la souris acquiert la\n"
-"convergence du clavier"
-
-#: ../../WPrefs.app/Focus.c:205
-msgid ""
-"Set keyboard input focus to\n"
-"the window under the mouse pointer,\n"
-"except the root window."
-msgstr ""
-"La fenêtre positionée sous le\n"
-"pointeur de la souris acquiert la\n"
-"convergence du clavier mais\n"
-"le fond d'écran est exclu."
-
-#: ../../WPrefs.app/Focus.c:249
+#: ../../WPrefs.app/Focus.c:214
 msgid "Input Focus Mode"
-msgstr "Mode de Convergence du Clavier"
-
-#: ../../WPrefs.app/Focus.c:254
-msgid "Click window to focus"
-msgstr "Cliquer sur la fenêtre"
-
-#: ../../WPrefs.app/Focus.c:255
-msgid "Focus follows mouse"
-msgstr "Position de la souris"
+msgstr "Mode d'activation des fenêtres"
 
-#: ../../WPrefs.app/Focus.c:256
-msgid "\"Sloppy\" focus"
-msgstr "Convergence \"peu stricte\""
+#: ../../WPrefs.app/Focus.c:222
+msgid "Manual:  Click on the window to set keyboard input focus"
+msgstr "Manuel : Cliquer sur une fenêtre pour l'activer."
+
+#: ../../WPrefs.app/Focus.c:229
+msgid "Auto:  Set keyboard input focus to the window under the mouse pointer"
+msgstr "Automatique : Activer la fenêtre pointée par la souris."
 
-#: ../../WPrefs.app/Focus.c:271
+# "Utiliser la palette de couleurs de la fenêtre..." prends trop de place
+#: ../../WPrefs.app/Focus.c:243
 msgid "Install colormap in the window..."
-msgstr "Donner des couleurs à la fenêtre..."
+msgstr "Palette de couleurs utilisée"
 
-#: ../../WPrefs.app/Focus.c:276
+#: ../../WPrefs.app/Focus.c:248
 msgid "...that has the input focus."
-msgstr "...qui à la convergence clavier."
+msgstr "fenêtre active"
 
-#: ../../WPrefs.app/Focus.c:281
+#: ../../WPrefs.app/Focus.c:253
 msgid "...that is under the mouse pointer."
-msgstr "...qui est sous la souris."
+msgstr "fenêtre pointée par la souris"
 
-#: ../../WPrefs.app/Focus.c:290
+#: ../../WPrefs.app/Focus.c:262
 msgid "Automatic Window Raise Delay"
-msgstr "Délai d'Auto-Convergence des Fenêtres"
+msgstr "Délai d'auto-activation des fenêtres"
 
-#: ../../WPrefs.app/Focus.c:347
+#: ../../WPrefs.app/Focus.c:319 ../../WPrefs.app/MouseSettings.c:601
 msgid "msec"
 msgstr "msec"
 
-#: ../../WPrefs.app/Focus.c:364
-msgid "Do not let applications receive the click used to focus windows."
+#: ../../WPrefs.app/Focus.c:336
+msgid ""
+"Do not let applications receive\n"
+"the click used to focus windows."
 msgstr ""
-"L'application ne reçoit pas le click utilisé pour la convergence de la "
-"fenêtre."
+"L'application ne reçoit pas le clic\n"
+"utilisé pour activer la fenêtre."
 
-#: ../../WPrefs.app/Focus.c:370
-msgid "Automatically focus new windows."
-msgstr "Convergence automatique des nouvelles fenêtres."
+#: ../../WPrefs.app/Focus.c:342
+msgid ""
+"Automatically focus new\n"
+"windows."
+msgstr ""
+"Activer automatiquement les\n"
+"nouvelles fenêtres."
 
-#: ../../WPrefs.app/Focus.c:391
+#: ../../WPrefs.app/Focus.c:363
 msgid "Window Focus Preferences"
-msgstr "Préférences de Focus des Fenêtres"
+msgstr "Préférences d'activation des fenêtres"
 
-#: ../../WPrefs.app/Focus.c:393
+#: ../../WPrefs.app/Focus.c:365
 msgid ""
 "Keyboard focus switching policy, colormap switching\n"
 "policy for 8bpp displays and other related options."
 msgstr ""
-"Règles de commutation de la convergence du clavier,\n"
-"règles de commutation des couleurs et autres options\n"
-"en relation avec cela."
+"Règles d'activation des fenêtres, règles de commutation des\n"
+"couleurs en mode 256 couleurs et options proches."
+
+#: ../../WPrefs.app/Font.c:400 ../../WPrefs.app/Font.c:1872
+msgid "Window Title Font"
+msgstr "Titre de fenêtre"
+
+#: ../../WPrefs.app/Font.c:404
+msgid "Display"
+msgstr "Affichage"
+
+#: ../../WPrefs.app/Font.c:412
+msgid "Menu Item"
+msgstr "Item du menu"
+
+#: ../../WPrefs.app/Font.c:418
+msgid "Clip title"
+msgstr "Titre du Trombone"
+
+#: ../../WPrefs.app/Font.c:422
+msgid "Icon Title"
+msgstr "Titre d'icônes"
+
+#: ../../WPrefs.app/Font.c:726
+msgid "error capturing \"original\" tile image"
+msgstr "Erreur à la capture du fond d'icône."
+
+#: ../../WPrefs.app/Font.c:1130
+msgid "Could not locate font information file WPrefs.app/font.data"
+msgstr ""
+"Impossible de trouver le fichier de déclaration des polices WPrefs.app/font."
+"data"
+
+#: ../../WPrefs.app/Font.c:1136
+msgid "Could not read font information file WPrefs.app/font.data"
+msgstr ""
+"Impossible de lire le fichier de déclaration des polices WPrefs.app/font.data"
+
+#: ../../WPrefs.app/Font.c:1147
+msgid ""
+"Invalid data in font information file WPrefs.app/font.data.\n"
+"Encodings data not found."
+msgstr ""
+"Informations invalides dans le fichier de déclaration des polices\n"
+"WPrefs.app/font.data. Encodage absent."
+
+#: ../../WPrefs.app/Font.c:1152
+msgid "Current"
+msgstr "Actuel"
+
+#: ../../WPrefs.app/Font.c:1197 ../../WPrefs.app/Menu.c:1594
+#: ../../WPrefs.app/MouseSettings.c:140 ../../WPrefs.app/MouseSettings.c:160
+#: ../../WPrefs.app/TexturePanel.c:615 ../../WPrefs.app/TexturePanel.c:695
+#: ../../WPrefs.app/Themes.c:96 ../../WPrefs.app/WPrefs.c:759
+#: ../../WPrefs.app/WPrefs.c:764 ../../WPrefs.app/WPrefs.c:781
+#: ../../WPrefs.app/WPrefs.c:791 ../../WPrefs.app/WPrefs.c:801
+#: ../../WPrefs.app/WPrefs.c:839 ../../WPrefs.app/WPrefs.c:844
+msgid "Error"
+msgstr "Erreur"
+
+#: ../../WPrefs.app/Font.c:1197 ../../WPrefs.app/Font.c:1307
+#: ../../WPrefs.app/Menu.c:1594 ../../WPrefs.app/MouseSettings.c:142
+#: ../../WPrefs.app/MouseSettings.c:162 ../../WPrefs.app/TexturePanel.c:616
+#: ../../WPrefs.app/TexturePanel.c:697 ../../WPrefs.app/TexturePanel.c:1529
+#: ../../WPrefs.app/Themes.c:98 ../../WPrefs.app/WPrefs.c:759
+#: ../../WPrefs.app/WPrefs.c:764 ../../WPrefs.app/WPrefs.c:783
+#: ../../WPrefs.app/WPrefs.c:795 ../../WPrefs.app/WPrefs.c:801
+#: ../../WPrefs.app/WPrefs.c:808 ../../WPrefs.app/WPrefs.c:839
+#: ../../WPrefs.app/WPrefs.c:844 ../../WPrefs.app/imagebrowser.c:105
+msgid "OK"
+msgstr "Accepter"
+
+#: ../../WPrefs.app/Font.c:1307 ../../WPrefs.app/Menu.c:1629
+#: ../../WPrefs.app/WPrefs.c:808
+msgid "Warning"
+msgstr "Avertissement"
+
+#: ../../WPrefs.app/Font.c:1503 ../../WPrefs.app/Menu.c:1406
+msgid "Yes"
+msgstr "Oui"
+
+#: ../../WPrefs.app/Font.c:1507
+msgid "Auto"
+msgstr "Auto"
+
+#: ../../WPrefs.app/Font.c:1873
+msgid "Large Display Font"
+msgstr "Grande police"
+
+#: ../../WPrefs.app/Font.c:1874
+msgid "Menu Title Font"
+msgstr "Titre de menu"
+
+#: ../../WPrefs.app/Font.c:1875
+msgid "Menu Item Font"
+msgstr "Item du menu"
 
-#: ../../WPrefs.app/Icons.c:182
+#: ../../WPrefs.app/Font.c:1876
+msgid "Clip Title Font"
+msgstr "Titre du Trombone"
+
+#: ../../WPrefs.app/Font.c:1877
+msgid "Icon Title Font"
+msgstr "Titre d'icône"
+
+#: ../../WPrefs.app/Font.c:1887
+msgid "MultiByte"
+msgstr "Multi-octets"
+
+#: ../../WPrefs.app/Font.c:1901
+msgid "Default Font Encodings"
+msgstr "Encodage par défaut"
+
+#: ../../WPrefs.app/Font.c:1917
+msgid "Smooth Fonts"
+msgstr "Polices lissées"
+
+#: ../../WPrefs.app/Font.c:1918
+msgid ""
+"Smooth Font edges for the eye candy\n"
+"requires a restart after saving"
+msgstr ""
+"Bordure de caractères adoucies, pour le plaisir des yeux.\n"
+"Nécessite un redémarrage après sauvegarde."
+
+#: ../../WPrefs.app/Font.c:1927
+msgid "Font Set"
+msgstr "Famille de polices"
+
+#: ../../WPrefs.app/Font.c:1957
+msgid "Add..."
+msgstr "Ajouter..."
+
+#: ../../WPrefs.app/Font.c:1963 ../../WPrefs.app/Font.c:1999
+msgid "Change..."
+msgstr "Modifier..."
+
+#: ../../WPrefs.app/Font.c:1969 ../../WPrefs.app/Paths.c:289
+#: ../../WPrefs.app/Paths.c:320
+msgid "Remove"
+msgstr "Supprimer"
+
+#: ../../WPrefs.app/Font.c:2095
+msgid "Font Preferences"
+msgstr "Préférences des polices"
+
+#: ../../WPrefs.app/Font.c:2096
+msgid "Font Configurations for Windows, Menus etc"
+msgstr "Configuration des polices pour les fenêtres, menus, etc."
+
+#: ../../WPrefs.app/Icons.c:180
 msgid "Icon Positioning"
-msgstr "Positionnement des Icônes"
+msgstr "Positionnement des icônes"
 
-#: ../../WPrefs.app/Icons.c:229
+#: ../../WPrefs.app/Icons.c:227
 msgid "Iconification Animation"
-msgstr "Animation d'Iconification"
+msgstr "Iconification animée"
 
-#: ../../WPrefs.app/Icons.c:240
+#: ../../WPrefs.app/Icons.c:238
 msgid "Shrinking/Zooming"
 msgstr "Zoom"
 
-#: ../../WPrefs.app/Icons.c:241
+#: ../../WPrefs.app/Icons.c:239
 msgid "Spinning/Twisting"
 msgstr "Tournoiement"
 
-#: ../../WPrefs.app/Icons.c:242
+#: ../../WPrefs.app/Icons.c:240
 msgid "3D-flipping"
 msgstr "Rotation 3D"
 
-#: ../../WPrefs.app/Icons.c:243
+#: ../../WPrefs.app/Icons.c:241 ../../WPrefs.app/MouseSettings.c:838
+#: ../../WPrefs.app/MouseSettings.c:843
 msgid "None"
 msgstr "Aucune"
 
-#: ../../WPrefs.app/Icons.c:256
+#: ../../WPrefs.app/Icons.c:254
 msgid "Auto-arrange icons"
-msgstr "Arrangement automatique"
+msgstr "Rangement automatique des icônes"
 
-#: ../../WPrefs.app/Icons.c:258
+#: ../../WPrefs.app/Icons.c:256
 msgid "Keep icons and miniwindows arranged all the time."
-msgstr "Les icônes et les mini-fenêtres sont toujours arrangées."
+msgstr "Toujours ranger les icônes et les mini-fenêtres."
 
-#: ../../WPrefs.app/Icons.c:264
+#: ../../WPrefs.app/Icons.c:262
 msgid "Omnipresent miniwindows"
 msgstr "Mini-fenêtres omniprésentes"
 
-#: ../../WPrefs.app/Icons.c:266
+#: ../../WPrefs.app/Icons.c:264
 msgid "Make miniwindows be present in all workspaces."
-msgstr "Mini-fenêtres présentes sur tous les bureaux."
+msgstr "Les mini-fenêtres apparaissent sur tous les bureaux."
 
-#: ../../WPrefs.app/Icons.c:275
+#: ../../WPrefs.app/Icons.c:273
 msgid "Icon Size"
-msgstr "Taille des Icônes"
+msgstr "Taille des icônes"
 
-#: ../../WPrefs.app/Icons.c:277
+#: ../../WPrefs.app/Icons.c:275
 msgid "The size of the dock/application icon and miniwindows"
-msgstr "La taille des icônes dock/application et des mini-fenêtres."
+msgstr ""
+"La taille des icônes du Dock, des applications\n"
+"et des mini-fenêtres."
 
-#: ../../WPrefs.app/Icons.c:347
+#: ../../WPrefs.app/Icons.c:345
 msgid "Icon Preferences"
-msgstr "Préférences des Icônes"
+msgstr "Préférences des icônes"
 
-#: ../../WPrefs.app/Icons.c:349
+#: ../../WPrefs.app/Icons.c:347
 msgid ""
 "Icon/Miniwindow handling options. Icon positioning\n"
 "area, sizes of icons, miniaturization animation style."
 msgstr ""
-"Options de manipulation des icônes/mini-fenêtres.\n"
-"Aire de positionement, taille des icônes, type\n"
-"d'animation pour la miniaturisation."
+"Options de manipulation des icônes et mini-fenêtres :\n"
+"positionnement et taille des icônes, type d'animation\n"
+"pour la miniaturisation."
 
-#: ../../WPrefs.app/KeyboardSettings.c:74
+#: ../../WPrefs.app/KeyboardSettings.c:73
 msgid "Initial Key Repeat"
-msgstr "Répétition de Touche"
+msgstr "Première répétition"
 
-#: ../../WPrefs.app/KeyboardSettings.c:115
+#: ../../WPrefs.app/KeyboardSettings.c:114
 msgid "Key Repeat Rate"
-msgstr "Taux de Répétition"
+msgstr "Taux de répétition"
 
-#: ../../WPrefs.app/KeyboardSettings.c:155
+#: ../../WPrefs.app/KeyboardSettings.c:154
 msgid "Type here to test"
-msgstr "Ecrivez ici pour tester"
+msgstr "Écrivez ici pour tester"
 
-#: ../../WPrefs.app/KeyboardSettings.c:174
+#: ../../WPrefs.app/KeyboardSettings.c:173
 msgid "Keyboard Preferences"
-msgstr "Préférences Clavier"
+msgstr "Préférences clavier"
 
-#: ../../WPrefs.app/KeyboardSettings.c:176
+#: ../../WPrefs.app/KeyboardSettings.c:175
 msgid "Not done"
 msgstr "Pas fait"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:185 ../../WPrefs.app/Menu.c:1010
-#: ../../WPrefs.app/MenuGuru.c:263 ../../WPrefs.app/TexturePanel.c:1528
+#: ../../WPrefs.app/KeyboardShortcuts.c:308 ../../WPrefs.app/Menu.c:360
+#: ../../WPrefs.app/TexturePanel.c:1535 ../../WPrefs.app/imagebrowser.c:100
 msgid "Cancel"
 msgstr "Annuler"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:186
+#: ../../WPrefs.app/KeyboardShortcuts.c:309
 msgid "Press the desired shortcut key(s) or click Cancel to stop capturing."
 msgstr ""
 "Tapez le raccourci souhaité ou cliquez sur Annuler pour arrêter la capture."
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:206
-#: ../../WPrefs.app/KeyboardShortcuts.c:454 ../../WPrefs.app/Menu.c:1022
-#: ../../WPrefs.app/Menu.c:1245
+#: ../../WPrefs.app/KeyboardShortcuts.c:329
+#: ../../WPrefs.app/KeyboardShortcuts.c:577 ../../WPrefs.app/Menu.c:371
+#: ../../WPrefs.app/Menu.c:830
 msgid "Capture"
 msgstr "Capturer"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:207
-#: ../../WPrefs.app/KeyboardShortcuts.c:461
+#: ../../WPrefs.app/KeyboardShortcuts.c:330
+#: ../../WPrefs.app/KeyboardShortcuts.c:585
 msgid "Click Capture to interactively define the shortcut key."
-msgstr "Cliquez sur Capturer pour définir intéractivement le raccourci"
+msgstr "Cliquez sur Capturer pour définir interactivement le raccourci."
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:361
+#: ../../WPrefs.app/KeyboardShortcuts.c:484
 msgid "Actions"
 msgstr "Actions"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:377
+#: ../../WPrefs.app/KeyboardShortcuts.c:498
 msgid "Open applications menu"
-msgstr "Ouvrir le menu d'applications"
+msgstr "Ouvrir le menu Applications"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:378
+#: ../../WPrefs.app/KeyboardShortcuts.c:499
 msgid "Open window list menu"
 msgstr "Ouvrir la liste des fenêtres"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:379
+#: ../../WPrefs.app/KeyboardShortcuts.c:500
 msgid "Open window commands menu"
 msgstr "Ouvrir le menu de la fenêtre"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:380
+#: ../../WPrefs.app/KeyboardShortcuts.c:501
 msgid "Hide active application"
-msgstr "Cacher l'application active"
+msgstr "Masquer l'application active"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:502
+msgid "Hide other applications"
+msgstr "Masquer les autres applications"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:381
+#: ../../WPrefs.app/KeyboardShortcuts.c:503
 msgid "Miniaturize active window"
 msgstr "Miniaturiser la fenêtre active"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:382
+#: ../../WPrefs.app/KeyboardShortcuts.c:504
 msgid "Close active window"
 msgstr "Fermer la fenêtre active"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:383
+#: ../../WPrefs.app/KeyboardShortcuts.c:505
 msgid "Maximize active window"
-msgstr "Agrandir la fenêtre active"
+msgstr "Maximiser la fenêtre active"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:384
+#: ../../WPrefs.app/KeyboardShortcuts.c:506
 msgid "Maximize active window vertically"
-msgstr "Agrandir fenêtre active verticallement"
+msgstr "Maximiser la hauteur de la fenêtre active"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:507
+msgid "Maximize active window horizontally"
+msgstr "Maximiser la largeur de la fenêtre active"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:385
+#: ../../WPrefs.app/KeyboardShortcuts.c:508
 msgid "Raise active window"
-msgstr "Fenêtre active en avant-plan"
+msgstr "Mettre la fenêtre active devant les autres"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:386
+#: ../../WPrefs.app/KeyboardShortcuts.c:509
 msgid "Lower active window"
-msgstr "Fenêtre active en arrière-plan"
+msgstr "Mettre la fenêtre active derrière les autres"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:387
+#: ../../WPrefs.app/KeyboardShortcuts.c:510
 msgid "Raise/Lower window under mouse pointer"
-msgstr "Fenêtre désignée en avant/arrière-plan"
+msgstr "Mettre la fenêtre pointée devant/derrière"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:388
+#: ../../WPrefs.app/KeyboardShortcuts.c:511
 msgid "Shade active window"
-msgstr "Ombrer la fenêtre active"
+msgstr "Enrouler la fenêtre active"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:389
+#: ../../WPrefs.app/KeyboardShortcuts.c:512
 msgid "Move/Resize active window"
-msgstr "Déplacer/Redimensionner la fenêtre active"
+msgstr "Déplacer/dimensionner la fenêtre active"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:390
+#: ../../WPrefs.app/KeyboardShortcuts.c:513
 msgid "Select active window"
 msgstr "Sélectionner la fenêtre active"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:391
+#: ../../WPrefs.app/KeyboardShortcuts.c:514
 msgid "Focus next window"
-msgstr "Fenêtre suivante en convergence"
+msgstr "Activer la fenêtre suivante"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:392
+#: ../../WPrefs.app/KeyboardShortcuts.c:515
 msgid "Focus previous window"
-msgstr "Fenêtre précédente en convergence"
+msgstr "Activer la fenêtre précédente"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:393
+#: ../../WPrefs.app/KeyboardShortcuts.c:516
 msgid "Switch to next workspace"
-msgstr "Commuter au Bureau suivant"
+msgstr "Aller au bureau suivant"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:394
+#: ../../WPrefs.app/KeyboardShortcuts.c:517
 msgid "Switch to previous workspace"
-msgstr "Commuter au Bureau précédent"
+msgstr "Aller au bureau précédent"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:395
+#: ../../WPrefs.app/KeyboardShortcuts.c:518
 msgid "Switch to next ten workspaces"
-msgstr "Commuter dix Bureaux en avant"
+msgstr "Avancer de dix bureaux"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:396
+#: ../../WPrefs.app/KeyboardShortcuts.c:519
 msgid "Switch to previous ten workspaces"
-msgstr "Commuter dix Bureaux en arrière"
+msgstr "Reculer de dix bureaux"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:397
+#: ../../WPrefs.app/KeyboardShortcuts.c:520
 msgid "Switch to workspace 1"
-msgstr "Commuter au Bureau 1"
+msgstr "Aller au bureau 1"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:398
+#: ../../WPrefs.app/KeyboardShortcuts.c:521
 msgid "Switch to workspace 2"
-msgstr "Commuter au Bureau 2"
+msgstr "Aller au bureau 2"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:399
+#: ../../WPrefs.app/KeyboardShortcuts.c:522
 msgid "Switch to workspace 3"
-msgstr "Commuter au Bureau 3"
+msgstr "Aller au bureau 3"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:400
+#: ../../WPrefs.app/KeyboardShortcuts.c:523
 msgid "Switch to workspace 4"
-msgstr "Commuter au Bureau 4"
+msgstr "Aller au bureau 4"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:401
+#: ../../WPrefs.app/KeyboardShortcuts.c:524
 msgid "Switch to workspace 5"
-msgstr "Commuter au Bureau 5"
+msgstr "Aller au bureau 5"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:402
+#: ../../WPrefs.app/KeyboardShortcuts.c:525
 msgid "Switch to workspace 6"
-msgstr "Commuter au Bureau 6"
+msgstr "Aller au bureau 6"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:403
+#: ../../WPrefs.app/KeyboardShortcuts.c:526
 msgid "Switch to workspace 7"
-msgstr "Commuter au Bureau 7"
+msgstr "Aller au bureau 7"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:404
+#: ../../WPrefs.app/KeyboardShortcuts.c:527
 msgid "Switch to workspace 8"
-msgstr "Commuter au Bureau 8"
+msgstr "Aller au bureau 8"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:405
+#: ../../WPrefs.app/KeyboardShortcuts.c:528
 msgid "Switch to workspace 9"
-msgstr "Commuter au Bureau 9"
+msgstr "Aller au bureau 9"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:406
+#: ../../WPrefs.app/KeyboardShortcuts.c:529
 msgid "Switch to workspace 10"
-msgstr "Commuter au Bureau 10"
+msgstr "Aller au bureau 10"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:407
+#: ../../WPrefs.app/KeyboardShortcuts.c:530
 msgid "Shortcut for window 1"
-msgstr "Raccourci de la fenêtre 1"
+msgstr "Aller à la fenêtre 1"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:408
+#: ../../WPrefs.app/KeyboardShortcuts.c:531
 msgid "Shortcut for window 2"
-msgstr "Raccourci de la fenêtre 2"
+msgstr "Aller à la fenêtre 2"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:409
+#: ../../WPrefs.app/KeyboardShortcuts.c:532
 msgid "Shortcut for window 3"
-msgstr "Raccourci de la fenêtre 3"
+msgstr "Aller à la fenêtre 3"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:410
+#: ../../WPrefs.app/KeyboardShortcuts.c:533
 msgid "Shortcut for window 4"
-msgstr "Raccourci de la fenêtre 4"
+msgstr "Aller à la fenêtre 4"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:412
-#, fuzzy
+#: ../../WPrefs.app/KeyboardShortcuts.c:534
 msgid "Shortcut for window 5"
-msgstr "Raccourci de la fenêtre 1"
+msgstr "Aller à la fenêtre 5"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:413
-#, fuzzy
+#: ../../WPrefs.app/KeyboardShortcuts.c:535
 msgid "Shortcut for window 6"
-msgstr "Raccourci de la fenêtre 1"
+msgstr "Aller à la fenêtre 6"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:414
-#, fuzzy
+#: ../../WPrefs.app/KeyboardShortcuts.c:536
 msgid "Shortcut for window 7"
-msgstr "Raccourci de la fenêtre 1"
+msgstr "Aller à la fenêtre 7"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:415
-#, fuzzy
+#: ../../WPrefs.app/KeyboardShortcuts.c:537
 msgid "Shortcut for window 8"
-msgstr "Raccourci de la fenêtre 1"
+msgstr "Aller à la fenêtre 8"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:416
-#, fuzzy
+#: ../../WPrefs.app/KeyboardShortcuts.c:538
 msgid "Shortcut for window 9"
-msgstr "Raccourci de la fenêtre 1"
+msgstr "Aller à la fenêtre 9"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:417
-#, fuzzy
+#: ../../WPrefs.app/KeyboardShortcuts.c:539
 msgid "Shortcut for window 10"
-msgstr "Raccourci de la fenêtre 1"
+msgstr "Aller à la fenêtre 10"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:540
+msgid "Switch to Next Screen/Monitor"
+msgstr "Aller à l'écran suivant"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:541
+msgid "Switch to Previous Screen/Monitor"
+msgstr "Aller à l'écran précédent"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:419
+#: ../../WPrefs.app/KeyboardShortcuts.c:542
 msgid "Raise Clip"
-msgstr "Clip en avant-plan"
+msgstr "Mettre le Trombone devant"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:420
+#: ../../WPrefs.app/KeyboardShortcuts.c:543
 msgid "Lower Clip"
-msgstr "Clip en arrière-plan"
+msgstr "Mettre le Trombone derrière"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:421
+#: ../../WPrefs.app/KeyboardShortcuts.c:544
 msgid "Raise/Lower Clip"
-msgstr "Clip en avant/arrière-plan"
+msgstr "Mettre le Trombone devant/derrière"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:423
+#: ../../WPrefs.app/KeyboardShortcuts.c:546
 msgid "Toggle keyboard language"
-msgstr "Désactiver/Activer l'internationalisation du clavier"
+msgstr "Activer/désactiver l'internationalisation du clavier"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:437 ../../WPrefs.app/Menu.c:1234
+#: ../../WPrefs.app/KeyboardShortcuts.c:560
 msgid "Shortcut"
 msgstr "Raccourci"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:448
+#: ../../WPrefs.app/KeyboardShortcuts.c:571 ../../WPrefs.app/Menu.c:836
 msgid "Clear"
 msgstr "Effacer"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:509
+#: ../../WPrefs.app/KeyboardShortcuts.c:633
 msgid "Keyboard Shortcut Preferences"
-msgstr "Préférences de Raccourcis-Clavier"
+msgstr "Préférences de raccourcis clavier"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:511
+#: ../../WPrefs.app/KeyboardShortcuts.c:635
 msgid ""
 "Change the keyboard shortcuts for actions such\n"
 "as changing workspaces and opening menus."
 msgstr ""
-"Modifier les raccourcis clavier pour les actions\n"
-"comme le changemement de bureau et l'ouverture de\n"
-"menus."
-
-#: ../../WPrefs.app/Menu.c:422
-msgid "Window Manager"
-msgstr "Gestionnaire de Fenêtres"
-
-#: ../../WPrefs.app/Menu.c:424
-msgid "Program to Open Files"
-msgstr "Programme pour Ouvrir les fichiers"
-
-#: ../../WPrefs.app/Menu.c:426
-msgid "Command to Execute"
-msgstr "Commande à Executer"
+"Modification des raccourcis clavier pour les actions\n"
+"telles que le changemement de bureau et l'ouverture\n"
+"de menus."
+
+#: ../../WPrefs.app/Menu.c:278
+msgid "Select Program"
+msgstr "Selectionner le programme"
+
+#: ../../WPrefs.app/Menu.c:510
+msgid "New Items"
+msgstr "Nouveaux éléments"
+
+#: ../../WPrefs.app/Menu.c:511
+msgid "Sample Commands"
+msgstr "Exemples de commande"
+
+#: ../../WPrefs.app/Menu.c:512
+msgid "Sample Submenus"
+msgstr "Exemples de sous-menu"
 
-#: ../../WPrefs.app/Menu.c:428 ../../WPrefs.app/Menu.c:1221
-msgid "Program to Run"
-msgstr "Programme à Lancer"
+#: ../../WPrefs.app/Menu.c:526
+msgid "Run Program"
+msgstr "Lancer le programme"
 
-#: ../../WPrefs.app/Menu.c:477 ../../WPrefs.app/Menu.c:478
-#, c-format
-msgid "New Command %i"
-msgstr "Nouvelle Commande %i"
+#: ../../WPrefs.app/Menu.c:527
+msgid "Internal Command"
+msgstr "Commande interne"
+
+#: ../../WPrefs.app/Menu.c:528
+msgid "Submenu"
+msgstr "Sous-menu"
+
+#: ../../WPrefs.app/Menu.c:529
+msgid "External Submenu"
+msgstr "Menu externe"
+
+#: ../../WPrefs.app/Menu.c:530
+msgid "Generated Submenu"
+msgstr "Sous-menu dynamique"
+
+#: ../../WPrefs.app/Menu.c:531
+msgid "Directory Contents"
+msgstr "Contenu d'un répertoire"
+
+#: ../../WPrefs.app/Menu.c:532
+msgid "Workspace Menu"
+msgstr "Menu des bureaux"
+
+#: ../../WPrefs.app/Menu.c:533 ../../WPrefs.app/MouseSettings.c:840
+msgid "Window List Menu"
+msgstr "Liste des fenêtres"
+
+#: ../../WPrefs.app/Menu.c:552
+msgid "XTerm"
+msgstr "XTerm"
+
+#: ../../WPrefs.app/Menu.c:555
+msgid "rxvt"
+msgstr "rxvt"
+
+#: ../../WPrefs.app/Menu.c:558
+msgid "ETerm"
+msgstr "ETerm"
+
+#: ../../WPrefs.app/Menu.c:561
+msgid "Run..."
+msgstr "Démarrer..."
+
+#: ../../WPrefs.app/Menu.c:562
+msgid "%a(Run,Type command to run)"
+msgstr "%a(Démarrer,Saisir la commande :)"
+
+#: ../../WPrefs.app/Menu.c:564
+msgid "Netscape"
+msgstr "Netscape"
+
+#: ../../WPrefs.app/Menu.c:567
+msgid "gimp"
+msgstr "Le Gimp"
+
+#: ../../WPrefs.app/Menu.c:570
+msgid "epic"
+msgstr "epic"
+
+#: ../../WPrefs.app/Menu.c:573
+msgid "ee"
+msgstr "ee"
+
+#: ../../WPrefs.app/Menu.c:576
+msgid "xv"
+msgstr "xv"
+
+#: ../../WPrefs.app/Menu.c:579
+msgid "Acrobat Reader"
+msgstr "Acrobat Reader"
+
+#: ../../WPrefs.app/Menu.c:582
+msgid "ghostview"
+msgstr "ghostview"
+
+#: ../../WPrefs.app/Menu.c:585 ../../WPrefs.app/Menu.c:857
+msgid "Exit Window Maker"
+msgstr "Quitter Window Maker"
 
-#: ../../WPrefs.app/Menu.c:485
-msgid "New Submenu"
-msgstr "Nouveau Sous-Menu"
+#: ../../WPrefs.app/Menu.c:608
+msgid "Debian Menu"
+msgstr "Menu Debian"
+
+#: ../../WPrefs.app/Menu.c:611
+msgid "RedHat Menu"
+msgstr "Menu Red Hat"
+
+#: ../../WPrefs.app/Menu.c:614
+msgid "Menu Conectiva"
+msgstr "Menu Conectiva"
 
-#: ../../WPrefs.app/Menu.c:490
-msgid "External Menu"
-msgstr "Menu Externe"
+#: ../../WPrefs.app/Menu.c:617 ../../WPrefs.app/Themes.c:250
+msgid "Themes"
+msgstr "Thèmes"
 
-#: ../../WPrefs.app/Menu.c:497
-msgid "Workspaces"
-msgstr "Bureaux"
+#: ../../WPrefs.app/Menu.c:622
+msgid "Bg Images (scale)"
+msgstr "Fond (à l'échelle)"
 
-#: ../../WPrefs.app/Menu.c:1102 ../../WPrefs.app/Menu.c:1117
-msgid "Commands"
-msgstr "Commandes"
+#: ../../WPrefs.app/Menu.c:627
+msgid "Bg Images (tile)"
+msgstr "Fond (mosaïque)"
 
-#: ../../WPrefs.app/Menu.c:1103 ../../WPrefs.app/Menu.c:1118
-msgid "Add Command"
-msgstr "+ Commande"
+#: ../../WPrefs.app/Menu.c:632
+msgid "Assorted XTerms"
+msgstr "Choix de XTerm"
 
-#: ../../WPrefs.app/Menu.c:1104 ../../WPrefs.app/Menu.c:1119
-msgid "Add Submenu"
-msgstr "+ Sous-Menu"
+#: ../../WPrefs.app/Menu.c:634
+msgid "XTerm Yellow on Blue"
+msgstr "XTerm jaune sur bleu"
 
-#: ../../WPrefs.app/Menu.c:1105 ../../WPrefs.app/Menu.c:1120
-msgid "Add External Menu"
-msgstr "+ Sous-Menu Externe"
+#: ../../WPrefs.app/Menu.c:637
+msgid "XTerm White on Black"
+msgstr "XTerm blanc sur noir"
 
-#: ../../WPrefs.app/Menu.c:1106 ../../WPrefs.app/Menu.c:1121
-msgid "Add Workspace Menu"
-msgstr "+ Menu des Bureaux"
+#: ../../WPrefs.app/Menu.c:640
+msgid "XTerm Black on White"
+msgstr "XTerm noir sur blanc"
 
-#: ../../WPrefs.app/Menu.c:1107 ../../WPrefs.app/Menu.c:1122
-msgid "Remove Item"
-msgstr "Effacer un Elément"
+#: ../../WPrefs.app/Menu.c:643
+msgid "XTerm Black on Beige"
+msgstr "XTerm noir sur beige"
 
-#: ../../WPrefs.app/Menu.c:1108 ../../WPrefs.app/Menu.c:1123
-msgid "Cut Item"
-msgstr "Couper un Elément"
+#: ../../WPrefs.app/Menu.c:646
+msgid "XTerm White on Green"
+msgstr "XTerm blanc sur vert"
 
-#: ../../WPrefs.app/Menu.c:1109 ../../WPrefs.app/Menu.c:1124
-msgid "Copy Item"
-msgstr "Copier un Elément"
+#: ../../WPrefs.app/Menu.c:649
+msgid "XTerm White on Olive"
+msgstr "XTerm blanc sur olive"
 
-#: ../../WPrefs.app/Menu.c:1110 ../../WPrefs.app/Menu.c:1125
-msgid "Paste Item"
-msgstr "Coller un Elément"
+#: ../../WPrefs.app/Menu.c:652
+msgid "XTerm Blue on Blue"
+msgstr "XTerm bleu sur bleu"
+
+#: ../../WPrefs.app/Menu.c:655
+msgid "XTerm BIG FONTS"
+msgstr "XTerm grandes polices"
+
+#: ../../WPrefs.app/Menu.c:677
+msgid "Program to Run"
+msgstr "Programme à lancer"
 
-#: ../../WPrefs.app/Menu.c:1156
-msgid "Label"
-msgstr "Etiquette"
+#: ../../WPrefs.app/Menu.c:687
+msgid "Browse"
+msgstr "Parcourir"
+
+#: ../../WPrefs.app/Menu.c:698
+msgid "Run the program inside a Xterm"
+msgstr "Lancer le programme dans un terminal (xterm)"
+
+#: ../../WPrefs.app/Menu.c:708
+msgid "Path for Menu"
+msgstr "Répertoire du menu"
+
+#: ../../WPrefs.app/Menu.c:721
+msgid ""
+"Enter the path for a file containing a menu\n"
+"or a list of directories with the programs you\n"
+"want to have listed in the menu. Ex:\n"
+"~/GNUstep/Library/WindowMaker/menu\n"
+"or\n"
+"/usr/X11R6/bin ~/xbin"
+msgstr ""
+"Indiquez l'emplacement d'un fichier décrivant un\n"
+"menu ou une liste de répertoires contenant les\n"
+"programmes que vous voulez voir dans le menu.\n"
+"Exemple : « ~/GNUstep/Library/WindowMaker/menu »\n"
+"ou\n"
+"« /usr/X116/bin ~/xbin »"
 
-#: ../../WPrefs.app/Menu.c:1169
+#: ../../WPrefs.app/Menu.c:736
 msgid "Command"
 msgstr "Commande"
 
-#: ../../WPrefs.app/Menu.c:1174
-msgid "Run Program"
-msgstr "Lancer le Programme"
+#: ../../WPrefs.app/Menu.c:750
+msgid ""
+"Enter a command that outputs a menu\n"
+"definition to stdout when invoked."
+msgstr ""
+"Indiquez une commande qui génère une description\n"
+"de menu sur la sortie standard."
+
+#: ../../WPrefs.app/Menu.c:758
+msgid ""
+"Cache menu contents after opening for\n"
+"the first time"
+msgstr ""
+"Mémoriser le sous-menu dynamique généré au\n"
+"premier affichage."
+
+#: ../../WPrefs.app/Menu.c:769
+msgid "Command to Open Files"
+msgstr "Commande pour ouvrir les fichiers"
 
-#: ../../WPrefs.app/Menu.c:1175
-msgid "Execute Shell Command"
-msgstr "Lancer une Commande Shell"
+#: ../../WPrefs.app/Menu.c:783
+msgid ""
+"Enter the command you want to use to open the\n"
+"files in the directories listed below."
+msgstr ""
+"Indiquez la commande à utiliser pour ouvrir\n"
+"les fichiers des répertoires listés ci-dessous."
+
+#: ../../WPrefs.app/Menu.c:792
+msgid "Directories with Files"
+msgstr "Répertoires listés"
+
+#: ../../WPrefs.app/Menu.c:805
+msgid "Strip extensions from file names"
+msgstr "Supprimer les extensions des noms de fichiers"
 
-#: ../../WPrefs.app/Menu.c:1176
+#: ../../WPrefs.app/Menu.c:817
+msgid "Keyboard Shortcut"
+msgstr "Raccourci clavier"
+
+#: ../../WPrefs.app/Menu.c:853
 msgid "Arrange Icons"
-msgstr "Ranger les Icônes"
+msgstr "Ranger les icônes"
 
-#: ../../WPrefs.app/Menu.c:1177
-msgid "Hide Others"
-msgstr "Cacher les autres Fenêtres"
+#: ../../WPrefs.app/Menu.c:854
+msgid "Hide All Windows Except For The Focused One"
+msgstr "Masquer toutes les fenêtres inactives"
 
-#: ../../WPrefs.app/Menu.c:1178
+#: ../../WPrefs.app/Menu.c:855
 msgid "Show All Windows"
-msgstr "Montrer toutes les Fenêtres"
-
-#: ../../WPrefs.app/Menu.c:1179
-msgid "Exit WindowMaker"
-msgstr "Quitter Window Maker"
+msgstr "Montrer toutes les fenêtres"
 
-#: ../../WPrefs.app/Menu.c:1180
+#: ../../WPrefs.app/Menu.c:858
 msgid "Exit X Session"
-msgstr "Quitter la Session X"
+msgstr "Terminer la session X"
 
-#: ../../WPrefs.app/Menu.c:1181
-msgid "Start Window Manager"
-msgstr "Démarrer un Gestionnaire"
-
-#: ../../WPrefs.app/Menu.c:1182
-msgid "Restart WindowMaker"
+#: ../../WPrefs.app/Menu.c:859
+msgid "Restart Window Maker"
 msgstr "Redémarrer Window Maker"
 
-#: ../../WPrefs.app/Menu.c:1183
-msgid "Save Session"
-msgstr "Sauver la Session"
-
-#: ../../WPrefs.app/Menu.c:1184
-msgid "Clear Session"
-msgstr "Effacer la Session"
+#: ../../WPrefs.app/Menu.c:860
+msgid "Start Another Window Manager   : ("
+msgstr "Démarrer un autre gestionnaire de fenêtres  : ("
+
+#: ../../WPrefs.app/Menu.c:862
+msgid "Save Current Session"
+msgstr "Enregistrer la session"
+
+#: ../../WPrefs.app/Menu.c:863
+msgid "Clear Saved Session"
+msgstr "Effacer la session enregistrée"
 
-#: ../../WPrefs.app/Menu.c:1185
+#: ../../WPrefs.app/Menu.c:864
 msgid "Refresh Screen"
-msgstr "Rafraîchir l'Ecran"
+msgstr "Rafraîchir l'écran"
+
+#: ../../WPrefs.app/Menu.c:865
+msgid "Open Info Panel"
+msgstr "Informations Window Maker"
+
+#: ../../WPrefs.app/Menu.c:866
+msgid "Open Copyright Panel"
+msgstr "Informations légales"
+
+#: ../../WPrefs.app/Menu.c:872
+msgid "Window Manager to Start"
+msgstr "Gestionnaire de fenêtres"
+
+#: ../../WPrefs.app/Menu.c:888
+msgid "Do not confirm action."
+msgstr "Pas de demande de confirmation."
+
+#: ../../WPrefs.app/Menu.c:898
+msgid ""
+"Instructions:\n"
+"\n"
+" - drag items from the left to the menu to add new items\n"
+" - drag items out of the menu to remove items\n"
+" - drag items in menu to change their position\n"
+" - drag items with Control pressed to copy them\n"
+" - double click in a menu item to change the label\n"
+" - click on a menu item to change related information"
+msgstr ""
+"Instructions :\n"
+"\n"
+" - glissez un élément de la gauche jusqu'au menu\n"
+"   pour l'ajouter ;\n"
+" - glissez un élément hors du menu pour le supprimer ;\n"
+" - déplacez les éléments dans le menu pour modifier\n"
+"   leur position ;\n"
+" - déplacez un élément en pressant la touche Ctrl\n"
+"   pour le copier ;\n"
+" - double-cliquez sur un élément pour changer son\n"
+"   intitulé ;\n"
+" - cliquez sur un élément pour modifier ses propriétés."
+
+#: ../../WPrefs.app/Menu.c:1122
+#, c-format
+msgid "unknown command '%s' in menu"
+msgstr "Commande « %s » du menu inconnue"
+
+#: ../../WPrefs.app/Menu.c:1154
+msgid ": Execute Program"
+msgstr " : Démarrer le programme"
+
+#: ../../WPrefs.app/Menu.c:1158
+msgid ": Perform Internal Command"
+msgstr " : exécuter une commande interne"
+
+#: ../../WPrefs.app/Menu.c:1162
+msgid ": Open a Submenu"
+msgstr " : ouvrir un sous-menu"
+
+#: ../../WPrefs.app/Menu.c:1166
+msgid ": Program Generated Submenu"
+msgstr " : menu généré par un programme"
+
+#: ../../WPrefs.app/Menu.c:1170
+msgid ": Directory Contents Menu"
+msgstr " : contenu d'un répertoire"
+
+#: ../../WPrefs.app/Menu.c:1174
+msgid ": Open Workspaces Submenu"
+msgstr " : Ouvrir le menu des bureaux"
 
-#: ../../WPrefs.app/Menu.c:1186
-msgid "Info Panel"
-msgstr "Panneau d'Informations"
-
-#: ../../WPrefs.app/Menu.c:1187
-msgid "Legal Panel"
-msgstr "Panneau \"Légal\""
-
-#: ../../WPrefs.app/Menu.c:1195
-msgid "Open workspace menu"
-msgstr "Ouvrir le menu des Bureaux"
-
-#: ../../WPrefs.app/Menu.c:1202
-msgid "No confirmation panel"
-msgstr "Pas de demande de confirmation"
-
-#: ../../WPrefs.app/Menu.c:1208
-msgid "Menu Path/Directory List"
-msgstr "Liste des Chemins des Menus"
-
-#: ../../WPrefs.app/Menu.c:1253
-msgid "Ask help to the Guru"
-msgstr "Demander de l'aide au Gourou"
+#: ../../WPrefs.app/Menu.c:1178
+msgid ": Open Window List Submenu"
+msgstr " : Ouvrir le menu Fenêtre"
+
+#: ../../WPrefs.app/Menu.c:1403
+msgid "Remove Submenu"
+msgstr "Supprimer le sous-menu"
+
+#: ../../WPrefs.app/Menu.c:1404
+msgid ""
+"Removing this item will destroy all items inside\n"
+"the submenu. Do you really want to do that?"
+msgstr ""
+"Supprimer cet élément détruira tous les éléments du\n"
+"sous-menu. Est-ce vraiment ce que vous voulez ?"
+
+#: ../../WPrefs.app/Menu.c:1406
+msgid "No"
+msgstr "Non"
+
+#: ../../WPrefs.app/Menu.c:1407
+msgid "Yes, don't ask again."
+msgstr "Oui, ne plus me demander."
 
 #. if there is a localized plmenu for the tongue put it's filename here
-#: ../../WPrefs.app/Menu.c:1365 ../../WPrefs.app/Menu.c:1372
+#: ../../WPrefs.app/Menu.c:1575 ../../WPrefs.app/Menu.c:1582
 #, c-format
 msgid "%s/Library/WindowMaker/plmenu"
 msgstr "%s/Library/WindowMaker/plmenu.fr"
 
-#: ../../WPrefs.app/Menu.c:1381
+#: ../../WPrefs.app/Menu.c:1591
 #, c-format
 msgid "Could not open default menu from '%s'"
-msgstr "Chargement du menu par défaut '%s' impossible."
+msgstr "Impossible d'ouvrir le menu par défaut « %s »."
+
+#: ../../WPrefs.app/Menu.c:1630
+msgid ""
+"The menu file format currently in use is not supported\n"
+"by this tool. Do you want to discard the current menu\n"
+"to use this tool?"
+msgstr ""
+"WPrefs.app ne gère pas le format utilisé par le fichier\n"
+"de menu. Voulez-vous supprimer le menu actuel pour utiliser\n"
+"WPrefs.app ?"
+
+#: ../../WPrefs.app/Menu.c:1633
+msgid "Yes, Discard and Update"
+msgstr "Oui, remplace ce menu."
 
-#: ../../WPrefs.app/Menu.c:1491
+#: ../../WPrefs.app/Menu.c:1634
+msgid "No, Keep Current Menu"
+msgstr "Non, garde le menu en cours."
+
+#: ../../WPrefs.app/Menu.c:1897
 msgid "Applications Menu Definition"
-msgstr "Définition du Menu des Applications"
+msgstr "Définition du menu Application"
 
-#: ../../WPrefs.app/Menu.c:1493
+#: ../../WPrefs.app/Menu.c:1899
 msgid "Edit the menu for launching applications."
-msgstr "Editer le menu de lancement des applications."
+msgstr ""
+"Personnalisation du menu de lancement\n"
+"des applications."
 
-#: ../../WPrefs.app/MenuPreferences.c:114
+#: ../../WPrefs.app/MenuPreferences.c:111
 msgid "Menu Scrolling Speed"
-msgstr "Vitesse de Défilement des Menus"
+msgstr "Vitesse de défilement des menus"
 
-#: ../../WPrefs.app/MenuPreferences.c:163
+#: ../../WPrefs.app/MenuPreferences.c:160
 msgid "Submenu Alignment"
-msgstr "Alignement des Sous-Menus"
+msgstr "Alignement des sous-menus"
 
-#: ../../WPrefs.app/MenuPreferences.c:207
+#: ../../WPrefs.app/MenuPreferences.c:204
 msgid ""
 "Always open submenus inside the screen, instead of scrolling.\n"
-"Note: this can be an annoyance at some circumstances."
+"Note: this is annoying."
 msgstr ""
-"Toujours ouvrir les sous-menus a l'intérieur de l'écran.\n"
-"Note: cela peut devenir gênant dans certaines circonstances."
+"Toujours afficher entièrement les sous-menus à l'écran (pas de\n"
+"défilement). Note : ce comportement est parfois gênant."
 
-#: ../../WPrefs.app/MenuPreferences.c:212
+#: ../../WPrefs.app/MenuPreferences.c:209
 msgid "Scroll off-screen menus when pointer is moved over them."
-msgstr "Faire défiler les menus hors-écran quand la souris est sur eux."
+msgstr "Recentrer les menus hors-écran quand la souris est sur eux."
 
-#: ../../WPrefs.app/MenuPreferences.c:232
+#: ../../WPrefs.app/MenuPreferences.c:229
 msgid "Menu Preferences"
-msgstr "Préférences des Menus"
+msgstr "Préférences des menus"
 
-#: ../../WPrefs.app/MenuPreferences.c:234
+#: ../../WPrefs.app/MenuPreferences.c:231
 msgid ""
 "Menu usability related options. Scrolling speed,\n"
 "alignment of submenus etc."
 msgstr ""
-"Options en relation avec l'utilisation des menus.\n"
-"Vitesse de défilement, alignement des sous-menus etc."
+"Options relatives à l'utilisation des menus : vitesse de\n"
+"défilement, alignement des sous-menus, etc."
 
-#: ../../WPrefs.app/MouseSettings.c:153
+#: ../../WPrefs.app/MouseSettings.c:141
 msgid "Invalid mouse acceleration value. Must be a positive real value."
 msgstr ""
-"Valeur d'accélération de la souris invalide. Doit être un réel positif."
+"La valeur d'accélération de la souris est invalide. Il faut un réel positif."
 
-#: ../../WPrefs.app/MouseSettings.c:173
+#: ../../WPrefs.app/MouseSettings.c:161
 msgid ""
 "Invalid mouse acceleration threshold value. Must be the number of pixels to "
 "travel before accelerating."
 msgstr ""
-"Valeur invalide d'accélération de la souris. Doit être le nombre de pixels à "
-"traverser avant l'accélération."
+"Le seuil d'accélération de la souris est invalide. Il faut indiquer le "
+"nombre de pixels à traverser avant d'accélérer."
 
-#: ../../WPrefs.app/MouseSettings.c:269 ../../WPrefs.app/MouseSettings.c:283
-#: ../../WPrefs.app/MouseSettings.c:297
+#: ../../WPrefs.app/MouseSettings.c:262 ../../WPrefs.app/MouseSettings.c:274
+#: ../../WPrefs.app/MouseSettings.c:286 ../../WPrefs.app/MouseSettings.c:298
 #, c-format
 msgid "bad value %s for option %s"
-msgstr "mauvaise valeur %s pour l'option %s"
+msgstr "Mauvaise valeur %s pour l'option %s"
 
-#: ../../WPrefs.app/MouseSettings.c:358
+#: ../../WPrefs.app/MouseSettings.c:357
 #, c-format
 msgid ""
 "modifier key %s for option ModifierKey was not recognized. Using %s as "
 "default"
 msgstr ""
-"la touche %s pour l'option ToucheModificatrice n'est reconnu. Utilise le "
-"défaut: %s"
+"La touche modificatrice %s n'est pas reconnue. La valeur utilisée sera : %s."
 
-#: ../../WPrefs.app/MouseSettings.c:383
+#: ../../WPrefs.app/MouseSettings.c:382
 msgid "could not retrieve keyboard modifier mapping"
-msgstr "Emplacement de la touche de modificateur introuvable."
+msgstr "Emplacement (mapping) de la touche modificatrice introuvable."
 
-#: ../../WPrefs.app/MouseSettings.c:478
+#: ../../WPrefs.app/MouseSettings.c:477
 msgid "Mouse Speed"
-msgstr "Vitesse de la Souris"
+msgstr "Vitesse de la souris"
 
-#: ../../WPrefs.app/MouseSettings.c:508
+#: ../../WPrefs.app/MouseSettings.c:507
 msgid "Acceler.:"
-msgstr "Accélér.:"
+msgstr "Accélér. :"
 
-#: ../../WPrefs.app/MouseSettings.c:521
+#: ../../WPrefs.app/MouseSettings.c:520
 msgid "Threshold:"
-msgstr "Seuil:"
+msgstr "Seuil :"
 
-#: ../../WPrefs.app/MouseSettings.c:536
+#: ../../WPrefs.app/MouseSettings.c:535
 msgid "Double-Click Delay"
-msgstr "Délai du Double-Click"
+msgstr "Délai du double-clic"
 
-#: ../../WPrefs.app/MouseSettings.c:580
+#: ../../WPrefs.app/MouseSettings.c:579
 msgid "Test"
 msgstr "Test"
 
-#: ../../WPrefs.app/MouseSettings.c:610
+#: ../../WPrefs.app/MouseSettings.c:609
 msgid "Workspace Mouse Actions"
-msgstr "Actions de la Souris sur le Bureau"
+msgstr "Actions de la souris sur le bureau"
 
-#: ../../WPrefs.app/MouseSettings.c:615
+#: ../../WPrefs.app/MouseSettings.c:614
 msgid "Disable mouse actions"
-msgstr "Désactiver les clicks"
+msgstr "Désactiver la souris"
 
-#: ../../WPrefs.app/MouseSettings.c:622
-msgid "Applications menu"
-msgstr "Applications"
+#: ../../WPrefs.app/MouseSettings.c:620
+msgid "Left Button"
+msgstr "bouton gauche"
 
-#: ../../WPrefs.app/MouseSettings.c:632
-msgid "Window list menu"
-msgstr "Liste des Fenêtres"
+#: ../../WPrefs.app/MouseSettings.c:630
+msgid "Middle Button"
+msgstr "bouton central"
 
-#: ../../WPrefs.app/MouseSettings.c:643
-msgid "Select windows"
-msgstr "Séléctionner"
+#: ../../WPrefs.app/MouseSettings.c:640
+msgid "Right Button"
+msgstr "bouton droit"
 
-#: ../../WPrefs.app/MouseSettings.c:661
+#: ../../WPrefs.app/MouseSettings.c:650
+msgid "Mouse Wheel"
+msgstr "molette"
+
+#: ../../WPrefs.app/MouseSettings.c:672
 msgid "Mouse Grab Modifier"
-msgstr "Modificateur d'Action de la Souris"
+msgstr "Saisir une fenêtre à la souris"
 
-#: ../../WPrefs.app/MouseSettings.c:663
+#: ../../WPrefs.app/MouseSettings.c:674
 msgid ""
 "Keyboard modifier to use for actions that\n"
 "involve dragging windows with the mouse,\n"
 "clicking inside the window."
 msgstr ""
-"Modificateur clavier pour les actions qui\n"
-"implique de tirer la fenêtre avec la souris,\n"
-"en cliquant à l'intérieur de la fenêtre."
+"Touche utilisée pour les actions comme\n"
+"déplacer la fenêtre avec la souris et\n"
+"cliquer à l'intérieur de la fenêtre."
 
-#: ../../WPrefs.app/MouseSettings.c:697
+#: ../../WPrefs.app/MouseSettings.c:708
 #, c-format
 msgid "could not create %s"
-msgstr "Création de %s impossible"
+msgstr "Création de %s impossible."
 
-#: ../../WPrefs.app/MouseSettings.c:713
+#: ../../WPrefs.app/MouseSettings.c:724
 #, c-format
 msgid "could not create temporary file %s"
-msgstr "Création du fichier temporaire %s impossible"
+msgstr "Création du fichier temporaire %s impossible."
 
-#: ../../WPrefs.app/MouseSettings.c:744
+#: ../../WPrefs.app/MouseSettings.c:756
 #, c-format
 msgid "could not rename file %s to %s\n"
-msgstr "Changement de nom de %s à %s impossible\n"
+msgstr "Impossible de renommer %s en %s\n"
+
+#: ../../WPrefs.app/MouseSettings.c:829
+msgid "Shift"
+msgstr "Shift"
+
+#: ../../WPrefs.app/MouseSettings.c:830
+msgid "Lock"
+msgstr "Arrêt défil."
+
+#: ../../WPrefs.app/MouseSettings.c:831
+msgid "Control"
+msgstr "Ctrl"
+
+#: ../../WPrefs.app/MouseSettings.c:832
+msgid "Mod1"
+msgstr "Mod1"
+
+#: ../../WPrefs.app/MouseSettings.c:833
+msgid "Mod2"
+msgstr "Mod2"
 
-#: ../../WPrefs.app/MouseSettings.c:816
+#: ../../WPrefs.app/MouseSettings.c:834
+msgid "Mod3"
+msgstr "Mod3"
+
+#: ../../WPrefs.app/MouseSettings.c:835
+msgid "Mod4"
+msgstr "Mod4"
+
+#: ../../WPrefs.app/MouseSettings.c:836
+msgid "Mod5"
+msgstr "Mod5"
+
+#: ../../WPrefs.app/MouseSettings.c:839
+msgid "Applications Menu"
+msgstr "Menu Applications"
+
+#: ../../WPrefs.app/MouseSettings.c:841
+msgid "Select Windows"
+msgstr "Sélectionner"
+
+#: ../../WPrefs.app/MouseSettings.c:844
+msgid "Switch Workspaces"
+msgstr "Changer de bureau"
+
+#: ../../WPrefs.app/MouseSettings.c:849
 msgid "Mouse Preferences"
-msgstr "Préférences de la Souris"
+msgstr "Préférences de la souris"
 
-#: ../../WPrefs.app/MouseSettings.c:818
+#: ../../WPrefs.app/MouseSettings.c:851
 msgid ""
 "Mouse speed/acceleration, double click delay,\n"
 "mouse button bindings etc."
 msgstr ""
-"Vitesse/accélération de la souris, délai du\n"
-"double click, action des boutons de la souris etc."
-
-#: ../../WPrefs.app/NoMenuAlert.c:100
-msgid "Copy Default Menu"
-msgstr "Copier le Menu par Défaut"
-
-#: ../../WPrefs.app/NoMenuAlert.c:106
-msgid "Keep Current Menu"
-msgstr "Garder le menu en cours"
+"Vitesse et accélération de la souris, délai du\n"
+"double-clic, action des boutons de la souris, etc."
 
-#: ../../WPrefs.app/Paths.c:84
+#: ../../WPrefs.app/Paths.c:85
 msgid "bad value in option IconPath. Using default path list"
-msgstr "Mauvaise valeur pour IconPath. Utilise les chemins par défaut."
+msgstr ""
+"Mauvaise valeur pour la clé IconPath remplacée par la valeur par défaut."
 
-#: ../../WPrefs.app/Paths.c:101
+#: ../../WPrefs.app/Paths.c:103
 msgid "bad value in option PixmapPath. Using default path list"
-msgstr "Mauvaise valeur pour PixmapPath. Utilise les chemins par défaut."
+msgstr ""
+"Mauvaise valeur pour la clé PixmapPath remplacée par la valeur par défaut."
 
-#: ../../WPrefs.app/Paths.c:149
+#: ../../WPrefs.app/Paths.c:155
 msgid "Select directory"
-msgstr "Sélectionez un répertoire"
+msgstr "Choisissez un répertoire"
 
-#: ../../WPrefs.app/Paths.c:270
+#: ../../WPrefs.app/Paths.c:271
 msgid "Icon Search Paths"
-msgstr "Chemins des Icônes"
+msgstr "Emplacements des icônes"
 
-#: ../../WPrefs.app/Paths.c:281 ../../WPrefs.app/Paths.c:312
-#: ../../WPrefs.app/TexturePanel.c:1304
+#: ../../WPrefs.app/Paths.c:282 ../../WPrefs.app/Paths.c:313
+#: ../../WPrefs.app/TexturePanel.c:1312
 msgid "Add"
 msgstr "Ajouter"
 
-#: ../../WPrefs.app/Paths.c:288 ../../WPrefs.app/Paths.c:319
-msgid "Remove"
-msgstr "Supprimer"
-
-#: ../../WPrefs.app/Paths.c:301
+#: ../../WPrefs.app/Paths.c:302
 msgid "Pixmap Search Paths"
-msgstr "Chemins des Images"
+msgstr "Emplacements des images"
 
-#: ../../WPrefs.app/Paths.c:341
+#: ../../WPrefs.app/Paths.c:342
 msgid "Search Path Configuration"
-msgstr "Configuration des Chemins"
+msgstr "Configuration des chemins"
 
-#: ../../WPrefs.app/Paths.c:343
+#: ../../WPrefs.app/Paths.c:344
 msgid ""
 "Search paths to use when looking for pixmaps\n"
 "and icons."
 msgstr ""
-"Chemins à utiliser lors de la recherche\n"
-"d'images et d'icônes."
+"Chemins vers les répertoires contenant\n"
+"images et icônes."
+
+#: ../../WPrefs.app/Preferences.c:75
+msgid "OFF"
+msgstr "OFF"
 
-#: ../../WPrefs.app/Preferences.c:159
+#: ../../WPrefs.app/Preferences.c:77
+msgid "1 pixel"
+msgstr "1 pixel"
+
+#. 2-4
+#: ../../WPrefs.app/Preferences.c:80
+#, c-format
+msgid "%i pixels"
+msgstr "%i pixels"
+
+#. >4
+#: ../../WPrefs.app/Preferences.c:83
+#, c-format
+msgid "%i pixels "
+msgstr "%i pixels "
+
+#: ../../WPrefs.app/Preferences.c:229
 msgid "Size Display"
-msgstr "Affichage de la Taille des Fenêtre"
+msgstr "Affichage de la taille des fenêtres"
 
-#: ../../WPrefs.app/Preferences.c:161
+#: ../../WPrefs.app/Preferences.c:231
 msgid ""
 "The position or style of the window size\n"
 "display that's shown when a window is resized."
 msgstr ""
-"La position ou type d'affichage de la\n"
-"taille des fenêtres montré quand une\n"
-"fenêtre est redimensionnée."
+"Position ou apparence de la taille de la fenêtre\n"
+"quand celle-ci est redimensionnée."
 
-#: ../../WPrefs.app/Preferences.c:168 ../../WPrefs.app/Preferences.c:188
+#: ../../WPrefs.app/Preferences.c:238 ../../WPrefs.app/Preferences.c:259
 msgid "Corner of screen"
 msgstr "Sur le coin de l'écran"
 
-#: ../../WPrefs.app/Preferences.c:169 ../../WPrefs.app/Preferences.c:189
+#: ../../WPrefs.app/Preferences.c:239 ../../WPrefs.app/Preferences.c:260
 msgid "Center of screen"
 msgstr "Au centre de l'écran"
 
-#: ../../WPrefs.app/Preferences.c:170 ../../WPrefs.app/Preferences.c:190
+#: ../../WPrefs.app/Preferences.c:240 ../../WPrefs.app/Preferences.c:261
 msgid "Center of resized window"
 msgstr "Au centre de la fenêtre"
 
-#: ../../WPrefs.app/Preferences.c:171
+#: ../../WPrefs.app/Preferences.c:241
 msgid "Technical drawing-like"
 msgstr "Avec un cadre"
 
-#: ../../WPrefs.app/Preferences.c:179
+#: ../../WPrefs.app/Preferences.c:242 ../../WPrefs.app/Preferences.c:262
+msgid "Disabled"
+msgstr "Désactivé"
+
+#: ../../WPrefs.app/Preferences.c:250
 msgid "Position Display"
-msgstr "Affichage de la Position des Fenêtres"
+msgstr "Affichage de la position"
 
-#: ../../WPrefs.app/Preferences.c:181
+#: ../../WPrefs.app/Preferences.c:252
 msgid ""
 "The position or style of the window position\n"
 "display that's shown when a window is moved."
 msgstr ""
-"La position ou type d'affichage du\n"
-"placement des fenêtres montré quand une\n"
-"fenêtre est déplacée."
+"Position ou apparence de la position de\n"
+"la fenêtre quand celle-ci est déplacée."
 
-#: ../../WPrefs.app/Preferences.c:198
+#: ../../WPrefs.app/Preferences.c:270
 msgid "Show balloon text for..."
-msgstr "Afficher l'Aide Contextuelle pour..."
+msgstr "Afficher l'aide contextuelle pour..."
 
-#: ../../WPrefs.app/Preferences.c:205
+#: ../../WPrefs.app/Preferences.c:277
 msgid "incomplete window titles"
-msgstr "les titres de fenêtres incomplets"
+msgstr "Titres de fenêtres incomplets"
 
-#: ../../WPrefs.app/Preferences.c:206
+#: ../../WPrefs.app/Preferences.c:278
 msgid "miniwindow titles"
-msgstr "les titres des mini-fenêtres"
+msgstr "Titres des mini-fenêtres"
 
-#: ../../WPrefs.app/Preferences.c:207
+#: ../../WPrefs.app/Preferences.c:279
 msgid "application/dock icons"
-msgstr "les applications du Dock"
+msgstr "Applications dockée"
 
-#: ../../WPrefs.app/Preferences.c:208
+#: ../../WPrefs.app/Preferences.c:280
 msgid "internal help"
-msgstr "l'aide interne"
+msgstr "Aide interne"
+
+#: ../../WPrefs.app/Preferences.c:292
+msgid ""
+"Raise window when switching\n"
+"focus with keyboard."
+msgstr ""
+"Une fenêtre activée par le\n"
+"clavier passe devant."
+
+#: ../../WPrefs.app/Preferences.c:298
+msgid ""
+"Enable keyboard language\n"
+"switch button in window titlebars."
+msgstr ""
+"Bouton pour modifier la cartographie du clavier\n"
+"dans les barres de titre des fenêtres."
 
-#: ../../WPrefs.app/Preferences.c:220
-msgid "Raise window when switching focus with keyboard (CirculateRaise)."
-msgstr "Fenêtre en avant-plan lors du changement de convergence du clavier."
+#: ../../WPrefs.app/Preferences.c:307
+msgid "Workspace border"
+msgstr "Bordure des bureaux"
 
-#: ../../WPrefs.app/Preferences.c:226
-msgid "Keep keyboard language status for each window."
-msgstr "Garder le mappage du clavier pour chaque fenêtre."
+#: ../../WPrefs.app/Preferences.c:323
+msgid "Left/Right"
+msgstr "gauche/droite"
 
-#: ../../WPrefs.app/Preferences.c:247
+#: ../../WPrefs.app/Preferences.c:328
+msgid "Top/Bottom"
+msgstr "haut/bas"
+
+#: ../../WPrefs.app/Preferences.c:349
 msgid "Miscellaneous Ergonomic Preferences"
-msgstr "Autres Préférences Ergonomiques"
+msgstr "Autres préférences ergonomiques"
 
-#: ../../WPrefs.app/Preferences.c:248
+#: ../../WPrefs.app/Preferences.c:350
 msgid ""
 "Various settings like balloon text, geometry\n"
 "displays etc."
 msgstr ""
 "Options diverses commme l'aide contextuelle,\n"
-"la géométrie, les affichages etc."
-
-#: ../../WPrefs.app/Text.c:181
-#, c-format
-msgid "Invalid font %s."
-msgstr "Police %s invalide."
-
-#: ../../WPrefs.app/Text.c:258
-msgid "Set Font..."
-msgstr "Choisir la Police..."
+"la géométrie, les affichages, etc."
 
-#: ../../WPrefs.app/Text.c:264
-msgid "Window Title Font"
-msgstr "Police de Titre de Fenêtre"
-
-#: ../../WPrefs.app/Text.c:265
-msgid "Menu Title Font"
-msgstr "Police de Titre de Menu"
-
-#: ../../WPrefs.app/Text.c:266
-msgid "Menu Item Font"
-msgstr "Police d'Elément de Menu"
-
-#: ../../WPrefs.app/Text.c:267
-msgid "Icon Title Font"
-msgstr "Police de Titre d'Icone"
+#: ../../WPrefs.app/TexturePanel.c:323
+msgid "Saturation"
+msgstr "Saturation"
 
-#: ../../WPrefs.app/Text.c:268
-msgid "Clip Title Font"
-msgstr "Police de Titre du Clip"
+#: ../../WPrefs.app/TexturePanel.c:325
+msgid "Brightness"
+msgstr "Luminosité"
 
-#: ../../WPrefs.app/Text.c:269
-msgid "Geometry Display Font"
-msgstr "Police d'Affichage de la Géométrie"
+#: ../../WPrefs.app/TexturePanel.c:373 ../../WPrefs.app/TexturePanel.c:380
+msgid "Hue"
+msgstr "Teinte"
 
-#: ../../WPrefs.app/Text.c:282
-msgid ""
-"Sample Text\n"
-"abcdefghijklmnopqrstuvxywz\n"
-"ABCDEFGHIJKLMNOPQRSTUVXYWZ\n"
-"0123456789"
-msgstr ""
-"Texte d'exemple\n"
-"abcdefghijklmnopqrstuvxywz\n"
-"ABCDEFGHIJKLMNOPQRSTUVXYWZ\n"
-"0123456789"
+#: ../../WPrefs.app/TexturePanel.c:612
+msgid "Could not load the selected file: "
+msgstr "Chargement du fichier sélectionné impossible : "
 
-#: ../../WPrefs.app/Text.c:287
-msgid "Alignment"
-msgstr "Alignement"
+#: ../../WPrefs.app/TexturePanel.c:666
+msgid "Open Image"
+msgstr "Choisir une image"
 
-#: ../../WPrefs.app/Text.c:327
-msgid "Text Preferences"
-msgstr "Préférences de Texte"
+#: ../../WPrefs.app/TexturePanel.c:696
+msgid "The selected file does not contain a supported image."
+msgstr "Le fichier sélectionné ne contient pas un format d'image supporté."
 
-#: ../../WPrefs.app/TexturePanel.c:605
-msgid "Could not load the selected file: "
-msgstr "Chargement du fichier séléctionné impossible: "
+#: ../../WPrefs.app/TexturePanel.c:947
+#, c-format
+msgid "could not load file '%s': %s"
+msgstr "L'image « %s » est introuvable : %s"
 
-#: ../../WPrefs.app/TexturePanel.c:687
-msgid "The selected file does not contain a supported image."
-msgstr "Le fichier séléctionné n'est pas une image supportée."
+#: ../../WPrefs.app/TexturePanel.c:1066
+#, c-format
+msgid "error creating texture %s"
+msgstr "Erreur en créant la texture %s."
 
-#: ../../WPrefs.app/TexturePanel.c:1248
+#: ../../WPrefs.app/TexturePanel.c:1256
 msgid "Texture Panel"
-msgstr "Panneau de Texture"
+msgstr "Panneau de texture"
 
-#: ../../WPrefs.app/TexturePanel.c:1256
+#: ../../WPrefs.app/TexturePanel.c:1264
 msgid "Texture Name"
-msgstr "Nom de la Texture"
+msgstr "Nom de la texture"
 
-#: ../../WPrefs.app/TexturePanel.c:1268
+#: ../../WPrefs.app/TexturePanel.c:1276
 msgid "Solid Color"
-msgstr "Couleur Unie"
+msgstr "Couleur unie"
 
-#: ../../WPrefs.app/TexturePanel.c:1269
+#: ../../WPrefs.app/TexturePanel.c:1277
 msgid "Gradient Texture"
-msgstr "Couleurs"
+msgstr "Couleurs dégradées"
 
-#: ../../WPrefs.app/TexturePanel.c:1270
+#: ../../WPrefs.app/TexturePanel.c:1278
 msgid "Simple Gradient Texture"
-msgstr "Dégradé Simple"
+msgstr "Dégradé simple"
 
-#: ../../WPrefs.app/TexturePanel.c:1271
+#: ../../WPrefs.app/TexturePanel.c:1279
 msgid "Textured Gradient"
 msgstr "Dégradé texturé"
 
-#: ../../WPrefs.app/TexturePanel.c:1272
+#: ../../WPrefs.app/TexturePanel.c:1280
 msgid "Image Texture"
 msgstr "Image"
 
-#: ../../WPrefs.app/TexturePanel.c:1280
+#: ../../WPrefs.app/TexturePanel.c:1288
 msgid "Default Color"
-msgstr "Défaut"
+msgstr "Couleur du fond"
 
-#: ../../WPrefs.app/TexturePanel.c:1292
+#: ../../WPrefs.app/TexturePanel.c:1300
 msgid "Gradient Colors"
-msgstr "Couleurs du Dégradé"
+msgstr "Couleurs du dégradé"
 
-#: ../../WPrefs.app/TexturePanel.c:1388
+#: ../../WPrefs.app/TexturePanel.c:1396
 msgid "Direction"
 msgstr "Direction"
 
-#: ../../WPrefs.app/TexturePanel.c:1416
+#: ../../WPrefs.app/TexturePanel.c:1424
 msgid "Gradient"
 msgstr "Dégradé"
 
-#: ../../WPrefs.app/TexturePanel.c:1434
+#: ../../WPrefs.app/TexturePanel.c:1442
 msgid "Gradient Opacity"
-msgstr "Opacité du Dégradé"
+msgstr "Opacité du dégradé"
 
-#: ../../WPrefs.app/TexturePanel.c:1477
+#: ../../WPrefs.app/TexturePanel.c:1484
 msgid "Image"
 msgstr "Image"
 
-#: ../../WPrefs.app/TexturePanel.c:1497
-msgid "Browse..."
-msgstr "Parcourir..."
-
-#: ../../WPrefs.app/TexturePanel.c:1509
+#: ../../WPrefs.app/TexturePanel.c:1516
 msgid "Tile"
 msgstr "Mosaïque"
 
-#: ../../WPrefs.app/TexturePanel.c:1510
+#: ../../WPrefs.app/TexturePanel.c:1517
 msgid "Scale"
-msgstr "A L'échelle"
+msgstr "À l'échelle"
 
-#: ../../WPrefs.app/TexturePanel.c:1512
+#: ../../WPrefs.app/TexturePanel.c:1519
 msgid "Maximize"
-msgstr "Agrandi"
+msgstr "Maximisée"
 
 #: ../../WPrefs.app/Themes.c:71 ../../WPrefs.app/Themes.c:82
 msgid "Set"
@@ -1603,212 +1832,366 @@
 msgid "Stop"
 msgstr "Stop"
 
-#: ../../WPrefs.app/Themes.c:143 ../../WPrefs.app/Themes.c:204
-#: ../../WPrefs.app/Themes.c:224
+#: ../../WPrefs.app/Themes.c:143 ../../WPrefs.app/Themes.c:203
+#: ../../WPrefs.app/Themes.c:223
 msgid "Download"
 msgstr "Télécharger"
 
-#: ../../WPrefs.app/Themes.c:172
+#: ../../WPrefs.app/Themes.c:171
 msgid "Save Current Theme"
-msgstr "Sauver le Theme en cours"
+msgstr "Enregistrer le thème"
 
-#: ../../WPrefs.app/Themes.c:181
+#: ../../WPrefs.app/Themes.c:180
 msgid "Load"
 msgstr "Charger"
 
-#: ../../WPrefs.app/Themes.c:186
+#: ../../WPrefs.app/Themes.c:185
 msgid "Install"
 msgstr "Installer"
 
-#: ../../WPrefs.app/Themes.c:194
+#: ../../WPrefs.app/Themes.c:193
 msgid "Tile of The Day"
-msgstr "Tile of The Day"
+msgstr "Fond d'icône du jour"
 
-#: ../../WPrefs.app/Themes.c:214
+#: ../../WPrefs.app/Themes.c:213
 msgid "Bar of The Day"
-msgstr "Bar of the Day"
+msgstr "Barre du jour"
 
-#: ../../WPrefs.app/Themes.c:251
-msgid "Themes"
-msgstr "Themes"
+#: ../../WPrefs.app/WPrefs.c:260
+msgid "Window Maker Preferences"
+msgstr "Préférences pour Window Maker"
+
+#: ../../WPrefs.app/WPrefs.c:284
+msgid "Revert Page"
+msgstr "Annuler la page"
+
+#: ../../WPrefs.app/WPrefs.c:290
+msgid "Revert All"
+msgstr "Tout annuler"
+
+#: ../../WPrefs.app/WPrefs.c:296
+msgid "Save"
+msgstr "Enregistrer"
+
+#: ../../WPrefs.app/WPrefs.c:309
+msgid "Balloon Help"
+msgstr "Aide contextuelle"
+
+#: ../../WPrefs.app/WPrefs.c:334
+msgid "Window Maker Preferences Utility"
+msgstr "Outil de configuration de Window Maker"
+
+#: ../../WPrefs.app/WPrefs.c:341
+#, c-format
+msgid "Version %s for Window Maker %s or newer"
+msgstr "Version %s pour Window Maker %s ou postérieur"
+
+#: ../../WPrefs.app/WPrefs.c:349
+msgid "Starting..."
+msgstr "Démarrage..."
+
+#: ../../WPrefs.app/WPrefs.c:355
+msgid ""
+"Programming/Design: Alfredo K. Kojima\n"
+"Artwork: Marco van Hylckama Vlieg, Largo et al\n"
+"More Programming: James Thompson et al"
+msgstr ""
+"Programmation/conception : Alfredo K. Kojima\n"
+"Dessins : Marco van Hylckama Vlieg, Largo et autres\n"
+"Programmation additionnelle : James Thompson et autres\n"
+"Traduction française : Antoine Hulin, Bastien Nocera et Christoph Thompson"
+
+#: ../../WPrefs.app/WPrefs.c:455
+#, c-format
+msgid "could not locate image file %s\n"
+msgstr "Impossible de trouver l'image %s\n"
+
+#: ../../WPrefs.app/WPrefs.c:670
+#, c-format
+msgid "could not load image file %s:%s"
+msgstr "Impossible de charger l'image %s : %s"
+
+#: ../../WPrefs.app/WPrefs.c:689
+msgid "Loading Window Maker configuration files..."
+msgstr "Lecture de la configuration de Window Maker..."
+
+#: ../../WPrefs.app/WPrefs.c:693
+msgid "Initializing configuration panels..."
+msgstr "Initialisation des panneaux de configuration..."
+
+#: ../../WPrefs.app/WPrefs.c:728
+msgid ""
+"WPrefs is free software and is distributed WITHOUT ANY\n"
+"WARRANTY under the terms of the GNU General Public License."
+msgstr ""
+"WPrefs est un logiciel libre. Il est distribué sans AUCUNE\n"
+"GARANTIE sous les termes de la licence publique générale\n"
+"du projet GNU (GNU GPL)."
+
+#: ../../WPrefs.app/WPrefs.c:758 ../../WPrefs.app/WPrefs.c:838
+#, c-format
+msgid "Window Maker domain (%s) is corrupted!"
+msgstr "Le domaine Window Maker (%s) est corrompu !"
+
+#: ../../WPrefs.app/WPrefs.c:762
+#, c-format
+msgid "Could not load Window Maker domain (%s) from defaults database."
+msgstr ""
+"Lecture du domaine Window Maker (%s) impossible depuis la base de données "
+"par défaut."
+
+#: ../../WPrefs.app/WPrefs.c:778
+msgid "could not extract version information from Window Maker"
+msgstr "extraction du numéro de version de Window Maker impossible"
+
+#: ../../WPrefs.app/WPrefs.c:779
+msgid "Make sure wmaker is in your search path."
+msgstr "Assurez-vous que l'exécutable « wmaker » est dans votre variable PATH."
+
+#: ../../WPrefs.app/WPrefs.c:782
+msgid ""
+"Could not extract version from Window Maker. Make sure it is correctly "
+"installed and is in your PATH environment variable."
+msgstr ""
+"Impossible de récupérer le numéro de version de Window Maker. Assurez-vous "
+"que Window Maker est correctement installé et que son emplacement est "
+"indiqué par la variable PATH."
+
+# TODO:Fusionner avec la précédente.
+#: ../../WPrefs.app/WPrefs.c:792
+msgid ""
+"Could not extract version from Window Maker. Make sure it is correctly "
+"installed and the path where it installed is in the PATH environment "
+"variable."
+msgstr ""
+"Impossible de récupérer le numéro de version de Window Maker. Assurez-vous "
+"que Window Maker est correctement installé et que son emplacement est "
+"indiqué par la variable PATH."
+
+#: ../../WPrefs.app/WPrefs.c:799
+#, c-format
+msgid ""
+"WPrefs only supports Window Maker 0.18.0 or newer.\n"
+"The version installed is %i.%i.%i\n"
+msgstr ""
+"WPrefs fonctionne avec les versions 0.18.0 et postérieures\n"
+"de Window Maker. La version installée est %i.%i.%i\n"
+
+#: ../../WPrefs.app/WPrefs.c:806
+#, c-format
+msgid ""
+"Window Maker %i.%i.%i, which is installed in your system, is not fully "
+"supported by this version of WPrefs."
+msgstr ""
+"Window Maker %i.%i.%i, qui est installé sur votre système, n'est pas "
+"pleinement supporté par cette version de WPrefs."
+
+#: ../../WPrefs.app/WPrefs.c:819
+#, c-format
+msgid "could not run \"%s --global_defaults_path\"."
+msgstr "Impossible de démarrer \"%s --global_defaults_path\"."
+
+#: ../../WPrefs.app/WPrefs.c:842
+#, c-format
+msgid "Could not load global Window Maker domain (%s)."
+msgstr "Impossible de charger le domaine global Window Maker (%s)."
+
+#: ../../WPrefs.app/WPrefs.c:1091
+#, c-format
+msgid ""
+"bad speed value for option %s\n"
+". Using default Medium"
+msgstr ""
+"Mauvaise valeur pour l'option %s\n"
+"remplacée par : Medium"
 
 #: ../../WPrefs.app/WindowHandling.c:141
 #, c-format
 msgid "bad option value %s in WindowPlacement. Using default value"
-msgstr "Mauvaise valeur %s pour WindowPlacement. Utilise le défaut"
+msgstr ""
+"Mauvaise valeur pour le placement des fenêtres (WindowPlacement) : %s. "
+"Remplacée par la valeur par défaut."
 
 #: ../../WPrefs.app/WindowHandling.c:163
 msgid "invalid data in option WindowPlaceOrigin. Using default (0,0)"
 msgstr ""
-"Mauvaise valeur dans l'option WindowPlaceOrigin. Utilise le défaut: (0,0)"
+"Mauvaise valeur pour l'origine du placement des fenêtres (WindowPlaceOrigin) "
+"remplacée par (0,0)."
 
-#: ../../WPrefs.app/WindowHandling.c:236
+#: ../../WPrefs.app/WindowHandling.c:243
 msgid "Window Placement"
-msgstr "Placement des Fenêtres"
+msgstr "Placement des fenêtres"
 
-#: ../../WPrefs.app/WindowHandling.c:237
+#: ../../WPrefs.app/WindowHandling.c:244
 msgid ""
 "How to place windows when they are first put\n"
 "on screen."
 msgstr ""
-"Comment placer les fenêtres quand elles sont\n"
-"affichées à l'écran pour la première fois."
+"Méthode utilisée pour placer les fenêtres quand elles\n"
+"apparaissent à l'écran pour la première fois."
 
-#: ../../WPrefs.app/WindowHandling.c:243
+#: ../../WPrefs.app/WindowHandling.c:250
 msgid "Automatic"
 msgstr "Automatique"
 
-#: ../../WPrefs.app/WindowHandling.c:244
+#: ../../WPrefs.app/WindowHandling.c:251
 msgid "Random"
 msgstr "Aléatoire"
 
-#: ../../WPrefs.app/WindowHandling.c:245
+#: ../../WPrefs.app/WindowHandling.c:252
 msgid "Manual"
 msgstr "Manuel"
 
-#: ../../WPrefs.app/WindowHandling.c:246
+#: ../../WPrefs.app/WindowHandling.c:253
 msgid "Cascade"
 msgstr "En cascade"
 
-#: ../../WPrefs.app/WindowHandling.c:247
+#: ../../WPrefs.app/WindowHandling.c:254
 msgid "Smart"
 msgstr "Intelligent"
 
-#: ../../WPrefs.app/WindowHandling.c:253
+#: ../../WPrefs.app/WindowHandling.c:260
 msgid "Placement Origin"
-msgstr "Origine du Placement"
+msgstr "Origine du placement"
 
-#: ../../WPrefs.app/WindowHandling.c:313
+# msgstr "Mouvement opaque"
+# msgstr "Dépl. opaque"
+# msgstr "Mvt opaque"
+#: ../../WPrefs.app/WindowHandling.c:321
 msgid "Opaque Move"
-msgstr "Déplacement Opaque"
+msgstr "Dépl. opaque"
 
-#: ../../WPrefs.app/WindowHandling.c:314
+#: ../../WPrefs.app/WindowHandling.c:322
 msgid ""
 "Whether the window contents should be moved\n"
 "when dragging windows aroung or if only a\n"
 "frame should be displayed.\n"
 msgstr ""
-"Si oui ou non, le contenu des fenêtres doit\n"
-"être déplacé lorsque l'on glisse les fenêtres\n"
-"sur le bureau, ou si seulement un cadre doit\n"
-"être affiché.\n"
+"Afficher le contenu des fenêtres quand elles sont\n"
+"déplacées sur le bureau ou simplement afficher\n"
+"un cadre.\n"
 
-#: ../../WPrefs.app/WindowHandling.c:353
+#: ../../WPrefs.app/WindowHandling.c:361
 msgid "When maximizing..."
 msgstr "Lors de l'agrandissement..."
 
-#: ../../WPrefs.app/WindowHandling.c:358
+#: ../../WPrefs.app/WindowHandling.c:366
 msgid "...do not cover icons"
-msgstr "...ne pas couvrir les icônes"
+msgstr "ne pas couvrir les icônes"
 
-#: ../../WPrefs.app/WindowHandling.c:364
+#: ../../WPrefs.app/WindowHandling.c:372
 msgid "...do not cover dock"
-msgstr "...ne pas couvrir le dock"
+msgstr "ne pas couvrir le Dock"
 
-#: ../../WPrefs.app/WindowHandling.c:373
+#: ../../WPrefs.app/WindowHandling.c:381
 msgid "Edge Resistance"
-msgstr "Résistance des Bordures"
+msgstr "Résistance des bordures"
 
-#: ../../WPrefs.app/WindowHandling.c:375
+#: ../../WPrefs.app/WindowHandling.c:383
 msgid ""
 "Edge resistance will make windows `resist'\n"
 "being moved further for the defined threshold\n"
 "when moved against other windows or the edges\n"
 "of the screen."
 msgstr ""
-"La résistance des bordures fera `résister'\n"
-"les fenêtres lorsqu'elles sont déplacées\n"
-"plus loin que seuil défini pour les\n"
-"bordures des fenêtres et de l'écran."
+"Les fenêtres résistent aux déplacements quand elles\n"
+"sont proches des autres fenêtres ou des bordures\n"
+"de l'écran, c-à-d. quand elles sont en deçà de la\n"
+"limite définie ici."
 
-#: ../../WPrefs.app/WindowHandling.c:394
+#: ../../WPrefs.app/WindowHandling.c:402
 msgid "Resist"
 msgstr "Résister"
 
-#: ../../WPrefs.app/WindowHandling.c:399
-#, fuzzy
+#: ../../WPrefs.app/WindowHandling.c:407
 msgid "Attract"
-msgstr "Extraire"
+msgstr "Attirer"
 
-#: ../../WPrefs.app/WindowHandling.c:415
-msgid "Open dialogs in same workspace as their owners"
+#: ../../WPrefs.app/WindowHandling.c:423
+msgid ""
+"Open dialogs in same workspace\n"
+"as their owners"
 msgstr ""
-"Ouvrir les boites de dialogue dans le même bureau que leurs propriétaires"
+"Ouvrir les boîtes de dialogue sur le\n"
+"même bureau que leurs propriétaires."
 
-#: ../../WPrefs.app/WindowHandling.c:442
+#: ../../WPrefs.app/WindowHandling.c:450
 msgid "Window Handling Preferences"
-msgstr "Préférences de Gestion des Fenêtres"
+msgstr "Préférences pour la gestion des fenêtres"
 
-#: ../../WPrefs.app/WindowHandling.c:444
+#: ../../WPrefs.app/WindowHandling.c:452
 msgid ""
 "Window handling options. Initial placement style\n"
 "edge resistance, opaque move etc."
 msgstr ""
-"Options de manipulation des fenêtres. Type de\n"
+"Options de manipulation des fenêtres : \n"
 "placement initial, résistance des bordures,\n"
 "déplacement opaque etc."
 
-#: ../../WPrefs.app/Workspace.c:177
+#: ../../WPrefs.app/Workspace.c:176
 msgid "Workspace Navigation"
-msgstr "Navigation entre Bureaux"
+msgstr "Navigation entre bureaux"
 
-#: ../../WPrefs.app/Workspace.c:184
-#, fuzzy
-msgid "wrap to the first workspace after the last workspace."
-msgstr "créer un nouveau bureau aprés le dernier bureau."
+#: ../../WPrefs.app/Workspace.c:183
+msgid ""
+"wrap to the first workspace after the\n"
+"last workspace."
+msgstr "Revenir au premier bureau après le dernier."
 
-#: ../../WPrefs.app/Workspace.c:206
+#: ../../WPrefs.app/Workspace.c:205
 msgid "switch workspaces while dragging windows."
-msgstr "déplacer les fenêtres entre les bureaux"
+msgstr "Déplacer les fenêtres d'un bureau à l'autre."
 
-#: ../../WPrefs.app/Workspace.c:228
-#, fuzzy
+#: ../../WPrefs.app/Workspace.c:227
 msgid "automatically create new workspaces."
-msgstr "Convergence automatique des nouvelles fenêtres."
+msgstr "Créer automatiquement d'autres bureaux."
 
-#: ../../WPrefs.app/Workspace.c:251
-msgid "Position of workspace name display"
-msgstr "Position de l'affichage du nom du bureau"
+#: ../../WPrefs.app/Workspace.c:250
+msgid ""
+"Position of workspace\n"
+"name display"
+msgstr ""
+"Position pour l'affichage\n"
+"du nom du bureau"
 
-#: ../../WPrefs.app/Workspace.c:270
-#, fuzzy
+#: ../../WPrefs.app/Workspace.c:269
 msgid "Disable"
 msgstr "Désactivé"
 
-#: ../../WPrefs.app/Workspace.c:272
+#: ../../WPrefs.app/Workspace.c:271
 msgid "Top"
 msgstr "Haut"
 
-#: ../../WPrefs.app/Workspace.c:273
+#: ../../WPrefs.app/Workspace.c:272
 msgid "Bottom"
 msgstr "Bas"
 
+#: ../../WPrefs.app/Workspace.c:273
+msgid "Top/Left"
+msgstr "En haut à gauche"
+
 #: ../../WPrefs.app/Workspace.c:274
-msgid "Top/left"
-msgstr "Haut/Gauche"
+msgid "Top/Right"
+msgstr "En haut à droite"
 
 #: ../../WPrefs.app/Workspace.c:275
-msgid "Top/right"
-msgstr "Haut/Droite"
+msgid "Bottom/Left"
+msgstr "En bas à gauche"
 
 #: ../../WPrefs.app/Workspace.c:276
-msgid "Bottom/left"
-msgstr "Bas/Droite"
+msgid "Bottom/Right"
+msgstr "En bas à droite"
 
-#: ../../WPrefs.app/Workspace.c:277
-msgid "Bottom/right"
-msgstr "Bas/Droite"
-
-#: ../../WPrefs.app/Workspace.c:285
+#: ../../WPrefs.app/Workspace.c:284
 msgid "Dock/Clip"
-msgstr "Dock/Clip"
+msgstr "Dock/Trombone"
 
-#: ../../WPrefs.app/Workspace.c:304
+#: ../../WPrefs.app/Workspace.c:303
 msgid ""
 "Disable/enable the application Dock (the\n"
 "vertical icon bar in the side of the screen)."
 msgstr ""
-"Active/désactive le Dock (la barre d'icones\n"
+"Activation du Dock (la barre d'icônes\n"
 "verticale sur le côté de l'écran)."
 
 #: ../../WPrefs.app/Workspace.c:324
@@ -1816,158 +2199,68 @@
 "Disable/enable the Clip (that thing with\n"
 "a paper clip icon)."
 msgstr ""
-"Active/désactive le Clip (cette chose avec\n"
-"le trombone dessus)."
+"Activation du Trombone (le bidule avec\n"
+"un trombone dessus)."
 
 #: ../../WPrefs.app/Workspace.c:364
 msgid "Workspace Preferences"
-msgstr "Préférences de Bureau"
+msgstr "Préférences pour les bureaux"
 
 #: ../../WPrefs.app/Workspace.c:366
 msgid ""
 "Workspace navigation features.\n"
 "You can also enable/disable the Dock and Clip here."
 msgstr ""
-"Options pour la navigation du bureau.\n"
-"Vous pouvez également activer/désactiver\n"
-"le Dock et le Clip ici."
-
-#: ../../WPrefs.app/MenuGuru.c:106
-msgid "Menu Guru - Select Type"
-msgstr "Gourou du menu - Choisir un Type"
-
-#: ../../WPrefs.app/MenuGuru.c:111 ../../WPrefs.app/MenuGuru.c:133
-#: ../../WPrefs.app/MenuGuru.c:251
-msgid "Next"
-msgstr "Suivant"
-
-#: ../../WPrefs.app/MenuGuru.c:114
-msgid "Menu Guru - Select Menu File"
-msgstr "Gourou du Menu - Choisir un Fichier de Menu"
-
-#: ../../WPrefs.app/MenuGuru.c:122
-msgid "Menu Guru - Select Pipe Command"
-msgstr "Gourou du Menu - Choisir un Tube"
-
-#: ../../WPrefs.app/MenuGuru.c:129
-msgid "Menu Guru - Select Directories"
-msgstr "Gourou du Menu - Choisir les Répertoires"
-
-#: ../../WPrefs.app/MenuGuru.c:136
-msgid "Menu Guru - Select Command"
-msgstr "Gourou du Menu - Choisir la Commande"
-
-#: ../../WPrefs.app/MenuGuru.c:257
-msgid "Back"
-msgstr "Retour"
-
-#: ../../WPrefs.app/MenuGuru.c:271
-msgid ""
-"This process will help you create a submenu which definition is located in "
-"another file or is created dynamically.\n"
-"What do you want to use as the contents of the submenu?"
-msgstr ""
-"Cette fonction va vous aider à créer un sous-menu dont le contenu est dans "
-"un autre fichier ou chargé dynamiquement.\n"
-"Que voulez-vous utiliser comme contenu du sous-menu?"
-
-#: ../../WPrefs.app/MenuGuru.c:279
-msgid ""
-"A file containing the menu definition in the plain text (non-property list) "
-"menu format."
-msgstr ""
-"Un fichier contenant le menu en formaté en texte (pas en liste de "
-"propriétés)."
-
-#: ../../WPrefs.app/MenuGuru.c:285
-msgid "The menu definition generated by a script/program read through a pipe."
-msgstr ""
-"Un menu dont le contenu est créé par un script/programme, lu à travers un "
-"tube."
-
-#: ../../WPrefs.app/MenuGuru.c:291
-msgid "The files in one or more directories."
-msgstr "Les fichiers dans un ou plusieurs répertoires."
+"Options pour la navigation entre bureaux. Vous\n"
+"pouvez également activer ou désactiver le Dock\n"
+"et le Trombone ici."
+
+#: ../../WPrefs.app/imagebrowser.c:95
+msgid "View"
+msgstr "Aperçu"
 
-#: ../../WPrefs.app/MenuGuru.c:303
-msgid "Type the path for the menu file:"
-msgstr "Entrez le chemin vers le menu:"
-
-#: ../../WPrefs.app/MenuGuru.c:318
-msgid ""
-"The menu file must contain a menu in the plain text menu file format. This "
-"format is described in the menu files included with WindowMaker, probably at "
-"~/GNUstep/Library/WindowMaker/menu"
-msgstr ""
-"Le fichier de menu doit être formaté en texte. Ce format est décrit dans  le "
-"fichier de menu inclus avec Window Maker, probablement "
-"~/GNUstep/Library/WindowMaker/menu.fr"
+#: ../../WPrefs.app/main.c:59
+#, c-format
+msgid "usage: %s [options]\n"
+msgstr "usage : %s [options]\n"
 
-#: ../../WPrefs.app/MenuGuru.c:328
-msgid "Type the command that will generate the menu definition:"
-msgstr "Tapez la commande qui va générer le menu:"
+#: ../../WPrefs.app/main.c:60
+msgid "options:"
+msgstr "options : "
 
-#: ../../WPrefs.app/MenuGuru.c:338
-msgid ""
-"The command supplied must generate and output a valid menu definition to "
-"stdout. This definition should be in the plain text menu file format, "
-"described in the menu files included with WindowMaker, usually at "
-"~/GNUstep/Library/WindowMaker/menu"
-msgstr ""
-"La commande doit générer un menu valide sur le sortie standard. Le menu doit "
-"être formaté en texte, décrit dans le fichier de menu inclus avec Window "
-"Maker, probablement ~/GNUstep/Library/WindowMaker/menu.fr"
+#: ../../WPrefs.app/main.c:61
+msgid " -display <display>\tdisplay to be used"
+msgstr " -display <affichage>\taffichage à utiliser"
 
-#: ../../WPrefs.app/MenuGuru.c:350 ../../WPrefs.app/MenuGuru.c:372
-#: ../../WPrefs.app/MenuGuru.c:394
-msgid ""
-"Type the path for the directory. You can type more than one path by "
-"separating them with spaces."
-msgstr ""
-"Entrez le chemin vers le répertoire. Vous pouvez taper plusieurs chemins en "
-"les séparant par des espaces."
+#: ../../WPrefs.app/main.c:62
+msgid " --version\t\tprint version number and exit"
+msgstr " --version\t\taffiche le numéro de version"
 
-#: ../../WPrefs.app/MenuGuru.c:361 ../../WPrefs.app/MenuGuru.c:383
-#: ../../WPrefs.app/MenuGuru.c:405
-msgid ""
-"The menu generated will have an item for each file in the directory. The "
-"directories can contain program executables or data files (such as jpeg "
-"images)."
-msgstr ""
-"Le menu créé contiendra un élément pour chaque fichier du répertoire. Les "
-"répertoires peuvent contenir des éxécutables ou des données (comme des "
-"images)."
+#: ../../WPrefs.app/main.c:63
+msgid " --help\t\tprint this message and exit"
+msgstr " --help\t\taffiche ce message"
 
-#: ../../WPrefs.app/MenuGuru.c:415
-msgid ""
-"If the directory contain data files, type the command used to open these "
-"files. Otherwise, leave it in blank."
-msgstr ""
-"Si le répertoire contient des données, tapez la commande utilisée pour "
-"ouvrir ces fichiers. Sinon, laissez en blanc."
+#: ../../WPrefs.app/main.c:122
+#, c-format
+msgid "too few arguments for %s"
+msgstr "trop peu d'arguments pour %s"
 
-#: ../../WPrefs.app/MenuGuru.c:426
-msgid ""
-"Each file in the directory will have an item and they will be opened with "
-"the supplied command.For example, if the directory contains image files and "
-"the command is \"xv -root\", each file in the directory will have a menu "
-"item like \"xv -root imagefile\"."
-msgstr ""
-"Chaque fichier du répertoire sera un élément et sera ouvert avec la commande "
-"fournie. Par exemple, si le répertoire contient des images et que la "
-"commande est \"xv -root\", chaque fichier du répertoiresera un élément tel "
-"que \"xv -root image\"."
+#: ../../WPrefs.app/main.c:144
+msgid "X server does not support locale"
+msgstr "Pas de gestion des langues dans le serveur X."
 
-#~ msgid "drag windows between workspaces."
-#~ msgstr "déplacer les fenêtres entre bureaux."
+#: ../../WPrefs.app/main.c:147
+msgid "cannot set locale modifiers"
+msgstr "Impossible d'affecter les modificateurs de langue (locale modifiers)."
 
-#~ msgid ""
-#~ "switch to first workspace when switching past the last workspace and "
-#~ "vice-versa"
-#~ msgstr "passer au premier bureau après le dernier bureau et vice-versa."
+#: ../../WPrefs.app/main.c:153
+#, c-format
+msgid "could not open display %s"
+msgstr "Impossible d'ouvrir l'affichage %s"
 
-#~ msgid "mouse button %s not supported by WPrefs."
-#~ msgstr "le bouton %s de la souris n'est pas supporté par WPrefs."
+#: ../../WPrefs.app/main.c:161
+msgid "could not initialize application"
+msgstr "Impossible d'initialiser l'application"
 
-#~ msgid "Icon Display"
-#~ msgstr "Affichage des Icônes"
+#~ msgid "- Custom -"
+#~ msgstr "- Personnalisée -"
diff -Naur WindowMaker-0.80.2/WPrefs.app/po/hr.po wm-xft2/WPrefs.app/po/hr.po
--- WindowMaker-0.80.2/WPrefs.app/po/hr.po	1999-01-25 22:06:53.000000000 +0300
+++ wm-xft2/WPrefs.app/po/hr.po	2003-10-22 14:08:35.000000000 +0400
@@ -1,11 +1,17 @@
+# SOME DESCRIPTIVE TITLE.
+# Copyright (C) YEAR Free Software Foundation, Inc.
+# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
+#
 msgid ""
 msgstr ""
-"Date: 1998-08-24 14:36:41-0300\n"
-"From: Toni Biliæ tbilic@oliver.efos.hr \n"
+"Project-Id-Version: WindowMaker 0.80.2\n"
+"POT-Creation-Date: 1998-08-24 14:36:41-0300\n"
+"PO-Revision-Date: 1998-08-24 14:36:41-0300\n"
+"Last-Translator: Toni Biliæ tbilic@oliver.efos.hr \n"
 "Language-Team: Croatian \n"
-"Content-Type: text/plain; charset=ISO8859-2\n"
-"Xgettext-Options: --default-domain=WPrefs --add-comments --keyword=_\n"
-"Files: ../../WPrefs/Configurations.c ../../WPrefs/Expert.c ../../WPrefs/Focus.c ../../WPrefs/KeyboardSettings.c ../../WPrefs/KeyboardShortcuts.c ../../WPrefs/Menu.c ../../WPrefs/MenuGuru.c ../../WPrefs/MenuPreferences.c ../../WPrefs/MouseSettings.c ../../WPrefs/Paths.c ../../WPrefs/Preferences.c ../../WPrefs/Text.c ../../WPrefs/TextureAndColor.c ../../WPrefs/WPrefs.c ../../WPrefs/WindowHandling.c ../../WPrefs/Workspace.c ../../WPrefs/main.c ../../WPrefs/xmodifier.c\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=iso-8859-2\n"
+"Content-Transfer-Encoding: 8bit\n"
 
 #: ../../WPrefs/Configurations.c:142 ../../WPrefs/Configurations.c:148 ../../WPrefs/MouseSettings.c:510 ../../WPrefs/WindowHandling.c:270 ../../WPrefs/WindowHandling.c:282 ../../WPrefs/Workspace.c:71 ../../WPrefs/Workspace.c:77
 msgid "could not load icon %s"
diff -Naur WindowMaker-0.80.2/WPrefs.app/po/Makefile.am wm-xft2/WPrefs.app/po/Makefile.am
--- WindowMaker-0.80.2/WPrefs.app/po/Makefile.am	2001-12-01 01:38:50.000000000 +0300
+++ wm-xft2/WPrefs.app/po/Makefile.am	2003-10-22 14:08:35.000000000 +0400
@@ -2,11 +2,10 @@
 
 nlsdir = $(NLSDIR)
 
-CLEANFILES = $(CATALOGS)
+CLEANFILES = WPrefs.pot $(CATALOGS)
 
-EXTRA_DIST = pt.po hr.po fr.po ko.po cs.po ja.po zh_TW.Big5.po es.po\
-		zh_CN.po fi.po it.po ru.po de.po hu.po bg.po sk.po\
-		et.po
+EXTRA_DIST = bg.po ca.po cs.po de.po es.po et.po fi.po fr.po hr.po hu.po \
+	it.po ja.po ko.po pt.po ru.po sk.po zh_CN.po zh_TW.Big5.po
 
 POTFILES  = \
 	$(top_builddir)/WPrefs.app/Appearance.c \
@@ -36,6 +35,8 @@
 	msgfmt -o $@ $<
 
 
+all-local: $(CATALOGS)
+
 WPrefs.pot: $(POTFILES)
 	xgettext --default-domain=WPrefs \
 	--add-comments --keyword=_ $(POTFILES)
diff -Naur WindowMaker-0.80.2/WPrefs.app/po/README wm-xft2/WPrefs.app/po/README
--- WindowMaker-0.80.2/WPrefs.app/po/README	2002-02-21 14:28:36.000000000 +0300
+++ wm-xft2/WPrefs.app/po/README	2003-10-22 14:08:35.000000000 +0400
@@ -8,6 +8,7 @@
 hr.po	Croatian		Toni Biliæ <tbilic@oliver.efos.hr>
 fr.po	French			Bastien NOCERA <hadess@writeme.com>
 				Hadess <hadess@infonie.fr>
+				Antoine Hulin <antoine@origan.fdn.org>
 ko.po	Korean			Byeong-Chan Kim <redhands@linux.sarang.net>
 cs.po	Czech		 	Jiri Hnidek <Jiri.Hnidek@vslib.cz>
 ja.po	Japanese		Kazuhide Takahashi <kazu@dgra.ne.jp>
@@ -23,5 +24,7 @@
 				Guido Scholz <guido.scholz@bayernline.de>
 hu.po   Hungarian		Horvath Szabolcs <horvathsz@penguinpowered.com>
 bg.po	Bulgarian		Slavei Karadjov <slaff@exco.net>
+				Anton Zinoviev <zinoviev@debian.org>
 sk.po   Slovak			Jan 'judas' Tomka <judas@linux.sk>
 et.po	Estonian		Ivar Smolin <okul@linux.ee>
+ca.po	Catalan			Ernest Adrogué <eadrogue@gmx.net>
diff -Naur WindowMaker-0.80.2/WPrefs.app/po/ru.po wm-xft2/WPrefs.app/po/ru.po
--- WindowMaker-0.80.2/WPrefs.app/po/ru.po	1999-10-03 00:46:35.000000000 +0400
+++ wm-xft2/WPrefs.app/po/ru.po	2003-10-22 14:08:35.000000000 +0400
@@ -1,1152 +1,1796 @@
+# Igor P. Roboul <igorr@russia.crosswinds.net>
+# Andrew W. Nosenko <awn@bcs.zp.ua>
+#
+# ëÒÁÔËÉÊ ÓÌÏ×ÁÒØ:
+#     options         ÐÁÒÁÍÅÔÒÙ
+#     preferences     ??? (ÎÅ ÕÓÔÏÑÌÏÓØ)
+#     settings        ÕÓÔÁÎÏ×ËÉ
 msgid ""
 msgstr ""
-"Date: 1999-05-31 19:29:53+0400\n"
-"From: Igor P. Roboul,,,<igorr@russia.crosswinds.net>\n"
+"Project-Id-Version: WPrefs.app 0.45\n"
+"POT-Creation-Date: 2002-09-12 16:18+0300\n"
+"PO-Revision-Date: 2002-09-12 17:45+0300\n"
+"Last-Translator: awn@bcs.zp.ua\n"
+"Language-Team: Russian\n"
+"MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=koi8-r\n"
-"Xgettext-Options: --default-domain=WPrefs --add-comments --keyword=_\n"
-"Files: ../../WPrefs.app/main.c ../../WPrefs.app/WPrefs.c ../../WPrefs.app/Appearance.c ../../WPrefs.app/Configurations.c ../../WPrefs.app/Expert.c ../../WPrefs.app/Focus.c ../../WPrefs.app/Icons.c ../../WPrefs.app/KeyboardSettings.c ../../WPrefs.app/KeyboardShortcuts.c ../../WPrefs.app/Menu.c ../../WPrefs.app/MenuPreferences.c ../../WPrefs.app/MouseSettings.c ../../WPrefs.app/NoMenuAlert.c ../../WPrefs.app/Paths.c ../../WPrefs.app/Preferences.c ../../WPrefs.app/Text.c ../../WPrefs.app/TexturePanel.c ../../WPrefs.app/Themes.c ../../WPrefs.app/WindowHandling.c ../../WPrefs.app/Workspace.c ../../WPrefs.app/double.c ../../WPrefs.app/editmenu.c ../../WPrefs.app/MenuGuru.c ../../WPrefs.app/xmodifier.c\n"
+"Content-Transfer-Encoding: 8bit\n"
 
-#: ../../WPrefs.app/main.c:74
-msgid "usage: %s [options]\n"
-msgstr "úÁÐÕÓË: %s [ÐÁÒÁÍÅÔÒÙ]\n"
-
-#: ../../WPrefs.app/main.c:75
-msgid "options:"
-msgstr "ðÁÒÁÍÅÔÒÙ:"
-
-#: ../../WPrefs.app/main.c:76
-msgid " -display <display>\tdisplay to be used"
-msgstr " -display <ÄÉÓÐÌÅÊ>\tX ÄÉÓÐÌÅÊ ÄÌÑ ÉÓÐÏÌØÚÏ×ÁÎÉÑ"
-
-#: ../../WPrefs.app/main.c:77
-msgid " --version\t\tprint version number and exit"
-msgstr " --version\t\tÐÏËÁÚÁÔØ ÎÏÍÅÒ ×ÅÒÓÉÉ É ×ÙÊÔÉ"
-
-#: ../../WPrefs.app/main.c:78
-msgid " --help\t\tprint this message and exit"
-msgstr " --help\t\tÐÏËÁÚÁÔØ ÜÔÏ ÓÏÏÂÝÅÎÉÅ É ×ÙÊÔÉ"
-
-#: ../../WPrefs.app/main.c:137
-msgid "too few arguments for %s"
-msgstr "ÓÌÉÛËÏÍ ÍÁÌÏ ÁÒÇÕÍÅÎÔÏ× ÄÌÑ %s"
-
-#: ../../WPrefs.app/main.c:159
-msgid "X server does not support locale"
-msgstr "X ÓÅÒ×ÅÒ ÎÅ ÐÏÄÄÅÒÖÉ×ÁÅÔ locale"
-
-#: ../../WPrefs.app/main.c:162
-msgid "cannot set locale modifiers"
-msgstr "ÎÅ ÐÏÌÕÞÁÅÔÓÑ ÕÓÔÁÎÏ×ÉÔØ ÍÏÄÉÆÉËÁÔÏÒÙ ÌÏËÁÌÉÚÁÃÉÉ"
-
-#: ../../WPrefs.app/main.c:168
-msgid "could not open display %s"
-msgstr "ÎÅ ÍÏÇÕ ÏÔËÒÙÔØ ÄÉÓÐÌÅÊ %s"
-
-#: ../../WPrefs.app/main.c:176
-msgid "could not initialize application"
-msgstr "ÎÅ ÐÏÌÕÞÁÅÔÓÑ ÉÎÉÃÉÁÌÉÚÉÒÏ×ÁÔØ ÐÒÉÌÏÖÅÎÉÅ"
-
-#: ../../WPrefs.app/WPrefs.c:239
-msgid "Window Maker Preferences"
-msgstr "ó×ÏÊÓÔ×Á Window Maker"
-
-#: ../../WPrefs.app/WPrefs.c:263
-msgid "Revert Page"
-msgstr "÷ÅÒÎÕÔØ ÓÔÒÁÎÉÃÕ"
-
-#: ../../WPrefs.app/WPrefs.c:269
-msgid "Revert All"
-msgstr "÷ÅÒÎÕÔØ ×ÓÅ"
-
-#: ../../WPrefs.app/WPrefs.c:275
-msgid "Save"
-msgstr "óÏÈÒÁÎÉÔØ"
-
-#: ../../WPrefs.app/Appearance.c:1593 ../../WPrefs.app/WPrefs.c:281
-msgid "Close"
-msgstr "úÁËÒÙÔØ"
+#: ../../WPrefs.app/Appearance.c:1131
+msgid "Select File"
+msgstr "õËÁÖÉÔÅ ÆÁÊÌ"
 
-#: ../../WPrefs.app/WPrefs.c:299
-msgid "Window Maker Preferences Utility"
-msgstr "õÔÉÌÉÔÁ ËÏÎÆÉÇÕÒÉÒÏ×ÁÎÉÑ Window Maker"
+#: ../../WPrefs.app/Appearance.c:1533
+msgid "Focused Window"
+msgstr "áËÔÉ×ÎÏÅ ÏËÎÏ"
 
-#: ../../WPrefs.app/WPrefs.c:306
-msgid "Version %s for Window Maker %s"
-msgstr "÷ÅÒÓÉÑ %s ÄÌÑ Window Maker %s"
+#: ../../WPrefs.app/Appearance.c:1537
+msgid "Unfocused Window"
+msgstr "îÅÁËÔÉ×ÎÏÅ ÏËÎÏ"
 
-#: ../../WPrefs.app/WPrefs.c:313
-msgid "Starting..."
-msgstr "óÔÁÒÔÕÀ..."
+#: ../../WPrefs.app/Appearance.c:1541
+msgid "Owner of Focused Window"
+msgstr "÷ÌÁÄÅÌÅÃ ÁËÔÉ×ÎÏÇÏ ÏËÎÁ"
 
-#: ../../WPrefs.app/WPrefs.c:319
-msgid ""
-"Programming/Design: Alfredo K. Kojima\n"
-"Artwork: Marco van Hylckama Vlieg\n"
-"More Programming: James Thompson"
+# awn: ÅÓÌÉ ÐÅÒÅ×ÅÓÔÉ, ÔÏ ÎÅ ÐÏÍÅÝÁÅÔÓÑ × ËÁÒÔÉÎËÕ
+#: ../../WPrefs.app/Appearance.c:1545 ../../WPrefs.app/Appearance.c:1862
+msgid "Menu Title"
 msgstr ""
-"ðÒÏÇÁÍÍÉÒÏ×ÁÎÉÅ/ÄÉÚÁÊÎ: Alfredo K. Kojima\n"
-"ïÆÏÒÍÌÅÎÉÅ: Marco van Hylckama Vlieg\n"
-"ðÒÏÇÒÁÍÍÉÒÏ×ÁÎÉÅ: James Thomson"
 
-#: ../../WPrefs.app/WPrefs.c:407
-msgid "could not locate image file %s\n"
-msgstr "ÎÅ ÍÏÇÕ ÎÁÊÔÉ ÆÁÊÌ Ó ÉÚÏÂÒÁÖÅÎÉÅÍ %s\n"
+#: ../../WPrefs.app/Appearance.c:1549 ../../WPrefs.app/Appearance.c:1551
+msgid "Normal Item"
+msgstr "îÏÒÍÁÌØÎÙÊ"
 
-#: ../../WPrefs.app/Configurations.c:234 ../../WPrefs.app/Configurations.c:246 ../../WPrefs.app/Focus.c:314 ../../WPrefs.app/Focus.c:325 ../../WPrefs.app/MenuPreferences.c:135 ../../WPrefs.app/MenuPreferences.c:146 ../../WPrefs.app/MenuPreferences.c:174 ../../WPrefs.app/MenuPreferences.c:189 ../../WPrefs.app/MouseSettings.c:604 ../../WPrefs.app/MouseSettings.c:615 ../../WPrefs.app/MouseSettings.c:671 ../../WPrefs.app/MouseSettings.c:686 ../../WPrefs.app/MouseSettings.c:702 ../../WPrefs.app/WPrefs.c:430 ../../WPrefs.app/WPrefs.c:447
-msgid "could not load icon file %s"
-msgstr "ÎÅ ÍÏÇÕ ÚÁÇÒÕÚÉÔØ ÉËÏÎËÕ %s"
+#: ../../WPrefs.app/Appearance.c:1555
+msgid "Disabled Item"
+msgstr "úÁÐÒÅÝÅÎÎÙÊ"
 
-#: ../../WPrefs.app/WPrefs.c:520
-msgid "could not load image file %s:%s"
-msgstr "ÎÅ ÍÏÇÕ ÚÁÇÒÕÚÉÔØ ÆÁÊÌ ÉÚÏÂÒÁÖÅÎÉÑ %s:%s"
+#: ../../WPrefs.app/Appearance.c:1564
+msgid "Highlighted"
+msgstr "ðÏÄÓ×ÅÞÅÎÎÙÊ"
 
-#: ../../WPrefs.app/WPrefs.c:539
-msgid "Loading Window Maker configuration files..."
-msgstr "úÁÇÒÕÖÁÀ ÆÁÊÌÙ ËÏÎÆÉÇÕÒÁÃÉÉ Window Maker..."
-
-#: ../../WPrefs.app/WPrefs.c:543
-msgid "Initializing configuration panels..."
-msgstr "éÎÉÃÉÁÌÉÚÉÒÕÀ ËÏÎÆÉÇÕÒÁÃÉÏÎÎÙÅ ÐÁÎÅÌÉ..."
-
-#: ../../WPrefs.app/WPrefs.c:574
-msgid ""
-"WPrefs is free software and is distributed WITHOUT ANY\n"
-"WARRANTY under the terms of the GNU General Public License.\n"
-"The icons in this program are licensed through the\n"
-"OpenContent License."
-msgstr ""
-"WPrefs Ñ×ÌÑÅÔÓÑ Ó×ÏÂÏÄÎÙÍ ðï É ÒÁÓÐÒÏÓÔÁÎÑÅÔÓÑ âåúï ÷óñëïê "
-"çáòáîôéé ÉÓÈÏÄÑ ÉÚ ÔÅÒÍÉÎÏ× GNU General Public License.\n"
-"éËÏÎËÉ ÜÔÏÊ ÐÒÏÇÒÁÍÍÙ ÌÉÃÅÎÚÉÒÏ×ÁÎÙ ÞÅÒÅÚ "
-"OpenContent License."
-
-#: ../../WPrefs.app/WPrefs.c:605 ../../WPrefs.app/WPrefs.c:670
-msgid "Window Maker domain (%s) is corrupted!"
-msgstr "Window Maker ÄÏÍÅÎ (%s) ÐÏ×ÒÅÖÄÅÎ!"
-
-#: ../../WPrefs.app/Menu.c:1342 ../../WPrefs.app/MouseSettings.c:147 ../../WPrefs.app/MouseSettings.c:167 ../../WPrefs.app/Text.c:181 ../../WPrefs.app/TexturePanel.c:604 ../../WPrefs.app/TexturePanel.c:677 ../../WPrefs.app/Themes.c:96 ../../WPrefs.app/WPrefs.c:606 ../../WPrefs.app/WPrefs.c:611 ../../WPrefs.app/WPrefs.c:620 ../../WPrefs.app/WPrefs.c:630 ../../WPrefs.app/WPrefs.c:640 ../../WPrefs.app/WPrefs.c:671 ../../WPrefs.app/WPrefs.c:676
-msgid "Error"
-msgstr "ïÛÉÂËÁ"
-
-#. WMMapWidget(panel->pathB);
-#: ../../WPrefs.app/Menu.c:1342 ../../WPrefs.app/MenuGuru.c:119 ../../WPrefs.app/MenuGuru.c:126 ../../WPrefs.app/MenuGuru.c:140 ../../WPrefs.app/MouseSettings.c:149 ../../WPrefs.app/MouseSettings.c:169 ../../WPrefs.app/Text.c:181 ../../WPrefs.app/TexturePanel.c:605 ../../WPrefs.app/TexturePanel.c:679 ../../WPrefs.app/TexturePanel.c:1505 ../../WPrefs.app/Themes.c:98 ../../WPrefs.app/WPrefs.c:606 ../../WPrefs.app/WPrefs.c:611 ../../WPrefs.app/WPrefs.c:622 ../../WPrefs.app/WPrefs.c:634 ../../WPrefs.app/WPrefs.c:640 ../../WPrefs.app/WPrefs.c:647 ../../WPrefs.app/WPrefs.c:671 ../../WPrefs.app/WPrefs.c:676
-msgid "OK"
-msgstr "OK"
-
-#: ../../WPrefs.app/WPrefs.c:609
-msgid "Could not load Window Maker domain (%s) from defaults database."
-msgstr "îÅ ÍÏÇÕ ÚÁÇÒÕÚÉÔØ ÄÏÍÅÎ Window MAker (%s) ÉÚ ÂÁÚÙ ÄÁÎÎÙÈ ÐÏ ÕÍÏÌÞÁÎÉÀ."
-
-#: ../../WPrefs.app/WPrefs.c:617
-msgid "could not extract version information from Window Maker"
-msgstr "ÎÅ ÍÏÇÕ ÐÏÌÕÞÉÔØ ÎÏÍÅÒ ×ÅÒÓÉÉ Window Maker"
-
-#: ../../WPrefs.app/WPrefs.c:618
-msgid "Make sure wmaker is in your search path."
-msgstr "õÂÅÄÉÔÅÓØ ÞÔÏ ÐÕÔØ Ë wmaker ÏÐÒÅÄÅÌÅÎ."
-
-#: ../../WPrefs.app/WPrefs.c:621
-msgid "Could not extract version from Window Maker. Make sure it is correctly installed and is in your PATH environment variable."
-msgstr "îÅ ÍÏÇÕ ÐÏÌÕÞÉÔØ ×ÅÒÓÉÀ Window Maker. õÂÅÄÉÔÅÓØ ÞÔÏ ÏÎ ÕÓÔÁÎÏ×ÌÅÎ ËÏÒÒÅËÔÎÏ É ÐÅÒÅÓÅÎÎÁÑ ÏËÒÕÖÅÎÉÑ PATH ÓÏÄÅÒÖÉÔ ÐÕÔØ Ë ÎÅÍÕ."
-
-#: ../../WPrefs.app/WPrefs.c:631
-msgid "Could not extract version from Window Maker. Make sure it is correctly installed and the path where it installed is in the PATH environment variable."
-msgstr "îÅ ÍÏÇÕ ÐÏÌÕÞÉÔØ ×ÅÒÓÉÀ Window Maker. õÂÅÄÉÔÅÓØ ÞÔÏ ÏÎ ÕÓÔÁÎÏ×ÌÅÎ ËÏÒÒÅËÔÎÏ É ÐÕÔØ Ë ÍÅÓÔÕ ÇÄÅ ÏÎ ÕÓÔÁÎÏ×ÌÅÎ ÅÓÔØ × PATH."
-
-#: ../../WPrefs.app/WPrefs.c:638
-msgid ""
-"WPrefs only supports Window Maker 0.18.0 or newer.\n"
-"The version installed is %i.%i.%i\n"
-msgstr ""
-"WPrefs ÒÁÂÏÔÁÅÔ ÔÏÌØËÏ Ó Window Maker 0.18.0 ÉÌÉ ÎÏ×ÅÅ.\n"
-"õÔÁÎÏ×ÌÅÎÁ ×ÅÒÓÉÑ %i.%i.%i\n"
+#: ../../WPrefs.app/Appearance.c:1755
+msgid "Texture"
+msgstr "ôÅËÓÔÕÒÁ"
 
-#: ../../WPrefs.app/WPrefs.c:645
-msgid "Window Maker %i.%i.%i, which is installed in your system, is not fully supported by this version of WPrefs."
-msgstr "Window Maker %i.%i.%i, ÕÓÔÁÎÏ×ÌÅÎÎÙÊ × ×ÁÛÅÊ ÓÉÓÔÅÍÅ ÎÅ ÐÏÄÄÅÒÖÉ×ÁÅÔÓÑ ÜÔÏÊ ×ÅÒÓÉÅÊ WPrefs ÐÏÌÎÏÓÔØÀ."
-
-#: ../../WPrefs.app/WPrefs.c:647
-msgid "Warning"
-msgstr "ðÒÅÄÕÐÒÅÖÄÅÎÉÅ"
-
-#: ../../WPrefs.app/WPrefs.c:652
-msgid "could not run \"wmaker --global_defaults_path\"."
-msgstr "ÎÅ ÍÏÇÕ ÚÁÐÕÓÔÉÔØ \"wmaker --global_defaults_path\"."
-
-#: ../../WPrefs.app/WPrefs.c:674
-msgid "Could not load global Window Maker domain (%s)."
-msgstr "îÅ ÍÏÇÕ ÚÁÇÒÕÚÉÔØ ÇÌÏÂÁÌØÎÙÊ ÄÏÍÅÎ Window Maker (%s)."
-
-#: ../../WPrefs.app/WPrefs.c:923
-msgid ""
-"bad speed value for option %s\n"
-". Using default Medium"
-msgstr "ÎÅÐÒÁ×ÉÌØÎÏÅ ÚÎÁÞÅÎÉÅ ÓËÏÒÏÓÔÉ ÄÌÑ %s\n"
-". éÓÐÏÌØÚÕÅÍ ÐÏÕÍÏÌÞÁÎÉÀ óÒÅÄÎÅÅ"
-
-#: ../../WPrefs.app/Appearance.c:928
-msgid "Select File"
-msgstr "õËÁÖÉÔÅ ÆÁÊÌ"
-
-#: ../../WPrefs.app/Appearance.c:1258
+#: ../../WPrefs.app/Appearance.c:1763
 msgid "Titlebar of Focused Window"
 msgstr "úÁÇÏÌÏ×ÏË ÁËÔÉ×ÎÏÇÏ ÏËÎÁ"
 
-#: ../../WPrefs.app/Appearance.c:1259
+#: ../../WPrefs.app/Appearance.c:1764
 msgid "Titlebar of Unfocused Windows"
 msgstr "úÁÇÏÌÏ×ÏË ÎÅÁËÔÉ×ÎÙÈ ÏËÏÎ"
 
-#: ../../WPrefs.app/Appearance.c:1260
+#: ../../WPrefs.app/Appearance.c:1765
 msgid "Titlebar of Focused Window's Owner"
 msgstr "úÁÇÏÌÏ×ÏË ×ÌÁÄÅÌØÃÁ ÁËÔÉ×ÎÏÇÏ ÏËÎÁ"
 
-#: ../../WPrefs.app/Appearance.c:1261
+#: ../../WPrefs.app/Appearance.c:1766
 msgid "Window Resizebar"
-msgstr "òÅÓÁÊÚ ÏËÎÁ"
+msgstr "òÁÍËÁ ÉÚÍÅÎÅÎÉÑ ÒÁÚÍÅÒÁ ÏËÎÁ"
 
-#: ../../WPrefs.app/Appearance.c:1262
+#: ../../WPrefs.app/Appearance.c:1767
 msgid "Titlebar of Menus"
 msgstr "úÁÇÏÌÏ×ÏË ÍÅÎÀ"
 
-#: ../../WPrefs.app/Appearance.c:1263
+#: ../../WPrefs.app/Appearance.c:1768
 msgid "Menu Items"
 msgstr "üÌÅÍÅÎÔÙ ÍÅÎÀ"
 
-#: ../../WPrefs.app/Appearance.c:1264
+#: ../../WPrefs.app/Appearance.c:1769
 msgid "Icon Background"
 msgstr "æÏÎ ÉËÏÎËÉ"
 
-#: ../../WPrefs.app/Appearance.c:1282 ../../WPrefs.app/Appearance.c:1582
-msgid "Textures"
-msgstr "ôÅËÓÔÕÒÙ"
+#: ../../WPrefs.app/Appearance.c:1784
+msgid ""
+"Double click in the texture you want to use\n"
+"for the selected item."
+msgstr ""
+"ýÅÌËÎÉÔÅ Ä×ÁÖÄÙ ÎÁ ÔÅËÓÔÕÒÅ, ËÏÔÏÒÕÀ ×Ù ÈÏÔÉÔÅ\n"
+"ÉÓÐÏÌØÚÏ×ÁÔØ ÄÌÑ ×ÙÂÒÁÎÎÏÇÏ ÜÌÅÍÅÎÔÁ."
 
-#: ../../WPrefs.app/Appearance.c:1313
+#: ../../WPrefs.app/Appearance.c:1798
 msgid "New"
 msgstr "îÏ×ÙÊ"
 
-#: ../../WPrefs.app/Appearance.c:1322
+#: ../../WPrefs.app/Appearance.c:1802
+msgid "Create a new texture."
+msgstr "óÏÚÄÁÔØ ÎÏ×ÕÀ ÔÅËÓÔÕÒÕ."
+
+#: ../../WPrefs.app/Appearance.c:1810
 msgid "Extract..."
 msgstr "éÚ×ÌÅÞØ..."
 
-#: ../../WPrefs.app/Appearance.c:1333
+#: ../../WPrefs.app/Appearance.c:1814
+msgid "Extract texture(s) from a theme or a style file."
+msgstr "éÚ×ÌÅÞØ ÔÅËÓÔÕÒÕ (ÔÅËÓÔÕÒÙ) ÉÚ ÔÅÍÙ ÉÌÉ ÆÁÊÌÁ ÓÔÉÌÑ."
+
+#: ../../WPrefs.app/Appearance.c:1824
 msgid "Edit"
 msgstr "òÅÄÁËÔÉÒÏ×ÁÔØ"
 
-#: ../../WPrefs.app/Appearance.c:1342 ../../WPrefs.app/TexturePanel.c:1293
+#: ../../WPrefs.app/Appearance.c:1827
+msgid "Edit the highlighted texture."
+msgstr "òÅÄÁËÔÉÒÏ×ÁÔØ ×ÙÂÒÁÎÎÕÀ ÔÅËÓÔÕÒÕ."
+
+#: ../../WPrefs.app/Appearance.c:1835 ../../WPrefs.app/TexturePanel.c:1316
 msgid "Delete"
 msgstr "óÔÅÒÅÔØ"
 
-#: ../../WPrefs.app/Appearance.c:1518
+#: ../../WPrefs.app/Appearance.c:1839
+msgid "Delete the highlighted texture."
+msgstr "õÄÁÌÉÔØ ×ÙÂÒÁÎÎÕÀ ÔÅËÓÔÕÒÕ."
+
+#: ../../WPrefs.app/Appearance.c:1852
+msgid "Color"
+msgstr "ã×ÅÔ"
+
+#: ../../WPrefs.app/Appearance.c:1859
+msgid "Focused Window Title"
+msgstr "úÁÇÏÌÏ×ÏË ÁËÔÉ×ÎÏÇÏ ÏËÎÁ"
+
+#: ../../WPrefs.app/Appearance.c:1860
+msgid "Unfocused Window Title"
+msgstr "úÁÇÏÌÏ×ÏË ÎÅÁËÔÉ×ÎÏÇÏ ÏËÎÁ"
+
+#: ../../WPrefs.app/Appearance.c:1861
+msgid "Owner of Focused Window Title"
+msgstr "÷ÌÁÄÅÌÅÃ ÁËÔÉ×ÎÏÇÏ ÏËÎÁ"
+
+#: ../../WPrefs.app/Appearance.c:1863
+msgid "Menu Item Text"
+msgstr "ôÅËÓÔ ÜÌÅÍÅÎÔÁ ÍÅÎÀ"
+
+#: ../../WPrefs.app/Appearance.c:1864
+msgid "Disabled Menu Item Text"
+msgstr "ôÅËÓÔ ÚÁÐÒÅÝÅÎÎÏÇÏ ÜÌÅÍÅÎÔÁ ÍÅÎÀ"
+
+#: ../../WPrefs.app/Appearance.c:1865
+msgid "Menu Highlight Color"
+msgstr "æÏÎ ÐÏÄÓ×ÅÞÅÎÎÏÇÏ ÜÌÅÍÅÎÔÁ ÍÅÎÀ"
+
+#: ../../WPrefs.app/Appearance.c:1866
+msgid "Highlighted Menu Text Color"
+msgstr "ôÅËÓÔ ÐÏÄÓ×ÅÞÅÎÎÏÇÏ ÜÌÅÍÅÎÔÁ ÍÅÎÀ"
+
+#: ../../WPrefs.app/Appearance.c:1905
+msgid "Background"
+msgstr "æÏÎ"
+
+#: ../../WPrefs.app/Appearance.c:1917 ../../WPrefs.app/TexturePanel.c:1503
+msgid "Browse..."
+msgstr "÷ÙÂÒÁÔØ"
+
+#: ../../WPrefs.app/Appearance.c:1930
+msgid "Options"
+msgstr "ðÁÒÁÍÅÔÒÙ"
+
+#: ../../WPrefs.app/Appearance.c:1937
+msgid "Menu Style"
+msgstr "óÔÉÌØ ÍÅÎÀ"
+
+#: ../../WPrefs.app/Appearance.c:1965 ../../WPrefs.app/Configurations.c:242
+#: ../../WPrefs.app/Configurations.c:254 ../../WPrefs.app/Focus.c:288
+#: ../../WPrefs.app/Focus.c:299 ../../WPrefs.app/MenuPreferences.c:134
+#: ../../WPrefs.app/MenuPreferences.c:145
+#: ../../WPrefs.app/MenuPreferences.c:173
+#: ../../WPrefs.app/MenuPreferences.c:188 ../../WPrefs.app/MouseSettings.c:560
+#: ../../WPrefs.app/MouseSettings.c:571 ../../WPrefs.app/WPrefs.c:558
+#: ../../WPrefs.app/WPrefs.c:583
+#, c-format
+msgid "could not load icon file %s"
+msgstr "ÎÅ ÍÏÇÕ ÚÁÇÒÕÚÉÔØ ÉËÏÎËÕ %s"
+
+# awn: ÐÒÁ×ÉÌØÎÏ -- "÷ÙÒÁ×ÎÉ×ÁÎÉÅ ÚÁÇÏÌÏ×ËÁ", ÎÏ ÍÅÓÔÁ ÎÅÔ.
+#: ../../WPrefs.app/Appearance.c:1979
+msgid "Title Alignment"
+msgstr "úÁÇÏÌÏ×ÏË"
+
+#: ../../WPrefs.app/Appearance.c:1986
+msgid "Left"
+msgstr "÷ÌÅ×Ï"
+
+#: ../../WPrefs.app/Appearance.c:1989 ../../WPrefs.app/TexturePanel.c:1517
+#: ../../WPrefs.app/Workspace.c:270
+msgid "Center"
+msgstr "ðÏ ÃÅÎÔÒÕ"
+
+#: ../../WPrefs.app/Appearance.c:1992
+msgid "Right"
+msgstr "÷ÐÒÁ×Ï"
+
+#: ../../WPrefs.app/Appearance.c:2216
 msgid "Appearance Preferences"
 msgstr "÷ÎÅÛÎÉÊ ×ÉÄ"
 
-#: ../../WPrefs.app/Appearance.c:1562
+#: ../../WPrefs.app/Appearance.c:2218
+msgid ""
+"Background texture configuration for windows,\n"
+"menus and icons."
+msgstr ""
+"ëÏÎÆÉÇÕÒÁÃÉÑ ÆÏÎÏ×ÙÈ ÔÅËÓÔÕÒ ÄÌÑ ÏËÏÎ,\n"
+"ÍÅÎÀ É ÉËÏÎÏË."
+
+#: ../../WPrefs.app/Appearance.c:2263
 msgid "Extract Texture"
 msgstr "éÚ×ÌÅÞØ ÔÅËÓÔÕÒÕ"
 
-#: ../../WPrefs.app/Appearance.c:1598
+#: ../../WPrefs.app/Appearance.c:2283
+msgid "Textures"
+msgstr "ôÅËÓÔÕÒÙ"
+
+#: ../../WPrefs.app/Appearance.c:2294 ../../WPrefs.app/WPrefs.c:302
+msgid "Close"
+msgstr "úÁËÒÙÔØ"
+
+#: ../../WPrefs.app/Appearance.c:2299
 msgid "Extract"
 msgstr "éÚ×ÌÅÞØ"
 
-#: ../../WPrefs.app/Configurations.c:142 ../../WPrefs.app/Configurations.c:148 ../../WPrefs.app/MouseSettings.c:534 ../../WPrefs.app/WindowHandling.c:311 ../../WPrefs.app/WindowHandling.c:323 ../../WPrefs.app/Workspace.c:71 ../../WPrefs.app/Workspace.c:77
+#: ../../WPrefs.app/Configurations.c:150 ../../WPrefs.app/Configurations.c:156
+#: ../../WPrefs.app/MouseSettings.c:490 ../../WPrefs.app/WindowHandling.c:339
+#: ../../WPrefs.app/WindowHandling.c:351 ../../WPrefs.app/Workspace.c:90
+#: ../../WPrefs.app/Workspace.c:101
+#, c-format
 msgid "could not load icon %s"
 msgstr "ÎÅ ÍÏÇÕ ÚÁÇÒÕÚÉÔØ ÉËÏÎËÕ %s"
 
-#: ../../WPrefs.app/Configurations.c:156 ../../WPrefs.app/Workspace.c:85
+#: ../../WPrefs.app/Configurations.c:164 ../../WPrefs.app/Workspace.c:109
+#, c-format
 msgid "could not process icon %s:"
 msgstr "ÎÅ ÍÏÇÕ ÏÂÒÁÂÏÔÁÔØ ÉËÏÎËÕ %s:"
 
-#: ../../WPrefs.app/Configurations.c:181 ../../WPrefs.app/Workspace.c:124
+#: ../../WPrefs.app/Configurations.c:189 ../../WPrefs.app/Workspace.c:164
+#, c-format
 msgid "could not load image file %s"
 msgstr "ÎÅ ÍÏÇÕ ÚÁÇÒÕÚÉÔØ ÆÁÊÌ ÉÚÏÂÒÁÖÅÎÉÑ %s"
 
-#: ../../WPrefs.app/Configurations.c:195
+#: ../../WPrefs.app/Configurations.c:203
 msgid "Icon Slide Speed"
 msgstr "óËÏÒÏÓÔØ ÓÄ×ÉÇÁ ÉËÏÎËÉ"
 
-#: ../../WPrefs.app/Configurations.c:201
+#: ../../WPrefs.app/Configurations.c:209
 msgid "Shade Animation Speed"
 msgstr "óËÏÒÏÓÔØ Ó×ÏÒÁÞÉ×ÁÎÉÑ"
 
-#: ../../WPrefs.app/Configurations.c:262
+# awn: ËÁË ÜÔÏ ÎÏÒÍÁÌØÎÏ ÐÅÒÅ×ÅÓÔÉ, ÄÁ ÔÁË, ÞÔÏÂÙ ÐÏÍÅÓÔÉÌÏÓØ?
+#: ../../WPrefs.app/Configurations.c:271
+msgid "Smooth Scaling"
+msgstr "çÌÁÄËÏÅ ÍÁÓÛÔÁÂÉÒÏ×ÁÎÉÅ"
+
+#: ../../WPrefs.app/Configurations.c:272
+msgid ""
+"Smooth scaled background images, neutralizing\n"
+"the `pixelization' effect. This will slow\n"
+"down loading of background images considerably."
+msgstr ""
+"óÇÌÁÖÉ×ÁÔØ (ÎÁÖÁÔÏ) ÉÌÉ ÎÅÔ (ÏÔÐÕÝÅÎÏ) ÍÁÓÛÔÁÂÉÒÏ×ÁÎÎÙÅ\n"
+"ÆÏÎÏ×ÙÅ ÉÚÏÂÒÁÖÅÎÉÑ.  ó ÏÄÎÏÊ ÓÔÏÒÏÎÙ, ÜÔÏ ÄÅÌÁÅÔ\n"
+"ÉÚÏÂÒÁÖÅÎÉÅ ÂÏÌÅÅ \"ÇÌÁÄËÉÍÉ\", ÓËÒÙ×ÁÑ ÏÔÄÅÌØÎÙÅ,\n"
+"Õ×ÅÌÉÞÉ×ÛÉÅÓÑ × ÒÁÚÍÅÒÁÈ ÔÏÞËÉ, ÎÏ Ó ÄÒÕÇÏÊ ÓÔÏÒÏÎÙ,\n"
+"Õ×ÅÌÉÞÉ×ÁÅÔ ×ÒÅÍÑ, ÎÅÏÂÈÏÄÉÍÏÅ ÄÌÑ ÚÁÇÒÕÚËÉ ÆÏÎÏ×ÏÇÏ\n"
+"ÉÚÏÂÒÁÖÅÎÉÑ."
+
+#: ../../WPrefs.app/Configurations.c:313
 msgid "Titlebar Style"
 msgstr "óÔÉÌØ ÚÁÇÏÌÏ×ËÁ"
 
-#: ../../WPrefs.app/Configurations.c:299
+#: ../../WPrefs.app/Configurations.c:351
 msgid "Animations and Sound"
 msgstr "áÎÉÍÁÃÉÑ É Ú×ÕË"
 
-#: ../../WPrefs.app/Configurations.c:305
+#: ../../WPrefs.app/Configurations.c:357
 msgid "Animations"
 msgstr "áÎÉÍÁÃÉÑ"
 
-#: ../../WPrefs.app/Configurations.c:321
+#: ../../WPrefs.app/Configurations.c:368
+msgid ""
+"Disable/enable animations such as those shown\n"
+"for window miniaturization, shading etc."
+msgstr ""
+"úÁÐÒÅÝÁÅÔ/ÒÁÚÒÅÛÁÅÔ ÁÎÉÍÁÃÉÀ ÐÒÉ Ó×ÏÒÁÞÉ×ÁÎÉÉ\n"
+"ÏËÏÎ × ÉËÏÎËÕ, ÌÉÎÅÊËÕ É Ô.Ð."
+
+#: ../../WPrefs.app/Configurations.c:376
 msgid "Superfluous"
-msgstr "ìÉÛÎÉÊ"
+msgstr "éÚÌÉÛÅÓÔ×Á"
+
+#: ../../WPrefs.app/Configurations.c:387
+msgid ""
+"Disable/enable `superfluous' features and\n"
+"animations. These include the `ghosting' of the\n"
+"dock when it's being moved to another side and\n"
+"the explosion animation when undocking icons."
+msgstr ""
+"úÁÐÒÅÝÁÅÔ/ÒÁÚÒÅÛÁÅÔ ÒÁÚÌÉÞÎÙÅ `ÉÚÌÉÛÅÓÔ×Á'.\n"
+"îÁÐÒÉÍÅÒ, ÁÎÉÍÉÒÏ×ÁÎÎÙÊ `×ÚÒÙ×' ÉËÏÎËÉ ÐÒÉ\n"
+"ÕÄÁÌÅÎÉÉ ÅÅ ÉÚ äÏËÁ."
 
-#: ../../WPrefs.app/Configurations.c:337
+#: ../../WPrefs.app/Configurations.c:397
 msgid "Sounds"
 msgstr "ú×ÕËÉ"
 
-#: ../../WPrefs.app/Configurations.c:354
-msgid "Note: sound requires a module distributed separately"
-msgstr "úÁÍÅÞÁÎÉÅ: ÄÌÑ Ú×ÕËÁ ÔÒÅÂÕÅÔÓÑ ÏÔÄÅÌØÎÏ ÐÏÓÔÁ×ÌÑÅÍÙÊ ÍÏÄÕÌØ"
+#: ../../WPrefs.app/Configurations.c:408
+msgid ""
+"Disable/enable support for sound effects played\n"
+"for actions like shading and closing a window.\n"
+"You will need a module distributed separately\n"
+"for this. You can get it at:\n"
+"http://shadowmere.student.utwente.nl/"
+msgstr ""
+"úÁÐÒÅÔÉÔØ/ÒÁÚÒÅÛÉÔØ Ú×ÕËÏ×ÙÅ ÜÆÆÅËÔÙ ÄÌÑ ÄÅÊÓÔ×ÉÊ,\n"
+"ÎÁÐÏÄÏÂÉÅ Ó×ÅÒÔËÉ ÉÌÉ ÚÁËÒÙÔÉÑ ÏËÎÁ.  äÌÑ ÜÔÏÇÏ\n"
+"×ÁÍ ÐÏÎÁÄÏÂÉÔÓÑ ÍÏÄÕÌØ, ÐÏÓÔÁ×ÌÑÅÍÙÊ ÏÔÄÅÌØÎÏ.\n"
+"÷Ù ÍÏÖÅÔÅ ÚÁÇÒÕÚÉÔØ ÅÇÏ Ó:\n"
+"http://shadowmere.student.utwente.nl/"
 
-#: ../../WPrefs.app/Configurations.c:364
+#: ../../WPrefs.app/Configurations.c:419
+msgid ""
+"Note: sound requires a module distributed\n"
+"separately"
+msgstr ""
+"úÁÍÅÞÁÎÉÅ: ÄÌÑ Ú×ÕËÁ ÔÒÅÂÕÅÔÓÑ ÏÔÄÅÌØÎÏ\n"
+"ÐÏÓÔÁ×ÌÑÅÍÙÊ ÍÏÄÕÌØ"
+
+#: ../../WPrefs.app/Configurations.c:429
 msgid "Dithering colormap for 8bpp"
+msgstr "ðÒÉ×ÅÄÅÎÉÅ ÐÁÌÉÔÒÙ ÄÌÑ 8bpp"
+
+#: ../../WPrefs.app/Configurations.c:431
+msgid ""
+"Number of colors to reserve for Window Maker\n"
+"on displays that support only 8bpp (PseudoColor)."
 msgstr ""
+"ëÏÌÉÞÅÓÔ×Ï Ã×ÅÔÏ×, ËÏÔÏÒÏÅ ÂÕÄÅÔ ÚÁÒÅÚÅÒ×ÉÒÏ×ÁÎÏ\n"
+"ÚÁ Window Maker'ÏÍ × ÒÅÖÉÍÅ 8bpp (PseudoColor)."
 
-#: ../../WPrefs.app/Configurations.c:369
+#: ../../WPrefs.app/Configurations.c:438
 msgid "Disable dithering in any visual/depth"
-msgstr ""
+msgstr "úÁÐÒÅÔÉÔØ ÐÒÉ×ÅÄÅÎÉÅ ÐÁÌÉÔÒÙ ×ÏÏÂÝÅ"
 
-#: ../../WPrefs.app/Configurations.c:390
-msgid "More colors for applications"
-msgstr "âÏÌØÛÅ Ã×ÅÔÏ× ÐÒÉÌÏÖÅÎÉÑÍ"
+#: ../../WPrefs.app/Configurations.c:459
+msgid ""
+"More colors for\n"
+"applications"
+msgstr ""
+"âÏÌØÛÅ Ã×ÅÔÏ×\n"
+"ÄÌÑ\n"
+"ÐÒÉÌÏÖÅÎÉÊ"
 
-#: ../../WPrefs.app/Configurations.c:397
-msgid "More colors for WindowMaker"
-msgstr "âÏÌØÛÅ Ã×ÅÔÏ× ÄÌÑ WindowMaker"
+#: ../../WPrefs.app/Configurations.c:466
+msgid ""
+"More colors for\n"
+"Window Maker"
+msgstr ""
+"âÏÌØÛÅ Ã×ÅÔÏ×\n"
+"ÄÌÑ\n"
+"Window Maker'Á"
 
-#: ../../WPrefs.app/Configurations.c:450
+#: ../../WPrefs.app/Configurations.c:521
 msgid "Other Configurations"
-msgstr "äÒÕÇÉÅ ÎÁÓÔÒÏÊËÉ" 
+msgstr "äÒÕÇÉÅ ÎÁÓÔÒÏÊËÉ"
 
-#: ../../WPrefs.app/Expert.c:72
-msgid "Disable miniwindows (icons for miniaturized windows). For use with KDE/GNOME."
-msgstr "úÁÐÒÅÔÉÔØ ÍÉÎÉÏËÎÁ (ÉËÏÎËÉ ÄÌÑ ÍÉÎÉÍÉÚÉÒÏ×ÁÎÎÙÈ ÏËÏÎ). äÌÑ ÉÓÐÏÌØÚÏ×ÁÎÉÑ Ó KDE/GNOME."
-
-#: ../../WPrefs.app/Expert.c:73
-msgid "Do not set non-WindowMaker specific parameters (do not use xset)"
-msgstr "îÅ ÕÓÔÁÎÁ×ÌÉ×ÁÔØ ÎÅ Window Maker ÐÁÒÁÍÅÔÒÙ (ÎÅ ÉÓÐÏÌØÚÏ×ÁÔØ xset)"
-
-#: ../../WPrefs.app/Expert.c:74
-msgid "Automatically save session when exiting WindowMaker"
-msgstr "óÏÈÒÁÎÑÔØ ÓÅÓÓÉÀ ÐÒÉ ×ÙÈÏÄÅ"
+#: ../../WPrefs.app/Configurations.c:523
+msgid ""
+"Animation speeds, titlebar styles, various option\n"
+"toggling and number of colors to reserve for\n"
+"Window Maker on 8bit displays."
+msgstr ""
+"óËÏÒÏÓÔØ ÁÎÉÍÁÃÉÉ, ÓÔÉÌÉ ÚÁÇÏÌÏ×ËÏ×, ÐÅÒÅËÌÀÞÅÎÉÅ ÒÁÚÌÉÞÎÙÈ\n"
+"ÐÁÒÁÍÅÔÒÏ× É ËÏÌÉÞÅÓÔ×Á Ã×ÅÔÏ× ÄÌÑ ÒÅÚÅÒ×ÉÒÏ×ÁÎÉÑ ÚÁ\n"
+"Window Maker'ÏÍ ÐÒÉ ÒÁÂÏÔÅ Ó 8bit'ÎÙÍ Ã×ÅÔÏÍ (8bpp)."
 
 #: ../../WPrefs.app/Expert.c:75
-msgid "Use SaveUnder in window frames, icons, menus and other objects"
-msgstr "éÓÐÏÌØÚÏ×ÁÔØ SaveUnder ÄÌÑ ÇÒÁÎÉÃ ÏËÏÎ, ÉËÏÎÏË, ÍÅÎÀ É ÄÒÕÇÉÈ ÏÂßÅËÔÏ×"
+msgid ""
+"Disable miniwindows (icons for miniaturized windows). For use with KDE/GNOME."
+msgstr ""
+"úÁÐÒÅÔÉÔØ ÍÉÎÉÏËÎÁ (ÉËÏÎËÉ ÄÌÑ ÍÉÎÉÍÉÚÉÒÏ×ÁÎÎÙÈ ÏËÏÎ). äÌÑ ÉÓÐÏÌØÚÏ×ÁÎÉÑ Ó "
+"KDE/GNOME."
 
 #: ../../WPrefs.app/Expert.c:76
-msgid "Disable cycling color highlighting of icons."
+msgid "Do not set non-WindowMaker specific parameters (do not use xset)."
 msgstr ""
+"îÅ ÕÓÔÁÎÁ×ÌÉ×ÁÔØ ÐÁÒÁÍÅÔÒÙ, ÎÅ ÏÔÎÏÓÑÝÉÅÓÑ ÎÅÐÏÓÒÅÄÓÔ×ÅÎÎÏ Ë\n"
+"Window Maker'Õ (ÎÅ ÉÓÐÏÌØÚÏ×ÁÔØ xset)."
+
+#: ../../WPrefs.app/Expert.c:77
+msgid "Automatically save session when exiting Window Maker."
+msgstr "á×ÔÏÍÁÔÉÞÅÓËÉ ÓÏÈÒÁÎÑÔØ ÓÅÓÓÉÀ ÐÒÉ ×ÙÈÏÄÅ ÉÚ Window Maker'Á."
+
+#: ../../WPrefs.app/Expert.c:78
+msgid "Use SaveUnder in window frames, icons, menus and other objects."
+msgstr "éÓÐÏÌØÚÏ×ÁÔØ SaveUnder ÄÌÑ ÏËÏÎ, ÉËÏÎÏË, ÍÅÎÀ É ÄÒÕÇÉÈ ÏÂßÅËÔÏ×."
+
+#: ../../WPrefs.app/Expert.c:79
+msgid "Use Windoze style cycling."
+msgstr "ðÅÒÅËÌÀÞÅÎÉÅ ÏËÏÎ × ÓÔÉÌÅ Windows"
 
-#: ../../WPrefs.app/Expert.c:108
+#: ../../WPrefs.app/Expert.c:80
+msgid "Disable confirmation panel for the Kill command."
+msgstr "úÁÐÒÅÔÉÔØ ÄÉÁÌÏÇ ÐÏÄÔ×ÅÒÖÄÅÎÉÑ ÄÌÑ ËÏÍÁÎÄÙ `õÂÉÔØ'."
+
+# awn: FIXME: ÞÔÏ ÜÔÏ ×ÏÏÂÝÅ ÚÎÁÞÉÔ?
+#: ../../WPrefs.app/Expert.c:81
+msgid "Disable selection animation for selected icons."
+msgstr "úÁÐÒÅÔÉÔØ ÁÎÉÍÁÃÉÀ ×ÙÂÏÒÁ ÄÌÑ ×ÙÂÒÁÎÎÙÈ ÉËÏÎÏË."
+
+#: ../../WPrefs.app/Expert.c:115
 msgid "Expert User Preferences"
 msgstr "õÓÔÁÎÏ×ËÉ ÄÌÑ ÏÐÙÔÎÏÇÏ ÐÏÌØÚÏ×ÁÔÅÌÑ"
 
-#: ../../WPrefs.app/Focus.c:81
+#: ../../WPrefs.app/Expert.c:117
+msgid ""
+"Options for people who know what they're doing...\n"
+"Also have some other misc. options."
+msgstr ""
+"ðÁÒÁÍÅÔÒÙ, ÐÒÅÄÎÁÚÎÁÞÅÎÎÙÅ ÄÌÑ ÌÀÄÅÊ,\n"
+"ËÏÔÏÒÙÅ ÚÎÁÀÔ, ÞÔÏ ÄÅÌÁÀÔ...\n"
+"ôÁËÖÅ ÓÏÄÅÒÖÉÔ ÎÅËÏÔÏÒÙÅ ÄÒÕÇÉÅ,\n"
+"ÒÅÄËÏ ÉÓÐÏÌØÚÕÅÍÙÅ ÐÁÒÁÍÅÔÒÙ."
+
+#: ../../WPrefs.app/Focus.c:80
+#, c-format
 msgid "bad option value %s for option FocusMode. Using default Manual"
 msgstr "ÎÅ×ÅÒÎÏÅ ÚÎÁÞÅÎÉÅ %s ÄÌÑ FocusMode. éÓÐÏÌØÚÕÅÍ Manual"
 
-#: ../../WPrefs.app/Focus.c:96
+#: ../../WPrefs.app/Focus.c:94
+#, c-format
 msgid "bad option value %s for option ColormapMode. Using default Auto"
 msgstr "ÎÅ×ÅÒÎÏÅ ÚÎÁÞÅÎÉÅ %s ÄÌÑ ColormapMode. éÓÐÏÌØÚÕÅÍ Auto"
 
-#: ../../WPrefs.app/Focus.c:194
-msgid ""
-"Click on the window to set\n"
-"keyboard input focus."
-msgstr "ýÅÌËÎÉÔÅ ÎÁ ÏËÎÅ, ÞÔÏÂÙ\n"
-"××ÏÄÉÔØ Ó ËÌÁ×ÉÁÔÕÒÙ"
-
-#: ../../WPrefs.app/Focus.c:198
-msgid ""
-"Set keyboard input focus to\n"
-"the window under the mouse pointer,\n"
-"including the root window."
-msgstr ""
-"æÏËÕÓ Õ ÏËÎÁ ÐÏÄ ÕËÁÚÁÔÅÌÅÍ ÍÙÛÉ"
-
-#: ../../WPrefs.app/Focus.c:203
-msgid ""
-"Set keyboard input focus to\n"
-"the window under the mouse pointer,\n"
-"except the root window."
-msgstr ""
-"æÏËÕÓ Õ ÏËÎÁ ÐÏÄ ÕËÁÚÁÔÅÌÅÍ ÍÙÛÉ,\n"
-"ËÒÏÍÅ root."
-
-#: ../../WPrefs.app/Focus.c:247
+#: ../../WPrefs.app/Focus.c:214
 msgid "Input Focus Mode"
-msgstr "òÅÖÉÍ ÆÏËÕÓÁ"
-
-#: ../../WPrefs.app/Focus.c:252
-msgid "Click window to focus"
-msgstr "ýÅÌËÎÉ ÎÁ ÏËÎÅ"
+msgstr "òÅÖÉÍ ÆÏËÕÓÁ ××ÏÄÁ"
 
-#: ../../WPrefs.app/Focus.c:253
-msgid "Focus follows mouse"
-msgstr "æÏËÕÓ ÓÌÅÄÕÅÔ ÚÁ ÍÙÛØÀ"
+#: ../../WPrefs.app/Focus.c:222
+msgid "Manual:  Click on the window to set keyboard input focus"
+msgstr "÷ÒÕÞÎÕÀ:  ýÅÌËÎÉÔÅ ÎÁ ÏËÎÅ, ÄÌÑ ÐÅÒÅÄÁÞÉ ÅÍÕ ÆÏËÕÓÁ ××ÏÄÁ"
 
-#: ../../WPrefs.app/Focus.c:254
-msgid "\"Sloppy\" focus"
-msgstr "\"Sloppy\" ÆÏËÕÓ"
+#: ../../WPrefs.app/Focus.c:229
+msgid "Auto:  Set keyboard input focus to the window under the mouse pointer"
+msgstr ""
+"á×ÔÏÍÁÔÉÞÅÓËÉ:  æÏËÕÓ ËÌÁ×ÉÁÔÕÒÎÏÇÏ ××ÏÄÁ ÐÅÒÅÄÁÅÔÓÑ ÏËÎÕ, ÎÁÈÏÄÑÝÅÍÕÓÑ ÐÏÄ "
+"ËÕÒÓÏÒÏÍ ÍÙÛÉ."
 
-#: ../../WPrefs.app/Focus.c:269
+#: ../../WPrefs.app/Focus.c:243
 msgid "Install colormap in the window..."
-msgstr "õÓÔÁÎÏ×ÉÔØ colormap × ÏËÎÅ..."
+msgstr "õÓÔÁÎÁ×ÌÉ×ÁÔØ ÐÁÌÉÔÒÕ ÏËÎÁ..."
 
-#: ../../WPrefs.app/Focus.c:274
+#: ../../WPrefs.app/Focus.c:248
 msgid "...that has the input focus."
-msgstr "...ÉÍÅÀÝÅÍ ÆÏËÕÓ"
+msgstr "...ÉÍÅÀÝÅÇÏ ÆÏËÕÓ ××ÏÄÁ."
 
-#: ../../WPrefs.app/Focus.c:279
+#: ../../WPrefs.app/Focus.c:253
 msgid "...that is under the mouse pointer."
-msgstr "...ÐÏÄ ÕËÁÚÁÔÅÌÅÍ ÍÙÛÉ"
+msgstr "...ÎÁÈÏÄÑÝÅÇÏÓÑ ÐÏÄ ËÕÒÓÏÒÏÍ ÍÙÛÉ."
 
-#: ../../WPrefs.app/Focus.c:288
+#: ../../WPrefs.app/Focus.c:262
 msgid "Automatic Window Raise Delay"
 msgstr "÷ÓÐÌÙ×ÁÔØ ÞÅÒÅÚ..."
 
-#: ../../WPrefs.app/Focus.c:345
+#: ../../WPrefs.app/Focus.c:319 ../../WPrefs.app/MouseSettings.c:601
 msgid "msec"
 msgstr "íÓÅË"
 
-#: ../../WPrefs.app/Focus.c:362
-msgid "Do not let applications receive the click used to focus windows."
-msgstr "îÅ ÐÏÚ×ÏÌÑÔØ ÐÒÉÌÏÖÅÎÉÑÍ ÐÏÌÕÞÁÔØ click ÉÓÐÏÌØÚÏ×ÁÎÎÙÊ ÄÌÑ ÐÅÒÅÄÁÞÉ ÆÏËÕÓÁ."
-
-#: ../../WPrefs.app/Focus.c:368
-msgid "Automatically focus new windows."
-msgstr "äÅÌÁÔØ ÎÏ×ÙÅ ÏËÎÁ ÁËÔÉ×ÎÙÍÉ Á×ÔÏÍÁÔÉÞÅÓËÉ."
+#: ../../WPrefs.app/Focus.c:336
+msgid ""
+"Do not let applications receive\n"
+"the click used to focus windows."
+msgstr ""
+"îÅ ÐÅÒÅÄÁ×ÁÔØ ÐÒÉÌÏÖÅÎÉÑÍ ÝÅÌÞÏË ÍÙÛÉ,\n"
+"ÓÄÅÌÁÎÎÙÊ ÄÌÑ ÆÏËÕÓÉÒÏ×ËÉ."
+
+#: ../../WPrefs.app/Focus.c:342
+msgid ""
+"Automatically focus new\n"
+"windows."
+msgstr ""
+"á×ÔÏÍÁÔÉÞÅÓËÉ ÐÅÒÅÄÁ×ÁÔØ ÆÏËÕÓ\n"
+"ÎÏ×ÙÍ ÏËÎÁÍ."
 
-#: ../../WPrefs.app/Focus.c:389
+#: ../../WPrefs.app/Focus.c:363
 msgid "Window Focus Preferences"
 msgstr "ðÁÒÁÍÅÔÒÙ ÄÌÑ ÆÏËÕÓÉÒÏ×ËÉ ÏËÎÁ"
 
+#: ../../WPrefs.app/Focus.c:365
+msgid ""
+"Keyboard focus switching policy, colormap switching\n"
+"policy for 8bpp displays and other related options."
+msgstr ""
+"ðÏÌÉÔÉËÁ ÐÅÒÅËÌÀÞÅÎÉÑ ÆÏËÕÓÁ ËÌÁ×ÉÁÔÕÒÙ,\n"
+"ÐÏÌÉÔÉËÁ ÐÅÒÅËÌÀÞÅÎÉÑ Ã×ÅÔÏ×ÏÊ ÐÁÌÉÔÒÙ ÄÌÑ 8bpp\n"
+"É ÔÏÍÕ ÐÏÄÏÂÎÙÅ ÐÁÒÁÍÅÔÒÙ."
+
+#: ../../WPrefs.app/Font.c:276
+msgid "Could not locate font information file WPrefs.app/font.data"
+msgstr ""
+
+#: ../../WPrefs.app/Font.c:282
+msgid "Could not read font information file WPrefs.app/font.data"
+msgstr ""
+
+#: ../../WPrefs.app/Font.c:293
+msgid ""
+"Invalid data in font information file WPrefs.app/font.data.\n"
+"Encodings data not found."
+msgstr ""
+
+#: ../../WPrefs.app/Font.c:298
+msgid "- Custom -"
+msgstr ""
+
+#: ../../WPrefs.app/Font.c:329 ../../WPrefs.app/Menu.c:1594
+#: ../../WPrefs.app/MouseSettings.c:140 ../../WPrefs.app/MouseSettings.c:160
+#: ../../WPrefs.app/TexturePanel.c:613 ../../WPrefs.app/TexturePanel.c:693
+#: ../../WPrefs.app/Themes.c:96 ../../WPrefs.app/WPrefs.c:758
+#: ../../WPrefs.app/WPrefs.c:763 ../../WPrefs.app/WPrefs.c:780
+#: ../../WPrefs.app/WPrefs.c:790 ../../WPrefs.app/WPrefs.c:800
+#: ../../WPrefs.app/WPrefs.c:838 ../../WPrefs.app/WPrefs.c:843
+msgid "Error"
+msgstr "ïÛÉÂËÁ"
+
+#: ../../WPrefs.app/Font.c:329 ../../WPrefs.app/Menu.c:1594
+#: ../../WPrefs.app/MouseSettings.c:142 ../../WPrefs.app/MouseSettings.c:162
+#: ../../WPrefs.app/TexturePanel.c:614 ../../WPrefs.app/TexturePanel.c:695
+#: ../../WPrefs.app/TexturePanel.c:1528 ../../WPrefs.app/Themes.c:98
+#: ../../WPrefs.app/WPrefs.c:758 ../../WPrefs.app/WPrefs.c:763
+#: ../../WPrefs.app/WPrefs.c:782 ../../WPrefs.app/WPrefs.c:794
+#: ../../WPrefs.app/WPrefs.c:800 ../../WPrefs.app/WPrefs.c:807
+#: ../../WPrefs.app/WPrefs.c:838 ../../WPrefs.app/WPrefs.c:843
+#: ../../WPrefs.app/imagebrowser.c:105
+msgid "OK"
+msgstr "OK"
+
+#: ../../WPrefs.app/Font.c:376
+msgid "Default Font Sets"
+msgstr ""
+
+#: ../../WPrefs.app/Font.c:389
+msgid "Font Set"
+msgstr ""
+
+#: ../../WPrefs.app/Font.c:418
+msgid "Add..."
+msgstr "äÏÂÁ×ÉÔØ..."
+
+#: ../../WPrefs.app/Font.c:423 ../../WPrefs.app/Font.c:438
+msgid "Change..."
+msgstr "éÚÍÅÎÉÔØ..."
+
+#: ../../WPrefs.app/Font.c:428 ../../WPrefs.app/Paths.c:288
+#: ../../WPrefs.app/Paths.c:319
+msgid "Remove"
+msgstr "õÄÁÌÉÔØ"
+
+#: ../../WPrefs.app/Font.c:477
+msgid "Font Preferences"
+msgstr "õÓÔÁÎÏ×ËÉ ÄÌÑ ÛÒÉÆÔÏ×"
+
+#: ../../WPrefs.app/Font.c:478
+msgid "Font Configurations for Windows, Menus etc"
+msgstr "ëÏÎÆÉÇÕÒÁÃÉÑ ûÒÉÆÔÏ× ÄÌÑ ïËÏÎ, íÅÎÀ É Ô.Ð."
+
 #: ../../WPrefs.app/Icons.c:180
 msgid "Icon Positioning"
 msgstr "òÁÓÐÏÌÏÖÅÎÉÅ ÉËÏÎÏË"
 
 #: ../../WPrefs.app/Icons.c:227
 msgid "Iconification Animation"
-msgstr "áÎÉÍÁÃÉÑ ÄÌÑ ÉËÏÎÏË"
+msgstr "áÎÉÍÉÒÏ×ÁÎÉÅ Ó×ÏÒÁÞÉ×ÁÎÉÑ"
 
 #: ../../WPrefs.app/Icons.c:238
 msgid "Shrinking/Zooming"
-msgstr "õÍÅÎØÛÅÎÉÅ/õ×ÅÌÉÞÅÎÉÅ"
+msgstr "óÖÁÔÉÅ/òÁÓÐÁÈÉ×ÁÎÉÅ"
 
 #: ../../WPrefs.app/Icons.c:239
 msgid "Spinning/Twisting"
-msgstr "÷ÒÁÝÅÎÉÅ/ëÒÕÞÅÎÉÅ"
+msgstr "÷ÒÁÝÅÎÉÅ × ÐÌÏÓËÏÓÔÉ"
 
 #: ../../WPrefs.app/Icons.c:240
 msgid "3D-flipping"
-msgstr "3D-ËÒÕÞÅÎÉÅ"
+msgstr "ôÒÅÈÍÅÒÎÏÅ ×ÒÁÝÅÎÉÅ"
 
-#: ../../WPrefs.app/Icons.c:241
+#: ../../WPrefs.app/Icons.c:241 ../../WPrefs.app/MouseSettings.c:838
+#: ../../WPrefs.app/MouseSettings.c:843
 msgid "None"
-msgstr "îÅÔ"
-
-#: ../../WPrefs.app/Icons.c:249
-msgid "Icon Display"
-msgstr "ïÔÏÂÒÁÖÅÎÉÅ ÉËÏÎÏ"
+msgstr "âÅÚ ÏÎÏÇÏ"
 
 #: ../../WPrefs.app/Icons.c:254
 msgid "Auto-arrange icons"
 msgstr "á×ÔÏÍÁÔÉÞÅÓËÉ ×ÙÒÁ×ÎÉ×ÁÔØ ÉËÏÎËÉ"
 
-#: ../../WPrefs.app/Icons.c:259
+#: ../../WPrefs.app/Icons.c:256
+msgid "Keep icons and miniwindows arranged all the time."
+msgstr "ðÏÄÄÅÒÖÉ×ÁÔØ ÉËÏÎËÉ É ÍÉÎÉÏËÎÁ ÐÏÓÔÏÑÎÎÏ ×ÙÒÏ×ÎÅÎÎÙÍÉ."
+
+#: ../../WPrefs.app/Icons.c:262
 msgid "Omnipresent miniwindows"
-msgstr "íÉÎÉÏËÎÁ ÐÒÉÓÕÔÓ×ÕÀÔ ×ÅÚÄÅ"
+msgstr "íÉÎÉÏËÎÁ ÐÒÉÓÕÔÓÔ×ÕÀÔ ×ÅÚÄÅ"
 
-#: ../../WPrefs.app/Icons.c:267
+#: ../../WPrefs.app/Icons.c:264
+msgid "Make miniwindows be present in all workspaces."
+msgstr ""
+"óÄÅÌÁÔØ ÍÉÎÉÏËÎÁ ÐÒÉÓÕÔÓÔ×ÕÀÝÉÍÉ ÓÒÁÚÕ ÎÁ ×ÓÅÈ\n"
+"ÒÁÂÏÞÉÈ ÐÒÏÓÔÒÁÎÓÔ×ÁÈ."
+
+#: ../../WPrefs.app/Icons.c:273
 msgid "Icon Size"
 msgstr "òÁÚÍÅÒ ÉËÏÎÏË"
 
-#: ../../WPrefs.app/Icons.c:337
+#: ../../WPrefs.app/Icons.c:275
+msgid "The size of the dock/application icon and miniwindows"
+msgstr "òÁÚÍÅÒ ÍÉÎÉÏËÏÎ É ÉËÏÎÏË ÐÒÉÌÏÖÅÎÉÊ/ÄÏËÁ"
+
+#: ../../WPrefs.app/Icons.c:345
 msgid "Icon Preferences"
 msgstr "õÓÔÁÎÏ×ËÉ ÄÌÑ ÉËÏÎÏË"
 
-#: ../../WPrefs.app/KeyboardSettings.c:72
+#: ../../WPrefs.app/Icons.c:347
+msgid ""
+"Icon/Miniwindow handling options. Icon positioning\n"
+"area, sizes of icons, miniaturization animation style."
+msgstr ""
+"ðÁÒÁÍÅÔÒÙ ÏÂÒÁÂÏÔËÉ ÉËÏÎÏË É ÍÉÎÉÏËÏÎ.  òÁÚÍÅÝÅÎÉÅ ÉËÏÎÏË,\n"
+"ÒÁÚÍÅÒ ÉËÏÎÏË, × ËÁËÏÍ ÓÔÉÌÅ ÁÎÉÍÉÒÏ×ÁÔØ Ó×ÏÒÁÞÉ×ÁÎÉÅ."
+
+#: ../../WPrefs.app/imagebrowser.c:95
+msgid "View"
+msgstr ""
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:306 ../../WPrefs.app/Menu.c:360
+#: ../../WPrefs.app/TexturePanel.c:1534 ../../WPrefs.app/imagebrowser.c:100
+msgid "Cancel"
+msgstr "ïÔÍÅÎÁ"
+
+#: ../../WPrefs.app/KeyboardSettings.c:73
 msgid "Initial Key Repeat"
 msgstr ""
 
-#: ../../WPrefs.app/KeyboardSettings.c:113
+#: ../../WPrefs.app/KeyboardSettings.c:114
 msgid "Key Repeat Rate"
-msgstr "óËÏÒÏÓÔØ ÐÏ×ÔÏÒÅÎÉÑ ËÌÁÉÛÉ"
+msgstr "óËÏÒÏÓÔØ ÐÏ×ÔÏÒÅÎÉÑ ËÌÁ×ÉÛÉ"
 
-#: ../../WPrefs.app/KeyboardSettings.c:153
+#: ../../WPrefs.app/KeyboardSettings.c:154
 msgid "Type here to test"
-msgstr "äÌÑ ÔÅÓÔÁ ðÉÛÉÔÅ ÓÀÄÁ"
+msgstr "äÌÑ ÔÅÓÔÁ ÐÉÛÉÔÅ ÓÀÄÁ"
 
-#: ../../WPrefs.app/KeyboardSettings.c:172
+#: ../../WPrefs.app/KeyboardSettings.c:173
 msgid "Keyboard Preferences"
 msgstr "õÓÔÁÎÏ×ËÉ ÄÌÑ ËÌÁ×ÉÁÔÕÒÙ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:183 ../../WPrefs.app/Menu.c:973 ../../WPrefs.app/MenuGuru.c:263 ../../WPrefs.app/TexturePanel.c:1511
-msgid "Cancel"
-msgstr "ïÔÍÅÎÁ"
+#: ../../WPrefs.app/KeyboardSettings.c:175
+msgid "Not done"
+msgstr "îÅ ÚÁËÏÎÞÅÎÏ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:184
+#: ../../WPrefs.app/KeyboardShortcuts.c:307
 msgid "Press the desired shortcut key(s) or click Cancel to stop capturing."
 msgstr "îÁÖÍÉÔÅ ËÌÁ×ÉÛÕ(Ù) ÉÌÉ ÎÁÖÍÉÔÅ ïÔÍÅÎÁ ÄÌÑ ÏÓÔÁÎÏ×ËÉ."
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:204 ../../WPrefs.app/KeyboardShortcuts.c:444 ../../WPrefs.app/Menu.c:985 ../../WPrefs.app/Menu.c:1204
+#: ../../WPrefs.app/KeyboardShortcuts.c:327
+#: ../../WPrefs.app/KeyboardShortcuts.c:577 ../../WPrefs.app/Menu.c:371
+#: ../../WPrefs.app/Menu.c:830
 msgid "Capture"
 msgstr "úÁÈ×ÁÔ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:205 ../../WPrefs.app/KeyboardShortcuts.c:451
+#: ../../WPrefs.app/KeyboardShortcuts.c:328
+#: ../../WPrefs.app/KeyboardShortcuts.c:585
 msgid "Click Capture to interactively define the shortcut key."
-msgstr "îÁÖÍÉÔÅ úÁÈ×ÁÔ ÞÔÏÂÙ ÏÐÒÅÄÅÌÉÔØ shortcut."
+msgstr "îÁÖÍÉÔÅ \"úÁÈ×ÁÔ\" ÞÔÏÂÙ ÏÐÒÅÄÅÌÉÔØ ÇÏÒÑÞÕÀ ËÌÁ×ÉÛÕ(Ù)."
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:359
+#: ../../WPrefs.app/KeyboardShortcuts.c:483
 msgid "Actions"
 msgstr "äÅÊÓÔ×ÉÑ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:375
+#: ../../WPrefs.app/KeyboardShortcuts.c:499
 msgid "Open applications menu"
 msgstr "ïÔËÒÙÔØ ÍÅÎÀ ÐÒÉÌÏÖÅÎÉÊ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:376
+#: ../../WPrefs.app/KeyboardShortcuts.c:500
 msgid "Open window list menu"
 msgstr "óÐÉÓÏË ÏËÏÎ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:377
+#: ../../WPrefs.app/KeyboardShortcuts.c:501
 msgid "Open window commands menu"
 msgstr "ëÏÍÁÎÄÙ ÄÌÑ ÏËÎÁ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:378
+#: ../../WPrefs.app/KeyboardShortcuts.c:502
 msgid "Hide active application"
 msgstr "óËÒÙÔØ ÁËÔÉ×ÎÏÅ ÐÒÉÌÏÖÅÎÉÅ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:379
+#: ../../WPrefs.app/KeyboardShortcuts.c:503
+msgid "Hide other applications"
+msgstr "óËÒÙÔØ ÄÒÕÇÉÅ ÐÒÉÌÏÖÅÎÉÑ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:504
 msgid "Miniaturize active window"
 msgstr "ó×ÅÒÎÕÔØ ÁËÔÉ×ÎÏÅ ÏËÎÏ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:380
+#: ../../WPrefs.app/KeyboardShortcuts.c:505
 msgid "Close active window"
 msgstr "úÁËÒÙÔØ ÁËÔÉ×ÎÏÅ ÏËÎÏ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:381
+#: ../../WPrefs.app/KeyboardShortcuts.c:506
 msgid "Maximize active window"
-msgstr "òÁÓÔÑÎÕÔØ ÁËÔÉ×ÎÏÅ ÏËÎÏ"
+msgstr "òÁÓÐÁÈÎÕÔØ ÁËÔÉ×ÎÏÅ ÏËÎÏ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:382
+#: ../../WPrefs.app/KeyboardShortcuts.c:507
 msgid "Maximize active window vertically"
-msgstr "òÁÓÔÑÎÕÔØ ÁËÔÉ×ÎÏÅ ÏËÎÏ ÐÏ ×ÅÒÔÉËÁÌÉ"
+msgstr "òÁÓÐÁÈÎÕÔØ ÁËÔÉ×ÎÏÅ ÏËÎÏ ÐÏ ×ÅÒÔÉËÁÌÉ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:508
+msgid "Maximize active window horizontally"
+msgstr "òÁÓÐÁÈÎÕÔØ ÁËÔÉ×ÎÏÅ ÏËÎÏ ÐÏ ×ÅÒÔÉËÁÌÉ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:509
+msgid "Raise active window"
+msgstr "áËÔÉ×ÎÏÅ ÏËÎÏ ÎÁ×ÅÒÈ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:510
+msgid "Lower active window"
+msgstr "áËÔÉ×ÎÏÅ ÏËÎÏ ×ÎÉÚ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:511
+msgid "Raise/Lower window under mouse pointer"
+msgstr "÷×ÅÒÈ/÷ÎÉÚ ÁËÔÉ×ÎÏÅ ÏËÎÏ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:512
+msgid "Shade active window"
+msgstr "÷ÔÑÎÕÔØ ÁËÔÉ×ÎÏÅ ÏËÎÏ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:513
+msgid "Move/Resize active window"
+msgstr "ðÅÒÅÍÅÓÔÉÔØ/ÉÚÍÅÎÉÔØ ÒÁÚÍÅÒ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:514
+msgid "Select active window"
+msgstr "ðÏÍÅÔÉÔØ ÁËÔÉ×ÎÏÅ ÏËÎÏ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:515
+msgid "Focus next window"
+msgstr "óÌÅÄÕÀÝÅÅ ÏËÎÏ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:516
+msgid "Focus previous window"
+msgstr "ðÒÅÄÙÄÕÝÅÅ ÏËÎÏ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:517
+msgid "Switch to next workspace"
+msgstr "óÌÅÄÕÀÝÅÅ ÒÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:518
+msgid "Switch to previous workspace"
+msgstr "ðÒÅÄÙÄÕÝÅÅ ÒÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:519
+msgid "Switch to next ten workspaces"
+msgstr "óÌÅÄÕÀÝÉÅ 10 ÒÁÂÏÞÉÈ ÐÒÏÓÔÒÁÎÓÔ×"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:520
+msgid "Switch to previous ten workspaces"
+msgstr "ðÒÅÄÙÄÕÝÉÅ 10 ÒÁÂÏÞÉÈ ÐÒÏÓÔÒÁÎÓÔ×"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:521
+msgid "Switch to workspace 1"
+msgstr "òÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï 1"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:522
+msgid "Switch to workspace 2"
+msgstr "òÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï 2"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:523
+msgid "Switch to workspace 3"
+msgstr "òÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï 3"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:524
+msgid "Switch to workspace 4"
+msgstr "òÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï 4"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:525
+msgid "Switch to workspace 5"
+msgstr "òÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï 5"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:526
+msgid "Switch to workspace 6"
+msgstr "òÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï 6"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:527
+msgid "Switch to workspace 7"
+msgstr "òÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï 7"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:528
+msgid "Switch to workspace 8"
+msgstr "òÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï 8"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:529
+msgid "Switch to workspace 9"
+msgstr "òÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï 9"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:530
+msgid "Switch to workspace 10"
+msgstr "òÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï 10"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:531
+msgid "Shortcut for window 1"
+msgstr "çÏÒÑÞÁÑ ËÌÁ×ÉÛÁ 1"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:532
+msgid "Shortcut for window 2"
+msgstr "çÏÒÑÞÁÑ ËÌÁ×ÉÛÁ 2"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:533
+msgid "Shortcut for window 3"
+msgstr "çÏÒÑÞÁÑ ËÌÁ×ÉÛÁ 3"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:534
+msgid "Shortcut for window 4"
+msgstr "çÏÒÑÞÁÑ ËÌÁ×ÉÛÁ 4"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:535
+msgid "Shortcut for window 5"
+msgstr "çÏÒÑÞÁÑ ËÌÁ×ÉÛÁ 5"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:536
+msgid "Shortcut for window 6"
+msgstr "çÏÒÑÞÁÑ ËÌÁ×ÉÛÁ 6"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:537
+msgid "Shortcut for window 7"
+msgstr "çÏÒÑÞÁÑ ËÌÁ×ÉÛÁ 7"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:538
+msgid "Shortcut for window 8"
+msgstr "çÏÒÑÞÁÑ ËÌÁ×ÉÛÁ 8"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:539
+msgid "Shortcut for window 9"
+msgstr "çÏÒÑÞÁÑ ËÌÁ×ÉÛÁ 9"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:540
+msgid "Shortcut for window 10"
+msgstr "çÏÒÑÞÁÑ ËÌÁ×ÉÛÁ 10"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:541
+msgid "Switch to Next Screen/Monitor"
+msgstr "óÌÅÄÕÀÝÉÊ ÜËÒÁÎ/ÍÏÎÉÔÏÒ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:542
+msgid "Raise Clip"
+msgstr "ðÏÄÎÑÔØ óËÒÅÐËÕ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:543
+msgid "Lower Clip"
+msgstr "ïÐÕÓÔÉÔØ óËÒÅÐËÕ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:544
+msgid "Raise/Lower Clip"
+msgstr "ðÏÄÎÑÔØ/ïÐÕÓÔÉÔØ óËÒÅÐËÕ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:546
+msgid "Toggle keyboard language"
+msgstr "ðÅÒÅËÌÀÞÉÔØ ÑÚÙË ËÌÁ×ÉÁÔÕÒÙ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:560
+msgid "Shortcut"
+msgstr "çÏÒÑÞÁÑ ËÌÁ×ÉÛÁ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:571 ../../WPrefs.app/Menu.c:836
+msgid "Clear"
+msgstr "ïÞÉÓÔÉÔØ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:633
+msgid "Keyboard Shortcut Preferences"
+msgstr "çÏÒÑÞÉÅ ËÌÁ×ÉÛÉ"
+
+#: ../../WPrefs.app/KeyboardShortcuts.c:635
+msgid ""
+"Change the keyboard shortcuts for actions such\n"
+"as changing workspaces and opening menus."
+msgstr ""
+"éÚÍÅÎÉÔØ ÐÒÉ×ÑÚËÕ ËÌÁ×ÉÛ ÄÌÑ ÆÕÎËÃÉÊ ÎÁÐÏÄÏÂÉÅ\n"
+"`ÐÅÒÅËÌÀÞÉÔØ ÒÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï' É `ÏÔËÒÙÔØ ÍÅÎÀ'."
+
+#: ../../WPrefs.app/main.c:59
+#, c-format
+msgid "usage: %s [options]\n"
+msgstr "úÁÐÕÓË: %s [ÐÁÒÁÍÅÔÒÙ]\n"
+
+#: ../../WPrefs.app/main.c:60
+msgid "options:"
+msgstr "ðÁÒÁÍÅÔÒÙ:"
+
+#: ../../WPrefs.app/main.c:61
+msgid " -display <display>\tdisplay to be used"
+msgstr " -display <ÄÉÓÐÌÅÊ>\tX ÄÉÓÐÌÅÊ ÄÌÑ ÉÓÐÏÌØÚÏ×ÁÎÉÑ"
+
+#: ../../WPrefs.app/main.c:62
+msgid " --version\t\tprint version number and exit"
+msgstr " --version\t\tÐÏËÁÚÁÔØ ÎÏÍÅÒ ×ÅÒÓÉÉ É ×ÙÊÔÉ"
+
+#: ../../WPrefs.app/main.c:63
+msgid " --help\t\tprint this message and exit"
+msgstr " --help\t\tÐÏËÁÚÁÔØ ÜÔÏ ÓÏÏÂÝÅÎÉÅ É ×ÙÊÔÉ"
+
+#: ../../WPrefs.app/main.c:122
+#, c-format
+msgid "too few arguments for %s"
+msgstr "ÓÌÉÛËÏÍ ÍÁÌÏ ÁÒÇÕÍÅÎÔÏ× ÄÌÑ %s"
+
+#: ../../WPrefs.app/main.c:144
+msgid "X server does not support locale"
+msgstr "X ÓÅÒ×ÅÒ ÎÅ ÐÏÄÄÅÒÖÉ×ÁÅÔ locale"
+
+#: ../../WPrefs.app/main.c:147
+msgid "cannot set locale modifiers"
+msgstr "ÎÅ ÐÏÌÕÞÁÅÔÓÑ ÕÓÔÁÎÏ×ÉÔØ ÍÏÄÉÆÉËÁÔÏÒÙ ÌÏËÁÌÉÚÁÃÉÉ"
+
+#: ../../WPrefs.app/main.c:153
+#, c-format
+msgid "could not open display %s"
+msgstr "ÎÅ ÍÏÇÕ ÏÔËÒÙÔØ ÄÉÓÐÌÅÊ %s"
+
+#: ../../WPrefs.app/main.c:161
+msgid "could not initialize application"
+msgstr "ÎÅ ÐÏÌÕÞÁÅÔÓÑ ÉÎÉÃÉÁÌÉÚÉÒÏ×ÁÔØ ÐÒÉÌÏÖÅÎÉÅ"
+
+#: ../../WPrefs.app/Menu.c:278
+msgid "Select Program"
+msgstr "÷ÙÂÅÒÉÔÅ ÐÒÏÇÒÁÍÍÕ"
+
+#: ../../WPrefs.app/Menu.c:510
+msgid "New Items"
+msgstr "îÏ×ÙÅ ÜÌÅÍÅÎÔÙ"
+
+#: ../../WPrefs.app/Menu.c:511
+msgid "Sample Commands"
+msgstr "ðÒÉÍÅÒÙ ËÏÍÁÎÄ"
+
+#: ../../WPrefs.app/Menu.c:512
+msgid "Sample Submenus"
+msgstr "ðÒÉÍÅÒÙ ÐÏÄÍÅÎÀ"
+
+#: ../../WPrefs.app/Menu.c:526
+msgid "Run Program"
+msgstr "úÁÐÕÓË ÐÒÏÇÒÁÍÍÙ"
+
+#: ../../WPrefs.app/Menu.c:527
+msgid "Internal Command"
+msgstr "÷ÎÕÔÒÅÎÎÑÑ ËÏÍÁÎÄÁ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:383
-msgid "Raise active window"
-msgstr "áËÔÉ×ÎÏÅ ÏËÎÏ ÎÁ×ÅÒÈ"
+#: ../../WPrefs.app/Menu.c:528
+msgid "Submenu"
+msgstr "ðÏÄÍÅÎÀ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:384
-msgid "Lower active window"
-msgstr "áËÔÉ×ÎÏÅ ÏËÎÏ ×ÎÉÚ"
+#: ../../WPrefs.app/Menu.c:529
+msgid "External Submenu"
+msgstr "÷ÎÅÛÎÅÅ ÐÏÄÍÅÎÀ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:385
-msgid "Raise/Lower window under mouse pointer"
-msgstr "÷×ÅÒÈ/÷ÎÉÚ ÁËÔÉ×ÎÏÅ ÏËÎÏ"
+#: ../../WPrefs.app/Menu.c:530
+msgid "Generated Submenu"
+msgstr "óÇÅÎÅÒÉÒÏ×ÁÎÎÏÅ ÐÏÄÍÅÎÀ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:386
-msgid "Shade active window"
-msgstr "÷ÔÑÎÕÔØ ÁËÔÉ×ÎÏÅ ÏËÎÏ"
+#: ../../WPrefs.app/Menu.c:531
+msgid "Directory Contents"
+msgstr "óÏÄÅÒÖÁÎÉÅ ËÁÔÁÌÏÇÁ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:387
-msgid "Move/Resize active window"
-msgstr "ðÅÒÅÍÅÓÔÉÔØ/ÉÚÍÅÎÉÔØ ÒÁÚÍÅÒ"
+#: ../../WPrefs.app/Menu.c:532
+msgid "Workspace Menu"
+msgstr "íÅÎÀ ÒÁÂÏÞÉÈ ÐÒÏÓÔÒÁÎÓÔ×"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:388
-msgid "Select active window"
-msgstr "ïÔÍÅÔÉÔØ ÁËÔÉ×ÎÏÅ ÏËÎÏ"
+#: ../../WPrefs.app/Menu.c:533 ../../WPrefs.app/MouseSettings.c:840
+msgid "Window List Menu"
+msgstr "íÅÎÀ ÓÐÉÓËÁ ÏËÏÎ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:389
-msgid "Focus next window"
-msgstr "óÌÅÄÕÀÝÅÅ ÏËÎÏ"
+#: ../../WPrefs.app/Menu.c:552
+msgid "XTerm"
+msgstr "XTerm"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:390
-msgid "Focus previous window"
-msgstr "ðÒÅÄÙÄÕÝÅÅ ÏËÎÏ"
+#: ../../WPrefs.app/Menu.c:555
+msgid "rxvt"
+msgstr "rxvt"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:391
-msgid "Switch to next workspace"
-msgstr "óÌÅÄÕÝÅÅ ÒÁÂÏÞÅÅ ÍÅÓÔÏ"
+#: ../../WPrefs.app/Menu.c:558
+msgid "ETerm"
+msgstr "ETerm"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:392
-msgid "Switch to previous workspace"
-msgstr "ðÒÅÄÙÄÕÝÅÅ ÒÁÂÏÞÅÅ ÍÅÓÔÏ"
+#: ../../WPrefs.app/Menu.c:561
+msgid "Run..."
+msgstr ""
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:393
-msgid "Switch to next ten workspaces"
-msgstr "óÌÅÄÕÝÉÅ 10 ÒÁÂÏÞÉÈ ÍÅÓÔ"
+#: ../../WPrefs.app/Menu.c:562
+msgid "%a(Run,Type command to run)"
+msgstr ""
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:394
-msgid "Switch to previous ten workspaces"
-msgstr "ðÒÅÄÙÄÕÝÉÅ 10 ÒÁÂÏÞÉÈ ÍÅÓÔ"
+#: ../../WPrefs.app/Menu.c:564
+msgid "Netscape"
+msgstr "Netscape"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:395
-msgid "Switch to workspace 1"
-msgstr "òÁÂÏÞÅÅ ÍÅÓÔÏ 1"
+#: ../../WPrefs.app/Menu.c:567
+msgid "gimp"
+msgstr "gimp"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:396
-msgid "Switch to workspace 2"
-msgstr "òÁÂÏÞÅÅ ÍÅÓÔÏ 2"
+#: ../../WPrefs.app/Menu.c:570
+msgid "epic"
+msgstr "epic"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:397
-msgid "Switch to workspace 3"
-msgstr "òÁÂÏÞÅÅ ÍÅÓÔÏ 3"
+#: ../../WPrefs.app/Menu.c:573
+msgid "ee"
+msgstr "ee"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:398
-msgid "Switch to workspace 4"
-msgstr "òÁÂÏÞÅÅ ÍÅÓÔÏ 4"
+#: ../../WPrefs.app/Menu.c:576
+msgid "xv"
+msgstr "xv"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:399
-msgid "Switch to workspace 5"
-msgstr "òÁÂÏÞÅÅ ÍÅÓÔÏ 5"
+#: ../../WPrefs.app/Menu.c:579
+msgid "Acrobat Reader"
+msgstr "Acrobat Reader"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:400
-msgid "Switch to workspace 6"
-msgstr "òÁÂÏÞÅÅ ÍÅÓÔÏ 6"
+#: ../../WPrefs.app/Menu.c:582
+msgid "ghostview"
+msgstr "ghostview"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:401
-msgid "Switch to workspace 7"
-msgstr "òÁÂÏÞÅÅ ÍÅÓÔÏ 7"
+#: ../../WPrefs.app/Menu.c:585 ../../WPrefs.app/Menu.c:857
+msgid "Exit Window Maker"
+msgstr "÷ÙÊÔÉ ÉÚ Window Maker'Á"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:402
-msgid "Switch to workspace 8"
-msgstr "òÁÂÏÞÅÅ ÍÅÓÔÏ 8"
+#: ../../WPrefs.app/Menu.c:608
+msgid "Debian Menu"
+msgstr ""
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:403
-msgid "Switch to workspace 9"
-msgstr "òÁÂÏÞÅÅ ÍÅÓÔÏ 9"
+#: ../../WPrefs.app/Menu.c:611
+msgid "RedHat Menu"
+msgstr ""
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:404
-msgid "Switch to workspace 10"
-msgstr "òÁÂÏÞÅÅ ÍÅÓÔÏ 10"
+#: ../../WPrefs.app/Menu.c:614
+msgid "Menu Conectiva"
+msgstr ""
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:405
-msgid "Shortcut for window 1"
-msgstr "õÓËÏÒÉÔÅÌØ 1"
+#: ../../WPrefs.app/Menu.c:617 ../../WPrefs.app/Themes.c:250
+msgid "Themes"
+msgstr "ôÅÍÙ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:406
-msgid "Shortcut for window 2"
-msgstr "õÓËÏÒÉÔÅÌØ 2"
+#: ../../WPrefs.app/Menu.c:622
+msgid "Bg Images (scale)"
+msgstr ""
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:407
-msgid "Shortcut for window 3"
-msgstr "õÓËÏÒÉÔÅÌØ 3"
+#: ../../WPrefs.app/Menu.c:627
+msgid "Bg Images (tile)"
+msgstr ""
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:408
-msgid "Shortcut for window 4"
-msgstr "õÓËÏÒÉÔÅÌØ 4"
+#: ../../WPrefs.app/Menu.c:632
+msgid "Assorted XTerms"
+msgstr "òÁÚÌÉÞÎÙÅ XTerm'Ù"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:409
-msgid "Raise Clip"
-msgstr "Clip ÎÁ×ÅÒÈ"
+#: ../../WPrefs.app/Menu.c:634
+msgid "XTerm Yellow on Blue"
+msgstr "XTerm (ÖÅÌÔÏÅ ÎÁ ÓÉÎÅÍ)"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:410
-msgid "Lower Clip"
-msgstr "Clip ×ÎÉÚ"
+#: ../../WPrefs.app/Menu.c:637
+msgid "XTerm White on Black"
+msgstr "XTerm (ÂÅÌÏÅ ÎÁ ÞÅÒÎÏÍ)"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:411
-msgid "Raise/Lower Clip"
-msgstr "÷×ÅÒÈ/×ÎÉÚ Clip"
+#: ../../WPrefs.app/Menu.c:640
+msgid "XTerm Black on White"
+msgstr "XTerm (ÞÅÒÎÏÅ ÎÁ ÂÅÌÏÍ)"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:413
-msgid "Toggle keyboard language"
-msgstr "ðÅÒÅËÌÀÞÉÔØ ÑÚÙË ËÌÁ×ÉÁÔÕÒÙ"
+#: ../../WPrefs.app/Menu.c:643
+msgid "XTerm Black on Beige"
+msgstr "XTerm (ÞÅÒÎÏÅ ÎÁ ÓÅÒÏ-ÚÅÌÅÎÏÍ)"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:427 ../../WPrefs.app/Menu.c:1193
-msgid "Shortcut"
-msgstr "õÓËÏÒÉÔÅÌØ"
+#: ../../WPrefs.app/Menu.c:646
+msgid "XTerm White on Green"
+msgstr "XTerm (ÂÅÌÏÅ ÎÁ ÚÅÌÅÎÏÍ)"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:438
-msgid "Clear"
-msgstr "ïÞÉÓÔÉÔØ"
+#: ../../WPrefs.app/Menu.c:649
+msgid "XTerm White on Olive"
+msgstr "XTerm (ÂÅÌÏÅ ÎÁ ÔÅÍÎÏ-ÏÌÉ×ËÏ×ÏÍ)"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:499
-msgid "Keyboard Shortcut Preferences"
-msgstr "çÏÒÑÞÉÅ ËÌÁ×ÉÛÉ"
+#: ../../WPrefs.app/Menu.c:652
+msgid "XTerm Blue on Blue"
+msgstr "XTerm (ÓÅÒÏ-ÓÉÎÅÅ ÎÁ ÔÅÍÎÏ-ÓÅÒÏ-ÓÉÎÅÍ)"
 
-#: ../../WPrefs.app/Menu.c:404
-msgid "Window Manager"
-msgstr "íÅÎÅÄÖÅÒ ÏËÏÎ"
-
-#: ../../WPrefs.app/Menu.c:406
-msgid "Program to open files"
-msgstr "ðÒÏÇÒÁÍÍÁ ÄÌÑ ÏÔËÒÙÔÉÑ ÆÁÊÌÏ×"
+#: ../../WPrefs.app/Menu.c:655
+msgid "XTerm BIG FONTS"
+msgstr "XTerm (ÛÒÉÆÔ 10x20)"
 
-#: ../../WPrefs.app/Menu.c:408 ../../WPrefs.app/Menu.c:1180
+#: ../../WPrefs.app/Menu.c:677
 msgid "Program to Run"
 msgstr "ðÒÏÇÒÁÍÍÁ"
 
-#: ../../WPrefs.app/Menu.c:457 ../../WPrefs.app/Menu.c:458
-msgid "New Command %i"
-msgstr "îÏ×ÁÑ ËÏÍÁÎÄÁ %i"
-
-#: ../../WPrefs.app/Menu.c:465
-msgid "New Submenu"
-msgstr "îÏ×ÏÅ ÍÅÎÀ"
-
-#: ../../WPrefs.app/Menu.c:470
-msgid "External Menu"
-msgstr "÷ÎÅÛÎÅÅ ÍÅÎÀ"
-
-#: ../../WPrefs.app/Menu.c:477
-msgid "Workspaces"
-msgstr "òÁÂÏÞÉÅ ÍÅÓÔÁ"
-
-#: ../../WPrefs.app/Menu.c:1064 ../../WPrefs.app/Menu.c:1079
-msgid "Commands"
-msgstr "äÅÊÓÔ×ÉÅ"
-
-#: ../../WPrefs.app/Menu.c:1065 ../../WPrefs.app/Menu.c:1080
-msgid "Add Command"
-msgstr "äÏÂÁ×ÉÔØ ËÏÍÁÎÄÕ"
-
-#: ../../WPrefs.app/Menu.c:1066 ../../WPrefs.app/Menu.c:1081
-msgid "Add Submenu"
-msgstr "äÏÂÁ×ÉÔØ ÍÅÎÀ"
-
-#: ../../WPrefs.app/Menu.c:1067 ../../WPrefs.app/Menu.c:1082
-msgid "Add External Menu"
-msgstr "äÏÂÁ×ÉÔØ ×ÎÅÛÎÅÅ ÍÅÎÀ"
-
-#: ../../WPrefs.app/Menu.c:1068 ../../WPrefs.app/Menu.c:1083
-msgid "Add Workspace Menu"
-msgstr "äÏÂÁ×ÉÔØ ÍÅÎÀ òÁÂÏÞÉÅ ÍÅÓÔÁ"
-
-#: ../../WPrefs.app/Menu.c:1069 ../../WPrefs.app/Menu.c:1084
-msgid "Remove Item"
-msgstr "õÄÁÌÉÔØ"
+#: ../../WPrefs.app/Menu.c:687
+msgid "Browse"
+msgstr "÷ÙÂÒÁÔØ"
+
+#: ../../WPrefs.app/Menu.c:698
+msgid "Run the program inside a Xterm"
+msgstr "úÁÐÕÓËÁÔØ × XTerm'Å"
+
+#: ../../WPrefs.app/Menu.c:708
+msgid "Path for Menu"
+msgstr "ðÕÔØ Ë ÍÅÎÀ"
 
-#: ../../WPrefs.app/Menu.c:1070 ../../WPrefs.app/Menu.c:1085
-msgid "Cut Item"
-msgstr "÷ÙÒÅÚÁÔØ"
-
-#: ../../WPrefs.app/Menu.c:1071 ../../WPrefs.app/Menu.c:1086
-msgid "Copy Item"
-msgstr "ëÏÐÉÒÏ×ÁÔØ"
-
-#: ../../WPrefs.app/Menu.c:1072 ../../WPrefs.app/Menu.c:1087
-msgid "Paste Item"
-msgstr "÷ÓÔÁ×ÉÔØ"
-
-#: ../../WPrefs.app/Menu.c:1116
-msgid "Label"
-msgstr "íÅÔËÁ"
+#: ../../WPrefs.app/Menu.c:721
+msgid ""
+"Enter the path for a file containing a menu\n"
+"or a list of directories with the programs you\n"
+"want to have listed in the menu. Ex:\n"
+"~/GNUstep/Library/WindowMaker/menu\n"
+"or\n"
+"/usr/X11R6/bin ~/xbin"
+msgstr ""
+"÷×ÅÄÉÔÅ ÐÕÔØ Ë ÆÁÊÌÕ, ÓÏÄÅÒÖÁÝÅÍÕ ÍÅÎÀ,\n"
+"ÉÌÉ ÓÐÉÓÏË Ó ÐÒÏÇÒÁÍÍÁÍÉ, ËÏÔÏÒÙÅ ×Ù ÈÏÔÉÔÅ\n"
+"×ÉÄÅÔØ ÐÅÒÅÞÉÓÌÅÎÎÙÍÉ × ÍÅÎÀ,  îÁÐÒÉÍÅÒ:\n"
+"    ~/GNUstep/Library/WindowMaker/menu\n"
+"ÉÌÉ\n"
+"    /usr/X11R6/bin ~/xbin"
 
-#: ../../WPrefs.app/Menu.c:1129
+#: ../../WPrefs.app/Menu.c:736
 msgid "Command"
 msgstr "ëÏÍÁÎÄÁ"
 
-#: ../../WPrefs.app/Menu.c:1134
-msgid "Run Program"
-msgstr "úÁÐÕÓË ÐÒÏÇÒÁÍÍÙ"
+#: ../../WPrefs.app/Menu.c:750
+msgid ""
+"Enter a command that outputs a menu\n"
+"definition to stdout when invoked."
+msgstr ""
+"÷×ÅÄÉÔÅ ËÏÍÁÎÄÕ, ËÏÔÏÒÁÑ, ÂÕÄÕÞÉ ÉÓÐÏÌÎÅÎÎÏÊ,\n"
+"×Ù×ÏÄÉÔ ÎÁ stdout ÏÐÒÅÄÅÌÅÎÉÅ ÍÅÎÀ."
+
+#: ../../WPrefs.app/Menu.c:758
+msgid ""
+"Cache menu contents after opening for\n"
+"the first time"
+msgstr "ëÜÛÉÒÏ×ÁÔØ ÓÏÄÅÒÖÉÍÏÅ ÍÅÎÀ"
+
+#: ../../WPrefs.app/Menu.c:769
+msgid "Command to Open Files"
+msgstr "ëÏÍÁÎÄÁ ÄÌÑ ÏÔËÒÙÔÉÑ ÆÁÊÌÏ×"
+
+#: ../../WPrefs.app/Menu.c:783
+msgid ""
+"Enter the command you want to use to open the\n"
+"files in the directories listed below."
+msgstr ""
+"÷×ÅÄÉÔÅ ËÏÍÁÎÄÕ, ËÏÔÏÒÕÀ ×Ù ÈÏÔÉÔÅ ÉÓÐÏÌØÚÏ×ÁÔØ ÄÌÑ\n"
+"ÏÔËÒÙÔÉÑ ÆÁÊÌÏ× × ËÁÔÁÌÏÇÁÈ, ÐÅÒÅÞÉÓÌÅÎÎÙÈ ÎÉÖÅ."
+
+#: ../../WPrefs.app/Menu.c:792
+msgid "Directories with Files"
+msgstr "ëÁÔÁÌÏÇÉ Ó ÆÁÊÌÁÍÉ"
+
+#: ../../WPrefs.app/Menu.c:805
+msgid "Strip extensions from file names"
+msgstr "óËÒÙÔØ ÒÁÓÛÉÒÅÎÉÑ ÆÁÊÌÏ×"
+
+#: ../../WPrefs.app/Menu.c:817
+msgid "Keyboard Shortcut"
+msgstr "çÏÒÑÞÁÑ ËÌÁ×ÉÛÁ"
 
-#: ../../WPrefs.app/Menu.c:1135
+#: ../../WPrefs.app/Menu.c:853
 msgid "Arrange Icons"
-msgstr "÷ÙÒÏ×ÎÑÔØ ÚÎÁÞËÉ"
+msgstr "÷ÙÒÏ×ÎÑÔØ ÉËÏÎËÉ"
 
-#: ../../WPrefs.app/Menu.c:1136
-msgid "Hide Others"
-msgstr "óËÒÙÔØ ÏÓÔÁÌØÎÙÅ"
+#: ../../WPrefs.app/Menu.c:854
+msgid "Hide All Windows Except For The Focused One"
+msgstr "óËÒÙÔØ ×ÓÅ ÏËÎÁ, ËÒÏÍÅ ÁËÔÉ×ÎÏÇÏ"
 
-#: ../../WPrefs.app/Menu.c:1137
+#: ../../WPrefs.app/Menu.c:855
 msgid "Show All Windows"
-msgstr "ðÏËÁÚÁÔØ ×ÓÅ"
+msgstr "ðÏËÁÚÁÔØ ×ÓÅ ÏËÎÁ"
 
-#: ../../WPrefs.app/Menu.c:1138
-msgid "Exit WindowMaker"
-msgstr "÷ÙÊÔÉ"
-
-#: ../../WPrefs.app/Menu.c:1139
+#: ../../WPrefs.app/Menu.c:858
 msgid "Exit X Session"
 msgstr "úÁ×ÅÒÛÉÔØ X ÓÅÓÓÉÀ"
 
-#: ../../WPrefs.app/Menu.c:1140
-msgid "Start window manager"
-msgstr "äÒÕÇÏÊ ÍÅÎÅÄÖÅÒ ÏËÏÎ"
-
-#: ../../WPrefs.app/Menu.c:1141
-msgid "Restart WindowMaker"
-msgstr "ðÅÒÅÚÁÐÕÓÔÉÔØ WM"
-
-#: ../../WPrefs.app/Menu.c:1142
-msgid "Save Session"
-msgstr "óÏÈÒÁÎÉÔØ ÓÅÓÓÉÀ"
-
-#: ../../WPrefs.app/Menu.c:1143
-msgid "Clear Session"
-msgstr "ïÞÉÓÔÉÔØ ÓÅÓÓÉÀ"
+#: ../../WPrefs.app/Menu.c:859
+msgid "Restart Window Maker"
+msgstr "ðÅÒÅÚÁÐÕÓÔÉÔØ Window Maker"
+
+#: ../../WPrefs.app/Menu.c:860
+msgid "Start Another Window Manager   : ("
+msgstr "úÁÐÕÓÔÉÔØ ÄÒÕÇÏÊ ÍÅÎÅÄÖÅÒ ÏËÏÎ   : ("
+
+#: ../../WPrefs.app/Menu.c:862
+msgid "Save Current Session"
+msgstr "óÏÈÒÁÎÉÔØ ÔÅËÕÝÕÀ ÓÅÓÓÉÀ"
+
+#: ../../WPrefs.app/Menu.c:863
+msgid "Clear Saved Session"
+msgstr "ïÞÉÓÔÉÔØ ÓÏÈÒÁÎÅÎÎÕÀ ÓÅÓÓÉÀ"
 
-#: ../../WPrefs.app/Menu.c:1144
+#: ../../WPrefs.app/Menu.c:864
 msgid "Refresh Screen"
 msgstr "ïÂÎÏ×ÉÔØ ÜËÒÁÎ"
 
-#: ../../WPrefs.app/Menu.c:1145
-msgid "Info Panel"
-msgstr "éÎÆÏÒÍÁÃÉÑ"
+#: ../../WPrefs.app/Menu.c:865
+msgid "Open Info Panel"
+msgstr "ïÔËÒÙÔØ ÐÁÎÅÌØ `éÎÆÏÒÍÁÃÉÑ'"
+
+#: ../../WPrefs.app/Menu.c:866
+msgid "Open Copyright Panel"
+msgstr "ïÔËÒÙÔØ ÐÁÎÅÌØ `Copyright'"
+
+#: ../../WPrefs.app/Menu.c:872
+msgid "Window Manager to Start"
+msgstr "ëÁËÏÊ ÏËÏÎÎÙÊ ÍÅÎÅÄÖÅÒ ÚÁÐÕÓËÁÔØ"
 
-#: ../../WPrefs.app/Menu.c:1146
-msgid "Legal Panel"
-msgstr ""
+#: ../../WPrefs.app/Menu.c:888
+msgid "Do not confirm action."
+msgstr "âÅÚ ÐÒÅÄÕÐÒÅÖÄÅÎÉÑ"
+
+#: ../../WPrefs.app/Menu.c:898
+msgid ""
+"Instructions:\n"
+"\n"
+" - drag items from the left to the menu to add new items\n"
+" - drag items out of the menu to remove items\n"
+" - drag items in menu to change their position\n"
+" - drag items with Control pressed to copy them\n"
+" - double click in a menu item to change the label\n"
+" - click on a menu item to change related information"
+msgstr ""
+"éÎÓÔÒÕËÃÉÉ:\n"
+"\n"
+" - ÞÔÏÂÙ ÄÏÂÁ×ÉÔØ ÎÏ×ÙÊ ÜÌÅÍÅÎÔ: ÐÅÒÅÔÁÝÉÔÅ ÜÌÅÍÅÎÔ\n"
+"   ÉÚ ÎÁÂÏÒÁ ÓÌÅ×Á ÎÁ ÍÅÎÀ\n"
+" - ÞÔÏÂÙ ÕÄÁÌÉÔØ ÜÌÅÍÅÎÔ: ÐÅÒÅÔÁÝÉÔÅ ÜÌÅÍÅÎÔ ÉÚ\n"
+"   ÍÅÎÀ ÚÁ ÅÇÏ (ÍÅÎÀ) ÐÒÅÄÅÌÙ\n"
+" - ÞÔÏÂÙ ÐÅÒÅÍÅÓÔÉÔØ ÜÌÅÍÅÎÔ: ÐÒÏÓÔÏ ÐÅÒÅÔÁÝÉÔÅ\n"
+"   ÅÇÏ ÎÁ ÎÏ×ÏÅ ÍÅÓÔÏ\n"
+" - ÞÔÏÂÙ ÓËÏÐÉÒÏ×ÁÔØ ÜÌÅÍÅÎÔ: ÐÅÒÅÔÁÝÉÔÅ ÅÇÏ ÎÁ\n"
+"   ÎÏ×ÏÅ ÍÅÓÔÏ ÕÄÅÒÖÉ×ÁÑ ÐÒÉ ÜÔÏÍ ËÌÁ×ÉÛÕ Control\n"
+" - ÞÔÏÂÙ ÐÅÒÅÉÍÅÎÏ×ÁÔØ ÜÌÅÍÅÎÔ: ÝÅÌËÎÉÔÅ ÎÁ ÎÅÍ\n"
+"   Ä×ÁÖÄÙ\n"
+" - ÞÔÏÂÙ ÉÚÍÅÎÉÔØ ÓÏÐÕÔÓÔ×ÕÀÝÕÀ ÉÎÆÏÒÍÁÃÉÀ:\n"
+"   ÏÄÉÎÁÒÎÙÊ ÝÅÌÞÏË ÎÁ ÓÏÏÔ×ÅÔÓÔ×ÕÀÝÅÍ ÜÌÅÍÅÎÔÅ"
+
+#: ../../WPrefs.app/Menu.c:1122
+#, c-format
+msgid "unknown command '%s' in menu"
+msgstr "ÎÅÉÚ×ÅÓÔÎÁÑ ËÏÍÁÎÄÁ '%s' × ÍÅÎÀ"
 
 #: ../../WPrefs.app/Menu.c:1154
-msgid "Open workspace menu"
-msgstr "òÁÂÏÞÉÅ ÍÅÓÔÁ"
+msgid ": Execute Program"
+msgstr ": úÁÐÕÓÔÉÔØ ÐÒÏÇÒÁÍÍÕ"
 
-#: ../../WPrefs.app/Menu.c:1161
-msgid "No confirmation panel"
-msgstr "âÅÚ ÐÒÅÄÕÐÒÅÖÄÅÎÉÑ"
+#: ../../WPrefs.app/Menu.c:1158
+msgid ": Perform Internal Command"
+msgstr ": éÓÐÏÌÎÉÔØ ×ÎÕÔÒÅÎÎÀÀ ËÏÍÁÎÄÕ"
+
+#: ../../WPrefs.app/Menu.c:1162
+msgid ": Open a Submenu"
+msgstr ": ïÔËÒÙÔØ ÐÏÄÍÅÎÀ"
+
+#: ../../WPrefs.app/Menu.c:1166
+msgid ": Program Generated Submenu"
+msgstr ": óÇÅÎÅÒÉÒÏ×ÁÎÎÏÅ ÐÏÄÍÅÎÀ"
+
+#: ../../WPrefs.app/Menu.c:1170
+msgid ": Directory Contents Menu"
+msgstr ": íÅÎÀ ÓÏÄÅÒÖÁÎÉÑ ËÁÔÁÌÏÇÁ"
+
+#: ../../WPrefs.app/Menu.c:1174
+msgid ": Open Workspaces Submenu"
+msgstr ": ðÏÄÍÅÎÀ ÒÁÂÏÞÉÈ ÐÒÏÓÔÒÁÎÓÔ×"
+
+#: ../../WPrefs.app/Menu.c:1178
+msgid ": Open Window List Submenu"
+msgstr ": ðÏÄÍÅÎÀ ÓÏ ÓÐÉÓËÏÍ ÏËÏÎ"
+
+#: ../../WPrefs.app/Menu.c:1403
+msgid "Remove Submenu"
+msgstr "õÄÁÌÉÔØ ÐÏÄÍÅÎÀ"
+
+#: ../../WPrefs.app/Menu.c:1404
+msgid ""
+"Removing this item will destroy all items inside\n"
+"the submenu. Do you really want to do that?"
+msgstr ""
+"õÄÁÌÅÎÉÅ ÜÔÏÇÏ ÜÌÅÍÅÎÔÁ ÕÄÁÌÉÔ ×ÓÅ ÜÌÅÍÅÎÔÙ × ÐÏÄÍÅÎÀ.\n"
+"÷Ù ÄÅÊÓÔ×ÉÔÅÌØÎÏ ÈÏÔÉÔÅ ÜÔÏ ÓÄÅÌÁÔØ?"
+
+#: ../../WPrefs.app/Menu.c:1406
+msgid "Yes"
+msgstr "äÁ"
+
+#: ../../WPrefs.app/Menu.c:1406
+msgid "No"
+msgstr "îÅÔ"
 
-#: ../../WPrefs.app/Menu.c:1167
-msgid "Menu Path/Directory List"
-msgstr "ðÕÔØ Ë ÍÅÎÀ/ÓÐÉÓÏË ÄÉÒÅËÔÏÒÉÊ"
-
-#: ../../WPrefs.app/Menu.c:1212
-msgid "Ask help to the Guru"
-msgstr "óÐÒÏÓÉÔØ çÕÒÕ"
+#: ../../WPrefs.app/Menu.c:1407
+msgid "Yes, don't ask again."
+msgstr "äÁ, É ÂÏÌØÛÅ ÏÂ ÜÔÏÍ ÎÅ ÓÐÒÁÛÉ×ÁÔØ."
 
 #. if there is a localized plmenu for the tongue put it's filename here
-#: ../../WPrefs.app/Menu.c:1323 ../../WPrefs.app/Menu.c:1330
+#: ../../WPrefs.app/Menu.c:1575 ../../WPrefs.app/Menu.c:1582
+#, c-format
 msgid "%s/Library/WindowMaker/plmenu"
 msgstr "%s/Library/WindowMaker/plmenu.ru"
 
-#: ../../WPrefs.app/Menu.c:1339
+#: ../../WPrefs.app/Menu.c:1591
+#, c-format
 msgid "Could not open default menu from '%s'"
-msgstr "îÅ ÍÏÇÕ ÏÔËÒÙÔØ ÍÅÎÀ '%s'"
+msgstr "îÅ ÍÏÇÕ ÏÔËÒÙÔØ ÍÅÎÀ ÐÏ ÕÍÏÌÞÁÎÉÀ '%s'"
 
-#: ../../WPrefs.app/Menu.c:1449
+#: ../../WPrefs.app/Menu.c:1629 ../../WPrefs.app/WPrefs.c:807
+msgid "Warning"
+msgstr "ðÒÅÄÕÐÒÅÖÄÅÎÉÅ"
+
+#: ../../WPrefs.app/Menu.c:1630
+msgid ""
+"The menu file format currently in use is not supported\n"
+"by this tool. Do you want to discard the current menu\n"
+"to use this tool?"
+msgstr ""
+"æÏÒÍÁÔ ÆÁÊÌÁ ÍÅÎÀ, ËÏÔÏÒÏÅ (ÍÅÎÀ) ÉÓÐÏÌØÚÕÅÔÓÑ × ÄÁÎÎÙÊ\n"
+"ÍÏÍÅÎÔ, ÎÅ ÐÏÄÄÅÒÖÉ×ÁÅÔÓÑ ÓÉÉÍ ÉÎÓÔÒÕÍÅÎÔÏÍ.  ÷Ù ÈÏÔÉÔÅ\n"
+"ÓÂÒÏÓÉÔØ ÔÅËÕÝÅÅ ÍÅÎÀ, ÞÔÏÂÙ ÍÏÖÎÏ ÂÙÌÏ ÉÓÐÏÌØÚÏ×ÁÔØ ÜÔÏÔ\n"
+"ÉÎÓÔÒÕÍÅÎÔ?"
+
+#: ../../WPrefs.app/Menu.c:1633
+msgid "Yes, Discard and Update"
+msgstr "äÁ, ÓÂÒÏÓÉÔØ É ÏÂÎÏ×ÉÔØ"
+
+#: ../../WPrefs.app/Menu.c:1634
+msgid "No, Keep Current Menu"
+msgstr "îÅÔ, ÏÓÔÁ×ÉÔØ ÔÅËÕÝÅÅ ÍÅÎÀ"
+
+#: ../../WPrefs.app/Menu.c:1897
 msgid "Applications Menu Definition"
 msgstr "íÅÎÀ ÐÒÉÌÏÖÅÎÉÊ"
 
-#: ../../WPrefs.app/MenuPreferences.c:112
+#: ../../WPrefs.app/Menu.c:1899
+msgid "Edit the menu for launching applications."
+msgstr "òÅÄÁËÔÉÒÏ×ÁÔØ ÍÅÎÀ ÚÁÐÕÓËÁ ÐÒÉÌÏÖÅÎÉÊ."
+
+#: ../../WPrefs.app/MenuPreferences.c:111
 msgid "Menu Scrolling Speed"
 msgstr "óËÏÒÏÓÔØ ÐÒÏËÒÕÔËÉ ÍÅÎÀ"
 
-#: ../../WPrefs.app/MenuPreferences.c:161
+#: ../../WPrefs.app/MenuPreferences.c:160
 msgid "Submenu Alignment"
 msgstr "÷ÙÒÁ×ÎÉ×ÁÎÉÅ ÐÏÄÍÅÎÀ"
 
 #: ../../WPrefs.app/MenuPreferences.c:204
 msgid ""
 "Always open submenus inside the screen, instead of scrolling.\n"
-"Note: this can be an annoyance at some circumstances.\n"
+"Note: this is annoying."
 msgstr ""
 "÷ÓÅÇÄÁ ÏÔËÒÙ×ÁÔØ ÐÏÄÍÅÎÀ ×ÎÕÔÒÉ ÜËÒÁÎÁ, ×ÍÅÓÔÏ ÐÒÏËÒÕÔËÉ.\n"
+"óÍÏÔÒÉÔÅ - ÐÒÉ ÏÐÒÅÄÅÌÅÎÎÙÈ ÏÂÓÔÏÑÔÅÌØÓÔ×ÁÈ ÜÔÏ ÒÁÚÄÒÁÖÁÅÔ..."
 
 #: ../../WPrefs.app/MenuPreferences.c:209
 msgid "Scroll off-screen menus when pointer is moved over them."
-msgstr "ðÏËÁÚÙ×ÁÔØ ÓËÒÙÔÙÅ ÚÁ ÜËÒÁÎÏÍ ÍÅÎÀ ËÏÇÄÁ ÕËÁÚÁÔÅÌØ ÎÁÄ ÎÉÍÉ"
+msgstr "óÄ×ÉÇÁÔØ ÍÅÎÀ × ÏÂÌÁÓÔØ ×ÉÄÉÍÏÓÔÉ ÐÏ ÍÅÒÅ Ä×ÉÖÅÎÉÑ ËÕÒÓÏÒÁ."
 
 #: ../../WPrefs.app/MenuPreferences.c:229
 msgid "Menu Preferences"
 msgstr "õÓÔÁÎÏ×ËÉ ÄÌÑ ÍÅÎÀ"
 
-#: ../../WPrefs.app/MouseSettings.c:148
+#: ../../WPrefs.app/MenuPreferences.c:231
+msgid ""
+"Menu usability related options. Scrolling speed,\n"
+"alignment of submenus etc."
+msgstr ""
+"íÅÎÀ ÐÁÒÁÍÅÔÒÏ×, ÏÔÎÏÓÑÝÉÈÓÑ Ë ÕÄÏÂÓÔ×Õ ÉÓÐÏÌØÚÏ×ÁÎÉÑ.\n"
+"óËÏÒÏÓÔØ ÐÒÏËÒÕÔËÉ, ×ÙÒÁ×ÎÉ×ÁÎÉÅ ÐÏÄÍÅÎÀ É Ô.Ð."
+
+#: ../../WPrefs.app/MouseSettings.c:141
 msgid "Invalid mouse acceleration value. Must be a positive real value."
 msgstr "îÅÐÒÁ×ÉÌØÎÏÅ ÚÎÁÞÅÎÉÅ. äÏÌÖÎÏ ÂÙÔØ ÐÏÌÏÖÉÔÅÌØÎÏÅ ÞÉÓÌÏ"
 
-#: ../../WPrefs.app/MouseSettings.c:168
-msgid "Invalid mouse acceleration threshold value. Must be the number of pixels to travel before accelerating."
+#: ../../WPrefs.app/MouseSettings.c:161
+msgid ""
+"Invalid mouse acceleration threshold value. Must be the number of pixels to "
+"travel before accelerating."
 msgstr ""
+"îÅÐÒÁ×ÉÌØÎÏÅ ÚÎÁÞÅÎÉÅ ÐÏÒÏÇÁ ÕÓËÏÒÅÎÉÑ ÄÌÑ ÍÙÛÉ.  äÏÌÖÎÏ ÂÙÔØ ËÏÌÉÞÅÓÔ×ÏÍ "
+"ÔÏÞÅË, ÐÒÏÊÄÅÎÎÙÈ ÍÙÛØÀ ÚÁ ÏÄÎÏ ÐÅÒÅÍÅÝÅÎÉÅ, ÐÅÒÅÄ ÎÁÞÁÌÏÍ ÕÓËÏÒÅÎÉÑ."
 
-#: ../../WPrefs.app/MouseSettings.c:227
-msgid "mouse button %s not supported by WPrefs."
-msgstr "ËÌÁ×ÉÛÁ ÍÙÛÉ %s ÎÅ ÐÏÄÄÅÒÖÉ×ÁÅÔÓÑ WPrefs."
-
-#: ../../WPrefs.app/MouseSettings.c:263 ../../WPrefs.app/MouseSettings.c:276 ../../WPrefs.app/MouseSettings.c:289
+#: ../../WPrefs.app/MouseSettings.c:262 ../../WPrefs.app/MouseSettings.c:274
+#: ../../WPrefs.app/MouseSettings.c:286 ../../WPrefs.app/MouseSettings.c:298
+#, c-format
 msgid "bad value %s for option %s"
-msgstr "ÎÅ×ÅÒÎÏÅ ÚÎÁÞÅÎÉÅ %s ÄÌÑ %s"
+msgstr "ÎÅ×ÅÒÎÏÅ ÚÎÁÞÅÎÉÅ %s ÄÌÑ ÐÁÒÁÍÅÔÒÁ %s"
 
-#: ../../WPrefs.app/MouseSettings.c:349
-msgid "modifier key %s for option ModifierKey was not recognized. Using %s as default"
+#: ../../WPrefs.app/MouseSettings.c:357
+#, c-format
+msgid ""
+"modifier key %s for option ModifierKey was not recognized. Using %s as "
+"default"
 msgstr ""
+"ËÌÁ×ÉÛÁ-ÍÏÄÉÆÉËÁÔÏÒ %s × ÐÁÒÁÍÅÔÒÅ ModifierKey ÎÅ ÒÁÓÐÏÚÎÁÎÁ.  éÓÐÏÌØÚÕÅÔÓÑ %"
+"s (ÐÏ ÕÍÏÌÞÁÎÉÀ)"
 
-#: ../../WPrefs.app/MouseSettings.c:374
+#: ../../WPrefs.app/MouseSettings.c:382
 msgid "could not retrieve keyboard modifier mapping"
 msgstr ""
 
-#: ../../WPrefs.app/MouseSettings.c:521
+#: ../../WPrefs.app/MouseSettings.c:477
 msgid "Mouse Speed"
 msgstr "óËÏÒÏÓÔØ ÍÙÛÉ"
 
-#: ../../WPrefs.app/MouseSettings.c:551
+#: ../../WPrefs.app/MouseSettings.c:507
 msgid "Acceler.:"
 msgstr "õÓËÏÒ.:"
 
-#: ../../WPrefs.app/MouseSettings.c:564
+#: ../../WPrefs.app/MouseSettings.c:520
 msgid "Threshold:"
 msgstr "þÕ×ÓÔ×ÉÔ:"
 
-#: ../../WPrefs.app/MouseSettings.c:579
+#: ../../WPrefs.app/MouseSettings.c:535
 msgid "Double-Click Delay"
 msgstr "úÁÄÅÒÖËÁ Ä×ÏÊÎÏÇÏ ÝÅÌÞËÁ"
 
-#: ../../WPrefs.app/MouseSettings.c:623
+#: ../../WPrefs.app/MouseSettings.c:579
 msgid "Test"
 msgstr "ôÅÓÔ"
 
-#: ../../WPrefs.app/MouseSettings.c:653
+#: ../../WPrefs.app/MouseSettings.c:609
 msgid "Workspace Mouse Actions"
 msgstr "äÅÊÓÔ×ÉÑ ÍÙÛÉ ÎÁ Ò/ÓÔÏÌÅ"
 
-#: ../../WPrefs.app/MouseSettings.c:658
+#: ../../WPrefs.app/MouseSettings.c:614
 msgid "Disable mouse actions"
 msgstr "ïÔËÌÀÞÉÔØ ÍÙÛØ"
 
-#: ../../WPrefs.app/MouseSettings.c:711
-msgid "Applications menu"
-msgstr "íÅÎÀ ÐÒÉÌÏÖÅÎÉÊ"
-
-#: ../../WPrefs.app/MouseSettings.c:717
-msgid "Window list menu"
-msgstr "óÐÉÓÏË ÏËÏÎ"
-
-#: ../../WPrefs.app/MouseSettings.c:723
-msgid "Select windows"
-msgstr "÷ÙÄÅÌÅÎÉÅ ÏËÏÎ"
+#: ../../WPrefs.app/MouseSettings.c:620
+msgid "Left Button"
+msgstr "ìÅ×ÁÑ ËÎÏÐËÁ"
+
+#: ../../WPrefs.app/MouseSettings.c:630
+msgid "Middle Button"
+msgstr "óÒÅÄÎÑÑ ËÎÏÐËÁ"
+
+#: ../../WPrefs.app/MouseSettings.c:640
+msgid "Right Button"
+msgstr "ðÒÁ×ÁÑ ËÎÏÐËÁ"
+
+#: ../../WPrefs.app/MouseSettings.c:650
+msgid "Mouse Wheel"
+msgstr "ëÏÌÅÓÉËÏ ÍÙÛÉ"
 
-#: ../../WPrefs.app/MouseSettings.c:758
+#: ../../WPrefs.app/MouseSettings.c:672
 msgid "Mouse Grab Modifier"
+msgstr "íÏÄÉÆÉËÁÔÏÒ ÚÁÈ×ÁÔÁ ÍÙÛÉ"
+
+#: ../../WPrefs.app/MouseSettings.c:674
+msgid ""
+"Keyboard modifier to use for actions that\n"
+"involve dragging windows with the mouse,\n"
+"clicking inside the window."
 msgstr ""
 
-#: ../../WPrefs.app/MouseSettings.c:789
+#: ../../WPrefs.app/MouseSettings.c:708
+#, c-format
 msgid "could not create %s"
 msgstr "ÎÅ ÍÏÇÕ ÓÏÚÄÁÔØ %s"
 
-#: ../../WPrefs.app/MouseSettings.c:805
+#: ../../WPrefs.app/MouseSettings.c:724
+#, c-format
 msgid "could not create temporary file %s"
 msgstr "ÎÅ ÍÏÇÕ ÓÏÚÄÁÔØ ×ÒÅÍÅÎÎÙÊ ÆÁÊÌ %s"
 
-#: ../../WPrefs.app/MouseSettings.c:836
+#: ../../WPrefs.app/MouseSettings.c:756
+#, c-format
 msgid "could not rename file %s to %s\n"
 msgstr "ÎÅ ÐÏÌÕÞÁÅÔÓÑ ÐÅÒÅÉÍÅÎÏ×ÁÔØ %s × %s\n"
 
-#: ../../WPrefs.app/MouseSettings.c:920
+#: ../../WPrefs.app/MouseSettings.c:829
+msgid "Shift"
+msgstr "Shift"
+
+#: ../../WPrefs.app/MouseSettings.c:830
+msgid "Lock"
+msgstr ""
+
+#: ../../WPrefs.app/MouseSettings.c:831
+msgid "Control"
+msgstr "Control"
+
+#: ../../WPrefs.app/MouseSettings.c:832
+msgid "Mod1"
+msgstr "Mod1"
+
+#: ../../WPrefs.app/MouseSettings.c:833
+msgid "Mod2"
+msgstr "Mod2"
+
+#: ../../WPrefs.app/MouseSettings.c:834
+msgid "Mod3"
+msgstr "Mod3"
+
+#: ../../WPrefs.app/MouseSettings.c:835
+msgid "Mod4"
+msgstr "Mod4"
+
+#: ../../WPrefs.app/MouseSettings.c:836
+msgid "Mod5"
+msgstr "Mod5"
+
+#: ../../WPrefs.app/MouseSettings.c:839
+msgid "Applications Menu"
+msgstr "íÅÎÀ ÐÒÉÌÏÖÅÎÉÊ"
+
+#: ../../WPrefs.app/MouseSettings.c:841
+msgid "Select Windows"
+msgstr "÷ÙÄÅÌÅÎÉÅ ÏËÏÎ"
+
+# awn: "ðÅÒÅËÌÀÞÅÎÉÅ ÒÁÂÏÞÉÈ ÐÒÏÓÔÒÁÎÓÔ×" ÎÅ ÐÏÍÅÝÁÅÔÓÑ
+#: ../../WPrefs.app/MouseSettings.c:844
+msgid "Switch Workspaces"
+msgstr ""
+
+#: ../../WPrefs.app/MouseSettings.c:849
 msgid "Mouse Preferences"
 msgstr "ó×ÏÊÓÔ×Á ÄÌÑ ÍÙÛÉ"
 
-#: ../../WPrefs.app/NoMenuAlert.c:100
-msgid "Copy Default Menu"
-msgstr "ëÏÐÉÒÏ×ÁÔØ ÓÔÁÎÄÁÒÔÎÏÅ ÍÅÎÀ"
-
-#: ../../WPrefs.app/NoMenuAlert.c:106
-msgid "Keep Current Menu"
-msgstr "ïÓÔÁ×ÉÔØ ÔÅËÕÝÅÅ ÍÅÎÀ"
+#: ../../WPrefs.app/MouseSettings.c:851
+msgid ""
+"Mouse speed/acceleration, double click delay,\n"
+"mouse button bindings etc."
+msgstr ""
+"óËÏÒÏÓÔØ É ÕÓËÏÒÅÎÉÅ ÍÙÛÉ, ÚÁÄÅÒÖËÁ Ä×ÏÊÎÏÇÏ ÝÅÌÞËÁ,\n"
+"ÆÕÎËÃÉÉ, ÐÒÉ×ÑÚÁÎÎÙÅ Ë ËÎÏÐËÁÍ ÍÙÛÉ É Ô.Ð."
 
-#: ../../WPrefs.app/Paths.c:82
+#: ../../WPrefs.app/Paths.c:84
 msgid "bad value in option IconPath. Using default path list"
 msgstr "ÎÅÐÒÁ×ÉÌØÎÏÅ ÚÎÁÞÅÎÉÅ × IconPath. éÓÐÏÌØÚÕÅÍ ÐÕÔÉ ÐÏ ÕÍÏÌÞÁÎÉÀ"
 
-#: ../../WPrefs.app/Paths.c:99
+#: ../../WPrefs.app/Paths.c:101
 msgid "bad value in option PixmapPath. Using default path list"
 msgstr "ÎÅÐÒÁ×ÉÌØÎÏÅ ÚÎÁÞÅÎÉÅ × PixmapPath. éÓÐÏÌØÚÕÅÍ ÐÕÔÉ ÐÏ ÕÍÏÌÞÁÎÉÀ"
 
-#: ../../WPrefs.app/Paths.c:302
+#: ../../WPrefs.app/Paths.c:149
+msgid "Select directory"
+msgstr "õËÁÖÉÔÅ ËÁÔÁÌÏÇ"
+
+#: ../../WPrefs.app/Paths.c:270
 msgid "Icon Search Paths"
 msgstr "ðÕÔÉ ÐÏÉÓËÁ ÉËÏÎÏË"
 
-#: ../../WPrefs.app/Paths.c:314 ../../WPrefs.app/Paths.c:350 ../../WPrefs.app/TexturePanel.c:1287
+#: ../../WPrefs.app/Paths.c:281 ../../WPrefs.app/Paths.c:312
+#: ../../WPrefs.app/TexturePanel.c:1310
 msgid "Add"
 msgstr "äÏÂÁ×ÉÔØ"
 
-#: ../../WPrefs.app/Paths.c:321 ../../WPrefs.app/Paths.c:357
-msgid "Remove"
-msgstr "õÄÁÌÉÔØ"
-
-#: ../../WPrefs.app/Paths.c:338
+#: ../../WPrefs.app/Paths.c:301
 msgid "Pixmap Search Paths"
 msgstr "ðÕÔÉ ÐÏÉÓËÁ Pixmap"
 
-#: ../../WPrefs.app/Paths.c:389
+#: ../../WPrefs.app/Paths.c:341
 msgid "Search Path Configuration"
 msgstr "ëÏÎÆÉÇÕÒÁÃÉÑ ÐÕÔÅÊ ÐÏÉÓËÁ"
 
-#: ../../WPrefs.app/Preferences.c:155
+#: ../../WPrefs.app/Paths.c:343
+msgid ""
+"Search paths to use when looking for pixmaps\n"
+"and icons."
+msgstr ""
+"ðÕÔÉ, ÉÓÐÏÌØÚÕÅÍÙÅ ÄÌÑ ÐÏÉÓËÁ pixmap'Ï×\n"
+"É ÉËÏÎÏË."
+
+#: ../../WPrefs.app/Preferences.c:75
+msgid "OFF"
+msgstr "÷ÙËÌÀÞÅÎÏ"
+
+#: ../../WPrefs.app/Preferences.c:77
+msgid "1 pixel"
+msgstr "1 ÔÏÞËÁ"
+
+#. 2-4
+#: ../../WPrefs.app/Preferences.c:80
+#, c-format
+msgid "%i pixels"
+msgstr "%i ÔÏÞËÉ"
+
+#. >4
+#: ../../WPrefs.app/Preferences.c:83
+#, c-format
+msgid "%i pixels "
+msgstr "%i ÔÏÞÅË"
+
+#: ../../WPrefs.app/Preferences.c:229
 msgid "Size Display"
-msgstr "òÁÚÍÅÒ"
+msgstr "ïÔÏÂÒÁÖÅÎÉÅ ÒÁÚÍÅÒÁ"
 
-#: ../../WPrefs.app/Preferences.c:160 ../../WPrefs.app/Preferences.c:176
+#: ../../WPrefs.app/Preferences.c:231
+msgid ""
+"The position or style of the window size\n"
+"display that's shown when a window is resized."
+msgstr ""
+"çÄÅ É/ÉÌÉ × ËÁËÏÍ ÓÔÉÌÅ ÏÔÏÂÒÁÖÁÔØ ÒÁÚÍÅÒÙ ÏËÎÁ\n"
+"ÐÒÉ ÉÈ ÉÚÍÅÎÅÎÉÉ."
+
+#: ../../WPrefs.app/Preferences.c:238 ../../WPrefs.app/Preferences.c:259
 msgid "Corner of screen"
-msgstr "õÇÏÌ ÜËÒÁÎÁ"
+msgstr "÷ ÕÇÌÕ ÜËÒÁÎÁ"
 
-#: ../../WPrefs.app/Preferences.c:161 ../../WPrefs.app/Preferences.c:177
+#: ../../WPrefs.app/Preferences.c:239 ../../WPrefs.app/Preferences.c:260
 msgid "Center of screen"
-msgstr "ãÅÎÔÒ ÜËÒÁÎÁ"
+msgstr "÷ ÃÅÎÔÒÅ ÜËÒÁÎÁ"
 
-#: ../../WPrefs.app/Preferences.c:162 ../../WPrefs.app/Preferences.c:178
+#: ../../WPrefs.app/Preferences.c:240 ../../WPrefs.app/Preferences.c:261
 msgid "Center of resized window"
-msgstr "ãÅÎÔÒ ÏËÎÁ"
+msgstr "÷ ÃÅÎÔÒÅ ÉÚÍÅÎÑÅÍÏÇÏ ÏËÎÁ"
 
-#: ../../WPrefs.app/Preferences.c:163
+#: ../../WPrefs.app/Preferences.c:241
 msgid "Technical drawing-like"
-msgstr "ëÁË ÎÁ ÞÅÒÔÅÖÅ"
+msgstr "÷ ÞÅÒÔÅÖÎÏÍ ÓÔÉÌÅ"
+
+#: ../../WPrefs.app/Preferences.c:242 ../../WPrefs.app/Preferences.c:262
+msgid "Disabled"
+msgstr "úÁÐÒÅÝÅÎÏ"
 
-#: ../../WPrefs.app/Preferences.c:171
+#: ../../WPrefs.app/Preferences.c:250
 msgid "Position Display"
-msgstr "ðÏÚÉÃÉÑ"
+msgstr "ïÔÏÂÒÁÖÅÎÉÅ ÐÏÌÏÖÅÎÉÑ"
 
-#: ../../WPrefs.app/Preferences.c:186
+#: ../../WPrefs.app/Preferences.c:252
+msgid ""
+"The position or style of the window position\n"
+"display that's shown when a window is moved."
+msgstr ""
+"çÄÅ É/ÉÌÉ × ËÁËÏÍ ÓÔÉÌÅ ÏÔÏÂÒÁÖÁÔØ ÐÏÌÏÖÅÎÉÅ ÏËÎÁ\n"
+"ÐÒÉ ÅÇÏ ÐÅÒÅÍÅÝÅÎÉÉ."
+
+#: ../../WPrefs.app/Preferences.c:270
 msgid "Show balloon text for..."
-msgstr "ðÏËÁÚÙ×ÁÔØ ÐÏÄÓËÁÚËÕ ÄÌÑ..."
+msgstr "ðÏËÁÚÙ×ÁÔØ ×ÓÐÌÙ×ÁÀÝÕÀ ÐÏÄÓËÁÚËÕ ÄÌÑ..."
 
-#: ../../WPrefs.app/Preferences.c:193
+#: ../../WPrefs.app/Preferences.c:277
 msgid "incomplete window titles"
-msgstr "ÎÅÐÏÌÎÙÈ ÚÁÇÏÌÏ×ËÏ×"
+msgstr "ÎÅÐÏÌÎÙÈ ÚÁÇÏÌÏ×ËÏ× ÏËÏÎ"
 
-#: ../../WPrefs.app/Preferences.c:194
+#: ../../WPrefs.app/Preferences.c:278
 msgid "miniwindow titles"
 msgstr "ÚÁÇÏÌÏ×ËÏ× ÍÉÎÉÏËÏÎ"
 
-#: ../../WPrefs.app/Preferences.c:195
+#: ../../WPrefs.app/Preferences.c:279
 msgid "application/dock icons"
-msgstr ""
+msgstr "ÉËÏÎÏË × ÄÏËÅ/ÓËÒÅÐËÅ"
 
-#: ../../WPrefs.app/Preferences.c:208
-msgid "Raise window when switching focus with keyboard (CirculateRaise)."
-msgstr "ïËÎÏ ÎÁ×ÅÒÈ ÐÒÉ ÐÅÒÅËÌÀÞÅÎÉÉ ÆÏËÕÓÁ Ó ËÌÁ×ÉÁÔÕÒÙ (CirculateRaise)."
+#: ../../WPrefs.app/Preferences.c:280
+msgid "internal help"
+msgstr "×ÎÕÔÒÅÎÎÅÊ ÐÏÍÏÝÉ"
 
-#: ../../WPrefs.app/Preferences.c:214
-msgid "Keep keyboard language status for each window."
+#: ../../WPrefs.app/Preferences.c:292
+msgid ""
+"Raise window when switching\n"
+"focus with keyboard."
+msgstr ""
+"ðÏÄÎÉÍÁÔØ ÏËÎÏ ÐÒÉ ÐÅÒÅËÌÀÞÅÎÉÉ\n"
+"ÆÏËÕÓÁ Ó ËÌÁ×ÉÁÔÕÒÙ."
+
+#: ../../WPrefs.app/Preferences.c:298
+#, fuzzy
+msgid ""
+"Enable keyboard language\n"
+"switch button in window titlebars."
 msgstr "óÏÈÒÁÎÑÔØ ÑÚÙË ËÌÁ×ÉÁÔÕÒÙ ÄÌÑ ËÁÖÄÏÇÏ ÏËÎÁ"
 
-#: ../../WPrefs.app/Preferences.c:235
+#: ../../WPrefs.app/Preferences.c:307
+msgid "Workspace border"
+msgstr "çÒÁÎÉÃÙ ÒÁÂÏÞÅÇÏ ÐÒÏÓÔÒÁÎÓÔ×Á"
+
+#: ../../WPrefs.app/Preferences.c:323
+msgid "Left/Right"
+msgstr "óÌÅ×Á/óÐÒÁ×Á"
+
+#: ../../WPrefs.app/Preferences.c:328
+msgid "Top/Bottom"
+msgstr "ó×ÅÒÈÕ/óÎÉÚÕ"
+
+#: ../../WPrefs.app/Preferences.c:349
 msgid "Miscellaneous Ergonomic Preferences"
 msgstr "÷ÓÑËÉÅ ÜÒÇÏÎÏÍÉÞÅÓËÉÅ ÕÓÔÁÎÏ×ËÉ"
 
-#: ../../WPrefs.app/Text.c:179
-msgid "Invalid font %s."
-msgstr "îÅ×ÅÒÎÙÊ ÛÒÉÆÔ %s."
-
-#: ../../WPrefs.app/Text.c:256
-msgid "Set Font..."
-msgstr "õËÁÖÉÔÅ ÛÒÉÆÔ..."
-
-#: ../../WPrefs.app/Text.c:262
-msgid "Window Title Font"
-msgstr "ûÒÉÆÔ ÚÁÇÏÌÏ×ËÁ ÏËÎÁ"
-
-#: ../../WPrefs.app/Text.c:263
-msgid "Menu Title Font"
-msgstr "ûÒÉÆÔ ÚÁÇÏÌÏ×ËÁ ÍÅÎÀ"
-
-#: ../../WPrefs.app/Text.c:264
-msgid "Menu Item Font"
-msgstr "ûÒÉÆÔ ÜÌÅÍÅÎÔÁ ÍÅÎÀ"
-
-#: ../../WPrefs.app/Text.c:265
-msgid "Icon Title Font"
-msgstr "ûÒÉÆÔ ÚÁÇÏÌÏ×ËÁ ÉËÏÎËÉ"
-
-#: ../../WPrefs.app/Text.c:266
-msgid "Clip Title Font"
-msgstr "ûÒÉÆÔ ÚÁÇÏÌÏ×ËÁ Clip"
-
-#: ../../WPrefs.app/Text.c:267
-msgid "Geometry Display Font"
-msgstr "ûÒÉÆÔ ÄÌÑ ÐÏËÁÚÁ ÇÅÏÍÅÔÒÉÉ"
-
-#: ../../WPrefs.app/Text.c:280
-msgid ""
-"Sample Text\n"
-"abcdefghijklmnopqrstuvxywz\n"
-"ABCDEFGHIJKLMNOPQRSTUVXYWZ\n"
-"0123456789"
-msgstr ""
-"ðÒÉÍÅÒ ÔÅËÓÔÁ\n"
-"ÁÂ×ÇÄÅÖÚÉËÌ abcdefghijkl\n"
-"áâ÷çäåöúéëì ABCDEFGHIJKL\n"
-"0123456789"
-
-#: ../../WPrefs.app/Text.c:285
-msgid "Alignment"
-msgstr "÷ÙÒÁ×ÎÉ×ÁÎÉÅ"
-
-#: ../../WPrefs.app/Text.c:290
-msgid "Left"
-msgstr "÷ÌÅ×Ï"
-
-#: ../../WPrefs.app/Text.c:296 ../../WPrefs.app/TexturePanel.c:1494
-msgid "Center"
-msgstr "ðÏ ÃÅÎÔÒÕ"
-
-#: ../../WPrefs.app/Text.c:303
-msgid "Right"
-msgstr "÷ÐÒÁ×Ï"
-
-#: ../../WPrefs.app/Text.c:325
-msgid "Text Preferences"
-msgstr "ó×ÏÊÓÔ×Á ÔÅËÓÔÁ"
+#: ../../WPrefs.app/Preferences.c:350
+msgid ""
+"Various settings like balloon text, geometry\n"
+"displays etc."
+msgstr ""
+"òÁÚÌÉÞÎÙÅ ÕÓÔÁÎÏ×ËÉ, ÎÁÐÏÄÏÂÉÅ\n"
+"\"ËÏÇÄÁ ÐÏËÁÚÙ×ÁÔØ ×ÓÐÌÙ×ÁÀÝÉÅ ÐÏÄÓËÁÚËÉ?\",\n"
+"\"ËÁË ÏÔÏÂÒÁÖÁÔØ ÉÚÍÅÎÅÎÉÅ ÇÅÏÍÅÔÒÉÉ?\" É Ô.Ð."
+
+#: ../../WPrefs.app/TexturePanel.c:323
+msgid "Saturation"
+msgstr "îÁÓÙÝÅÎÎÏÓÔØ"
+
+#: ../../WPrefs.app/TexturePanel.c:325
+msgid "Brightness"
+msgstr "ñÒËÏÓÔØ"
+
+#: ../../WPrefs.app/TexturePanel.c:373 ../../WPrefs.app/TexturePanel.c:380
+msgid "Hue"
+msgstr "ôÏÎ"
 
-#: ../../WPrefs.app/TexturePanel.c:601
+#: ../../WPrefs.app/TexturePanel.c:610
 msgid "Could not load the selected file: "
-msgstr "îÅ ÍÏÇÕ ÚÁÇÒÕÚÉÔØ ×ÙÂÒÁÎÙÊ ÆÁÊÌ"
+msgstr "îÅ ÍÏÇÕ ÚÁÇÒÕÚÉÔØ ×ÙÂÒÁÎÎÙÊ ÆÁÊÌ"
+
+#: ../../WPrefs.app/TexturePanel.c:664
+msgid "Open Image"
+msgstr "ïÔËÒÙÔØ ÉÚÏÂÒÁÖÅÎÉÅ"
 
-#: ../../WPrefs.app/TexturePanel.c:678
+#: ../../WPrefs.app/TexturePanel.c:694
 msgid "The selected file does not contain a supported image."
-msgstr "÷ÙÂÒÁÎÙÊ ÆÁÊÌ ÎÅ ÓÏÄÅÒÖÉÔ ÐÏÄÄÅÒÖÉ×ÁÅÍÏÊ ËÁÒÔÉÎËÉ"
+msgstr "÷ÙÂÒÁÎÎÙÊ ÆÁÊÌ ÎÅ ÓÏÄÅÒÖÉÔ ÉÚÏÂÒÁÖÅÎÉÑ × ÐÏÄÄÅÒÖÉ×ÁÅÍÏÍ ÆÏÒÍÁÔÅ."
 
-#: ../../WPrefs.app/TexturePanel.c:1231
+#: ../../WPrefs.app/TexturePanel.c:945
+#, c-format
+msgid "could not load file '%s': %s"
+msgstr "ÎÅ ÍÏÇÕ ÚÁÇÒÕÚÉÔØ ÆÁÊÌ '%s': %s"
+
+#: ../../WPrefs.app/TexturePanel.c:1064
+#, c-format
+msgid "error creating texture %s"
+msgstr "ÏÛÉÂËÁ ÓÏÚÄÁÎÉÑ ÔÅËÓÔÕÒÙ %s"
+
+#: ../../WPrefs.app/TexturePanel.c:1254
 msgid "Texture Panel"
 msgstr "ðÁÎÅÌØ ÔÅËÓÔÕÒ"
 
-#: ../../WPrefs.app/TexturePanel.c:1239
+#: ../../WPrefs.app/TexturePanel.c:1262
 msgid "Texture Name"
 msgstr "îÁÚ×ÁÎÉÅ ÔÅËÓÔÕÒÙ"
 
-#: ../../WPrefs.app/TexturePanel.c:1251
+#: ../../WPrefs.app/TexturePanel.c:1274
 msgid "Solid Color"
 msgstr "òÁ×ÎÏÍÅÒÎÙÊ Ã×ÅÔ"
 
-#: ../../WPrefs.app/TexturePanel.c:1252
+#: ../../WPrefs.app/TexturePanel.c:1275
 msgid "Gradient Texture"
 msgstr "çÒÁÄÉÅÎÔ"
 
-#: ../../WPrefs.app/TexturePanel.c:1253
+#: ../../WPrefs.app/TexturePanel.c:1276
 msgid "Simple Gradient Texture"
 msgstr "ðÒÏÓÔÏÊ ÇÒÁÄÉÅÎÔ"
 
-#: ../../WPrefs.app/TexturePanel.c:1254
+#: ../../WPrefs.app/TexturePanel.c:1277
 msgid "Textured Gradient"
 msgstr "ôÅËÓÔÕÒÎÙÊ ÇÒÁÄÉÅÎÔ"
 
-#: ../../WPrefs.app/TexturePanel.c:1255
+#: ../../WPrefs.app/TexturePanel.c:1278
 msgid "Image Texture"
 msgstr "ôÅËÓÔÕÒÁ ÉÚÏÂÒÁÖÅÎÉÑ"
 
-#: ../../WPrefs.app/TexturePanel.c:1263
+#: ../../WPrefs.app/TexturePanel.c:1286
 msgid "Default Color"
 msgstr "ã×ÅÔ ÐÏ ÕÍÏÌÞÁÎÉÀ"
 
-#: ../../WPrefs.app/TexturePanel.c:1275
+#: ../../WPrefs.app/TexturePanel.c:1298
 msgid "Gradient Colors"
 msgstr "çÒÁÄÉÅÎÔÎÙÅ Ã×ÅÔÁ"
 
-#: ../../WPrefs.app/TexturePanel.c:1371
+#: ../../WPrefs.app/TexturePanel.c:1394
 msgid "Direction"
-msgstr "îÁÐÒ×ÌÅÎÉÅ"
+msgstr "îÁÐÒÁ×ÌÅÎÉÅ"
 
-#: ../../WPrefs.app/TexturePanel.c:1399
+#: ../../WPrefs.app/TexturePanel.c:1422
 msgid "Gradient"
 msgstr "çÒÁÄÉÅÎÔ"
 
-#: ../../WPrefs.app/TexturePanel.c:1417
+#: ../../WPrefs.app/TexturePanel.c:1440
 msgid "Gradient Opacity"
-msgstr ""
+msgstr "îÅÐÒÏÚÒÁÞÎÏÓÔØ ÇÒÁÄÉÅÎÔÁ"
 
-#: ../../WPrefs.app/TexturePanel.c:1460
+#: ../../WPrefs.app/TexturePanel.c:1483
 msgid "Image"
 msgstr "éÚÏÂÒÁÖÅÎÉÅ"
 
-#: ../../WPrefs.app/TexturePanel.c:1480
-msgid "Browse..."
-msgstr "îÁÊÔÉ..."
-
-#: ../../WPrefs.app/TexturePanel.c:1492
+#: ../../WPrefs.app/TexturePanel.c:1515
 msgid "Tile"
-msgstr "úÁÇÏÌÏ×ÏË"
+msgstr "íÏÚÁÉËÁ"
 
-#: ../../WPrefs.app/TexturePanel.c:1493
+#: ../../WPrefs.app/TexturePanel.c:1516
 msgid "Scale"
-msgstr "ûËÁÌÁ"
+msgstr "íÁÓÛÔÁÂÉÒÏ×ÁÔØ"
 
-#: ../../WPrefs.app/TexturePanel.c:1495
+#: ../../WPrefs.app/TexturePanel.c:1518
 msgid "Maximize"
-msgstr "òÁÚ×ÅÒÎÕÔØ"
+msgstr "òÁÓÐÁÈÎÕÔØ"
 
 #: ../../WPrefs.app/Themes.c:71 ../../WPrefs.app/Themes.c:82
 msgid "Set"
@@ -1156,193 +1800,373 @@
 msgid "Stop"
 msgstr "óÔÏÐ"
 
-#: ../../WPrefs.app/Themes.c:143 ../../WPrefs.app/Themes.c:205 ../../WPrefs.app/Themes.c:225
+#: ../../WPrefs.app/Themes.c:143 ../../WPrefs.app/Themes.c:203
+#: ../../WPrefs.app/Themes.c:223
 msgid "Download"
-msgstr "úÁÇÒÕÚÉÔØ ÉÚ ÉÎÅÔÁ"
+msgstr "úÁÇÒÕÚÉÔØ ÉÚ Internet"
 
-#: ../../WPrefs.app/Themes.c:173
+#: ../../WPrefs.app/Themes.c:171
 msgid "Save Current Theme"
 msgstr "óÏÈÒÁÎÉÔØ ÔÅËÕÝÕÀ ÔÅÍÕ"
 
-#: ../../WPrefs.app/Themes.c:182
+#: ../../WPrefs.app/Themes.c:180
 msgid "Load"
 msgstr "úÁÇÒÕÚÉÔØ"
 
-#: ../../WPrefs.app/Themes.c:187
+#: ../../WPrefs.app/Themes.c:185
 msgid "Install"
 msgstr "éÎÓÔÁÌÉÒÏ×ÁÔØ"
 
-#: ../../WPrefs.app/Themes.c:195
+#: ../../WPrefs.app/Themes.c:193
 msgid "Tile of The Day"
 msgstr ""
 
-#: ../../WPrefs.app/Themes.c:215
+#: ../../WPrefs.app/Themes.c:213
 msgid "Bar of The Day"
 msgstr ""
 
-#: ../../WPrefs.app/Themes.c:252
-msgid "Themes"
-msgstr "ôÅÍÙ"
-
-#: ../../WPrefs.app/WindowHandling.c:134
+#: ../../WPrefs.app/WindowHandling.c:141
+#, c-format
 msgid "bad option value %s in WindowPlacement. Using default value"
-msgstr "ÎÅ×ÅÒÎÏÅ ÚÎÁÞÅÎÉÅ %s × ÒÁÚÍÅÝÅÎÉÉ ÏËÎÁ. éÓÐÏÌØÚÕÅÔÓÑ ÚÎÁÞÅÎÉÅ ÐÏ ÕÍÏÌÞÁÎÉÀ"
+msgstr ""
+"ÎÅ×ÅÒÎÏÅ ÚÎÁÞÅÎÉÅ %s × ÐÁÒÁÍÅÔÒÅ WindowPlacement. éÓÐÏÌØÚÕÅÔÓÑ ÚÎÁÞÅÎÉÅ ÐÏ "
+"ÕÍÏÌÞÁÎÉÀ"
 
-#: ../../WPrefs.app/WindowHandling.c:156
+#: ../../WPrefs.app/WindowHandling.c:163
 msgid "invalid data in option WindowPlaceOrigin. Using default (0,0)"
 msgstr ""
+"ÎÅÐÒÁ×ÉÌØÎÙÅ ÄÁÎÎÙÅ × ÐÁÒÁÍÅÔÒÅ WindowPlaceOrigin.  éÓÐÏÌØÚÕÅÔÓÑ ÚÎÁÞÅÎÉÅ ÐÏ "
+"ÕÍÏÌÞÁÎÉÀ (0,0)"
 
-#: ../../WPrefs.app/WindowHandling.c:223
+#: ../../WPrefs.app/WindowHandling.c:243
 msgid "Window Placement"
-msgstr "ðÏÚÉÃÉÑ ÏËÏÎ"
+msgstr "òÁÚÍÅÝÅÎÉÅ ÏËÏÎ"
+
+#: ../../WPrefs.app/WindowHandling.c:244
+msgid ""
+"How to place windows when they are first put\n"
+"on screen."
+msgstr ""
+"ëÁË ÒÁÚÍÅÝÁÔØ ÏËÎÁ, ËÏÇÄÁ ÏÎÉ ×ÐÅÒ×ÙÅ\n"
+"ÐÏÑ×ÌÑÀÔÓÑ ÎÁ ÜËÒÁÎÅ."
 
-#: ../../WPrefs.app/WindowHandling.c:228
+#: ../../WPrefs.app/WindowHandling.c:250
 msgid "Automatic"
-msgstr "á×ÔÏ"
+msgstr "á×ÔÏÍÁÔÉÞÅÓËÏÅ"
 
-#: ../../WPrefs.app/WindowHandling.c:229
+#: ../../WPrefs.app/WindowHandling.c:251
 msgid "Random"
-msgstr "óÌÕÞÁÊÎÏ"
+msgstr "óÌÕÞÁÊÎÏÅ"
 
-#: ../../WPrefs.app/WindowHandling.c:230
+#: ../../WPrefs.app/WindowHandling.c:252
 msgid "Manual"
-msgstr "òÕÞËÁÍÉ"
+msgstr "òÕÞÎÏÅ"
 
-#: ../../WPrefs.app/WindowHandling.c:231
+#: ../../WPrefs.app/WindowHandling.c:253
 msgid "Cascade"
-msgstr "ëÁÓËÁÄ"
+msgstr "ëÁÓËÁÄÎÏÅ"
 
-#: ../../WPrefs.app/WindowHandling.c:237
+#: ../../WPrefs.app/WindowHandling.c:254
+msgid "Smart"
+msgstr "\"õÍÎÏÅ\""
+
+#: ../../WPrefs.app/WindowHandling.c:260
 msgid "Placement Origin"
 msgstr "éÓÈÏÄÎÏÅ ÐÏÌÏÖÅÎÉÅ"
 
-#: ../../WPrefs.app/WindowHandling.c:297
+#: ../../WPrefs.app/WindowHandling.c:321
 msgid "Opaque Move"
 msgstr "ä×ÉÇÁÔØ ÃÅÌÉËÏÍ"
 
-#: ../../WPrefs.app/WindowHandling.c:333
+#: ../../WPrefs.app/WindowHandling.c:322
+msgid ""
+"Whether the window contents should be moved\n"
+"when dragging windows aroung or if only a\n"
+"frame should be displayed.\n"
+msgstr ""
+"÷Ï ×ÒÅÍÑ ÐÅÒÅÍÅÝÅÎÉÑ ÏËÎÁ, ÄÏÌÖÎÏ ÌÉ ÏÎÏ\n"
+"ÐÅÒÅÍÅÝÁÔØÓÑ ÃÅÌÉËÏÍ, ×ÍÅÓÔÅ ÓÏ Ó×ÏÉÍ\n"
+"ÓÏÄÅÒÖÉÍÙÍ (ÎÁÖÁÔÏ), ÉÌÉ ÔÏÌØËÏ ÅÇÏ\n"
+"ËÁÒËÁÓ (ÏÔÐÕÝÅÎÏ)\n"
+
+#: ../../WPrefs.app/WindowHandling.c:361
 msgid "When maximizing..."
-msgstr "ëÏÇÄÁ ÍÁËÓÉÍÉÚÉÒÕÅÍ..."
+msgstr "ëÏÇÄÁ ÒÁÓÐÁÈÉ×ÁÅÔÓÑ ÏËÎÏ..."
 
-#: ../../WPrefs.app/WindowHandling.c:338
+#: ../../WPrefs.app/WindowHandling.c:366
 msgid "...do not cover icons"
-msgstr "...ÎÅ ÚÁËÒÙ×ÁÅÍ ÉËÏÎËÉ"
+msgstr "...ÎÅ ÐÅÒÅËÒÙ×ÁÔØ ÉËÏÎËÉ"
 
-#: ../../WPrefs.app/WindowHandling.c:344
+#: ../../WPrefs.app/WindowHandling.c:372
 msgid "...do not cover dock"
-msgstr "...ÎÅ ÚÁËÒÙ×ÁÅÍ Dock"
+msgstr "...ÎÅ ÐÅÒÅËÒÙ×ÁÔØ äÏË"
 
-#: ../../WPrefs.app/WindowHandling.c:353
+#: ../../WPrefs.app/WindowHandling.c:381
 msgid "Edge Resistance"
-msgstr "óÏÐÒÁÔÉ×ÌÑÅÍÏÓÔØ ËÒÁÅ×"
+msgstr "óÏÐÒÏÔÉ×ÌÑÅÍÏÓÔØ ËÒÁÅ×"
+
+#: ../../WPrefs.app/WindowHandling.c:383
+msgid ""
+"Edge resistance will make windows `resist'\n"
+"being moved further for the defined threshold\n"
+"when moved against other windows or the edges\n"
+"of the screen."
+msgstr ""
 
-#: ../../WPrefs.app/WindowHandling.c:377
-msgid "Open dialogs in same workspace as their owners"
-msgstr "ïÔËÒÙ×ÁÔØ ÄÉÁÌÏÇÉ ÔÁÍ ÖÅ ÇÄÅ É ÇÌÁ×ÎÏÅ ÏËÎÏ"
+#: ../../WPrefs.app/WindowHandling.c:402
+msgid "Resist"
+msgstr "õÐÉÒÁÔØÓÑ"
 
-#: ../../WPrefs.app/WindowHandling.c:404
+#: ../../WPrefs.app/WindowHandling.c:407
+msgid "Attract"
+msgstr "ðÒÉÔÑÇÉ×ÁÔØÓÑ"
+
+#: ../../WPrefs.app/WindowHandling.c:423
+msgid ""
+"Open dialogs in same workspace\n"
+"as their owners"
+msgstr ""
+"ïÔËÒÙ×ÁÔØ ÄÉÁÌÏÇÉ × ÏÄÎÏÍ ÒÁÂÏÞÅÍ\n"
+"ÐÒÏÓÔÒÁÎÓÔ×Å Ó ÉÈ ÒÏÄÉÔÅÌÑÍÉ"
+
+#: ../../WPrefs.app/WindowHandling.c:450
 msgid "Window Handling Preferences"
 msgstr "ðÁÒÁÍÅÔÒÙ ÏËÏÎ"
 
-#: ../../WPrefs.app/Workspace.c:137
+#: ../../WPrefs.app/WindowHandling.c:452
+msgid ""
+"Window handling options. Initial placement style\n"
+"edge resistance, opaque move etc."
+msgstr ""
+"ëÁË ÏÂÒÁÝÁÔØÓÑ Ó ÏËÎÁÍÉ.  îÁÞÁÌØÎÏÅ ÒÁÓÐÏÌÏÖÅÎÉÅ ÏËÏÎ.\n"
+"óÏÐÒÏÔÉ×ÌÑÅÍÏÓÔØ ÇÒÁÎÉÃ.  óÐÌÏÛÎÏÅ/ËÁÒËÁÓÎÏÅ ÐÅÒÅÍÅÝÅÎÉÅ, É Ô.Ð."
+
+#: ../../WPrefs.app/Workspace.c:176
 msgid "Workspace Navigation"
-msgstr "îÁ×ÉÇÁÃÉÑ ÐÏ ÒÁÂÏÞÉÍ ÍÅÓÔÁÍ"
+msgstr "îÁ×ÉÇÁÃÉÑ ÐÏ ÒÁÂÏÞÉÍ ÐÒÏÓÔÒÁÎÓÔ×ÁÍ"
+
+#: ../../WPrefs.app/Workspace.c:183
+msgid ""
+"wrap to the first workspace after the\n"
+"last workspace."
+msgstr ""
+"ÓÏÚÄÁ×ÁÔØ ÎÏ×ÏÅ ÒÁÂÏÞÅÅ ÐÒÏÓÔÒÁÎÓÔ×Ï\n"
+"ËÏÇÄÁ ÐÅÒÅËÌÀÞÁÅÍÓÑ ÚÁ ÐÏÓÌÅÄÎÅÅ."
+
+#: ../../WPrefs.app/Workspace.c:205
+msgid "switch workspaces while dragging windows."
+msgstr "ÐÅÒÅËÌÀÞÁÔØ ÒÁÂÏÞÉÅ ÐÒÏÓÔÒÁÎÓÔ×Á ÐÒÉ ÐÅÒÅÔÁÓËÉ×ÁÎÉÉ ÏËÏÎ."
+
+#: ../../WPrefs.app/Workspace.c:227
+msgid "automatically create new workspaces."
+msgstr "Á×ÔÏÍÁÔÉÞÅÓËÉ ÓÏÚÄÁ×ÁÔØ ÎÏ×ÙÅ ÒÁÂÏÞÉÅ ÐÒÏÓÔÒÁÎÓÔ×Á."
+
+#: ../../WPrefs.app/Workspace.c:250
+msgid ""
+"Position of workspace\n"
+"name display"
+msgstr ""
+"ïÔÏÂÒÁÖÅÎÉÅ ÉÍÅÎÉ\n"
+"ÒÁÂÏÞÅÇÏ ÐÒÏÓÔÒÁÎÓÔ×Á"
+
+#: ../../WPrefs.app/Workspace.c:269
+msgid "Disable"
+msgstr "úÁÐÒÅÔÉÔØ"
 
-#: ../../WPrefs.app/Workspace.c:161
-msgid "drag windows between workspaces."
-msgstr "ÐÅÒÅÔÁÓËÉ×ÁÔØ ÏËÎÁ ÍÅÖÄÕ ÜËÒÁÎÁÍÉ"
+#: ../../WPrefs.app/Workspace.c:271
+msgid "Top"
+msgstr "÷×ÅÒÈÕ"
 
-#: ../../WPrefs.app/Workspace.c:186
-msgid "switch to first workspace when switching past the last workspace and vice-versa"
-msgstr "ÐÅÒÅËÌÀÞÉÔØÓÑ ÎÁ 1-Å ÒÁÂÏÞÅÅ ÍÅÓÔÏ ÓÌÅÄÏÍ ÚÁ ÐÏÓÌÅÄÎÉÍ É Ô.Ä."
+#: ../../WPrefs.app/Workspace.c:272
+msgid "Bottom"
+msgstr "÷ÎÉÚÕ"
 
-#: ../../WPrefs.app/Workspace.c:210
-msgid "create a new workspace when switching past the last workspace."
-msgstr "ÓÏÚÄÁ×ÁÔØ ÎÏ×ÏÅ ÒÁÂÏÞÅÅ ÍÅÓÔÏ ËÏÇÄÁ ÐÅÒÅËÌÀÞÁÅÍÓÑ ÚÁ ÐÏÓÌÅÄÎÅÅ."
+#: ../../WPrefs.app/Workspace.c:273
+msgid "Top/Left"
+msgstr "÷×ÅÒÈÕ ÓÌÅ×Á"
 
-#: ../../WPrefs.app/Workspace.c:218
+#: ../../WPrefs.app/Workspace.c:274
+msgid "Top/Right"
+msgstr "÷×ÅÒÈÕ ÓÐÒÁ×Á"
+
+#: ../../WPrefs.app/Workspace.c:275
+msgid "Bottom/Left"
+msgstr "÷ÎÉÚÕ ÓÌÅ×Á"
+
+#: ../../WPrefs.app/Workspace.c:276
+msgid "Bottom/Right"
+msgstr "÷ÎÉÚÕ ÓÐÒÁ×Á"
+
+#: ../../WPrefs.app/Workspace.c:284
 msgid "Dock/Clip"
+msgstr "äÏË/óËÒÅÐËÁ"
+
+#: ../../WPrefs.app/Workspace.c:303
+msgid ""
+"Disable/enable the application Dock (the\n"
+"vertical icon bar in the side of the screen)."
+msgstr ""
+"úÁÐÒÅÔÉÔØ/ÒÁÚÒÅÛÉÔØ äÏË ÐÒÉÌÏÖÅÎÉÊ (×ÅÒÔÉËÁÌØÎÕÀ\n"
+"ÓÔÏÐËÕ ÉËÏÎÏË ÎÁ ÏÄÎÏÊ ÉÚ ÇÒÁÎÉÃ ÜËÒÁÎÁ)."
+
+#: ../../WPrefs.app/Workspace.c:324
+msgid ""
+"Disable/enable the Clip (that thing with\n"
+"a paper clip icon)."
 msgstr ""
+"úÁÐÒÅÔÉÔØ/ÒÁÚÒÅÛÉÔØ óËÒÅÐËÕ (×Ù ÅÅ ÕÚÎÁÅÔÅ ÐÏ ÉËÏÎËÅ\n"
+"Ó ÉÚÏÂÒÁÖÅÎÉÅÍ ÓËÒÅÐËÉ ÄÌÑ ÂÕÍÁÇÉ)."
 
-#: ../../WPrefs.app/Workspace.c:287
+#: ../../WPrefs.app/Workspace.c:364
 msgid "Workspace Preferences"
-msgstr "õÓÔÁÎÏ×ËÉ ÄÌÑ ÒÁÂÏÞÅÇÏ ÍÅÓÔÁ"
+msgstr "õÓÔÁÎÏ×ËÉ ÄÌÑ ÒÁÂÏÞÅÇÏ ÐÒÏÓÔÒÁÎÓÔ×Á"
 
-#: ../../WPrefs.app/MenuGuru.c:106
-msgid "Menu Guru - Select Type"
-msgstr "çÕÒÕ ÐÏ ÍÅÎÀ - ÕËÁÖÉÔÅ ÔÉÐ"
+#: ../../WPrefs.app/Workspace.c:366
+msgid ""
+"Workspace navigation features.\n"
+"You can also enable/disable the Dock and Clip here."
+msgstr ""
+"ïÓÏÂÅÎÎÏÓÔÉ ÎÁ×ÉÇÁÃÉÉ ÐÏ ÒÁÂÏÞÉÍ ÐÒÏÓÔÒÁÎÓÔ×ÁÍ.\n"
+"úÄÅÓØ ×Ù ÔÁËÖÅ ÍÏÖÅÔÅ ÒÁÚÒÅÛÉÔØ/ÚÁÐÒÅÔÉÔØ äÏË É óËÒÅÐËÕ."
+
+#: ../../WPrefs.app/WPrefs.c:260
+msgid "Window Maker Preferences"
+msgstr "ó×ÏÊÓÔ×Á Window Maker"
+
+#: ../../WPrefs.app/WPrefs.c:284
+msgid "Revert Page"
+msgstr "÷ÅÒÎÕÔØ ÓÔÒÁÎÉÃÕ"
 
-#: ../../WPrefs.app/MenuGuru.c:111 ../../WPrefs.app/MenuGuru.c:133 ../../WPrefs.app/MenuGuru.c:251
-msgid "Next"
-msgstr "óÌÅÄÕÀÝÉÊ"
+#: ../../WPrefs.app/WPrefs.c:290
+msgid "Revert All"
+msgstr "÷ÅÒÎÕÔØ ×ÓÅ"
 
-#: ../../WPrefs.app/MenuGuru.c:114
-msgid "Menu Guru - Select Menu File"
-msgstr "çÕÒÕ ÐÏ ÍÅÎÀ - ÕËÁÖÉÔÅ ÆÁÊÌ Ó ÍÅÎÀ"
+#: ../../WPrefs.app/WPrefs.c:296
+msgid "Save"
+msgstr "óÏÈÒÁÎÉÔØ"
 
-#: ../../WPrefs.app/MenuGuru.c:122
-msgid "Menu Guru - Select Pipe Command"
-msgstr "çÕÒÕ - ÕËÁÖÉÔÅ ËÏÍÁÎÄÕ ÄÌÑ pipe"
+#: ../../WPrefs.app/WPrefs.c:309
+msgid "Balloon Help"
+msgstr "÷ÓÐÌÙ×ÁÀÝÉÅ ÐÏÄÓËÁÚËÉ"
 
-#: ../../WPrefs.app/MenuGuru.c:129
-msgid "Menu Guru - Select Directories"
-msgstr "çÕÒÕ - ÕËÁÖÉÔÅ ÄÉÒÅËÔÏÒÉÉ"
+# awn: ÏÓÔÁ×ÌÅÎÏ ÂÅÚ ÐÅÒÅ×ÏÄÁ ÉÚ-ÚÁ ÐÒÏÂÌÅÍÙ ÓÏ ÛÒÉÆÔÁÍÉ.
+#: ../../WPrefs.app/WPrefs.c:334
+msgid "Window Maker Preferences Utility"
+msgstr ""
 
-#: ../../WPrefs.app/MenuGuru.c:136
-msgid "Menu Guru - Select Command"
-msgstr "çÕÒÕ - ÕËÁÖÉÔÅ ËÏÍÁÎÄÕ"
+#: ../../WPrefs.app/WPrefs.c:341
+#, c-format
+msgid "Version %s for Window Maker %s or newer"
+msgstr "÷ÅÒÓÉÑ %s ÄÌÑ Window Maker %s ÉÌÉ ÎÏ×ÅÅ"
 
-#: ../../WPrefs.app/MenuGuru.c:257
-msgid "Back"
-msgstr "îÁÚÁÄ"
+#: ../../WPrefs.app/WPrefs.c:349
+msgid "Starting..."
+msgstr "óÔÁÒÔÕÀ..."
 
-#: ../../WPrefs.app/MenuGuru.c:271
+#: ../../WPrefs.app/WPrefs.c:355
 msgid ""
-"This process will help you create a submenu which definition is located in another file or is created dynamically.\n"
-"What do you want to use as the contents of the submenu?"
-msgstr "üÔÏÔ ÐÒÏÃÅÓÓ ÐÏÍÏÖÅÔ ×ÁÍ ÓÏÚÄÁÔØ ÐÏÄÍÅÎÀ ÎÁÈÏÄÑÝÅÅÓÑ × ÄÒÕÇÏÍ ÆÁÊÌÅ ÉÌÉ ÓÏÚÄÁ×ÁÅÍÏÅ ÄÉÎÁÍÉÞÅÓËÉ.\n"
-"þÔÏ ×Ù ÈÏÔÉÔÅ ÉÓÐÏÌØÚÏ×ÁÔØ × ËÁÞÅÓÔ×Å ÓÏÄÅÒÖÁÎÉÑ ÜÔÏÇÏ ÐÏÄÍÅÎÀ"
-
-#: ../../WPrefs.app/MenuGuru.c:279
-msgid "A file containing the menu definition in the plain text (non-property list) menu format."
+"Programming/Design: Alfredo K. Kojima\n"
+"Artwork: Marco van Hylckama Vlieg, Largo et al\n"
+"More Programming: James Thompson et al"
 msgstr ""
+"ðÒÏÇÒÁÍÍÉÒÏ×ÁÎÉÅ/äÉÚÁÊÎ: Alfredo K. Kojima\n"
+"ïÆÏÒÍÌÅÎÉÅ: Marco van Hylckama Vlieg, Largo et al\n"
+"ðÒÏÇÒÁÍÍÉÒÏ×ÁÎÉÅ: James Thomson et al"
+
+#: ../../WPrefs.app/WPrefs.c:455
+#, c-format
+msgid "could not locate image file %s\n"
+msgstr "ÎÅ ÍÏÇÕ ÎÁÊÔÉ ÆÁÊÌ Ó ÉÚÏÂÒÁÖÅÎÉÅÍ %s\n"
+
+#: ../../WPrefs.app/WPrefs.c:670
+#, c-format
+msgid "could not load image file %s:%s"
+msgstr "ÎÅ ÍÏÇÕ ÚÁÇÒÕÚÉÔØ ÆÁÊÌ ÉÚÏÂÒÁÖÅÎÉÑ %s:%s"
 
-#: ../../WPrefs.app/MenuGuru.c:285
-msgid "The menu definition generated by a script/program read through a pipe."
+#: ../../WPrefs.app/WPrefs.c:689
+msgid "Loading Window Maker configuration files..."
+msgstr "úÁÇÒÕÖÁÀ ÆÁÊÌÙ ËÏÎÆÉÇÕÒÁÃÉÉ Window Maker..."
+
+#: ../../WPrefs.app/WPrefs.c:693
+msgid "Initializing configuration panels..."
+msgstr "éÎÉÃÉÁÌÉÚÉÒÕÀ ËÏÎÆÉÇÕÒÁÃÉÏÎÎÙÅ ÐÁÎÅÌÉ..."
+
+#: ../../WPrefs.app/WPrefs.c:727
+msgid ""
+"WPrefs is free software and is distributed WITHOUT ANY\n"
+"WARRANTY under the terms of the GNU General Public License."
 msgstr ""
+"WPrefs Ñ×ÌÑÅÔÓÑ Ó×ÏÂÏÄÎÙÍ ðï É ÒÁÓÐÒÏÓÔÒÁÎÑÅÔÓÑ âåú ëáëéè-ìéâï\n"
+"çáòáîôéê × ÓÏÏÔ×ÅÔÓÔ×ÉÉ Ó ÔÅÒÍÉÎÁÍÉ GNU General Public License."
 
-#: ../../WPrefs.app/MenuGuru.c:291
-msgid "The files in one or more directories."
-msgstr "æÁÊÌÙ × ÏÄÎÏÊ ÉÌÉ ÂÏÌÅÅ ÄÉÒÅËÔÏÒÉÑÈ."
+#: ../../WPrefs.app/WPrefs.c:757 ../../WPrefs.app/WPrefs.c:837
+#, c-format
+msgid "Window Maker domain (%s) is corrupted!"
+msgstr "Window Maker ÄÏÍÅÎ (%s) ÐÏ×ÒÅÖÄÅÎ!"
+
+#: ../../WPrefs.app/WPrefs.c:761
+#, c-format
+msgid "Could not load Window Maker domain (%s) from defaults database."
+msgstr "îÅ ÍÏÇÕ ÚÁÇÒÕÚÉÔØ ÄÏÍÅÎ Window MAker (%s) ÉÚ ÂÁÚÙ ÄÁÎÎÙÈ ÐÏ ÕÍÏÌÞÁÎÉÀ."
 
-#: ../../WPrefs.app/MenuGuru.c:303
-msgid "Type the path for the menu file:"
-msgstr "÷×ÅÄÉÔÅ ÐÕÔØ Ë ÆÁÊÌÕ Ó ÍÅÎÀ:"
+#: ../../WPrefs.app/WPrefs.c:777
+msgid "could not extract version information from Window Maker"
+msgstr "ÎÅ ÍÏÇÕ ÐÏÌÕÞÉÔØ ÎÏÍÅÒ ×ÅÒÓÉÉ Window Maker"
 
-#: ../../WPrefs.app/MenuGuru.c:318
-msgid "The menu file must contain a menu in the plain text menu file format. This format is described in the menu files included with WindowMaker, probably at ~/GNUstep/Library/WindowMaker/menu"
-msgstr "æÁÊÌ ÍÅÎÀ ÄÏÌÖÅÎ ÓÏÄÅÒÖÁÔØ ÍÅÎÀ × ÆÏÒÍÁÔÅ plain text. æÏÒÍÁÔ ÆÁÊÌÁ ÏÐÉÓÁÎ × menu ÆÁÊÌÁÈ ÉÄÕÝÉÈ Ó WindowMaker, ×ÅÒÏÑÔÎÅÅ ×ÓÅÇÏ ~/GNUstep/Library/WindowMaker/menu"
+#: ../../WPrefs.app/WPrefs.c:778
+msgid "Make sure wmaker is in your search path."
+msgstr "õÂÅÄÉÔÅÓØ ÞÔÏ ÐÕÔØ Ë wmaker ÏÐÒÅÄÅÌÅÎ."
 
-#: ../../WPrefs.app/MenuGuru.c:328
-msgid "Type the command that will generate the menu definition:"
-msgstr "îÁÂÅÒÉÔÅ ËÏÍÁÎÄÕ ËÏÔÏÒÁÑ ×ÏÊÄÅÔ × ÍÅÎÀ:"
+#: ../../WPrefs.app/WPrefs.c:781
+msgid ""
+"Could not extract version from Window Maker. Make sure it is correctly "
+"installed and is in your PATH environment variable."
+msgstr ""
+"îÅ ÍÏÇÕ ÐÏÌÕÞÉÔØ ×ÅÒÓÉÀ Window Maker. õÂÅÄÉÔÅÓØ ÞÔÏ ÏÎ ÕÓÔÁÎÏ×ÌÅÎ ËÏÒÒÅËÔÎÏ "
+"É ÐÅÒÅÍÅÎÎÁÑ ÏËÒÕÖÅÎÉÑ PATH ÓÏÄÅÒÖÉÔ ÐÕÔØ Ë ÎÅÍÕ."
 
-#: ../../WPrefs.app/MenuGuru.c:338
-msgid "The command supplied must generate and output a valid menu definition to stdout. This definition should be in the plain text menu file format, described in the menu files included with WindowMaker, usually at ~/GNUstep/Library/WindowMaker/menu"
+#: ../../WPrefs.app/WPrefs.c:791
+msgid ""
+"Could not extract version from Window Maker. Make sure it is correctly "
+"installed and the path where it installed is in the PATH environment "
+"variable."
 msgstr ""
+"îÅ ÍÏÇÕ ÐÏÌÕÞÉÔØ ×ÅÒÓÉÀ Window Maker. õÂÅÄÉÔÅÓØ ÞÔÏ ÏÎ ÕÓÔÁÎÏ×ÌÅÎ ËÏÒÒÅËÔÎÏ "
+"É ÐÕÔØ Ë ÍÅÓÔÕ ÇÄÅ ÏÎ ÕÓÔÁÎÏ×ÌÅÎ ÅÓÔØ × PATH."
 
-#: ../../WPrefs.app/MenuGuru.c:350 ../../WPrefs.app/MenuGuru.c:372 ../../WPrefs.app/MenuGuru.c:394
-msgid "Type the path for the directory. You can type more than one path by separating them with spaces."
-msgstr "îÁÂÅÒÉÔÅ ÐÕÔØ Ë ÄÉÒÅËÔÏÒÉÉ. ÷Ù ÍÏÖÉÔÅ ××ÅÓÔÉ ÂÏÌÅÅ ÏÄÎÏÇÏ ÐÕÔÉ ×ÁÚÄÅÌÉ× ÉÈ ÐÒÏÂÅÌÁÍÉ."
+#: ../../WPrefs.app/WPrefs.c:798
+#, c-format
+msgid ""
+"WPrefs only supports Window Maker 0.18.0 or newer.\n"
+"The version installed is %i.%i.%i\n"
+msgstr ""
+"WPrefs ÒÁÂÏÔÁÅÔ ÔÏÌØËÏ Ó Window Maker 0.18.0 ÉÌÉ ÎÏ×ÅÅ.\n"
+"õÓÔÁÎÏ×ÌÅÎÁ ×ÅÒÓÉÑ %i.%i.%i\n"
 
-#: ../../WPrefs.app/MenuGuru.c:361 ../../WPrefs.app/MenuGuru.c:383 ../../WPrefs.app/MenuGuru.c:405
-msgid "The menu generated will have an item for each file in the directory. The directories can contain program executables or data files (such as jpeg images)."
+#: ../../WPrefs.app/WPrefs.c:805
+#, c-format
+msgid ""
+"Window Maker %i.%i.%i, which is installed in your system, is not fully "
+"supported by this version of WPrefs."
 msgstr ""
+"Window Maker %i.%i.%i, ÕÓÔÁÎÏ×ÌÅÎÎÙÊ × ×ÁÛÅÊ ÓÉÓÔÅÍÅ ÎÅ ÐÏÄÄÅÒÖÉ×ÁÅÔÓÑ ÜÔÏÊ "
+"×ÅÒÓÉÅÊ WPrefs ÐÏÌÎÏÓÔØÀ."
 
-#: ../../WPrefs.app/MenuGuru.c:415
-msgid "If the directory contain data files, type the command used to open these files. Otherwise, leave it in blank."
-msgstr "åÓÌÉ ÄÉÒÅËÔÏÒÉÑ ÓÏÄÅÒÖÉÔ ÆÁÊÌÙ ÄÁÎÎÙÈ, ÎÁÂÅÒÉÔÅ ËÏÍÁÎÄÕ ÉÓÐÏÌØÚÕÅÍÕÀ ÄÌÑ ÏÔËÒÙÔÉÑ ÜÔÉÈ ÆÁÊÌÏ×. éÌÉ ÏÓÔÁ×ØÔÅ ÔÁË."
+#: ../../WPrefs.app/WPrefs.c:818
+#, c-format
+msgid "could not run \"%s --global_defaults_path\"."
+msgstr "ÎÅ ÍÏÇÕ ÚÁÐÕÓÔÉÔØ \"%s --global_defaults_path\"."
+
+#: ../../WPrefs.app/WPrefs.c:841
+#, c-format
+msgid "Could not load global Window Maker domain (%s)."
+msgstr "îÅ ÍÏÇÕ ÚÁÇÒÕÚÉÔØ ÇÌÏÂÁÌØÎÙÊ ÄÏÍÅÎ Window Maker (%s)."
 
-#: ../../WPrefs.app/MenuGuru.c:426
-msgid "Each file in the directory will have an item and they will be opened with the supplied command.For example, if the directory contains image files and the command is \"xv -root\", each file in the directory will have a menu item like \"xv -root imagefile\"."
+#: ../../WPrefs.app/WPrefs.c:1090
+#, c-format
+msgid ""
+"bad speed value for option %s\n"
+". Using default Medium"
 msgstr ""
+"ÎÅÐÒÁ×ÉÌØÎÏÅ ÚÎÁÞÅÎÉÅ ÓËÏÒÏÓÔÉ ÄÌÑ %s\n"
+". éÓÐÏÌØÚÕÅÍ ÐÏ-ÕÍÏÌÞÁÎÉÀ \"óÒÅÄÎÅÅ\""
diff -Naur WindowMaker-0.80.2/WPrefs.app/po/zh_TW.Big5.po wm-xft2/WPrefs.app/po/zh_TW.Big5.po
--- WindowMaker-0.80.2/WPrefs.app/po/zh_TW.Big5.po	2002-01-08 16:44:42.000000000 +0300
+++ wm-xft2/WPrefs.app/po/zh_TW.Big5.po	2003-10-22 14:08:35.000000000 +0400
@@ -1,1249 +1,790 @@
 # SOME DESCRIPTIVE TITLE.
 # Copyright (C) 1999 Free Software Foundation, Inc.
-# Li Wei Jih <lwj83@cs.ccu.edu.tw>, 1999, 2001.
+# Li Wei Jih <lwj83@cs.ccu.edu.tw>, 1999.
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: Window Maker-0.80.0\n"
-"POT-Creation-Date: 2001-12-24 03:19+0800\n"
-"PO-Revision-Date: 2001-12-24 09:00+0800\n"
-"Last-Translator: Li Wei Jih <lwj@manufacture.com.tw>\n"
+"Project-Id-Version: Window Maker-0.51.0\n"
+"POT-Creation-Date: 1999-02-09 13:00+0800\n"
+"PO-Revision-Date: 1999-02-09 13:00+0800\n"
+"Last-Translator: Li Wei Jih <lwj83@cs.ccu.edu.tw>\n"
 "Language-Team: chinese <zh@li.org>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=big5\n"
-"Content-Transfer-Encoding: 8-bit\n"
+"Content-Transfer-Encoding: 8-bit\n" 
 
-#: ../../WPrefs.app/Appearance.c:1131
-msgid "Select File"
-msgstr "¿ï¨úÀÉ®×"
-
-#: ../../WPrefs.app/Appearance.c:1533
-msgid "Focused Window"
-msgstr "µJÂIµøµ¡"
-
-#: ../../WPrefs.app/Appearance.c:1537
-msgid "Unfocused Window"
-msgstr "«DµJÂIµøµ¡"
-
-#: ../../WPrefs.app/Appearance.c:1541
-msgid "Owner of Focused Window"
-msgstr "µJÂIµøµ¡¾Ö¦³ªÌ"
-
-#: ../../WPrefs.app/Appearance.c:1545 ../../WPrefs.app/Appearance.c:1862
-msgid "Menu Title"
-msgstr "¿ï³æ¼ÐÃD"
-
-#: ../../WPrefs.app/Appearance.c:1549 ../../WPrefs.app/Appearance.c:1551
-msgid "Normal Item"
-msgstr "¥¿±`¶µ¥Ø"
-
-#: ../../WPrefs.app/Appearance.c:1555
-msgid "Disabled Item"
-msgstr "¥¢®Ä¶µ¥Ø"
-
-#: ../../WPrefs.app/Appearance.c:1564
-msgid "Highlighted"
-msgstr "±j½Õªº"
-
-#: ../../WPrefs.app/Appearance.c:1755
-msgid "Texture"
-msgstr "§÷½è"
-
-#: ../../WPrefs.app/Appearance.c:1763
-msgid "Titlebar of Focused Window"
-msgstr "µJÂIµøµ¡¼ÐÃD¦C"
-
-#: ../../WPrefs.app/Appearance.c:1764
-msgid "Titlebar of Unfocused Windows"
-msgstr "«DµJÂIµøµ¡¼ÐÃD¦C"
-
-#: ../../WPrefs.app/Appearance.c:1765
-msgid "Titlebar of Focused Window's Owner"
-msgstr "µJÂIµøµ¡¾Ö¦³ªÌ¼ÐÃD¦C"
-
-#: ../../WPrefs.app/Appearance.c:1766
-msgid "Window Resizebar"
-msgstr "µøµ¡¤j¤pÅÜ§ó¦C"
-
-#: ../../WPrefs.app/Appearance.c:1767
-msgid "Titlebar of Menus"
-msgstr "¿ï³æ¼ÐÃD¦C"
-
-#: ../../WPrefs.app/Appearance.c:1768
-msgid "Menu Items"
-msgstr "¿ï³æ¶µ¥Ø"
-
-#: ../../WPrefs.app/Appearance.c:1769
-msgid "Icon Background"
-msgstr "¹Ï¥Ü­I´º"
-
-#: ../../WPrefs.app/Appearance.c:1784
-msgid ""
-"Double click in the texture you want to use\n"
-"for the selected item."
-msgstr ""
-"¦b§A­n¥Î©ó¿ï¨ú¶µ¥Øªº§÷½è¤WÂI¨â¤U¡C"
-
-#: ../../WPrefs.app/Appearance.c:1798
-msgid "New"
-msgstr "·s¼W"
-
-#: ../../WPrefs.app/Appearance.c:1802
-msgid "Create a new texture."
-msgstr "«Ø¥ß·s§÷½è"
-
-#: ../../WPrefs.app/Appearance.c:1810
-msgid "Extract..."
-msgstr "¨ú¥X..."
-
-#: ../../WPrefs.app/Appearance.c:1814
-msgid "Extract texture(s) from a theme or a style file."
-msgstr "±q¥DÃD©Î­·®æÀÉ¨ú¥X§÷½è¡C"
-
-#: ../../WPrefs.app/Appearance.c:1824
-msgid "Edit"
-msgstr "½s¿è"
-
-#: ../../WPrefs.app/Appearance.c:1827
-msgid "Edit the highlighted texture."
-msgstr "½s¿è±j½Õªº§÷½è¡C"
-
-#: ../../WPrefs.app/Appearance.c:1835 ../../WPrefs.app/TexturePanel.c:1316
-msgid "Delete"
-msgstr "§R°£"
-
-#: ../../WPrefs.app/Appearance.c:1839
-msgid "Delete the highlighted texture."
-msgstr "§R°£±j½Õªº§÷½è¡C"
-
-#: ../../WPrefs.app/Appearance.c:1852
-msgid "Color"
-msgstr "¦â±m"
-
-#: ../../WPrefs.app/Appearance.c:1859
-msgid "Focused Window Title"
-msgstr "µJÂIµøµ¡¼ÐÃD"
-
-#: ../../WPrefs.app/Appearance.c:1860
-msgid "Unfocused Window Title"
-msgstr "«DµJÂIµøµ¡¼ÐÃD"
-
-#: ../../WPrefs.app/Appearance.c:1861
-msgid "Owner of Focused Window Title"
-msgstr "µJÂIµøµ¡¾Ö¦³ªÌ¼ÐÃD"
-
-#: ../../WPrefs.app/Appearance.c:1863
-msgid "Menu Item Text"
-msgstr "¿ï³æ¶µ¥Ø¤å¦r"
-
-#: ../../WPrefs.app/Appearance.c:1864
-msgid "Disabled Menu Item Text"
-msgstr "¥¢®Ä¿ï³æ¶µ¥Ø¤å¦r"
-
-#: ../../WPrefs.app/Appearance.c:1865
-msgid "Menu Highlight Color"
-msgstr "¿ï³æ±j½Õ¦â±m"
-
-#: ../../WPrefs.app/Appearance.c:1866
-msgid "Highlighted Menu Text Color"
-msgstr "±j½Õ¿ï³æ¤å¦r¦â±m"
-
-#: ../../WPrefs.app/Appearance.c:1905
-msgid "Background"
-msgstr "­I´º"
-
-#: ../../WPrefs.app/Appearance.c:1917 ../../WPrefs.app/TexturePanel.c:1503
-msgid "Browse..."
-msgstr "ÂsÄý..."
-
-#: ../../WPrefs.app/Appearance.c:1930
-msgid "Options"
-msgstr "¿ï¶µ"
-
-#: ../../WPrefs.app/Appearance.c:1937
-msgid "Menu Style"
-msgstr "¿ï³æ­·®æ"
-
-#: ../../WPrefs.app/Appearance.c:1965 ../../WPrefs.app/Configurations.c:242
-#: ../../WPrefs.app/Configurations.c:254 ../../WPrefs.app/Focus.c:288
-#: ../../WPrefs.app/Focus.c:299 ../../WPrefs.app/MenuPreferences.c:134
-#: ../../WPrefs.app/MenuPreferences.c:145
-#: ../../WPrefs.app/MenuPreferences.c:173
-#: ../../WPrefs.app/MenuPreferences.c:188 ../../WPrefs.app/MouseSettings.c:560
-#: ../../WPrefs.app/MouseSettings.c:571 ../../WPrefs.app/WPrefs.c:558
-#: ../../WPrefs.app/WPrefs.c:583
-#, c-format
-msgid "could not load icon file %s"
-msgstr "µLªk¸ü¤J¹Ï¥ÜÀÉ %s"
-
-#: ../../WPrefs.app/Appearance.c:1979
-msgid "Title Alignment"
-msgstr "¼ÐÃD¹ï»ô"
-
-#: ../../WPrefs.app/Appearance.c:1986
-msgid "Left"
-msgstr "¾a¥ª"
-
-#: ../../WPrefs.app/Appearance.c:1989 ../../WPrefs.app/TexturePanel.c:1517
-#: ../../WPrefs.app/Workspace.c:270
-msgid "Center"
-msgstr "¸m¤¤"
-
-#: ../../WPrefs.app/Appearance.c:1992
-msgid "Right"
-msgstr "¾a¥k"
-
-#: ../../WPrefs.app/Appearance.c:2216
-msgid "Appearance Preferences"
-msgstr "¥~Æ[³]©w"
-
-#: ../../WPrefs.app/Appearance.c:2218
-msgid ""
-"Background texture configuration for windows,\n"
-"menus and icons."
-msgstr "µøµ¡¡B¿ï³æ»P¹Ï¥Üªº­I´º§÷½è³]©w¡C"
-
-#: ../../WPrefs.app/Appearance.c:2263
-msgid "Extract Texture"
-msgstr "¨ú¥X§÷½è"
-
-#: ../../WPrefs.app/Appearance.c:2283
-msgid "Textures"
-msgstr "§÷½è"
-
-#: ../../WPrefs.app/Appearance.c:2294 ../../WPrefs.app/WPrefs.c:302
-msgid "Close"
-msgstr "Ãö³¬"
-
-#: ../../WPrefs.app/Appearance.c:2299
-msgid "Extract"
-msgstr "¨ú¥X"
-
-#: ../../WPrefs.app/Configurations.c:150 ../../WPrefs.app/Configurations.c:156
-#: ../../WPrefs.app/MouseSettings.c:490 ../../WPrefs.app/WindowHandling.c:339
-#: ../../WPrefs.app/WindowHandling.c:351 ../../WPrefs.app/Workspace.c:90
-#: ../../WPrefs.app/Workspace.c:101
+#: ../../WPrefs.app/Configurations.c:142 ../../WPrefs.app/Configurations.c:148
+#: ../../WPrefs.app/MouseSettings.c:526 ../../WPrefs.app/WindowHandling.c:274
+#: ../../WPrefs.app/WindowHandling.c:286 ../../WPrefs.app/Workspace.c:71
+#: ../../WPrefs.app/Workspace.c:77
 #, c-format
 msgid "could not load icon %s"
 msgstr "µLªk¸ü¤J¹Ï¥Ü %s"
 
-#: ../../WPrefs.app/Configurations.c:164 ../../WPrefs.app/Workspace.c:109
+#: ../../WPrefs.app/Configurations.c:156 ../../WPrefs.app/Workspace.c:85
 #, c-format
 msgid "could not process icon %s:"
 msgstr "µLªk³B²z¹Ï¥Ü %s:"
 
-#: ../../WPrefs.app/Configurations.c:189 ../../WPrefs.app/Workspace.c:164
+#: ../../WPrefs.app/Configurations.c:181 ../../WPrefs.app/Workspace.c:124
 #, c-format
 msgid "could not load image file %s"
 msgstr "µLªk¸ü¤J¼v¹³ÀÉ %s"
 
-#: ../../WPrefs.app/Configurations.c:203
+#: ../../WPrefs.app/Configurations.c:195
 msgid "Icon Slide Speed"
 msgstr "¹Ï¥Ü²¾°Ê³t«×"
 
-#: ../../WPrefs.app/Configurations.c:209
+#: ../../WPrefs.app/Configurations.c:201
 msgid "Shade Animation Speed"
 msgstr "¾B½ª°Êµe³t«×"
 
-#: ../../WPrefs.app/Configurations.c:271
-msgid "Smooth Scaling"
-msgstr "¥­·ÆÁY©ñ"
-
-#: ../../WPrefs.app/Configurations.c:272
-msgid ""
-"Smooth scaled background images, neutralizing\n"
-"the `pixelization' effect. This will slow\n"
-"down loading of background images considerably."
-msgstr ""
-"¥­·ÆÁY©ñ­I´º¼v¹³¡A¤¤©M¡u¿÷¾¦¡v®ÄªG¡C\n"
-"³o·|¨Ï­I´º¼v¹³¸ü¤JÅÜºC¤£¤Ö¡C"
+#: ../../WPrefs.app/Configurations.c:234 ../../WPrefs.app/Configurations.c:246
+#: ../../WPrefs.app/Focus.c:310 ../../WPrefs.app/Focus.c:321
+#: ../../WPrefs.app/MenuPreferences.c:135
+#: ../../WPrefs.app/MenuPreferences.c:146
+#: ../../WPrefs.app/MenuPreferences.c:174
+#: ../../WPrefs.app/MenuPreferences.c:189 ../../WPrefs.app/MouseSettings.c:554
+#: ../../WPrefs.app/MouseSettings.c:565 ../../WPrefs.app/MouseSettings.c:627
+#: ../../WPrefs.app/MouseSettings.c:638 ../../WPrefs.app/MouseSettings.c:674
+#: ../../WPrefs.app/MouseSettings.c:689 ../../WPrefs.app/MouseSettings.c:705
+#: ../../WPrefs.app/WPrefs.c:403 ../../WPrefs.app/WPrefs.c:421
+#, c-format
+msgid "could not load icon file %s"
+msgstr "µLªk¸ü¤J¹Ï¥ÜÀÉ %s"
 
-#: ../../WPrefs.app/Configurations.c:313
+#: ../../WPrefs.app/Configurations.c:262
 msgid "Titlebar Style"
 msgstr "¼ÐÃD¦C­·®æ"
 
-#: ../../WPrefs.app/Configurations.c:351
+#: ../../WPrefs.app/Configurations.c:299
 msgid "Animations and Sound"
 msgstr "°Êµe»P­µ®Ä"
 
-#: ../../WPrefs.app/Configurations.c:357
+#: ../../WPrefs.app/Configurations.c:305
 msgid "Animations"
 msgstr "°Êµe"
 
-#: ../../WPrefs.app/Configurations.c:368
-msgid ""
-"Disable/enable animations such as those shown\n"
-"for window miniaturization, shading etc."
-msgstr "°±¥Î/±Ò¥Î°Êµe¡A¨Ò¦pµøµ¡³Ì¤p¤Æ¡B¾B½ªµ¥ªºÅã¥Ü¡C"
-
-#: ../../WPrefs.app/Configurations.c:376
+#: ../../WPrefs.app/Configurations.c:321
 msgid "Superfluous"
 msgstr "¦h¾lªº"
 
-#: ../../WPrefs.app/Configurations.c:387
-msgid ""
-"Disable/enable `superfluous' features and\n"
-"animations. These include the `ghosting' of the\n"
-"dock when it's being moved to another side and\n"
-"the explosion animation when undocking icons."
-msgstr ""
-"°±¥Î/±Ò¥Î¡u¦h¾lªº¡v¯S¦â»P°Êµe¡C\n"
-"³o¥]¬A°±¾a°Ï³Q²¾¦Ü¥t¤@Ãä®Éªº¡u°­¼v¡v\n"
-"»P¹Ï¥ÜÂ÷¶}°±¾a°Ï®ÉªºÃz¬µ°Êµe¡C"
-
-#: ../../WPrefs.app/Configurations.c:397
+#: ../../WPrefs.app/Configurations.c:337
 msgid "Sounds"
 msgstr "­µ®Ä"
 
-#: ../../WPrefs.app/Configurations.c:408
-msgid ""
-"Disable/enable support for sound effects played\n"
-"for actions like shading and closing a window.\n"
-"You will need a module distributed separately\n"
-"for this. You can get it at:\n"
-"http://shadowmere.student.utwente.nl/"
-msgstr ""
-"°±¥Î/±Ò¥Î¹³¬O¾B½ª»PÃö³¬µøµ¡°Ê§@¼½©ñªº­µ®Ä¤ä´©¡C\n"
-"»Ý­n³æ¿Wµo°eªº¼Ò²Õ¡C§A¥i¥H¦b³oÃä±o¨ì¡G\n"
-"http://shadowmere.student.utwente.nl/"
-
-#: ../../WPrefs.app/Configurations.c:419
-msgid ""
-"Note: sound requires a module distributed\n"
-"separately"
+#: ../../WPrefs.app/Configurations.c:354
+msgid "Note: sound requires a module distributed separately"
 msgstr "µù¡G­µ®Ä»Ý­n³æ¿Wµo°eªº¼Ò²Õ"
 
-#: ../../WPrefs.app/Configurations.c:429
+#: ../../WPrefs.app/Configurations.c:364
 msgid "Dithering colormap for 8bpp"
 msgstr "¬° 8bpp ¦â½L´î¦â"
 
-#: ../../WPrefs.app/Configurations.c:431
-msgid ""
-"Number of colors to reserve for Window Maker\n"
-"on displays that support only 8bpp (PseudoColor)."
-msgstr ""
-"¦b¥u¤ä´© 8bpp¡]µêÀÀ¦â±m¡^ªºÅã¥Ü¾¹¤W\n"
-"«O¯dµ¹ Window Maker ªº¦â±m¼Æ¡C"
-
-#: ../../WPrefs.app/Configurations.c:438
+#: ../../WPrefs.app/Configurations.c:369
 msgid "Disable dithering in any visual/depth"
 msgstr "¨Ï¥ô¦óµøÄ±/²`«×¤¤ªº´î¦â¥¢®Ä"
 
-#: ../../WPrefs.app/Configurations.c:459
-msgid ""
-"More colors for\n"
-"applications"
+#: ../../WPrefs.app/Configurations.c:390
+msgid "More colors for applications"
 msgstr ""
 "À³¥Îµ{¦¡\n"
 "¨Ï¥Î§ó¦h¦â±m"
 
-#: ../../WPrefs.app/Configurations.c:466
-msgid ""
-"More colors for\n"
-"Window Maker"
+#: ../../WPrefs.app/Configurations.c:397
+msgid "More colors for WindowMaker"
 msgstr ""
-"Window Maker\n"
+"WindowMaker\n"
 "¨Ï¥Î§ó¦h¦â±m"
 
-#: ../../WPrefs.app/Configurations.c:521
+#: ../../WPrefs.app/Configurations.c:450
 msgid "Other Configurations"
 msgstr "¨ä¥L³]©w"
 
-#: ../../WPrefs.app/Configurations.c:523
-msgid ""
-"Animation speeds, titlebar styles, various option\n"
-"toggling and number of colors to reserve for\n"
-"Window Maker on 8bit displays."
-msgstr ""
-"°Êµe³t«×¡A¼ÐÃD¦C­·®æ¡A¦UºØ¿ï¶µ¤Á´«»P\n"
-"¦b 8bit Åã¥Ü¾¹¤W«O¯dµ¹ Window Maker ªº¦â±m¼Æ¡C"
-
-#: ../../WPrefs.app/Expert.c:75
-msgid ""
-"Disable miniwindows (icons for miniaturized windows). For use with KDE/GNOME."
-msgstr "¨Ï³Ì¤pµøµ¡¡]³Ì¤p¤Æµøµ¡ªº¹Ï¥Ü¡^¥¢®Ä¡C¥Î©ó KDE/GNOME¡C"
-
-#: ../../WPrefs.app/Expert.c:76
-msgid "Do not set non-WindowMaker specific parameters (do not use xset)."
-msgstr "¤£­n³]«D WindowMaker «ü©w°Ñ¼Æ¡]¤£­n¨Ï¥Î xset¡^¡C"
-
-#: ../../WPrefs.app/Expert.c:77
-msgid "Automatically save session when exiting Window Maker."
-msgstr "Â÷¶} Window Maker ®É¦Û°ÊÀx¦s¶¥¬qª¬ºA¡C"
+#: ../../WPrefs.app/Expert.c:70
+msgid "Do not set non-WindowMaker specific parameters (do not use xset)"
+msgstr "¤£­n³]«D WindowMaker «ü©w°Ñ¼Æ¡]¤£­n¨Ï¥Î xset¡^"
+
+#: ../../WPrefs.app/Expert.c:71
+msgid "Automatically save session when exiting WindowMaker"
+msgstr "Â÷¶} WindowMaker ®É¦Û°ÊÀx¦s¶¥¬qª¬ºA"
+
+#: ../../WPrefs.app/Expert.c:72
+msgid "Use SaveUnder in window frames, icons, menus and other objects"
+msgstr "¦bµøµ¡®Ø¬[¡A¹Ï¥Ü¡A¿ï³æ»P¨ä¥Lª«¥ó¨Ï¥Î SaveUnder"
+
+#: ../../WPrefs.app/Expert.c:73
+msgid "Disable cycling color highlighting of icons."
+msgstr "¨Ï¹Ï¥Üªº´`Àô¦â±m±j½Õ¥¢®Ä"
 
-#: ../../WPrefs.app/Expert.c:78
-msgid "Use SaveUnder in window frames, icons, menus and other objects."
-msgstr "¦bµøµ¡®Ø¬[¹Ï¥Ü¡A¿ï³æ»P¨ä¥Lª«¥ó¨Ï¥Î SaveUnder¡C"
-
-#: ../../WPrefs.app/Expert.c:79
-msgid "Use Windoze style cycling."
-msgstr "¨Ï¥Î Windoze ­·®æ´`Àô¡C"
+#: ../../WPrefs.app/Expert.c:103
+msgid "Expert User Preferences"
+msgstr "¼ô½m¨Ï¥ÎªÌ³]©w"
 
-#: ../../WPrefs.app/Expert.c:80
-msgid "Disable confirmation panel for the Kill command."
-msgstr "¨Ï Kill ©R¥Oªº½T»{­±ªO¥¢®Ä¡C"
+#: ../../WPrefs.app/Focus.c:79
+#, c-format
+msgid "bad option value %s for option FocusMode. Using default Manual"
+msgstr "FocusMode ¿ï¶µ­È %s ¿ù»~¡C¨Ï¥Î¹w³]­È"
 
-#: ../../WPrefs.app/Expert.c:81
-msgid "Disable selection animation for selected icons."
-msgstr "¨Ï¿ï¨ú¹Ï¥Üªº¿ï¾Ü°Êµe¥¢®Ä¡C"
+#: ../../WPrefs.app/Focus.c:92
+#, c-format
+msgid "bad option value %s for option ColormapMode. Using default Manual"
+msgstr "ColormapMode ¿ï¶µ­È %s ¿ù»~¡C¨Ï¥Î¹w³]­È"
 
-#: ../../WPrefs.app/Expert.c:115
-msgid "Expert User Preferences"
-msgstr "ºë³qªº¨Ï¥ÎªÌ³]©w"
+#: ../../WPrefs.app/Focus.c:190
+msgid ""
+"Click on the window to set\n"
+"keyboard input focus."
+msgstr "¦bµøµ¡¤W«ö¤@¤U³]©wÁä½L¿é¤JµJÂI¡C"
 
-#: ../../WPrefs.app/Expert.c:117
+#: ../../WPrefs.app/Focus.c:194
 msgid ""
-"Options for people who know what they're doing...\n"
-"Also have some other misc. options."
+"Set keyboard input focus to\n"
+"the window under the mouse pointer,\n"
+"including the root window."
 msgstr ""
-"µ¹ª¾¹D¥L­Ì¦b°µ¤°»òªº¤H¥Îªº¿ï¶µ...\n"
-"¤]¦³¤@¨Ç¨ä¥L¦UºØ¿ï¶µ¡C"
-
-#: ../../WPrefs.app/Focus.c:80
-#, c-format
-msgid "bad option value %s for option FocusMode. Using default Manual"
-msgstr "FocusMode ¿ï¶µ­È %s ¿ù»~¡C¨Ï¥Î¹w³]­È¡u¤â°Ê¡v"
+"³]©wÁä½L¿é¤JµJÂI¦Ü\n"
+"·Æ¹««ü¼Ð¤U­±ªºµøµ¡¡A\n"
+"¥]§t®Úµøµ¡¡C"
 
-#: ../../WPrefs.app/Focus.c:94
-#, c-format
-msgid "bad option value %s for option ColormapMode. Using default Auto"
-msgstr "ColormapMode ¿ï¶µ­È %s ¿ù»~¡C¨Ï¥Î¹w³]­È¡u¦Û°Ê¡v"
+#: ../../WPrefs.app/Focus.c:199
+msgid ""
+"Set keyboard input focus to\n"
+"the window under the mouse pointer,\n"
+"except the root window."
+msgstr ""
+"³]©wÁä½L¿é¤JµJÂI¦Ü\n"
+"·Æ¹««ü¼Ð¤U­±ªºµøµ¡¡A\n"
+"®Úµøµ¡°£¥~¡C"
 
-#: ../../WPrefs.app/Focus.c:214
+#: ../../WPrefs.app/Focus.c:243
 msgid "Input Focus Mode"
 msgstr "¿é¤JµJÂI¼Ò¦¡"
 
-#: ../../WPrefs.app/Focus.c:222
-msgid "Manual:  Click on the window to set keyboard input focus"
-msgstr "¤â°Ê¡G¦bµøµ¡¤W«ö¤@¤U³]©wÁä½L¿é¤JµJÂI"
-
-#: ../../WPrefs.app/Focus.c:229
-msgid "Auto:  Set keyboard input focus to the window under the mouse pointer"
-msgstr "¦Û°Ê¡G³]©wÁä½L¿é¤JµJÂI¦Ü·Æ¹««ü¼Ð¤U­±ªºµøµ¡"
+#: ../../WPrefs.app/Focus.c:248
+msgid "Click window to focus"
+msgstr "«öµøµ¡¨ú±oµJÂI"
+
+#: ../../WPrefs.app/Focus.c:249
+msgid "Focus follows mouse"
+msgstr "µJÂI¸òµÛ·Æ¹«"
+
+#: ../../WPrefs.app/Focus.c:250
+msgid "\"Sloppy\" focus"
+msgstr "\"Sloppy\" µJÂI"
 
-#: ../../WPrefs.app/Focus.c:243
+#: ../../WPrefs.app/Focus.c:265
 msgid "Install colormap in the window..."
 msgstr "¦w¸Ë¦â½L..."
 
-#: ../../WPrefs.app/Focus.c:248
+#: ../../WPrefs.app/Focus.c:270
 msgid "...that has the input focus."
 msgstr "...¿é¤JµJÂI©Ò¦bµøµ¡¡C"
 
-#: ../../WPrefs.app/Focus.c:253
+#: ../../WPrefs.app/Focus.c:275
 msgid "...that is under the mouse pointer."
 msgstr "...·Æ¹««ü¼Ð¤U­±ªºµøµ¡¡C"
 
-#: ../../WPrefs.app/Focus.c:262
+#: ../../WPrefs.app/Focus.c:284
 msgid "Automatic Window Raise Delay"
 msgstr "¦Û°Ê¤É°_µøµ¡©µ¿ð"
 
-#: ../../WPrefs.app/Focus.c:319 ../../WPrefs.app/MouseSettings.c:601
+#: ../../WPrefs.app/Focus.c:341
 msgid "msec"
 msgstr "²@¬í"
 
-#: ../../WPrefs.app/Focus.c:336
-msgid ""
-"Do not let applications receive\n"
-"the click used to focus windows."
+#: ../../WPrefs.app/Focus.c:358
+msgid "Do not let applications receive the click used to focus windows."
 msgstr ""
 "¤£­nÅýÀ³¥Îµ{¦¡±o¨ì¥Î¨Ó³]©w\n"
-"µøµ¡µJÂIªº·Æ¹««öÁä¡C"
+"µøµ¡µJÂIªº·Æ¹««öÁä°Ê§@¡C"
 
-#: ../../WPrefs.app/Focus.c:342
-msgid ""
-"Automatically focus new\n"
-"windows."
+#: ../../WPrefs.app/Focus.c:364
+msgid "Automatically focus new windows."
 msgstr "·sµøµ¡¦Û°Ê±o¨ìµJÂI¡C"
 
-#: ../../WPrefs.app/Focus.c:363
+#: ../../WPrefs.app/Focus.c:385
 msgid "Window Focus Preferences"
 msgstr "µøµ¡µJÂI³]©w"
 
-#: ../../WPrefs.app/Focus.c:365
-msgid ""
-"Keyboard focus switching policy, colormap switching\n"
-"policy for 8bpp displays and other related options."
-msgstr ""
-"Áä½LµJÂI¤Á´«µ¦²¤¡A8bpp Åã¥Ü¾¹¦â½L¤Á´«µ¦²¤\n"
-"»P¨ä¥L¬ÛÃö¿ï¶µ¡C"
-
-#: ../../WPrefs.app/Font.c:276
-msgid "Could not locate font information file WPrefs.app/font.data"
-msgstr "µLªk§ä¨ì¦r«¬¸ê°TÀÉ WPrefs.app/font.data"
-
-#: ../../WPrefs.app/Font.c:282
-msgid "Could not read font information file WPrefs.app/font.data"
-msgstr "µLªkÅª¨ú¦r«¬¸ê°TÀÉ WPrefs.app/font.data"
-
-#: ../../WPrefs.app/Font.c:293
-msgid ""
-"Invalid data in font information file WPrefs.app/font.data.\n"
-"Encodings data not found."
-msgstr ""
-"¦r«¬¸ê°TÀÉ WPrefs.app/font.data ¦³µL®Ä¸ê®Æ¡C\n"
-"§ä¤£¨ì½s½X¸ê®Æ¡C"
-
-#: ../../WPrefs.app/Font.c:298
-msgid "- Custom -"
-msgstr "- ¦Û­q -"
-
-#: ../../WPrefs.app/Font.c:329 ../../WPrefs.app/Menu.c:1534
-#: ../../WPrefs.app/MouseSettings.c:140 ../../WPrefs.app/MouseSettings.c:160
-#: ../../WPrefs.app/TexturePanel.c:613 ../../WPrefs.app/TexturePanel.c:693
-#: ../../WPrefs.app/Themes.c:96 ../../WPrefs.app/WPrefs.c:758
-#: ../../WPrefs.app/WPrefs.c:763 ../../WPrefs.app/WPrefs.c:780
-#: ../../WPrefs.app/WPrefs.c:790 ../../WPrefs.app/WPrefs.c:800
-#: ../../WPrefs.app/WPrefs.c:838 ../../WPrefs.app/WPrefs.c:843
-msgid "Error"
-msgstr "¿ù»~"
-
-#: ../../WPrefs.app/Font.c:329 ../../WPrefs.app/Menu.c:1534
-#: ../../WPrefs.app/MouseSettings.c:142 ../../WPrefs.app/MouseSettings.c:162
-#: ../../WPrefs.app/TexturePanel.c:614 ../../WPrefs.app/TexturePanel.c:695
-#: ../../WPrefs.app/TexturePanel.c:1528 ../../WPrefs.app/Themes.c:98
-#: ../../WPrefs.app/WPrefs.c:758 ../../WPrefs.app/WPrefs.c:763
-#: ../../WPrefs.app/WPrefs.c:782 ../../WPrefs.app/WPrefs.c:794
-#: ../../WPrefs.app/WPrefs.c:800 ../../WPrefs.app/WPrefs.c:807
-#: ../../WPrefs.app/WPrefs.c:838 ../../WPrefs.app/WPrefs.c:843
-#: ../../WPrefs.app/imagebrowser.c:105
-msgid "OK"
-msgstr "½T©w"
-
-#: ../../WPrefs.app/Font.c:376
-msgid "Default Font Sets"
-msgstr "¹w³]¦r«¬¶°"
-
-#: ../../WPrefs.app/Font.c:389
-msgid "Font Set"
-msgstr "¦r«¬¶°"
-
-#: ../../WPrefs.app/Font.c:418
-msgid "Add..."
-msgstr "·s¼W..."
-
-#: ../../WPrefs.app/Font.c:423 ../../WPrefs.app/Font.c:438
-msgid "Change..."
-msgstr "§ïÅÜ..."
-
-#: ../../WPrefs.app/Font.c:428 ../../WPrefs.app/Paths.c:288
-#: ../../WPrefs.app/Paths.c:319
-msgid "Remove"
-msgstr "§R°£"
-
-#: ../../WPrefs.app/Font.c:477
-msgid "Font Preferences"
-msgstr "¦r«¬³]©w"
-
-#: ../../WPrefs.app/Font.c:478
-msgid "Font Configurations for Windows, Menus etc"
-msgstr "µøµ¡¡B¿ï³æµ¥ªº¦r«¬³]©w"
-
-#: ../../WPrefs.app/Icons.c:180
+#: ../../WPrefs.app/Icons.c:178
 msgid "Icon Positioning"
 msgstr "¹Ï¥Ü¦ì¸m"
 
-#: ../../WPrefs.app/Icons.c:227
+#: ../../WPrefs.app/Icons.c:225
 msgid "Iconification Animation"
 msgstr "ÁY¦¨¹Ï¥Ü°Êµe"
 
-#: ../../WPrefs.app/Icons.c:238
+#: ../../WPrefs.app/Icons.c:236
 msgid "Shrinking/Zooming"
 msgstr "ÁY¤p/©ñ¤j"
 
-#: ../../WPrefs.app/Icons.c:239
+#: ../../WPrefs.app/Icons.c:237
 msgid "Spinning/Twisting"
 msgstr "°jÂà/Âà¦V"
 
-#: ../../WPrefs.app/Icons.c:240
+#: ../../WPrefs.app/Icons.c:238
 msgid "3D-flipping"
 msgstr "¥ßÅéÂ½Âà"
 
-#: ../../WPrefs.app/Icons.c:241 ../../WPrefs.app/MouseSettings.c:838
-#: ../../WPrefs.app/MouseSettings.c:843
+#: ../../WPrefs.app/Icons.c:239
 msgid "None"
 msgstr "µL"
 
-#: ../../WPrefs.app/Icons.c:254
+#: ../../WPrefs.app/Icons.c:247
+msgid "Icon Display"
+msgstr "¹Ï¥ÜÅã¥Ü"
+
+#: ../../WPrefs.app/Icons.c:252
 msgid "Auto-arrange icons"
 msgstr "¦Û°Ê±Æ¦C¹Ï¥Ü"
 
-#: ../../WPrefs.app/Icons.c:256
-msgid "Keep icons and miniwindows arranged all the time."
-msgstr "ÀH®É«O«ù¹Ï¥Ü»P³Ì¤pµøµ¡±Æ¦C¾ã»ô¡C"
-
-#: ../../WPrefs.app/Icons.c:262
+#: ../../WPrefs.app/Icons.c:257
 msgid "Omnipresent miniwindows"
 msgstr "³Ì¤pµøµ¡µL©Ò¤£¦b"
 
-#: ../../WPrefs.app/Icons.c:264
-msgid "Make miniwindows be present in all workspaces."
-msgstr "Åý³Ì¤pµøµ¡¥X²{¦b©Ò¦³¤u§@°Ï¡C"
-
-#: ../../WPrefs.app/Icons.c:273
+#: ../../WPrefs.app/Icons.c:265
 msgid "Icon Size"
 msgstr "¹Ï¥Ü¤j¤p"
 
-#: ../../WPrefs.app/Icons.c:275
-msgid "The size of the dock/application icon and miniwindows"
-msgstr "°±¾a°Ï/À³¥Îµ{¦¡¹Ï¥Ü»P³Ì¤pµøµ¡¤§¤j¤p"
-
-#: ../../WPrefs.app/Icons.c:345
+#: ../../WPrefs.app/Icons.c:335
 msgid "Icon Preferences"
 msgstr "¹Ï¥Ü³]©w"
 
-#: ../../WPrefs.app/Icons.c:347
-msgid ""
-"Icon/Miniwindow handling options. Icon positioning\n"
-"area, sizes of icons, miniaturization animation style."
-msgstr ""
-"¹Ï¥Ü/³Ì¤pµøµ¡³B²z¿ï¶µ¡C¹Ï¥Ü©ñ¸m°Ï°ì¡B\n"
-"¹Ï¥Ü¤j¤p¡B³Ì¤p¤Æ°Êµe­·®æ¡C"
-
-#: ../../WPrefs.app/KeyboardSettings.c:73
+#: ../../WPrefs.app/KeyboardSettings.c:72
 msgid "Initial Key Repeat"
 msgstr "±Ò©l«öÁä­«½Æ"
 
-#: ../../WPrefs.app/KeyboardSettings.c:114
+#: ../../WPrefs.app/KeyboardSettings.c:113
 msgid "Key Repeat Rate"
 msgstr "«öÁä­«½Æ³t²v"
 
-#: ../../WPrefs.app/KeyboardSettings.c:154
+#: ../../WPrefs.app/KeyboardSettings.c:153
 msgid "Type here to test"
 msgstr "¦b¦¹¥´¦r´ú¸Õ"
 
-#: ../../WPrefs.app/KeyboardSettings.c:173
+#: ../../WPrefs.app/KeyboardSettings.c:172
 msgid "Keyboard Preferences"
 msgstr "Áä½L³]©w"
 
-#: ../../WPrefs.app/KeyboardSettings.c:175
-msgid "Not done"
-msgstr "¥¼§¹¦¨"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:186 ../../WPrefs.app/Menu.c:327
-#: ../../WPrefs.app/TexturePanel.c:1534 ../../WPrefs.app/imagebrowser.c:100
+#: ../../WPrefs.app/KeyboardShortcuts.c:183 ../../WPrefs.app/Menu.c:934
+#: ../../WPrefs.app/MenuGuru.c:263
 msgid "Cancel"
 msgstr "¨ú®ø"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:187
+#: ../../WPrefs.app/KeyboardShortcuts.c:184
 msgid "Press the desired shortcut key(s) or click Cancel to stop capturing."
 msgstr "«ö¤U·Q­nªº±¶®|Áä©Î«ö¤U¨ú®ø°±¤î§ì¨ú¡C"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:207
-#: ../../WPrefs.app/KeyboardShortcuts.c:456 ../../WPrefs.app/Menu.c:338
-#: ../../WPrefs.app/Menu.c:782
+#: ../../WPrefs.app/KeyboardShortcuts.c:204
+#: ../../WPrefs.app/KeyboardShortcuts.c:444 ../../WPrefs.app/Menu.c:946
+#: ../../WPrefs.app/Menu.c:1168
 msgid "Capture"
 msgstr "§ì¨ú"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:208
-#: ../../WPrefs.app/KeyboardShortcuts.c:464
+#: ../../WPrefs.app/KeyboardShortcuts.c:205
+#: ../../WPrefs.app/KeyboardShortcuts.c:451
 msgid "Click Capture to interactively define the shortcut key."
 msgstr "«ö¤U§ì¨ú¥i¤¬°Ê¦¡©w¸q±¶®|Áä¡C"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:363
+#: ../../WPrefs.app/KeyboardShortcuts.c:359
 msgid "Actions"
 msgstr "°Ê§@"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:379
+#: ../../WPrefs.app/KeyboardShortcuts.c:375
 msgid "Open applications menu"
 msgstr "¶}±ÒÀ³¥Îµ{¦¡¿ï³æ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:380
+#: ../../WPrefs.app/KeyboardShortcuts.c:376
 msgid "Open window list menu"
 msgstr "¶}±Òµøµ¡²M³æ¿ï³æ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:381
+#: ../../WPrefs.app/KeyboardShortcuts.c:377
 msgid "Open window commands menu"
 msgstr "¶}±Òµøµ¡©R¥O¿ï³æ"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:382
+#: ../../WPrefs.app/KeyboardShortcuts.c:378
 msgid "Hide active application"
 msgstr "ÁôÂÃ¬¡°Ê¤¤ªºÀ³¥Îµ{¦¡"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:383
+#: ../../WPrefs.app/KeyboardShortcuts.c:379
 msgid "Miniaturize active window"
 msgstr "³Ì¤p¤Æ¬¡°Ê¤¤ªºµøµ¡"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:384
+#: ../../WPrefs.app/KeyboardShortcuts.c:380
 msgid "Close active window"
 msgstr "Ãö³¬¬¡°Ê¤¤ªºµøµ¡"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:385
+#: ../../WPrefs.app/KeyboardShortcuts.c:381
 msgid "Maximize active window"
 msgstr "³Ì¤j¤Æ¬¡°Ê¤¤ªºµøµ¡"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:386
+#: ../../WPrefs.app/KeyboardShortcuts.c:382
 msgid "Maximize active window vertically"
 msgstr "««ª½³Ì¤j¤Æ¬¡°Ê¤¤ªºµøµ¡"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:387
-msgid "Maximize active window horizontally"
-msgstr "¤ô¥­³Ì¤j¤Æ¬¡°Ê¤¤ªºµøµ¡"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:388
+#: ../../WPrefs.app/KeyboardShortcuts.c:383
 msgid "Raise active window"
 msgstr "¤É°_¬¡°Ê¤¤ªºµøµ¡"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:389
+#: ../../WPrefs.app/KeyboardShortcuts.c:384
 msgid "Lower active window"
 msgstr "­°¤U¬¡°Ê¤¤ªºµøµ¡"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:390
+#: ../../WPrefs.app/KeyboardShortcuts.c:385
 msgid "Raise/Lower window under mouse pointer"
 msgstr "¤É°_/­°¤U·Æ¹««ü¼Ð¤U­±ªºµøµ¡"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:391
+#: ../../WPrefs.app/KeyboardShortcuts.c:386
 msgid "Shade active window"
 msgstr "¾B½ª¬¡°Ê¤¤ªºµøµ¡"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:392
+#: ../../WPrefs.app/KeyboardShortcuts.c:387
 msgid "Move/Resize active window"
 msgstr "¬¡°Ê¤¤ªºµøµ¡²¾°Ê/¤j¤pÅÜ§ó"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:393
+#: ../../WPrefs.app/KeyboardShortcuts.c:388
 msgid "Select active window"
 msgstr "¿ï¨ú¬¡°Ê¤¤ªºµøµ¡"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:394
+#: ../../WPrefs.app/KeyboardShortcuts.c:389
 msgid "Focus next window"
 msgstr "µJÂI²¾¦Ü¤U¤@­Óµøµ¡"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:395
+#: ../../WPrefs.app/KeyboardShortcuts.c:390
 msgid "Focus previous window"
 msgstr "µJÂI²¾¦Ü¤W¤@­Óµøµ¡"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:396
+#: ../../WPrefs.app/KeyboardShortcuts.c:391
 msgid "Switch to next workspace"
 msgstr "¤Á´«¦Ü¤U¤@­Ó¤u§@°Ï"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:397
+#: ../../WPrefs.app/KeyboardShortcuts.c:392
 msgid "Switch to previous workspace"
 msgstr "¤Á´«¦Ü¤W¤@­Ó¤u§@°Ï"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:398
+#: ../../WPrefs.app/KeyboardShortcuts.c:393
 msgid "Switch to next ten workspaces"
 msgstr "¤Á´«¦Ü«á¤Q­Ó¤u§@°Ï"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:399
+#: ../../WPrefs.app/KeyboardShortcuts.c:394
 msgid "Switch to previous ten workspaces"
 msgstr "¤Á´«¦Ü«e¤Q­Ó¤u§@°Ï"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:400
+#: ../../WPrefs.app/KeyboardShortcuts.c:395
 msgid "Switch to workspace 1"
 msgstr "¤Á´«¦Ü¤u§@°Ï 1"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:401
+#: ../../WPrefs.app/KeyboardShortcuts.c:396
 msgid "Switch to workspace 2"
 msgstr "¤Á´«¦Ü¤u§@°Ï 2"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:402
+#: ../../WPrefs.app/KeyboardShortcuts.c:397
 msgid "Switch to workspace 3"
 msgstr "¤Á´«¦Ü¤u§@°Ï 3"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:403
+#: ../../WPrefs.app/KeyboardShortcuts.c:398
 msgid "Switch to workspace 4"
 msgstr "¤Á´«¦Ü¤u§@°Ï 4"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:404
+#: ../../WPrefs.app/KeyboardShortcuts.c:399
 msgid "Switch to workspace 5"
 msgstr "¤Á´«¦Ü¤u§@°Ï 5"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:405
+#: ../../WPrefs.app/KeyboardShortcuts.c:400
 msgid "Switch to workspace 6"
 msgstr "¤Á´«¦Ü¤u§@°Ï 6"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:406
+#: ../../WPrefs.app/KeyboardShortcuts.c:401
 msgid "Switch to workspace 7"
 msgstr "¤Á´«¦Ü¤u§@°Ï 7"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:407
+#: ../../WPrefs.app/KeyboardShortcuts.c:402
 msgid "Switch to workspace 8"
 msgstr "¤Á´«¦Ü¤u§@°Ï 8"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:408
+#: ../../WPrefs.app/KeyboardShortcuts.c:403
 msgid "Switch to workspace 9"
 msgstr "¤Á´«¦Ü¤u§@°Ï 9"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:409
+#: ../../WPrefs.app/KeyboardShortcuts.c:404
 msgid "Switch to workspace 10"
 msgstr "¤Á´«¦Ü¤u§@°Ï 10"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:410
+#: ../../WPrefs.app/KeyboardShortcuts.c:405
 msgid "Shortcut for window 1"
 msgstr "µøµ¡ 1 ªº±¶®|"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:411
+#: ../../WPrefs.app/KeyboardShortcuts.c:406
 msgid "Shortcut for window 2"
 msgstr "µøµ¡ 2 ªº±¶®|"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:412
+#: ../../WPrefs.app/KeyboardShortcuts.c:407
 msgid "Shortcut for window 3"
 msgstr "µøµ¡ 3 ªº±¶®|"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:413
+#: ../../WPrefs.app/KeyboardShortcuts.c:408
 msgid "Shortcut for window 4"
 msgstr "µøµ¡ 4 ªº±¶®|"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:414
-msgid "Shortcut for window 5"
-msgstr "µøµ¡ 5 ªº±¶®|"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:415
-msgid "Shortcut for window 6"
-msgstr "µøµ¡ 6 ªº±¶®|"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:416
-msgid "Shortcut for window 7"
-msgstr "µøµ¡ 7 ªº±¶®|"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:417
-msgid "Shortcut for window 8"
-msgstr "µøµ¡ 8 ªº±¶®|"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:418
-msgid "Shortcut for window 9"
-msgstr "µøµ¡ 9 ªº±¶®|"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:419
-msgid "Shortcut for window 10"
-msgstr "µøµ¡ 10 ªº±¶®|"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:420
-msgid "Switch to Next Screen/Monitor"
-msgstr "¤Á´«¦Ü«á¤Q­Ó¿Ã¹õ/ºÊµø¾¹"
-
-#: ../../WPrefs.app/KeyboardShortcuts.c:421
+#: ../../WPrefs.app/KeyboardShortcuts.c:409
 msgid "Raise Clip"
 msgstr "¤É°_°j¯¾°w"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:422
+#: ../../WPrefs.app/KeyboardShortcuts.c:410
 msgid "Lower Clip"
 msgstr "­°¤U°j¯¾°w"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:423
+#: ../../WPrefs.app/KeyboardShortcuts.c:411
 msgid "Raise/Lower Clip"
 msgstr "¤É°_/­°¤U°j¯¾°w"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:425
+#: ../../WPrefs.app/KeyboardShortcuts.c:413
 msgid "Toggle keyboard language"
 msgstr "¤Á´«Áä½L»y¨¥"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:439
+#: ../../WPrefs.app/KeyboardShortcuts.c:427 ../../WPrefs.app/Menu.c:1157
 msgid "Shortcut"
 msgstr "±¶®|"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:450 ../../WPrefs.app/Menu.c:788
+#: ../../WPrefs.app/KeyboardShortcuts.c:438
 msgid "Clear"
 msgstr "²M°£"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:512
+#: ../../WPrefs.app/KeyboardShortcuts.c:499
 msgid "Keyboard Shortcut Preferences"
 msgstr "Áä½L±¶®|³]©w"
 
-#: ../../WPrefs.app/KeyboardShortcuts.c:514
-msgid ""
-"Change the keyboard shortcuts for actions such\n"
-"as changing workspaces and opening menus."
-msgstr "§ïÅÜ¨Ò¦pÅÜ§ó¤u§@°Ï»P¶}±Ò¿ï³æ°Ê§@ªºÁä½L±¶®|¡C"
-
-#: ../../WPrefs.app/Menu.c:477
-msgid "New Items"
-msgstr "·s¶µ¥Ø"
-
-#: ../../WPrefs.app/Menu.c:478
-msgid "Sample Commands"
-msgstr "¼Ë¥»©R¥O"
-
-#: ../../WPrefs.app/Menu.c:479
-msgid "Sample Submenus"
-msgstr "¼Ë¥»°Æ¿ï³æ"
-
-#: ../../WPrefs.app/Menu.c:493
-msgid "Run Program"
-msgstr "°õ¦æµ{¦¡"
-
-#: ../../WPrefs.app/Menu.c:494
-msgid "Internal Command"
-msgstr "¤º³¡©R¥O"
-
-#: ../../WPrefs.app/Menu.c:495
-msgid "Submenu"
-msgstr "°Æ¿ï³æ"
-
-#: ../../WPrefs.app/Menu.c:496
-msgid "External Submenu"
-msgstr "¥~³¡°Æ¿ï³æ"
-
-#: ../../WPrefs.app/Menu.c:497
-msgid "Generated Submenu"
-msgstr "²£¥Íªº°Æ¿ï³æ"
-
-#: ../../WPrefs.app/Menu.c:498
-msgid "Directory Contents"
-msgstr "¥Ø¿ý¤º®e"
-
-#: ../../WPrefs.app/Menu.c:499
-msgid "Workspace Menu"
-msgstr "¤u§@°Ï¿ï³æ"
-
-#: ../../WPrefs.app/Menu.c:500 ../../WPrefs.app/MouseSettings.c:840
-msgid "Window List Menu"
-msgstr "µøµ¡²M³æ¿ï³æ"
+#: ../../WPrefs.app/Menu.c:373
+msgid "Window Manager"
+msgstr "µøµ¡ºÞ²z­û"
+
+#: ../../WPrefs.app/Menu.c:375
+msgid "Program to open files"
+msgstr "¶}±ÒÀÉ®×¤§µ{¦¡"
 
-#: ../../WPrefs.app/Menu.c:519
-msgid "XTerm"
-msgstr "XTerm"
-
-#: ../../WPrefs.app/Menu.c:522
-msgid "rxvt"
-msgstr "rxvt"
-
-#: ../../WPrefs.app/Menu.c:525
-msgid "ETerm"
-msgstr "ETerm"
-
-#: ../../WPrefs.app/Menu.c:528
-msgid "Run..."
-msgstr "°õ¦æ..."
-
-#: ../../WPrefs.app/Menu.c:529
-msgid "%a(Run,Type command to run)"
-msgstr "%a¡]°õ¦æ¡A¿é¤J°õ¦æ¤§©R¥O¡^"
-
-#: ../../WPrefs.app/Menu.c:531
-msgid "Netscape"
-msgstr "Netscape"
-
-#: ../../WPrefs.app/Menu.c:534
-msgid "gimp"
-msgstr "gimp"
-
-#: ../../WPrefs.app/Menu.c:537
-msgid "epic"
-msgstr "epic"
-
-#: ../../WPrefs.app/Menu.c:540
-msgid "ee"
-msgstr "ee"
-
-#: ../../WPrefs.app/Menu.c:543
-msgid "xv"
-msgstr "xv"
-
-#: ../../WPrefs.app/Menu.c:546
-msgid "Acrobat Reader"
-msgstr "Acrobat Reader"
-
-#: ../../WPrefs.app/Menu.c:549
-msgid "ghostview"
-msgstr "ghostview"
-
-#: ../../WPrefs.app/Menu.c:552 ../../WPrefs.app/Menu.c:809
-msgid "Exit Window Maker"
-msgstr "Â÷¶} Window Maker"
-
-#: ../../WPrefs.app/Menu.c:575
-msgid "Debian Menu"
-msgstr "Debian Menu"
-
-#: ../../WPrefs.app/Menu.c:578
-msgid "RedHat Menu"
-msgstr "RedHat Menu"
-
-#: ../../WPrefs.app/Menu.c:581
-msgid "Menu Conectiva"
-msgstr "Menu Conectiva"
-
-#: ../../WPrefs.app/Menu.c:584 ../../WPrefs.app/Themes.c:250
-msgid "Themes"
-msgstr "¥DÃD"
-
-#: ../../WPrefs.app/Menu.c:589
-msgid "Bg Images (scale)"
-msgstr "­I´º¼v¹³¡]ÁY©ñ¡^"
-
-#: ../../WPrefs.app/Menu.c:594
-msgid "Bg Images (tile)"
-msgstr "­I´º¼v¹³¡]¨Ã±Æ¡^"
-
-#: ../../WPrefs.app/Menu.c:599
-msgid "Assorted XTerms"
-msgstr "Assorted XTerms"
-
-#: ../../WPrefs.app/Menu.c:601
-msgid "XTerm Yellow on Blue"
-msgstr "XTerm Yellow on Blue"
-
-#: ../../WPrefs.app/Menu.c:604
-msgid "XTerm White on Black"
-msgstr "XTerm White on Black"
-
-#: ../../WPrefs.app/Menu.c:607
-msgid "XTerm Black on White"
-msgstr "XTerm Black on White"
-
-#: ../../WPrefs.app/Menu.c:610
-msgid "XTerm Black on Beige"
-msgstr "XTerm Black on Beig"
-
-#: ../../WPrefs.app/Menu.c:613
-msgid "XTerm White on Green"
-msgstr "XTerm White on Green"
-
-#: ../../WPrefs.app/Menu.c:616
-msgid "XTerm White on Olive"
-msgstr "XTerm White on Olive"
-
-#: ../../WPrefs.app/Menu.c:619
-msgid "XTerm Blue on Blue"
-msgstr "XTerm Blue on Blue"
-
-#: ../../WPrefs.app/Menu.c:622
-msgid "XTerm BIG FONTS"
-msgstr "XTerm BIG FONTS"
-
-#: ../../WPrefs.app/Menu.c:644
+#: ../../WPrefs.app/Menu.c:377 ../../WPrefs.app/Menu.c:1144
 msgid "Program to Run"
 msgstr "°õ¦æ¤§µ{¦¡"
 
-#: ../../WPrefs.app/Menu.c:658
-msgid "Run the program inside a Xterm"
-msgstr "¦b Xterm ¤¤°õ¦æµ{¦¡"
-
-#: ../../WPrefs.app/Menu.c:668
-msgid "Path for Menu"
-msgstr "¿ï³æ¸ô®|"
-
-#: ../../WPrefs.app/Menu.c:681
-msgid ""
-"Enter the path for a file containing a menu\n"
-"or a list of directories with the programs you\n"
-"want to have listed in the menu. Ex:\n"
-"~/GNUstep/Library/WindowMaker/menu\n"
-"or\n"
-"/usr/X11R6/bin ~/xbin"
-msgstr ""
-"¿é¤J¸ô®|§t¦³§A­n¦C©ó¿ï³æ¤¤\n"
-"µ{¦¡ªº¿ï³æ©Î¥Ø¿ý²M³æªºÀÉ®×¸ô®|¡C\n"
-"¨Ò¦p¡G~/GNUstep/Library/WindowMaker/menu\n"
-"©Î\n"
-"/usr/X11R6/bin ~/xbin"
+#: ../../WPrefs.app/Menu.c:427 ../../WPrefs.app/Menu.c:428
+#, c-format
+msgid "New Command %i"
+msgstr "·s¼W©R¥O %i"
 
-#: ../../WPrefs.app/Menu.c:696
-msgid "Command"
-msgstr "©R¥O"
+#: ../../WPrefs.app/Menu.c:435
+msgid "New Submenu"
+msgstr "·s¼W°Æ¿ï³æ"
 
-#: ../../WPrefs.app/Menu.c:710
-msgid ""
-"Enter a command that outputs a menu\n"
-"definition to stdout when invoked."
-msgstr "¿é¤J¤Þ¥Î®É¿é¥X¿ï³æ©w¸q¦Ü¼Ð·Ç¿é¥Xªº«ü¥O¡C"
+#: ../../WPrefs.app/Menu.c:440
+msgid "External Menu"
+msgstr "¥~³¡¿ï³æ"
 
-#: ../../WPrefs.app/Menu.c:721
-msgid "Command to Open Files"
-msgstr "¶}±ÒÀÉ®×¤§©R¥O"
+#: ../../WPrefs.app/Menu.c:447
+msgid "Workspaces"
+msgstr "¤u§@°Ï"
 
-#: ../../WPrefs.app/Menu.c:735
-msgid ""
-"Enter the command you want to use to open the\n"
-"files in the directories listed below."
-msgstr "¿é¤J§A­n¥Î¨Ó¶}±Ò¤U¦C¥Ø¿ý¤¤ÀÉ®×ªº©R¥O¡C"
+#: ../../WPrefs.app/Menu.c:1028 ../../WPrefs.app/Menu.c:1043
+msgid "Commands"
+msgstr "©R¥O"
 
-#: ../../WPrefs.app/Menu.c:744
-msgid "Directories with Files"
-msgstr "ÀÉ®×¥Ø¿ý"
+#: ../../WPrefs.app/Menu.c:1029 ../../WPrefs.app/Menu.c:1044
+msgid "Add Command"
+msgstr "·s¼W©R¥O"
+
+#: ../../WPrefs.app/Menu.c:1030 ../../WPrefs.app/Menu.c:1045
+msgid "Add Submenu"
+msgstr "¼W¥[°Æ¿ï³æ"
+
+#: ../../WPrefs.app/Menu.c:1031 ../../WPrefs.app/Menu.c:1046
+msgid "Add External Menu"
+msgstr "¼W¥[¥~³¡¿ï³æ"
+
+#: ../../WPrefs.app/Menu.c:1032 ../../WPrefs.app/Menu.c:1047
+msgid "Add Workspace Menu"
+msgstr "¼W¥[¤u§@°Ï"
+
+#: ../../WPrefs.app/Menu.c:1033 ../../WPrefs.app/Menu.c:1048
+msgid "Remove Item"
+msgstr "§R°£¶µ¥Ø"
+
+#: ../../WPrefs.app/Menu.c:1034 ../../WPrefs.app/Menu.c:1049
+msgid "Cut Item"
+msgstr "°Å¤U¶µ¥Ø"
+
+#: ../../WPrefs.app/Menu.c:1035 ../../WPrefs.app/Menu.c:1050
+msgid "Copy Item"
+msgstr "½Æ»s¶µ¥Ø"
+
+#: ../../WPrefs.app/Menu.c:1036 ../../WPrefs.app/Menu.c:1051
+msgid "Paste Item"
+msgstr "¶K¤W¶µ¥Ø"
+
+#: ../../WPrefs.app/Menu.c:1080
+msgid "Label"
+msgstr "¼ÐÅÒ"
 
-#: ../../WPrefs.app/Menu.c:757
-msgid "Strip extensions from file names"
-msgstr "°£¥h©µ¦ùÀÉ¦W"
+#: ../../WPrefs.app/Menu.c:1093
+msgid "Command"
+msgstr "©R¥O"
 
-#: ../../WPrefs.app/Menu.c:769
-msgid "Keyboard Shortcut"
-msgstr "Áä½L±¶®|"
+#: ../../WPrefs.app/Menu.c:1098
+msgid "Run Program"
+msgstr "°õ¦æµ{¦¡"
 
-#: ../../WPrefs.app/Menu.c:805
+#: ../../WPrefs.app/Menu.c:1099
 msgid "Arrange Icons"
 msgstr "±Æ¦C¹Ï¥Ü"
 
-#: ../../WPrefs.app/Menu.c:806
-msgid "Hide All Windows Except For The Focused One"
-msgstr "°£¤FµJÂIµøµ¡¥H¥~ÁôÂÃ©Ò¦³µøµ¡"
+#: ../../WPrefs.app/Menu.c:1100
+msgid "Hide Others"
+msgstr "ÁôÂÃ¨ä¥L"
 
-#: ../../WPrefs.app/Menu.c:807
+#: ../../WPrefs.app/Menu.c:1101
 msgid "Show All Windows"
 msgstr "Åã¥Ü©Ò¦³µøµ¡"
 
-#: ../../WPrefs.app/Menu.c:810
+#: ../../WPrefs.app/Menu.c:1102
+msgid "Exit WindowMaker"
+msgstr "Â÷¶} WindowMaker"
+
+#: ../../WPrefs.app/Menu.c:1103
 msgid "Exit X Session"
 msgstr "Â÷¶} X µøµ¡¨t²Î"
 
-#: ../../WPrefs.app/Menu.c:811
-msgid "Restart Window Maker"
-msgstr "­«·s±Ò°Ê Window Maker"
-
-#: ../../WPrefs.app/Menu.c:812
-msgid "Start Another Window Manager   : ("
-msgstr "±Ò°Ê¨ä¥Lµøµ¡ºÞ²z­û    ¡G¡}"
-
-#: ../../WPrefs.app/Menu.c:814
-msgid "Save Current Session"
-msgstr "Àx¦s¥Ø«e¶¥¬q"
-
-#: ../../WPrefs.app/Menu.c:815
-msgid "Clear Saved Session"
-msgstr "²M°£¤wÀx¦s¶¥¬q"
+#: ../../WPrefs.app/Menu.c:1104
+msgid "Start window manager"
+msgstr "±Ò°Êµøµ¡ºÞ²z­û"
 
-#: ../../WPrefs.app/Menu.c:816
+#: ../../WPrefs.app/Menu.c:1105
+msgid "Restart WindowMaker"
+msgstr "­«·s±Ò°Ê WindowMaker"
+
+#: ../../WPrefs.app/Menu.c:1106
+msgid "Save Session"
+msgstr "Àx¦s¶¥¬qª¬ºA"
+
+#: ../../WPrefs.app/Menu.c:1107
+msgid "Clear Session"
+msgstr "²M°£¶¥¬qª¬ºA"
+
+#: ../../WPrefs.app/Menu.c:1108
 msgid "Refresh Screen"
 msgstr "§ó·s¿Ã¹õ"
 
-#: ../../WPrefs.app/Menu.c:817
-msgid "Open Info Panel"
-msgstr "¶}±Ò¸ê°T­±ªO"
-
-#: ../../WPrefs.app/Menu.c:818
-msgid "Open Copyright Panel"
-msgstr "¶}±Òª©Åv­±ªO"
-
-#: ../../WPrefs.app/Menu.c:824
-msgid "Window Manager to Start"
-msgstr "±Ò°Ê¤§µøµ¡ºÞ²z­û"
-
-#: ../../WPrefs.app/Menu.c:840
-msgid "Do not confirm action."
-msgstr "¤£­n½T»{°Ê§@¡C"
-
-#: ../../WPrefs.app/Menu.c:850
-msgid ""
-"Instructions:\n"
-"\n"
-" - drag items from the left to the menu to add new items\n"
-" - drag items out of the menu to remove items\n"
-" - drag items in menu to change their position\n"
-" - drag items with Control pressed to copy them\n"
-" - double click in a menu item to change the label\n"
-" - click on a menu item to change related information"
-msgstr ""
-"«ü¤Þ¡G\n"
-"\n"
-" - ±q¥ª¦Ü¿ï³æ©ì¦²¶µ¥Ø¼W¥[·s¶µ¥Ø\n"
-" - ©ì¦²¶µ¥ØÂ÷¶}¿ï³æ²¾°£¶µ¥Ø\n"
-" - ¦b¿ï³æ¤¤©ì¦²¶µ¥Ø§ïÅÜ¨ä¦ì¸m\n"
-" - «ö¤U Control ©ì¦²¶µ¥Ø½Æ»s\n"
-" - ¦b¿ï³æ¶µ¥ØÂI¨â¤U§ïÅÜ¼ÐÅÒ\n"
-" - ¦b¿ï³æ¶µ¥ØÂI¤@¤U§ïÅÜ¬ÛÃö¸ê°T"
+#: ../../WPrefs.app/Menu.c:1109
+msgid "Info Panel"
+msgstr "¸ê°T­±ªO"
+
+#: ../../WPrefs.app/Menu.c:1110
+msgid "Legal Panel"
+msgstr "ªk«ß­±ªO"
+
+#: ../../WPrefs.app/Menu.c:1118
+msgid "Open workspace menu"
+msgstr "¶}±Ò¤u§@°Ï¿ï³æ"
+
+#: ../../WPrefs.app/Menu.c:1125
+msgid "No confirmation panel"
+msgstr "µL½T»{­±ªO"
+
+#: ../../WPrefs.app/Menu.c:1131
+msgid "Menu Path/Directory List"
+msgstr "¿ï³æ¸ô®|/¥Ø¿ý²M³æ"
+
+#: ../../WPrefs.app/Menu.c:1176
+msgid "Ask help to the Guru"
+msgstr "¦V±M®a¨D§U"
 
-#: ../../WPrefs.app/Menu.c:1068
+#. if there is a localized plmenu for the tongue put it's filename here
+#: ../../WPrefs.app/Menu.c:1287 ../../WPrefs.app/Menu.c:1294
 #, c-format
-msgid "unknown command '%s' in menu"
-msgstr "¦b¿ï³æ¤¤¦³¤£©ú©R¥O¡u%s¡v"
+msgid "%s/Library/WindowMaker/plmenu"
+msgstr "%s/Library/WindowMaker/plmenu"
 
-#: ../../WPrefs.app/Menu.c:1100
-msgid ": Execute Program"
-msgstr "¡G°õ¦æµ{¦¡"
+#: ../../WPrefs.app/Menu.c:1302 ../../WPrefs.app/MouseSettings.c:146
+#: ../../WPrefs.app/MouseSettings.c:169 ../../WPrefs.app/Text.c:181
+#: ../../WPrefs.app/Themes.c:96 ../../WPrefs.app/WPrefs.c:558
+#: ../../WPrefs.app/WPrefs.c:563 ../../WPrefs.app/WPrefs.c:572
+#: ../../WPrefs.app/WPrefs.c:582 ../../WPrefs.app/WPrefs.c:590
+#: ../../WPrefs.app/WPrefs.c:614 ../../WPrefs.app/WPrefs.c:619
+msgid "Error"
+msgstr "¿ù»~"
 
-#: ../../WPrefs.app/Menu.c:1104
-msgid ": Perform Internal Command"
-msgstr "¡G°õ¦æ¤º³¡©R¥O"
+#: ../../WPrefs.app/Menu.c:1302
+msgid "Could not copy default plmenu file from ~/GNUstep/Library/WindowMaker"
+msgstr "¦b ~/GNUstep/Library/WindowMaker ©³¤U§ä¤£¨ì¹w³]ªº plmenu ÀÉ®×"
+
+#: ../../WPrefs.app/Menu.c:1304 ../../WPrefs.app/Menu.c:1354
+#: ../../WPrefs.app/MenuGuru.c:119 ../../WPrefs.app/MenuGuru.c:126
+#: ../../WPrefs.app/MenuGuru.c:140 ../../WPrefs.app/MouseSettings.c:148
+#: ../../WPrefs.app/MouseSettings.c:171 ../../WPrefs.app/Text.c:181
+#: ../../WPrefs.app/Themes.c:98 ../../WPrefs.app/WPrefs.c:558
+#: ../../WPrefs.app/WPrefs.c:563 ../../WPrefs.app/WPrefs.c:574
+#: ../../WPrefs.app/WPrefs.c:584 ../../WPrefs.app/WPrefs.c:590
+#: ../../WPrefs.app/WPrefs.c:597 ../../WPrefs.app/WPrefs.c:614
+#: ../../WPrefs.app/WPrefs.c:619
+msgid "OK"
+msgstr "½T©w"
 
-#: ../../WPrefs.app/Menu.c:1108
-msgid ": Open a Submenu"
-msgstr "¡G¶}±Ò°Æ¿ï³æ"
+#: ../../WPrefs.app/Menu.c:1339
+msgid ""
+"The format of the menu in ~/G/D/WMRootMenu is not recognized by WPrefs. It "
+"might be in a format different than the one supported by WPrefs or contain a "
+"syntax error. Do you want to continue using the current menu to edit it by "
+"hand later or replace it with a default menu in the new format?"
+msgstr "WPrefs µLªk¿ë»{ ~/G/D/WMRootMenu ªº¿ï³æ®æ¦¡¡A­ì¦³ªº¿ï³æ¥i¯à¬O WPrefs ¤£¤ä´©ªº®æ¦¡¡A¤]¥i¯à¬O¿ï³æ©w¸q¦³»yªk¿ù»~¡F§A§Æ±æÄ~Äò¨Ï¥Î¥Ø«eªº¿ï³æ¨Ã¥B¦b¥H«á³£¥H¤â°Ê½s¿è¡AÁÙ¬OÅý WPrefs ¬°±z´«¤W¤@­Ó·sªº¹w³]¿ï³æ? "
+
+#: ../../WPrefs.app/Menu.c:1346 ../../WPrefs.app/Menu.c:1353
+#: ../../WPrefs.app/WPrefs.c:597
+msgid "Warning"
+msgstr "ª`·N"
+
+#: ../../WPrefs.app/Menu.c:1346
+msgid "Keep current menu"
+msgstr "Àx¦s¥Ø«e¿ï³æ"
 
-#: ../../WPrefs.app/Menu.c:1112
-msgid ": Program Generated Submenu"
-msgstr "¡Gµ{¦¡²£¥Í°Æ¿ï³æ"
+#: ../../WPrefs.app/Menu.c:1347
+msgid "Install default menu"
+msgstr "¦w¸Ë¹w³]¿ï³æ"
+
+#: ../../WPrefs.app/Menu.c:1353
+msgid "Any changes made in this section will not be saved"
+msgstr "¦b³o³¡¥÷ªº¥ô¦ó§ïÅÜ¤£·|³QÀx¦s"
+
+#: ../../WPrefs.app/Menu.c:1419
+msgid "Applications Menu Definition"
+msgstr "À³¥Îµ{¦¡¿ï³æ©w¸q"
+
+#: ../../WPrefs.app/MenuGuru.c:106
+msgid "Menu Guru - Select Type"
+msgstr "¿ï³æ±M®a - ¿ï¨ú«¬ºA"
+
+#: ../../WPrefs.app/MenuGuru.c:111 ../../WPrefs.app/MenuGuru.c:133
+#: ../../WPrefs.app/MenuGuru.c:251
+msgid "Next"
+msgstr "¤U¤@¨B"
 
-#: ../../WPrefs.app/Menu.c:1116
-msgid ": Directory Contents Menu"
-msgstr "¡G¥Ø¿ý¤º®e¿ï³æ"
+#: ../../WPrefs.app/MenuGuru.c:114
+msgid "Menu Guru - Select Menu File"
+msgstr "¿ï³æ±M®a - ¿ï¨ú¿ï³æÀÉ"
 
-#: ../../WPrefs.app/Menu.c:1120
-msgid ": Open Workspaces Submenu"
-msgstr "¡G¶}±Ò¤u§@°Ï°Æ¿ï³æ"
+#: ../../WPrefs.app/MenuGuru.c:122
+msgid "Menu Guru - Select Pipe Command"
+msgstr "¿ï³æ±M®a - ¿ï¨ú Pipe ©R¥O"
 
-#: ../../WPrefs.app/Menu.c:1124
-msgid ": Open Window List Submenu"
-msgstr "¡G¶}±Òµøµ¡²M³æ°Æ¿ï³æ"
+#: ../../WPrefs.app/MenuGuru.c:129
+msgid "Menu Guru - Select Directories"
+msgstr "¿ï³æ±M®a - ¿ï¨ú¥Ø¿ý"
 
-#: ../../WPrefs.app/Menu.c:1344
-msgid "Remove Submenu"
-msgstr "§R°£°Æ¿ï³æ"
+#: ../../WPrefs.app/MenuGuru.c:136
+msgid "Menu Guru - Select Command"
+msgstr "¿ï³æ±M®a - ¿ï¨ú©R¥O"
 
-#: ../../WPrefs.app/Menu.c:1345
+#: ../../WPrefs.app/MenuGuru.c:257
+msgid "Back"
+msgstr "¤W¤@¨B"
+
+#: ../../WPrefs.app/MenuGuru.c:271
 msgid ""
-"Removing this item will destroy all items inside\n"
-"the submenu. Do you really want to do that?"
+"This process will help you create a submenu which definition is located in "
+"another file or is created dynamically.\n"
+"What do you want to use as the contents of the submenu?"
 msgstr ""
-"²¾°£³o¶µ¥Ø±N¯}Ãa°Æ¿ï³æ¤¤©Ò¦³¶µ¥Ø¡C\n"
-"§A¯uªº­n¨º¼Ë°µ¡H"
+"³oµ{§Ç·|À°±z«Ø¥ß¦b¥t¤@­ÓÀÉ®×©Î°ÊºA«Ø¥ß©w¸qªº°Æ¥Ø¿ý¡C\n"
+"±z­n¥Î¤°»ò·í§@°Æ¥Ø¿ýªº¤º®e¡H"
 
-#: ../../WPrefs.app/Menu.c:1347
-msgid "Yes"
-msgstr "¬O"
+#: ../../WPrefs.app/MenuGuru.c:279
+msgid ""
+"A file containing the menu definition in the plain text (non-property list) "
+"menu format."
+msgstr "§t¦³¯Â¤å¦r¡]µL¯S½è²M³æ¡^¿ï³æ®æ¦¡¿ï³æ©w¸qªºÀÉ®×¡C"
 
-#: ../../WPrefs.app/Menu.c:1347
-msgid "No"
-msgstr "§_"
+#: ../../WPrefs.app/MenuGuru.c:285
+msgid "The menu definition generated by a script/program read through a pipe."
+msgstr "¥Ñ¤â½Z/µ{¦¡¸g¹L pipe Åª¤J²£¥Í¿ï³æ©w¸q"
 
-#: ../../WPrefs.app/Menu.c:1348
-msgid "Yes, don't ask again."
-msgstr "¬O¡A¤£­n¦A°Ý¡C"
+#: ../../WPrefs.app/MenuGuru.c:291
+msgid "The files in one or more directories."
+msgstr "ÀÉ®×¦b¤@­Ó©Î¦h­Ó¥Ø¿ý¤¤"
 
-#. if there is a localized plmenu for the tongue put it's filename here
-#: ../../WPrefs.app/Menu.c:1515 ../../WPrefs.app/Menu.c:1522
-#, c-format
-msgid "%s/Library/WindowMaker/plmenu"
-msgstr "%s/Library/WindowMaker/plmenu"
+#: ../../WPrefs.app/MenuGuru.c:303
+msgid "Type the path for the menu file:"
+msgstr "¿é¤J¿ï³æÀÉ¸ô®|¡G"
 
-#: ../../WPrefs.app/Menu.c:1531
-#, c-format
-msgid "Could not open default menu from '%s'"
-msgstr "µLªk±q¡u%s¡v¶}±Ò¹w³]¿ï³æ"
+#: ../../WPrefs.app/MenuGuru.c:318
+msgid ""
+"The menu file must contain a menu in the plain text menu file format. This "
+"format is described in the menu files included with WindowMaker, probably at "
+"~/GNUstep/Library/WindowMaker/menu"
+msgstr ""
+"¿ï³æÀÉ¥²¶·§t¦³¯Â¤å¦r¿ï³æÀÉ®æ¦¡ªº¿ï³æ¡C³o®æ¦¡¦b WindowMaker "
+"¥]§tªº¿ï³æÀÉ¤¤¦³´y­z¡A¥i¯à¦b~/GNUstep/Library/WindowMaker/menu"
 
-#: ../../WPrefs.app/Menu.c:1569 ../../WPrefs.app/WPrefs.c:807
-msgid "Warning"
-msgstr "ª`·N"
+#: ../../WPrefs.app/MenuGuru.c:328
+msgid "Type the command that will generate the menu definition:"
+msgstr "¿é¤J·|²£¥Í¿ï³æ©w¸qªº©R¥O¡G"
 
-#: ../../WPrefs.app/Menu.c:1570
+#: ../../WPrefs.app/MenuGuru.c:338
 msgid ""
-"The menu file format currently in use is not supported\n"
-"by this tool. Do you want to discard the current menu\n"
-"to use this tool?"
+"The command supplied must generate and output a valid menu definition to "
+"stdout. This definition should be in the plain text menu file format, "
+"described in the menu files included with WindowMaker, usually at "
+"~/GNUstep/Library/WindowMaker/menu"
 msgstr ""
-"¥Ø«e¨Ï¥Îªº¿ï³æÀÉ®×®æ¦¡¥¼³Q¦¹¤u¨ã¤ä´©¡C\n"
-"§A­n©ß±ó¥Ø«e¿ï³æ¥H¨Ï¥Î¦¹¤u¨ã¡H"
+"´£¨Ñªº©R¥O¥²¶·²£¥Í¥B¿é¥X¦³®Äªº¿ï³æ©w¸q¦Ü¼Ð·Ç¿é¥X¡C³o©w¸qÀ³¸Ó¬O¯Â¤å¦r¿ï³æÀÉ®æ"
+"¡¡A¦b WindowMaker ¥]§tªº¿ï³æÀÉ¤¤¦³´y­z¡A³q±`¦b "
+"~/GNUstep/Library/WindowMaker/menu"
 
-#: ../../WPrefs.app/Menu.c:1573
-msgid "Yes, Discard and Update"
-msgstr "¬O¡A©ñ±ó¥B§ó·s"
-
-#: ../../WPrefs.app/Menu.c:1574
-msgid "No, Keep Current Menu"
-msgstr "§_¡A«O¦s¥Ø«e¿ï³æ"
+#: ../../WPrefs.app/MenuGuru.c:350 ../../WPrefs.app/MenuGuru.c:372
+#: ../../WPrefs.app/MenuGuru.c:394
+msgid ""
+"Type the path for the directory. You can type more than one path by "
+"separating them with spaces."
+msgstr "¿é¤J¥Ø¿ýªº¸ô®|¡C±z¥i¥H§Q¥ÎªÅ¥Õ¤À¹j¿é¤J¶W¹L¤@­Ó¸ô®|¡C"
 
-#: ../../WPrefs.app/Menu.c:1834
-msgid "Applications Menu Definition"
-msgstr "À³¥Îµ{¦¡¿ï³æ©w¸q"
+#: ../../WPrefs.app/MenuGuru.c:361 ../../WPrefs.app/MenuGuru.c:383
+#: ../../WPrefs.app/MenuGuru.c:405
+msgid ""
+"The menu generated will have an item for each file in the directory. The "
+"directories can contain program executables or data files (such as jpeg "
+"images)."
+msgstr ""
+"²£¥Íªº¿ï³æ·|¦³¤@­Ó¶µ¥Øµ¹¥Ø¿ý¤¤ªº¨C¤@­ÓÀÉ®×¡C¥Ø¿ý¥i¥H§t¦³¥i°õ¦æªºµ{¦¡©Î¸ê®ÆÀÉ"
+"]¨Ò¦p jpeg ¼v¹³¡^¡C"
 
-#: ../../WPrefs.app/Menu.c:1836
-msgid "Edit the menu for launching applications."
-msgstr "½s¿è±Ò°ÊÀ³¥Îµ{¦¡ªº¿ï³æ¡C"
+#: ../../WPrefs.app/MenuGuru.c:415
+msgid ""
+"If the directory contain data files, type the command used to open these "
+"files. Otherwise, leave it in blank."
+msgstr "¦pªG¥Ø¿ý§t¦³¸ê®ÆÀÉ¡A¿é¤J¥Î¨Ó¶}±Ò³o¨ÇÀÉ®×ªº©R¥O¡C§_«h¡A¯dªÅ¥Õ¡C"
+
+#: ../../WPrefs.app/MenuGuru.c:426
+msgid ""
+"Each file in the directory will have an item and they will be opened with "
+"the supplied command.For example, if the directory contains image files and "
+"the command is \"xv -root\", each file in the directory will have a menu "
+"item like \"xv -root imagefile\"."
+msgstr ""
+"¥Ø¿ý¤¤ªº¨C¤@­ÓÀÉ®×·|¦³¤@­Ó¶µ¥Ø¥B·|¥H´£¨Ñªº©R¥O¶}±Ò¡CÁ|¨Ò¨Ó»¡¡A¦pªG¥Ø¿ý§t¦³¼v"
+"³ÀÉ¥B©R¥O¬O \"xv -root\"¡A¥Ø¿ý¤¤ªº¨C¤@­ÓÀÉ®×·|¦³¤@­Ó¹³ \"xv -root "
+"imagefile\" ªº¶µ¥Ø¡C"
 
-#: ../../WPrefs.app/MenuPreferences.c:111
+#: ../../WPrefs.app/MenuPreferences.c:112
 msgid "Menu Scrolling Speed"
 msgstr "¿ï³æ±²°Ê³t«×"
 
-#: ../../WPrefs.app/MenuPreferences.c:160
+#: ../../WPrefs.app/MenuPreferences.c:161
 msgid "Submenu Alignment"
 msgstr "°Æ¿ï³æ¹ï»ô"
 
 #: ../../WPrefs.app/MenuPreferences.c:204
 msgid ""
 "Always open submenus inside the screen, instead of scrolling.\n"
-"Note: this is annoying."
+"Note: this can be an annoyance at some circumstances."
 msgstr ""
 "¨C¦¸³£¦b¿Ã¹õ¤º¶}±Ò°Æ¿ï³æ¡A¦Ó¤£¬O±²°Ê¡C\n"
-"µù¡G·|¥O¤H¥Í¹½¡C"
+"µù¡G¦b¤@¨Ç±¡ªp¤U·|¥O¤H¥Í¹½¡C"
 
 #: ../../WPrefs.app/MenuPreferences.c:209
 msgid "Scroll off-screen menus when pointer is moved over them."
@@ -1253,409 +794,359 @@
 msgid "Menu Preferences"
 msgstr "¿ï³æ³]©w"
 
-#: ../../WPrefs.app/MenuPreferences.c:231
-msgid ""
-"Menu usability related options. Scrolling speed,\n"
-"alignment of submenus etc."
-msgstr "¿ï³æ¥i¥Î¬ÛÃö¿ï¶µ¡C±²°Ê³t«×¡B°Æ¿ï³æ¹ï»ôµ¥¡C"
-
-#: ../../WPrefs.app/MouseSettings.c:141
+#: ../../WPrefs.app/MouseSettings.c:147
 msgid "Invalid mouse acceleration value. Must be a positive real value."
 msgstr "·Æ¹«¥[³t­­«×­ÈµL®Ä¡C¥²¶·¬O¤@¥¿¹ê¼Æ­È¡C"
 
-#: ../../WPrefs.app/MouseSettings.c:161
+#: ../../WPrefs.app/MouseSettings.c:170
 msgid ""
 "Invalid mouse acceleration threshold value. Must be the number of pixels to "
 "travel before accelerating."
 msgstr "·Æ¹«¥[³t­­«×­ÈµL®Ä¡C¥²¶·¬O¥[³t«e²¾°Êªº¹³¯À¼Æ¥Ø¡C"
 
-#: ../../WPrefs.app/MouseSettings.c:262 ../../WPrefs.app/MouseSettings.c:274
-#: ../../WPrefs.app/MouseSettings.c:286 ../../WPrefs.app/MouseSettings.c:298
+#: ../../WPrefs.app/MouseSettings.c:225
+#, c-format
+msgid "mouse button %s not supported by WPrefs."
+msgstr "·Æ¹««ö¶s %s ¥¼³Q WPrefs ¤ä´©"
+
+#: ../../WPrefs.app/MouseSettings.c:259 ../../WPrefs.app/MouseSettings.c:270
+#: ../../WPrefs.app/MouseSettings.c:281
 #, c-format
 msgid "bad value %s for option %s"
 msgstr "¿ï¶µ %s ªº­È %s ¿ù»~"
 
-#: ../../WPrefs.app/MouseSettings.c:357
+#: ../../WPrefs.app/MouseSettings.c:341
 #, c-format
 msgid ""
 "modifier key %s for option ModifierKey was not recognized. Using %s as "
 "default"
 msgstr "ModifierKey ¿ï¶µªº­×¥¿Áä %s µLªk¿ë»{¡C¨Ï¥Î %s ¬°¹w³]­È"
 
-#: ../../WPrefs.app/MouseSettings.c:382
+#: ../../WPrefs.app/MouseSettings.c:366
 msgid "could not retrieve keyboard modifier mapping"
 msgstr "µLªk¨ú¦^Áä½L­×¥¿¹ïÀ³"
 
-#: ../../WPrefs.app/MouseSettings.c:477
+#: ../../WPrefs.app/MouseSettings.c:513
 msgid "Mouse Speed"
 msgstr "·Æ¹«³t«×"
 
-#: ../../WPrefs.app/MouseSettings.c:507
+#: ../../WPrefs.app/MouseSettings.c:575
 msgid "Acceler.:"
 msgstr "¥[³t­È:"
 
-#: ../../WPrefs.app/MouseSettings.c:520
+#: ../../WPrefs.app/MouseSettings.c:587
 msgid "Threshold:"
 msgstr "­­«×¡G"
 
-#: ../../WPrefs.app/MouseSettings.c:535
+#: ../../WPrefs.app/MouseSettings.c:602
 msgid "Double-Click Delay"
 msgstr "³s«ö¨â¤U©µ¿ð"
 
-#: ../../WPrefs.app/MouseSettings.c:579
+#: ../../WPrefs.app/MouseSettings.c:646
 msgid "Test"
 msgstr "´ú¸Õ"
 
-#: ../../WPrefs.app/MouseSettings.c:609
+#: ../../WPrefs.app/MouseSettings.c:656
 msgid "Workspace Mouse Actions"
 msgstr "¤u§@°Ï·Æ¹«°Ê§@"
 
-#: ../../WPrefs.app/MouseSettings.c:614
+#: ../../WPrefs.app/MouseSettings.c:661
 msgid "Disable mouse actions"
 msgstr "¨Ï·Æ¹«°Ê§@¥¢®Ä"
 
-#: ../../WPrefs.app/MouseSettings.c:620
-msgid "Left Button"
-msgstr "¥ªÁä"
-
-#: ../../WPrefs.app/MouseSettings.c:630
-msgid "Middle Button"
-msgstr "¤¤Áä"
-
-#: ../../WPrefs.app/MouseSettings.c:640
-msgid "Right Button"
-msgstr "¥kÁä"
-
-#: ../../WPrefs.app/MouseSettings.c:650
-msgid "Mouse Wheel"
-msgstr "·Æ¹«ºu½ü"
+#: ../../WPrefs.app/MouseSettings.c:714
+msgid "Applications menu"
+msgstr "À³¥Îµ{µø¿ï³æ"
+
+#: ../../WPrefs.app/MouseSettings.c:720
+msgid "Window list menu"
+msgstr "µøµ¡²M³æ¿ï³æ"
+
+#: ../../WPrefs.app/MouseSettings.c:726
+msgid "Select windows"
+msgstr "¿ï¨úµøµ¡"
 
-#: ../../WPrefs.app/MouseSettings.c:672
+#: ../../WPrefs.app/MouseSettings.c:761
 msgid "Mouse Grab Modifier"
 msgstr "·Æ¹«§ì¨ú­×¹¢"
 
-#: ../../WPrefs.app/MouseSettings.c:674
-msgid ""
-"Keyboard modifier to use for actions that\n"
-"involve dragging windows with the mouse,\n"
-"clicking inside the window."
-msgstr "¥Î©ó¥]§t·Æ¹«©ì¦²µøµ¡¡B¦bµøµ¡¤¤ÂI¿ï°Ê§@ªºÁä½L­×¹¢¡C"
-
-#: ../../WPrefs.app/MouseSettings.c:708
+#: ../../WPrefs.app/MouseSettings.c:795
 #, c-format
 msgid "could not create %s"
 msgstr "µLªk«Ø¥ß %s"
 
-#: ../../WPrefs.app/MouseSettings.c:724
+#: ../../WPrefs.app/MouseSettings.c:811
 #, c-format
 msgid "could not create temporary file %s"
 msgstr "µLªk«Ø¥ß¼È¦sÀÉ %s"
 
-#: ../../WPrefs.app/MouseSettings.c:756
+#: ../../WPrefs.app/MouseSettings.c:836
 #, c-format
 msgid "could not rename file %s to %s\n"
 msgstr "µLªkÅÜ§óÀÉ¦W %s ¦Ü %s\n"
 
-#: ../../WPrefs.app/MouseSettings.c:829
-msgid "Shift"
-msgstr "Shift"
-
-#: ../../WPrefs.app/MouseSettings.c:830
-msgid "Lock"
-msgstr "Lock"
-
-#: ../../WPrefs.app/MouseSettings.c:831
-msgid "Control"
-msgstr "Control"
-
-#: ../../WPrefs.app/MouseSettings.c:832
-msgid "Mod1"
-msgstr "Mod1"
-
-#: ../../WPrefs.app/MouseSettings.c:833
-msgid "Mod2"
-msgstr "Mod2"
-
-#: ../../WPrefs.app/MouseSettings.c:834
-msgid "Mod3"
-msgstr "Mod3"
-
-#: ../../WPrefs.app/MouseSettings.c:835
-msgid "Mod4"
-msgstr "Mod4"
-
-#: ../../WPrefs.app/MouseSettings.c:836
-msgid "Mod5"
-msgstr "Mod5"
-
-#: ../../WPrefs.app/MouseSettings.c:839
-msgid "Applications Menu"
-msgstr "À³¥Îµ{¦¡¿ï³æ"
-
-#: ../../WPrefs.app/MouseSettings.c:841
-msgid "Select Windows"
-msgstr "¿ï¨úµøµ¡"
-
-#: ../../WPrefs.app/MouseSettings.c:844
-msgid "Switch Workspaces"
-msgstr "¤Á´«¤u§@°Ï"
-
-#: ../../WPrefs.app/MouseSettings.c:849
+#: ../../WPrefs.app/MouseSettings.c:919
 msgid "Mouse Preferences"
 msgstr "·Æ¹«³]©w"
 
-#: ../../WPrefs.app/MouseSettings.c:851
-msgid ""
-"Mouse speed/acceleration, double click delay,\n"
-"mouse button bindings etc."
-msgstr "·Æ¹«³t«×/¥[³t¡B«ö¨â¤Uªº©µ¿ð¡B·Æ¹««ö¶sµ²¦Xµ¥¡C"
-
-#: ../../WPrefs.app/Paths.c:84
+#: ../../WPrefs.app/Paths.c:82
 msgid "bad value in option IconPath. Using default path list"
 msgstr "IconPath ¿ï¶µªº­È¿ù»~¡C¨Ï¥Î¹w³]¸ô®|²M³æ"
 
-#: ../../WPrefs.app/Paths.c:101
+#: ../../WPrefs.app/Paths.c:99
 msgid "bad value in option PixmapPath. Using default path list"
 msgstr "PixmapPath ¿ï¶µªº­È¿ù»~¡C¨Ï¥Î¹w³]¸ô®|²M³æ"
 
-#: ../../WPrefs.app/Paths.c:149
-msgid "Select directory"
-msgstr "¿ï¨ú¥Ø¿ý"
-
-#: ../../WPrefs.app/Paths.c:270
+#: ../../WPrefs.app/Paths.c:302
 msgid "Icon Search Paths"
 msgstr "¹Ï¥Ü·j´M¸ô®|"
 
-#: ../../WPrefs.app/Paths.c:281 ../../WPrefs.app/Paths.c:312
-#: ../../WPrefs.app/TexturePanel.c:1310
+#: ../../WPrefs.app/Paths.c:314 ../../WPrefs.app/Paths.c:350
 msgid "Add"
 msgstr "·s¼W"
 
-#: ../../WPrefs.app/Paths.c:301
+#: ../../WPrefs.app/Paths.c:321 ../../WPrefs.app/Paths.c:357
+msgid "Remove"
+msgstr "§R°£"
+
+#: ../../WPrefs.app/Paths.c:338
 msgid "Pixmap Search Paths"
 msgstr "Pixmap ·j´M¸ô®|"
 
-#: ../../WPrefs.app/Paths.c:341
+#: ../../WPrefs.app/Paths.c:386
 msgid "Search Path Configuration"
 msgstr "·j´M¸ô®|³]©w"
 
-#: ../../WPrefs.app/Paths.c:343
-msgid ""
-"Search paths to use when looking for pixmaps\n"
-"and icons."
-msgstr "·í´M§ä pixmap »P¹Ï¥Ü®Éªº·j´M¸ô®|¡C"
-
-#: ../../WPrefs.app/Preferences.c:75
-msgid "OFF"
-msgstr "Ãö±¼"
-
-#: ../../WPrefs.app/Preferences.c:77
-msgid "1 pixel"
-msgstr "1 ¹³¯À"
-
-#. 2-4
-#: ../../WPrefs.app/Preferences.c:80
-#, c-format
-msgid "%i pixels"
-msgstr "%i ¹³¯À"
-
-#. >4
-#: ../../WPrefs.app/Preferences.c:83
-#, c-format
-msgid "%i pixels "
-msgstr "%i ¹³¯À "
-
-#: ../../WPrefs.app/Preferences.c:229
+#: ../../WPrefs.app/Preferences.c:151
 msgid "Size Display"
 msgstr "µøµ¡¤j¤pÅã¥Ü"
 
-#: ../../WPrefs.app/Preferences.c:231
-msgid ""
-"The position or style of the window size\n"
-"display that's shown when a window is resized."
-msgstr "·í§ïÅÜµøµ¡¤j¤p®Éµøµ¡¤j¤pÅã¥Üªº¦ì¸m©Î­·®æ¡C"
-
-#: ../../WPrefs.app/Preferences.c:238 ../../WPrefs.app/Preferences.c:259
+#: ../../WPrefs.app/Preferences.c:156 ../../WPrefs.app/Preferences.c:172
 msgid "Corner of screen"
 msgstr "¿Ã¹õ¨¤¸¨"
 
-#: ../../WPrefs.app/Preferences.c:239 ../../WPrefs.app/Preferences.c:260
+#: ../../WPrefs.app/Preferences.c:157 ../../WPrefs.app/Preferences.c:173
 msgid "Center of screen"
 msgstr "¿Ã¹õ¤¤¥¡"
 
-#: ../../WPrefs.app/Preferences.c:240 ../../WPrefs.app/Preferences.c:261
+#: ../../WPrefs.app/Preferences.c:158 ../../WPrefs.app/Preferences.c:174
 msgid "Center of resized window"
 msgstr "µøµ¡¤¤¥¡"
 
-#: ../../WPrefs.app/Preferences.c:241
+#: ../../WPrefs.app/Preferences.c:159
 msgid "Technical drawing-like"
 msgstr "¬ì¾ÇÃ¸¹Ï¤è¦¡"
 
-#: ../../WPrefs.app/Preferences.c:242 ../../WPrefs.app/Preferences.c:262
-msgid "Disabled"
-msgstr "¥¢®Ä"
-
-#: ../../WPrefs.app/Preferences.c:250
+#: ../../WPrefs.app/Preferences.c:167
 msgid "Position Display"
 msgstr "¦ì¸mÅã¥Ü"
 
-#: ../../WPrefs.app/Preferences.c:252
-msgid ""
-"The position or style of the window position\n"
-"display that's shown when a window is moved."
-msgstr "·í²¾°Êµøµ¡®Éµøµ¡¦ì¸mÅã¥Üªº¦ì¸m©Î­·®æ¡C"
-
-#: ../../WPrefs.app/Preferences.c:270
+#: ../../WPrefs.app/Preferences.c:182
 msgid "Show balloon text for..."
 msgstr "Åã¥Ü®ð²y¤å¦r..."
 
-#: ../../WPrefs.app/Preferences.c:277
+#: ../../WPrefs.app/Preferences.c:189
 msgid "incomplete window titles"
 msgstr "¤£§¹¾ãµøµ¡¼ÐÃD"
 
-#: ../../WPrefs.app/Preferences.c:278
+#: ../../WPrefs.app/Preferences.c:190
 msgid "miniwindow titles"
 msgstr "¤pµøµ¡¼ÐÃD"
 
-#: ../../WPrefs.app/Preferences.c:279
+#: ../../WPrefs.app/Preferences.c:191
 msgid "application/dock icons"
 msgstr "À³¥Îµ{¦¡/°±¾a°Ï¹Ï¥Ü"
 
-#: ../../WPrefs.app/Preferences.c:280
-msgid "internal help"
-msgstr "¤º³¡»¡©ú"
-
-#: ../../WPrefs.app/Preferences.c:292
-msgid ""
-"Raise window when switching\n"
-"focus with keyboard."
-msgstr "·í¨Ï¥ÎÁä½L¤Á´«®É¤É°_µøµ¡¡C"
-
-#: ../../WPrefs.app/Preferences.c:298
-msgid ""
-"Enable keyboard language\n"
-"switch button in window titlebars."
-msgstr "¦bµøµ¡¼ÐÃD¦C±Ò°ÊÁä½L»y¨¥¤Á´«¶s¡C"
-
-#: ../../WPrefs.app/Preferences.c:307
-msgid "Workspace border"
-msgstr "¤u§@°ÏÃä®Ø"
+#: ../../WPrefs.app/Preferences.c:204
+msgid "Raise window when switching focus with keyboard (CirculateRaise)."
+msgstr "·í¨Ï¥ÎÁä½L¤Á´«µJÂI®É¤É°_µøµ¡"
+
+#: ../../WPrefs.app/Preferences.c:210
+msgid "Keep keyboard language status for each window."
+msgstr "¬°¨C­Óµøµ¡«O«ùÁä½L»y¨¥ª¬ºA"
 
-#: ../../WPrefs.app/Preferences.c:323
-msgid "Left/Right"
-msgstr "¥ª/¥k"
-
-#: ../../WPrefs.app/Preferences.c:328
-msgid "Top/Bottom"
-msgstr "¤W/¤U"
-
-#: ../../WPrefs.app/Preferences.c:349
+#: ../../WPrefs.app/Preferences.c:231
 msgid "Miscellaneous Ergonomic Preferences"
 msgstr "¨ä¥L¾Þ§@©Ê³]©w"
 
-#: ../../WPrefs.app/Preferences.c:350
-msgid ""
-"Various settings like balloon text, geometry\n"
-"displays etc."
-msgstr "¹³¬O®ð²y¤å¦r¡B´X¦óÅã¥Üµ¥¦UºØ³]©w¡C"
+#: ../../WPrefs.app/Text.c:179
+#, c-format
+msgid "Invalid font %s."
+msgstr "µL®Äªº¦r«¬ %s¡C"
 
-#: ../../WPrefs.app/TexturePanel.c:323
-msgid "Saturation"
-msgstr "¹¡¦X"
+#: ../../WPrefs.app/Text.c:256
+msgid "Set Font..."
+msgstr "³]©w¦r«¬..."
 
-#: ../../WPrefs.app/TexturePanel.c:325
-msgid "Brightness"
-msgstr "«G«×"
+#: ../../WPrefs.app/Text.c:262
+msgid "Window Title Font"
+msgstr "µøµ¡¼ÐÃD¦r«¬"
 
-#: ../../WPrefs.app/TexturePanel.c:373 ../../WPrefs.app/TexturePanel.c:380
-msgid "Hue"
-msgstr "¦â½Õ"
+#: ../../WPrefs.app/Text.c:263
+msgid "Menu Title Font"
+msgstr "¿ï³æ¼ÐÃD¦r«¬"
 
-#: ../../WPrefs.app/TexturePanel.c:610
-msgid "Could not load the selected file: "
-msgstr "µLªk¸ü¤J¿ï¨úÀÉ®×¡G%s"
+#: ../../WPrefs.app/Text.c:264
+msgid "Menu Item Font"
+msgstr "¿ï³æ¶µ¥Ø¦r«¬"
 
-#: ../../WPrefs.app/TexturePanel.c:664
-msgid "Open Image"
-msgstr "¶}±Ò¼v¹³"
+#: ../../WPrefs.app/Text.c:265
+msgid "Icon Title Font"
+msgstr "¹Ï¥Ü¼ÐÃD¦r«¬"
 
-#: ../../WPrefs.app/TexturePanel.c:694
-msgid "The selected file does not contain a supported image."
-msgstr "¿ï¨úªºÀÉ®×¨S¦³¤ä´©ªº¼v¹³¡C"
+#: ../../WPrefs.app/Text.c:266
+msgid "Clip Title Font"
+msgstr "°j¯¾°w¼ÐÃD¦r«¬"
 
-#: ../../WPrefs.app/TexturePanel.c:945
-#, c-format
-msgid "could not load file '%s': %s"
-msgstr "µLªk¸ü¤JÀÉ®×¡u%s¡v¡G%s"
+#: ../../WPrefs.app/Text.c:267
+msgid "Geometry Display Font"
+msgstr "¦ì¸mªí¥Ü¦r«¬"
 
-#: ../../WPrefs.app/TexturePanel.c:1064
-#, c-format
-msgid "error creating texture %s"
-msgstr "«Ø¥ß§÷½è¿ù»~ %s"
+#: ../../WPrefs.app/Text.c:280
+msgid ""
+"Sample Text\n"
+"abcdefghijklmnopqrstuvxywz\n"
+"ABCDEFGHIJKLMNOPQRSTUVXYWZ\n"
+"0123456789"
+msgstr ""
+"½d¨Ò¤å¦r\n"
+"abcdefghijklmn...£t£u£v£w£x\n"
+"ABCDEFGHIJKLMN...µøµ¡ºÞ²z­û\n"
+"123...¤@¤G¤T"
 
-#: ../../WPrefs.app/TexturePanel.c:1254
-msgid "Texture Panel"
-msgstr "§÷½è­±ªO"
+#: ../../WPrefs.app/Text.c:285
+msgid "Alignment"
+msgstr "¹ï»ô"
 
-#: ../../WPrefs.app/TexturePanel.c:1262
-msgid "Texture Name"
-msgstr "§÷½è¦WºÙ"
+#: ../../WPrefs.app/Text.c:290
+msgid "Left"
+msgstr "¾a¥ª"
 
-#: ../../WPrefs.app/TexturePanel.c:1274
-msgid "Solid Color"
-msgstr "¹êÅé¦â"
+#: ../../WPrefs.app/Text.c:296
+msgid "Center"
+msgstr "¸m¤¤"
 
-#: ../../WPrefs.app/TexturePanel.c:1275
-msgid "Gradient Texture"
-msgstr "º¥¼h§÷½è"
+#: ../../WPrefs.app/Text.c:303
+msgid "Right"
+msgstr "¾a¥k"
 
-#: ../../WPrefs.app/TexturePanel.c:1276
-msgid "Simple Gradient Texture"
-msgstr "Â²³æº¥¼h§÷½è"
+#: ../../WPrefs.app/Text.c:325
+msgid "Text Preferences"
+msgstr "¤å¦r³]©w"
+
+#: ../../WPrefs.app/TextureAndColor.c:384
+msgid "Window Title Bar"
+msgstr "µøµ¡¼ÐÃD¦C"
 
-#: ../../WPrefs.app/TexturePanel.c:1277
-msgid "Textured Gradient"
-msgstr "§÷½èº¥¼h"
+#: ../../WPrefs.app/TextureAndColor.c:385
+msgid "Menu Title Bar"
+msgstr "¿ï³æ¼ÐÃD¦C"
 
-#: ../../WPrefs.app/TexturePanel.c:1278
-msgid "Image Texture"
-msgstr "¼v¹³§÷½è"
+#: ../../WPrefs.app/TextureAndColor.c:386
+msgid "Menu Items"
+msgstr "¿ï³æ¶µ¥Ø"
 
-#: ../../WPrefs.app/TexturePanel.c:1286
-msgid "Default Color"
-msgstr "¹w³]¦â±m"
+#: ../../WPrefs.app/TextureAndColor.c:387
+msgid "Workspace/Clip"
+msgstr "¤u§@°Ï/°j¯¾¯u"
+
+#: ../../WPrefs.app/TextureAndColor.c:388
+msgid "Icons"
+msgstr "¹Ï¥Ü"
 
-#: ../../WPrefs.app/TexturePanel.c:1298
-msgid "Gradient Colors"
-msgstr "º¥¼h¦â±m"
+#: ../../WPrefs.app/TextureAndColor.c:399
+msgid "Focused Window"
+msgstr "µJÂIµøµ¡"
 
-#: ../../WPrefs.app/TexturePanel.c:1394
-msgid "Direction"
-msgstr "¤è¦V"
+#: ../../WPrefs.app/TextureAndColor.c:412
+#: ../../WPrefs.app/TextureAndColor.c:443
+#: ../../WPrefs.app/TextureAndColor.c:474
+msgid "Texture"
+msgstr "§÷½è"
 
-#: ../../WPrefs.app/TexturePanel.c:1422
-msgid "Gradient"
-msgstr "º¥¼h"
+#: ../../WPrefs.app/TextureAndColor.c:418
+#: ../../WPrefs.app/TextureAndColor.c:449
+#: ../../WPrefs.app/TextureAndColor.c:480
+msgid "Text Color"
+msgstr "¤å¦r¦â±m"
+
+#: ../../WPrefs.app/TextureAndColor.c:423
+#: ../../WPrefs.app/TextureAndColor.c:454
+#: ../../WPrefs.app/TextureAndColor.c:485
+#: ../../WPrefs.app/TextureAndColor.c:509
+#: ../../WPrefs.app/TextureAndColor.c:575
+#: ../../WPrefs.app/TextureAndColor.c:652
+msgid "Set..."
+msgstr "³]©w..."
 
-#: ../../WPrefs.app/TexturePanel.c:1440
-msgid "Gradient Opacity"
-msgstr "º¥¼h³z©ú«×"
+#: ../../WPrefs.app/TextureAndColor.c:430
+msgid "Unfocused Window"
+msgstr "«DµJÂIµøµ¡"
 
-#: ../../WPrefs.app/TexturePanel.c:1483
-msgid "Image"
-msgstr "¼v¹³"
+#: ../../WPrefs.app/TextureAndColor.c:461
+msgid "Owner of Focused Window"
+msgstr "µJÂIµøµ¡¾Ö¦³ªÌ"
 
-#: ../../WPrefs.app/TexturePanel.c:1515
-msgid "Tile"
-msgstr "¨Ã±Æ"
+#: ../../WPrefs.app/TextureAndColor.c:494
+msgid "Unselected Items"
+msgstr "¥¼¿ï¨ú¶µ¥Ø"
 
-#: ../../WPrefs.app/TexturePanel.c:1516
-msgid "Scale"
-msgstr "ÁY©ñ"
+#: ../../WPrefs.app/TextureAndColor.c:504
+#: ../../WPrefs.app/TextureAndColor.c:558
+msgid "Background"
+msgstr "­I´º"
 
-#: ../../WPrefs.app/TexturePanel.c:1518
-msgid "Maximize"
-msgstr "³Ì¤j¤Æ"
+#: ../../WPrefs.app/TextureAndColor.c:519
+msgid "Normal Text"
+msgstr "¥¿±`¤å¦r"
+
+#: ../../WPrefs.app/TextureAndColor.c:529
+msgid "Disabled Text"
+msgstr "¥¢®Ä¤å¦r"
+
+#: ../../WPrefs.app/TextureAndColor.c:538
+msgid "Selected Items"
+msgstr "¿ï¨ú¶µ¥Ø"
+
+#: ../../WPrefs.app/TextureAndColor.c:548
+msgid "Text"
+msgstr "¤å¦r"
+
+#: ../../WPrefs.app/TextureAndColor.c:566
+msgid "Menu Title Background"
+msgstr "¿ï³æ¼ÐÃD­I´º"
+
+#: ../../WPrefs.app/TextureAndColor.c:584
+msgid "Menu Title Text"
+msgstr "¿ï³æ¼ÐÃD¤å¦r"
+
+#: ../../WPrefs.app/TextureAndColor.c:596
+msgid "Workspace Background"
+msgstr "¤u§@°Ï­I´º"
+
+#: ../../WPrefs.app/TextureAndColor.c:605
+msgid "Change"
+msgstr "§ïÅÜ"
+
+#: ../../WPrefs.app/TextureAndColor.c:611
+msgid "Clip Title Text"
+msgstr "°j¤å°w¼ÐÃD¤å¦r"
+
+#: ../../WPrefs.app/TextureAndColor.c:621
+msgid "Normal"
+msgstr "¥¿±`"
+
+#: ../../WPrefs.app/TextureAndColor.c:631
+msgid "Collapsed"
+msgstr "§éÅ|"
+
+#: ../../WPrefs.app/TextureAndColor.c:643
+msgid "Icon Background"
+msgstr "¹Ï¥Ü­I´º"
+
+#: ../../WPrefs.app/TextureAndColor.c:677
+msgid "Texture and Color Preferences"
+msgstr "§÷½è»P¦â±m³]©w"
 
 #: ../../WPrefs.app/Themes.c:71 ../../WPrefs.app/Themes.c:82
 msgid "Set"
@@ -1665,134 +1156,136 @@
 msgid "Stop"
 msgstr "°±¤î"
 
-#: ../../WPrefs.app/Themes.c:143 ../../WPrefs.app/Themes.c:203
-#: ../../WPrefs.app/Themes.c:223
+#: ../../WPrefs.app/Themes.c:143 ../../WPrefs.app/Themes.c:205
+#: ../../WPrefs.app/Themes.c:225
 msgid "Download"
 msgstr "¤U¸ü"
 
-#: ../../WPrefs.app/Themes.c:171
+#: ../../WPrefs.app/Themes.c:173
 msgid "Save Current Theme"
 msgstr "Àx¦s¥Ø«e¥DÃD"
 
-#: ../../WPrefs.app/Themes.c:180
+#: ../../WPrefs.app/Themes.c:182
 msgid "Load"
 msgstr "¸ü¤J"
 
-#: ../../WPrefs.app/Themes.c:185
+#: ../../WPrefs.app/Themes.c:187
 msgid "Install"
 msgstr "¦w¸Ë"
 
-#: ../../WPrefs.app/Themes.c:193
+#: ../../WPrefs.app/Themes.c:195
 msgid "Tile of The Day"
 msgstr "¥»¤é¼ÐÃD"
 
-#: ../../WPrefs.app/Themes.c:213
+#: ../../WPrefs.app/Themes.c:215
 msgid "Bar of The Day"
 msgstr "¥»¤é¼ÐÃD¦C"
 
-#: ../../WPrefs.app/WPrefs.c:260
+#: ../../WPrefs.app/Themes.c:252
+msgid "Themes"
+msgstr "¥DÃD"
+
+#: ../../WPrefs.app/WPrefs.c:201
 msgid "Window Maker Preferences"
 msgstr "Window Maker ³]©w"
 
-#: ../../WPrefs.app/WPrefs.c:284
+#: ../../WPrefs.app/WPrefs.c:225
 msgid "Revert Page"
 msgstr "ÁÙ­ì"
 
-#: ../../WPrefs.app/WPrefs.c:290
+#: ../../WPrefs.app/WPrefs.c:231
 msgid "Revert All"
 msgstr "¥þ³¡ÁÙ­ì"
 
-#: ../../WPrefs.app/WPrefs.c:296
+#: ../../WPrefs.app/WPrefs.c:237
 msgid "Save"
 msgstr "Àx¦s"
 
-#: ../../WPrefs.app/WPrefs.c:309
-msgid "Balloon Help"
-msgstr "®ð²y«¬»¡©ú"
+#: ../../WPrefs.app/WPrefs.c:243
+msgid "Close"
+msgstr "Ãö³¬"
 
-#: ../../WPrefs.app/WPrefs.c:334
+#: ../../WPrefs.app/WPrefs.c:260
 msgid "Window Maker Preferences Utility"
 msgstr "Window Maker ³]©w¤½¥Îµ{¦¡"
 
-#: ../../WPrefs.app/WPrefs.c:341
+#: ../../WPrefs.app/WPrefs.c:267
 #, c-format
-msgid "Version %s for Window Maker %s or newer"
-msgstr "ª©¥» %s¡A¾A¥Î©ó Window Maker %s ©Î§ó·sª©¥»"
+msgid "Version %s for Window Maker %s"
+msgstr "Window Maker %s ¥Îª©¥» %s"
 
-#: ../../WPrefs.app/WPrefs.c:349
+#: ../../WPrefs.app/WPrefs.c:274
 msgid "Starting..."
 msgstr "±Ò°Ê¤¤..."
 
-#: ../../WPrefs.app/WPrefs.c:355
+#: ../../WPrefs.app/WPrefs.c:280
 msgid ""
 "Programming/Design: Alfredo K. Kojima\n"
-"Artwork: Marco van Hylckama Vlieg, Largo et al\n"
-"More Programming: James Thompson et al"
+"Artwork: Marco van Hylckama Vlieg\n"
+"More Programming: James Thompson"
 msgstr ""
 "µ{¦¡/³]­p¡GAlfredo K. Kojima\n"
-"¬ü³N¡GMarco van Hylckama Vlieg, Largo et al\n"
-"µ{¦¡¡GJames Thompson et al"
+"¬ü³N¡GMarco van Hylckama Vlieg\n"
+"µ{¦¡¡GJames Thompson"
 
-#: ../../WPrefs.app/WPrefs.c:455
+#: ../../WPrefs.app/WPrefs.c:368
 #, c-format
 msgid "could not locate image file %s\n"
 msgstr "µLªk§ä¥X¼v¹³ÀÉ %s\n"
 
-#: ../../WPrefs.app/WPrefs.c:670
+#: ../../WPrefs.app/WPrefs.c:474
 #, c-format
 msgid "could not load image file %s:%s"
 msgstr "µLªk¸ü¤J¼v¹³ÀÉ %s:%s"
 
-#: ../../WPrefs.app/WPrefs.c:689
+#: ../../WPrefs.app/WPrefs.c:493
 msgid "Loading Window Maker configuration files..."
 msgstr "¸ü¤J Window Maker ³]©wÀÉ..."
 
-#: ../../WPrefs.app/WPrefs.c:693
+#: ../../WPrefs.app/WPrefs.c:497
 msgid "Initializing configuration panels..."
 msgstr "±Ò©l³]©w­±ªO..."
 
-#: ../../WPrefs.app/WPrefs.c:727
+#: ../../WPrefs.app/WPrefs.c:525
 msgid ""
-"WPrefs is free software and is distributed WITHOUT ANY\n"
-"WARRANTY under the terms of the GNU General Public License."
+"WPrefs is free software and is distributed WITHOUT ANY WARRANTY under the "
+"terms of the GNU General Public License. Redistribution of the icons in this "
+"program separately from the program is prohibited."
 msgstr ""
-"WPrefs ¬O¦Û¥Ñ³nÅé¥B¦b GNU General Public License ±ø´Ú¤U\n"
-"µL¥ô¦ó«Oµý¦aµo°e¡C"
+"WPrefs ¬O¦Û¥Ñ³nÅé¥B¦b GNU General Public License "
+"±ø´Ú¤UµL¥ô¦ó«Oµý¦aµo°e¡C¸T¤î³æ¿W­«·sµo°e³oµ{¦¡¤¤ªº¹Ï¥Ü"
 
-#: ../../WPrefs.app/WPrefs.c:757 ../../WPrefs.app/WPrefs.c:837
+#: ../../WPrefs.app/WPrefs.c:557 ../../WPrefs.app/WPrefs.c:613
 #, c-format
 msgid "Window Maker domain (%s) is corrupted!"
 msgstr "Window Maker ©w¸q°ì (%s) ¤w·lÃa¡I"
 
-#: ../../WPrefs.app/WPrefs.c:761
+#: ../../WPrefs.app/WPrefs.c:561
 #, c-format
 msgid "Could not load Window Maker domain (%s) from defaults database."
 msgstr "µLªk±q¹w³]¸ê®Æ®w¸ü¤J Window Maker ©w¸q°ì (%s)"
 
-#: ../../WPrefs.app/WPrefs.c:777
+#: ../../WPrefs.app/WPrefs.c:569
 msgid "could not extract version information from Window Maker"
 msgstr "µLªk±oª¾ Window Maker ªºª©¥»¸ê°T"
 
-#: ../../WPrefs.app/WPrefs.c:778
+#: ../../WPrefs.app/WPrefs.c:570
 msgid "Make sure wmaker is in your search path."
 msgstr "½T©w wmaker ¦b±zªº·j´M¸ô®|¤¤¡C"
 
-#: ../../WPrefs.app/WPrefs.c:781
+#: ../../WPrefs.app/WPrefs.c:573
 msgid ""
 "Could not extract version from Window Maker. Make sure it is correctly "
 "installed and is in your PATH environment variable."
 msgstr "µLªk±oª¾ Window Maker ªºª©¥»¡C½T©w¥¦¦w¸Ë¥¿½T¥B¦b±zªº PATH Àô¹ÒÅÜ¼Æ¤¤¡C"
 
-#: ../../WPrefs.app/WPrefs.c:791
+#: ../../WPrefs.app/WPrefs.c:583
 msgid ""
 "Could not extract version from Window Maker. Make sure it is correctly "
-"installed and the path where it installed is in the PATH environment "
-"variable."
-msgstr ""
-"µLªk±oª¾ Window Maker ªºª©¥»¡C½T©w¥¦¦w¸Ë¥¿½T¥B¥¦¦w¸Ëªº¸ô®|¦b±zªº PATH "
-"Àô¹ÒÅÜ¼Æ¤¤¡C"
+"installed."
+msgstr "µLªk±oª¾ Window Maker ªºª©¥»¡C½T©w¥¦¦w¸Ë¥¿½T¡C"
 
-#: ../../WPrefs.app/WPrefs.c:798
+#: ../../WPrefs.app/WPrefs.c:588
 #, c-format
 msgid ""
 "WPrefs only supports Window Maker 0.18.0 or newer.\n"
@@ -1801,24 +1294,23 @@
 "WPrefs ¥u¤ä´© Window Maker 0.18.0 ©Î§ó·sª©¥»¡C\n"
 "¦w¸Ëªºª©¥»¬O %i.%i.%i\n"
 
-#: ../../WPrefs.app/WPrefs.c:805
+#: ../../WPrefs.app/WPrefs.c:595
 #, c-format
 msgid ""
 "Window Maker %i.%i.%i, which is installed in your system, is not fully "
 "supported by this version of WPrefs."
 msgstr "¦b±zªº¨t²Î¤¤¦w¸Ëªº Window Maker %i.%i.%i ¤£§¹¥þ¤ä´©³oª©¥»ªº WPrefs¡C"
 
-#: ../../WPrefs.app/WPrefs.c:818
-#, c-format
-msgid "could not run \"%s --global_defaults_path\"."
-msgstr "µLªk°õ¦æ \"%s -global_defaults_path\"¡C"
+#: ../../WPrefs.app/WPrefs.c:602
+msgid "could not run \"wmaker --global_defaults_path\"."
+msgstr "µLªk°õ¦æ \"wmaker -global_defaults_path\"¡C"
 
-#: ../../WPrefs.app/WPrefs.c:841
+#: ../../WPrefs.app/WPrefs.c:617
 #, c-format
 msgid "Could not load global Window Maker domain (%s)."
 msgstr "µLªk¸ü¤J¾ãÅé Window Maker ©w¸q°ì (%s)¡C"
 
-#: ../../WPrefs.app/WPrefs.c:1090
+#: ../../WPrefs.app/WPrefs.c:863
 #, c-format
 msgid ""
 "bad speed value for option %s\n"
@@ -1827,239 +1319,137 @@
 "%s ¿ï¶µ³t«×­È¿ù»~¡C\n"
 "¨Ï¥Î¹w³]­È"
 
-#: ../../WPrefs.app/WindowHandling.c:141
+#: ../../WPrefs.app/WindowHandling.c:108
 #, c-format
 msgid "bad option value %s in WindowPlacement. Using default value"
 msgstr "WindowPlacement ¿ï¶µ %s ¸ê®Æ¿ù»~¡C¨Ï¥Î¹w³]­È"
 
-#: ../../WPrefs.app/WindowHandling.c:163
+#: ../../WPrefs.app/WindowHandling.c:130
 msgid "invalid data in option WindowPlaceOrigin. Using default (0,0)"
 msgstr "WindowPlaceOrigin ¿ï¶µ¤¤¸ê®ÆµL®Ä¡C¨Ï¥Î¹w³]¤§ (0,0)"
 
-#: ../../WPrefs.app/WindowHandling.c:243
+#: ../../WPrefs.app/WindowHandling.c:192
 msgid "Window Placement"
 msgstr "µøµ¡©ñ¸m"
 
-#: ../../WPrefs.app/WindowHandling.c:244
-msgid ""
-"How to place windows when they are first put\n"
-"on screen."
-msgstr "·í²Ä¤@¦¸©ñ¦Ü¿Ã¹õ®É¦p¦ó©ñ¸mµøµ¡¡C"
-
-#: ../../WPrefs.app/WindowHandling.c:250
+#: ../../WPrefs.app/WindowHandling.c:197
 msgid "Automatic"
 msgstr "¦Û°Ê"
 
-#: ../../WPrefs.app/WindowHandling.c:251
+#: ../../WPrefs.app/WindowHandling.c:198
 msgid "Random"
 msgstr "ÀH·N"
 
-#: ../../WPrefs.app/WindowHandling.c:252
+#: ../../WPrefs.app/WindowHandling.c:199
 msgid "Manual"
 msgstr "¤â°Ê"
 
-#: ../../WPrefs.app/WindowHandling.c:253
+#: ../../WPrefs.app/WindowHandling.c:200
 msgid "Cascade"
 msgstr "­«Å|"
 
-#: ../../WPrefs.app/WindowHandling.c:254
-msgid "Smart"
-msgstr "Áo©ú"
-
-#: ../../WPrefs.app/WindowHandling.c:260
+#: ../../WPrefs.app/WindowHandling.c:206
 msgid "Placement Origin"
 msgstr "©ñ¸m°ò·ÇÂI"
 
-#: ../../WPrefs.app/WindowHandling.c:321
+#: ../../WPrefs.app/WindowHandling.c:260
 msgid "Opaque Move"
 msgstr "¤£³z©ú²¾°Ê"
 
-#: ../../WPrefs.app/WindowHandling.c:322
-msgid ""
-"Whether the window contents should be moved\n"
-"when dragging windows aroung or if only a\n"
-"frame should be displayed.\n"
-msgstr "·í©ì¦²µøµ¡®É¬O§_²¾°Êµøµ¡¤º®e©Î¥uÅã¥Ü¥~®Ø¡C\n"
-
-#: ../../WPrefs.app/WindowHandling.c:361
+#: ../../WPrefs.app/WindowHandling.c:296
 msgid "When maximizing..."
 msgstr "·í³Ì¤j¤Æ®É..."
 
-#: ../../WPrefs.app/WindowHandling.c:366
-msgid "...do not cover icons"
-msgstr "...¤£­nÂÐ»\\¹Ï¥Ü"
-
-#: ../../WPrefs.app/WindowHandling.c:372
-msgid "...do not cover dock"
-msgstr "...¤£­nÂÐ»\\°±¾a°Ï"
-
-#: ../../WPrefs.app/WindowHandling.c:381
-msgid "Edge Resistance"
-msgstr "Ãä½t©è§Ü"
-
-#: ../../WPrefs.app/WindowHandling.c:383
-msgid ""
-"Edge resistance will make windows `resist'\n"
-"being moved further for the defined threshold\n"
-"when moved against other windows or the edges\n"
-"of the screen."
-msgstr ""
-"·í¾aµÛ¨ä¥Lµøµ¡©Î¿Ã¹õÃä½t²¾°Ê®É¡A\n"
-"Ãä½t©è§Ü·|¨Ïµøµ¡¡u©è§Ü¡v¦A³Q²¾°Ê¦Ü©w¸q­­«×¡C"
-
-#: ../../WPrefs.app/WindowHandling.c:402
-msgid "Resist"
-msgstr "©è§Ü"
-
-#: ../../WPrefs.app/WindowHandling.c:407
-msgid "Attract"
-msgstr "§l¤Þ"
+#: ../../WPrefs.app/WindowHandling.c:301
+msgid "...do not resize over icons"
+msgstr "...¤£­n¶W¹L¹Ï¥Ü°Ï"
+
+#: ../../WPrefs.app/WindowHandling.c:307
+msgid "...do not resize over dock"
+msgstr "...¤£­n¶W¹L°±¾a°Ï"
+
+#: ../../WPrefs.app/WindowHandling.c:320
+msgid "Open transients in same workspace as their owners"
+msgstr "«O«ù½T»{¡BÄµ§iµ¥µøµ¡¦b¾Ö¦³ªÌ¤§¤W"
 
-#: ../../WPrefs.app/WindowHandling.c:423
-msgid ""
-"Open dialogs in same workspace\n"
-"as their owners"
-msgstr "¦b¾Ö¦³ªÌ¤§¤u§@°Ï¶}±Ò¹ï¸Ü"
-
-#: ../../WPrefs.app/WindowHandling.c:450
+#: ../../WPrefs.app/WindowHandling.c:347
 msgid "Window Handling Preferences"
-msgstr "µøµ¡³B²z³]©w"
-
-#: ../../WPrefs.app/WindowHandling.c:452
-msgid ""
-"Window handling options. Initial placement style\n"
-"edge resistance, opaque move etc."
-msgstr ""
-"µøµ¡³B²z¿ï¶µ¡C°_©l¦ì¸m­·®æ¡BÃä½t©è§Ü¡B\n"
-"¤£³z©ú²¾°Êµ¥¡C"
+msgstr "µøµ¡¾Þ§@³]©w"
 
-#: ../../WPrefs.app/Workspace.c:176
+#: ../../WPrefs.app/Workspace.c:137
 msgid "Workspace Navigation"
-msgstr "¤u§@°Ï»â¯è"
-
-#: ../../WPrefs.app/Workspace.c:183
-msgid ""
-"wrap to the first workspace after the\n"
-"last workspace."
-msgstr "³Ì«á¤@­Ó¤u§@°Ï¤§«á¸õ¦Ü²Ä¤@­Ó¤u§@°Ï¡C"
+msgstr "¤u§@°Ï¤§¾Þ§@"
 
-#: ../../WPrefs.app/Workspace.c:205
-msgid "switch workspaces while dragging windows."
-msgstr "©ì¦²µøµ¡®É¤Á´«¤u§@°Ï¡C"
+#: ../../WPrefs.app/Workspace.c:161
+msgid "drag windows between workspaces."
+msgstr "¦b¤u§@°Ï¤§¶¡©ì¦²µøµ¡¡C"
 
-#: ../../WPrefs.app/Workspace.c:227
-msgid "automatically create new workspaces."
-msgstr "¦Û°Ê«Ø¥ß·s¤u§@°Ï¡C"
-
-#: ../../WPrefs.app/Workspace.c:250
+#: ../../WPrefs.app/Workspace.c:186
 msgid ""
-"Position of workspace\n"
-"name display"
-msgstr "¤u§@°Ï¦WºÙÅã¥Ü¦ì¸m"
-
-#: ../../WPrefs.app/Workspace.c:269
-msgid "Disable"
-msgstr "¥¢®Ä"
-
-#: ../../WPrefs.app/Workspace.c:271
-msgid "Top"
-msgstr "³»ºÝ"
-
-#: ../../WPrefs.app/Workspace.c:272
-msgid "Bottom"
-msgstr "©³³¡"
-
-#: ../../WPrefs.app/Workspace.c:273
-msgid "Top/Left"
-msgstr "¥ª¤W"
-
-#: ../../WPrefs.app/Workspace.c:274
-msgid "Top/Right"
-msgstr "¥k¤W"
+"switch to first workspace when switching past the last workspace and "
+"vice-versa"
+msgstr "·í¤Á´«¶W¹L³Ì«á¤@­Ó¤u§@°Ï®É¤Á´«¦Ü²Ä¤@­Ó¤u§@°Ï¡A¤Ï¤§¥çµM¡C"
 
-#: ../../WPrefs.app/Workspace.c:275
-msgid "Bottom/Left"
-msgstr "¥ª¤U"
+#: ../../WPrefs.app/Workspace.c:210
+msgid "create a new workspace when switching past the last workspace."
+msgstr "·í¤Á´«¶W¹L³Ì«á¤@­Ó¤u§@°Ï®É«Ø¥ß·sªº¤u§@°Ï¡C"
 
-#: ../../WPrefs.app/Workspace.c:276
-msgid "Bottom/Right"
-msgstr "¥k¤W"
-
-#: ../../WPrefs.app/Workspace.c:284
+#: ../../WPrefs.app/Workspace.c:218
 msgid "Dock/Clip"
 msgstr "°±¾a°Ï/°j¯¾°w"
 
-#: ../../WPrefs.app/Workspace.c:303
-msgid ""
-"Disable/enable the application Dock (the\n"
-"vertical icon bar in the side of the screen)."
-msgstr ""
-"°±¥Î/±Ò¥ÎÀ³¥Îµ{¦¡°±¾a°Ï\n"
-"¡]¿Ã¹õÃäªº««ª½¹Ï¥Ü¦C¡^¡C"
-
-#: ../../WPrefs.app/Workspace.c:324
-msgid ""
-"Disable/enable the Clip (that thing with\n"
-"a paper clip icon)."
-msgstr ""
-"°±¥Î/±Ò¥Î°j¯¾°w\n"
-"¡]¦³°j¯¾°w¹Ï¥ÜªºªF¦è¡^¡C"
-
-#: ../../WPrefs.app/Workspace.c:364
+#: ../../WPrefs.app/Workspace.c:287
 msgid "Workspace Preferences"
 msgstr "¤u§@°Ï³]©w"
 
-#: ../../WPrefs.app/Workspace.c:366
-msgid ""
-"Workspace navigation features.\n"
-"You can also enable/disable the Dock and Clip here."
-msgstr ""
-"¤u§@°Ï»â¯è¯S¦â¡C\n"
-"§A¤]¥i¥H¦b¦¹±Ò¥Î/°±¥Î°±¾a°Ï»P°j¯¾°w¡C"
-
-#: ../../WPrefs.app/imagebrowser.c:95
-msgid "View"
-msgstr "ÀËµø"
-
-#: ../../WPrefs.app/main.c:59
+#: ../../WPrefs.app/main.c:71
 #, c-format
 msgid "usage: %s [options]\n"
 msgstr "¨Ï¥Îªk: %s [¿ï¶µ]\n"
 
-#: ../../WPrefs.app/main.c:60
+#: ../../WPrefs.app/main.c:72
 msgid "options:"
 msgstr "¿ï¶µ:"
 
-#: ../../WPrefs.app/main.c:61
+#: ../../WPrefs.app/main.c:73
 msgid " -display <display>\tdisplay to be used"
 msgstr " -display <display>\t­n¨Ï¥Îªº display"
 
-#: ../../WPrefs.app/main.c:62
+#: ../../WPrefs.app/main.c:74
 msgid " --version\t\tprint version number and exit"
 msgstr " --version\t\t¦L¥Xª©¥»½s¸¹¨ÃÂ÷¶}"
 
-#: ../../WPrefs.app/main.c:63
+#: ../../WPrefs.app/main.c:75
 msgid " --help\t\tprint this message and exit"
 msgstr " --help\t\tÅã¥Ü¥»»¡©ú°T®§"
 
-#: ../../WPrefs.app/main.c:122
+#: ../../WPrefs.app/main.c:134
 #, c-format
 msgid "too few arguments for %s"
 msgstr "%s ªº°Ñ¼Æ¤Ó¤Ö"
 
-#: ../../WPrefs.app/main.c:144
+#: ../../WPrefs.app/main.c:156
 msgid "X server does not support locale"
-msgstr "X ¦øªA¾¹¨Ã¤£¤ä´©·í¦a¤Æ¡]locale¡^"
+msgstr "X ¦øªA¾¹¨Ã¤£¤ä´©·í¦a¤Æ (locale)"
 
-#: ../../WPrefs.app/main.c:147
+#: ../../WPrefs.app/main.c:159
 msgid "cannot set locale modifiers"
 msgstr "µLªk³]©w locale modifiers"
 
-#: ../../WPrefs.app/main.c:153
+#: ../../WPrefs.app/main.c:165
 #, c-format
 msgid "could not open display %s"
 msgstr "µLªk¶}±Ò display %s"
 
-#: ../../WPrefs.app/main.c:161
+#: ../../WPrefs.app/main.c:173
 msgid "could not initialize application"
 msgstr "µLªk±Ò©lÀ³¥Îµ{¦¡"
+
+#~ msgid ""
+#~ "The format of the current menu in ~/G/D/WMRootMenu is not supported by "
+#~ "WPrefs. A new menu will be created.\n"
+#~ "You can also replace ~/G/D/WMRootMenu with ~/G/L/W/plmenu to get the default "
+#~ "menu."
+#~ msgstr ""
+#~ "¥Ø«e¦b ~/G/D/WMRootMenu ªº¿ï³æ®æ¦¡¥¼³Q WPrefs ¤ä´©¡C·s¿ï³æ·|³Q«Ø¥ß¡C\n"
+#~ "±z¤]¥i¥H¥Î§â ~/G/D/WMRootMenu ´«¦¨ ~/G/L/W/plmenu ¨Ó±o¨ì¹w³]¿ï³æ¡C"
diff -Naur WindowMaker-0.80.2/WPrefs.app/Preferences.c wm-xft2/WPrefs.app/Preferences.c
--- WindowMaker-0.80.2/WPrefs.app/Preferences.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/Preferences.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WPrefs.app/TexturePanel.c wm-xft2/WPrefs.app/TexturePanel.c
--- WindowMaker-0.80.2/WPrefs.app/TexturePanel.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/TexturePanel.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - WindowMaker Preferences Program
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  *  Copyright (c) 1998 James Thompson
  * 
  *  This program is free software; you can redistribute it and/or modify
@@ -327,13 +327,13 @@
     if (hsv->value < 128 || !saturation) {
 	WMColor *col = WMWhiteColor(scr);
 	
-	WMDrawString(scr, WMGetPixmapXID(pixmap), WMColorGC(col), font, 2,
+	WMDrawString(scr, WMGetPixmapXID(pixmap), col, font, 2,
 		     (16 - WMFontHeight(font))/2 - 1, buffer, strlen(buffer));
 	WMReleaseColor(col);
     } else {
 	WMColor *col = WMBlackColor(scr);
 
-	WMDrawString(scr, WMGetPixmapXID(pixmap), WMColorGC(col), font, 2,
+	WMDrawString(scr, WMGetPixmapXID(pixmap), col, font, 2,
 		     (16 - WMFontHeight(font))/2 - 1, buffer, strlen(buffer));
 	WMReleaseColor(col);
     }
@@ -368,14 +368,14 @@
     if (hsv->value < 128) {
 	WMColor *col = WMWhiteColor(scr);
 
-	WMDrawString(scr, WMGetPixmapXID(pixmap), WMColorGC(col), font, 2,
+	WMDrawString(scr, WMGetPixmapXID(pixmap), col, font, 2,
 		     (16 - WMFontHeight(font))/2 - 1,
 		     		_("Hue"), strlen(_("Hue")));
 	WMReleaseColor(col);
     } else {
 	WMColor *col = WMBlackColor(scr);
 
-	WMDrawString(scr, WMGetPixmapXID(pixmap), WMColorGC(col), font, 2,
+	WMDrawString(scr, WMGetPixmapXID(pixmap), col, font, 2,
 		     (16 - WMFontHeight(font))/2 - 1,
 		     		_("Hue"), strlen(_("Hue")));
 	WMReleaseColor(col);
@@ -465,11 +465,12 @@
 {
     TexturePanel *panel = (TexturePanel*)WMGetHangedData(lPtr);
     WMScreen *scr = WMWidgetScreen(lPtr);
-    int width, height, x, y;
-    Display *dpy;
     WMColor *white = WMWhiteColor(scr);
-    WMListItem *item;
     WMColor *black = WMBlackColor(scr);
+    WMColor *gray = WMGrayColor(scr);
+    WMListItem *item;
+    int width, height, x, y;
+    Display *dpy;
 
     dpy = WMScreenDisplay(scr);
 
@@ -481,7 +482,7 @@
     if (state & WLDSSelected)
         XFillRectangle(dpy, d, WMColorGC(white), x, y, width, height);
     else
-        XClearArea(dpy, d, x, y, width, height, False);
+        XFillRectangle(dpy, d, WMColorGC(gray), x, y, width, height);
 
     item = WMGetListItem(lPtr, index);
 
@@ -489,11 +490,12 @@
 	XCopyArea(WMScreenDisplay(scr), panel->gimage, d, WMColorGC(white),
 		  0, height*index, 30, height, x + 5, y);
     }
-    WMDrawString(scr, d, WMColorGC(black), panel->listFont, 
-		 x + 40, y + 1, text, strlen(text));
+    WMDrawString(scr, d, black, panel->listFont, x + 40, y + 1,
+                 text, strlen(text));
 
     WMReleaseColor(white);
     WMReleaseColor(black);
+    WMReleaseColor(gray);
 }
 
 
@@ -1333,7 +1335,7 @@
 		       WMColorGC(color), 0, 0, 130, 16);
 	WMReleaseColor(color);
 	color = WMWhiteColor(color);
-	WMDrawString(scr, WMGetPixmapXID(pixmap), WMColorGC(color),
+	WMDrawString(scr, WMGetPixmapXID(pixmap), color,
 		     panel->listFont, 2, 
 		     (16 - WMFontHeight(panel->listFont))/2 - 1,
 		     "Brightness", 10);
@@ -1357,7 +1359,7 @@
 		       WMColorGC(color), 0, 0, 130, 16);
 	WMReleaseColor(color);
 	color = WMWhiteColor(scr);
-	WMDrawString(scr, WMGetPixmapXID(pixmap), WMColorGC(color), 
+	WMDrawString(scr, WMGetPixmapXID(pixmap), color,
 		     panel->listFont, 2,
 		     (16 - WMFontHeight(panel->listFont))/2 - 1,
 		     "Contrast", 8);
@@ -1463,9 +1465,8 @@
 	WMReleaseColor(color);
 
 	color = WMWhiteColor(scr);
-	WMDrawString(scr, p, WMColorGC(color), panel->listFont,
-		     2, 1, "0%", 2);
-	WMDrawString(scr, p, WMColorGC(color), panel->listFont,
+	WMDrawString(scr, p, color, panel->listFont, 2, 1, "0%", 2);
+	WMDrawString(scr, p, color, panel->listFont,
 		     153 - WMWidthOfString(panel->listFont, "100%", 4), 1,
 		     "100%", 4);
 	WMReleaseColor(color);
diff -Naur WindowMaker-0.80.2/WPrefs.app/TexturePanel.h wm-xft2/WPrefs.app/TexturePanel.h
--- WindowMaker-0.80.2/WPrefs.app/TexturePanel.h	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/TexturePanel.h	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - WindowMaker Preferences Program
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WPrefs.app/Themes.c wm-xft2/WPrefs.app/Themes.c
--- WindowMaker-0.80.2/WPrefs.app/Themes.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/Themes.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WPrefs.app/tiff/miscprefs2.tiff wm-xft2/WPrefs.app/tiff/miscprefs2.tiff
--- WindowMaker-0.80.2/WPrefs.app/tiff/miscprefs2.tiff	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/WPrefs.app/tiff/miscprefs2.tiff	2003-10-22 14:08:35.000000000 +0400
@@ -0,0 +1,20 @@
+II* $                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  \\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ\\\ÿ§§§ÿ                                \\\ÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿ§§§ÿ                                \\\ÿNþÖÿòÂÿòÂÿòÂÿNþÖÿf®Êÿf®ÊÿòÂÿNþÖÿòÂÿòÂÿòÂÿNþÖÿòÂÿòÂÿòÂÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿ§§§ÿ                                \\\ÿNþÖÿf®ÊÿNþÖÿòÂÿNþÖÿf®ÊÿNþÖÿòÂÿNþÖÿf®ÊÿNþÖÿòÂÿNþÖÿf®ÊÿNþÖÿòÂÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿ§§§ÿ                                \\\ÿNþÖÿf®ÊÿNþÖÿòÂÿNþÖÿf®ÊÿNþÖÿòÂÿNþÖÿf®ÊÿNþÖÿòÂÿNþÖÿf®ÊÿNþÖÿòÂÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿ§§§ÿ                                \\\ÿNþÖÿf®ÊÿòÂÿf®ÊÿNþÖÿf®Êÿf®ÊÿòÂÿNþÖÿf®ÊÿòÂÿf®ÊÿNþÖÿf®ÊÿòÂÿf®ÊÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿ§§§ÿ                                \\\ÿNþÖÿf®ÊÿNþÖÿòÂÿNþÖÿf®ÊÿNþÖÿòÂÿNþÖÿòÂÿNþÖÿf®ÊÿNþÖÿòÂÿNþÖÿf®ÊÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿ§§§ÿ                                \\\ÿNþÖÿf®ÊÿNþÖÿòÂÿNþÖÿf®ÊÿNþÖÿòÂÿNþÖÿòÂÿNþÖÿf®ÊÿNþÖÿòÂÿNþÖÿf®ÊÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿ§§§ÿ                                \\\ÿNþÖÿòÂÿòÂÿòÂÿNþÖÿf®Êÿf®ÊÿòÂÿNþÖÿòÂÿf®Êÿf®ÊÿNþÖÿòÂÿòÂÿòÂÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿ§§§ÿ                                \\\ÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿNþÖÿ§§§ÿ                                §§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ§§§ÿ                                                                                                                                                                                                                                   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ   ÿ                                   ÿTßTÿ_TÿÿÂïÿ2¯ÿÿ&äÿ.·äÿÿqäÿÙÇ¤ÿÿÍ[$ÿ=«$ÿÿs$ÿëÃ$ÿÿÇÍDÿuÿÿ÷ÙÿÏqÿÿÞÿ_vÿÿá
+øÿ²Øÿÿ±bØÿ	B¨ÿÿ)¨ÿi¨ÿÿ9ø¨ÿù¨¨ÿÿÿÿÿ                                   ÿTßTÿ_TÿÿÂïÿ2¯ÿÿ&äÿ.·äÿÿqäÿÙÇ¤ÿÿÍ[$ÿ=«$ÿÿs$ÿëÃ$ÿÿÇÍDÿuÿÿ÷ÙÿÏqÿÿÞÿ_vÿÿá
+øÿ²Øÿÿ±bØÿ	B¨ÿÿ)¨ÿi¨ÿÿ9ø¨ÿù¨¨ÿÿÿÿÿ                                   ÿTßTÿ_TÿÿÂïÿ2¯ÿÿ&äÿ.·äÿÿqäÿÙÇ¤ÿÿÍ[$ÿ=«$ÿÿs$ÿëÃ$ÿÿÇÍDÿuÿÿ÷ÙÿÏqÿÿÞÿ_vÿÿá
+øÿ²Øÿÿ±bØÿ	B¨ÿÿ)¨ÿi¨ÿÿ9ø¨ÿù¨¨ÿÿÿÿÿ                                   ÿTßTÿ_TÿÿÂïÿ2¯ÿÿ&äÿ.·äÿÿqäÿÙÇ¤ÿÿÍ[$ÿ=«$ÿÿs$ÿëÃ$ÿÿÇÍDÿuÿÿ÷ÙÿÏqÿÿÞÿ_vÿÿá
+øÿ²Øÿÿ±bØÿ	B¨ÿÿ)¨ÿi¨ÿÿ9ø¨ÿù¨¨ÿÿÿÿÿ                                   ÿTßTÿ_TÿÿÂïÿ2¯ÿÿ&äÿ.·äÿÿqäÿÙÇ¤ÿÿÍ[$ÿ=«$ÿÿs$ÿëÃ$ÿÿÇÍDÿuÿÿ÷ÙÿÏqÿÿÞÿ_vÿÿá
+øÿ²Øÿÿ±bØÿ	B¨ÿÿ)¨ÿi¨ÿÿ9ø¨ÿù¨¨ÿÿÿÿÿ                                ÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿ                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        °°°8ºº:>==Ý#××W__ÿ77×½}½#æ>pp°8                                                    ÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿ                            ÚZïÿgÇGÿ5eÅÿ~NÿVFúÿfÿ	¡ÿãCÿo¯OÿÖÖÖ                                                ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿÿ                        ©)ï¯¯ÿÙÿ2bÿêÿIÁþÿiÿ©1aÿþîNÿò¢ÿ&zÿËËÿeå%                                            ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿÿ                    ¡!AUOOÿ^.ÿ²bÿ¥éIÿÕyÿáA>ÿN¶ÿÖæÿ^Îöÿ1¡ÿîNöÿâ¢Âÿcÿy¹9U                                        ÿñqqÿñqqÿñqqÿñqqÿñqqÿÿÿÿÿÿÿñqqÿñqqÿñqqÿñqqÿñqqÿÿ                ¼<<ÿÑaAÿ²bBÿuùÿvÿ&ºÿ:ÿ&ºÿ&ºÿfÆúÿfÆÿæ¦FÿÎÖÿRâBÿk«Kÿêª*                                    ÿînnÿînnÿînnÿînnÿînnÿÿ
+ÿ ÿ
+ÿ ÿ
+ÿ ÿ
+ÿ ÿxÿînnÿînnÿînnÿînnÿînnÿÿ            ÀÀÀÛëwÓ£ÿÜìÌÿ¹	Ñÿ¦zÿêªÿªÿêªÿjÿjÿZZêÿ::ÿzzÿÚÿ¦Æúÿ&zÿ§ÇwÀÀÀ                                ÿúúúÿúúúÿúúúÿúúúÿúúúÿÿxÿxÿxÿxÿxÿúúúÿúúúÿúúúÿúúúÿúúúÿÿ            ôttæ_ÿ¶VÿúZªÿÎÖVÿ2rÒÿòrRÿrò²ÿ
+Jòÿ
+rÿò
+rÿÊ
+ÿ*jJÿªêÊÿªjÿÚ:êÿâBÿý=ÿâbæ                                ÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿÿ            .Îg'Çÿ¼¬ÿÎ¶Vÿ""ÿ¢¢ÿbbÿâbÿRâÿÒÿR2ÿ2rÒÿ2rÒÿ2rÒÿò
+ÒÿJ²ÿÊ*rÿîNÿ%E                                ÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿ            Ýí­G½]ÿl4ÿÚªÿ¼|Üÿ||<ÿ|ÿBüÿÂÿÂÿÂ¢BÿB"ÿ¢â"ÿB"ÿ"¢ÿâÂÿR²âÿÊrRÿ«KG                                ÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿ            G{Ûß¥ÿlÿü<ÿ\¬ÿ\¬ÿ<<ÿ<|ÿ|Üÿü<ÿü<ÿ¼üÜÿü<ÿ¼ü\ÿ¼|ÿüÜÿ""ÿ"üÿ'{Ûß                                                                                                                    û[ß¥9ÿ¬,tÿìÌÿ¬,ÿìlLÿìÌÿ\¬ÿ¼<ÿÜ<ìÿ<¼ÿÜ<ìÿÜ<ìÿ\\lÿìÌÿÜ¬ÿ¼<ÿü<ÿûËß                                ÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿ            MG¥ÿ4Ôdÿ¬Ìÿ,Lôÿl¬ÿ¬Lÿ\lÌÿ¬LÿìlLÿ,ÿìÌÿìÌÿìlLÿ,ÿ\lÌÿÜ¬ÿ¼ÿ3=G                                ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿý½½ÿÿ            Ö¦&s}ÿÔÿLtÔÿ,´ÿlLôÿ,ÿìÌÿìÌÿlLôÿ,ÿ,ÿìÌÿlLôÿ,ÿ\lÌÿ<lÿZjÿÉñ                                ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿå¥¥ÿÿ            ä¤$æ³ÃÿÜÿ´TÿÌô4ÿ,´ÿlLôÿlLôÿ¬tÿ¬tÿlLôÿlLôÿ¬tÿ,´ÿ¬tÿ¬Lÿ|ÜÿÑÿüæ                                ÿñqqÿñqqÿñqqÿñqqÿñqqÿÿÿÿÿÿÿñqqÿñqqÿñqqÿñqqÿñqqÿÿ            @@@-E¹w±~îÿä$ÿLtTÿLôÔÿ,´ÿ,´ÿ,´ÿ¬tÿ¬tÿÌ4ÿ¬´ÿÌ4ÿlLôÿ,LtÿÂÿ-Yw@@@                                ÿînnÿînnÿînnÿînnÿînnÿÿXXÿXXÿXXÿXXÿfTTÿînnÿînnÿînnÿînnÿînnÿÿ                4íÙÿb¼ÿLÔÿLôTÿtTÿÌô4ÿ,´ÿ,´ÿ¬tÿÌ4ÿÌÔÿ,4ÿÌ4ÿBÜÿ~N6ÿ2¢B                                    ÿúúúÿúúúÿúúúÿúúúÿúúúÿÿfTTÿfTTÿfTTÿfTTÿfTTÿúúúÿúúúÿúúúÿúúúÿúúúÿÿ                    zÊ
+Uy!ÿl4ÿÜ,ÿ,LtÿLtÔÿÌô4ÿ,´ÿ,´ÿLtTÿÌÔÿLôTÿü¼\ÿúêÿ^6U                                        ÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿâââÿÿ                        fªyQÿÜ,ÿìÌÿü|ÿ¬,ôÿL´TÿL´ÔÿL4ÿ\Ìÿ<<ÿFÊÿ®                                            ÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿ                            |,Éáÿ^úÿ|¬tÿ\,ÿ\ÿBBÜÿ¼¼ÿ
+RBÿQNÿ
+b                                                ÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿ                                àà8¬>anÖ#9á^¹áÞÿinæ#ò¢>8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          0       0       Â$                
+        )   Ê$      ô$      
+%                    *       %         R               /usr/home/fatal/newprefs/miscprefs2.tiff  Created with The GIMP          
\ No newline at end of file
diff -Naur WindowMaker-0.80.2/WPrefs.app/tiff/temp.tiff wm-xft2/WPrefs.app/tiff/temp.tiff
--- WindowMaker-0.80.2/WPrefs.app/tiff/temp.tiff	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/WPrefs.app/tiff/temp.tiff	2003-10-22 14:08:35.000000000 +0400
@@ -0,0 +1,19 @@
+II* $                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  °  ô ð                                                                                                                                                                                Ð  ð* àÿ((ÿ|HH                                                                ÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿ®`àÿÍ¨¨ÿøøÿ¨¨ÿÊÿ      à   @                                                ÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿÿ¦ZZÿÁ`àÿeÿÈÈÿIrrÿ5¬¬ÿº$$ÿ((³ÌÈ   @                                            ÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿÿ®`àÿUÿ;vvÿÕVVÿ½¢¢ÿN¬¬ÿêÿvèèÿ¨¨¨aààà,   à                                            ÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿ`àÿèèÿaØØÿu::ÿ}ÿ¾,,ÿZ44ÿÂøøÿøøÿÝò   P                                            ÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿhhÿ®`àÿÍPPÿÅÌÌÿérrÿ]RRÿN,,ÿrrÿÂ¸¸ÿÂ88ÿÄèè_HHHKÖ      @                                        ÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿèèèÿ àÿeÿ1DDÿ=^^ÿllÿÎ,,ÿFôôÿ88ÿâxxÿ$hhÿ_000   ©   Ü   p                                       ÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿLääÿf àÿU00ÿÉÿYªªÿÝÿÎ¬¬ÿZÿxxÿb¸¸ÿ$hhÿÿððð_g   -                                              ÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿ®`àÿãÿsÿ+))ÿÝÿ^ÜÜÿ¾ÿÊ´´ÿbxxÿZÒÒÿºººÿêêêÿ°°°ßçÀÀÀ½   ~   ´   `                                    ÛÛÛÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿ.`àÿ}¸¸ÿÝÊÊÿÿÍ¼¼ÿ~ÜÜÿ22ÿrÿøøÿÿÂÂÂÿ|||ÿ¨¨¨ÿ000ßçÀÀÀ   ®                                           ÛÛÛÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿê àÿ((ÿÝââÿ¾¾ÿBBÿllÿRRÿ²ÿ"¸¸ÿâ¼¼ÿBBBÿüüüÿÿ(((ÿ000ßPPP'   %   J   è   À                                    ÛÛÛÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿ2 àÿhhÿýÚÚÿÎÎÿ||ÿÿîÿJLLÿøøÿâ<<ÿÂÂÂÿ¼¼¼ÿÿlllÿ¨¨¨ÿppp_ppp;àààA      à                                        ÛÛÛÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿ©©ÿ àÿ}ØØÿêêÿ}^^ÿ=ÿnÿ22ÿôôÿ¢¸¸ÿâÜÜÿÂÂÂÿüüüÿÿ¬¬¬ÿÿÿÈÈÈ(((s   H                                           ÛÛÛÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿ¥AAÿ00ÿyÿãááÿíüüÿ®ÿ.bbÿ2¤¤ÿbxxÿâÿBBBÿ¼¼¼ÿÿ¬¬¬ÿìììÿ¼¼¼ÿøøøÿ888ïXXXPPP²   P                                            ÛÛÛÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿyyÿøøÿILLÿnllÿ¦llÿbÿâxxÿ$ØØÿXXXÿÿhhhÿ¨¨¨ÿhhhÿÿøøøÿ444ÿÄÄÄ¯¸¸¸PPPâ   P                                            ÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿ[[[ÿ³³³ÿÿRRÿ¢¸¸ÿÖbbÿÔÔÿ"8¸ÿ
+
+ÿªªªÿªªªÿ
+
+
+ÿ²²²ÿòòòÿªªªÿ¶¶¶ÿÿCCCÿäää/xxxíPPPâ   P                                            ÛÛÛÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿ³³³ÿÙÙÙÿÿêêêÿªÿèÿ|XXÿ"<<ÿ<<<ÿìììÿlllÿìììÿ<<<ÿÿòòòÿ¶¶¶ÿQQQÿ¼¼¼ÿ/xxxíPPPâ   P                                            ÛÛÛÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿ³³³ÿ¹¹¹ÿzzzÿRRRÿtttÿÿêòòÿÂÿ|||ÿ<<<ÿlllÿ,,,ÿÿüüüÿ
+
+
+ÿ¶¶¶ÿQQQÿÿüüüÿ/xxxíPPPâ   P                                            ÛÛÛÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿ¥¥¥ÿÿ¹¹¹ÿjjjÿ¢¢¢ÿ\\\ÿÁÁÁÿÿ222ÿ\\\ÿ\\\ÿÿ¬¬¬ÿlllÿ¼¼¼ÿòòòÿ¶¶¶ÿÿÿyyyÿüüüÿ/xxxíPPPâ   P                                            ÛÛÛÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿsssÿ¡¡¡ÿÚÚÚÿÂÂÂÿ\\\ÿÿñññÿ¶¶¶ÿ¢¢¢ÿ,,,ÿ,,,ÿ¬¬¬ÿìììÿ¼¼¼ÿ
+
+
+ÿöööÿQQQÿÿyyyÿyyyÿüüüÿ/xxxíPPPâ   P                                            ÛÛÛÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿÿ³³³ÿ^^^ÿÚÚÚÿlllÿ<<<ÿ999ÿÿîîîÿjjjÿ¼¼¼ÿ,,,ÿ¬¬¬ÿÿ¼¼¼ÿÿÿ111ÿYYYÿyyyÿyyyÿyyyÿüüüÿ/xxxíPPPâ   P                                            ÛÛÛÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿ³³³ÿÎÎÎÿ
+
+
+ÿ´´´ÿÿ¼¼¼ÿ\\\ÿÿÄÄÄÿXXXÿèèèÿÿ888ÿxxxÿDDDÿ´´´ÿÿ¼¼¼ÿüüüÿüüüÿüüüÿüüüÿüüüÿ/xxxíPPPâ   P                                            ÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿ[[[ÿSSSÿAAAÿÿìììÿæææÿëëëÿÿåååÿ^^^ÿºººÿÊÊÊÿÿÎÎÎÿiiiÿeeeÿÍÍÍÿÿ«««ÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿ/xxxíPPPâ   P                                            ÛÛÛÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿÿ®®®ÿ²²²ÿ´´´ÿÿ999ÿ			ÿnnnÿêêêÿBBBÿ\\\ÿÿ***ÿNNNÿ111ÿ©©©ÿÿ999ÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿüüüÿ/xxxíPPPâ   P                                            ÛÛÛÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿcccÿÿ
+
+
+ÿÿÖÖÖÿ999ÿ			ÿnnnÿªªªÿüüüÿ\\\ÿÿêêêÿ®®®ÿqqqÿYYYÿ¹¹¹ÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿüüüÿ/xxxíPPPâ   P                                            ÛÛÛÿyyyÿyyyÿyyyÿyyyÿÿ³³³ÿÿ222ÿtttÿ¾¾¾ÿ999ÿ			ÿnnnÿªªªÿ¼¼¼ÿÿÿÿÿ			ÿYYYÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿüüüÿ/xxxíPPPâ   P                                            ÛÛÛÿyyyÿyyyÿyyyÿyyyÿKKKÿÖÖÖÿbbbÿLLLÿÿÙÙÙÿ			ÿnnnÿªªªÿ|||ÿÿBBBÿÚÚÚÿ^^^ÿIIIÿ999ÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿüüüÿ/xxxíPPPâ   P                                            ÛÛÛÿyyyÿyyyÿÿKKKÿÎÎÎÿBBBÿÌÌÌÿ!!!ÿ999ÿ			ÿ®®®ÿ***ÿ¼¼¼ÿÿ¢¢¢ÿÿ~~~ÿIIIÿ999ÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿüüüÿ/xxxíPPPâ   P                                            ÛÛÛÿÿìììÿrrrÿÿ,,,ÿ´´´ÿüüüÿ|||ÿ\\\ÿôôôÿÿÿhhhÿ888ÿäääÿÌÌÌÿÜÜÜÿ|||ÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿ/xxxíPPPâ   P                                            kkkÿóóóÿcccÿÔÔÔÿ<<<ÿÿãããÿÿÿ%%%ÿ®®®ÿªªªÿÊÊÊÿÿñññÿíííÿÿÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿÛÛÛÿ/xxxíPPPâ   P                                            ³³³ÿÿÿ666ÿ¼¼¼ÿáááÿ999ÿ			ÿnnnÿÊÊÊÿ<<<ÿ\\\ÿrrrÿ¶¶¶ÿáááÿéééÿ¹¹¹ÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿüüüÿ/xxxíPPPâ   P                                    LLLüCCCOÿõõõÿêêêÿÌÌÌÿ666ÿYYYÿ			ÿîîîÿ***ÿ<<<ÿ\\\ÿrrrÿöööÿÑÑÑÿÿ¹¹¹ÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿüüüÿ/xxxíPPPâ   P                                    ¥¥¥seeescccÿ111ÿÌÌÌÿÞÞÞÿIIIÿ¡¡¡ÿNNNÿªªªÿüüüÿ<<<ÿÿÿ111ÿÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿüüüÿ/xxxíPPPâ   P                                        ]]]Oÿbbbÿ111ÿ±±±ÿ^^^ÿ&&&ÿrrrÿÿÿ***ÿ®®®ÿñññÿYYYÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿüüüÿ/xxxíPPPâ   P                                        î..ÿÙÙÙÿqqqÿ...ÿÿ***ÿbbbÿÂÂÂÿjjjÿ®®®ÿ			ÿÙÙÙÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿyyyÿüüüÿ/xxxíPPPâ   P                                           økkkÿÿôôôÿ$$$ÿÿøøøÿøøøÿÄÄÄÿtttÿÿ¼¼¼ÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿüüüÿ/¸¸¸íPPPb   P                                              XàààðððË¯ÈÈÈ(((èèè¸¸¸ïÄÄÄ¯äää///////////////////////ÏäääW¸¸¸"                                              @   x   N#ÐÐÐ{°°°;«hhhSXXX¸¸¸xxxíxxxíxxxíxxxíxxxíxxxíxxxíxxxíxxxíxxxíxxxíxxxíxxxíxxxíxxxíxxxíxxxíxxxíxxxíxxxíxxxíxxxíxxxí¸¸¸m888õ¨¨¨!Ì   à                                               ðâÀÀÀ   U   ©àààÎZPPP2PPPâPPPâPPPâPPPâPPPâPPPâPPPâPPPâPPPâPPPâPPPâPPPâPPPâPPPâPPPâPPPâPPPâPPPâPPPâPPPâPPPâPPPâPPPâPPPâb"ÌÈ   @                                                   ¸   ò      ü   ¸   p   P   P   P   P   P   P   P   P   P   P   P   P   P   P   P   P   P   P   P   P   P   P   P   P   P         à   @                                                          Ø      ð   À                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    0       0       Â$                
+        $   Ê$      î$      %                    *       %         R               /usr/home/fatal/newprefs/menus.tiff Created with The GIMP          
\ No newline at end of file
diff -Naur WindowMaker-0.80.2/WPrefs.app/WindowHandling.c wm-xft2/WPrefs.app/WindowHandling.c
--- WindowMaker-0.80.2/WPrefs.app/WindowHandling.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/WindowHandling.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WPrefs.app/Workspace.c wm-xft2/WPrefs.app/Workspace.c
--- WindowMaker-0.80.2/WPrefs.app/Workspace.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/Workspace.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WPrefs.app/WPrefs.c wm-xft2/WPrefs.app/WPrefs.c
--- WindowMaker-0.80.2/WPrefs.app/WPrefs.c	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/WPrefs.c	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
@@ -712,10 +712,11 @@
     InitMouseSettings(scr, WPrefs.banner);
 
     InitAppearance(scr, WPrefs.banner);
-    
-#ifdef akk
+
+#ifdef finished_checking
     InitFont(scr, WPrefs.banner);
-#endif
+#endif 
+
 #ifdef not_yet_fully_implemented
     InitThemes(scr, WPrefs.banner);
 #endif
diff -Naur WindowMaker-0.80.2/WPrefs.app/WPrefs.h wm-xft2/WPrefs.app/WPrefs.h
--- WindowMaker-0.80.2/WPrefs.app/WPrefs.h	2002-01-08 16:44:38.000000000 +0300
+++ wm-xft2/WPrefs.app/WPrefs.h	2003-10-22 14:08:35.000000000 +0400
@@ -2,7 +2,7 @@
  * 
  *  WPrefs - Window Maker Preferences Program
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ *  Copyright (c) 1998-2003 Alfredo K. Kojima
  * 
  *  This program is free software; you can redistribute it and/or modify
  *  it under the terms of the GNU General Public License as published by
diff -Naur WindowMaker-0.80.2/WPrefs.app/xpm/temp.xpm wm-xft2/WPrefs.app/xpm/temp.xpm
--- WindowMaker-0.80.2/WPrefs.app/xpm/temp.xpm	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/WPrefs.app/xpm/temp.xpm	2003-10-22 14:08:35.000000000 +0400
@@ -0,0 +1,159 @@
+/* XPM */
+static char * image_name[] = {
+"48 48 108 2",
+"  	c None",
+". 	c #108408420842",
+"X 	c #000000000000",
+"o 	c #084200000000",
+"O 	c #529408420842",
+"+ 	c #739C10841084",
+"@ 	c #421010841084",
+"# 	c #631863186318",
+"$ 	c #739C08420842",
+"% 	c #B5AC18C618C6",
+"& 	c #A52821082108",
+"* 	c #6B5A18C618C6",
+"= 	c #5294294A294A",
+"- 	c #18C618C618C6",
+"; 	c #294A294A294A",
+": 	c #63185AD65AD6",
+"> 	c #842008420842",
+", 	c #A52808420842",
+"< 	c #842010841084",
+"1 	c #94A44A524A52",
+"2 	c #AD6A318C318C",
+"3 	c #5AD621082108",
+"4 	c #4A5210841084",
+"5 	c #084208420842",
+"6 	c #AD6A08420842",
+"7 	c #DEF66B5A6B5A",
+"8 	c #AD6A6B5A6B5A",
+"9 	c #BDEE42104210",
+"0 	c #739C318C318C",
+"q 	c #5AD6294A294A",
+"w 	c #842018C618C6",
+"e 	c #AD6A5AD65AD6",
+"r 	c #7BDE318C318C",
+"t 	c #421021082108",
+"y 	c #4A5221082108",
+"u 	c #210818C618C6",
+"i 	c #B5AC08420842",
+"p 	c #A528318C318C",
+"a 	c #BDEE4A524A52",
+"s 	c #84204A524A52",
+"d 	c #108410841084",
+"f 	c #631808420842",
+"g 	c #8C6221082108",
+"h 	c #BDEE7BDE7BDE",
+"j 	c #AD6A39CE39CE",
+"k 	c #6318318C318C",
+"l 	c #318C294A294A",
+"z 	c #94A421082108",
+"x 	c #9CE652945294",
+"c 	c #BDEE39CE39CE",
+"v 	c #5AD6318C318C",
+"b 	c #DEF6DEF6DEF6",
+"n 	c #C630294A294A",
+"m 	c #CE7263186318",
+"M 	c #D6B494A494A4",
+"N 	c #7BDE39CE39CE",
+"B 	c #7BDE52945294",
+"V 	c #5294318C318C",
+"C 	c #5AD64A524A52",
+"Z 	c #5AD65AD65AD6",
+"A 	c #529452945294",
+"S 	c #9CE69CE69CE6",
+"D 	c #BDEE21082108",
+"F 	c #BDEE52945294",
+"G 	c #BDEE84208420",
+"H 	c #B5AC39CE39CE",
+"J 	c #7BDE4A524A52",
+"K 	c #4A5242104210",
+"L 	c #421042104210",
+"P 	c #BDEE18C618C6",
+"I 	c #B5AC42104210",
+"U 	c #4A52294A294A",
+"Y 	c #4A5239CE39CE",
+"T 	c #39CE39CE39CE",
+"R 	c #4A5208420842",
+"E 	c #BDEE5AD65AD6",
+"W 	c #CE72739C739C",
+"Q 	c #739C52945294",
+"! 	c #9CE694A494A4",
+"~ 	c #7BDE08420842",
+"^ 	c #739C39CE39CE",
+"/ 	c #4A524A524A52",
+"( 	c #A52884208420",
+") 	c #9CE64A524A52",
+"_ 	c #C63084208420",
+"` 	c #739C4A524A52",
+"' 	c #210821082108",
+"] 	c #A5289CE69CE6",
+"[ 	c #94A4318C318C",
+"{ 	c #631839CE39CE",
+"} 	c #318C318C318C",
+"| 	c #CE72CE72CE72",
+" .	c #63184A524A52",
+"..	c #6B5A4A524A52",
+"X.	c #5AD652945294",
+"o.	c #6B5A6B5A6B5A",
+"O.	c #C630C630C630",
+"+.	c #529439CE39CE",
+"@.	c #421018C618C6",
+"#.	c #8C628C628C62",
+"$.	c #7BDE7BDE7BDE",
+"%.	c #A528A528A528",
+"&.	c #842084208420",
+"*.	c #94A494A494A4",
+"=.	c #739C739C739C",
+"-.	c #D6B4D6B4D6B4",
+";.	c #B5ACB5ACB5AC",
+":.	c #AD6AAD6AAD6A",
+"                                                                                                ",
+"                                                                                                ",
+"                                                                                                ",
+"                                                                        . X                     ",
+"                                                                    o O + @                     ",
+"            # # # # # # # # # # # # # # # # # # # # # # # # # # # # $ % & * = X X X             ",
+"            # - - - - - - - - - - - - - - - - - - - - - - - - ; : > , < 1 2 3 4 5 X X           ",
+"            # - - - - - - - - - - - - - - - - - - - - - - - - ; $ 6 7 8 9 0 q * - 5 X           ",
+"            # - - - - - - - - - - - - - - - - - - - - - - - - $ % w e 9 r q t y - 5 X           ",
+"            # - - - - - - - - - - - - - - - - - - - - - - u $ i p 1 a 0 s t t u d 5 X X         ",
+"            # - - - - - - - - - - - - - - - - - - - - - - f , g h j 0 k t y u d d 5 X X X       ",
+"            # ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; l f 6 z x c 0 v t t u d d 5 5 X X X       ",
+"            b b b b b b b b b b b b b b b b b b b b b $ n m M 9 N B V t C Z A d 5 X X X X       ",
+"            b S S S S S S S S S S S S S S S S S S S $ D F G H N J = y K L L - d 5 5 X X X       ",
+"            b S S S S S S S S S S S S S S S S S S O P a h I 0 J U t Y L L T - 5 5 5 X X X       ",
+"            b S S S S S S S S S S S S S S S S S R P E W I N Q V y Y L L T T - d d 5 X X         ",
+"            b S S S S S S S S S S S S S S S ! ~ P E h 9 ^ J V t Y / Y T T T - d - 5 X X         ",
+"            b S S S S S S S S S S S S S S S ( $ ) _ I ^ ` U t Y L L T T T L ' ' - 5 X           ",
+"            b L L L L L L L L L L L L L L L L ] y [ 0 { y y u - - - - - - ' } ' ' 5 X           ",
+"            b b b b b b b b b b b b b b b b | b  .t ..= t X.A A A / / A o.S O.; ' 5 X           ",
+"            b S S S S S S S S S S S S S S | S Z A +.@.@.Y L T T T L L / o.#.L ; ' 5 X           ",
+"            b S S S S S S S S S S S S S | S Z / } $.X.L L L T T T L A o.#.S L ; ' 5 X           ",
+"            b S S S S S S S S S S S %.| S A / T &.$./ T T T T T L / o.#.S S L ; ' 5 X           ",
+"            b S S S S S S S S S S S | &.Z / T #.#.o./ T T T T L A o.#.S S S L ; ' 5 X           ",
+"            b S S S S S S S S S %.| $.Z T L S *.$.A L T T T L A =.#.S S S S L ; ' 5 X           ",
+"            b L L L L L L L L L | =.A } } L T } ' - - - ' ' ' } T L L L L L L ; ' 5 X           ",
+"            b b b b b b b b b O.&.# T # -.O.%.$.Z A Z =.*.%.;.O.-.b b b b b b ; ' 5 X           ",
+"            b S S S S S S S | =./ } # S *.=.Z L T L A =.#.*.S S S S S S S S L ; ' 5 X           ",
+"            b S S S S S S O.$.A T o.S *.=.A L T L A =.#.S S S S S S S S S S L ; ' 5 X           ",
+"            b S S S S %.| =./ } $.S *.=.A L T L Z $.*.S S S S S S S S S S S L ; ' 5 X           ",
+"            b S S S S | o./ } #.S *.=.A L T L Z $.*.S S S S S S S S S S S S L ; ' 5 X           ",
+"            b S S %.| =.L } &.S *.=.A L T / # $.*.S S S S S S S S S S S S S L ; ' 5 X           ",
+"            b Z T / &.T } L L T } ' - - ' ; T T L L L L L L L L L L L L L L L ; ' 5 X           ",
+"            -.| O.; L / O.b O.%.=.A A o.#.;.| b b b b b b b b b b b b b b b b ; ' 5 X           ",
+"            | O.O.o.L &.S #.=.A L T / o.&.S S S S S S S S S S S S S S S S S L ; ' 5 X           ",
+"        } O.| :.Z } o.S *.=.A L T / =.#.S S S S S S S S S S S S S S S S S S L ; ' 5 X           ",
+"        %.%.O.#.} $.*.&.=.A L L A =.#.S S S S S S S S S S S S S S S S S S S L ; ' 5 X           ",
+"          ;.;./ #.#.$.# / L L A =.#.S S S S S S S S S S S S S S S S S S S S L ; ' 5 X           ",
+"          d =.S #.=.# A / L A =.*.S S S S S S S S S S S S S S S S S S S S S L ; ' 5 X           ",
+"          5 -.T } ; ' ' ' ; } T L L L L L L L L L L L L L L L L L L L L L L L ; ' 5 X           ",
+"          X X 5 d d d - - ' ' ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ' 5 X           ",
+"          X X 5 5 5 d d - - ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' - 5 X           ",
+"            X X X 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 X X           ",
+"            X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X X             ",
+"              X X X X X                                                                         ",
+"              X X X X                                                                           ",
+"                                                                                                ",
+"                                                                                                "};
diff -Naur WindowMaker-0.80.2/wrlib/bench.h wm-xft2/wrlib/bench.h
--- WindowMaker-0.80.2/wrlib/bench.h	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/wrlib/bench.h	2003-10-22 14:08:38.000000000 +0400
@@ -0,0 +1,68 @@
+
+
+
+inline static void
+cycle_bench(int start) 
+{
+    static volatile unsigned int start_cycle;
+
+    if (start) {
+	asm volatile
+	    ("pushl %%edx	\n\t"
+	     "rdtsc         	\n\t"
+	     "movl %%eax,%0  	\n\t"
+	     "cld            	\n\t"
+	     "popl %%edx	\n\t"
+	     "nop            	\n\t"
+	     "nop            	\n\t"
+	     "nop            	\n\t"
+	     "nop            	\n\t"
+	     "nop            	\n\t"
+	     "nop       	\n\t"
+	     "nop            	\n\t"
+	     "nop    	        \n\t"
+	     : "=m" (start_cycle) : : "eax", "edx");
+    } else {
+	volatile int end;
+
+	asm volatile
+	    ("pushl %%edx	\n\t"
+	     "clc            	\n\t"
+	     "rdtsc          	\n\t"
+	     "movl %%eax, %0	\n\t"
+	     "popl %%edx	\n\t"
+	     : "=m" (end) : : "eax", "edx");
+	
+	printf("Cycle count = %u\n", end - start_cycle - 68);
+    }
+}
+
+
+
+#if 0
+// seems linux doesnt allow user progs to exec rdpcm..
+inline static void
+cache_bench(int start) 
+{
+    static int start_cycle;
+    
+    if (start) {
+	asm volatile(
+		"movl $1,%%ecx	\n\t"
+		"rdpmc         \n\t"
+		"movl %%eax,%0  \n\t"
+                 : "=m" (start_cycle));
+    } else {
+	int end;
+	
+	asm volatile(
+		"movl $1,%%ecx	\n\t"
+                "rdpmc          \n\t"
+                "movl %%eax,%0"
+                 : "=m" (end));
+	
+	printf("Cache reloads counted = %i\n", end - start_cycle);
+    }
+}
+
+#endif
diff -Naur WindowMaker-0.80.2/wrlib/ChangeLog wm-xft2/wrlib/ChangeLog
--- WindowMaker-0.80.2/wrlib/ChangeLog	2001-09-01 18:47:44.000000000 +0400
+++ wm-xft2/wrlib/ChangeLog	2003-10-22 14:08:38.000000000 +0400
@@ -1,3 +1,7 @@
+- removed obsoleted RDestroyImage()
+- removed Hermes code.
+- Put back asm/mmx optimized code.
+
 - fixed a bug in RCombineAreaWithOpaqueness() (Brad <lists@anomie.yi.org>)       
 
 - Added retain/release mechanism to RImage by adding RRetainImage() and
diff -Naur WindowMaker-0.80.2/wrlib/color.c wm-xft2/wrlib/color.c
--- WindowMaker-0.80.2/wrlib/color.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/color.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /* color.c - color stuff (rgb -> hsv convertion etc.)
  * 
- *  Raster graphics library
+ * Raster graphics library
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ * Copyright (c) 1998-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
diff -Naur WindowMaker-0.80.2/wrlib/context.c wm-xft2/wrlib/context.c
--- WindowMaker-0.80.2/wrlib/context.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/context.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /* context.c - X context management
  * 
- *  Raster graphics library
+ * Raster graphics library
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ * Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
@@ -32,12 +32,6 @@
 
 #include <math.h>
 
-#include "wrasterP.h"
-
-#ifdef HAVE_HERMES
-#include <Hermes/Hermes.h>
-#endif
-
 #include "StdCmap.h"
 
 #include "wraster.h"
@@ -706,66 +700,17 @@
     context->copy_gc = XCreateGC(dpy, context->drawable, GCFunction
 				 |GCGraphicsExposures, &gcv);
 
-#ifdef HAVE_HERMES
-    context->hermes_data = malloc(sizeof(RHermesData));
-    if (!context->hermes_data) {
-	RErrorCode = RERR_NOMEMORY;
-	free(context);
-	return NULL;
-    }
-
-    Hermes_Init();
-
-    context->hermes_data->palette = Hermes_PaletteInstance();
-    {
-	unsigned long flags = 0;
-	
-	if (context->attribs->render_mode == RDitheredRendering) {
-	    flags |= HERMES_CONVERT_DITHER;
-	}
-	context->hermes_data->converter = Hermes_ConverterInstance(flags);
-    }
-#endif
-    
     if (context->vclass == PseudoColor || context->vclass == StaticColor) {
 	if (!setupPseudoColorColormap(context)) {
 	    free(context);
 	    return NULL;
 	}
-#ifdef HAVE_HERMES
-	{
-	    int32 palette[256];
-	    int i;
-
-	    for (i = 0; i < context->ncolors; i++) {
-		palette[i] = ((context->colors[i].red >> 8) << 16) ||
-		    ((context->colors[i].green >> 8) << 8) ||
-		    ((context->colors[i].blue >> 8));
-	    }
-	    
-	    Hermes_PaletteSet(context->hermes_data->palette, palette);
-	}			  
-#endif
     } else if (context->vclass == GrayScale || context->vclass == StaticGray) {
 	context->colors = allocateGrayScale(context);
 	if (!context->colors) {
 	    free(context);
 	    return NULL;
 	}
-#ifdef HAVE_HERMES
-	{
-	    int32 palette[256];
-	    int i;
-
-	    for (i = 0; i < context->ncolors; i++) {
-		palette[i] = ((context->colors[i].red >> 8) << 16) ||
-		    ((context->colors[i].green >> 8) << 8) ||
-		    ((context->colors[i].blue >> 8));
-	    }
-	    
-	    Hermes_PaletteSet(context->hermes_data->palette, palette);
-	}			  
-#endif	
     } else if (context->vclass == TrueColor) {
     	/* calc offsets to create a TrueColor pixel */
 	context->red_offset = count_offset(context->visual->red_mask);
@@ -776,10 +721,7 @@
 	    context->attribs->render_mode = RBestMatchRendering;
     }
 
-#ifdef HAVE_HERMES
-    
-#endif
-    
+
     /* check avaiability of MIT-SHM */
 #ifdef XSHM
     if (!(context->attribs->flags & RC_UseSharedMemory)) {
diff -Naur WindowMaker-0.80.2/wrlib/convert.c wm-xft2/wrlib/convert.c
--- WindowMaker-0.80.2/wrlib/convert.c	2002-03-26 13:47:12.000000000 +0300
+++ wm-xft2/wrlib/convert.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /* convert.c - convert RImage to Pixmap
  * 
- *  Raster graphics library
+ * Raster graphics library
  *
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ * Copyright (c) 1997-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
@@ -40,7 +40,7 @@
 #include "bench.h"
 #endif
 
-#include "wrasterP.h"
+#include "wraster.h"
 
 #ifdef XSHM
 extern Pixmap R_CreateXImageMappedPixmap(RContext *context, RXImage *ximage);
@@ -48,6 +48,41 @@
 #endif
 
 
+#ifdef ASM_X86
+extern void x86_PseudoColor_32_to_8(unsigned char *image,
+                                    unsigned char *ximage,
+                                    char *err, char *nerr,
+                                    short *ctable,
+                                    int dr, int dg, int db,
+                                    unsigned long *pixels,
+                                    int cpc,
+                                    int width, int height,
+                                    int bytesPerPixel,
+                                    int line_offset);
+#endif /* ASM_X86 */
+
+#ifdef ASM_X86_MMX
+
+extern int x86_check_mmx();
+
+extern void x86_mmx_TrueColor_32_to_16(unsigned char *image,
+                                       unsigned short *ximage,
+                                       short *err, short *nerr,
+                                       short *rtable, short *gtable,
+                                       short *btable,
+                                       int dr, int dg, int db,
+                                       unsigned int roffs,
+                                       unsigned int goffs,
+                                       unsigned int boffs,
+                                       int width, int height,
+                                       int line_offset);
+
+
+
+#endif /* ASM_X86_MMX */
+
+#define NFREE(n)  if (n) free(n)
+
 #define HAS_ALPHA(I)	((I)->format == RRGBAFormat)
 
 
@@ -153,7 +188,7 @@
     int pixel;
     int rer, ger, ber;
     unsigned char *ptr = image->data;
-    int channels = (image->format == RRGBAFormat ? 4 : 3);
+    int channels = (HAS_ALPHA(image) ? 4 : 3);
 
     /* convert and dither the image to XImage */
     for (y=0; y<image->height; y++) {
@@ -272,7 +307,7 @@
     unsigned short rmask, gmask, bmask;
     unsigned short roffs, goffs, boffs;
     unsigned short *rtable, *gtable, *btable;
-    int channels = (image->format == RRGBAFormat ? 4 : 3);
+    int channels = (HAS_ALPHA(image) ? 4 : 3);
 
     ximg = RCreateXImage(ctx, ctx->depth, image->width, image->height);
     if (!ximg) {
@@ -340,17 +375,48 @@
 
 #ifdef DEBUG
         puts("true color dither");
-#endif	
+#endif
+
+#ifdef ASM_X86_MMX
+        if (ctx->depth==16 && HAS_ALPHA(image) && x86_check_mmx()) {
+            short *err;
+            short *nerr;
+
+            err = malloc(8*(image->width+3));
+            nerr = malloc(8*(image->width+3));
+            if (!err || !nerr) {
+                NFREE(err);
+                NFREE(nerr);
+                RErrorCode = RERR_NOMEMORY;
+                RDestroyXImage(ctx, ximg);
+                return NULL;
+            }
+            memset(err, 0, 8*(image->width+3));
+            memset(nerr, 0, 8*(image->width+3));
+
+            x86_mmx_TrueColor_32_to_16(image->data,
+                                       (unsigned short*)ximg->image->data,
+                                       err+8, nerr+8,
+                                       rtable, gtable, btable,
+                                       dr, dg, db,
+                                       roffs, goffs, boffs,
+                                       image->width, image->height,
+                                       ximg->image->bytes_per_line - 2*image->width);
+
+            free(err);
+            free(nerr);
+        } else
+#endif /* ASM_X86_MMX */
 	{
 	    char *err;
 	    char *nerr;
-	    int ch = (image->format == RRGBAFormat ? 4 : 3);
+	    int ch = (HAS_ALPHA(image) ? 4 : 3);
 
 	    err = malloc(ch*(image->width+2));
 	    nerr = malloc(ch*(image->width+2));
 	    if (!err || !nerr) {
-		if (nerr)
-		    free(nerr);
+                NFREE(err);
+                NFREE(nerr);
 		RErrorCode = RERR_NOMEMORY;
 		RDestroyXImage(ctx, ximg);
 		return NULL;
@@ -394,7 +460,7 @@
     int rer, ger, ber;
     unsigned char *ptr = image->data;
     unsigned char *optr = ximg->image->data;
-    int channels = (image->format == RRGBAFormat ? 4 : 3);
+    int channels = (HAS_ALPHA(image) ? 4 : 3);
     int cpcpc = cpc*cpc;
 
     /* convert and dither the image to XImage */
@@ -469,7 +535,7 @@
     const unsigned short bmask = rmask;
     unsigned short *rtable, *gtable, *btable;
     const int cpccpc = cpc*cpc;
-    int channels = (image->format == RRGBAFormat ? 4 : 3);
+    int channels = (HAS_ALPHA(image) ? 4 : 3);
 
     ximg = RCreateXImage(ctx, ctx->depth, image->width, image->height);
     if (!ximg) {
@@ -520,8 +586,8 @@
 	err = malloc(4*(image->width+3));
 	nerr = malloc(4*(image->width+3));
 	if (!err || !nerr) {
-	    if (nerr)
-		free(nerr);
+            NFREE(err);
+            NFREE(nerr);
 	    RErrorCode = RERR_NOMEMORY;
 	    RDestroyXImage(ctx, ximg);
 	    return NULL;
@@ -529,9 +595,20 @@
 	memset(err, 0, 4*(image->width+3));
 	memset(nerr, 0, 4*(image->width+3));
 
-	convertPseudoColor_to_8(ximg, image, err+4, nerr+4,
-				rtable,	gtable,	btable,
-				dr, dg, db, ctx->pixels, cpc);
+/*#ifdef ASM_X86*/
+#if 0
+        x86_PseudoColor_32_to_8(image->data, ximg->image->data,
+                                err+4, nerr+4,
+                                rtable,
+                                dr, dg, db, ctx->pixels, cpc,
+                                image->width, image->height,
+                                channels,
+                                ximg->image->bytes_per_line - image->width);
+#else
+        convertPseudoColor_to_8(ximg, image, err+4, nerr+4,
+                                rtable,	gtable,	btable,
+                                dr, dg, db, ctx->pixels, cpc);
+#endif
 
 	free(err);
 	free(nerr);
@@ -554,7 +631,7 @@
     unsigned char *data;
     unsigned int *rtable, *gtable, *btable;
     unsigned int base_pixel = ctx->std_rgb_map->base_pixel;
-    int channels = (image->format == RRGBAFormat ? 4 : 3);
+    int channels = (HAS_ALPHA(image) ? 4 : 3);
 
 
     ximg = RCreateXImage(ctx, ctx->depth, image->width, image->height);
@@ -606,10 +683,8 @@
 	err = (short*)malloc(3*(image->width+2)*sizeof(short));
 	nerr = (short*)malloc(3*(image->width+2)*sizeof(short));
 	if (!err || !nerr) {
-	    if (err)
-		free(err);
-	    if (nerr)
-		free(nerr);
+            NFREE(err);
+            NFREE(nerr);
 	    RErrorCode = RERR_NOMEMORY;
 	    RDestroyXImage(ctx, ximg);
 	    return NULL;
@@ -702,7 +777,7 @@
     unsigned short gmask;
     unsigned short *table;
     unsigned char *data;
-    int channels = (image->format == RRGBAFormat ? 4 : 3);
+    int channels = (HAS_ALPHA(image) ? 4 : 3);
 
 
     ximg = RCreateXImage(ctx, ctx->depth, image->width, image->height);
@@ -755,8 +830,8 @@
 	gerr = (short*)malloc((image->width+2)*sizeof(short));
 	ngerr = (short*)malloc((image->width+2)*sizeof(short));
 	if (!gerr || !ngerr) {
-	    if (ngerr)
-		free(ngerr);
+            NFREE(gerr);
+            NFREE(ngerr);
 	    RErrorCode = RERR_NOMEMORY;
 	    RDestroyXImage(ctx, ximg);
 	    return NULL;
@@ -834,89 +909,6 @@
 }
 
 
-#ifdef HAVE_HERMES
-
-static RXImage*
-hermesConvert(RContext *context, RImage *image)
-{
-    HermesFormat source;
-    HermesFormat dest;
-    RXImage *ximage;
-    
-    
-    ximage = RCreateXImage(context, context->depth, 
-			   image->width, image->height);
-    if (!ximage) {
-	return NULL;
-    }
-    
-    /* The masks look weird for images with alpha. but they work this way.
-     * wth does hermes do internally?
-     */
-    source.bits = (HAS_ALPHA(image) ? 32 : 24);
-    if (ximage->image->byte_order==LSBFirst) {
-        source.r = 0xff0000;
-        source.g = 0x00ff00;
-        source.b = 0x0000ff;
-    } else {
-        if (source.bits == 32) {
-            source.r = 0xff000000;
-            source.g = 0x00ff0000;
-            source.b = 0x0000ff00;
-        } else {
-            source.r = 0xff0000;
-            source.g = 0x00ff00;
-            source.b = 0x0000ff;
-        }
-    }
-    source.a = 0; /* Don't care about alpha */
-    source.indexed = 0;
-    source.has_colorkey = 0;
-
-    /* This is a hack and certainly looks weird, but it works :P
-     * it assumes though that green is inbetween red and blue (the mask) */
-    if (ximage->image->byte_order==LSBFirst) {
-        dest.r = context->visual->blue_mask;
-        dest.g = context->visual->green_mask;
-        dest.b = context->visual->red_mask;
-    } else {
-        dest.r = context->visual->red_mask;
-        dest.g = context->visual->green_mask;
-        dest.b = context->visual->blue_mask;
-    }
-    dest.a = 0;
-    dest.bits = ximage->image->bits_per_pixel;
-    if (context->vclass == TrueColor)
-	dest.indexed = 0;
-    else
-	dest.indexed = 1;
-    dest.has_colorkey = 0;
-    
-    /*printf("source r=0x%x, g=0x%x, b=0x%x, a=0x%x, b=%d, i=%d, c=%d\n",
-           source.r, source.g, source.b, source.a,
-           source.bits, source.indexed, source.has_colorkey);
-    printf("dest r=0x%x, g=0x%x, b=0x%x, a=0x%x, b=%d, i=%d, c=%d\n",
-           dest.r, dest.g, dest.b, dest.a,
-           dest.bits, dest.indexed, dest.has_colorkey);
-    */
-
-    Hermes_ConverterRequest(context->hermes_data->converter, &source, &dest);
-    
-    Hermes_ConverterPalette(context->hermes_data->converter, 
-			    context->hermes_data->palette, 0);
-    
-    Hermes_ConverterCopy(context->hermes_data->converter,
-			 image->data, 0, 0, image->width, image->height,
-			 image->width * (image->format == RRGBFormat ? 3 : 4),
-			 ximage->image->data, 0, 0, 
-			 image->width, image->height,
-			 ximage->image->bytes_per_line);
-    
-    return ximage;
-}
-#endif /* HAVE_HERMES */
-
-
 int 
 RConvertImage(RContext *context, RImage *image, Pixmap *pixmap)
 {
@@ -931,20 +923,17 @@
 
     switch (context->vclass) {
     case TrueColor:
-#ifdef HAVE_HERMES
-        if (context->attribs->render_mode == RBestMatchRendering) {
-            ximg = hermesConvert(context, image);
-        } else {
-            ximg = image2TrueColor(context, image);
-        }
-#else /* !HAVE_HERMES */
+#ifdef BENCH
+	cycle_bench(1);
+#endif
         ximg = image2TrueColor(context, image);
+#ifdef BENCH
+	cycle_bench(0);
 #endif
 	break;
 
     case PseudoColor:
     case StaticColor:
-        /* For StaticColor we can also use hermes, but it doesn't dither */
 #ifdef BENCH
 	cycle_bench(1);
 #endif
@@ -970,7 +959,7 @@
 
     *pixmap = XCreatePixmap(context->dpy, context->drawable, image->width,
 			    image->height, context->depth);
-    
+
 #ifdef XSHM
     if (context->flags.use_shared_pixmap && ximg->is_shared)
         tmp = R_CreateXImageMappedPixmap(context, ximg);
@@ -1005,6 +994,9 @@
 }
 
 
+/* make the gc permanent (create with context creation).
+ * GC creation is very expensive. altering its properties is not. -Dan
+ */
 int 
 RConvertImageMask(RContext *context, RImage *image, Pixmap *pixmap, 
 		  Pixmap *mask, int threshold)
@@ -1153,3 +1145,4 @@
     return True;
 }
 
+
diff -Naur WindowMaker-0.80.2/wrlib/convolve.c wm-xft2/wrlib/convolve.c
--- WindowMaker-0.80.2/wrlib/convolve.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/convolve.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /* 
- *  Raster graphics library
+ * Raster graphics library
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ * Copyright (c) 1997-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
diff -Naur WindowMaker-0.80.2/wrlib/draw.c wm-xft2/wrlib/draw.c
--- WindowMaker-0.80.2/wrlib/draw.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/draw.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,9 +1,9 @@
 /* draw.c - pixel plotting, line drawing
  * 
- *  Raster graphics library
+ * Raster graphics library
  * 
- *  Copyright (c) 1998-2002 Dan Pascu
- *  Copyright (c) 2000-2002 Alfredo K. Kojima
+ * Copyright (c) 1998-2003 Dan Pascu
+ * Copyright (c) 2000-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
diff -Naur WindowMaker-0.80.2/wrlib/gif.c wm-xft2/wrlib/gif.c
--- WindowMaker-0.80.2/wrlib/gif.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/gif.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /* gif.c - load GIF image from file
  * 
- *  Raster graphics library
+ * Raster graphics library
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ * Copyright (c) 1998-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
@@ -62,7 +62,7 @@
     RErrorCode = RERR_BADINDEX;
 
     gif = DGifOpenFileName(file);
-    
+
     if (!gif) {
 	switch (GifLastError()) {
 	 case D_GIF_ERR_OPEN_FAILED:
@@ -78,6 +78,12 @@
 	return NULL;
     }
 
+    if (gif->SWidth<1 || gif->SHeight<1) {
+        DGifCloseFile(gif);
+	RErrorCode = RERR_BADIMAGEFILE;
+        return NULL;
+    }
+
     colormap = gif->SColorMap;
 
     i = 0;
@@ -206,7 +212,7 @@
      default:
 	RErrorCode = RERR_BADIMAGEFILE;
 	break;
-    }    
+    }
 bye:
     if (image)
 	RReleaseImage(image);
diff -Naur WindowMaker-0.80.2/wrlib/gradient.c wm-xft2/wrlib/gradient.c
--- WindowMaker-0.80.2/wrlib/gradient.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/gradient.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,9 +1,9 @@
 /* gradient.c - renders gradients
  *
- *  Raster graphics library
+ * Raster graphics library
  *
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
- *  Copyright (c) 1998-2002 Dan Pascu
+ * Copyright (c) 1997-2003 Alfredo K. Kojima
+ * Copyright (c) 1998-2003 Dan Pascu
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
diff -Naur WindowMaker-0.80.2/wrlib/jpeg.c wm-xft2/wrlib/jpeg.c
--- WindowMaker-0.80.2/wrlib/jpeg.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/jpeg.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /* jpeg.c - load JPEG image from file
  * 
- *  Raster graphics library
+ * Raster graphics library
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ * Copyright (c) 1997-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
@@ -109,7 +109,7 @@
      */
     struct my_error_mgr jerr;
 
-    file = fopen(file_name, "r");
+    file = fopen(file_name, "rb");
     if (!file) {
 	RErrorCode = RERR_OPEN;
 	return NULL;
@@ -133,6 +133,11 @@
   
     jpeg_read_header(&cinfo, TRUE);
 
+    if (cinfo.image_width < 1 || cinfo.image_height < 1) {
+	RErrorCode = RERR_BADIMAGEFILE;
+	goto bye;
+    }
+
     bptr = buffer[0] = (JSAMPROW)malloc(cinfo.image_width*cinfo.num_components);
     if (!buffer[0]) {
 	RErrorCode = RERR_NOMEMORY;
diff -Naur WindowMaker-0.80.2/wrlib/load.c wm-xft2/wrlib/load.c
--- WindowMaker-0.80.2/wrlib/load.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/load.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /* load.c - load image from file
  * 
- *  Raster graphics library
+ * Raster graphics library
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ * Copyright (c) 1997-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
@@ -37,6 +37,10 @@
 
 #include "wraster.h"
 
+/* Silly hack for Windows systems with cygwin */
+#ifndef O_BINARY
+# define O_BINARY 0
+#endif
 
 typedef struct RCachedImage {
     RImage 	*image;
@@ -321,7 +325,7 @@
 
     assert(path!=NULL);
 
-    fd = open(path, O_RDONLY);
+    fd = open(path, O_RDONLY|O_BINARY);
     if (fd < 0) {
 	RErrorCode = RERR_OPEN;
 	return IM_ERROR;
diff -Naur WindowMaker-0.80.2/wrlib/Makefile.am wm-xft2/wrlib/Makefile.am
--- WindowMaker-0.80.2/wrlib/Makefile.am	2001-04-20 20:45:51.000000000 +0400
+++ wm-xft2/wrlib/Makefile.am	2003-10-22 14:08:38.000000000 +0400
@@ -4,7 +4,7 @@
 
 lib_LTLIBRARIES = libwraster.la
 
-libwraster_la_LDFLAGS = -version-info 4:0:2
+libwraster_la_LDFLAGS = -version-info 3:0:0
 
 bin_SCRIPTS = get-wraster-flags
 
@@ -20,7 +20,6 @@
 	CrCmap.c	\
 	DelCmap.c	\
 	CmapAlloc.c	\
-	wrasterP.h	\
 	raster.c 	\
 	draw.c		\
 	color.c		\
@@ -29,6 +28,7 @@
 	gradient.c 	\
 	xpixmap.c	\
 	convert.c 	\
+	x86_specific.c	\
 	context.c 	\
 	misc.c 		\
 	scale.c		\
@@ -44,6 +44,16 @@
 	gif.c
 
 
+LTCOMPILE2=`echo $(LTCOMPILE) | sed -e s/-fomit-frame-pointer//`
+COMPILE2=`echo $(COMPILE) | sed -e s/-fomit-frame-pointer//`
+
+# cant compile asm stuff with optimizations
+x86_specific.lo: x86_specific.c
+	$(LTCOMPILE2) -O0 -c $<
+
+x86_specific.o: x86_specific.c
+	$(COMPILE2) -O0 -c $<
+
 
 INCLUDES = $(DFLAGS) @HEADER_SEARCH_PATH@
 
@@ -69,4 +79,14 @@
 
 libwraster_la_LIBADD = @ALLOCA@ @LIBRARY_SEARCH_PATH@ @GFXLIBS@ @XLIBS@ -lm
 
+DISTCLEANFILES = wrlib.pc
 
+install-exec-local:
+	@$(NORMAL_INSTALL)
+	$(mkinstalldirs) $(DESTDIR)$(libdir)/pkgconfig
+	@list='wrlib.pc'; for p in $$list; do \
+	  if test -f $$p; then \
+	    echo "$(INSTALL_DATA) $$p $(DESTDIR)$(libdir)/pkgconfig/"; \
+	    $(INSTALL_DATA) $$p $(DESTDIR)$(libdir)/pkgconfig/; \
+	  else :; fi; \
+	done
diff -Naur WindowMaker-0.80.2/wrlib/misc.c wm-xft2/wrlib/misc.c
--- WindowMaker-0.80.2/wrlib/misc.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/misc.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /* 
- *  Raster graphics library
+ * Raster graphics library
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ * Copyright (c) 1997-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
diff -Naur WindowMaker-0.80.2/wrlib/nxpm.c wm-xft2/wrlib/nxpm.c
--- WindowMaker-0.80.2/wrlib/nxpm.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/nxpm.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /* nxpm.c - load "normalized" XPM image
  * 
- *  Raster graphics library
+ * Raster graphics library
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ * Copyright (c) 1997-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
@@ -88,7 +88,7 @@
     if (sscanf(data[line++], "%i %i %i %i", &w, &h, &ccount, &csize)!=4
 	|| w <= 0 || h <= 0 || ccount <= 0 || csize <= 0)
 	goto bad_format;
-    
+
     if (csize!=1 && csize!=2) 
 	goto bad_format;
 
@@ -245,7 +245,7 @@
     int w, h, ccount, csize;
     FILE *f;
     
-    f = fopen(file, "r");
+    f = fopen(file, "rb");
     if (!f) {
 	RErrorCode = RERR_OPEN;
 	return NULL;
@@ -569,7 +569,7 @@
     char transp[16];
     char buf[128];
 
-    file = fopen(filename, "w+");
+    file = fopen(filename, "wb+");
     if (!file) {
 	RErrorCode = RERR_OPEN;
 	return False;
diff -Naur WindowMaker-0.80.2/wrlib/png.c wm-xft2/wrlib/png.c
--- WindowMaker-0.80.2/wrlib/png.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/png.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /* png.c - load PNG image from file
  * 
- *  Raster graphics library
+ * Raster graphics library
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ * Copyright (c) 1997-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
@@ -67,7 +67,7 @@
     png_bytep *png_rows;
     unsigned char *ptr;
     
-    f = fopen(file, "r");
+    f = fopen(file, "rb");
     if (!f) {
 	RErrorCode = RERR_OPEN;
 	return NULL;
@@ -112,6 +112,15 @@
     png_get_IHDR(png, pinfo, &width, &height, &depth, &color_type,
 		 &junk, &junk, &junk);
 
+
+    /* sanity check */
+    if (width < 1 || height < 1) {
+	fclose(f);
+	png_destroy_read_struct(&png, &pinfo, &einfo);
+	RErrorCode = RERR_BADIMAGEFILE;
+	return NULL;
+    }
+
     
     /* check for an alpha channel */
     if (png_get_valid(png, pinfo, PNG_INFO_tRNS))
diff -Naur WindowMaker-0.80.2/wrlib/ppm.c wm-xft2/wrlib/ppm.c
--- WindowMaker-0.80.2/wrlib/ppm.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/ppm.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /* ppm.c - load PPM image from file
  * 
- *  Raster graphics library
+ * Raster graphics library
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ * Copyright (c) 1997-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
@@ -127,7 +127,7 @@
 
 #define GETL() if (!fgets(buffer, 255, file)) goto short_file
     
-    file = fopen(file_name, "r");
+    file = fopen(file_name, "rb");
     if (!file) {
 	RErrorCode = RERR_OPEN;
 	return NULL;
@@ -154,7 +154,7 @@
     }
     
     /* get size */
-    if (sscanf(buffer, "%i %i", &w, &h)!=2)
+    if (sscanf(buffer, "%i %i", &w, &h)!=2 || w < 1 || h < 1)
 	goto bad_file;
     
 
diff -Naur WindowMaker-0.80.2/wrlib/raster.c wm-xft2/wrlib/raster.c
--- WindowMaker-0.80.2/wrlib/raster.c	2002-11-09 17:52:46.000000000 +0300
+++ wm-xft2/wrlib/raster.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /* raster.c - main and other misc stuff 
  * 
- *  Raster graphics library
+ * Raster graphics library
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ * Copyright (c) 1997-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
@@ -24,7 +24,6 @@
 #include <stdlib.h>
 #include <stdio.h>
 #include <string.h>
-#include <limits.h>
 #include <X11/Xlib.h>
 #include "wraster.h"
 
@@ -38,6 +37,7 @@
 
 #define HAS_ALPHA(I)	((I)->format == RRGBAFormat)
 
+
 #define MAX_WIDTH 20000
 #define MAX_HEIGHT 20000
 /* 20000^2*4 < 2G */
@@ -47,17 +47,14 @@
 RCreateImage(unsigned width, unsigned height, int alpha)
 {
     RImage *image=NULL;
-    unsigned bla1, bla2;
     
     assert(width>0 && height>0);
 
-    /* check for bogus image sizes (and avoid overflow as a bonus) */
     if (width > MAX_WIDTH || height > MAX_HEIGHT) {
         RErrorCode = RERR_NOMEMORY;
-        return NULL;
+	return NULL;
     }
 
-
     image = malloc(sizeof(RImage));
     if (!image) {
 	RErrorCode = RERR_NOMEMORY;
@@ -81,6 +78,7 @@
     }
 
     return image;
+
 }
 
 
@@ -108,21 +106,6 @@
 }
 
 
-/* Obsoleted function. Use RReleaseImage() instead. This was kept only to
- * allow a smoother transition and to avoid breaking existing programs, but
- * it will be removed in a future release. Right now is just an alias to
- * RReleaseImage(). Do _NOT_ use RDestroyImage() anymore in your programs.
- * Being an alias to RReleaseImage() this function no longer actually
- * destroys the image, unless the image is no longer retained in some other
- * place.
- */
-void 
-RDestroyImage(RImage *image)
-{
-    RReleaseImage(image);
-}
-
-
 RImage*
 RCloneImage(RImage *image)
 {
diff -Naur WindowMaker-0.80.2/wrlib/rotate.c wm-xft2/wrlib/rotate.c
--- WindowMaker-0.80.2/wrlib/rotate.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/rotate.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /* rotate.c - image rotation
  * 
- *  Raster graphics library
+ * Raster graphics library
  * 
- *  Copyright (c) 2000-2002 Alfredo K. Kojima
+ * Copyright (c) 2000-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
diff -Naur WindowMaker-0.80.2/wrlib/save.c wm-xft2/wrlib/save.c
--- WindowMaker-0.80.2/wrlib/save.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/save.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /* save.c - save image to file
  * 
- *  Raster graphics library
+ * Raster graphics library
  * 
- *  Copyright (c) 1998-2002 Alfredo K. Kojima
+ * Copyright (c) 1998-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
diff -Naur WindowMaker-0.80.2/wrlib/scale.c wm-xft2/wrlib/scale.c
--- WindowMaker-0.80.2/wrlib/scale.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/scale.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /* scale.c - image scaling
  * 
- *  Raster graphics library
+ * Raster graphics library
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ * Copyright (c) 1997-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
diff -Naur WindowMaker-0.80.2/wrlib/tiff.c wm-xft2/wrlib/tiff.c
--- WindowMaker-0.80.2/wrlib/tiff.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/tiff.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /* tiff.c - load TIFF image from file
  * 
- *  Raster graphics library
+ * Raster graphics library
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ * Copyright (c) 1997-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
@@ -81,10 +81,10 @@
 	TIFFClose(tif);
 	return NULL;
     }
-      
+
     /* read data */
     ptr = data = (uint32*)_TIFFmalloc(width * height * sizeof(uint32));
-    
+
     if (!data) {
 	RErrorCode = RERR_NOMEMORY;
     } else {
diff -Naur WindowMaker-0.80.2/wrlib/TODO wm-xft2/wrlib/TODO
--- WindowMaker-0.80.2/wrlib/TODO	2001-04-10 03:50:07.000000000 +0400
+++ wm-xft2/wrlib/TODO	2003-10-22 14:08:38.000000000 +0400
@@ -2,4 +2,4 @@
 supports PseudoColor and TrueColor in some depths)
 - Gimp's xcf format?
 - add clipping code to RCombineArea()
-- figure out what is producing those speckles when dithering is used.
+- remake and optimize converters
diff -Naur WindowMaker-0.80.2/wrlib/wraster.h wm-xft2/wrlib/wraster.h
--- WindowMaker-0.80.2/wrlib/wraster.h	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/wraster.h	2003-10-22 14:08:38.000000000 +0400
@@ -1,7 +1,7 @@
 /*
- *  Raster graphics library
+ * Raster graphics library
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ * Copyright (c) 1997-2003 Alfredo K. Kojima
  * 
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
@@ -40,7 +40,7 @@
 
 
 /* version of the header for the library: 0.21 */
-#define WRASTER_HEADER_VERSION	21
+#define WRASTER_HEADER_VERSION	22
 
 
 #include <X11/Xlib.h>
@@ -79,19 +79,19 @@
 /* standard colormap usage */
 #define RC_StandardColormap	(1<<7)
 
-    
-    
 
-    
-    
+
+
+
+
 /* std colormap usage/creation modes */
 enum {
     RUseStdColormap,		       /* default. fallbacks to RIgnore.. if 
-					there is none defined */
-	RCreateStdColormap,
-	RIgnoreStdColormap
+					  there is none defined */
+    RCreateStdColormap,
+    RIgnoreStdColormap
 };
-    
+
 
     
 typedef struct RContextAttributes {
@@ -148,8 +148,6 @@
 	unsigned int use_shared_pixmap:1;
 	unsigned int optimize_for_speed:1;
     } flags;
-    
-    struct RHermesData *hermes_data;   /* handle for Hermes stuff */
 } RContext;
 
 
@@ -327,16 +325,6 @@
 
 void RReleaseImage(RImage *image);
 
-/* Obsoleted function. Use RReleaseImage() instead. This was kept only to
- * allow a smoother transition and to avoid breaking existing programs, but
- * it will be removed in a future release. Right now is just an alias to
- * RReleaseImage(). Do _NOT_ use RDestroyImage() anymore in your programs.
- * Being an alias to RReleaseImage() this function no longer actually
- * destroys the image, unless the image is no longer retained in some other
- * place.
- */
-void RDestroyImage(RImage *image);
-
 RImage *RGetImageFromXPMData(RContext *context, char **xpmData);
 
 /*
diff -Naur WindowMaker-0.80.2/wrlib/wrasterP.h wm-xft2/wrlib/wrasterP.h
--- WindowMaker-0.80.2/wrlib/wrasterP.h	2001-02-18 04:01:36.000000000 +0300
+++ wm-xft2/wrlib/wrasterP.h	1970-01-01 03:00:00.000000000 +0300
@@ -1,24 +0,0 @@
-
-
-#ifndef WRASTERP_H_
-#define WRASTERP_H_
-
-#include <config.h>
-
-
-#include "wraster.h"
-
-
-#ifdef HAVE_HERMES
-
-# include <Hermes/Hermes.h>
-
-typedef struct RHermesData {
-    HermesHandle palette;
-    HermesHandle converter;
-} RHermesData;
-
-#endif
-
-
-#endif
diff -Naur WindowMaker-0.80.2/wrlib/x86_specific.c wm-xft2/wrlib/x86_specific.c
--- WindowMaker-0.80.2/wrlib/x86_specific.c	1970-01-01 03:00:00.000000000 +0300
+++ wm-xft2/wrlib/x86_specific.c	2003-10-22 14:08:38.000000000 +0400
@@ -0,0 +1,696 @@
+/* x86_convert.c - convert RImage to XImage with x86 optimizations
+ * 
+ * Raster graphics library
+ *
+ * Copyright (c) 2000-2003 Alfredo K. Kojima
+ *
+ *  This library is free software; you can redistribute it and/or
+ *  modify it under the terms of the GNU Library General Public
+ *  License as published by the Free Software Foundation; either
+ *  version 2 of the License, or (at your option) any later version.
+ *  
+ *  This library is distributed in the hope that it will be useful,
+ *  but WITHOUT ANY WARRANTY; without even the implied warranty of
+ *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ *  Library General Public License for more details.
+ *  
+ *  You should have received a copy of the GNU Library General Public
+ *  License along with this library; if not, write to the Free
+ *  Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
+ */
+
+#include <config.h>
+
+#ifdef ASM_X86
+
+
+#ifdef ASM_X86_MMX
+
+int
+x86_check_mmx()
+{
+    static int result = -1;
+
+    if (result >= 0)
+	return result;
+
+    result = 0;
+
+    asm volatile
+        ("pushal		\n" // please dont forget this in any asm
+         "pushfl		\n" // check whether cpuid supported
+	 "pop %%eax		\n"
+	 "movl %%eax, %%ebx	\n"
+	 "xorl $(1<<21), %%eax	\n"
+	 "pushl %%eax		\n"
+	 "popfl			\n"
+	 "pushfl		\n"
+	 "popl %%eax		\n"
+	 "xorl %%ebx, %%eax	\n"
+	 "andl $(1<<21), %%eax	\n"
+	 "jz .NotPentium	\n"
+	 "xorl %%eax, %%eax	\n" // no eax effect because of the movl below
+	                            // except reseting flags. is it needed?
+	 "movl $1, %%eax	\n"
+	 "cpuid			\n"
+	 "test $(1<<23), %%edx	\n"
+	 "jz .NotMMX		\n"
+
+         "popal			\n" // popal needed because the address of
+         "movl $1, %0		\n" // variable %0 may be kept in a register
+         "jmp .noPop		\n"
+
+	 ".NotMMX:		\n"
+	 ".NotPentium:		\n"
+         "popal			\n"
+         ".noPop:		\n"
+
+	 : "=m" (result));
+
+    return result;
+}
+
+
+/*
+ * TODO:
+ * 		32/8	24/8	32/16	24/16	32/24	24/24
+ * PPlain	YES	YES
+ * MMX				DONE
+ *
+ * 
+ * - try to align stack (local variable space) into quadword boundary
+ */
+
+
+
+void
+x86_mmx_TrueColor_32_to_16(unsigned char *image, // 8
+			   unsigned short *ximage, // 12
+			   short *err, // 16
+			   short *nerr, // 20
+			   short *rtable, // 24
+			   short *gtable, // 28
+			   short *btable, // 32
+			   int dr, // 36
+			   int dg, // 40
+			   int db, // 44
+			   unsigned int roffs, // 48
+			   unsigned int goffs, // 52
+			   unsigned int boffs, // 56
+			   int width, // 60
+			   int height, // 64
+			   int line_offset) // 68
+{
+    /*
+     int x; //-4
+     long long rrggbbaa;// -16
+     long long pixel; //-24
+     short *tmp_err; //-32
+     short *tmp_nerr; //-36
+     */
+
+    asm volatile
+	(
+	 "subl $128, %esp		\n" // alloc some more stack
+
+	 "pushal       			\n"
+
+	 // pack dr, dg and db into mm6
+	 "movl 	36(%ebp), %eax		\n"
+	 "movl  40(%ebp), %ebx		\n"
+	 "movw  %ax, -16(%ebp)		\n"
+	 
+	 "movw  %bx, -14(%ebp)		\n"
+	 "movl  44(%ebp), %eax		\n"
+	 "movw  $0, -10(%ebp)		\n"
+	 "movw  %ax, -12(%ebp)		\n"
+
+	 "movq  -16(%ebp), %mm6		\n" // dr dg db 0
+
+	 // pack 4|4|4|4 into mm7, for shifting (/16)
+	 "movl $0x00040004, -16(%ebp)	\n"
+	 "movl $0x00040004, -12(%ebp)	\n"
+	 "movq -16(%ebp), %mm7		\n"
+	 
+	 // store constant values for using with mmx when dithering
+	 "movl $0x00070007, -16(%ebp)	\n"
+	 "movl $0x00070007, -12(%ebp)	\n"
+	 "movq -16(%ebp), %mm5		\n"
+
+	 "movl $0x00050005, -16(%ebp)	\n"
+	 "movl $0x00050005, -12(%ebp)	\n"
+	 "movq -16(%ebp), %mm4		\n"
+
+	 "movl $0x00030003, -16(%ebp)	\n"
+	 "movl $0x00030003, -12(%ebp)	\n"
+	 "movq -16(%ebp), %mm3		\n"
+
+	 // process 1 pixel / cycle, each component treated as 16bit
+	 "movl 8(%ebp), %esi		\n" // esi = image->data
+
+".LoopYa:				\n"
+	 "movl 60(%ebp), %eax		\n"
+	 "movl %eax, -4(%ebp)		\n" // x = width
+
+	 "movl 64(%ebp), %eax		\n"
+	 "decl %eax			\n" // y--
+	 "movl %eax, 64(%ebp)		\n"
+	 "js .Enda			\n" // if y < 0, goto end
+	 "andl $1, %eax			\n"
+	 "jz .LoopY_1a			\n" // if (y&1) goto LoopY_1
+
+".LoopY_0a:				\n"
+
+	 "movl 16(%ebp), %ebx		\n" // ebx = err
+	 "movl %ebx, -36(%ebp)		\n" // [-36] = err
+	 "movl 20(%ebp), %eax		\n" //
+	 "movl %eax, -32(%ebp)		\n" // [-32] = nerr
+
+	 "jmp .LoopXa			\n"
+
+".LoopY_1a:				\n"
+
+	 "movl 20(%ebp), %ebx		\n" // ebx = nerr
+	 "movl %ebx, -36(%ebp)		\n" // [-36] = nerr
+	 "movl 16(%ebp), %eax		\n" //
+	 "movl %eax, -32(%ebp)		\n" // [-32] = eerr
+
+	 ".align 16			\n"
+".LoopXa:				\n"
+
+	 // calculate errors and pixel components
+	 
+	 // depend on ebx, esi, mm6
+	 "movq (%ebx), %mm1		\n" // mm1 = error[0..3]
+	 "punpcklbw (%esi), %mm0	\n" // mm0 = image->data[0..3]
+	 "psrlw $8, %mm0		\n" // fixup mm0
+	 "paddusb %mm1, %mm0		\n" // mm0 = mm0 + mm1 (sat. to 255)
+	 "movq %mm0, -24(%ebp)		\n" // save the pixel
+
+	 "movzwl -24(%ebp), %ecx	\n" // ecx = pixel.red
+	 "movl 24(%ebp), %edi		\n" // edi = rtable
+	 //agi
+	 "leal (%edi, %ecx, 2), %eax	\n" // eax = &rtable[pixel.red]
+	 // agi
+	 "movw (%eax), %dx		\n" // dx = rtable[pixel.red]
+	 "movw %dx, -16(%ebp)		\n" // save rr
+
+	 "movzwl -22(%ebp), %ecx	\n" // ecx = pixel.green
+	 "movl 28(%ebp), %edi		\n" // edi = gtable
+	 //agi
+	 "leal (%edi, %ecx, 2), %eax	\n" // eax = &gtable[pixel.green]
+	 //agi
+	 "movw (%eax), %dx		\n" // dx = gtable[pixel.green]
+	 "movw %dx, -14(%ebp)		\n" // save gg
+
+	 "movzwl -20(%ebp), %ecx	\n" // ecx = pixel.blue
+	 "movl 32(%ebp), %edi		\n" // ebx = btable
+	 //agi
+	 "leal (%edi, %ecx, 2), %eax	\n" // eax = &btable[pixel.blue]
+	 //agi
+	 "movw (%eax), %dx		\n" // dx = btable[pixel.blue]
+	 "movw %dx, -12(%ebp)		\n" // save bb
+
+	 "movw $0, -10(%ebp)		\n" // save dummy aa
+
+	 "movq -16(%ebp), %mm1		\n" // load mm1 with rrggbbaa
+	 "pmullw %mm6, %mm1		\n" // mm1 = rr*dr|...
+	 "psubsw %mm1, %mm0		\n" // error = pixel - mm1
+
+	 
+	 // distribute the error
+
+	 // depend on mm0, mm7, mm3, mm4, mm5
+
+	 "movl -36(%ebp), %ebx 		\n"
+
+	 "movq %mm0, %mm1		\n"
+	 "pmullw %mm5, %mm1		\n" // mm1 = mm1*7
+	 "psrlw %mm7, %mm1		\n" // mm1 = mm1/16
+	 "paddw	8(%ebx), %mm1		\n"
+	 "movq %mm1, 8(%ebx)		\n" // err[x+1,y] = rer*7/16
+
+
+	 "movl -32(%ebp), %ebx 		\n"
+
+	 "movq %mm0, %mm1		\n"
+	 "pmullw %mm4, %mm1		\n" // mm1 = mm1*5
+	 "psrlw %mm7, %mm1		\n" // mm1 = mm1/16
+	 "paddw -8(%ebx), %mm1		\n"
+	 "movq %mm1, -8(%ebx)		\n" // err[x-1,y+1] += rer*3/16
+
+	 "movq %mm0, %mm1		\n"
+	 "pmullw %mm3, %mm1		\n" // mm1 = mm1*3
+	 "psrlw %mm7, %mm1		\n" // mm1 = mm1/16
+	 "paddw 8(%ebx), %mm1		\n"
+	 "movq %mm1, (%ebx)		\n" // err[x,y+1] += rer*5/16
+	 
+	 "psrlw %mm7, %mm0		\n" // mm0 = mm0/16
+	 "movq %mm0, 8(%ebx)		\n" // err[x+1,y+1] = rer/16
+
+
+	 // calculate final pixel value and store
+	 "movl 48(%ebp), %ecx		\n"
+	 "movw -16(%ebp), %ax		\n"
+	 "shlw %cl, %ax			\n" //NP* ax = r<<roffs
+	 
+	 "movl 52(%ebp), %ecx		\n"
+	 "movw -14(%ebp), %bx		\n"
+	 "shlw %cl, %bx			\n" //NP*
+	 "orw %bx, %ax			\n"
+	 
+	 "movl 56(%ebp), %ecx		\n"
+	 "movw -12(%ebp), %bx		\n"
+	 "shlw %cl, %bx			\n" //NP*
+	 "orw %bx, %ax			\n"
+
+	 "movl 12(%ebp), %edx		\n"
+	 "movw %ax, (%edx)		\n"
+	 "addl $2, %edx			\n" // increment ximage
+	 "movl %edx, 12(%ebp)		\n"
+	 
+	 // prepare for next iteration on X
+
+	 "addl $8, -32(%ebp)		\n" // nerr += 8
+
+	 "movl -36(%ebp), %ebx		\n"
+	 "addl $8, %ebx			\n"
+	 "movl %ebx, -36(%ebp)		\n" // ebx = err += 8
+	 
+	 
+	 // Note: in the last pixel, this would cause an invalid memory access
+	 // because, punpcklbw is used (which reads 8 bytes) and the last
+	 // pixel is only 4 bytes. This is no problem because the image data
+	 // was allocated with extra 4 bytes when created.
+	 "addl $4, %esi			\n" // image->data += 4
+	 
+
+	 "decl -4(%ebp)			\n" // x--
+	 "jnz .LoopXa			\n" // if x>0, goto .LoopX
+
+
+	 // depend on edx
+	 "addl 68(%ebp), %edx		\n" // add extra offset to ximage
+	 "movl %edx, 12(%ebp)		\n"
+	 
+
+	 "jmp .LoopYa			\n"
+
+".Enda:					\n" // THE END
+	 
+	 "emms				\n"
+
+	 "popal				\n"
+	 );
+}
+
+
+
+
+
+
+void
+x86_mmx_TrueColor_24_to_16(unsigned char *image, // 8
+			   unsigned short *ximage, // 12
+			   short *err, // 16
+			   short *nerr, // 20
+			   short *rtable, // 24
+			   short *gtable, // 28
+			   short *btable, // 32
+			   int dr, // 36
+			   int dg, // 40
+			   int db, // 44
+			   unsigned int roffs, // 48
+			   unsigned int goffs, // 52
+			   unsigned int boffs, // 56
+			   int width, // 60
+			   int height, // 64
+			   int line_offset) // 68
+{
+    /*
+     int x; //-4
+     long long rrggbbaa;// -16
+     long long pixel; //-24
+     short *tmp_err; //-32
+     short *tmp_nerr; //-36
+     * 
+     int w1; // -64
+     int w2; // -68
+     */
+
+    asm volatile
+	(
+	 "subl $128, %esp		\n" // alloc some more stack
+
+	 "pushal       			\n"
+	 
+	 "movl 60(%ebp), %eax		\n" // eax = width
+	 "movl %eax, %ebx		\n"
+	 "shrl $2, %eax			\n"
+	 "movl %eax, -64(%ebp)		\n" // w1 = width / 4
+	 "andl $3, %ebx			\n"
+	 "movl %ebx, -68(%ebp)		\n" // w2 = width % 4
+
+	 
+".LoopYc:				\n"
+	 "movl 60(%ebp), %eax		\n"
+	 "movl %eax, -4(%ebp)		\n" // x = width
+
+	 "decl 64(%ebp)			\n" // height--
+	 "js .Endc			\n" // if height < 0 then end
+
+	 "movl 64(%ebp), %eax		\n"
+	 "decl %eax			\n" // y--
+	 "movl %eax, 64(%ebp)		\n"
+	 "js .Endc			\n" // if y < 0, goto end
+	 "andl $1, %eax			\n"
+	 "jz .LoopY_1c			\n" // if (y&1) goto LoopY_1
+
+".LoopY_0c:				\n"
+
+	 "movl 16(%ebp), %ebx		\n" // ebx = err
+	 "movl %ebx, -36(%ebp)		\n" // [-36] = err
+	 "movl 20(%ebp), %eax		\n" //
+	 "movl %eax, -32(%ebp)		\n" // [-32] = nerr
+
+	 "jmp .LoopX_1c			\n"
+
+".LoopY_1c:				\n"
+
+	 "movl 20(%ebp), %ebx		\n" // ebx = nerr
+	 "movl %ebx, -36(%ebp)		\n" // [-36] = nerr
+	 "movl 16(%ebp), %eax		\n" //
+	 "movl %eax, -32(%ebp)		\n" // [-32] = eerr
+
+	 ".align 16			\n"
+
+	 "movl %eax, -4(%ebp)		\n" // x = w1
+".LoopX_1c:				\n"
+	 "decl -4(%ebp)			\n" // x--
+	 "js .Xend1_c			\n" // if x < 0 then end
+	 
+	 // do conversion of 4 pixels
+	 "movq 16(%ebp), %mm0		\n" // mm0 = err
+
+
+
+	 
+	 "jmp .LoopX_1c			\n"
+".Xend1_c:				\n"
+	 
+	 "movl -68(%ebp), %eax		\n"
+	 "movl %eax, -4(%ebp)		\n" // x = w2	 
+".LoopX_2c:				\n"
+	 "decl -4(%ebp)			\n" // x--
+	 "js .Xend2_c			\n" //
+	 // do conversion
+	 "jmp .LoopX_2c			\n"
+".Xend2_c:				\n"
+
+	 "movl -64(%ebp), %eax		\n"
+	 "jmp .LoopYc			\n"
+
+".Endc:					\n" // THE END
+	 
+	 "emms				\n"
+
+	 "popal				\n"
+	 );
+}
+
+
+
+#endif /* ASM_X86_MMX */
+
+
+
+void
+x86_PseudoColor_32_to_8(unsigned char *image, // 8
+		     unsigned char *ximage, // 12
+		     char *err, // 16
+		     char *nerr, // 20
+		     short *ctable, // 24
+		     int dr, // 28
+		     int dg, // 32
+		     int db, // 36
+		     unsigned long *pixels, // 40
+		     int cpc, // 44
+		     int width, // 48
+		     int height, // 52
+		     int bytesPerPixel, // 56
+		     int line_offset) // 60
+{
+    /*
+     * int x; -4
+     * int cpcpc; -8
+     * 
+     * int rr; -12
+     * int gg; -16
+     * int bb; -20
+     * 
+     * char ndr; -21
+     * char ndg; -22
+     * char ndb; -23
+     * 
+     * char *err; -32
+     * char *nerr; -36
+     * 
+     */
+    asm volatile
+	(
+	 "subl $128, %esp		\n" // alloc some stack space
+	 "pushal       			\n"
+
+	 "movl 44(%ebp), %eax		\n"
+	 "mulb 44(%ebp)			\n"
+	 "movl %eax, -8(%ebp)		\n" // cpcpc = cpc*cpc
+	 
+	 // eax will always be <= 0xffff
+
+	 // process 1 pixel / cycle, each component treated as 16bit
+	 "movl 8(%ebp), %esi		\n" // esi = image->data
+
+".LoopYb:				\n"
+	 "movl 48(%ebp), %ecx		\n"
+	 "movl %ecx, -4(%ebp)		\n" // x = width
+
+	 "movl 52(%ebp), %ecx		\n"
+	 "decl %ecx			\n" // y--
+	 "movl %ecx, 52(%ebp)		\n"
+	 "js .Endb			\n" // if y < 0, goto end
+	 "andl $1, %ecx			\n"
+	 "jz .LoopY_1b			\n" // if (y&1) goto LoopY_1
+
+".LoopY_0b:				\n"
+
+	 "movl 16(%ebp), %ebx		\n" // ebx = err
+//useless "movl %ebx, -36(%ebp)		\n" // [-36] = err
+	 "movl 20(%ebp), %ecx		\n" //
+	 "movl %ecx, -32(%ebp)		\n" // [-32] = nerr
+
+	 "movl $0, (%ecx)		\n" // init error of nerr[0] to 0
+
+	 "jmp .LoopXb			\n"
+
+".LoopY_1b:				\n"
+
+	 "movl 20(%ebp), %ebx		\n" // ebx = nerr
+//useless "movl %ebx, -36(%ebp)		\n" // [-36] = nerr
+	 "movl 16(%ebp), %ecx		\n" //
+	 "movl %ecx, -32(%ebp)		\n" // [-32] = err
+
+	 "movl $0, (%ecx)		\n" // init error of nerr[0] to 0
+
+	 
+	 ".align 16			\n"
+".LoopXb:				\n"
+	 
+
+	 "movl 24(%ebp), %edi		\n" // edi = ctable
+	 "xorl %edx, %edx		\n" // zero the upper word on edx
+
+	 // RED
+
+	 // depends on ebx==err, esi==image->data, edi
+	 "movzbw (%esi), %dx		\n" // dx = image->data[0]
+	 "movsbw (%ebx), %ax		\n" // ax = error[0]
+	 "addw %ax, %dx			\n" // pixel.red = data[0] + error[0]
+
+	 "testb %dh, %dh		\n" // test if pixel.red < 0 or > 255
+	 "jz .OKRb			\n" // 0 <= pixel.red <= 255
+	 "js .NEGRb			\n" // pixel.red < 0
+	 "movw $0xff, %dx		\n" // pixel.red > 255
+	 "jmp .OKRb			\n"
+".NEGRb:				\n"
+	 "xorw %dx, %dx			\n"
+".OKRb:					\n"
+	 //partial reg
+	 "leal (%edi, %edx, 2), %ecx	\n" // ecx = &ctable[pixel.red]
+	 //agi
+	 "movl (%ecx), %eax		\n" // ax = ctable[pixel.red]
+	 "movw %ax, -12(%ebp)		\n" // save rr
+
+	 "mulb 28(%ebp)			\n" // ax = rr*dr
+	 "subw %ax, %dx			\n" // rer = dx = dx - rr*dr
+
+	 "movswl %dx, %eax		\n" // save rer
+
+	 // distribute error
+	 "leal (, %eax, 8), %ecx	\n"
+	 "subw %dx, %cx			\n" // cx = rer * 7
+	 "sarw $4, %cx			\n" // cx = rer * 7 / 16
+	 "addb %cl, 4(%ebx)		\n" // err[x+1] += rer * 7 / 16
+	 
+	 "movl -32(%ebp), %ecx		\n" // ecx = nerr
+	 
+	 "leaw (%eax, %eax, 4), %dx	\n" // dx = rer * 5
+	 "sarw $4, %dx			\n" // dx = rer * 5 / 16
+	 "addb %dl, (%ecx)		\n" // nerr[x] += rer * 5 / 16
+
+	 "leaw (%eax, %eax, 2), %dx	\n" // dx = rer * 3
+	 "sarw $4, %dx			\n" // dx = rer * 3 / 16
+	 "addb %dl, -4(%ecx)		\n" // nerr[x-1] += rer * 3 / 16
+
+	 "sarw $4, %ax			\n" // ax = rer / 16
+	 "movb %al, 4(%ecx)		\n" // nerr[x+1] = rer / 16
+
+	 
+	 // GREEN
+
+	 // depends on ebx, esi, edi
+	 "movzbw 1(%esi), %dx		\n" // dx = image->data[1]
+	 "movsbw 1(%ebx), %ax		\n" // ax = error[1]
+	 "addw %ax, %dx			\n" // pixel.grn = data[1] + error[1]
+
+	 "testb %dh, %dh		\n" // test if pixel.grn < 0 or > 255
+	 "jz .OKGb			\n" // 0 <= pixel.grn <= 255
+	 "js .NEGGb			\n" // pixel.grn < 0
+	 "movw $0xff, %dx		\n" // pixel.grn > 255
+	 "jmp .OKGb			\n"
+".NEGGb:				\n"
+	 "xorw %dx, %dx			\n"
+".OKGb:					\n"
+	 // partial reg
+	 "leal (%edi, %edx, 2), %ecx	\n" // ecx = &ctable[pixel.grn]
+	 //agi
+	 "movw (%ecx), %ax		\n" // ax = ctable[pixel.grn]
+	 "movw %ax, -16(%ebp)		\n" // save gg
+
+	 "mulb 28(%ebp)			\n" // ax = gg*dg
+	 "subw %ax, %dx			\n" // ger = dx = dx - gg*dg
+
+	 "movswl %dx, %eax		\n" // save ger
+
+	 // distribute error
+
+	 "leal (, %eax, 8), %ecx	\n"
+	 "subw %dx, %cx			\n" // cx = ger * 7
+	 "sarw $4, %cx			\n" // cx = ger * 7 / 16
+	 "addb %cl, 5(%ebx)		\n" // err[x+1] += ger * 7 / 16
+	 
+	 "movl -32(%ebp), %ecx		\n" // ecx = nerr
+	 
+	 "leaw (%eax, %eax, 4), %dx	\n" // dx = ger * 5
+	 "sarw $4, %dx			\n" // dx = ger * 5 / 16
+	 "addb %dl, 1(%ecx)		\n" // nerr[x] += ger * 5 / 16
+
+	 "leaw (%eax, %eax, 2), %dx	\n" // dx = ger * 3
+	 "sarw $4, %dx			\n" // dx = ger * 3 / 16
+	 "addb %dl, -3(%ecx)		\n" // nerr[x-1] += ger * 3 / 16
+
+	 "sarw $4, %ax			\n" // ax = ger / 16
+	 "movb %al, 5(%ecx)		\n" // nerr[x+1] = ger / 16
+
+	 
+	 // BLUE
+
+	 // depends on ebx, esi
+	 "movzbw 2(%esi), %dx		\n" // dx = image->data[2]
+	 "movsbw 2(%ebx), %ax		\n" // ax = error[2]
+	 "addw %ax, %dx			\n" // pixel.grn = data[2] + error[2]
+	 
+	 "testb %dh, %dh		\n" // test if pixel.blu < 0 or > 255
+	 "jz .OKBb			\n" // 0 <= pixel.blu <= 255
+	 "js .NEGBb			\n" // pixel.blu < 0
+	 "movw $0xff, %dx		\n" // pixel.blu > 255
+	 "jmp .OKBb			\n"
+".NEGBb:				\n"
+	 "xorw %dx, %dx			\n"
+".OKBb:					\n"
+	 //partial reg
+	 "leal (%edi, %edx, 2), %ecx	\n" // ecx = &ctable[pixel.blu]
+	 //agi
+	 "movw (%ecx), %ax		\n" // ax = ctable[pixel.blu]
+	 "movw %ax, -20(%ebp)		\n" // save bb
+
+	 "mulb 28(%ebp)			\n" // ax = bb*db
+	 "subw %ax, %dx			\n" // ber = dx = dx - bb*db
+	 "movswl %dx, %eax		\n" // save ber
+	 
+	 // distribute error
+	 "leal (, %eax, 8), %ecx	\n"
+	 "subw %dx, %cx			\n" // cx = ber * 7
+	 "sarw $4, %cx			\n" // cx = ber * 7 / 16
+	 "addb %cl, 6(%ebx)		\n" // err[x+1] += ber * 7 / 16
+	 
+	 "movl -32(%ebp), %ecx		\n" // ecx = nerr
+	 
+	 "leaw (%eax, %eax, 4), %dx	\n" // dx = ber * 5
+	 "sarw $4, %dx			\n" // dx = ber * 5 / 16
+	 "addb %dl, 2(%ecx)		\n" // nerr[x] += ber * 5 / 16
+
+	 "leaw (%eax, %eax, 2), %dx	\n" // dx = ber * 3
+	 "sarw $4, %dx			\n" // dx = ber * 3 / 16
+	 "addb %dl, -4(%ecx)		\n" // nerr[x-1] += ber * 3 / 16
+
+	 "sarw $4, %ax			\n" // ax = ber / 16
+	 "movb %al, 6(%ecx)		\n" // nerr[x+1] = ber / 16
+
+	 "andl $0xffff, %eax		\n"
+	 // depends on eax & 0xffff0000 == 0
+	 // calculate the index of the value of the pixel
+	 "movw -12(%ebp), %ax		\n" // ax = rr
+	 "mulb -8(%ebp)			\n" // ax = cpcpc*rr
+	 "movw %ax, %cx			\n"
+	 "movw -16(%ebp), %ax		\n" // ax = gg
+	 "mulb 44(%ebp)			\n" // ax = cpc*gg
+	 "addw %cx, %ax			\n" // ax = cpc*gg + cpcpc*rr
+	 "addw -20(%ebp), %ax		\n" // ax = cpcpc*rr + cpc*gg + bb
+
+	 "movl 40(%ebp), %ecx		\n"
+	 //agi
+	 "leal (%ecx, %eax, 4), %edx	\n"
+	 //agi
+	 "movb (%edx), %cl		\n" // cl = pixels[ax]
+
+	 // store the pixel
+	 "movl 12(%ebp), %eax		\n"
+	 "movb %cl, (%eax)		\n" // *ximage = cl
+	 "incl 12(%ebp)			\n" // ximage++
+
+	 // prepare for next iteration on X
+	 
+	 "addl $4, -32(%ebp)		\n" // nerr += 4
+	 "addl $4, %ebx			\n" // err += 4
+
+	 "addl 56(%ebp), %esi		\n" // image->data += bpp
+
+	 "decl -4(%ebp)			\n" // x--
+	 "jnz .LoopXb			\n" // if x>0, goto .LoopX
+
+	 
+	 "movl 60(%ebp), %eax		\n"
+	 "addl %eax, 12(%ebp)		\n" // add extra offset to ximage
+	 
+	 "jmp .LoopYb			\n"
+
+".Endb:					\n"
+	 
+	 "emms				\n"
+	 "popal				\n"
+	 );
+    
+    
+}
+
+#endif /* ASM_X86 */
diff -Naur WindowMaker-0.80.2/wrlib/xpixmap.c wm-xft2/wrlib/xpixmap.c
--- WindowMaker-0.80.2/wrlib/xpixmap.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/xpixmap.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /* xpixmap.c - Make RImage from Pixmap or XImage
  * 
- *  Raster graphics library
+ * Raster graphics library
  *
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ * Copyright (c) 1997-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
diff -Naur WindowMaker-0.80.2/wrlib/xpm.c wm-xft2/wrlib/xpm.c
--- WindowMaker-0.80.2/wrlib/xpm.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/xpm.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /* xpm.c - load XPM image from file
  * 
- *  Raster graphics library
+ * Raster graphics library
  * 
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ * Copyright (c) 1997-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
diff -Naur WindowMaker-0.80.2/wrlib/xutil.c wm-xft2/wrlib/xutil.c
--- WindowMaker-0.80.2/wrlib/xutil.c	2002-01-08 16:45:34.000000000 +0300
+++ wm-xft2/wrlib/xutil.c	2003-10-22 14:08:38.000000000 +0400
@@ -1,8 +1,8 @@
 /* xutil.c - utility functions for X
  * 
- *  Raster graphics library
+ * Raster graphics library
  *
- *  Copyright (c) 1997-2002 Alfredo K. Kojima
+ * Copyright (c) 1997-2003 Alfredo K. Kojima
  *
  *  This library is free software; you can redistribute it and/or
  *  modify it under the terms of the GNU Library General Public
