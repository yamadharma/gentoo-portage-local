diff --git a/Make.inc b/Make.inc
index da01e38..c751607 100644
--- a/Make.inc
+++ b/Make.inc
@@ -380,3 +380,3 @@ endif
 DEBUGFLAGS := -O0 -ggdb2 -DJL_DEBUG_BUILD -fstack-protector-all
-SHIPFLAGS := -O3 -ggdb2 -falign-functions
+SHIPFLAGS := GENTOOCFLAGS
 endif
@@ -389,5 +389,5 @@ # AArch64 needs this flag to generate the .eh_frame used by libunwind
 JCPPFLAGS := -fasynchronous-unwind-tables
 JCXXFLAGS := -pipe $(fPIC) -fno-rtti -pedantic
 DEBUGFLAGS := -O0 -g -DJL_DEBUG_BUILD -fstack-protector-all
-SHIPFLAGS := -O3 -g
+SHIPFLAGS := GENTOOCFLAGS
 ifeq ($(OS), Darwin)
@@ -416,5 +416,5 @@ JCFLAGS := -std=gnu11 -pipe $(fPIC) -fno-strict-aliasing -D_FILE_OFFSET_BITS=64 -fp-model precise -fp-model except -no-ftz
 JCPPFLAGS :=
 JCXXFLAGS := -pipe $(fPIC) -fno-rtti
 DEBUGFLAGS := -O0 -g -DJL_DEBUG_BUILD -fstack-protector-all
-SHIPFLAGS := -O3 -g -falign-functions
+SHIPFLAGS := GENTOOCFLAGS
 endif
diff --git a/doc/Makefile b/doc/Makefile
index 08ba8dd..078d725 100644
--- a/doc/Makefile
+++ b/doc/Makefile
@@ -64,4 +64,4 @@ 
 clean:
-	-rm -rf _build/*
+	@echo "Do not clean doc/_build/html. Just use it..."
  
 cleanall: clean
diff --git a/src/Makefile b/src/Makefile
index 98fa704..b566791 100644
--- a/src/Makefile
+++ b/src/Makefile
@@ -76,4 +76,4 @@
 LLVMLINK += $(shell $(LLVM_CONFIG_HOST) --ldflags) -lLLVM-$(LLVM_VER_SHORT)
 else
-LLVMLINK += $(shell $(LLVM_CONFIG_HOST) --ldflags) -lLLVM-$(shell $(LLVM_CONFIG_HOST) --version)
+LLVMLINK += $(shell $(LLVM_CONFIG_HOST) --ldflags) -lLLVM
 endif # OS == WINNT
#@@ -26,15 +26,8 @@ endif
# 
# # In LLVM < 3.4, --ldflags includes both options and libraries, so use it both before and after --libs
# # In LLVM >= 3.4, --ldflags has only options, and --system-libs has the libraries.
#-LLVMLINK = $(call exec,$(LLVM_CONFIG) --ldflags) $(call exec,$(LLVM_CONFIG) --libs) $(call exec,$(LLVM_CONFIG) --ldflags) $(call exec,$(LLVM_CONFIG) --system-libs 2> /dev/null)
#-ifeq ($(USE_LLVM_SHLIB),1)
#-ifeq ($(LLVM_USE_CMAKE),1)
#-LLVMLINK = $(call exec,$(LLVM_CONFIG) --ldflags) -lLLVM
#-else
#-LLVMLINK = $(call exec,$(LLVM_CONFIG) --ldflags) -lLLVM-$(call exec,$(LLVM_CONFIG) --version)
#-endif
#+LLVMLINK = $(call exec,$(LLVM_CONFIG) --ldflags) $(call exec,$(LLVM_CONFIG) --libs) $(call exec,$(LLVM_CONFIG) --ldflags) $(call exec,$(LLVM_CONFIG) --system-libs)
# FLAGS += -DLLVM_SHLIB
#-endif
# 
# COMMON_LIBS = -L$(build_shlibdir) -L$(build_libdir) $(LIBUV) $(LIBUTF8PROC) $(NO_WHOLE_ARCHIVE) $(LLVMLINK) $(OSLIBS)
# DEBUG_LIBS = $(WHOLE_ARCHIVE) $(BUILDDIR)/flisp/libflisp-debug.a $(WHOLE_ARCHIVE) $(BUILDDIR)/support/libsupport-debug.a $(COMMON_LIBS)
#diff --git a/ui/Makefile b/ui/Makefile
#index c9b5d0e..557a38c 100644
#--- a/ui/Makefile
#+++ b/ui/Makefile
#@@ -20,15 +20,10 @@ OBJS = $(SRCS:%=%.o)
# DOBJS = $(SRCS:%=%.dbg.obj)
# DEBUGFLAGS += $(FLAGS)
# SHIPFLAGS += $(FLAGS)
#-ifeq ($(USE_LLVM_SHLIB),1)
#-ifeq ($(LLVM_USE_CMAKE),1)
#-LLVMLINK = $(call exec,$(LLVM_CONFIG) --ldflags) -lLLVM
#-else
#-LLVMLINK = $(call exec,$(LLVM_CONFIG) --ldflags) -lLLVM-$(call exec,$(LLVM_CONFIG) --version)
#-endif
#-else
#-LLVMLINK =
#-endif
#+
#+LLVMLINK = $(call exec,$(LLVM_CONFIG) --ldflags) $(call exec,$(LLVM_CONFIG) --libs) $(call exec,$(LLVM_CONFIG) --ldflags) $(call exec,$(LLVM_CONFIG) --system-libs)
#+FLAGS += -DLLVM_SHLIB
#+
# JLDFLAGS += $(LDFLAGS) $(NO_WHOLE_ARCHIVE) $(OSLIBS) $(LLVMLINK) $(RPATH)
# 
# ifeq ($(USE_SYSTEM_LIBM),0)
