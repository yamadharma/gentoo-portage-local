diff -Naur openafs-1.4.5pre5/src/afs/LINUX/osi_probe.c openafs-1.4.5pre5.new/src/afs/LINUX/osi_probe.c
--- openafs-1.4.5pre5/src/afs/LINUX/osi_probe.c	2007-10-26 22:55:21.000000000 +0400
+++ openafs-1.4.5pre5.new/src/afs/LINUX/osi_probe.c	2007-10-26 23:46:26.000000000 +0400
@@ -63,6 +63,9 @@
 #ifdef CONFIG_H_EXISTS
 #include <linux/config.h>
 #endif
+#if defined(AFS_AMD64_LINUX26_ENV) && LINUX_VERSION_CODE >= KERNEL_VERSION(2,6,23)
+#include <asm/asm-offsets.h> 
+#endif
 #include <linux/linkage.h>
 #include <linux/init.h>
 #include <linux/unistd.h>
