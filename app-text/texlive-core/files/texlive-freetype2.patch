--- a/m4/kpse-freetype2-flags.m4	2018-05-09 21:21:35.735585805 -0400
+++ b/m4/kpse-freetype2-flags.m4	2018-05-09 21:57:54.756362396 -0400
@@ -27,11 +27,14 @@
 # ---------------------------
 AC_DEFUN([KPSE_FREETYPE2_SYSTEM_FLAGS], [dnl
 AC_REQUIRE([AC_CANONICAL_HOST])[]dnl
-AC_CHECK_TOOL([FT2_CONFIG], [freetype-config], [false])[]dnl
-if $FT2_CONFIG --ftversion >/dev/null 2>&1; then
-  FREETYPE2_INCLUDES=`$FT2_CONFIG --cflags`
-  FREETYPE2_LIBS=`$FT2_CONFIG --libs`
-elif test "x$need_freetype2:$with_system_freetype2" = xyes:yes; then
-  AC_MSG_ERROR([did not find freetype-config required for system freetype2 library])
+PKG_CHECK_MODULES([FREETYPE2], [freetype2],[FREETYPE2_INCLUDES=$FREETYPE2_CFLAGS],[])
+if test -z FREETYPE2_INCLUDES; then
+  AC_CHECK_TOOL([FT2_CONFIG], [freetype-config], [false])[]dnl
+  if $FT2_CONFIG --ftversion >/dev/null 2>&1; then
+    FREETYPE2_INCLUDES=`$FT2_CONFIG --cflags`
+    FREETYPE2_LIBS=`$FT2_CONFIG --libs`
+  elif test "x$need_freetype2:$with_system_freetype2" = xyes:yes; then
+    AC_MSG_ERROR([did not find freetype-config required for system freetype2 library])
+  fi
 fi
 ]) # KPSE_FREETYPE2_SYSTEM_FLAGS
